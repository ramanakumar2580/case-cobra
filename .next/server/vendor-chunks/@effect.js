"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@effect";
exports.ids = ["vendor-chunks/@effect"];
exports.modules = {

/***/ "(rsc)/./node_modules/@effect/schema/dist/esm/AST.js":
/*!*****************************************************!*\
  !*** ./node_modules/@effect/schema/dist/esm/AST.js ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AnyKeyword: () => (/* binding */ AnyKeyword),\n/* harmony export */   BatchingAnnotationId: () => (/* binding */ BatchingAnnotationId),\n/* harmony export */   BigIntKeyword: () => (/* binding */ BigIntKeyword),\n/* harmony export */   BooleanKeyword: () => (/* binding */ BooleanKeyword),\n/* harmony export */   BrandAnnotationId: () => (/* binding */ BrandAnnotationId),\n/* harmony export */   ComposeTransformation: () => (/* binding */ ComposeTransformation),\n/* harmony export */   ConcurrencyAnnotationId: () => (/* binding */ ConcurrencyAnnotationId),\n/* harmony export */   Declaration: () => (/* binding */ Declaration),\n/* harmony export */   DefaultAnnotationId: () => (/* binding */ DefaultAnnotationId),\n/* harmony export */   DescriptionAnnotationId: () => (/* binding */ DescriptionAnnotationId),\n/* harmony export */   DocumentationAnnotationId: () => (/* binding */ DocumentationAnnotationId),\n/* harmony export */   Enums: () => (/* binding */ Enums),\n/* harmony export */   ExamplesAnnotationId: () => (/* binding */ ExamplesAnnotationId),\n/* harmony export */   FinalTransformation: () => (/* binding */ FinalTransformation),\n/* harmony export */   IdentifierAnnotationId: () => (/* binding */ IdentifierAnnotationId),\n/* harmony export */   IndexSignature: () => (/* binding */ IndexSignature),\n/* harmony export */   JSONSchemaAnnotationId: () => (/* binding */ JSONSchemaAnnotationId),\n/* harmony export */   Literal: () => (/* binding */ Literal),\n/* harmony export */   MessageAnnotationId: () => (/* binding */ MessageAnnotationId),\n/* harmony export */   MissingMessageAnnotationId: () => (/* binding */ MissingMessageAnnotationId),\n/* harmony export */   NeverKeyword: () => (/* binding */ NeverKeyword),\n/* harmony export */   NumberKeyword: () => (/* binding */ NumberKeyword),\n/* harmony export */   ObjectKeyword: () => (/* binding */ ObjectKeyword),\n/* harmony export */   OptionalType: () => (/* binding */ OptionalType),\n/* harmony export */   ParseIssueTitleAnnotationId: () => (/* binding */ ParseIssueTitleAnnotationId),\n/* harmony export */   ParseOptionsAnnotationId: () => (/* binding */ ParseOptionsAnnotationId),\n/* harmony export */   PropertySignature: () => (/* binding */ PropertySignature),\n/* harmony export */   PropertySignatureTransformation: () => (/* binding */ PropertySignatureTransformation),\n/* harmony export */   Refinement: () => (/* binding */ Refinement),\n/* harmony export */   StableFilterAnnotationId: () => (/* binding */ StableFilterAnnotationId),\n/* harmony export */   StringKeyword: () => (/* binding */ StringKeyword),\n/* harmony export */   SurrogateAnnotationId: () => (/* binding */ SurrogateAnnotationId),\n/* harmony export */   Suspend: () => (/* binding */ Suspend),\n/* harmony export */   SymbolKeyword: () => (/* binding */ SymbolKeyword),\n/* harmony export */   TemplateLiteral: () => (/* binding */ TemplateLiteral),\n/* harmony export */   TemplateLiteralSpan: () => (/* binding */ TemplateLiteralSpan),\n/* harmony export */   TitleAnnotationId: () => (/* binding */ TitleAnnotationId),\n/* harmony export */   Transformation: () => (/* binding */ Transformation),\n/* harmony export */   TupleType: () => (/* binding */ TupleType),\n/* harmony export */   Type: () => (/* binding */ Type),\n/* harmony export */   TypeAnnotationId: () => (/* binding */ TypeAnnotationId),\n/* harmony export */   TypeLiteral: () => (/* binding */ TypeLiteral),\n/* harmony export */   TypeLiteralTransformation: () => (/* binding */ TypeLiteralTransformation),\n/* harmony export */   UndefinedKeyword: () => (/* binding */ UndefinedKeyword),\n/* harmony export */   Union: () => (/* binding */ Union),\n/* harmony export */   UniqueSymbol: () => (/* binding */ UniqueSymbol),\n/* harmony export */   UnknownKeyword: () => (/* binding */ UnknownKeyword),\n/* harmony export */   VoidKeyword: () => (/* binding */ VoidKeyword),\n/* harmony export */   annotations: () => (/* binding */ annotations),\n/* harmony export */   anyKeyword: () => (/* binding */ anyKeyword),\n/* harmony export */   bigIntKeyword: () => (/* binding */ bigIntKeyword),\n/* harmony export */   booleanKeyword: () => (/* binding */ booleanKeyword),\n/* harmony export */   compose: () => (/* binding */ compose),\n/* harmony export */   composeTransformation: () => (/* binding */ composeTransformation),\n/* harmony export */   defaultParseOption: () => (/* binding */ defaultParseOption),\n/* harmony export */   encodedAST: () => (/* binding */ encodedAST),\n/* harmony export */   encodedBoundAST: () => (/* binding */ encodedBoundAST),\n/* harmony export */   flatten: () => (/* binding */ flatten),\n/* harmony export */   getAnnotation: () => (/* binding */ getAnnotation),\n/* harmony export */   getBatchingAnnotation: () => (/* binding */ getBatchingAnnotation),\n/* harmony export */   getBrandAnnotation: () => (/* binding */ getBrandAnnotation),\n/* harmony export */   getCardinality: () => (/* binding */ getCardinality),\n/* harmony export */   getCompiler: () => (/* binding */ getCompiler),\n/* harmony export */   getConcurrencyAnnotation: () => (/* binding */ getConcurrencyAnnotation),\n/* harmony export */   getDefaultAnnotation: () => (/* binding */ getDefaultAnnotation),\n/* harmony export */   getDescriptionAnnotation: () => (/* binding */ getDescriptionAnnotation),\n/* harmony export */   getDocumentationAnnotation: () => (/* binding */ getDocumentationAnnotation),\n/* harmony export */   getExamplesAnnotation: () => (/* binding */ getExamplesAnnotation),\n/* harmony export */   getIdentifierAnnotation: () => (/* binding */ getIdentifierAnnotation),\n/* harmony export */   getJSONIdentifier: () => (/* binding */ getJSONIdentifier),\n/* harmony export */   getJSONIdentifierAnnotation: () => (/* binding */ getJSONIdentifierAnnotation),\n/* harmony export */   getJSONSchemaAnnotation: () => (/* binding */ getJSONSchemaAnnotation),\n/* harmony export */   getMessageAnnotation: () => (/* binding */ getMessageAnnotation),\n/* harmony export */   getMissingMessageAnnotation: () => (/* binding */ getMissingMessageAnnotation),\n/* harmony export */   getNumberIndexedAccess: () => (/* binding */ getNumberIndexedAccess),\n/* harmony export */   getParameterBase: () => (/* binding */ getParameterBase),\n/* harmony export */   getParseIssueTitleAnnotation: () => (/* binding */ getParseIssueTitleAnnotation),\n/* harmony export */   getParseOptionsAnnotation: () => (/* binding */ getParseOptionsAnnotation),\n/* harmony export */   getPropertyKeyIndexedAccess: () => (/* binding */ getPropertyKeyIndexedAccess),\n/* harmony export */   getPropertySignatures: () => (/* binding */ getPropertySignatures),\n/* harmony export */   getSurrogateAnnotation: () => (/* binding */ getSurrogateAnnotation),\n/* harmony export */   getTemplateLiteralRegExp: () => (/* binding */ getTemplateLiteralRegExp),\n/* harmony export */   getTitleAnnotation: () => (/* binding */ getTitleAnnotation),\n/* harmony export */   getWeight: () => (/* binding */ getWeight),\n/* harmony export */   isAnyKeyword: () => (/* binding */ isAnyKeyword),\n/* harmony export */   isBigIntKeyword: () => (/* binding */ isBigIntKeyword),\n/* harmony export */   isBooleanKeyword: () => (/* binding */ isBooleanKeyword),\n/* harmony export */   isComposeTransformation: () => (/* binding */ isComposeTransformation),\n/* harmony export */   isDeclaration: () => (/* binding */ isDeclaration),\n/* harmony export */   isEnums: () => (/* binding */ isEnums),\n/* harmony export */   isFinalTransformation: () => (/* binding */ isFinalTransformation),\n/* harmony export */   isLiteral: () => (/* binding */ isLiteral),\n/* harmony export */   isMembers: () => (/* binding */ isMembers),\n/* harmony export */   isNeverKeyword: () => (/* binding */ isNeverKeyword),\n/* harmony export */   isNumberKeyword: () => (/* binding */ isNumberKeyword),\n/* harmony export */   isObjectKeyword: () => (/* binding */ isObjectKeyword),\n/* harmony export */   isParameter: () => (/* binding */ isParameter),\n/* harmony export */   isRefinement: () => (/* binding */ isRefinement),\n/* harmony export */   isStringKeyword: () => (/* binding */ isStringKeyword),\n/* harmony export */   isSuspend: () => (/* binding */ isSuspend),\n/* harmony export */   isSymbolKeyword: () => (/* binding */ isSymbolKeyword),\n/* harmony export */   isTemplateLiteral: () => (/* binding */ isTemplateLiteral),\n/* harmony export */   isTransformation: () => (/* binding */ isTransformation),\n/* harmony export */   isTupleType: () => (/* binding */ isTupleType),\n/* harmony export */   isTypeLiteral: () => (/* binding */ isTypeLiteral),\n/* harmony export */   isTypeLiteralTransformation: () => (/* binding */ isTypeLiteralTransformation),\n/* harmony export */   isUndefinedKeyword: () => (/* binding */ isUndefinedKeyword),\n/* harmony export */   isUnion: () => (/* binding */ isUnion),\n/* harmony export */   isUniqueSymbol: () => (/* binding */ isUniqueSymbol),\n/* harmony export */   isUnknownKeyword: () => (/* binding */ isUnknownKeyword),\n/* harmony export */   isVoidKeyword: () => (/* binding */ isVoidKeyword),\n/* harmony export */   keyof: () => (/* binding */ keyof),\n/* harmony export */   mapMembers: () => (/* binding */ mapMembers),\n/* harmony export */   mutable: () => (/* binding */ mutable),\n/* harmony export */   neverKeyword: () => (/* binding */ neverKeyword),\n/* harmony export */   \"null\": () => (/* binding */ $null),\n/* harmony export */   numberKeyword: () => (/* binding */ numberKeyword),\n/* harmony export */   objectKeyword: () => (/* binding */ objectKeyword),\n/* harmony export */   omit: () => (/* binding */ omit),\n/* harmony export */   orUndefined: () => (/* binding */ orUndefined),\n/* harmony export */   partial: () => (/* binding */ partial),\n/* harmony export */   pick: () => (/* binding */ pick),\n/* harmony export */   preserveAnnotations: () => (/* binding */ preserveAnnotations),\n/* harmony export */   record: () => (/* binding */ record),\n/* harmony export */   rename: () => (/* binding */ rename),\n/* harmony export */   required: () => (/* binding */ required),\n/* harmony export */   stringKeyword: () => (/* binding */ stringKeyword),\n/* harmony export */   symbolKeyword: () => (/* binding */ symbolKeyword),\n/* harmony export */   typeAST: () => (/* binding */ typeAST),\n/* harmony export */   undefinedKeyword: () => (/* binding */ undefinedKeyword),\n/* harmony export */   unify: () => (/* binding */ unify),\n/* harmony export */   unknownKeyword: () => (/* binding */ unknownKeyword),\n/* harmony export */   voidKeyword: () => (/* binding */ voidKeyword)\n/* harmony export */ });\n/* harmony import */ var effect_Array__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! effect/Array */ \"(rsc)/./node_modules/effect/dist/esm/Array.js\");\n/* harmony import */ var effect_Function__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! effect/Function */ \"(rsc)/./node_modules/effect/dist/esm/Function.js\");\n/* harmony import */ var effect_GlobalValue__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! effect/GlobalValue */ \"(rsc)/./node_modules/effect/dist/esm/GlobalValue.js\");\n/* harmony import */ var effect_Number__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! effect/Number */ \"(rsc)/./node_modules/effect/dist/esm/Number.js\");\n/* harmony import */ var effect_Option__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! effect/Option */ \"(rsc)/./node_modules/effect/dist/esm/Option.js\");\n/* harmony import */ var effect_Order__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! effect/Order */ \"(rsc)/./node_modules/effect/dist/esm/Order.js\");\n/* harmony import */ var effect_Predicate__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! effect/Predicate */ \"(rsc)/./node_modules/effect/dist/esm/Predicate.js\");\n/* harmony import */ var effect_RegExp__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! effect/RegExp */ \"(rsc)/./node_modules/effect/dist/esm/RegExp.js\");\n/* harmony import */ var _internal_errors_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./internal/errors.js */ \"(rsc)/./node_modules/@effect/schema/dist/esm/internal/errors.js\");\n/* harmony import */ var _internal_util_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./internal/util.js */ \"(rsc)/./node_modules/@effect/schema/dist/esm/internal/util.js\");\n/**\n * @since 0.67.0\n */\n\n\n\n\n\n\n\n\n\n\n/**\n * @category annotations\n * @since 0.67.0\n */\nconst BrandAnnotationId = /*#__PURE__*/Symbol.for(\"@effect/schema/annotation/Brand\");\n/**\n * @category annotations\n * @since 0.67.0\n */\nconst TypeAnnotationId = /*#__PURE__*/Symbol.for(\"@effect/schema/annotation/Type\");\n/**\n * @category annotations\n * @since 0.67.0\n */\nconst MessageAnnotationId = /*#__PURE__*/Symbol.for(\"@effect/schema/annotation/Message\");\n/**\n * @category annotations\n * @since 0.67.0\n */\nconst MissingMessageAnnotationId = /*#__PURE__*/Symbol.for(\"@effect/schema/annotation/MissingMessage\");\n/**\n * @category annotations\n * @since 0.67.0\n */\nconst IdentifierAnnotationId = /*#__PURE__*/Symbol.for(\"@effect/schema/annotation/Identifier\");\n/**\n * @category annotations\n * @since 0.67.0\n */\nconst TitleAnnotationId = /*#__PURE__*/Symbol.for(\"@effect/schema/annotation/Title\");\n/**\n * @category annotations\n * @since 0.67.0\n */\nconst DescriptionAnnotationId = /*#__PURE__*/Symbol.for(\"@effect/schema/annotation/Description\");\n/**\n * @category annotations\n * @since 0.67.0\n */\nconst ExamplesAnnotationId = /*#__PURE__*/Symbol.for(\"@effect/schema/annotation/Examples\");\n/**\n * @category annotations\n * @since 0.67.0\n */\nconst DefaultAnnotationId = /*#__PURE__*/Symbol.for(\"@effect/schema/annotation/Default\");\n/**\n * @category annotations\n * @since 0.67.0\n */\nconst JSONSchemaAnnotationId = /*#__PURE__*/Symbol.for(\"@effect/schema/annotation/JSONSchema\");\n/**\n * @category annotations\n * @since 0.67.0\n */\nconst DocumentationAnnotationId = /*#__PURE__*/Symbol.for(\"@effect/schema/annotation/Documentation\");\n/**\n * @category annotations\n * @since 0.67.0\n */\nconst ConcurrencyAnnotationId = /*#__PURE__*/Symbol.for(\"@effect/schema/annotation/Concurrency\");\n/**\n * @category annotations\n * @since 0.67.0\n */\nconst BatchingAnnotationId = /*#__PURE__*/Symbol.for(\"@effect/schema/annotation/Batching\");\n/**\n * @category annotations\n * @since 0.67.0\n */\nconst ParseIssueTitleAnnotationId = /*#__PURE__*/Symbol.for(\"@effect/schema/annotation/ParseIssueTitle\");\n/**\n * @category annotations\n * @since 0.68.3\n */\nconst ParseOptionsAnnotationId = /*#__PURE__*/Symbol.for(\"@effect/schema/annotation/ParseOptions\");\n/** @internal */\nconst SurrogateAnnotationId = /*#__PURE__*/Symbol.for(\"@effect/schema/annotation/Surrogate\");\n/** @internal */\nconst StableFilterAnnotationId = /*#__PURE__*/Symbol.for(\"@effect/schema/annotation/StableFilter\");\n/**\n * @category annotations\n * @since 0.67.0\n */\nconst getAnnotation = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_0__.dual)(2, (annotated, key) => Object.prototype.hasOwnProperty.call(annotated.annotations, key) ? effect_Option__WEBPACK_IMPORTED_MODULE_1__.some(annotated.annotations[key]) : effect_Option__WEBPACK_IMPORTED_MODULE_1__.none());\n/**\n * @category annotations\n * @since 0.67.0\n */\nconst getBrandAnnotation = /*#__PURE__*/getAnnotation(BrandAnnotationId);\n/**\n * @category annotations\n * @since 0.67.0\n */\nconst getMessageAnnotation = /*#__PURE__*/getAnnotation(MessageAnnotationId);\n/**\n * @category annotations\n * @since 0.67.0\n */\nconst getMissingMessageAnnotation = /*#__PURE__*/getAnnotation(MissingMessageAnnotationId);\n/**\n * @category annotations\n * @since 0.67.0\n */\nconst getTitleAnnotation = /*#__PURE__*/getAnnotation(TitleAnnotationId);\n/**\n * @category annotations\n * @since 0.67.0\n */\nconst getIdentifierAnnotation = /*#__PURE__*/getAnnotation(IdentifierAnnotationId);\n/**\n * @category annotations\n * @since 0.67.0\n */\nconst getDescriptionAnnotation = /*#__PURE__*/getAnnotation(DescriptionAnnotationId);\n/**\n * @category annotations\n * @since 0.67.0\n */\nconst getExamplesAnnotation = /*#__PURE__*/getAnnotation(ExamplesAnnotationId);\n/**\n * @category annotations\n * @since 0.67.0\n */\nconst getDefaultAnnotation = /*#__PURE__*/getAnnotation(DefaultAnnotationId);\n/**\n * @category annotations\n * @since 0.67.0\n */\nconst getJSONSchemaAnnotation = /*#__PURE__*/getAnnotation(JSONSchemaAnnotationId);\n/**\n * @category annotations\n * @since 0.67.0\n */\nconst getDocumentationAnnotation = /*#__PURE__*/getAnnotation(DocumentationAnnotationId);\n/**\n * @category annotations\n * @since 0.67.0\n */\nconst getConcurrencyAnnotation = /*#__PURE__*/getAnnotation(ConcurrencyAnnotationId);\n/**\n * @category annotations\n * @since 0.67.0\n */\nconst getBatchingAnnotation = /*#__PURE__*/getAnnotation(BatchingAnnotationId);\n/**\n * @category annotations\n * @since 0.67.0\n */\nconst getParseIssueTitleAnnotation = /*#__PURE__*/getAnnotation(ParseIssueTitleAnnotationId);\n/**\n * @category annotations\n * @since 0.68.3\n */\nconst getParseOptionsAnnotation = /*#__PURE__*/getAnnotation(ParseOptionsAnnotationId);\n/** @internal */\nconst getSurrogateAnnotation = /*#__PURE__*/getAnnotation(SurrogateAnnotationId);\nconst getStableFilterAnnotation = /*#__PURE__*/getAnnotation(StableFilterAnnotationId);\nconst JSONIdentifierAnnotationId = /*#__PURE__*/Symbol.for(\"@effect/schema/annotation/JSONIdentifier\");\n/** @internal */\nconst getJSONIdentifierAnnotation = /*#__PURE__*/getAnnotation(JSONIdentifierAnnotationId);\n/**\n * @category model\n * @since 0.67.0\n */\nclass Declaration {\n  typeParameters;\n  decodeUnknown;\n  encodeUnknown;\n  annotations;\n  /**\n   * @since 0.67.0\n   */\n  _tag = \"Declaration\";\n  constructor(typeParameters, decodeUnknown, encodeUnknown, annotations = {}) {\n    this.typeParameters = typeParameters;\n    this.decodeUnknown = decodeUnknown;\n    this.encodeUnknown = encodeUnknown;\n    this.annotations = annotations;\n  }\n  /**\n   * @since 0.67.0\n   */\n  toString() {\n    return effect_Option__WEBPACK_IMPORTED_MODULE_1__.getOrElse(getExpected(this), () => \"<declaration schema>\");\n  }\n  /**\n   * @since 0.67.0\n   */\n  toJSON() {\n    return {\n      _tag: this._tag,\n      typeParameters: this.typeParameters.map(ast => ast.toJSON()),\n      annotations: toJSONAnnotations(this.annotations)\n    };\n  }\n}\nconst createASTGuard = tag => ast => ast._tag === tag;\n/**\n * @category guards\n * @since 0.67.0\n */\nconst isDeclaration = /*#__PURE__*/createASTGuard(\"Declaration\");\n/**\n * @category model\n * @since 0.67.0\n */\nclass Literal {\n  literal;\n  annotations;\n  /**\n   * @since 0.67.0\n   */\n  _tag = \"Literal\";\n  constructor(literal, annotations = {}) {\n    this.literal = literal;\n    this.annotations = annotations;\n  }\n  /**\n   * @since 0.67.0\n   */\n  toString() {\n    return effect_Option__WEBPACK_IMPORTED_MODULE_1__.getOrElse(getExpected(this), () => _internal_util_js__WEBPACK_IMPORTED_MODULE_2__.formatUnknown(this.literal));\n  }\n  /**\n   * @since 0.67.0\n   */\n  toJSON() {\n    return {\n      _tag: this._tag,\n      literal: effect_Predicate__WEBPACK_IMPORTED_MODULE_3__.isBigInt(this.literal) ? String(this.literal) : this.literal,\n      annotations: toJSONAnnotations(this.annotations)\n    };\n  }\n}\n/**\n * @category guards\n * @since 0.67.0\n */\nconst isLiteral = /*#__PURE__*/createASTGuard(\"Literal\");\nconst $null = /*#__PURE__*/new Literal(null, {\n  [IdentifierAnnotationId]: \"null\"\n});\n\n/**\n * @category model\n * @since 0.67.0\n */\nclass UniqueSymbol {\n  symbol;\n  annotations;\n  /**\n   * @since 0.67.0\n   */\n  _tag = \"UniqueSymbol\";\n  constructor(symbol, annotations = {}) {\n    this.symbol = symbol;\n    this.annotations = annotations;\n  }\n  /**\n   * @since 0.67.0\n   */\n  toString() {\n    return effect_Option__WEBPACK_IMPORTED_MODULE_1__.getOrElse(getExpected(this), () => _internal_util_js__WEBPACK_IMPORTED_MODULE_2__.formatUnknown(this.symbol));\n  }\n  /**\n   * @since 0.67.0\n   */\n  toJSON() {\n    return {\n      _tag: this._tag,\n      symbol: String(this.symbol),\n      annotations: toJSONAnnotations(this.annotations)\n    };\n  }\n}\n/**\n * @category guards\n * @since 0.67.0\n */\nconst isUniqueSymbol = /*#__PURE__*/createASTGuard(\"UniqueSymbol\");\n/**\n * @category model\n * @since 0.67.0\n */\nclass UndefinedKeyword {\n  annotations;\n  /**\n   * @since 0.67.0\n   */\n  _tag = \"UndefinedKeyword\";\n  constructor(annotations = {}) {\n    this.annotations = annotations;\n  }\n  /**\n   * @since 0.67.0\n   */\n  toString() {\n    return formatKeyword(this);\n  }\n  /**\n   * @since 0.67.0\n   */\n  toJSON() {\n    return {\n      _tag: this._tag,\n      annotations: toJSONAnnotations(this.annotations)\n    };\n  }\n}\n/**\n * @category constructors\n * @since 0.67.0\n */\nconst undefinedKeyword = /*#__PURE__*/new UndefinedKeyword({\n  [TitleAnnotationId]: \"undefined\"\n});\n/**\n * @category guards\n * @since 0.67.0\n */\nconst isUndefinedKeyword = /*#__PURE__*/createASTGuard(\"UndefinedKeyword\");\n/**\n * @category model\n * @since 0.67.0\n */\nclass VoidKeyword {\n  annotations;\n  /**\n   * @since 0.67.0\n   */\n  _tag = \"VoidKeyword\";\n  constructor(annotations = {}) {\n    this.annotations = annotations;\n  }\n  /**\n   * @since 0.67.0\n   */\n  toString() {\n    return formatKeyword(this);\n  }\n  /**\n   * @since 0.67.0\n   */\n  toJSON() {\n    return {\n      _tag: this._tag,\n      annotations: toJSONAnnotations(this.annotations)\n    };\n  }\n}\n/**\n * @category constructors\n * @since 0.67.0\n */\nconst voidKeyword = /*#__PURE__*/new VoidKeyword({\n  [TitleAnnotationId]: \"void\"\n});\n/**\n * @category guards\n * @since 0.67.0\n */\nconst isVoidKeyword = /*#__PURE__*/createASTGuard(\"VoidKeyword\");\n/**\n * @category model\n * @since 0.67.0\n */\nclass NeverKeyword {\n  annotations;\n  /**\n   * @since 0.67.0\n   */\n  _tag = \"NeverKeyword\";\n  constructor(annotations = {}) {\n    this.annotations = annotations;\n  }\n  /**\n   * @since 0.67.0\n   */\n  toString() {\n    return formatKeyword(this);\n  }\n  /**\n   * @since 0.67.0\n   */\n  toJSON() {\n    return {\n      _tag: this._tag,\n      annotations: toJSONAnnotations(this.annotations)\n    };\n  }\n}\n/**\n * @category constructors\n * @since 0.67.0\n */\nconst neverKeyword = /*#__PURE__*/new NeverKeyword({\n  [TitleAnnotationId]: \"never\"\n});\n/**\n * @category guards\n * @since 0.67.0\n */\nconst isNeverKeyword = /*#__PURE__*/createASTGuard(\"NeverKeyword\");\n/**\n * @category model\n * @since 0.67.0\n */\nclass UnknownKeyword {\n  annotations;\n  /**\n   * @since 0.67.0\n   */\n  _tag = \"UnknownKeyword\";\n  constructor(annotations = {}) {\n    this.annotations = annotations;\n  }\n  /**\n   * @since 0.67.0\n   */\n  toString() {\n    return formatKeyword(this);\n  }\n  /**\n   * @since 0.67.0\n   */\n  toJSON() {\n    return {\n      _tag: this._tag,\n      annotations: toJSONAnnotations(this.annotations)\n    };\n  }\n}\n/**\n * @category constructors\n * @since 0.67.0\n */\nconst unknownKeyword = /*#__PURE__*/new UnknownKeyword({\n  [TitleAnnotationId]: \"unknown\"\n});\n/**\n * @category guards\n * @since 0.67.0\n */\nconst isUnknownKeyword = /*#__PURE__*/createASTGuard(\"UnknownKeyword\");\n/**\n * @category model\n * @since 0.67.0\n */\nclass AnyKeyword {\n  annotations;\n  /**\n   * @since 0.67.0\n   */\n  _tag = \"AnyKeyword\";\n  constructor(annotations = {}) {\n    this.annotations = annotations;\n  }\n  /**\n   * @since 0.67.0\n   */\n  toString() {\n    return formatKeyword(this);\n  }\n  /**\n   * @since 0.67.0\n   */\n  toJSON() {\n    return {\n      _tag: this._tag,\n      annotations: toJSONAnnotations(this.annotations)\n    };\n  }\n}\n/**\n * @category constructors\n * @since 0.67.0\n */\nconst anyKeyword = /*#__PURE__*/new AnyKeyword({\n  [TitleAnnotationId]: \"any\"\n});\n/**\n * @category guards\n * @since 0.67.0\n */\nconst isAnyKeyword = /*#__PURE__*/createASTGuard(\"AnyKeyword\");\n/**\n * @category model\n * @since 0.67.0\n */\nclass StringKeyword {\n  annotations;\n  /**\n   * @since 0.67.0\n   */\n  _tag = \"StringKeyword\";\n  constructor(annotations = {}) {\n    this.annotations = annotations;\n  }\n  /**\n   * @since 0.67.0\n   */\n  toString() {\n    return formatKeyword(this);\n  }\n  /**\n   * @since 0.67.0\n   */\n  toJSON() {\n    return {\n      _tag: this._tag,\n      annotations: toJSONAnnotations(this.annotations)\n    };\n  }\n}\n/**\n * @category constructors\n * @since 0.67.0\n */\nconst stringKeyword = /*#__PURE__*/new StringKeyword({\n  [TitleAnnotationId]: \"string\",\n  [DescriptionAnnotationId]: \"a string\"\n});\n/**\n * @category guards\n * @since 0.67.0\n */\nconst isStringKeyword = /*#__PURE__*/createASTGuard(\"StringKeyword\");\n/**\n * @category model\n * @since 0.67.0\n */\nclass NumberKeyword {\n  annotations;\n  /**\n   * @since 0.67.0\n   */\n  _tag = \"NumberKeyword\";\n  constructor(annotations = {}) {\n    this.annotations = annotations;\n  }\n  /**\n   * @since 0.67.0\n   */\n  toString() {\n    return formatKeyword(this);\n  }\n  /**\n   * @since 0.67.0\n   */\n  toJSON() {\n    return {\n      _tag: this._tag,\n      annotations: toJSONAnnotations(this.annotations)\n    };\n  }\n}\n/**\n * @category constructors\n * @since 0.67.0\n */\nconst numberKeyword = /*#__PURE__*/new NumberKeyword({\n  [TitleAnnotationId]: \"number\",\n  [DescriptionAnnotationId]: \"a number\"\n});\n/**\n * @category guards\n * @since 0.67.0\n */\nconst isNumberKeyword = /*#__PURE__*/createASTGuard(\"NumberKeyword\");\n/**\n * @category model\n * @since 0.67.0\n */\nclass BooleanKeyword {\n  annotations;\n  /**\n   * @since 0.67.0\n   */\n  _tag = \"BooleanKeyword\";\n  constructor(annotations = {}) {\n    this.annotations = annotations;\n  }\n  /**\n   * @since 0.67.0\n   */\n  toString() {\n    return formatKeyword(this);\n  }\n  /**\n   * @since 0.67.0\n   */\n  toJSON() {\n    return {\n      _tag: this._tag,\n      annotations: toJSONAnnotations(this.annotations)\n    };\n  }\n}\n/**\n * @category constructors\n * @since 0.67.0\n */\nconst booleanKeyword = /*#__PURE__*/new BooleanKeyword({\n  [TitleAnnotationId]: \"boolean\",\n  [DescriptionAnnotationId]: \"a boolean\"\n});\n/**\n * @category guards\n * @since 0.67.0\n */\nconst isBooleanKeyword = /*#__PURE__*/createASTGuard(\"BooleanKeyword\");\n/**\n * @category model\n * @since 0.67.0\n */\nclass BigIntKeyword {\n  annotations;\n  /**\n   * @since 0.67.0\n   */\n  _tag = \"BigIntKeyword\";\n  constructor(annotations = {}) {\n    this.annotations = annotations;\n  }\n  /**\n   * @since 0.67.0\n   */\n  toString() {\n    return formatKeyword(this);\n  }\n  /**\n   * @since 0.67.0\n   */\n  toJSON() {\n    return {\n      _tag: this._tag,\n      annotations: toJSONAnnotations(this.annotations)\n    };\n  }\n}\n/**\n * @category constructors\n * @since 0.67.0\n */\nconst bigIntKeyword = /*#__PURE__*/new BigIntKeyword({\n  [TitleAnnotationId]: \"bigint\",\n  [DescriptionAnnotationId]: \"a bigint\"\n});\n/**\n * @category guards\n * @since 0.67.0\n */\nconst isBigIntKeyword = /*#__PURE__*/createASTGuard(\"BigIntKeyword\");\n/**\n * @category model\n * @since 0.67.0\n */\nclass SymbolKeyword {\n  annotations;\n  /**\n   * @since 0.67.0\n   */\n  _tag = \"SymbolKeyword\";\n  constructor(annotations = {}) {\n    this.annotations = annotations;\n  }\n  /**\n   * @since 0.67.0\n   */\n  toString() {\n    return formatKeyword(this);\n  }\n  /**\n   * @since 0.67.0\n   */\n  toJSON() {\n    return {\n      _tag: this._tag,\n      annotations: toJSONAnnotations(this.annotations)\n    };\n  }\n}\n/**\n * @category constructors\n * @since 0.67.0\n */\nconst symbolKeyword = /*#__PURE__*/new SymbolKeyword({\n  [TitleAnnotationId]: \"symbol\",\n  [DescriptionAnnotationId]: \"a symbol\"\n});\n/**\n * @category guards\n * @since 0.67.0\n */\nconst isSymbolKeyword = /*#__PURE__*/createASTGuard(\"SymbolKeyword\");\n/**\n * @category model\n * @since 0.67.0\n */\nclass ObjectKeyword {\n  annotations;\n  /**\n   * @since 0.67.0\n   */\n  _tag = \"ObjectKeyword\";\n  constructor(annotations = {}) {\n    this.annotations = annotations;\n  }\n  /**\n   * @since 0.67.0\n   */\n  toString() {\n    return formatKeyword(this);\n  }\n  /**\n   * @since 0.67.0\n   */\n  toJSON() {\n    return {\n      _tag: this._tag,\n      annotations: toJSONAnnotations(this.annotations)\n    };\n  }\n}\n/**\n * @category constructors\n * @since 0.67.0\n */\nconst objectKeyword = /*#__PURE__*/new ObjectKeyword({\n  [IdentifierAnnotationId]: \"object\",\n  [TitleAnnotationId]: \"object\",\n  [DescriptionAnnotationId]: \"an object in the TypeScript meaning, i.e. the `object` type\"\n});\n/**\n * @category guards\n * @since 0.67.0\n */\nconst isObjectKeyword = /*#__PURE__*/createASTGuard(\"ObjectKeyword\");\n/**\n * @category model\n * @since 0.67.0\n */\nclass Enums {\n  enums;\n  annotations;\n  /**\n   * @since 0.67.0\n   */\n  _tag = \"Enums\";\n  constructor(enums, annotations = {}) {\n    this.enums = enums;\n    this.annotations = annotations;\n  }\n  /**\n   * @since 0.67.0\n   */\n  toString() {\n    return effect_Option__WEBPACK_IMPORTED_MODULE_1__.getOrElse(getExpected(this), () => `<enum ${this.enums.length} value(s): ${this.enums.map((_, value) => JSON.stringify(value)).join(\" | \")}>`);\n  }\n  /**\n   * @since 0.67.0\n   */\n  toJSON() {\n    return {\n      _tag: this._tag,\n      enums: this.enums,\n      annotations: toJSONAnnotations(this.annotations)\n    };\n  }\n}\n/**\n * @category guards\n * @since 0.67.0\n */\nconst isEnums = /*#__PURE__*/createASTGuard(\"Enums\");\n/**\n * @category model\n * @since 0.67.0\n */\nclass TemplateLiteralSpan {\n  type;\n  literal;\n  constructor(type, literal) {\n    this.type = type;\n    this.literal = literal;\n  }\n  /**\n   * @since 0.67.0\n   */\n  toString() {\n    switch (this.type._tag) {\n      case \"StringKeyword\":\n        return \"${string}\";\n      case \"NumberKeyword\":\n        return \"${number}\";\n    }\n  }\n  /**\n   * @since 0.67.0\n   */\n  toJSON() {\n    return {\n      type: this.type.toJSON(),\n      literal: this.literal\n    };\n  }\n}\n/**\n * @category model\n * @since 0.67.0\n */\nclass TemplateLiteral {\n  head;\n  spans;\n  annotations;\n  /**\n   * @since 0.67.0\n   */\n  _tag = \"TemplateLiteral\";\n  constructor(head, spans, annotations = {}) {\n    this.head = head;\n    this.spans = spans;\n    this.annotations = annotations;\n  }\n  /**\n   * @since 0.67.0\n   */\n  toString() {\n    return effect_Option__WEBPACK_IMPORTED_MODULE_1__.getOrElse(getExpected(this), () => formatTemplateLiteral(this));\n  }\n  /**\n   * @since 0.67.0\n   */\n  toJSON() {\n    return {\n      _tag: this._tag,\n      head: this.head,\n      spans: this.spans.map(span => span.toJSON()),\n      annotations: toJSONAnnotations(this.annotations)\n    };\n  }\n}\nconst formatTemplateLiteral = ast => \"`\" + ast.head + ast.spans.map(span => String(span) + span.literal).join(\"\") + \"`\";\n/**\n * @category guards\n * @since 0.67.0\n */\nconst isTemplateLiteral = /*#__PURE__*/createASTGuard(\"TemplateLiteral\");\n/**\n * @category model\n * @since 0.68.0\n */\nclass Type {\n  type;\n  annotations;\n  constructor(type, annotations = {}) {\n    this.type = type;\n    this.annotations = annotations;\n  }\n  /**\n   * @since 0.68.0\n   */\n  toJSON() {\n    return {\n      type: this.type.toJSON(),\n      annotations: toJSONAnnotations(this.annotations)\n    };\n  }\n  /**\n   * @since 0.68.0\n   */\n  toString() {\n    return String(this.type);\n  }\n}\n/**\n * @category model\n * @since 0.68.0\n */\nclass OptionalType extends Type {\n  isOptional;\n  constructor(type, isOptional, annotations = {}) {\n    super(type, annotations);\n    this.isOptional = isOptional;\n  }\n  /**\n   * @since 0.68.0\n   */\n  toJSON() {\n    return {\n      type: this.type.toJSON(),\n      isOptional: this.isOptional,\n      annotations: toJSONAnnotations(this.annotations)\n    };\n  }\n  /**\n   * @since 0.68.0\n   */\n  toString() {\n    return String(this.type) + (this.isOptional ? \"?\" : \"\");\n  }\n}\nconst getRestASTs = rest => rest.map(annotatedAST => annotatedAST.type);\n/**\n * @category model\n * @since 0.67.0\n */\nclass TupleType {\n  elements;\n  rest;\n  isReadonly;\n  annotations;\n  /**\n   * @since 0.67.0\n   */\n  _tag = \"TupleType\";\n  constructor(elements, rest, isReadonly, annotations = {}) {\n    this.elements = elements;\n    this.rest = rest;\n    this.isReadonly = isReadonly;\n    this.annotations = annotations;\n    let hasOptionalElement = false;\n    let hasIllegalRequiredElement = false;\n    for (const e of elements) {\n      if (e.isOptional) {\n        hasOptionalElement = true;\n      } else if (hasOptionalElement) {\n        hasIllegalRequiredElement = true;\n        break;\n      }\n    }\n    if (hasIllegalRequiredElement || hasOptionalElement && rest.length > 1) {\n      throw new Error(_internal_errors_js__WEBPACK_IMPORTED_MODULE_4__.getASTRequiredElementFollowinAnOptionalElementErrorMessage);\n    }\n  }\n  /**\n   * @since 0.67.0\n   */\n  toString() {\n    return effect_Option__WEBPACK_IMPORTED_MODULE_1__.getOrElse(getExpected(this), () => formatTuple(this));\n  }\n  /**\n   * @since 0.67.0\n   */\n  toJSON() {\n    return {\n      _tag: this._tag,\n      elements: this.elements.map(e => e.toJSON()),\n      rest: this.rest.map(ast => ast.toJSON()),\n      isReadonly: this.isReadonly,\n      annotations: toJSONAnnotations(this.annotations)\n    };\n  }\n}\nconst formatTuple = ast => {\n  const formattedElements = ast.elements.map(String).join(\", \");\n  return effect_Array__WEBPACK_IMPORTED_MODULE_5__.matchLeft(ast.rest, {\n    onEmpty: () => `readonly [${formattedElements}]`,\n    onNonEmpty: (head, tail) => {\n      const formattedHead = String(head);\n      const wrappedHead = formattedHead.includes(\" | \") ? `(${formattedHead})` : formattedHead;\n      if (tail.length > 0) {\n        const formattedTail = tail.map(String).join(\", \");\n        if (ast.elements.length > 0) {\n          return `readonly [${formattedElements}, ...${wrappedHead}[], ${formattedTail}]`;\n        } else {\n          return `readonly [...${wrappedHead}[], ${formattedTail}]`;\n        }\n      } else {\n        if (ast.elements.length > 0) {\n          return `readonly [${formattedElements}, ...${wrappedHead}[]]`;\n        } else {\n          return `ReadonlyArray<${formattedHead}>`;\n        }\n      }\n    }\n  });\n};\n/**\n * @category guards\n * @since 0.67.0\n */\nconst isTupleType = /*#__PURE__*/createASTGuard(\"TupleType\");\n/**\n * @category model\n * @since 0.67.0\n */\nclass PropertySignature extends OptionalType {\n  name;\n  isReadonly;\n  constructor(name, type, isOptional, isReadonly, annotations) {\n    super(type, isOptional, annotations);\n    this.name = name;\n    this.isReadonly = isReadonly;\n  }\n  /**\n   * @since 0.68.18\n   */\n  toString() {\n    return (this.isReadonly ? \"readonly \" : \"\") + String(this.name) + (this.isOptional ? \"?\" : \"\") + \": \" + this.type;\n  }\n  /**\n   * @since 0.67.0\n   */\n  toJSON() {\n    return {\n      name: String(this.name),\n      type: this.type.toJSON(),\n      isOptional: this.isOptional,\n      isReadonly: this.isReadonly,\n      annotations: toJSONAnnotations(this.annotations)\n    };\n  }\n}\n/**\n * @since 0.67.0\n */\nconst isParameter = ast => {\n  switch (ast._tag) {\n    case \"StringKeyword\":\n    case \"SymbolKeyword\":\n    case \"TemplateLiteral\":\n      return true;\n    case \"Refinement\":\n      return isParameter(ast.from);\n  }\n  return false;\n};\n/**\n * @category model\n * @since 0.67.0\n */\nclass IndexSignature {\n  type;\n  isReadonly;\n  /**\n   * @since 0.67.0\n   */\n  parameter;\n  constructor(parameter, type, isReadonly) {\n    this.type = type;\n    this.isReadonly = isReadonly;\n    if (isParameter(parameter)) {\n      this.parameter = parameter;\n    } else {\n      throw new Error(_internal_errors_js__WEBPACK_IMPORTED_MODULE_4__.getASTIndexSignatureParameterErrorMessage);\n    }\n  }\n  /**\n   * @since 0.68.18\n   */\n  toString() {\n    return (this.isReadonly ? \"readonly \" : \"\") + `[x: ${this.parameter}]: ${this.type}`;\n  }\n  /**\n   * @since 0.67.0\n   */\n  toJSON() {\n    return {\n      parameter: this.parameter.toJSON(),\n      type: this.type.toJSON(),\n      isReadonly: this.isReadonly\n    };\n  }\n}\n/**\n * @category model\n * @since 0.67.0\n */\nclass TypeLiteral {\n  annotations;\n  /**\n   * @since 0.67.0\n   */\n  _tag = \"TypeLiteral\";\n  /**\n   * @since 0.67.0\n   */\n  propertySignatures;\n  /**\n   * @since 0.67.0\n   */\n  indexSignatures;\n  constructor(propertySignatures, indexSignatures, annotations = {}) {\n    this.annotations = annotations;\n    // check for duplicate property signatures\n    const keys = {};\n    for (let i = 0; i < propertySignatures.length; i++) {\n      const name = propertySignatures[i].name;\n      if (Object.prototype.hasOwnProperty.call(keys, name)) {\n        throw new Error(_internal_errors_js__WEBPACK_IMPORTED_MODULE_4__.getASTDuplicatePropertySignatureErrorMessage(name));\n      }\n      keys[name] = null;\n    }\n    // check for duplicate index signatures\n    const parameters = {\n      string: false,\n      symbol: false\n    };\n    for (let i = 0; i < indexSignatures.length; i++) {\n      const parameter = getParameterBase(indexSignatures[i].parameter);\n      if (isStringKeyword(parameter)) {\n        if (parameters.string) {\n          throw new Error(_internal_errors_js__WEBPACK_IMPORTED_MODULE_4__.getASTDuplicateIndexSignatureErrorMessage(\"string\"));\n        }\n        parameters.string = true;\n      } else if (isSymbolKeyword(parameter)) {\n        if (parameters.symbol) {\n          throw new Error(_internal_errors_js__WEBPACK_IMPORTED_MODULE_4__.getASTDuplicateIndexSignatureErrorMessage(\"symbol\"));\n        }\n        parameters.symbol = true;\n      }\n    }\n    this.propertySignatures = sortPropertySignatures(propertySignatures);\n    this.indexSignatures = sortIndexSignatures(indexSignatures);\n  }\n  /**\n   * @since 0.67.0\n   */\n  toString() {\n    return effect_Option__WEBPACK_IMPORTED_MODULE_1__.getOrElse(getExpected(this), () => formatTypeLiteral(this));\n  }\n  /**\n   * @since 0.67.0\n   */\n  toJSON() {\n    return {\n      _tag: this._tag,\n      propertySignatures: this.propertySignatures.map(ps => ps.toJSON()),\n      indexSignatures: this.indexSignatures.map(ps => ps.toJSON()),\n      annotations: toJSONAnnotations(this.annotations)\n    };\n  }\n}\nconst formatIndexSignatures = iss => iss.map(String).join(\"; \");\nconst formatTypeLiteral = ast => {\n  if (ast.propertySignatures.length > 0) {\n    const pss = ast.propertySignatures.map(String).join(\"; \");\n    if (ast.indexSignatures.length > 0) {\n      return `{ ${pss}; ${formatIndexSignatures(ast.indexSignatures)} }`;\n    } else {\n      return `{ ${pss} }`;\n    }\n  } else {\n    if (ast.indexSignatures.length > 0) {\n      return `{ ${formatIndexSignatures(ast.indexSignatures)} }`;\n    } else {\n      return \"{}\";\n    }\n  }\n};\n/**\n * @category guards\n * @since 0.67.0\n */\nconst isTypeLiteral = /*#__PURE__*/createASTGuard(\"TypeLiteral\");\nconst removeNevers = candidates => candidates.filter(ast => !(ast === neverKeyword));\nconst sortCandidates = /*#__PURE__*/effect_Array__WEBPACK_IMPORTED_MODULE_5__.sort( /*#__PURE__*/effect_Order__WEBPACK_IMPORTED_MODULE_6__.mapInput(effect_Number__WEBPACK_IMPORTED_MODULE_7__.Order, ast => {\n  switch (ast._tag) {\n    case \"AnyKeyword\":\n      return 0;\n    case \"UnknownKeyword\":\n      return 1;\n    case \"ObjectKeyword\":\n      return 2;\n    case \"StringKeyword\":\n    case \"NumberKeyword\":\n    case \"BooleanKeyword\":\n    case \"BigIntKeyword\":\n    case \"SymbolKeyword\":\n      return 3;\n  }\n  return 4;\n}));\nconst literalMap = {\n  string: \"StringKeyword\",\n  number: \"NumberKeyword\",\n  boolean: \"BooleanKeyword\",\n  bigint: \"BigIntKeyword\"\n};\n/** @internal */\nconst flatten = candidates => effect_Array__WEBPACK_IMPORTED_MODULE_5__.flatMap(candidates, ast => isUnion(ast) ? flatten(ast.types) : [ast]);\n/** @internal */\nconst unify = candidates => {\n  const cs = sortCandidates(candidates);\n  const out = [];\n  const uniques = {};\n  const literals = [];\n  for (const ast of cs) {\n    switch (ast._tag) {\n      case \"NeverKeyword\":\n        break;\n      case \"AnyKeyword\":\n        return [anyKeyword];\n      case \"UnknownKeyword\":\n        return [unknownKeyword];\n      // uniques\n      case \"ObjectKeyword\":\n      case \"UndefinedKeyword\":\n      case \"VoidKeyword\":\n      case \"StringKeyword\":\n      case \"NumberKeyword\":\n      case \"BooleanKeyword\":\n      case \"BigIntKeyword\":\n      case \"SymbolKeyword\":\n        {\n          if (!uniques[ast._tag]) {\n            uniques[ast._tag] = ast;\n            out.push(ast);\n          }\n          break;\n        }\n      case \"Literal\":\n        {\n          const type = typeof ast.literal;\n          switch (type) {\n            case \"string\":\n            case \"number\":\n            case \"bigint\":\n            case \"boolean\":\n              {\n                const _tag = literalMap[type];\n                if (!uniques[_tag] && !literals.includes(ast.literal)) {\n                  literals.push(ast.literal);\n                  out.push(ast);\n                }\n                break;\n              }\n            // null\n            case \"object\":\n              {\n                if (!literals.includes(ast.literal)) {\n                  literals.push(ast.literal);\n                  out.push(ast);\n                }\n                break;\n              }\n          }\n          break;\n        }\n      case \"UniqueSymbol\":\n        {\n          if (!uniques[\"SymbolKeyword\"] && !literals.includes(ast.symbol)) {\n            literals.push(ast.symbol);\n            out.push(ast);\n          }\n          break;\n        }\n      case \"TupleType\":\n        {\n          if (!uniques[\"ObjectKeyword\"]) {\n            out.push(ast);\n          }\n          break;\n        }\n      case \"TypeLiteral\":\n        {\n          if (ast.propertySignatures.length === 0 && ast.indexSignatures.length === 0) {\n            if (!uniques[\"{}\"]) {\n              uniques[\"{}\"] = ast;\n              out.push(ast);\n            }\n          } else if (!uniques[\"ObjectKeyword\"]) {\n            out.push(ast);\n          }\n          break;\n        }\n      default:\n        out.push(ast);\n    }\n  }\n  return out;\n};\n/**\n * @category model\n * @since 0.67.0\n */\nclass Union {\n  types;\n  annotations;\n  static make = (candidates, annotations) => {\n    const types = [];\n    const memo = new Set();\n    for (let i = 0; i < candidates.length; i++) {\n      const ast = candidates[i];\n      if (ast === neverKeyword || memo.has(ast)) {\n        continue;\n      }\n      memo.add(ast);\n      types.push(ast);\n    }\n    return Union.union(types, annotations);\n  };\n  /** @internal */\n  static members = (candidates, annotations) => {\n    return Union.union(removeNevers(candidates), annotations);\n  };\n  /** @internal */\n  static unify = (candidates, annotations) => {\n    return Union.union(unify(flatten(candidates)), annotations);\n  };\n  /** @internal */\n  static union = (types, annotations) => {\n    return isMembers(types) ? new Union(types, annotations) : types.length === 1 ? types[0] : neverKeyword;\n  };\n  /**\n   * @since 0.67.0\n   */\n  _tag = \"Union\";\n  constructor(types, annotations = {}) {\n    this.types = types;\n    this.annotations = annotations;\n  }\n  /**\n   * @since 0.67.0\n   */\n  toString() {\n    return effect_Option__WEBPACK_IMPORTED_MODULE_1__.getOrElse(getExpected(this), () => this.types.map(String).join(\" | \"));\n  }\n  /**\n   * @since 0.67.0\n   */\n  toJSON() {\n    return {\n      _tag: this._tag,\n      types: this.types.map(ast => ast.toJSON()),\n      annotations: toJSONAnnotations(this.annotations)\n    };\n  }\n}\n/** @internal */\nconst mapMembers = (members, f) => members.map(f);\n/** @internal */\nconst isMembers = as => as.length > 1;\n/**\n * @category guards\n * @since 0.67.0\n */\nconst isUnion = /*#__PURE__*/createASTGuard(\"Union\");\nconst toJSONMemoMap = /*#__PURE__*/(0,effect_GlobalValue__WEBPACK_IMPORTED_MODULE_8__.globalValue)( /*#__PURE__*/Symbol.for(\"@effect/schema/AST/toJSONMemoMap\"), () => new WeakMap());\n/**\n * @category model\n * @since 0.67.0\n */\nclass Suspend {\n  f;\n  annotations;\n  /**\n   * @since 0.67.0\n   */\n  _tag = \"Suspend\";\n  constructor(f, annotations = {}) {\n    this.f = f;\n    this.annotations = annotations;\n    this.f = _internal_util_js__WEBPACK_IMPORTED_MODULE_2__.memoizeThunk(f);\n  }\n  /**\n   * @since 0.67.0\n   */\n  toString() {\n    return getExpected(this).pipe(effect_Option__WEBPACK_IMPORTED_MODULE_1__.orElse(() => effect_Option__WEBPACK_IMPORTED_MODULE_1__.flatMap(effect_Option__WEBPACK_IMPORTED_MODULE_1__.liftThrowable(this.f)(), ast => getExpected(ast))), effect_Option__WEBPACK_IMPORTED_MODULE_1__.getOrElse(() => \"<suspended schema>\"));\n  }\n  /**\n   * @since 0.67.0\n   */\n  toJSON() {\n    const ast = this.f();\n    let out = toJSONMemoMap.get(ast);\n    if (out) {\n      return out;\n    }\n    toJSONMemoMap.set(ast, {\n      _tag: this._tag\n    });\n    out = {\n      _tag: this._tag,\n      ast: ast.toJSON(),\n      annotations: toJSONAnnotations(this.annotations)\n    };\n    toJSONMemoMap.set(ast, out);\n    return out;\n  }\n}\n/**\n * @category guards\n * @since 0.67.0\n */\nconst isSuspend = /*#__PURE__*/createASTGuard(\"Suspend\");\n/**\n * @category model\n * @since 0.67.0\n */\nclass Refinement {\n  from;\n  filter;\n  annotations;\n  /**\n   * @since 0.67.0\n   */\n  _tag = \"Refinement\";\n  constructor(from, filter, annotations = {}) {\n    this.from = from;\n    this.filter = filter;\n    this.annotations = annotations;\n  }\n  /**\n   * @since 0.67.0\n   */\n  toString() {\n    return effect_Option__WEBPACK_IMPORTED_MODULE_1__.getOrElse(getExpected(this), () => `{ ${this.from} | filter }`);\n  }\n  /**\n   * @since 0.67.0\n   */\n  toJSON() {\n    return {\n      _tag: this._tag,\n      from: this.from.toJSON(),\n      annotations: toJSONAnnotations(this.annotations)\n    };\n  }\n}\n/**\n * @category guards\n * @since 0.67.0\n */\nconst isRefinement = /*#__PURE__*/createASTGuard(\"Refinement\");\n/**\n * @since 0.67.0\n */\nconst defaultParseOption = {};\n/**\n * @category model\n * @since 0.67.0\n */\nclass Transformation {\n  from;\n  to;\n  transformation;\n  annotations;\n  /**\n   * @since 0.67.0\n   */\n  _tag = \"Transformation\";\n  constructor(from, to, transformation, annotations = {}) {\n    this.from = from;\n    this.to = to;\n    this.transformation = transformation;\n    this.annotations = annotations;\n  }\n  /**\n   * @since 0.67.0\n   */\n  toString() {\n    return effect_Option__WEBPACK_IMPORTED_MODULE_1__.getOrElse(getExpected(this), () => `(${String(this.from)} <-> ${String(this.to)})`);\n  }\n  /**\n   * @since 0.67.0\n   */\n  toJSON() {\n    return {\n      _tag: this._tag,\n      from: this.from.toJSON(),\n      to: this.to.toJSON(),\n      annotations: toJSONAnnotations(this.annotations)\n    };\n  }\n}\n/**\n * @category guards\n * @since 0.67.0\n */\nconst isTransformation = /*#__PURE__*/createASTGuard(\"Transformation\");\n/**\n * @category model\n * @since 0.67.0\n */\nclass FinalTransformation {\n  decode;\n  encode;\n  /**\n   * @since 0.67.0\n   */\n  _tag = \"FinalTransformation\";\n  constructor(decode, encode) {\n    this.decode = decode;\n    this.encode = encode;\n  }\n}\nconst createTransformationGuard = tag => ast => ast._tag === tag;\n/**\n * @category guards\n * @since 0.67.0\n */\nconst isFinalTransformation = /*#__PURE__*/createTransformationGuard(\"FinalTransformation\");\n/**\n * @category model\n * @since 0.67.0\n */\nclass ComposeTransformation {\n  /**\n   * @since 0.67.0\n   */\n  _tag = \"ComposeTransformation\";\n}\n/**\n * @category constructors\n * @since 0.67.0\n */\nconst composeTransformation = /*#__PURE__*/new ComposeTransformation();\n/**\n * @category guards\n * @since 0.67.0\n */\nconst isComposeTransformation = /*#__PURE__*/createTransformationGuard(\"ComposeTransformation\");\n/**\n * Represents a `PropertySignature -> PropertySignature` transformation\n *\n * The semantic of `decode` is:\n * - `none()` represents the absence of the key/value pair\n * - `some(value)` represents the presence of the key/value pair\n *\n * The semantic of `encode` is:\n * - `none()` you don't want to output the key/value pair\n * - `some(value)` you want to output the key/value pair\n *\n * @category model\n * @since 0.67.0\n */\nclass PropertySignatureTransformation {\n  from;\n  to;\n  decode;\n  encode;\n  constructor(from, to, decode, encode) {\n    this.from = from;\n    this.to = to;\n    this.decode = decode;\n    this.encode = encode;\n  }\n}\nconst isRenamingPropertySignatureTransformation = t => t.decode === effect_Function__WEBPACK_IMPORTED_MODULE_0__.identity && t.encode === effect_Function__WEBPACK_IMPORTED_MODULE_0__.identity;\n/**\n * @category model\n * @since 0.67.0\n */\nclass TypeLiteralTransformation {\n  propertySignatureTransformations;\n  /**\n   * @since 0.67.0\n   */\n  _tag = \"TypeLiteralTransformation\";\n  constructor(propertySignatureTransformations) {\n    this.propertySignatureTransformations = propertySignatureTransformations;\n    // check for duplicate property signature transformations\n    const fromKeys = {};\n    const toKeys = {};\n    for (const pst of propertySignatureTransformations) {\n      const from = pst.from;\n      if (fromKeys[from]) {\n        throw new Error(_internal_errors_js__WEBPACK_IMPORTED_MODULE_4__.getASTDuplicatePropertySignatureTransformationErrorMessage(from));\n      }\n      fromKeys[from] = true;\n      const to = pst.to;\n      if (toKeys[to]) {\n        throw new Error(_internal_errors_js__WEBPACK_IMPORTED_MODULE_4__.getASTDuplicatePropertySignatureTransformationErrorMessage(to));\n      }\n      toKeys[to] = true;\n    }\n  }\n}\n/**\n * @category guards\n * @since 0.67.0\n */\nconst isTypeLiteralTransformation = /*#__PURE__*/createTransformationGuard(\"TypeLiteralTransformation\");\n// -------------------------------------------------------------------------------------\n// API\n// -------------------------------------------------------------------------------------\n/**\n * Adds a group of annotations, potentially overwriting existing annotations.\n *\n * @since 0.67.0\n */\nconst annotations = (ast, annotations) => {\n  const d = Object.getOwnPropertyDescriptors(ast);\n  d.annotations.value = {\n    ...ast.annotations,\n    ...annotations\n  };\n  return Object.create(Object.getPrototypeOf(ast), d);\n};\n/**\n * Equivalent at runtime to the TypeScript type-level `keyof` operator.\n *\n * @since 0.67.0\n */\nconst keyof = ast => Union.unify(_keyof(ast));\nconst STRING_KEYWORD_PATTERN = \".*\";\nconst NUMBER_KEYWORD_PATTERN = \"[+-]?\\\\d*\\\\.?\\\\d+(?:[Ee][+-]?\\\\d+)?\";\n/**\n * @since 0.67.0\n */\nconst getTemplateLiteralRegExp = ast => {\n  let pattern = `^${effect_RegExp__WEBPACK_IMPORTED_MODULE_9__.escape(ast.head)}`;\n  for (const span of ast.spans) {\n    if (isStringKeyword(span.type)) {\n      pattern += STRING_KEYWORD_PATTERN;\n    } else if (isNumberKeyword(span.type)) {\n      pattern += NUMBER_KEYWORD_PATTERN;\n    }\n    pattern += effect_RegExp__WEBPACK_IMPORTED_MODULE_9__.escape(span.literal);\n  }\n  pattern += \"$\";\n  return new RegExp(pattern);\n};\n/**\n * @since 0.67.0\n */\nconst getPropertySignatures = ast => {\n  switch (ast._tag) {\n    case \"Declaration\":\n      {\n        const annotation = getSurrogateAnnotation(ast);\n        if (effect_Option__WEBPACK_IMPORTED_MODULE_1__.isSome(annotation)) {\n          return getPropertySignatures(annotation.value);\n        }\n        break;\n      }\n    case \"TypeLiteral\":\n      return ast.propertySignatures.slice();\n    case \"Suspend\":\n      return getPropertySignatures(ast.f());\n  }\n  return getPropertyKeys(ast).map(name => getPropertyKeyIndexedAccess(ast, name));\n};\n/** @internal */\nconst getNumberIndexedAccess = ast => {\n  switch (ast._tag) {\n    case \"TupleType\":\n      {\n        let hasOptional = false;\n        let out = [];\n        for (const e of ast.elements) {\n          if (e.isOptional) {\n            hasOptional = true;\n          }\n          out.push(e.type);\n        }\n        if (hasOptional) {\n          out.push(undefinedKeyword);\n        }\n        out = out.concat(getRestASTs(ast.rest));\n        return Union.make(out);\n      }\n    case \"Refinement\":\n      return getNumberIndexedAccess(ast.from);\n    case \"Union\":\n      return Union.make(ast.types.map(getNumberIndexedAccess));\n    case \"Suspend\":\n      return getNumberIndexedAccess(ast.f());\n  }\n  throw new Error(_internal_errors_js__WEBPACK_IMPORTED_MODULE_4__.getASTUnsupportedSchema(ast));\n};\n/** @internal */\nconst getPropertyKeyIndexedAccess = (ast, name) => {\n  switch (ast._tag) {\n    case \"Declaration\":\n      {\n        const annotation = getSurrogateAnnotation(ast);\n        if (effect_Option__WEBPACK_IMPORTED_MODULE_1__.isSome(annotation)) {\n          return getPropertyKeyIndexedAccess(annotation.value, name);\n        }\n        break;\n      }\n    case \"TypeLiteral\":\n      {\n        const ops = effect_Array__WEBPACK_IMPORTED_MODULE_5__.findFirst(ast.propertySignatures, ps => ps.name === name);\n        if (effect_Option__WEBPACK_IMPORTED_MODULE_1__.isSome(ops)) {\n          return ops.value;\n        } else {\n          if (effect_Predicate__WEBPACK_IMPORTED_MODULE_3__.isString(name)) {\n            for (const is of ast.indexSignatures) {\n              const parameterBase = getParameterBase(is.parameter);\n              switch (parameterBase._tag) {\n                case \"TemplateLiteral\":\n                  {\n                    const regex = getTemplateLiteralRegExp(parameterBase);\n                    if (regex.test(name)) {\n                      return new PropertySignature(name, is.type, false, true);\n                    }\n                    break;\n                  }\n                case \"StringKeyword\":\n                  return new PropertySignature(name, is.type, false, true);\n              }\n            }\n          } else if (effect_Predicate__WEBPACK_IMPORTED_MODULE_3__.isSymbol(name)) {\n            for (const is of ast.indexSignatures) {\n              const parameterBase = getParameterBase(is.parameter);\n              if (isSymbolKeyword(parameterBase)) {\n                return new PropertySignature(name, is.type, false, true);\n              }\n            }\n          }\n        }\n        break;\n      }\n    case \"Union\":\n      return new PropertySignature(name, Union.make(ast.types.map(ast => getPropertyKeyIndexedAccess(ast, name).type)), false, true);\n    case \"Suspend\":\n      return getPropertyKeyIndexedAccess(ast.f(), name);\n  }\n  return new PropertySignature(name, neverKeyword, false, true);\n};\nconst getPropertyKeys = ast => {\n  switch (ast._tag) {\n    case \"Declaration\":\n      {\n        const annotation = getSurrogateAnnotation(ast);\n        if (effect_Option__WEBPACK_IMPORTED_MODULE_1__.isSome(annotation)) {\n          return getPropertyKeys(annotation.value);\n        }\n        break;\n      }\n    case \"TypeLiteral\":\n      return ast.propertySignatures.map(ps => ps.name);\n    case \"Suspend\":\n      return getPropertyKeys(ast.f());\n    case \"Union\":\n      return ast.types.slice(1).reduce((out, ast) => effect_Array__WEBPACK_IMPORTED_MODULE_5__.intersection(out, getPropertyKeys(ast)), getPropertyKeys(ast.types[0]));\n    case \"Transformation\":\n      return getPropertyKeys(ast.to);\n  }\n  return [];\n};\n/** @internal */\nconst record = (key, value) => {\n  const propertySignatures = [];\n  const indexSignatures = [];\n  const go = key => {\n    switch (key._tag) {\n      case \"NeverKeyword\":\n        break;\n      case \"StringKeyword\":\n      case \"SymbolKeyword\":\n      case \"TemplateLiteral\":\n      case \"Refinement\":\n        indexSignatures.push(new IndexSignature(key, value, true));\n        break;\n      case \"Literal\":\n        if (effect_Predicate__WEBPACK_IMPORTED_MODULE_3__.isString(key.literal) || effect_Predicate__WEBPACK_IMPORTED_MODULE_3__.isNumber(key.literal)) {\n          propertySignatures.push(new PropertySignature(key.literal, value, false, true));\n        } else {\n          throw new Error(_internal_errors_js__WEBPACK_IMPORTED_MODULE_4__.getASTUnsupportedLiteral(key.literal));\n        }\n        break;\n      case \"Enums\":\n        {\n          for (const [_, name] of key.enums) {\n            propertySignatures.push(new PropertySignature(name, value, false, true));\n          }\n          break;\n        }\n      case \"UniqueSymbol\":\n        propertySignatures.push(new PropertySignature(key.symbol, value, false, true));\n        break;\n      case \"Union\":\n        key.types.forEach(go);\n        break;\n      default:\n        throw new Error(_internal_errors_js__WEBPACK_IMPORTED_MODULE_4__.getASTUnsupportedKeySchema(key));\n    }\n  };\n  go(key);\n  return {\n    propertySignatures,\n    indexSignatures\n  };\n};\n/**\n * Equivalent at runtime to the built-in TypeScript utility type `Pick`.\n *\n * @since 0.67.0\n */\nconst pick = (ast, keys) => {\n  if (isTransformation(ast)) {\n    switch (ast.transformation._tag) {\n      case \"ComposeTransformation\":\n        return new Transformation(pick(ast.from, keys), pick(ast.to, keys), composeTransformation);\n      case \"TypeLiteralTransformation\":\n        {\n          const ts = [];\n          const fromKeys = [];\n          for (const k of keys) {\n            const t = ast.transformation.propertySignatureTransformations.find(t => t.to === k);\n            if (t) {\n              ts.push(t);\n              fromKeys.push(t.from);\n            } else {\n              fromKeys.push(k);\n            }\n          }\n          return effect_Array__WEBPACK_IMPORTED_MODULE_5__.isNonEmptyReadonlyArray(ts) ? new Transformation(pick(ast.from, fromKeys), pick(ast.to, keys), new TypeLiteralTransformation(ts)) : pick(ast.from, fromKeys);\n        }\n      case \"FinalTransformation\":\n        {\n          const annotation = getSurrogateAnnotation(ast);\n          if (effect_Option__WEBPACK_IMPORTED_MODULE_1__.isSome(annotation)) {\n            return pick(annotation.value, keys);\n          }\n          throw new Error(_internal_errors_js__WEBPACK_IMPORTED_MODULE_4__.getASTUnsupportedSchema(ast));\n        }\n    }\n  }\n  return new TypeLiteral(keys.map(key => getPropertyKeyIndexedAccess(ast, key)), []);\n};\n/**\n * Equivalent at runtime to the built-in TypeScript utility type `Omit`.\n *\n * @since 0.67.0\n */\nconst omit = (ast, keys) => pick(ast, getPropertyKeys(ast).filter(name => !keys.includes(name)));\n/** @internal */\nconst orUndefined = ast => Union.make([ast, undefinedKeyword]);\n/**\n * Equivalent at runtime to the built-in TypeScript utility type `Partial`.\n *\n * @since 0.67.0\n */\nconst partial = (ast, options) => {\n  const exact = options?.exact === true;\n  switch (ast._tag) {\n    case \"TupleType\":\n      return new TupleType(ast.elements.map(e => new OptionalType(exact ? e.type : orUndefined(e.type), true)), effect_Array__WEBPACK_IMPORTED_MODULE_5__.match(ast.rest, {\n        onEmpty: () => ast.rest,\n        onNonEmpty: rest => [new Type(Union.make([...getRestASTs(rest), undefinedKeyword]))]\n      }), ast.isReadonly);\n    case \"TypeLiteral\":\n      return new TypeLiteral(ast.propertySignatures.map(ps => new PropertySignature(ps.name, exact ? ps.type : orUndefined(ps.type), true, ps.isReadonly, ps.annotations)), ast.indexSignatures.map(is => new IndexSignature(is.parameter, orUndefined(is.type), is.isReadonly)));\n    case \"Union\":\n      return Union.make(ast.types.map(member => partial(member, options)));\n    case \"Suspend\":\n      return new Suspend(() => partial(ast.f(), options));\n    case \"Declaration\":\n      throw new Error(_internal_errors_js__WEBPACK_IMPORTED_MODULE_4__.getASTUnsupportedSchema(ast));\n    case \"Refinement\":\n      throw new Error(_internal_errors_js__WEBPACK_IMPORTED_MODULE_4__.getASTUnsupportedSchema(ast));\n    case \"Transformation\":\n      {\n        if (isTypeLiteralTransformation(ast.transformation) && ast.transformation.propertySignatureTransformations.every(isRenamingPropertySignatureTransformation)) {\n          return new Transformation(partial(ast.from, options), partial(ast.to, options), ast.transformation);\n        }\n        throw new Error(_internal_errors_js__WEBPACK_IMPORTED_MODULE_4__.getASTUnsupportedSchema(ast));\n      }\n  }\n  return ast;\n};\n/**\n * Equivalent at runtime to the built-in TypeScript utility type `Required`.\n *\n * @since 0.67.0\n */\nconst required = ast => {\n  switch (ast._tag) {\n    case \"TupleType\":\n      return new TupleType(ast.elements.map(e => new OptionalType(e.type, false)), ast.rest, ast.isReadonly);\n    case \"TypeLiteral\":\n      return new TypeLiteral(ast.propertySignatures.map(f => new PropertySignature(f.name, f.type, false, f.isReadonly, f.annotations)), ast.indexSignatures);\n    case \"Union\":\n      return Union.make(ast.types.map(member => required(member)));\n    case \"Suspend\":\n      return new Suspend(() => required(ast.f()));\n    case \"Declaration\":\n      throw new Error(_internal_errors_js__WEBPACK_IMPORTED_MODULE_4__.getASTUnsupportedSchema(ast));\n    case \"Refinement\":\n      throw new Error(_internal_errors_js__WEBPACK_IMPORTED_MODULE_4__.getASTUnsupportedSchema(ast));\n    case \"Transformation\":\n      {\n        if (isTypeLiteralTransformation(ast.transformation) && ast.transformation.propertySignatureTransformations.every(isRenamingPropertySignatureTransformation)) {\n          return new Transformation(required(ast.from), required(ast.to), ast.transformation);\n        }\n        throw new Error(_internal_errors_js__WEBPACK_IMPORTED_MODULE_4__.getASTUnsupportedSchema(ast));\n      }\n  }\n  return ast;\n};\n/**\n * Creates a new AST with shallow mutability applied to its properties.\n *\n * @param ast - The original AST to make properties mutable (shallowly).\n *\n * @since 0.67.0\n */\nconst mutable = ast => {\n  switch (ast._tag) {\n    case \"TupleType\":\n      return ast.isReadonly === false ? ast : new TupleType(ast.elements, ast.rest, false, ast.annotations);\n    case \"TypeLiteral\":\n      {\n        const propertySignatures = changeMap(ast.propertySignatures, ps => ps.isReadonly === false ? ps : new PropertySignature(ps.name, ps.type, ps.isOptional, false, ps.annotations));\n        const indexSignatures = changeMap(ast.indexSignatures, is => is.isReadonly === false ? is : new IndexSignature(is.parameter, is.type, false));\n        return propertySignatures === ast.propertySignatures && indexSignatures === ast.indexSignatures ? ast : new TypeLiteral(propertySignatures, indexSignatures, ast.annotations);\n      }\n    case \"Union\":\n      {\n        const types = changeMap(ast.types, mutable);\n        return types === ast.types ? ast : Union.make(types, ast.annotations);\n      }\n    case \"Suspend\":\n      return new Suspend(() => mutable(ast.f()), ast.annotations);\n    case \"Refinement\":\n      {\n        const from = mutable(ast.from);\n        return from === ast.from ? ast : new Refinement(from, ast.filter, ast.annotations);\n      }\n    case \"Transformation\":\n      {\n        const from = mutable(ast.from);\n        const to = mutable(ast.to);\n        return from === ast.from && to === ast.to ? ast : new Transformation(from, to, ast.transformation, ast.annotations);\n      }\n  }\n  return ast;\n};\n/**\n * @since 0.67.0\n */\nconst getCompiler = match => {\n  const compile = (ast, path) => match[ast._tag](ast, compile, path);\n  return compile;\n};\n/**\n * @since 0.67.0\n */\nconst typeAST = ast => {\n  switch (ast._tag) {\n    case \"Declaration\":\n      {\n        const typeParameters = changeMap(ast.typeParameters, typeAST);\n        return typeParameters === ast.typeParameters ? ast : new Declaration(typeParameters, ast.decodeUnknown, ast.encodeUnknown, ast.annotations);\n      }\n    case \"TupleType\":\n      {\n        const elements = changeMap(ast.elements, e => {\n          const type = typeAST(e.type);\n          return type === e.type ? e : new OptionalType(type, e.isOptional);\n        });\n        const restASTs = getRestASTs(ast.rest);\n        const rest = changeMap(restASTs, typeAST);\n        return elements === ast.elements && rest === restASTs ? ast : new TupleType(elements, rest.map(type => new Type(type)), ast.isReadonly, ast.annotations);\n      }\n    case \"TypeLiteral\":\n      {\n        const propertySignatures = changeMap(ast.propertySignatures, p => {\n          const type = typeAST(p.type);\n          return type === p.type ? p : new PropertySignature(p.name, type, p.isOptional, p.isReadonly);\n        });\n        const indexSignatures = changeMap(ast.indexSignatures, is => {\n          const type = typeAST(is.type);\n          return type === is.type ? is : new IndexSignature(is.parameter, type, is.isReadonly);\n        });\n        return propertySignatures === ast.propertySignatures && indexSignatures === ast.indexSignatures ? ast : new TypeLiteral(propertySignatures, indexSignatures, ast.annotations);\n      }\n    case \"Union\":\n      {\n        const types = changeMap(ast.types, typeAST);\n        return types === ast.types ? ast : Union.make(types, ast.annotations);\n      }\n    case \"Suspend\":\n      return new Suspend(() => typeAST(ast.f()), ast.annotations);\n    case \"Refinement\":\n      {\n        const from = typeAST(ast.from);\n        return from === ast.from ? ast : new Refinement(from, ast.filter, ast.annotations);\n      }\n    case \"Transformation\":\n      return typeAST(ast.to);\n  }\n  return ast;\n};\n/** @internal */\nconst preserveAnnotations = annotationIds => annotated => {\n  let out = undefined;\n  for (const id of annotationIds) {\n    if (Object.prototype.hasOwnProperty.call(annotated.annotations, id)) {\n      if (out === undefined) {\n        out = {};\n      }\n      out[id] = annotated.annotations[id];\n    }\n  }\n  return out;\n};\n/** @internal */\nconst getJSONIdentifier = annotated => effect_Option__WEBPACK_IMPORTED_MODULE_1__.orElse(getJSONIdentifierAnnotation(annotated), () => getIdentifierAnnotation(annotated));\n// To generate a JSON Schema from a recursive schema, an `identifier` annotation\n// is required. So, when we calculate the encodedAST, we need to preserve the\n// annotation in the form of an internal custom annotation that acts as a\n// surrogate for the identifier, which the JSON Schema compiler can then read.\nconst createJSONIdentifierAnnotation = annotated => effect_Option__WEBPACK_IMPORTED_MODULE_1__.match(getJSONIdentifier(annotated), {\n  onNone: () => undefined,\n  onSome: identifier => ({\n    [JSONIdentifierAnnotationId]: identifier\n  })\n});\nfunction changeMap(as, f) {\n  let changed = false;\n  const out = effect_Array__WEBPACK_IMPORTED_MODULE_5__.allocate(as.length);\n  for (let i = 0; i < as.length; i++) {\n    const a = as[i];\n    const fa = f(a);\n    if (fa !== a) {\n      changed = true;\n    }\n    out[i] = fa;\n  }\n  return changed ? out : as;\n}\nconst encodedAST_ = (ast, isBound) => {\n  switch (ast._tag) {\n    case \"Declaration\":\n      {\n        const typeParameters = changeMap(ast.typeParameters, ast => encodedAST_(ast, isBound));\n        return typeParameters === ast.typeParameters ? ast : new Declaration(typeParameters, ast.decodeUnknown, ast.encodeUnknown, ast.annotations);\n      }\n    case \"TupleType\":\n      {\n        const elements = changeMap(ast.elements, e => {\n          const type = encodedAST_(e.type, isBound);\n          return type === e.type ? e : new OptionalType(type, e.isOptional);\n        });\n        const restASTs = getRestASTs(ast.rest);\n        const rest = changeMap(restASTs, ast => encodedAST_(ast, isBound));\n        return elements === ast.elements && rest === restASTs ? ast : new TupleType(elements, rest.map(ast => new Type(ast)), ast.isReadonly, createJSONIdentifierAnnotation(ast));\n      }\n    case \"TypeLiteral\":\n      {\n        const propertySignatures = changeMap(ast.propertySignatures, ps => {\n          const type = encodedAST_(ps.type, isBound);\n          return type === ps.type ? ps : new PropertySignature(ps.name, type, ps.isOptional, ps.isReadonly);\n        });\n        const indexSignatures = changeMap(ast.indexSignatures, is => {\n          const type = encodedAST_(is.type, isBound);\n          return type === is.type ? is : new IndexSignature(is.parameter, type, is.isReadonly);\n        });\n        return propertySignatures === ast.propertySignatures && indexSignatures === ast.indexSignatures ? ast : new TypeLiteral(propertySignatures, indexSignatures, createJSONIdentifierAnnotation(ast));\n      }\n    case \"Union\":\n      {\n        const types = changeMap(ast.types, ast => encodedAST_(ast, isBound));\n        return types === ast.types ? ast : Union.make(types, createJSONIdentifierAnnotation(ast));\n      }\n    case \"Suspend\":\n      return new Suspend(() => encodedAST_(ast.f(), isBound), createJSONIdentifierAnnotation(ast));\n    case \"Refinement\":\n      {\n        const from = encodedAST_(ast.from, isBound);\n        if (isBound) {\n          if (from === ast.from) {\n            return ast;\n          }\n          if (!isTransformation(ast.from)) {\n            const annotations = getStableFilterAnnotation(ast);\n            if (effect_Option__WEBPACK_IMPORTED_MODULE_1__.isSome(annotations) && annotations.value === true) {\n              return new Refinement(from, ast.filter);\n            }\n          }\n        }\n        return from;\n      }\n    case \"Transformation\":\n      return encodedAST_(ast.from, isBound);\n  }\n  return ast;\n};\n/**\n * @since 0.67.0\n */\nconst encodedAST = ast => encodedAST_(ast, false);\n/**\n * @since 0.67.0\n */\nconst encodedBoundAST = ast => encodedAST_(ast, true);\nconst toJSONAnnotations = annotations => {\n  const out = {};\n  for (const k of Object.getOwnPropertySymbols(annotations)) {\n    out[String(k)] = annotations[k];\n  }\n  return out;\n};\n/** @internal */\nconst getCardinality = ast => {\n  switch (ast._tag) {\n    case \"NeverKeyword\":\n      return 0;\n    case \"Literal\":\n    case \"UndefinedKeyword\":\n    case \"VoidKeyword\":\n    case \"UniqueSymbol\":\n      return 1;\n    case \"BooleanKeyword\":\n      return 2;\n    case \"StringKeyword\":\n    case \"NumberKeyword\":\n    case \"BigIntKeyword\":\n    case \"SymbolKeyword\":\n      return 3;\n    case \"ObjectKeyword\":\n      return 5;\n    case \"UnknownKeyword\":\n    case \"AnyKeyword\":\n      return 6;\n    default:\n      return 4;\n  }\n};\nconst sortPropertySignatures = /*#__PURE__*/effect_Array__WEBPACK_IMPORTED_MODULE_5__.sort( /*#__PURE__*/effect_Order__WEBPACK_IMPORTED_MODULE_6__.mapInput(effect_Number__WEBPACK_IMPORTED_MODULE_7__.Order, ps => getCardinality(ps.type)));\nconst sortIndexSignatures = /*#__PURE__*/effect_Array__WEBPACK_IMPORTED_MODULE_5__.sort( /*#__PURE__*/effect_Order__WEBPACK_IMPORTED_MODULE_6__.mapInput(effect_Number__WEBPACK_IMPORTED_MODULE_7__.Order, is => {\n  switch (getParameterBase(is.parameter)._tag) {\n    case \"StringKeyword\":\n      return 2;\n    case \"SymbolKeyword\":\n      return 3;\n    case \"TemplateLiteral\":\n      return 1;\n  }\n}));\nconst WeightOrder = /*#__PURE__*/effect_Order__WEBPACK_IMPORTED_MODULE_6__.tuple(effect_Number__WEBPACK_IMPORTED_MODULE_7__.Order, effect_Number__WEBPACK_IMPORTED_MODULE_7__.Order, effect_Number__WEBPACK_IMPORTED_MODULE_7__.Order);\nconst maxWeight = /*#__PURE__*/effect_Order__WEBPACK_IMPORTED_MODULE_6__.max(WeightOrder);\nconst emptyWeight = [0, 0, 0];\nconst maxWeightAll = weights => weights.reduce(maxWeight, emptyWeight);\n/** @internal */\nconst getWeight = ast => {\n  switch (ast._tag) {\n    case \"TupleType\":\n      {\n        return [2, ast.elements.length, ast.rest.length];\n      }\n    case \"TypeLiteral\":\n      {\n        const y = ast.propertySignatures.length;\n        const z = ast.indexSignatures.length;\n        return y + z === 0 ? [-4, 0, 0] : [4, y, z];\n      }\n    case \"Declaration\":\n      {\n        const annotation = getSurrogateAnnotation(ast);\n        if (effect_Option__WEBPACK_IMPORTED_MODULE_1__.isSome(annotation)) {\n          const [_, y, z] = getWeight(annotation.value);\n          return [6, y, z];\n        }\n        return [6, 0, 0];\n      }\n    case \"Suspend\":\n      return [8, 0, 0];\n    case \"Union\":\n      return maxWeightAll(ast.types.map(getWeight));\n    case \"Refinement\":\n      {\n        const [x, y, z] = getWeight(ast.from);\n        return [x + 1, y, z];\n      }\n    case \"Transformation\":\n      return getWeight(ast.from);\n    case \"ObjectKeyword\":\n      return [-2, 0, 0];\n    case \"UnknownKeyword\":\n    case \"AnyKeyword\":\n      return [-4, 0, 0];\n    default:\n      return emptyWeight;\n  }\n};\n/** @internal */\nconst getParameterBase = ast => {\n  switch (ast._tag) {\n    case \"StringKeyword\":\n    case \"SymbolKeyword\":\n    case \"TemplateLiteral\":\n      return ast;\n    case \"Refinement\":\n      return getParameterBase(ast.from);\n  }\n};\nconst equalsTemplateLiteralSpan = /*#__PURE__*/effect_Array__WEBPACK_IMPORTED_MODULE_5__.getEquivalence((self, that) => self.type._tag === that.type._tag && self.literal === that.literal);\nconst equalsEnums = /*#__PURE__*/effect_Array__WEBPACK_IMPORTED_MODULE_5__.getEquivalence((self, that) => that[0] === self[0] && that[1] === self[1]);\nconst equals = (self, that) => {\n  switch (self._tag) {\n    case \"Literal\":\n      return isLiteral(that) && that.literal === self.literal;\n    case \"UniqueSymbol\":\n      return isUniqueSymbol(that) && that.symbol === self.symbol;\n    case \"UndefinedKeyword\":\n    case \"VoidKeyword\":\n    case \"NeverKeyword\":\n    case \"UnknownKeyword\":\n    case \"AnyKeyword\":\n    case \"StringKeyword\":\n    case \"NumberKeyword\":\n    case \"BooleanKeyword\":\n    case \"BigIntKeyword\":\n    case \"SymbolKeyword\":\n    case \"ObjectKeyword\":\n      return that._tag === self._tag;\n    case \"TemplateLiteral\":\n      return isTemplateLiteral(that) && that.head === self.head && equalsTemplateLiteralSpan(that.spans, self.spans);\n    case \"Enums\":\n      return isEnums(that) && equalsEnums(that.enums, self.enums);\n    case \"Refinement\":\n    case \"TupleType\":\n    case \"TypeLiteral\":\n    case \"Union\":\n    case \"Suspend\":\n    case \"Transformation\":\n    case \"Declaration\":\n      return self === that;\n  }\n};\nconst intersection = /*#__PURE__*/effect_Array__WEBPACK_IMPORTED_MODULE_5__.intersectionWith(equals);\nconst _keyof = ast => {\n  switch (ast._tag) {\n    case \"Declaration\":\n      {\n        const annotation = getSurrogateAnnotation(ast);\n        if (effect_Option__WEBPACK_IMPORTED_MODULE_1__.isSome(annotation)) {\n          return _keyof(annotation.value);\n        }\n        break;\n      }\n    case \"TypeLiteral\":\n      return ast.propertySignatures.map(p => effect_Predicate__WEBPACK_IMPORTED_MODULE_3__.isSymbol(p.name) ? new UniqueSymbol(p.name) : new Literal(p.name)).concat(ast.indexSignatures.map(is => getParameterBase(is.parameter)));\n    case \"Suspend\":\n      return _keyof(ast.f());\n    case \"Union\":\n      return ast.types.slice(1).reduce((out, ast) => intersection(out, _keyof(ast)), _keyof(ast.types[0]));\n    case \"Transformation\":\n      return _keyof(ast.to);\n  }\n  throw new Error(_internal_errors_js__WEBPACK_IMPORTED_MODULE_4__.getASTUnsupportedSchema(ast));\n};\n/** @internal */\nconst compose = (ab, cd) => new Transformation(ab, cd, composeTransformation);\n/** @internal */\nconst rename = (ast, mapping) => {\n  switch (ast._tag) {\n    case \"TypeLiteral\":\n      {\n        const propertySignatureTransformations = [];\n        for (const key of _internal_util_js__WEBPACK_IMPORTED_MODULE_2__.ownKeys(mapping)) {\n          const name = mapping[key];\n          if (name !== undefined) {\n            propertySignatureTransformations.push(new PropertySignatureTransformation(key, name, effect_Function__WEBPACK_IMPORTED_MODULE_0__.identity, effect_Function__WEBPACK_IMPORTED_MODULE_0__.identity));\n          }\n        }\n        if (propertySignatureTransformations.length === 0) {\n          return ast;\n        }\n        return new Transformation(ast, new TypeLiteral(ast.propertySignatures.map(ps => {\n          const name = mapping[ps.name];\n          return new PropertySignature(name === undefined ? ps.name : name, typeAST(ps.type), ps.isOptional, ps.isReadonly, ps.annotations);\n        }), ast.indexSignatures), new TypeLiteralTransformation(propertySignatureTransformations));\n      }\n    case \"Union\":\n      return Union.make(ast.types.map(ast => rename(ast, mapping)));\n    case \"Suspend\":\n      return new Suspend(() => rename(ast.f(), mapping));\n    case \"Transformation\":\n      return compose(ast, rename(typeAST(ast), mapping));\n  }\n  throw new Error(_internal_errors_js__WEBPACK_IMPORTED_MODULE_4__.getASTUnsupportedRenameSchema(ast));\n};\nconst formatKeyword = ast => effect_Option__WEBPACK_IMPORTED_MODULE_1__.getOrElse(getExpected(ast), () => ast._tag);\nconst getExpected = ast => {\n  return getIdentifierAnnotation(ast).pipe(effect_Option__WEBPACK_IMPORTED_MODULE_1__.orElse(() => getTitleAnnotation(ast)), effect_Option__WEBPACK_IMPORTED_MODULE_1__.orElse(() => getDescriptionAnnotation(ast)));\n};\n//# sourceMappingURL=AST.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGVmZmVjdC9zY2hlbWEvZGlzdC9lc20vQVNULmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ29DO0FBQ2E7QUFDQTtBQUNUO0FBQ0E7QUFDRjtBQUNRO0FBQ047QUFDUTtBQUNKO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ087QUFDUDtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDTyxtQ0FBbUMscURBQUksMkZBQTJGLCtDQUFXLCtCQUErQiwrQ0FBVztBQUM5TDtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEVBQTRFO0FBQzVFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsb0RBQWdCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUM7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLG9EQUFnQiwwQkFBMEIsNERBQW1CO0FBQ3hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxzREFBa0I7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBLENBQUM7QUFNZTtBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxvREFBZ0IsMEJBQTBCLDREQUFtQjtBQUN4RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEI7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEI7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEI7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FB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QUFDQSxpR0FBaUcscURBQVEsRUFBRSxxREFBUTtBQUNuSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsOEVBQXFDO0FBQ3ZEO0FBQ0EsNkJBQTZCLG9EQUFnQjtBQUM3QztBQUNBLDJDQUEyQyxpREFBYSxpQ0FBaUMsaURBQWE7QUFDdEc7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2Nhc2Vjb2JyYS1kZXYvLi9ub2RlX21vZHVsZXMvQGVmZmVjdC9zY2hlbWEvZGlzdC9lc20vQVNULmpzPzVkOTUiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmltcG9ydCAqIGFzIEFyciBmcm9tIFwiZWZmZWN0L0FycmF5XCI7XG5pbXBvcnQgeyBkdWFsLCBpZGVudGl0eSB9IGZyb20gXCJlZmZlY3QvRnVuY3Rpb25cIjtcbmltcG9ydCB7IGdsb2JhbFZhbHVlIH0gZnJvbSBcImVmZmVjdC9HbG9iYWxWYWx1ZVwiO1xuaW1wb3J0ICogYXMgTnVtYmVyIGZyb20gXCJlZmZlY3QvTnVtYmVyXCI7XG5pbXBvcnQgKiBhcyBPcHRpb24gZnJvbSBcImVmZmVjdC9PcHRpb25cIjtcbmltcG9ydCAqIGFzIE9yZGVyIGZyb20gXCJlZmZlY3QvT3JkZXJcIjtcbmltcG9ydCAqIGFzIFByZWRpY2F0ZSBmcm9tIFwiZWZmZWN0L1ByZWRpY2F0ZVwiO1xuaW1wb3J0ICogYXMgcmVnZXhwIGZyb20gXCJlZmZlY3QvUmVnRXhwXCI7XG5pbXBvcnQgKiBhcyBlcnJvcnNfIGZyb20gXCIuL2ludGVybmFsL2Vycm9ycy5qc1wiO1xuaW1wb3J0ICogYXMgdXRpbF8gZnJvbSBcIi4vaW50ZXJuYWwvdXRpbC5qc1wiO1xuLyoqXG4gKiBAY2F0ZWdvcnkgYW5ub3RhdGlvbnNcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNvbnN0IEJyYW5kQW5ub3RhdGlvbklkID0gLyojX19QVVJFX18qL1N5bWJvbC5mb3IoXCJAZWZmZWN0L3NjaGVtYS9hbm5vdGF0aW9uL0JyYW5kXCIpO1xuLyoqXG4gKiBAY2F0ZWdvcnkgYW5ub3RhdGlvbnNcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNvbnN0IFR5cGVBbm5vdGF0aW9uSWQgPSAvKiNfX1BVUkVfXyovU3ltYm9sLmZvcihcIkBlZmZlY3Qvc2NoZW1hL2Fubm90YXRpb24vVHlwZVwiKTtcbi8qKlxuICogQGNhdGVnb3J5IGFubm90YXRpb25zXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjb25zdCBNZXNzYWdlQW5ub3RhdGlvbklkID0gLyojX19QVVJFX18qL1N5bWJvbC5mb3IoXCJAZWZmZWN0L3NjaGVtYS9hbm5vdGF0aW9uL01lc3NhZ2VcIik7XG4vKipcbiAqIEBjYXRlZ29yeSBhbm5vdGF0aW9uc1xuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY29uc3QgTWlzc2luZ01lc3NhZ2VBbm5vdGF0aW9uSWQgPSAvKiNfX1BVUkVfXyovU3ltYm9sLmZvcihcIkBlZmZlY3Qvc2NoZW1hL2Fubm90YXRpb24vTWlzc2luZ01lc3NhZ2VcIik7XG4vKipcbiAqIEBjYXRlZ29yeSBhbm5vdGF0aW9uc1xuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY29uc3QgSWRlbnRpZmllckFubm90YXRpb25JZCA9IC8qI19fUFVSRV9fKi9TeW1ib2wuZm9yKFwiQGVmZmVjdC9zY2hlbWEvYW5ub3RhdGlvbi9JZGVudGlmaWVyXCIpO1xuLyoqXG4gKiBAY2F0ZWdvcnkgYW5ub3RhdGlvbnNcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNvbnN0IFRpdGxlQW5ub3RhdGlvbklkID0gLyojX19QVVJFX18qL1N5bWJvbC5mb3IoXCJAZWZmZWN0L3NjaGVtYS9hbm5vdGF0aW9uL1RpdGxlXCIpO1xuLyoqXG4gKiBAY2F0ZWdvcnkgYW5ub3RhdGlvbnNcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNvbnN0IERlc2NyaXB0aW9uQW5ub3RhdGlvbklkID0gLyojX19QVVJFX18qL1N5bWJvbC5mb3IoXCJAZWZmZWN0L3NjaGVtYS9hbm5vdGF0aW9uL0Rlc2NyaXB0aW9uXCIpO1xuLyoqXG4gKiBAY2F0ZWdvcnkgYW5ub3RhdGlvbnNcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNvbnN0IEV4YW1wbGVzQW5ub3RhdGlvbklkID0gLyojX19QVVJFX18qL1N5bWJvbC5mb3IoXCJAZWZmZWN0L3NjaGVtYS9hbm5vdGF0aW9uL0V4YW1wbGVzXCIpO1xuLyoqXG4gKiBAY2F0ZWdvcnkgYW5ub3RhdGlvbnNcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNvbnN0IERlZmF1bHRBbm5vdGF0aW9uSWQgPSAvKiNfX1BVUkVfXyovU3ltYm9sLmZvcihcIkBlZmZlY3Qvc2NoZW1hL2Fubm90YXRpb24vRGVmYXVsdFwiKTtcbi8qKlxuICogQGNhdGVnb3J5IGFubm90YXRpb25zXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjb25zdCBKU09OU2NoZW1hQW5ub3RhdGlvbklkID0gLyojX19QVVJFX18qL1N5bWJvbC5mb3IoXCJAZWZmZWN0L3NjaGVtYS9hbm5vdGF0aW9uL0pTT05TY2hlbWFcIik7XG4vKipcbiAqIEBjYXRlZ29yeSBhbm5vdGF0aW9uc1xuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY29uc3QgRG9jdW1lbnRhdGlvbkFubm90YXRpb25JZCA9IC8qI19fUFVSRV9fKi9TeW1ib2wuZm9yKFwiQGVmZmVjdC9zY2hlbWEvYW5ub3RhdGlvbi9Eb2N1bWVudGF0aW9uXCIpO1xuLyoqXG4gKiBAY2F0ZWdvcnkgYW5ub3RhdGlvbnNcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNvbnN0IENvbmN1cnJlbmN5QW5ub3RhdGlvbklkID0gLyojX19QVVJFX18qL1N5bWJvbC5mb3IoXCJAZWZmZWN0L3NjaGVtYS9hbm5vdGF0aW9uL0NvbmN1cnJlbmN5XCIpO1xuLyoqXG4gKiBAY2F0ZWdvcnkgYW5ub3RhdGlvbnNcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNvbnN0IEJhdGNoaW5nQW5ub3RhdGlvbklkID0gLyojX19QVVJFX18qL1N5bWJvbC5mb3IoXCJAZWZmZWN0L3NjaGVtYS9hbm5vdGF0aW9uL0JhdGNoaW5nXCIpO1xuLyoqXG4gKiBAY2F0ZWdvcnkgYW5ub3RhdGlvbnNcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNvbnN0IFBhcnNlSXNzdWVUaXRsZUFubm90YXRpb25JZCA9IC8qI19fUFVSRV9fKi9TeW1ib2wuZm9yKFwiQGVmZmVjdC9zY2hlbWEvYW5ub3RhdGlvbi9QYXJzZUlzc3VlVGl0bGVcIik7XG4vKipcbiAqIEBjYXRlZ29yeSBhbm5vdGF0aW9uc1xuICogQHNpbmNlIDAuNjguM1xuICovXG5leHBvcnQgY29uc3QgUGFyc2VPcHRpb25zQW5ub3RhdGlvbklkID0gLyojX19QVVJFX18qL1N5bWJvbC5mb3IoXCJAZWZmZWN0L3NjaGVtYS9hbm5vdGF0aW9uL1BhcnNlT3B0aW9uc1wiKTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBTdXJyb2dhdGVBbm5vdGF0aW9uSWQgPSAvKiNfX1BVUkVfXyovU3ltYm9sLmZvcihcIkBlZmZlY3Qvc2NoZW1hL2Fubm90YXRpb24vU3Vycm9nYXRlXCIpO1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IFN0YWJsZUZpbHRlckFubm90YXRpb25JZCA9IC8qI19fUFVSRV9fKi9TeW1ib2wuZm9yKFwiQGVmZmVjdC9zY2hlbWEvYW5ub3RhdGlvbi9TdGFibGVGaWx0ZXJcIik7XG4vKipcbiAqIEBjYXRlZ29yeSBhbm5vdGF0aW9uc1xuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY29uc3QgZ2V0QW5ub3RhdGlvbiA9IC8qI19fUFVSRV9fKi9kdWFsKDIsIChhbm5vdGF0ZWQsIGtleSkgPT4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGFubm90YXRlZC5hbm5vdGF0aW9ucywga2V5KSA/IE9wdGlvbi5zb21lKGFubm90YXRlZC5hbm5vdGF0aW9uc1trZXldKSA6IE9wdGlvbi5ub25lKCkpO1xuLyoqXG4gKiBAY2F0ZWdvcnkgYW5ub3RhdGlvbnNcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNvbnN0IGdldEJyYW5kQW5ub3RhdGlvbiA9IC8qI19fUFVSRV9fKi9nZXRBbm5vdGF0aW9uKEJyYW5kQW5ub3RhdGlvbklkKTtcbi8qKlxuICogQGNhdGVnb3J5IGFubm90YXRpb25zXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjb25zdCBnZXRNZXNzYWdlQW5ub3RhdGlvbiA9IC8qI19fUFVSRV9fKi9nZXRBbm5vdGF0aW9uKE1lc3NhZ2VBbm5vdGF0aW9uSWQpO1xuLyoqXG4gKiBAY2F0ZWdvcnkgYW5ub3RhdGlvbnNcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNvbnN0IGdldE1pc3NpbmdNZXNzYWdlQW5ub3RhdGlvbiA9IC8qI19fUFVSRV9fKi9nZXRBbm5vdGF0aW9uKE1pc3NpbmdNZXNzYWdlQW5ub3RhdGlvbklkKTtcbi8qKlxuICogQGNhdGVnb3J5IGFubm90YXRpb25zXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjb25zdCBnZXRUaXRsZUFubm90YXRpb24gPSAvKiNfX1BVUkVfXyovZ2V0QW5ub3RhdGlvbihUaXRsZUFubm90YXRpb25JZCk7XG4vKipcbiAqIEBjYXRlZ29yeSBhbm5vdGF0aW9uc1xuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY29uc3QgZ2V0SWRlbnRpZmllckFubm90YXRpb24gPSAvKiNfX1BVUkVfXyovZ2V0QW5ub3RhdGlvbihJZGVudGlmaWVyQW5ub3RhdGlvbklkKTtcbi8qKlxuICogQGNhdGVnb3J5IGFubm90YXRpb25zXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjb25zdCBnZXREZXNjcmlwdGlvbkFubm90YXRpb24gPSAvKiNfX1BVUkVfXyovZ2V0QW5ub3RhdGlvbihEZXNjcmlwdGlvbkFubm90YXRpb25JZCk7XG4vKipcbiAqIEBjYXRlZ29yeSBhbm5vdGF0aW9uc1xuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY29uc3QgZ2V0RXhhbXBsZXNBbm5vdGF0aW9uID0gLyojX19QVVJFX18qL2dldEFubm90YXRpb24oRXhhbXBsZXNBbm5vdGF0aW9uSWQpO1xuLyoqXG4gKiBAY2F0ZWdvcnkgYW5ub3RhdGlvbnNcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNvbnN0IGdldERlZmF1bHRBbm5vdGF0aW9uID0gLyojX19QVVJFX18qL2dldEFubm90YXRpb24oRGVmYXVsdEFubm90YXRpb25JZCk7XG4vKipcbiAqIEBjYXRlZ29yeSBhbm5vdGF0aW9uc1xuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY29uc3QgZ2V0SlNPTlNjaGVtYUFubm90YXRpb24gPSAvKiNfX1BVUkVfXyovZ2V0QW5ub3RhdGlvbihKU09OU2NoZW1hQW5ub3RhdGlvbklkKTtcbi8qKlxuICogQGNhdGVnb3J5IGFubm90YXRpb25zXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjb25zdCBnZXREb2N1bWVudGF0aW9uQW5ub3RhdGlvbiA9IC8qI19fUFVSRV9fKi9nZXRBbm5vdGF0aW9uKERvY3VtZW50YXRpb25Bbm5vdGF0aW9uSWQpO1xuLyoqXG4gKiBAY2F0ZWdvcnkgYW5ub3RhdGlvbnNcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNvbnN0IGdldENvbmN1cnJlbmN5QW5ub3RhdGlvbiA9IC8qI19fUFVSRV9fKi9nZXRBbm5vdGF0aW9uKENvbmN1cnJlbmN5QW5ub3RhdGlvbklkKTtcbi8qKlxuICogQGNhdGVnb3J5IGFubm90YXRpb25zXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjb25zdCBnZXRCYXRjaGluZ0Fubm90YXRpb24gPSAvKiNfX1BVUkVfXyovZ2V0QW5ub3RhdGlvbihCYXRjaGluZ0Fubm90YXRpb25JZCk7XG4vKipcbiAqIEBjYXRlZ29yeSBhbm5vdGF0aW9uc1xuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY29uc3QgZ2V0UGFyc2VJc3N1ZVRpdGxlQW5ub3RhdGlvbiA9IC8qI19fUFVSRV9fKi9nZXRBbm5vdGF0aW9uKFBhcnNlSXNzdWVUaXRsZUFubm90YXRpb25JZCk7XG4vKipcbiAqIEBjYXRlZ29yeSBhbm5vdGF0aW9uc1xuICogQHNpbmNlIDAuNjguM1xuICovXG5leHBvcnQgY29uc3QgZ2V0UGFyc2VPcHRpb25zQW5ub3RhdGlvbiA9IC8qI19fUFVSRV9fKi9nZXRBbm5vdGF0aW9uKFBhcnNlT3B0aW9uc0Fubm90YXRpb25JZCk7XG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3QgZ2V0U3Vycm9nYXRlQW5ub3RhdGlvbiA9IC8qI19fUFVSRV9fKi9nZXRBbm5vdGF0aW9uKFN1cnJvZ2F0ZUFubm90YXRpb25JZCk7XG5jb25zdCBnZXRTdGFibGVGaWx0ZXJBbm5vdGF0aW9uID0gLyojX19QVVJFX18qL2dldEFubm90YXRpb24oU3RhYmxlRmlsdGVyQW5ub3RhdGlvbklkKTtcbmNvbnN0IEpTT05JZGVudGlmaWVyQW5ub3RhdGlvbklkID0gLyojX19QVVJFX18qL1N5bWJvbC5mb3IoXCJAZWZmZWN0L3NjaGVtYS9hbm5vdGF0aW9uL0pTT05JZGVudGlmaWVyXCIpO1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IGdldEpTT05JZGVudGlmaWVyQW5ub3RhdGlvbiA9IC8qI19fUFVSRV9fKi9nZXRBbm5vdGF0aW9uKEpTT05JZGVudGlmaWVyQW5ub3RhdGlvbklkKTtcbi8qKlxuICogQGNhdGVnb3J5IG1vZGVsXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjbGFzcyBEZWNsYXJhdGlvbiB7XG4gIHR5cGVQYXJhbWV0ZXJzO1xuICBkZWNvZGVVbmtub3duO1xuICBlbmNvZGVVbmtub3duO1xuICBhbm5vdGF0aW9ucztcbiAgLyoqXG4gICAqIEBzaW5jZSAwLjY3LjBcbiAgICovXG4gIF90YWcgPSBcIkRlY2xhcmF0aW9uXCI7XG4gIGNvbnN0cnVjdG9yKHR5cGVQYXJhbWV0ZXJzLCBkZWNvZGVVbmtub3duLCBlbmNvZGVVbmtub3duLCBhbm5vdGF0aW9ucyA9IHt9KSB7XG4gICAgdGhpcy50eXBlUGFyYW1ldGVycyA9IHR5cGVQYXJhbWV0ZXJzO1xuICAgIHRoaXMuZGVjb2RlVW5rbm93biA9IGRlY29kZVVua25vd247XG4gICAgdGhpcy5lbmNvZGVVbmtub3duID0gZW5jb2RlVW5rbm93bjtcbiAgICB0aGlzLmFubm90YXRpb25zID0gYW5ub3RhdGlvbnM7XG4gIH1cbiAgLyoqXG4gICAqIEBzaW5jZSAwLjY3LjBcbiAgICovXG4gIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiBPcHRpb24uZ2V0T3JFbHNlKGdldEV4cGVjdGVkKHRoaXMpLCAoKSA9PiBcIjxkZWNsYXJhdGlvbiBzY2hlbWE+XCIpO1xuICB9XG4gIC8qKlxuICAgKiBAc2luY2UgMC42Ny4wXG4gICAqL1xuICB0b0pTT04oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIF90YWc6IHRoaXMuX3RhZyxcbiAgICAgIHR5cGVQYXJhbWV0ZXJzOiB0aGlzLnR5cGVQYXJhbWV0ZXJzLm1hcChhc3QgPT4gYXN0LnRvSlNPTigpKSxcbiAgICAgIGFubm90YXRpb25zOiB0b0pTT05Bbm5vdGF0aW9ucyh0aGlzLmFubm90YXRpb25zKVxuICAgIH07XG4gIH1cbn1cbmNvbnN0IGNyZWF0ZUFTVEd1YXJkID0gdGFnID0+IGFzdCA9PiBhc3QuX3RhZyA9PT0gdGFnO1xuLyoqXG4gKiBAY2F0ZWdvcnkgZ3VhcmRzXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjb25zdCBpc0RlY2xhcmF0aW9uID0gLyojX19QVVJFX18qL2NyZWF0ZUFTVEd1YXJkKFwiRGVjbGFyYXRpb25cIik7XG4vKipcbiAqIEBjYXRlZ29yeSBtb2RlbFxuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY2xhc3MgTGl0ZXJhbCB7XG4gIGxpdGVyYWw7XG4gIGFubm90YXRpb25zO1xuICAvKipcbiAgICogQHNpbmNlIDAuNjcuMFxuICAgKi9cbiAgX3RhZyA9IFwiTGl0ZXJhbFwiO1xuICBjb25zdHJ1Y3RvcihsaXRlcmFsLCBhbm5vdGF0aW9ucyA9IHt9KSB7XG4gICAgdGhpcy5saXRlcmFsID0gbGl0ZXJhbDtcbiAgICB0aGlzLmFubm90YXRpb25zID0gYW5ub3RhdGlvbnM7XG4gIH1cbiAgLyoqXG4gICAqIEBzaW5jZSAwLjY3LjBcbiAgICovXG4gIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiBPcHRpb24uZ2V0T3JFbHNlKGdldEV4cGVjdGVkKHRoaXMpLCAoKSA9PiB1dGlsXy5mb3JtYXRVbmtub3duKHRoaXMubGl0ZXJhbCkpO1xuICB9XG4gIC8qKlxuICAgKiBAc2luY2UgMC42Ny4wXG4gICAqL1xuICB0b0pTT04oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIF90YWc6IHRoaXMuX3RhZyxcbiAgICAgIGxpdGVyYWw6IFByZWRpY2F0ZS5pc0JpZ0ludCh0aGlzLmxpdGVyYWwpID8gU3RyaW5nKHRoaXMubGl0ZXJhbCkgOiB0aGlzLmxpdGVyYWwsXG4gICAgICBhbm5vdGF0aW9uczogdG9KU09OQW5ub3RhdGlvbnModGhpcy5hbm5vdGF0aW9ucylcbiAgICB9O1xuICB9XG59XG4vKipcbiAqIEBjYXRlZ29yeSBndWFyZHNcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNvbnN0IGlzTGl0ZXJhbCA9IC8qI19fUFVSRV9fKi9jcmVhdGVBU1RHdWFyZChcIkxpdGVyYWxcIik7XG5jb25zdCAkbnVsbCA9IC8qI19fUFVSRV9fKi9uZXcgTGl0ZXJhbChudWxsLCB7XG4gIFtJZGVudGlmaWVyQW5ub3RhdGlvbklkXTogXCJudWxsXCJcbn0pO1xuZXhwb3J0IHtcbi8qKlxuICogQGNhdGVnb3J5IGNvbnN0cnVjdG9yc1xuICogQHNpbmNlIDAuNjcuMFxuICovXG4kbnVsbCBhcyBudWxsIH07XG4vKipcbiAqIEBjYXRlZ29yeSBtb2RlbFxuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY2xhc3MgVW5pcXVlU3ltYm9sIHtcbiAgc3ltYm9sO1xuICBhbm5vdGF0aW9ucztcbiAgLyoqXG4gICAqIEBzaW5jZSAwLjY3LjBcbiAgICovXG4gIF90YWcgPSBcIlVuaXF1ZVN5bWJvbFwiO1xuICBjb25zdHJ1Y3RvcihzeW1ib2wsIGFubm90YXRpb25zID0ge30pIHtcbiAgICB0aGlzLnN5bWJvbCA9IHN5bWJvbDtcbiAgICB0aGlzLmFubm90YXRpb25zID0gYW5ub3RhdGlvbnM7XG4gIH1cbiAgLyoqXG4gICAqIEBzaW5jZSAwLjY3LjBcbiAgICovXG4gIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiBPcHRpb24uZ2V0T3JFbHNlKGdldEV4cGVjdGVkKHRoaXMpLCAoKSA9PiB1dGlsXy5mb3JtYXRVbmtub3duKHRoaXMuc3ltYm9sKSk7XG4gIH1cbiAgLyoqXG4gICAqIEBzaW5jZSAwLjY3LjBcbiAgICovXG4gIHRvSlNPTigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgX3RhZzogdGhpcy5fdGFnLFxuICAgICAgc3ltYm9sOiBTdHJpbmcodGhpcy5zeW1ib2wpLFxuICAgICAgYW5ub3RhdGlvbnM6IHRvSlNPTkFubm90YXRpb25zKHRoaXMuYW5ub3RhdGlvbnMpXG4gICAgfTtcbiAgfVxufVxuLyoqXG4gKiBAY2F0ZWdvcnkgZ3VhcmRzXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjb25zdCBpc1VuaXF1ZVN5bWJvbCA9IC8qI19fUFVSRV9fKi9jcmVhdGVBU1RHdWFyZChcIlVuaXF1ZVN5bWJvbFwiKTtcbi8qKlxuICogQGNhdGVnb3J5IG1vZGVsXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjbGFzcyBVbmRlZmluZWRLZXl3b3JkIHtcbiAgYW5ub3RhdGlvbnM7XG4gIC8qKlxuICAgKiBAc2luY2UgMC42Ny4wXG4gICAqL1xuICBfdGFnID0gXCJVbmRlZmluZWRLZXl3b3JkXCI7XG4gIGNvbnN0cnVjdG9yKGFubm90YXRpb25zID0ge30pIHtcbiAgICB0aGlzLmFubm90YXRpb25zID0gYW5ub3RhdGlvbnM7XG4gIH1cbiAgLyoqXG4gICAqIEBzaW5jZSAwLjY3LjBcbiAgICovXG4gIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiBmb3JtYXRLZXl3b3JkKHRoaXMpO1xuICB9XG4gIC8qKlxuICAgKiBAc2luY2UgMC42Ny4wXG4gICAqL1xuICB0b0pTT04oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIF90YWc6IHRoaXMuX3RhZyxcbiAgICAgIGFubm90YXRpb25zOiB0b0pTT05Bbm5vdGF0aW9ucyh0aGlzLmFubm90YXRpb25zKVxuICAgIH07XG4gIH1cbn1cbi8qKlxuICogQGNhdGVnb3J5IGNvbnN0cnVjdG9yc1xuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY29uc3QgdW5kZWZpbmVkS2V5d29yZCA9IC8qI19fUFVSRV9fKi9uZXcgVW5kZWZpbmVkS2V5d29yZCh7XG4gIFtUaXRsZUFubm90YXRpb25JZF06IFwidW5kZWZpbmVkXCJcbn0pO1xuLyoqXG4gKiBAY2F0ZWdvcnkgZ3VhcmRzXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjb25zdCBpc1VuZGVmaW5lZEtleXdvcmQgPSAvKiNfX1BVUkVfXyovY3JlYXRlQVNUR3VhcmQoXCJVbmRlZmluZWRLZXl3b3JkXCIpO1xuLyoqXG4gKiBAY2F0ZWdvcnkgbW9kZWxcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNsYXNzIFZvaWRLZXl3b3JkIHtcbiAgYW5ub3RhdGlvbnM7XG4gIC8qKlxuICAgKiBAc2luY2UgMC42Ny4wXG4gICAqL1xuICBfdGFnID0gXCJWb2lkS2V5d29yZFwiO1xuICBjb25zdHJ1Y3Rvcihhbm5vdGF0aW9ucyA9IHt9KSB7XG4gICAgdGhpcy5hbm5vdGF0aW9ucyA9IGFubm90YXRpb25zO1xuICB9XG4gIC8qKlxuICAgKiBAc2luY2UgMC42Ny4wXG4gICAqL1xuICB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gZm9ybWF0S2V5d29yZCh0aGlzKTtcbiAgfVxuICAvKipcbiAgICogQHNpbmNlIDAuNjcuMFxuICAgKi9cbiAgdG9KU09OKCkge1xuICAgIHJldHVybiB7XG4gICAgICBfdGFnOiB0aGlzLl90YWcsXG4gICAgICBhbm5vdGF0aW9uczogdG9KU09OQW5ub3RhdGlvbnModGhpcy5hbm5vdGF0aW9ucylcbiAgICB9O1xuICB9XG59XG4vKipcbiAqIEBjYXRlZ29yeSBjb25zdHJ1Y3RvcnNcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNvbnN0IHZvaWRLZXl3b3JkID0gLyojX19QVVJFX18qL25ldyBWb2lkS2V5d29yZCh7XG4gIFtUaXRsZUFubm90YXRpb25JZF06IFwidm9pZFwiXG59KTtcbi8qKlxuICogQGNhdGVnb3J5IGd1YXJkc1xuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY29uc3QgaXNWb2lkS2V5d29yZCA9IC8qI19fUFVSRV9fKi9jcmVhdGVBU1RHdWFyZChcIlZvaWRLZXl3b3JkXCIpO1xuLyoqXG4gKiBAY2F0ZWdvcnkgbW9kZWxcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNsYXNzIE5ldmVyS2V5d29yZCB7XG4gIGFubm90YXRpb25zO1xuICAvKipcbiAgICogQHNpbmNlIDAuNjcuMFxuICAgKi9cbiAgX3RhZyA9IFwiTmV2ZXJLZXl3b3JkXCI7XG4gIGNvbnN0cnVjdG9yKGFubm90YXRpb25zID0ge30pIHtcbiAgICB0aGlzLmFubm90YXRpb25zID0gYW5ub3RhdGlvbnM7XG4gIH1cbiAgLyoqXG4gICAqIEBzaW5jZSAwLjY3LjBcbiAgICovXG4gIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiBmb3JtYXRLZXl3b3JkKHRoaXMpO1xuICB9XG4gIC8qKlxuICAgKiBAc2luY2UgMC42Ny4wXG4gICAqL1xuICB0b0pTT04oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIF90YWc6IHRoaXMuX3RhZyxcbiAgICAgIGFubm90YXRpb25zOiB0b0pTT05Bbm5vdGF0aW9ucyh0aGlzLmFubm90YXRpb25zKVxuICAgIH07XG4gIH1cbn1cbi8qKlxuICogQGNhdGVnb3J5IGNvbnN0cnVjdG9yc1xuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY29uc3QgbmV2ZXJLZXl3b3JkID0gLyojX19QVVJFX18qL25ldyBOZXZlcktleXdvcmQoe1xuICBbVGl0bGVBbm5vdGF0aW9uSWRdOiBcIm5ldmVyXCJcbn0pO1xuLyoqXG4gKiBAY2F0ZWdvcnkgZ3VhcmRzXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjb25zdCBpc05ldmVyS2V5d29yZCA9IC8qI19fUFVSRV9fKi9jcmVhdGVBU1RHdWFyZChcIk5ldmVyS2V5d29yZFwiKTtcbi8qKlxuICogQGNhdGVnb3J5IG1vZGVsXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjbGFzcyBVbmtub3duS2V5d29yZCB7XG4gIGFubm90YXRpb25zO1xuICAvKipcbiAgICogQHNpbmNlIDAuNjcuMFxuICAgKi9cbiAgX3RhZyA9IFwiVW5rbm93bktleXdvcmRcIjtcbiAgY29uc3RydWN0b3IoYW5ub3RhdGlvbnMgPSB7fSkge1xuICAgIHRoaXMuYW5ub3RhdGlvbnMgPSBhbm5vdGF0aW9ucztcbiAgfVxuICAvKipcbiAgICogQHNpbmNlIDAuNjcuMFxuICAgKi9cbiAgdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIGZvcm1hdEtleXdvcmQodGhpcyk7XG4gIH1cbiAgLyoqXG4gICAqIEBzaW5jZSAwLjY3LjBcbiAgICovXG4gIHRvSlNPTigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgX3RhZzogdGhpcy5fdGFnLFxuICAgICAgYW5ub3RhdGlvbnM6IHRvSlNPTkFubm90YXRpb25zKHRoaXMuYW5ub3RhdGlvbnMpXG4gICAgfTtcbiAgfVxufVxuLyoqXG4gKiBAY2F0ZWdvcnkgY29uc3RydWN0b3JzXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjb25zdCB1bmtub3duS2V5d29yZCA9IC8qI19fUFVSRV9fKi9uZXcgVW5rbm93bktleXdvcmQoe1xuICBbVGl0bGVBbm5vdGF0aW9uSWRdOiBcInVua25vd25cIlxufSk7XG4vKipcbiAqIEBjYXRlZ29yeSBndWFyZHNcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNvbnN0IGlzVW5rbm93bktleXdvcmQgPSAvKiNfX1BVUkVfXyovY3JlYXRlQVNUR3VhcmQoXCJVbmtub3duS2V5d29yZFwiKTtcbi8qKlxuICogQGNhdGVnb3J5IG1vZGVsXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjbGFzcyBBbnlLZXl3b3JkIHtcbiAgYW5ub3RhdGlvbnM7XG4gIC8qKlxuICAgKiBAc2luY2UgMC42Ny4wXG4gICAqL1xuICBfdGFnID0gXCJBbnlLZXl3b3JkXCI7XG4gIGNvbnN0cnVjdG9yKGFubm90YXRpb25zID0ge30pIHtcbiAgICB0aGlzLmFubm90YXRpb25zID0gYW5ub3RhdGlvbnM7XG4gIH1cbiAgLyoqXG4gICAqIEBzaW5jZSAwLjY3LjBcbiAgICovXG4gIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiBmb3JtYXRLZXl3b3JkKHRoaXMpO1xuICB9XG4gIC8qKlxuICAgKiBAc2luY2UgMC42Ny4wXG4gICAqL1xuICB0b0pTT04oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIF90YWc6IHRoaXMuX3RhZyxcbiAgICAgIGFubm90YXRpb25zOiB0b0pTT05Bbm5vdGF0aW9ucyh0aGlzLmFubm90YXRpb25zKVxuICAgIH07XG4gIH1cbn1cbi8qKlxuICogQGNhdGVnb3J5IGNvbnN0cnVjdG9yc1xuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY29uc3QgYW55S2V5d29yZCA9IC8qI19fUFVSRV9fKi9uZXcgQW55S2V5d29yZCh7XG4gIFtUaXRsZUFubm90YXRpb25JZF06IFwiYW55XCJcbn0pO1xuLyoqXG4gKiBAY2F0ZWdvcnkgZ3VhcmRzXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjb25zdCBpc0FueUtleXdvcmQgPSAvKiNfX1BVUkVfXyovY3JlYXRlQVNUR3VhcmQoXCJBbnlLZXl3b3JkXCIpO1xuLyoqXG4gKiBAY2F0ZWdvcnkgbW9kZWxcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNsYXNzIFN0cmluZ0tleXdvcmQge1xuICBhbm5vdGF0aW9ucztcbiAgLyoqXG4gICAqIEBzaW5jZSAwLjY3LjBcbiAgICovXG4gIF90YWcgPSBcIlN0cmluZ0tleXdvcmRcIjtcbiAgY29uc3RydWN0b3IoYW5ub3RhdGlvbnMgPSB7fSkge1xuICAgIHRoaXMuYW5ub3RhdGlvbnMgPSBhbm5vdGF0aW9ucztcbiAgfVxuICAvKipcbiAgICogQHNpbmNlIDAuNjcuMFxuICAgKi9cbiAgdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIGZvcm1hdEtleXdvcmQodGhpcyk7XG4gIH1cbiAgLyoqXG4gICAqIEBzaW5jZSAwLjY3LjBcbiAgICovXG4gIHRvSlNPTigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgX3RhZzogdGhpcy5fdGFnLFxuICAgICAgYW5ub3RhdGlvbnM6IHRvSlNPTkFubm90YXRpb25zKHRoaXMuYW5ub3RhdGlvbnMpXG4gICAgfTtcbiAgfVxufVxuLyoqXG4gKiBAY2F0ZWdvcnkgY29uc3RydWN0b3JzXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjb25zdCBzdHJpbmdLZXl3b3JkID0gLyojX19QVVJFX18qL25ldyBTdHJpbmdLZXl3b3JkKHtcbiAgW1RpdGxlQW5ub3RhdGlvbklkXTogXCJzdHJpbmdcIixcbiAgW0Rlc2NyaXB0aW9uQW5ub3RhdGlvbklkXTogXCJhIHN0cmluZ1wiXG59KTtcbi8qKlxuICogQGNhdGVnb3J5IGd1YXJkc1xuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY29uc3QgaXNTdHJpbmdLZXl3b3JkID0gLyojX19QVVJFX18qL2NyZWF0ZUFTVEd1YXJkKFwiU3RyaW5nS2V5d29yZFwiKTtcbi8qKlxuICogQGNhdGVnb3J5IG1vZGVsXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjbGFzcyBOdW1iZXJLZXl3b3JkIHtcbiAgYW5ub3RhdGlvbnM7XG4gIC8qKlxuICAgKiBAc2luY2UgMC42Ny4wXG4gICAqL1xuICBfdGFnID0gXCJOdW1iZXJLZXl3b3JkXCI7XG4gIGNvbnN0cnVjdG9yKGFubm90YXRpb25zID0ge30pIHtcbiAgICB0aGlzLmFubm90YXRpb25zID0gYW5ub3RhdGlvbnM7XG4gIH1cbiAgLyoqXG4gICAqIEBzaW5jZSAwLjY3LjBcbiAgICovXG4gIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiBmb3JtYXRLZXl3b3JkKHRoaXMpO1xuICB9XG4gIC8qKlxuICAgKiBAc2luY2UgMC42Ny4wXG4gICAqL1xuICB0b0pTT04oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIF90YWc6IHRoaXMuX3RhZyxcbiAgICAgIGFubm90YXRpb25zOiB0b0pTT05Bbm5vdGF0aW9ucyh0aGlzLmFubm90YXRpb25zKVxuICAgIH07XG4gIH1cbn1cbi8qKlxuICogQGNhdGVnb3J5IGNvbnN0cnVjdG9yc1xuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY29uc3QgbnVtYmVyS2V5d29yZCA9IC8qI19fUFVSRV9fKi9uZXcgTnVtYmVyS2V5d29yZCh7XG4gIFtUaXRsZUFubm90YXRpb25JZF06IFwibnVtYmVyXCIsXG4gIFtEZXNjcmlwdGlvbkFubm90YXRpb25JZF06IFwiYSBudW1iZXJcIlxufSk7XG4vKipcbiAqIEBjYXRlZ29yeSBndWFyZHNcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNvbnN0IGlzTnVtYmVyS2V5d29yZCA9IC8qI19fUFVSRV9fKi9jcmVhdGVBU1RHdWFyZChcIk51bWJlcktleXdvcmRcIik7XG4vKipcbiAqIEBjYXRlZ29yeSBtb2RlbFxuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY2xhc3MgQm9vbGVhbktleXdvcmQge1xuICBhbm5vdGF0aW9ucztcbiAgLyoqXG4gICAqIEBzaW5jZSAwLjY3LjBcbiAgICovXG4gIF90YWcgPSBcIkJvb2xlYW5LZXl3b3JkXCI7XG4gIGNvbnN0cnVjdG9yKGFubm90YXRpb25zID0ge30pIHtcbiAgICB0aGlzLmFubm90YXRpb25zID0gYW5ub3RhdGlvbnM7XG4gIH1cbiAgLyoqXG4gICAqIEBzaW5jZSAwLjY3LjBcbiAgICovXG4gIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiBmb3JtYXRLZXl3b3JkKHRoaXMpO1xuICB9XG4gIC8qKlxuICAgKiBAc2luY2UgMC42Ny4wXG4gICAqL1xuICB0b0pTT04oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIF90YWc6IHRoaXMuX3RhZyxcbiAgICAgIGFubm90YXRpb25zOiB0b0pTT05Bbm5vdGF0aW9ucyh0aGlzLmFubm90YXRpb25zKVxuICAgIH07XG4gIH1cbn1cbi8qKlxuICogQGNhdGVnb3J5IGNvbnN0cnVjdG9yc1xuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY29uc3QgYm9vbGVhbktleXdvcmQgPSAvKiNfX1BVUkVfXyovbmV3IEJvb2xlYW5LZXl3b3JkKHtcbiAgW1RpdGxlQW5ub3RhdGlvbklkXTogXCJib29sZWFuXCIsXG4gIFtEZXNjcmlwdGlvbkFubm90YXRpb25JZF06IFwiYSBib29sZWFuXCJcbn0pO1xuLyoqXG4gKiBAY2F0ZWdvcnkgZ3VhcmRzXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjb25zdCBpc0Jvb2xlYW5LZXl3b3JkID0gLyojX19QVVJFX18qL2NyZWF0ZUFTVEd1YXJkKFwiQm9vbGVhbktleXdvcmRcIik7XG4vKipcbiAqIEBjYXRlZ29yeSBtb2RlbFxuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY2xhc3MgQmlnSW50S2V5d29yZCB7XG4gIGFubm90YXRpb25zO1xuICAvKipcbiAgICogQHNpbmNlIDAuNjcuMFxuICAgKi9cbiAgX3RhZyA9IFwiQmlnSW50S2V5d29yZFwiO1xuICBjb25zdHJ1Y3Rvcihhbm5vdGF0aW9ucyA9IHt9KSB7XG4gICAgdGhpcy5hbm5vdGF0aW9ucyA9IGFubm90YXRpb25zO1xuICB9XG4gIC8qKlxuICAgKiBAc2luY2UgMC42Ny4wXG4gICAqL1xuICB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gZm9ybWF0S2V5d29yZCh0aGlzKTtcbiAgfVxuICAvKipcbiAgICogQHNpbmNlIDAuNjcuMFxuICAgKi9cbiAgdG9KU09OKCkge1xuICAgIHJldHVybiB7XG4gICAgICBfdGFnOiB0aGlzLl90YWcsXG4gICAgICBhbm5vdGF0aW9uczogdG9KU09OQW5ub3RhdGlvbnModGhpcy5hbm5vdGF0aW9ucylcbiAgICB9O1xuICB9XG59XG4vKipcbiAqIEBjYXRlZ29yeSBjb25zdHJ1Y3RvcnNcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNvbnN0IGJpZ0ludEtleXdvcmQgPSAvKiNfX1BVUkVfXyovbmV3IEJpZ0ludEtleXdvcmQoe1xuICBbVGl0bGVBbm5vdGF0aW9uSWRdOiBcImJpZ2ludFwiLFxuICBbRGVzY3JpcHRpb25Bbm5vdGF0aW9uSWRdOiBcImEgYmlnaW50XCJcbn0pO1xuLyoqXG4gKiBAY2F0ZWdvcnkgZ3VhcmRzXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjb25zdCBpc0JpZ0ludEtleXdvcmQgPSAvKiNfX1BVUkVfXyovY3JlYXRlQVNUR3VhcmQoXCJCaWdJbnRLZXl3b3JkXCIpO1xuLyoqXG4gKiBAY2F0ZWdvcnkgbW9kZWxcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNsYXNzIFN5bWJvbEtleXdvcmQge1xuICBhbm5vdGF0aW9ucztcbiAgLyoqXG4gICAqIEBzaW5jZSAwLjY3LjBcbiAgICovXG4gIF90YWcgPSBcIlN5bWJvbEtleXdvcmRcIjtcbiAgY29uc3RydWN0b3IoYW5ub3RhdGlvbnMgPSB7fSkge1xuICAgIHRoaXMuYW5ub3RhdGlvbnMgPSBhbm5vdGF0aW9ucztcbiAgfVxuICAvKipcbiAgICogQHNpbmNlIDAuNjcuMFxuICAgKi9cbiAgdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIGZvcm1hdEtleXdvcmQodGhpcyk7XG4gIH1cbiAgLyoqXG4gICAqIEBzaW5jZSAwLjY3LjBcbiAgICovXG4gIHRvSlNPTigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgX3RhZzogdGhpcy5fdGFnLFxuICAgICAgYW5ub3RhdGlvbnM6IHRvSlNPTkFubm90YXRpb25zKHRoaXMuYW5ub3RhdGlvbnMpXG4gICAgfTtcbiAgfVxufVxuLyoqXG4gKiBAY2F0ZWdvcnkgY29uc3RydWN0b3JzXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjb25zdCBzeW1ib2xLZXl3b3JkID0gLyojX19QVVJFX18qL25ldyBTeW1ib2xLZXl3b3JkKHtcbiAgW1RpdGxlQW5ub3RhdGlvbklkXTogXCJzeW1ib2xcIixcbiAgW0Rlc2NyaXB0aW9uQW5ub3RhdGlvbklkXTogXCJhIHN5bWJvbFwiXG59KTtcbi8qKlxuICogQGNhdGVnb3J5IGd1YXJkc1xuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY29uc3QgaXNTeW1ib2xLZXl3b3JkID0gLyojX19QVVJFX18qL2NyZWF0ZUFTVEd1YXJkKFwiU3ltYm9sS2V5d29yZFwiKTtcbi8qKlxuICogQGNhdGVnb3J5IG1vZGVsXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjbGFzcyBPYmplY3RLZXl3b3JkIHtcbiAgYW5ub3RhdGlvbnM7XG4gIC8qKlxuICAgKiBAc2luY2UgMC42Ny4wXG4gICAqL1xuICBfdGFnID0gXCJPYmplY3RLZXl3b3JkXCI7XG4gIGNvbnN0cnVjdG9yKGFubm90YXRpb25zID0ge30pIHtcbiAgICB0aGlzLmFubm90YXRpb25zID0gYW5ub3RhdGlvbnM7XG4gIH1cbiAgLyoqXG4gICAqIEBzaW5jZSAwLjY3LjBcbiAgICovXG4gIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiBmb3JtYXRLZXl3b3JkKHRoaXMpO1xuICB9XG4gIC8qKlxuICAgKiBAc2luY2UgMC42Ny4wXG4gICAqL1xuICB0b0pTT04oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIF90YWc6IHRoaXMuX3RhZyxcbiAgICAgIGFubm90YXRpb25zOiB0b0pTT05Bbm5vdGF0aW9ucyh0aGlzLmFubm90YXRpb25zKVxuICAgIH07XG4gIH1cbn1cbi8qKlxuICogQGNhdGVnb3J5IGNvbnN0cnVjdG9yc1xuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY29uc3Qgb2JqZWN0S2V5d29yZCA9IC8qI19fUFVSRV9fKi9uZXcgT2JqZWN0S2V5d29yZCh7XG4gIFtJZGVudGlmaWVyQW5ub3RhdGlvbklkXTogXCJvYmplY3RcIixcbiAgW1RpdGxlQW5ub3RhdGlvbklkXTogXCJvYmplY3RcIixcbiAgW0Rlc2NyaXB0aW9uQW5ub3RhdGlvbklkXTogXCJhbiBvYmplY3QgaW4gdGhlIFR5cGVTY3JpcHQgbWVhbmluZywgaS5lLiB0aGUgYG9iamVjdGAgdHlwZVwiXG59KTtcbi8qKlxuICogQGNhdGVnb3J5IGd1YXJkc1xuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY29uc3QgaXNPYmplY3RLZXl3b3JkID0gLyojX19QVVJFX18qL2NyZWF0ZUFTVEd1YXJkKFwiT2JqZWN0S2V5d29yZFwiKTtcbi8qKlxuICogQGNhdGVnb3J5IG1vZGVsXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjbGFzcyBFbnVtcyB7XG4gIGVudW1zO1xuICBhbm5vdGF0aW9ucztcbiAgLyoqXG4gICAqIEBzaW5jZSAwLjY3LjBcbiAgICovXG4gIF90YWcgPSBcIkVudW1zXCI7XG4gIGNvbnN0cnVjdG9yKGVudW1zLCBhbm5vdGF0aW9ucyA9IHt9KSB7XG4gICAgdGhpcy5lbnVtcyA9IGVudW1zO1xuICAgIHRoaXMuYW5ub3RhdGlvbnMgPSBhbm5vdGF0aW9ucztcbiAgfVxuICAvKipcbiAgICogQHNpbmNlIDAuNjcuMFxuICAgKi9cbiAgdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIE9wdGlvbi5nZXRPckVsc2UoZ2V0RXhwZWN0ZWQodGhpcyksICgpID0+IGA8ZW51bSAke3RoaXMuZW51bXMubGVuZ3RofSB2YWx1ZShzKTogJHt0aGlzLmVudW1zLm1hcCgoXywgdmFsdWUpID0+IEpTT04uc3RyaW5naWZ5KHZhbHVlKSkuam9pbihcIiB8IFwiKX0+YCk7XG4gIH1cbiAgLyoqXG4gICAqIEBzaW5jZSAwLjY3LjBcbiAgICovXG4gIHRvSlNPTigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgX3RhZzogdGhpcy5fdGFnLFxuICAgICAgZW51bXM6IHRoaXMuZW51bXMsXG4gICAgICBhbm5vdGF0aW9uczogdG9KU09OQW5ub3RhdGlvbnModGhpcy5hbm5vdGF0aW9ucylcbiAgICB9O1xuICB9XG59XG4vKipcbiAqIEBjYXRlZ29yeSBndWFyZHNcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNvbnN0IGlzRW51bXMgPSAvKiNfX1BVUkVfXyovY3JlYXRlQVNUR3VhcmQoXCJFbnVtc1wiKTtcbi8qKlxuICogQGNhdGVnb3J5IG1vZGVsXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjbGFzcyBUZW1wbGF0ZUxpdGVyYWxTcGFuIHtcbiAgdHlwZTtcbiAgbGl0ZXJhbDtcbiAgY29uc3RydWN0b3IodHlwZSwgbGl0ZXJhbCkge1xuICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gICAgdGhpcy5saXRlcmFsID0gbGl0ZXJhbDtcbiAgfVxuICAvKipcbiAgICogQHNpbmNlIDAuNjcuMFxuICAgKi9cbiAgdG9TdHJpbmcoKSB7XG4gICAgc3dpdGNoICh0aGlzLnR5cGUuX3RhZykge1xuICAgICAgY2FzZSBcIlN0cmluZ0tleXdvcmRcIjpcbiAgICAgICAgcmV0dXJuIFwiJHtzdHJpbmd9XCI7XG4gICAgICBjYXNlIFwiTnVtYmVyS2V5d29yZFwiOlxuICAgICAgICByZXR1cm4gXCIke251bWJlcn1cIjtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIEBzaW5jZSAwLjY3LjBcbiAgICovXG4gIHRvSlNPTigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogdGhpcy50eXBlLnRvSlNPTigpLFxuICAgICAgbGl0ZXJhbDogdGhpcy5saXRlcmFsXG4gICAgfTtcbiAgfVxufVxuLyoqXG4gKiBAY2F0ZWdvcnkgbW9kZWxcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNsYXNzIFRlbXBsYXRlTGl0ZXJhbCB7XG4gIGhlYWQ7XG4gIHNwYW5zO1xuICBhbm5vdGF0aW9ucztcbiAgLyoqXG4gICAqIEBzaW5jZSAwLjY3LjBcbiAgICovXG4gIF90YWcgPSBcIlRlbXBsYXRlTGl0ZXJhbFwiO1xuICBjb25zdHJ1Y3RvcihoZWFkLCBzcGFucywgYW5ub3RhdGlvbnMgPSB7fSkge1xuICAgIHRoaXMuaGVhZCA9IGhlYWQ7XG4gICAgdGhpcy5zcGFucyA9IHNwYW5zO1xuICAgIHRoaXMuYW5ub3RhdGlvbnMgPSBhbm5vdGF0aW9ucztcbiAgfVxuICAvKipcbiAgICogQHNpbmNlIDAuNjcuMFxuICAgKi9cbiAgdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIE9wdGlvbi5nZXRPckVsc2UoZ2V0RXhwZWN0ZWQodGhpcyksICgpID0+IGZvcm1hdFRlbXBsYXRlTGl0ZXJhbCh0aGlzKSk7XG4gIH1cbiAgLyoqXG4gICAqIEBzaW5jZSAwLjY3LjBcbiAgICovXG4gIHRvSlNPTigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgX3RhZzogdGhpcy5fdGFnLFxuICAgICAgaGVhZDogdGhpcy5oZWFkLFxuICAgICAgc3BhbnM6IHRoaXMuc3BhbnMubWFwKHNwYW4gPT4gc3Bhbi50b0pTT04oKSksXG4gICAgICBhbm5vdGF0aW9uczogdG9KU09OQW5ub3RhdGlvbnModGhpcy5hbm5vdGF0aW9ucylcbiAgICB9O1xuICB9XG59XG5jb25zdCBmb3JtYXRUZW1wbGF0ZUxpdGVyYWwgPSBhc3QgPT4gXCJgXCIgKyBhc3QuaGVhZCArIGFzdC5zcGFucy5tYXAoc3BhbiA9PiBTdHJpbmcoc3BhbikgKyBzcGFuLmxpdGVyYWwpLmpvaW4oXCJcIikgKyBcImBcIjtcbi8qKlxuICogQGNhdGVnb3J5IGd1YXJkc1xuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY29uc3QgaXNUZW1wbGF0ZUxpdGVyYWwgPSAvKiNfX1BVUkVfXyovY3JlYXRlQVNUR3VhcmQoXCJUZW1wbGF0ZUxpdGVyYWxcIik7XG4vKipcbiAqIEBjYXRlZ29yeSBtb2RlbFxuICogQHNpbmNlIDAuNjguMFxuICovXG5leHBvcnQgY2xhc3MgVHlwZSB7XG4gIHR5cGU7XG4gIGFubm90YXRpb25zO1xuICBjb25zdHJ1Y3Rvcih0eXBlLCBhbm5vdGF0aW9ucyA9IHt9KSB7XG4gICAgdGhpcy50eXBlID0gdHlwZTtcbiAgICB0aGlzLmFubm90YXRpb25zID0gYW5ub3RhdGlvbnM7XG4gIH1cbiAgLyoqXG4gICAqIEBzaW5jZSAwLjY4LjBcbiAgICovXG4gIHRvSlNPTigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogdGhpcy50eXBlLnRvSlNPTigpLFxuICAgICAgYW5ub3RhdGlvbnM6IHRvSlNPTkFubm90YXRpb25zKHRoaXMuYW5ub3RhdGlvbnMpXG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogQHNpbmNlIDAuNjguMFxuICAgKi9cbiAgdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIFN0cmluZyh0aGlzLnR5cGUpO1xuICB9XG59XG4vKipcbiAqIEBjYXRlZ29yeSBtb2RlbFxuICogQHNpbmNlIDAuNjguMFxuICovXG5leHBvcnQgY2xhc3MgT3B0aW9uYWxUeXBlIGV4dGVuZHMgVHlwZSB7XG4gIGlzT3B0aW9uYWw7XG4gIGNvbnN0cnVjdG9yKHR5cGUsIGlzT3B0aW9uYWwsIGFubm90YXRpb25zID0ge30pIHtcbiAgICBzdXBlcih0eXBlLCBhbm5vdGF0aW9ucyk7XG4gICAgdGhpcy5pc09wdGlvbmFsID0gaXNPcHRpb25hbDtcbiAgfVxuICAvKipcbiAgICogQHNpbmNlIDAuNjguMFxuICAgKi9cbiAgdG9KU09OKCkge1xuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiB0aGlzLnR5cGUudG9KU09OKCksXG4gICAgICBpc09wdGlvbmFsOiB0aGlzLmlzT3B0aW9uYWwsXG4gICAgICBhbm5vdGF0aW9uczogdG9KU09OQW5ub3RhdGlvbnModGhpcy5hbm5vdGF0aW9ucylcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBAc2luY2UgMC42OC4wXG4gICAqL1xuICB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gU3RyaW5nKHRoaXMudHlwZSkgKyAodGhpcy5pc09wdGlvbmFsID8gXCI/XCIgOiBcIlwiKTtcbiAgfVxufVxuY29uc3QgZ2V0UmVzdEFTVHMgPSByZXN0ID0+IHJlc3QubWFwKGFubm90YXRlZEFTVCA9PiBhbm5vdGF0ZWRBU1QudHlwZSk7XG4vKipcbiAqIEBjYXRlZ29yeSBtb2RlbFxuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY2xhc3MgVHVwbGVUeXBlIHtcbiAgZWxlbWVudHM7XG4gIHJlc3Q7XG4gIGlzUmVhZG9ubHk7XG4gIGFubm90YXRpb25zO1xuICAvKipcbiAgICogQHNpbmNlIDAuNjcuMFxuICAgKi9cbiAgX3RhZyA9IFwiVHVwbGVUeXBlXCI7XG4gIGNvbnN0cnVjdG9yKGVsZW1lbnRzLCByZXN0LCBpc1JlYWRvbmx5LCBhbm5vdGF0aW9ucyA9IHt9KSB7XG4gICAgdGhpcy5lbGVtZW50cyA9IGVsZW1lbnRzO1xuICAgIHRoaXMucmVzdCA9IHJlc3Q7XG4gICAgdGhpcy5pc1JlYWRvbmx5ID0gaXNSZWFkb25seTtcbiAgICB0aGlzLmFubm90YXRpb25zID0gYW5ub3RhdGlvbnM7XG4gICAgbGV0IGhhc09wdGlvbmFsRWxlbWVudCA9IGZhbHNlO1xuICAgIGxldCBoYXNJbGxlZ2FsUmVxdWlyZWRFbGVtZW50ID0gZmFsc2U7XG4gICAgZm9yIChjb25zdCBlIG9mIGVsZW1lbnRzKSB7XG4gICAgICBpZiAoZS5pc09wdGlvbmFsKSB7XG4gICAgICAgIGhhc09wdGlvbmFsRWxlbWVudCA9IHRydWU7XG4gICAgICB9IGVsc2UgaWYgKGhhc09wdGlvbmFsRWxlbWVudCkge1xuICAgICAgICBoYXNJbGxlZ2FsUmVxdWlyZWRFbGVtZW50ID0gdHJ1ZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChoYXNJbGxlZ2FsUmVxdWlyZWRFbGVtZW50IHx8IGhhc09wdGlvbmFsRWxlbWVudCAmJiByZXN0Lmxlbmd0aCA+IDEpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvcnNfLmdldEFTVFJlcXVpcmVkRWxlbWVudEZvbGxvd2luQW5PcHRpb25hbEVsZW1lbnRFcnJvck1lc3NhZ2UpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogQHNpbmNlIDAuNjcuMFxuICAgKi9cbiAgdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIE9wdGlvbi5nZXRPckVsc2UoZ2V0RXhwZWN0ZWQodGhpcyksICgpID0+IGZvcm1hdFR1cGxlKHRoaXMpKTtcbiAgfVxuICAvKipcbiAgICogQHNpbmNlIDAuNjcuMFxuICAgKi9cbiAgdG9KU09OKCkge1xuICAgIHJldHVybiB7XG4gICAgICBfdGFnOiB0aGlzLl90YWcsXG4gICAgICBlbGVtZW50czogdGhpcy5lbGVtZW50cy5tYXAoZSA9PiBlLnRvSlNPTigpKSxcbiAgICAgIHJlc3Q6IHRoaXMucmVzdC5tYXAoYXN0ID0+IGFzdC50b0pTT04oKSksXG4gICAgICBpc1JlYWRvbmx5OiB0aGlzLmlzUmVhZG9ubHksXG4gICAgICBhbm5vdGF0aW9uczogdG9KU09OQW5ub3RhdGlvbnModGhpcy5hbm5vdGF0aW9ucylcbiAgICB9O1xuICB9XG59XG5jb25zdCBmb3JtYXRUdXBsZSA9IGFzdCA9PiB7XG4gIGNvbnN0IGZvcm1hdHRlZEVsZW1lbnRzID0gYXN0LmVsZW1lbnRzLm1hcChTdHJpbmcpLmpvaW4oXCIsIFwiKTtcbiAgcmV0dXJuIEFyci5tYXRjaExlZnQoYXN0LnJlc3QsIHtcbiAgICBvbkVtcHR5OiAoKSA9PiBgcmVhZG9ubHkgWyR7Zm9ybWF0dGVkRWxlbWVudHN9XWAsXG4gICAgb25Ob25FbXB0eTogKGhlYWQsIHRhaWwpID0+IHtcbiAgICAgIGNvbnN0IGZvcm1hdHRlZEhlYWQgPSBTdHJpbmcoaGVhZCk7XG4gICAgICBjb25zdCB3cmFwcGVkSGVhZCA9IGZvcm1hdHRlZEhlYWQuaW5jbHVkZXMoXCIgfCBcIikgPyBgKCR7Zm9ybWF0dGVkSGVhZH0pYCA6IGZvcm1hdHRlZEhlYWQ7XG4gICAgICBpZiAodGFpbC5sZW5ndGggPiAwKSB7XG4gICAgICAgIGNvbnN0IGZvcm1hdHRlZFRhaWwgPSB0YWlsLm1hcChTdHJpbmcpLmpvaW4oXCIsIFwiKTtcbiAgICAgICAgaWYgKGFzdC5lbGVtZW50cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgcmV0dXJuIGByZWFkb25seSBbJHtmb3JtYXR0ZWRFbGVtZW50c30sIC4uLiR7d3JhcHBlZEhlYWR9W10sICR7Zm9ybWF0dGVkVGFpbH1dYDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gYHJlYWRvbmx5IFsuLi4ke3dyYXBwZWRIZWFkfVtdLCAke2Zvcm1hdHRlZFRhaWx9XWA7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChhc3QuZWxlbWVudHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgIHJldHVybiBgcmVhZG9ubHkgWyR7Zm9ybWF0dGVkRWxlbWVudHN9LCAuLi4ke3dyYXBwZWRIZWFkfVtdXWA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIGBSZWFkb25seUFycmF5PCR7Zm9ybWF0dGVkSGVhZH0+YDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSk7XG59O1xuLyoqXG4gKiBAY2F0ZWdvcnkgZ3VhcmRzXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjb25zdCBpc1R1cGxlVHlwZSA9IC8qI19fUFVSRV9fKi9jcmVhdGVBU1RHdWFyZChcIlR1cGxlVHlwZVwiKTtcbi8qKlxuICogQGNhdGVnb3J5IG1vZGVsXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjbGFzcyBQcm9wZXJ0eVNpZ25hdHVyZSBleHRlbmRzIE9wdGlvbmFsVHlwZSB7XG4gIG5hbWU7XG4gIGlzUmVhZG9ubHk7XG4gIGNvbnN0cnVjdG9yKG5hbWUsIHR5cGUsIGlzT3B0aW9uYWwsIGlzUmVhZG9ubHksIGFubm90YXRpb25zKSB7XG4gICAgc3VwZXIodHlwZSwgaXNPcHRpb25hbCwgYW5ub3RhdGlvbnMpO1xuICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgdGhpcy5pc1JlYWRvbmx5ID0gaXNSZWFkb25seTtcbiAgfVxuICAvKipcbiAgICogQHNpbmNlIDAuNjguMThcbiAgICovXG4gIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiAodGhpcy5pc1JlYWRvbmx5ID8gXCJyZWFkb25seSBcIiA6IFwiXCIpICsgU3RyaW5nKHRoaXMubmFtZSkgKyAodGhpcy5pc09wdGlvbmFsID8gXCI/XCIgOiBcIlwiKSArIFwiOiBcIiArIHRoaXMudHlwZTtcbiAgfVxuICAvKipcbiAgICogQHNpbmNlIDAuNjcuMFxuICAgKi9cbiAgdG9KU09OKCkge1xuICAgIHJldHVybiB7XG4gICAgICBuYW1lOiBTdHJpbmcodGhpcy5uYW1lKSxcbiAgICAgIHR5cGU6IHRoaXMudHlwZS50b0pTT04oKSxcbiAgICAgIGlzT3B0aW9uYWw6IHRoaXMuaXNPcHRpb25hbCxcbiAgICAgIGlzUmVhZG9ubHk6IHRoaXMuaXNSZWFkb25seSxcbiAgICAgIGFubm90YXRpb25zOiB0b0pTT05Bbm5vdGF0aW9ucyh0aGlzLmFubm90YXRpb25zKVxuICAgIH07XG4gIH1cbn1cbi8qKlxuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY29uc3QgaXNQYXJhbWV0ZXIgPSBhc3QgPT4ge1xuICBzd2l0Y2ggKGFzdC5fdGFnKSB7XG4gICAgY2FzZSBcIlN0cmluZ0tleXdvcmRcIjpcbiAgICBjYXNlIFwiU3ltYm9sS2V5d29yZFwiOlxuICAgIGNhc2UgXCJUZW1wbGF0ZUxpdGVyYWxcIjpcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIGNhc2UgXCJSZWZpbmVtZW50XCI6XG4gICAgICByZXR1cm4gaXNQYXJhbWV0ZXIoYXN0LmZyb20pO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn07XG4vKipcbiAqIEBjYXRlZ29yeSBtb2RlbFxuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY2xhc3MgSW5kZXhTaWduYXR1cmUge1xuICB0eXBlO1xuICBpc1JlYWRvbmx5O1xuICAvKipcbiAgICogQHNpbmNlIDAuNjcuMFxuICAgKi9cbiAgcGFyYW1ldGVyO1xuICBjb25zdHJ1Y3RvcihwYXJhbWV0ZXIsIHR5cGUsIGlzUmVhZG9ubHkpIHtcbiAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgIHRoaXMuaXNSZWFkb25seSA9IGlzUmVhZG9ubHk7XG4gICAgaWYgKGlzUGFyYW1ldGVyKHBhcmFtZXRlcikpIHtcbiAgICAgIHRoaXMucGFyYW1ldGVyID0gcGFyYW1ldGVyO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JzXy5nZXRBU1RJbmRleFNpZ25hdHVyZVBhcmFtZXRlckVycm9yTWVzc2FnZSk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBAc2luY2UgMC42OC4xOFxuICAgKi9cbiAgdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuICh0aGlzLmlzUmVhZG9ubHkgPyBcInJlYWRvbmx5IFwiIDogXCJcIikgKyBgW3g6ICR7dGhpcy5wYXJhbWV0ZXJ9XTogJHt0aGlzLnR5cGV9YDtcbiAgfVxuICAvKipcbiAgICogQHNpbmNlIDAuNjcuMFxuICAgKi9cbiAgdG9KU09OKCkge1xuICAgIHJldHVybiB7XG4gICAgICBwYXJhbWV0ZXI6IHRoaXMucGFyYW1ldGVyLnRvSlNPTigpLFxuICAgICAgdHlwZTogdGhpcy50eXBlLnRvSlNPTigpLFxuICAgICAgaXNSZWFkb25seTogdGhpcy5pc1JlYWRvbmx5XG4gICAgfTtcbiAgfVxufVxuLyoqXG4gKiBAY2F0ZWdvcnkgbW9kZWxcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNsYXNzIFR5cGVMaXRlcmFsIHtcbiAgYW5ub3RhdGlvbnM7XG4gIC8qKlxuICAgKiBAc2luY2UgMC42Ny4wXG4gICAqL1xuICBfdGFnID0gXCJUeXBlTGl0ZXJhbFwiO1xuICAvKipcbiAgICogQHNpbmNlIDAuNjcuMFxuICAgKi9cbiAgcHJvcGVydHlTaWduYXR1cmVzO1xuICAvKipcbiAgICogQHNpbmNlIDAuNjcuMFxuICAgKi9cbiAgaW5kZXhTaWduYXR1cmVzO1xuICBjb25zdHJ1Y3Rvcihwcm9wZXJ0eVNpZ25hdHVyZXMsIGluZGV4U2lnbmF0dXJlcywgYW5ub3RhdGlvbnMgPSB7fSkge1xuICAgIHRoaXMuYW5ub3RhdGlvbnMgPSBhbm5vdGF0aW9ucztcbiAgICAvLyBjaGVjayBmb3IgZHVwbGljYXRlIHByb3BlcnR5IHNpZ25hdHVyZXNcbiAgICBjb25zdCBrZXlzID0ge307XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9wZXJ0eVNpZ25hdHVyZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IG5hbWUgPSBwcm9wZXJ0eVNpZ25hdHVyZXNbaV0ubmFtZTtcbiAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoa2V5cywgbmFtZSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yc18uZ2V0QVNURHVwbGljYXRlUHJvcGVydHlTaWduYXR1cmVFcnJvck1lc3NhZ2UobmFtZSkpO1xuICAgICAgfVxuICAgICAga2V5c1tuYW1lXSA9IG51bGw7XG4gICAgfVxuICAgIC8vIGNoZWNrIGZvciBkdXBsaWNhdGUgaW5kZXggc2lnbmF0dXJlc1xuICAgIGNvbnN0IHBhcmFtZXRlcnMgPSB7XG4gICAgICBzdHJpbmc6IGZhbHNlLFxuICAgICAgc3ltYm9sOiBmYWxzZVxuICAgIH07XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbmRleFNpZ25hdHVyZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IHBhcmFtZXRlciA9IGdldFBhcmFtZXRlckJhc2UoaW5kZXhTaWduYXR1cmVzW2ldLnBhcmFtZXRlcik7XG4gICAgICBpZiAoaXNTdHJpbmdLZXl3b3JkKHBhcmFtZXRlcikpIHtcbiAgICAgICAgaWYgKHBhcmFtZXRlcnMuc3RyaW5nKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yc18uZ2V0QVNURHVwbGljYXRlSW5kZXhTaWduYXR1cmVFcnJvck1lc3NhZ2UoXCJzdHJpbmdcIikpO1xuICAgICAgICB9XG4gICAgICAgIHBhcmFtZXRlcnMuc3RyaW5nID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSBpZiAoaXNTeW1ib2xLZXl3b3JkKHBhcmFtZXRlcikpIHtcbiAgICAgICAgaWYgKHBhcmFtZXRlcnMuc3ltYm9sKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yc18uZ2V0QVNURHVwbGljYXRlSW5kZXhTaWduYXR1cmVFcnJvck1lc3NhZ2UoXCJzeW1ib2xcIikpO1xuICAgICAgICB9XG4gICAgICAgIHBhcmFtZXRlcnMuc3ltYm9sID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5wcm9wZXJ0eVNpZ25hdHVyZXMgPSBzb3J0UHJvcGVydHlTaWduYXR1cmVzKHByb3BlcnR5U2lnbmF0dXJlcyk7XG4gICAgdGhpcy5pbmRleFNpZ25hdHVyZXMgPSBzb3J0SW5kZXhTaWduYXR1cmVzKGluZGV4U2lnbmF0dXJlcyk7XG4gIH1cbiAgLyoqXG4gICAqIEBzaW5jZSAwLjY3LjBcbiAgICovXG4gIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiBPcHRpb24uZ2V0T3JFbHNlKGdldEV4cGVjdGVkKHRoaXMpLCAoKSA9PiBmb3JtYXRUeXBlTGl0ZXJhbCh0aGlzKSk7XG4gIH1cbiAgLyoqXG4gICAqIEBzaW5jZSAwLjY3LjBcbiAgICovXG4gIHRvSlNPTigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgX3RhZzogdGhpcy5fdGFnLFxuICAgICAgcHJvcGVydHlTaWduYXR1cmVzOiB0aGlzLnByb3BlcnR5U2lnbmF0dXJlcy5tYXAocHMgPT4gcHMudG9KU09OKCkpLFxuICAgICAgaW5kZXhTaWduYXR1cmVzOiB0aGlzLmluZGV4U2lnbmF0dXJlcy5tYXAocHMgPT4gcHMudG9KU09OKCkpLFxuICAgICAgYW5ub3RhdGlvbnM6IHRvSlNPTkFubm90YXRpb25zKHRoaXMuYW5ub3RhdGlvbnMpXG4gICAgfTtcbiAgfVxufVxuY29uc3QgZm9ybWF0SW5kZXhTaWduYXR1cmVzID0gaXNzID0+IGlzcy5tYXAoU3RyaW5nKS5qb2luKFwiOyBcIik7XG5jb25zdCBmb3JtYXRUeXBlTGl0ZXJhbCA9IGFzdCA9PiB7XG4gIGlmIChhc3QucHJvcGVydHlTaWduYXR1cmVzLmxlbmd0aCA+IDApIHtcbiAgICBjb25zdCBwc3MgPSBhc3QucHJvcGVydHlTaWduYXR1cmVzLm1hcChTdHJpbmcpLmpvaW4oXCI7IFwiKTtcbiAgICBpZiAoYXN0LmluZGV4U2lnbmF0dXJlcy5sZW5ndGggPiAwKSB7XG4gICAgICByZXR1cm4gYHsgJHtwc3N9OyAke2Zvcm1hdEluZGV4U2lnbmF0dXJlcyhhc3QuaW5kZXhTaWduYXR1cmVzKX0gfWA7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBgeyAke3Bzc30gfWA7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmIChhc3QuaW5kZXhTaWduYXR1cmVzLmxlbmd0aCA+IDApIHtcbiAgICAgIHJldHVybiBgeyAke2Zvcm1hdEluZGV4U2lnbmF0dXJlcyhhc3QuaW5kZXhTaWduYXR1cmVzKX0gfWA7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBcInt9XCI7XG4gICAgfVxuICB9XG59O1xuLyoqXG4gKiBAY2F0ZWdvcnkgZ3VhcmRzXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjb25zdCBpc1R5cGVMaXRlcmFsID0gLyojX19QVVJFX18qL2NyZWF0ZUFTVEd1YXJkKFwiVHlwZUxpdGVyYWxcIik7XG5jb25zdCByZW1vdmVOZXZlcnMgPSBjYW5kaWRhdGVzID0+IGNhbmRpZGF0ZXMuZmlsdGVyKGFzdCA9PiAhKGFzdCA9PT0gbmV2ZXJLZXl3b3JkKSk7XG5jb25zdCBzb3J0Q2FuZGlkYXRlcyA9IC8qI19fUFVSRV9fKi9BcnIuc29ydCggLyojX19QVVJFX18qL09yZGVyLm1hcElucHV0KE51bWJlci5PcmRlciwgYXN0ID0+IHtcbiAgc3dpdGNoIChhc3QuX3RhZykge1xuICAgIGNhc2UgXCJBbnlLZXl3b3JkXCI6XG4gICAgICByZXR1cm4gMDtcbiAgICBjYXNlIFwiVW5rbm93bktleXdvcmRcIjpcbiAgICAgIHJldHVybiAxO1xuICAgIGNhc2UgXCJPYmplY3RLZXl3b3JkXCI6XG4gICAgICByZXR1cm4gMjtcbiAgICBjYXNlIFwiU3RyaW5nS2V5d29yZFwiOlxuICAgIGNhc2UgXCJOdW1iZXJLZXl3b3JkXCI6XG4gICAgY2FzZSBcIkJvb2xlYW5LZXl3b3JkXCI6XG4gICAgY2FzZSBcIkJpZ0ludEtleXdvcmRcIjpcbiAgICBjYXNlIFwiU3ltYm9sS2V5d29yZFwiOlxuICAgICAgcmV0dXJuIDM7XG4gIH1cbiAgcmV0dXJuIDQ7XG59KSk7XG5jb25zdCBsaXRlcmFsTWFwID0ge1xuICBzdHJpbmc6IFwiU3RyaW5nS2V5d29yZFwiLFxuICBudW1iZXI6IFwiTnVtYmVyS2V5d29yZFwiLFxuICBib29sZWFuOiBcIkJvb2xlYW5LZXl3b3JkXCIsXG4gIGJpZ2ludDogXCJCaWdJbnRLZXl3b3JkXCJcbn07XG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3QgZmxhdHRlbiA9IGNhbmRpZGF0ZXMgPT4gQXJyLmZsYXRNYXAoY2FuZGlkYXRlcywgYXN0ID0+IGlzVW5pb24oYXN0KSA/IGZsYXR0ZW4oYXN0LnR5cGVzKSA6IFthc3RdKTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCB1bmlmeSA9IGNhbmRpZGF0ZXMgPT4ge1xuICBjb25zdCBjcyA9IHNvcnRDYW5kaWRhdGVzKGNhbmRpZGF0ZXMpO1xuICBjb25zdCBvdXQgPSBbXTtcbiAgY29uc3QgdW5pcXVlcyA9IHt9O1xuICBjb25zdCBsaXRlcmFscyA9IFtdO1xuICBmb3IgKGNvbnN0IGFzdCBvZiBjcykge1xuICAgIHN3aXRjaCAoYXN0Ll90YWcpIHtcbiAgICAgIGNhc2UgXCJOZXZlcktleXdvcmRcIjpcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiQW55S2V5d29yZFwiOlxuICAgICAgICByZXR1cm4gW2FueUtleXdvcmRdO1xuICAgICAgY2FzZSBcIlVua25vd25LZXl3b3JkXCI6XG4gICAgICAgIHJldHVybiBbdW5rbm93bktleXdvcmRdO1xuICAgICAgLy8gdW5pcXVlc1xuICAgICAgY2FzZSBcIk9iamVjdEtleXdvcmRcIjpcbiAgICAgIGNhc2UgXCJVbmRlZmluZWRLZXl3b3JkXCI6XG4gICAgICBjYXNlIFwiVm9pZEtleXdvcmRcIjpcbiAgICAgIGNhc2UgXCJTdHJpbmdLZXl3b3JkXCI6XG4gICAgICBjYXNlIFwiTnVtYmVyS2V5d29yZFwiOlxuICAgICAgY2FzZSBcIkJvb2xlYW5LZXl3b3JkXCI6XG4gICAgICBjYXNlIFwiQmlnSW50S2V5d29yZFwiOlxuICAgICAgY2FzZSBcIlN5bWJvbEtleXdvcmRcIjpcbiAgICAgICAge1xuICAgICAgICAgIGlmICghdW5pcXVlc1thc3QuX3RhZ10pIHtcbiAgICAgICAgICAgIHVuaXF1ZXNbYXN0Ll90YWddID0gYXN0O1xuICAgICAgICAgICAgb3V0LnB1c2goYXN0KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIGNhc2UgXCJMaXRlcmFsXCI6XG4gICAgICAgIHtcbiAgICAgICAgICBjb25zdCB0eXBlID0gdHlwZW9mIGFzdC5saXRlcmFsO1xuICAgICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgY2FzZSBcInN0cmluZ1wiOlxuICAgICAgICAgICAgY2FzZSBcIm51bWJlclwiOlxuICAgICAgICAgICAgY2FzZSBcImJpZ2ludFwiOlxuICAgICAgICAgICAgY2FzZSBcImJvb2xlYW5cIjpcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IF90YWcgPSBsaXRlcmFsTWFwW3R5cGVdO1xuICAgICAgICAgICAgICAgIGlmICghdW5pcXVlc1tfdGFnXSAmJiAhbGl0ZXJhbHMuaW5jbHVkZXMoYXN0LmxpdGVyYWwpKSB7XG4gICAgICAgICAgICAgICAgICBsaXRlcmFscy5wdXNoKGFzdC5saXRlcmFsKTtcbiAgICAgICAgICAgICAgICAgIG91dC5wdXNoKGFzdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBudWxsXG4gICAgICAgICAgICBjYXNlIFwib2JqZWN0XCI6XG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAoIWxpdGVyYWxzLmluY2x1ZGVzKGFzdC5saXRlcmFsKSkge1xuICAgICAgICAgICAgICAgICAgbGl0ZXJhbHMucHVzaChhc3QubGl0ZXJhbCk7XG4gICAgICAgICAgICAgICAgICBvdXQucHVzaChhc3QpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgY2FzZSBcIlVuaXF1ZVN5bWJvbFwiOlxuICAgICAgICB7XG4gICAgICAgICAgaWYgKCF1bmlxdWVzW1wiU3ltYm9sS2V5d29yZFwiXSAmJiAhbGl0ZXJhbHMuaW5jbHVkZXMoYXN0LnN5bWJvbCkpIHtcbiAgICAgICAgICAgIGxpdGVyYWxzLnB1c2goYXN0LnN5bWJvbCk7XG4gICAgICAgICAgICBvdXQucHVzaChhc3QpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgY2FzZSBcIlR1cGxlVHlwZVwiOlxuICAgICAgICB7XG4gICAgICAgICAgaWYgKCF1bmlxdWVzW1wiT2JqZWN0S2V5d29yZFwiXSkge1xuICAgICAgICAgICAgb3V0LnB1c2goYXN0KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIGNhc2UgXCJUeXBlTGl0ZXJhbFwiOlxuICAgICAgICB7XG4gICAgICAgICAgaWYgKGFzdC5wcm9wZXJ0eVNpZ25hdHVyZXMubGVuZ3RoID09PSAwICYmIGFzdC5pbmRleFNpZ25hdHVyZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBpZiAoIXVuaXF1ZXNbXCJ7fVwiXSkge1xuICAgICAgICAgICAgICB1bmlxdWVzW1wie31cIl0gPSBhc3Q7XG4gICAgICAgICAgICAgIG91dC5wdXNoKGFzdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGlmICghdW5pcXVlc1tcIk9iamVjdEtleXdvcmRcIl0pIHtcbiAgICAgICAgICAgIG91dC5wdXNoKGFzdCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBvdXQucHVzaChhc3QpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gb3V0O1xufTtcbi8qKlxuICogQGNhdGVnb3J5IG1vZGVsXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjbGFzcyBVbmlvbiB7XG4gIHR5cGVzO1xuICBhbm5vdGF0aW9ucztcbiAgc3RhdGljIG1ha2UgPSAoY2FuZGlkYXRlcywgYW5ub3RhdGlvbnMpID0+IHtcbiAgICBjb25zdCB0eXBlcyA9IFtdO1xuICAgIGNvbnN0IG1lbW8gPSBuZXcgU2V0KCk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjYW5kaWRhdGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBhc3QgPSBjYW5kaWRhdGVzW2ldO1xuICAgICAgaWYgKGFzdCA9PT0gbmV2ZXJLZXl3b3JkIHx8IG1lbW8uaGFzKGFzdCkpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBtZW1vLmFkZChhc3QpO1xuICAgICAgdHlwZXMucHVzaChhc3QpO1xuICAgIH1cbiAgICByZXR1cm4gVW5pb24udW5pb24odHlwZXMsIGFubm90YXRpb25zKTtcbiAgfTtcbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBzdGF0aWMgbWVtYmVycyA9IChjYW5kaWRhdGVzLCBhbm5vdGF0aW9ucykgPT4ge1xuICAgIHJldHVybiBVbmlvbi51bmlvbihyZW1vdmVOZXZlcnMoY2FuZGlkYXRlcyksIGFubm90YXRpb25zKTtcbiAgfTtcbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBzdGF0aWMgdW5pZnkgPSAoY2FuZGlkYXRlcywgYW5ub3RhdGlvbnMpID0+IHtcbiAgICByZXR1cm4gVW5pb24udW5pb24odW5pZnkoZmxhdHRlbihjYW5kaWRhdGVzKSksIGFubm90YXRpb25zKTtcbiAgfTtcbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBzdGF0aWMgdW5pb24gPSAodHlwZXMsIGFubm90YXRpb25zKSA9PiB7XG4gICAgcmV0dXJuIGlzTWVtYmVycyh0eXBlcykgPyBuZXcgVW5pb24odHlwZXMsIGFubm90YXRpb25zKSA6IHR5cGVzLmxlbmd0aCA9PT0gMSA/IHR5cGVzWzBdIDogbmV2ZXJLZXl3b3JkO1xuICB9O1xuICAvKipcbiAgICogQHNpbmNlIDAuNjcuMFxuICAgKi9cbiAgX3RhZyA9IFwiVW5pb25cIjtcbiAgY29uc3RydWN0b3IodHlwZXMsIGFubm90YXRpb25zID0ge30pIHtcbiAgICB0aGlzLnR5cGVzID0gdHlwZXM7XG4gICAgdGhpcy5hbm5vdGF0aW9ucyA9IGFubm90YXRpb25zO1xuICB9XG4gIC8qKlxuICAgKiBAc2luY2UgMC42Ny4wXG4gICAqL1xuICB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gT3B0aW9uLmdldE9yRWxzZShnZXRFeHBlY3RlZCh0aGlzKSwgKCkgPT4gdGhpcy50eXBlcy5tYXAoU3RyaW5nKS5qb2luKFwiIHwgXCIpKTtcbiAgfVxuICAvKipcbiAgICogQHNpbmNlIDAuNjcuMFxuICAgKi9cbiAgdG9KU09OKCkge1xuICAgIHJldHVybiB7XG4gICAgICBfdGFnOiB0aGlzLl90YWcsXG4gICAgICB0eXBlczogdGhpcy50eXBlcy5tYXAoYXN0ID0+IGFzdC50b0pTT04oKSksXG4gICAgICBhbm5vdGF0aW9uczogdG9KU09OQW5ub3RhdGlvbnModGhpcy5hbm5vdGF0aW9ucylcbiAgICB9O1xuICB9XG59XG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3QgbWFwTWVtYmVycyA9IChtZW1iZXJzLCBmKSA9PiBtZW1iZXJzLm1hcChmKTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBpc01lbWJlcnMgPSBhcyA9PiBhcy5sZW5ndGggPiAxO1xuLyoqXG4gKiBAY2F0ZWdvcnkgZ3VhcmRzXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjb25zdCBpc1VuaW9uID0gLyojX19QVVJFX18qL2NyZWF0ZUFTVEd1YXJkKFwiVW5pb25cIik7XG5jb25zdCB0b0pTT05NZW1vTWFwID0gLyojX19QVVJFX18qL2dsb2JhbFZhbHVlKCAvKiNfX1BVUkVfXyovU3ltYm9sLmZvcihcIkBlZmZlY3Qvc2NoZW1hL0FTVC90b0pTT05NZW1vTWFwXCIpLCAoKSA9PiBuZXcgV2Vha01hcCgpKTtcbi8qKlxuICogQGNhdGVnb3J5IG1vZGVsXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjbGFzcyBTdXNwZW5kIHtcbiAgZjtcbiAgYW5ub3RhdGlvbnM7XG4gIC8qKlxuICAgKiBAc2luY2UgMC42Ny4wXG4gICAqL1xuICBfdGFnID0gXCJTdXNwZW5kXCI7XG4gIGNvbnN0cnVjdG9yKGYsIGFubm90YXRpb25zID0ge30pIHtcbiAgICB0aGlzLmYgPSBmO1xuICAgIHRoaXMuYW5ub3RhdGlvbnMgPSBhbm5vdGF0aW9ucztcbiAgICB0aGlzLmYgPSB1dGlsXy5tZW1vaXplVGh1bmsoZik7XG4gIH1cbiAgLyoqXG4gICAqIEBzaW5jZSAwLjY3LjBcbiAgICovXG4gIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiBnZXRFeHBlY3RlZCh0aGlzKS5waXBlKE9wdGlvbi5vckVsc2UoKCkgPT4gT3B0aW9uLmZsYXRNYXAoT3B0aW9uLmxpZnRUaHJvd2FibGUodGhpcy5mKSgpLCBhc3QgPT4gZ2V0RXhwZWN0ZWQoYXN0KSkpLCBPcHRpb24uZ2V0T3JFbHNlKCgpID0+IFwiPHN1c3BlbmRlZCBzY2hlbWE+XCIpKTtcbiAgfVxuICAvKipcbiAgICogQHNpbmNlIDAuNjcuMFxuICAgKi9cbiAgdG9KU09OKCkge1xuICAgIGNvbnN0IGFzdCA9IHRoaXMuZigpO1xuICAgIGxldCBvdXQgPSB0b0pTT05NZW1vTWFwLmdldChhc3QpO1xuICAgIGlmIChvdXQpIHtcbiAgICAgIHJldHVybiBvdXQ7XG4gICAgfVxuICAgIHRvSlNPTk1lbW9NYXAuc2V0KGFzdCwge1xuICAgICAgX3RhZzogdGhpcy5fdGFnXG4gICAgfSk7XG4gICAgb3V0ID0ge1xuICAgICAgX3RhZzogdGhpcy5fdGFnLFxuICAgICAgYXN0OiBhc3QudG9KU09OKCksXG4gICAgICBhbm5vdGF0aW9uczogdG9KU09OQW5ub3RhdGlvbnModGhpcy5hbm5vdGF0aW9ucylcbiAgICB9O1xuICAgIHRvSlNPTk1lbW9NYXAuc2V0KGFzdCwgb3V0KTtcbiAgICByZXR1cm4gb3V0O1xuICB9XG59XG4vKipcbiAqIEBjYXRlZ29yeSBndWFyZHNcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNvbnN0IGlzU3VzcGVuZCA9IC8qI19fUFVSRV9fKi9jcmVhdGVBU1RHdWFyZChcIlN1c3BlbmRcIik7XG4vKipcbiAqIEBjYXRlZ29yeSBtb2RlbFxuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY2xhc3MgUmVmaW5lbWVudCB7XG4gIGZyb207XG4gIGZpbHRlcjtcbiAgYW5ub3RhdGlvbnM7XG4gIC8qKlxuICAgKiBAc2luY2UgMC42Ny4wXG4gICAqL1xuICBfdGFnID0gXCJSZWZpbmVtZW50XCI7XG4gIGNvbnN0cnVjdG9yKGZyb20sIGZpbHRlciwgYW5ub3RhdGlvbnMgPSB7fSkge1xuICAgIHRoaXMuZnJvbSA9IGZyb207XG4gICAgdGhpcy5maWx0ZXIgPSBmaWx0ZXI7XG4gICAgdGhpcy5hbm5vdGF0aW9ucyA9IGFubm90YXRpb25zO1xuICB9XG4gIC8qKlxuICAgKiBAc2luY2UgMC42Ny4wXG4gICAqL1xuICB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gT3B0aW9uLmdldE9yRWxzZShnZXRFeHBlY3RlZCh0aGlzKSwgKCkgPT4gYHsgJHt0aGlzLmZyb219IHwgZmlsdGVyIH1gKTtcbiAgfVxuICAvKipcbiAgICogQHNpbmNlIDAuNjcuMFxuICAgKi9cbiAgdG9KU09OKCkge1xuICAgIHJldHVybiB7XG4gICAgICBfdGFnOiB0aGlzLl90YWcsXG4gICAgICBmcm9tOiB0aGlzLmZyb20udG9KU09OKCksXG4gICAgICBhbm5vdGF0aW9uczogdG9KU09OQW5ub3RhdGlvbnModGhpcy5hbm5vdGF0aW9ucylcbiAgICB9O1xuICB9XG59XG4vKipcbiAqIEBjYXRlZ29yeSBndWFyZHNcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNvbnN0IGlzUmVmaW5lbWVudCA9IC8qI19fUFVSRV9fKi9jcmVhdGVBU1RHdWFyZChcIlJlZmluZW1lbnRcIik7XG4vKipcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNvbnN0IGRlZmF1bHRQYXJzZU9wdGlvbiA9IHt9O1xuLyoqXG4gKiBAY2F0ZWdvcnkgbW9kZWxcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNsYXNzIFRyYW5zZm9ybWF0aW9uIHtcbiAgZnJvbTtcbiAgdG87XG4gIHRyYW5zZm9ybWF0aW9uO1xuICBhbm5vdGF0aW9ucztcbiAgLyoqXG4gICAqIEBzaW5jZSAwLjY3LjBcbiAgICovXG4gIF90YWcgPSBcIlRyYW5zZm9ybWF0aW9uXCI7XG4gIGNvbnN0cnVjdG9yKGZyb20sIHRvLCB0cmFuc2Zvcm1hdGlvbiwgYW5ub3RhdGlvbnMgPSB7fSkge1xuICAgIHRoaXMuZnJvbSA9IGZyb207XG4gICAgdGhpcy50byA9IHRvO1xuICAgIHRoaXMudHJhbnNmb3JtYXRpb24gPSB0cmFuc2Zvcm1hdGlvbjtcbiAgICB0aGlzLmFubm90YXRpb25zID0gYW5ub3RhdGlvbnM7XG4gIH1cbiAgLyoqXG4gICAqIEBzaW5jZSAwLjY3LjBcbiAgICovXG4gIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiBPcHRpb24uZ2V0T3JFbHNlKGdldEV4cGVjdGVkKHRoaXMpLCAoKSA9PiBgKCR7U3RyaW5nKHRoaXMuZnJvbSl9IDwtPiAke1N0cmluZyh0aGlzLnRvKX0pYCk7XG4gIH1cbiAgLyoqXG4gICAqIEBzaW5jZSAwLjY3LjBcbiAgICovXG4gIHRvSlNPTigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgX3RhZzogdGhpcy5fdGFnLFxuICAgICAgZnJvbTogdGhpcy5mcm9tLnRvSlNPTigpLFxuICAgICAgdG86IHRoaXMudG8udG9KU09OKCksXG4gICAgICBhbm5vdGF0aW9uczogdG9KU09OQW5ub3RhdGlvbnModGhpcy5hbm5vdGF0aW9ucylcbiAgICB9O1xuICB9XG59XG4vKipcbiAqIEBjYXRlZ29yeSBndWFyZHNcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNvbnN0IGlzVHJhbnNmb3JtYXRpb24gPSAvKiNfX1BVUkVfXyovY3JlYXRlQVNUR3VhcmQoXCJUcmFuc2Zvcm1hdGlvblwiKTtcbi8qKlxuICogQGNhdGVnb3J5IG1vZGVsXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjbGFzcyBGaW5hbFRyYW5zZm9ybWF0aW9uIHtcbiAgZGVjb2RlO1xuICBlbmNvZGU7XG4gIC8qKlxuICAgKiBAc2luY2UgMC42Ny4wXG4gICAqL1xuICBfdGFnID0gXCJGaW5hbFRyYW5zZm9ybWF0aW9uXCI7XG4gIGNvbnN0cnVjdG9yKGRlY29kZSwgZW5jb2RlKSB7XG4gICAgdGhpcy5kZWNvZGUgPSBkZWNvZGU7XG4gICAgdGhpcy5lbmNvZGUgPSBlbmNvZGU7XG4gIH1cbn1cbmNvbnN0IGNyZWF0ZVRyYW5zZm9ybWF0aW9uR3VhcmQgPSB0YWcgPT4gYXN0ID0+IGFzdC5fdGFnID09PSB0YWc7XG4vKipcbiAqIEBjYXRlZ29yeSBndWFyZHNcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNvbnN0IGlzRmluYWxUcmFuc2Zvcm1hdGlvbiA9IC8qI19fUFVSRV9fKi9jcmVhdGVUcmFuc2Zvcm1hdGlvbkd1YXJkKFwiRmluYWxUcmFuc2Zvcm1hdGlvblwiKTtcbi8qKlxuICogQGNhdGVnb3J5IG1vZGVsXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjbGFzcyBDb21wb3NlVHJhbnNmb3JtYXRpb24ge1xuICAvKipcbiAgICogQHNpbmNlIDAuNjcuMFxuICAgKi9cbiAgX3RhZyA9IFwiQ29tcG9zZVRyYW5zZm9ybWF0aW9uXCI7XG59XG4vKipcbiAqIEBjYXRlZ29yeSBjb25zdHJ1Y3RvcnNcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNvbnN0IGNvbXBvc2VUcmFuc2Zvcm1hdGlvbiA9IC8qI19fUFVSRV9fKi9uZXcgQ29tcG9zZVRyYW5zZm9ybWF0aW9uKCk7XG4vKipcbiAqIEBjYXRlZ29yeSBndWFyZHNcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNvbnN0IGlzQ29tcG9zZVRyYW5zZm9ybWF0aW9uID0gLyojX19QVVJFX18qL2NyZWF0ZVRyYW5zZm9ybWF0aW9uR3VhcmQoXCJDb21wb3NlVHJhbnNmb3JtYXRpb25cIik7XG4vKipcbiAqIFJlcHJlc2VudHMgYSBgUHJvcGVydHlTaWduYXR1cmUgLT4gUHJvcGVydHlTaWduYXR1cmVgIHRyYW5zZm9ybWF0aW9uXG4gKlxuICogVGhlIHNlbWFudGljIG9mIGBkZWNvZGVgIGlzOlxuICogLSBgbm9uZSgpYCByZXByZXNlbnRzIHRoZSBhYnNlbmNlIG9mIHRoZSBrZXkvdmFsdWUgcGFpclxuICogLSBgc29tZSh2YWx1ZSlgIHJlcHJlc2VudHMgdGhlIHByZXNlbmNlIG9mIHRoZSBrZXkvdmFsdWUgcGFpclxuICpcbiAqIFRoZSBzZW1hbnRpYyBvZiBgZW5jb2RlYCBpczpcbiAqIC0gYG5vbmUoKWAgeW91IGRvbid0IHdhbnQgdG8gb3V0cHV0IHRoZSBrZXkvdmFsdWUgcGFpclxuICogLSBgc29tZSh2YWx1ZSlgIHlvdSB3YW50IHRvIG91dHB1dCB0aGUga2V5L3ZhbHVlIHBhaXJcbiAqXG4gKiBAY2F0ZWdvcnkgbW9kZWxcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNsYXNzIFByb3BlcnR5U2lnbmF0dXJlVHJhbnNmb3JtYXRpb24ge1xuICBmcm9tO1xuICB0bztcbiAgZGVjb2RlO1xuICBlbmNvZGU7XG4gIGNvbnN0cnVjdG9yKGZyb20sIHRvLCBkZWNvZGUsIGVuY29kZSkge1xuICAgIHRoaXMuZnJvbSA9IGZyb207XG4gICAgdGhpcy50byA9IHRvO1xuICAgIHRoaXMuZGVjb2RlID0gZGVjb2RlO1xuICAgIHRoaXMuZW5jb2RlID0gZW5jb2RlO1xuICB9XG59XG5jb25zdCBpc1JlbmFtaW5nUHJvcGVydHlTaWduYXR1cmVUcmFuc2Zvcm1hdGlvbiA9IHQgPT4gdC5kZWNvZGUgPT09IGlkZW50aXR5ICYmIHQuZW5jb2RlID09PSBpZGVudGl0eTtcbi8qKlxuICogQGNhdGVnb3J5IG1vZGVsXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjbGFzcyBUeXBlTGl0ZXJhbFRyYW5zZm9ybWF0aW9uIHtcbiAgcHJvcGVydHlTaWduYXR1cmVUcmFuc2Zvcm1hdGlvbnM7XG4gIC8qKlxuICAgKiBAc2luY2UgMC42Ny4wXG4gICAqL1xuICBfdGFnID0gXCJUeXBlTGl0ZXJhbFRyYW5zZm9ybWF0aW9uXCI7XG4gIGNvbnN0cnVjdG9yKHByb3BlcnR5U2lnbmF0dXJlVHJhbnNmb3JtYXRpb25zKSB7XG4gICAgdGhpcy5wcm9wZXJ0eVNpZ25hdHVyZVRyYW5zZm9ybWF0aW9ucyA9IHByb3BlcnR5U2lnbmF0dXJlVHJhbnNmb3JtYXRpb25zO1xuICAgIC8vIGNoZWNrIGZvciBkdXBsaWNhdGUgcHJvcGVydHkgc2lnbmF0dXJlIHRyYW5zZm9ybWF0aW9uc1xuICAgIGNvbnN0IGZyb21LZXlzID0ge307XG4gICAgY29uc3QgdG9LZXlzID0ge307XG4gICAgZm9yIChjb25zdCBwc3Qgb2YgcHJvcGVydHlTaWduYXR1cmVUcmFuc2Zvcm1hdGlvbnMpIHtcbiAgICAgIGNvbnN0IGZyb20gPSBwc3QuZnJvbTtcbiAgICAgIGlmIChmcm9tS2V5c1tmcm9tXSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JzXy5nZXRBU1REdXBsaWNhdGVQcm9wZXJ0eVNpZ25hdHVyZVRyYW5zZm9ybWF0aW9uRXJyb3JNZXNzYWdlKGZyb20pKTtcbiAgICAgIH1cbiAgICAgIGZyb21LZXlzW2Zyb21dID0gdHJ1ZTtcbiAgICAgIGNvbnN0IHRvID0gcHN0LnRvO1xuICAgICAgaWYgKHRvS2V5c1t0b10pIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yc18uZ2V0QVNURHVwbGljYXRlUHJvcGVydHlTaWduYXR1cmVUcmFuc2Zvcm1hdGlvbkVycm9yTWVzc2FnZSh0bykpO1xuICAgICAgfVxuICAgICAgdG9LZXlzW3RvXSA9IHRydWU7XG4gICAgfVxuICB9XG59XG4vKipcbiAqIEBjYXRlZ29yeSBndWFyZHNcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNvbnN0IGlzVHlwZUxpdGVyYWxUcmFuc2Zvcm1hdGlvbiA9IC8qI19fUFVSRV9fKi9jcmVhdGVUcmFuc2Zvcm1hdGlvbkd1YXJkKFwiVHlwZUxpdGVyYWxUcmFuc2Zvcm1hdGlvblwiKTtcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIEFQSVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLyoqXG4gKiBBZGRzIGEgZ3JvdXAgb2YgYW5ub3RhdGlvbnMsIHBvdGVudGlhbGx5IG92ZXJ3cml0aW5nIGV4aXN0aW5nIGFubm90YXRpb25zLlxuICpcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNvbnN0IGFubm90YXRpb25zID0gKGFzdCwgYW5ub3RhdGlvbnMpID0+IHtcbiAgY29uc3QgZCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKGFzdCk7XG4gIGQuYW5ub3RhdGlvbnMudmFsdWUgPSB7XG4gICAgLi4uYXN0LmFubm90YXRpb25zLFxuICAgIC4uLmFubm90YXRpb25zXG4gIH07XG4gIHJldHVybiBPYmplY3QuY3JlYXRlKE9iamVjdC5nZXRQcm90b3R5cGVPZihhc3QpLCBkKTtcbn07XG4vKipcbiAqIEVxdWl2YWxlbnQgYXQgcnVudGltZSB0byB0aGUgVHlwZVNjcmlwdCB0eXBlLWxldmVsIGBrZXlvZmAgb3BlcmF0b3IuXG4gKlxuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY29uc3Qga2V5b2YgPSBhc3QgPT4gVW5pb24udW5pZnkoX2tleW9mKGFzdCkpO1xuY29uc3QgU1RSSU5HX0tFWVdPUkRfUEFUVEVSTiA9IFwiLipcIjtcbmNvbnN0IE5VTUJFUl9LRVlXT1JEX1BBVFRFUk4gPSBcIlsrLV0/XFxcXGQqXFxcXC4/XFxcXGQrKD86W0VlXVsrLV0/XFxcXGQrKT9cIjtcbi8qKlxuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY29uc3QgZ2V0VGVtcGxhdGVMaXRlcmFsUmVnRXhwID0gYXN0ID0+IHtcbiAgbGV0IHBhdHRlcm4gPSBgXiR7cmVnZXhwLmVzY2FwZShhc3QuaGVhZCl9YDtcbiAgZm9yIChjb25zdCBzcGFuIG9mIGFzdC5zcGFucykge1xuICAgIGlmIChpc1N0cmluZ0tleXdvcmQoc3Bhbi50eXBlKSkge1xuICAgICAgcGF0dGVybiArPSBTVFJJTkdfS0VZV09SRF9QQVRURVJOO1xuICAgIH0gZWxzZSBpZiAoaXNOdW1iZXJLZXl3b3JkKHNwYW4udHlwZSkpIHtcbiAgICAgIHBhdHRlcm4gKz0gTlVNQkVSX0tFWVdPUkRfUEFUVEVSTjtcbiAgICB9XG4gICAgcGF0dGVybiArPSByZWdleHAuZXNjYXBlKHNwYW4ubGl0ZXJhbCk7XG4gIH1cbiAgcGF0dGVybiArPSBcIiRcIjtcbiAgcmV0dXJuIG5ldyBSZWdFeHAocGF0dGVybik7XG59O1xuLyoqXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjb25zdCBnZXRQcm9wZXJ0eVNpZ25hdHVyZXMgPSBhc3QgPT4ge1xuICBzd2l0Y2ggKGFzdC5fdGFnKSB7XG4gICAgY2FzZSBcIkRlY2xhcmF0aW9uXCI6XG4gICAgICB7XG4gICAgICAgIGNvbnN0IGFubm90YXRpb24gPSBnZXRTdXJyb2dhdGVBbm5vdGF0aW9uKGFzdCk7XG4gICAgICAgIGlmIChPcHRpb24uaXNTb21lKGFubm90YXRpb24pKSB7XG4gICAgICAgICAgcmV0dXJuIGdldFByb3BlcnR5U2lnbmF0dXJlcyhhbm5vdGF0aW9uLnZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICBjYXNlIFwiVHlwZUxpdGVyYWxcIjpcbiAgICAgIHJldHVybiBhc3QucHJvcGVydHlTaWduYXR1cmVzLnNsaWNlKCk7XG4gICAgY2FzZSBcIlN1c3BlbmRcIjpcbiAgICAgIHJldHVybiBnZXRQcm9wZXJ0eVNpZ25hdHVyZXMoYXN0LmYoKSk7XG4gIH1cbiAgcmV0dXJuIGdldFByb3BlcnR5S2V5cyhhc3QpLm1hcChuYW1lID0+IGdldFByb3BlcnR5S2V5SW5kZXhlZEFjY2Vzcyhhc3QsIG5hbWUpKTtcbn07XG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3QgZ2V0TnVtYmVySW5kZXhlZEFjY2VzcyA9IGFzdCA9PiB7XG4gIHN3aXRjaCAoYXN0Ll90YWcpIHtcbiAgICBjYXNlIFwiVHVwbGVUeXBlXCI6XG4gICAgICB7XG4gICAgICAgIGxldCBoYXNPcHRpb25hbCA9IGZhbHNlO1xuICAgICAgICBsZXQgb3V0ID0gW107XG4gICAgICAgIGZvciAoY29uc3QgZSBvZiBhc3QuZWxlbWVudHMpIHtcbiAgICAgICAgICBpZiAoZS5pc09wdGlvbmFsKSB7XG4gICAgICAgICAgICBoYXNPcHRpb25hbCA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIG91dC5wdXNoKGUudHlwZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGhhc09wdGlvbmFsKSB7XG4gICAgICAgICAgb3V0LnB1c2godW5kZWZpbmVkS2V5d29yZCk7XG4gICAgICAgIH1cbiAgICAgICAgb3V0ID0gb3V0LmNvbmNhdChnZXRSZXN0QVNUcyhhc3QucmVzdCkpO1xuICAgICAgICByZXR1cm4gVW5pb24ubWFrZShvdXQpO1xuICAgICAgfVxuICAgIGNhc2UgXCJSZWZpbmVtZW50XCI6XG4gICAgICByZXR1cm4gZ2V0TnVtYmVySW5kZXhlZEFjY2Vzcyhhc3QuZnJvbSk7XG4gICAgY2FzZSBcIlVuaW9uXCI6XG4gICAgICByZXR1cm4gVW5pb24ubWFrZShhc3QudHlwZXMubWFwKGdldE51bWJlckluZGV4ZWRBY2Nlc3MpKTtcbiAgICBjYXNlIFwiU3VzcGVuZFwiOlxuICAgICAgcmV0dXJuIGdldE51bWJlckluZGV4ZWRBY2Nlc3MoYXN0LmYoKSk7XG4gIH1cbiAgdGhyb3cgbmV3IEVycm9yKGVycm9yc18uZ2V0QVNUVW5zdXBwb3J0ZWRTY2hlbWEoYXN0KSk7XG59O1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IGdldFByb3BlcnR5S2V5SW5kZXhlZEFjY2VzcyA9IChhc3QsIG5hbWUpID0+IHtcbiAgc3dpdGNoIChhc3QuX3RhZykge1xuICAgIGNhc2UgXCJEZWNsYXJhdGlvblwiOlxuICAgICAge1xuICAgICAgICBjb25zdCBhbm5vdGF0aW9uID0gZ2V0U3Vycm9nYXRlQW5ub3RhdGlvbihhc3QpO1xuICAgICAgICBpZiAoT3B0aW9uLmlzU29tZShhbm5vdGF0aW9uKSkge1xuICAgICAgICAgIHJldHVybiBnZXRQcm9wZXJ0eUtleUluZGV4ZWRBY2Nlc3MoYW5ub3RhdGlvbi52YWx1ZSwgbmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgY2FzZSBcIlR5cGVMaXRlcmFsXCI6XG4gICAgICB7XG4gICAgICAgIGNvbnN0IG9wcyA9IEFyci5maW5kRmlyc3QoYXN0LnByb3BlcnR5U2lnbmF0dXJlcywgcHMgPT4gcHMubmFtZSA9PT0gbmFtZSk7XG4gICAgICAgIGlmIChPcHRpb24uaXNTb21lKG9wcykpIHtcbiAgICAgICAgICByZXR1cm4gb3BzLnZhbHVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmIChQcmVkaWNhdGUuaXNTdHJpbmcobmFtZSkpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgaXMgb2YgYXN0LmluZGV4U2lnbmF0dXJlcykge1xuICAgICAgICAgICAgICBjb25zdCBwYXJhbWV0ZXJCYXNlID0gZ2V0UGFyYW1ldGVyQmFzZShpcy5wYXJhbWV0ZXIpO1xuICAgICAgICAgICAgICBzd2l0Y2ggKHBhcmFtZXRlckJhc2UuX3RhZykge1xuICAgICAgICAgICAgICAgIGNhc2UgXCJUZW1wbGF0ZUxpdGVyYWxcIjpcbiAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVnZXggPSBnZXRUZW1wbGF0ZUxpdGVyYWxSZWdFeHAocGFyYW1ldGVyQmFzZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZWdleC50ZXN0KG5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9wZXJ0eVNpZ25hdHVyZShuYW1lLCBpcy50eXBlLCBmYWxzZSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSBcIlN0cmluZ0tleXdvcmRcIjpcbiAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUHJvcGVydHlTaWduYXR1cmUobmFtZSwgaXMudHlwZSwgZmFsc2UsIHRydWUpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGlmIChQcmVkaWNhdGUuaXNTeW1ib2wobmFtZSkpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgaXMgb2YgYXN0LmluZGV4U2lnbmF0dXJlcykge1xuICAgICAgICAgICAgICBjb25zdCBwYXJhbWV0ZXJCYXNlID0gZ2V0UGFyYW1ldGVyQmFzZShpcy5wYXJhbWV0ZXIpO1xuICAgICAgICAgICAgICBpZiAoaXNTeW1ib2xLZXl3b3JkKHBhcmFtZXRlckJhc2UpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9wZXJ0eVNpZ25hdHVyZShuYW1lLCBpcy50eXBlLCBmYWxzZSwgdHJ1ZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgY2FzZSBcIlVuaW9uXCI6XG4gICAgICByZXR1cm4gbmV3IFByb3BlcnR5U2lnbmF0dXJlKG5hbWUsIFVuaW9uLm1ha2UoYXN0LnR5cGVzLm1hcChhc3QgPT4gZ2V0UHJvcGVydHlLZXlJbmRleGVkQWNjZXNzKGFzdCwgbmFtZSkudHlwZSkpLCBmYWxzZSwgdHJ1ZSk7XG4gICAgY2FzZSBcIlN1c3BlbmRcIjpcbiAgICAgIHJldHVybiBnZXRQcm9wZXJ0eUtleUluZGV4ZWRBY2Nlc3MoYXN0LmYoKSwgbmFtZSk7XG4gIH1cbiAgcmV0dXJuIG5ldyBQcm9wZXJ0eVNpZ25hdHVyZShuYW1lLCBuZXZlcktleXdvcmQsIGZhbHNlLCB0cnVlKTtcbn07XG5jb25zdCBnZXRQcm9wZXJ0eUtleXMgPSBhc3QgPT4ge1xuICBzd2l0Y2ggKGFzdC5fdGFnKSB7XG4gICAgY2FzZSBcIkRlY2xhcmF0aW9uXCI6XG4gICAgICB7XG4gICAgICAgIGNvbnN0IGFubm90YXRpb24gPSBnZXRTdXJyb2dhdGVBbm5vdGF0aW9uKGFzdCk7XG4gICAgICAgIGlmIChPcHRpb24uaXNTb21lKGFubm90YXRpb24pKSB7XG4gICAgICAgICAgcmV0dXJuIGdldFByb3BlcnR5S2V5cyhhbm5vdGF0aW9uLnZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICBjYXNlIFwiVHlwZUxpdGVyYWxcIjpcbiAgICAgIHJldHVybiBhc3QucHJvcGVydHlTaWduYXR1cmVzLm1hcChwcyA9PiBwcy5uYW1lKTtcbiAgICBjYXNlIFwiU3VzcGVuZFwiOlxuICAgICAgcmV0dXJuIGdldFByb3BlcnR5S2V5cyhhc3QuZigpKTtcbiAgICBjYXNlIFwiVW5pb25cIjpcbiAgICAgIHJldHVybiBhc3QudHlwZXMuc2xpY2UoMSkucmVkdWNlKChvdXQsIGFzdCkgPT4gQXJyLmludGVyc2VjdGlvbihvdXQsIGdldFByb3BlcnR5S2V5cyhhc3QpKSwgZ2V0UHJvcGVydHlLZXlzKGFzdC50eXBlc1swXSkpO1xuICAgIGNhc2UgXCJUcmFuc2Zvcm1hdGlvblwiOlxuICAgICAgcmV0dXJuIGdldFByb3BlcnR5S2V5cyhhc3QudG8pO1xuICB9XG4gIHJldHVybiBbXTtcbn07XG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3QgcmVjb3JkID0gKGtleSwgdmFsdWUpID0+IHtcbiAgY29uc3QgcHJvcGVydHlTaWduYXR1cmVzID0gW107XG4gIGNvbnN0IGluZGV4U2lnbmF0dXJlcyA9IFtdO1xuICBjb25zdCBnbyA9IGtleSA9PiB7XG4gICAgc3dpdGNoIChrZXkuX3RhZykge1xuICAgICAgY2FzZSBcIk5ldmVyS2V5d29yZFwiOlxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJTdHJpbmdLZXl3b3JkXCI6XG4gICAgICBjYXNlIFwiU3ltYm9sS2V5d29yZFwiOlxuICAgICAgY2FzZSBcIlRlbXBsYXRlTGl0ZXJhbFwiOlxuICAgICAgY2FzZSBcIlJlZmluZW1lbnRcIjpcbiAgICAgICAgaW5kZXhTaWduYXR1cmVzLnB1c2gobmV3IEluZGV4U2lnbmF0dXJlKGtleSwgdmFsdWUsIHRydWUpKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiTGl0ZXJhbFwiOlxuICAgICAgICBpZiAoUHJlZGljYXRlLmlzU3RyaW5nKGtleS5saXRlcmFsKSB8fCBQcmVkaWNhdGUuaXNOdW1iZXIoa2V5LmxpdGVyYWwpKSB7XG4gICAgICAgICAgcHJvcGVydHlTaWduYXR1cmVzLnB1c2gobmV3IFByb3BlcnR5U2lnbmF0dXJlKGtleS5saXRlcmFsLCB2YWx1ZSwgZmFsc2UsIHRydWUpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JzXy5nZXRBU1RVbnN1cHBvcnRlZExpdGVyYWwoa2V5LmxpdGVyYWwpKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJFbnVtc1wiOlxuICAgICAgICB7XG4gICAgICAgICAgZm9yIChjb25zdCBbXywgbmFtZV0gb2Yga2V5LmVudW1zKSB7XG4gICAgICAgICAgICBwcm9wZXJ0eVNpZ25hdHVyZXMucHVzaChuZXcgUHJvcGVydHlTaWduYXR1cmUobmFtZSwgdmFsdWUsIGZhbHNlLCB0cnVlKSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICBjYXNlIFwiVW5pcXVlU3ltYm9sXCI6XG4gICAgICAgIHByb3BlcnR5U2lnbmF0dXJlcy5wdXNoKG5ldyBQcm9wZXJ0eVNpZ25hdHVyZShrZXkuc3ltYm9sLCB2YWx1ZSwgZmFsc2UsIHRydWUpKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiVW5pb25cIjpcbiAgICAgICAga2V5LnR5cGVzLmZvckVhY2goZ28pO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvcnNfLmdldEFTVFVuc3VwcG9ydGVkS2V5U2NoZW1hKGtleSkpO1xuICAgIH1cbiAgfTtcbiAgZ28oa2V5KTtcbiAgcmV0dXJuIHtcbiAgICBwcm9wZXJ0eVNpZ25hdHVyZXMsXG4gICAgaW5kZXhTaWduYXR1cmVzXG4gIH07XG59O1xuLyoqXG4gKiBFcXVpdmFsZW50IGF0IHJ1bnRpbWUgdG8gdGhlIGJ1aWx0LWluIFR5cGVTY3JpcHQgdXRpbGl0eSB0eXBlIGBQaWNrYC5cbiAqXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjb25zdCBwaWNrID0gKGFzdCwga2V5cykgPT4ge1xuICBpZiAoaXNUcmFuc2Zvcm1hdGlvbihhc3QpKSB7XG4gICAgc3dpdGNoIChhc3QudHJhbnNmb3JtYXRpb24uX3RhZykge1xuICAgICAgY2FzZSBcIkNvbXBvc2VUcmFuc2Zvcm1hdGlvblwiOlxuICAgICAgICByZXR1cm4gbmV3IFRyYW5zZm9ybWF0aW9uKHBpY2soYXN0LmZyb20sIGtleXMpLCBwaWNrKGFzdC50bywga2V5cyksIGNvbXBvc2VUcmFuc2Zvcm1hdGlvbik7XG4gICAgICBjYXNlIFwiVHlwZUxpdGVyYWxUcmFuc2Zvcm1hdGlvblwiOlxuICAgICAgICB7XG4gICAgICAgICAgY29uc3QgdHMgPSBbXTtcbiAgICAgICAgICBjb25zdCBmcm9tS2V5cyA9IFtdO1xuICAgICAgICAgIGZvciAoY29uc3QgayBvZiBrZXlzKSB7XG4gICAgICAgICAgICBjb25zdCB0ID0gYXN0LnRyYW5zZm9ybWF0aW9uLnByb3BlcnR5U2lnbmF0dXJlVHJhbnNmb3JtYXRpb25zLmZpbmQodCA9PiB0LnRvID09PSBrKTtcbiAgICAgICAgICAgIGlmICh0KSB7XG4gICAgICAgICAgICAgIHRzLnB1c2godCk7XG4gICAgICAgICAgICAgIGZyb21LZXlzLnB1c2godC5mcm9tKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGZyb21LZXlzLnB1c2goayk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBBcnIuaXNOb25FbXB0eVJlYWRvbmx5QXJyYXkodHMpID8gbmV3IFRyYW5zZm9ybWF0aW9uKHBpY2soYXN0LmZyb20sIGZyb21LZXlzKSwgcGljayhhc3QudG8sIGtleXMpLCBuZXcgVHlwZUxpdGVyYWxUcmFuc2Zvcm1hdGlvbih0cykpIDogcGljayhhc3QuZnJvbSwgZnJvbUtleXMpO1xuICAgICAgICB9XG4gICAgICBjYXNlIFwiRmluYWxUcmFuc2Zvcm1hdGlvblwiOlxuICAgICAgICB7XG4gICAgICAgICAgY29uc3QgYW5ub3RhdGlvbiA9IGdldFN1cnJvZ2F0ZUFubm90YXRpb24oYXN0KTtcbiAgICAgICAgICBpZiAoT3B0aW9uLmlzU29tZShhbm5vdGF0aW9uKSkge1xuICAgICAgICAgICAgcmV0dXJuIHBpY2soYW5ub3RhdGlvbi52YWx1ZSwga2V5cyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvcnNfLmdldEFTVFVuc3VwcG9ydGVkU2NoZW1hKGFzdCkpO1xuICAgICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBuZXcgVHlwZUxpdGVyYWwoa2V5cy5tYXAoa2V5ID0+IGdldFByb3BlcnR5S2V5SW5kZXhlZEFjY2Vzcyhhc3QsIGtleSkpLCBbXSk7XG59O1xuLyoqXG4gKiBFcXVpdmFsZW50IGF0IHJ1bnRpbWUgdG8gdGhlIGJ1aWx0LWluIFR5cGVTY3JpcHQgdXRpbGl0eSB0eXBlIGBPbWl0YC5cbiAqXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjb25zdCBvbWl0ID0gKGFzdCwga2V5cykgPT4gcGljayhhc3QsIGdldFByb3BlcnR5S2V5cyhhc3QpLmZpbHRlcihuYW1lID0+ICFrZXlzLmluY2x1ZGVzKG5hbWUpKSk7XG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3Qgb3JVbmRlZmluZWQgPSBhc3QgPT4gVW5pb24ubWFrZShbYXN0LCB1bmRlZmluZWRLZXl3b3JkXSk7XG4vKipcbiAqIEVxdWl2YWxlbnQgYXQgcnVudGltZSB0byB0aGUgYnVpbHQtaW4gVHlwZVNjcmlwdCB1dGlsaXR5IHR5cGUgYFBhcnRpYWxgLlxuICpcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNvbnN0IHBhcnRpYWwgPSAoYXN0LCBvcHRpb25zKSA9PiB7XG4gIGNvbnN0IGV4YWN0ID0gb3B0aW9ucz8uZXhhY3QgPT09IHRydWU7XG4gIHN3aXRjaCAoYXN0Ll90YWcpIHtcbiAgICBjYXNlIFwiVHVwbGVUeXBlXCI6XG4gICAgICByZXR1cm4gbmV3IFR1cGxlVHlwZShhc3QuZWxlbWVudHMubWFwKGUgPT4gbmV3IE9wdGlvbmFsVHlwZShleGFjdCA/IGUudHlwZSA6IG9yVW5kZWZpbmVkKGUudHlwZSksIHRydWUpKSwgQXJyLm1hdGNoKGFzdC5yZXN0LCB7XG4gICAgICAgIG9uRW1wdHk6ICgpID0+IGFzdC5yZXN0LFxuICAgICAgICBvbk5vbkVtcHR5OiByZXN0ID0+IFtuZXcgVHlwZShVbmlvbi5tYWtlKFsuLi5nZXRSZXN0QVNUcyhyZXN0KSwgdW5kZWZpbmVkS2V5d29yZF0pKV1cbiAgICAgIH0pLCBhc3QuaXNSZWFkb25seSk7XG4gICAgY2FzZSBcIlR5cGVMaXRlcmFsXCI6XG4gICAgICByZXR1cm4gbmV3IFR5cGVMaXRlcmFsKGFzdC5wcm9wZXJ0eVNpZ25hdHVyZXMubWFwKHBzID0+IG5ldyBQcm9wZXJ0eVNpZ25hdHVyZShwcy5uYW1lLCBleGFjdCA/IHBzLnR5cGUgOiBvclVuZGVmaW5lZChwcy50eXBlKSwgdHJ1ZSwgcHMuaXNSZWFkb25seSwgcHMuYW5ub3RhdGlvbnMpKSwgYXN0LmluZGV4U2lnbmF0dXJlcy5tYXAoaXMgPT4gbmV3IEluZGV4U2lnbmF0dXJlKGlzLnBhcmFtZXRlciwgb3JVbmRlZmluZWQoaXMudHlwZSksIGlzLmlzUmVhZG9ubHkpKSk7XG4gICAgY2FzZSBcIlVuaW9uXCI6XG4gICAgICByZXR1cm4gVW5pb24ubWFrZShhc3QudHlwZXMubWFwKG1lbWJlciA9PiBwYXJ0aWFsKG1lbWJlciwgb3B0aW9ucykpKTtcbiAgICBjYXNlIFwiU3VzcGVuZFwiOlxuICAgICAgcmV0dXJuIG5ldyBTdXNwZW5kKCgpID0+IHBhcnRpYWwoYXN0LmYoKSwgb3B0aW9ucykpO1xuICAgIGNhc2UgXCJEZWNsYXJhdGlvblwiOlxuICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yc18uZ2V0QVNUVW5zdXBwb3J0ZWRTY2hlbWEoYXN0KSk7XG4gICAgY2FzZSBcIlJlZmluZW1lbnRcIjpcbiAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvcnNfLmdldEFTVFVuc3VwcG9ydGVkU2NoZW1hKGFzdCkpO1xuICAgIGNhc2UgXCJUcmFuc2Zvcm1hdGlvblwiOlxuICAgICAge1xuICAgICAgICBpZiAoaXNUeXBlTGl0ZXJhbFRyYW5zZm9ybWF0aW9uKGFzdC50cmFuc2Zvcm1hdGlvbikgJiYgYXN0LnRyYW5zZm9ybWF0aW9uLnByb3BlcnR5U2lnbmF0dXJlVHJhbnNmb3JtYXRpb25zLmV2ZXJ5KGlzUmVuYW1pbmdQcm9wZXJ0eVNpZ25hdHVyZVRyYW5zZm9ybWF0aW9uKSkge1xuICAgICAgICAgIHJldHVybiBuZXcgVHJhbnNmb3JtYXRpb24ocGFydGlhbChhc3QuZnJvbSwgb3B0aW9ucyksIHBhcnRpYWwoYXN0LnRvLCBvcHRpb25zKSwgYXN0LnRyYW5zZm9ybWF0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JzXy5nZXRBU1RVbnN1cHBvcnRlZFNjaGVtYShhc3QpKTtcbiAgICAgIH1cbiAgfVxuICByZXR1cm4gYXN0O1xufTtcbi8qKlxuICogRXF1aXZhbGVudCBhdCBydW50aW1lIHRvIHRoZSBidWlsdC1pbiBUeXBlU2NyaXB0IHV0aWxpdHkgdHlwZSBgUmVxdWlyZWRgLlxuICpcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNvbnN0IHJlcXVpcmVkID0gYXN0ID0+IHtcbiAgc3dpdGNoIChhc3QuX3RhZykge1xuICAgIGNhc2UgXCJUdXBsZVR5cGVcIjpcbiAgICAgIHJldHVybiBuZXcgVHVwbGVUeXBlKGFzdC5lbGVtZW50cy5tYXAoZSA9PiBuZXcgT3B0aW9uYWxUeXBlKGUudHlwZSwgZmFsc2UpKSwgYXN0LnJlc3QsIGFzdC5pc1JlYWRvbmx5KTtcbiAgICBjYXNlIFwiVHlwZUxpdGVyYWxcIjpcbiAgICAgIHJldHVybiBuZXcgVHlwZUxpdGVyYWwoYXN0LnByb3BlcnR5U2lnbmF0dXJlcy5tYXAoZiA9PiBuZXcgUHJvcGVydHlTaWduYXR1cmUoZi5uYW1lLCBmLnR5cGUsIGZhbHNlLCBmLmlzUmVhZG9ubHksIGYuYW5ub3RhdGlvbnMpKSwgYXN0LmluZGV4U2lnbmF0dXJlcyk7XG4gICAgY2FzZSBcIlVuaW9uXCI6XG4gICAgICByZXR1cm4gVW5pb24ubWFrZShhc3QudHlwZXMubWFwKG1lbWJlciA9PiByZXF1aXJlZChtZW1iZXIpKSk7XG4gICAgY2FzZSBcIlN1c3BlbmRcIjpcbiAgICAgIHJldHVybiBuZXcgU3VzcGVuZCgoKSA9PiByZXF1aXJlZChhc3QuZigpKSk7XG4gICAgY2FzZSBcIkRlY2xhcmF0aW9uXCI6XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JzXy5nZXRBU1RVbnN1cHBvcnRlZFNjaGVtYShhc3QpKTtcbiAgICBjYXNlIFwiUmVmaW5lbWVudFwiOlxuICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yc18uZ2V0QVNUVW5zdXBwb3J0ZWRTY2hlbWEoYXN0KSk7XG4gICAgY2FzZSBcIlRyYW5zZm9ybWF0aW9uXCI6XG4gICAgICB7XG4gICAgICAgIGlmIChpc1R5cGVMaXRlcmFsVHJhbnNmb3JtYXRpb24oYXN0LnRyYW5zZm9ybWF0aW9uKSAmJiBhc3QudHJhbnNmb3JtYXRpb24ucHJvcGVydHlTaWduYXR1cmVUcmFuc2Zvcm1hdGlvbnMuZXZlcnkoaXNSZW5hbWluZ1Byb3BlcnR5U2lnbmF0dXJlVHJhbnNmb3JtYXRpb24pKSB7XG4gICAgICAgICAgcmV0dXJuIG5ldyBUcmFuc2Zvcm1hdGlvbihyZXF1aXJlZChhc3QuZnJvbSksIHJlcXVpcmVkKGFzdC50byksIGFzdC50cmFuc2Zvcm1hdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yc18uZ2V0QVNUVW5zdXBwb3J0ZWRTY2hlbWEoYXN0KSk7XG4gICAgICB9XG4gIH1cbiAgcmV0dXJuIGFzdDtcbn07XG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgQVNUIHdpdGggc2hhbGxvdyBtdXRhYmlsaXR5IGFwcGxpZWQgdG8gaXRzIHByb3BlcnRpZXMuXG4gKlxuICogQHBhcmFtIGFzdCAtIFRoZSBvcmlnaW5hbCBBU1QgdG8gbWFrZSBwcm9wZXJ0aWVzIG11dGFibGUgKHNoYWxsb3dseSkuXG4gKlxuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY29uc3QgbXV0YWJsZSA9IGFzdCA9PiB7XG4gIHN3aXRjaCAoYXN0Ll90YWcpIHtcbiAgICBjYXNlIFwiVHVwbGVUeXBlXCI6XG4gICAgICByZXR1cm4gYXN0LmlzUmVhZG9ubHkgPT09IGZhbHNlID8gYXN0IDogbmV3IFR1cGxlVHlwZShhc3QuZWxlbWVudHMsIGFzdC5yZXN0LCBmYWxzZSwgYXN0LmFubm90YXRpb25zKTtcbiAgICBjYXNlIFwiVHlwZUxpdGVyYWxcIjpcbiAgICAgIHtcbiAgICAgICAgY29uc3QgcHJvcGVydHlTaWduYXR1cmVzID0gY2hhbmdlTWFwKGFzdC5wcm9wZXJ0eVNpZ25hdHVyZXMsIHBzID0+IHBzLmlzUmVhZG9ubHkgPT09IGZhbHNlID8gcHMgOiBuZXcgUHJvcGVydHlTaWduYXR1cmUocHMubmFtZSwgcHMudHlwZSwgcHMuaXNPcHRpb25hbCwgZmFsc2UsIHBzLmFubm90YXRpb25zKSk7XG4gICAgICAgIGNvbnN0IGluZGV4U2lnbmF0dXJlcyA9IGNoYW5nZU1hcChhc3QuaW5kZXhTaWduYXR1cmVzLCBpcyA9PiBpcy5pc1JlYWRvbmx5ID09PSBmYWxzZSA/IGlzIDogbmV3IEluZGV4U2lnbmF0dXJlKGlzLnBhcmFtZXRlciwgaXMudHlwZSwgZmFsc2UpKTtcbiAgICAgICAgcmV0dXJuIHByb3BlcnR5U2lnbmF0dXJlcyA9PT0gYXN0LnByb3BlcnR5U2lnbmF0dXJlcyAmJiBpbmRleFNpZ25hdHVyZXMgPT09IGFzdC5pbmRleFNpZ25hdHVyZXMgPyBhc3QgOiBuZXcgVHlwZUxpdGVyYWwocHJvcGVydHlTaWduYXR1cmVzLCBpbmRleFNpZ25hdHVyZXMsIGFzdC5hbm5vdGF0aW9ucyk7XG4gICAgICB9XG4gICAgY2FzZSBcIlVuaW9uXCI6XG4gICAgICB7XG4gICAgICAgIGNvbnN0IHR5cGVzID0gY2hhbmdlTWFwKGFzdC50eXBlcywgbXV0YWJsZSk7XG4gICAgICAgIHJldHVybiB0eXBlcyA9PT0gYXN0LnR5cGVzID8gYXN0IDogVW5pb24ubWFrZSh0eXBlcywgYXN0LmFubm90YXRpb25zKTtcbiAgICAgIH1cbiAgICBjYXNlIFwiU3VzcGVuZFwiOlxuICAgICAgcmV0dXJuIG5ldyBTdXNwZW5kKCgpID0+IG11dGFibGUoYXN0LmYoKSksIGFzdC5hbm5vdGF0aW9ucyk7XG4gICAgY2FzZSBcIlJlZmluZW1lbnRcIjpcbiAgICAgIHtcbiAgICAgICAgY29uc3QgZnJvbSA9IG11dGFibGUoYXN0LmZyb20pO1xuICAgICAgICByZXR1cm4gZnJvbSA9PT0gYXN0LmZyb20gPyBhc3QgOiBuZXcgUmVmaW5lbWVudChmcm9tLCBhc3QuZmlsdGVyLCBhc3QuYW5ub3RhdGlvbnMpO1xuICAgICAgfVxuICAgIGNhc2UgXCJUcmFuc2Zvcm1hdGlvblwiOlxuICAgICAge1xuICAgICAgICBjb25zdCBmcm9tID0gbXV0YWJsZShhc3QuZnJvbSk7XG4gICAgICAgIGNvbnN0IHRvID0gbXV0YWJsZShhc3QudG8pO1xuICAgICAgICByZXR1cm4gZnJvbSA9PT0gYXN0LmZyb20gJiYgdG8gPT09IGFzdC50byA/IGFzdCA6IG5ldyBUcmFuc2Zvcm1hdGlvbihmcm9tLCB0bywgYXN0LnRyYW5zZm9ybWF0aW9uLCBhc3QuYW5ub3RhdGlvbnMpO1xuICAgICAgfVxuICB9XG4gIHJldHVybiBhc3Q7XG59O1xuLyoqXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjb25zdCBnZXRDb21waWxlciA9IG1hdGNoID0+IHtcbiAgY29uc3QgY29tcGlsZSA9IChhc3QsIHBhdGgpID0+IG1hdGNoW2FzdC5fdGFnXShhc3QsIGNvbXBpbGUsIHBhdGgpO1xuICByZXR1cm4gY29tcGlsZTtcbn07XG4vKipcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNvbnN0IHR5cGVBU1QgPSBhc3QgPT4ge1xuICBzd2l0Y2ggKGFzdC5fdGFnKSB7XG4gICAgY2FzZSBcIkRlY2xhcmF0aW9uXCI6XG4gICAgICB7XG4gICAgICAgIGNvbnN0IHR5cGVQYXJhbWV0ZXJzID0gY2hhbmdlTWFwKGFzdC50eXBlUGFyYW1ldGVycywgdHlwZUFTVCk7XG4gICAgICAgIHJldHVybiB0eXBlUGFyYW1ldGVycyA9PT0gYXN0LnR5cGVQYXJhbWV0ZXJzID8gYXN0IDogbmV3IERlY2xhcmF0aW9uKHR5cGVQYXJhbWV0ZXJzLCBhc3QuZGVjb2RlVW5rbm93biwgYXN0LmVuY29kZVVua25vd24sIGFzdC5hbm5vdGF0aW9ucyk7XG4gICAgICB9XG4gICAgY2FzZSBcIlR1cGxlVHlwZVwiOlxuICAgICAge1xuICAgICAgICBjb25zdCBlbGVtZW50cyA9IGNoYW5nZU1hcChhc3QuZWxlbWVudHMsIGUgPT4ge1xuICAgICAgICAgIGNvbnN0IHR5cGUgPSB0eXBlQVNUKGUudHlwZSk7XG4gICAgICAgICAgcmV0dXJuIHR5cGUgPT09IGUudHlwZSA/IGUgOiBuZXcgT3B0aW9uYWxUeXBlKHR5cGUsIGUuaXNPcHRpb25hbCk7XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCByZXN0QVNUcyA9IGdldFJlc3RBU1RzKGFzdC5yZXN0KTtcbiAgICAgICAgY29uc3QgcmVzdCA9IGNoYW5nZU1hcChyZXN0QVNUcywgdHlwZUFTVCk7XG4gICAgICAgIHJldHVybiBlbGVtZW50cyA9PT0gYXN0LmVsZW1lbnRzICYmIHJlc3QgPT09IHJlc3RBU1RzID8gYXN0IDogbmV3IFR1cGxlVHlwZShlbGVtZW50cywgcmVzdC5tYXAodHlwZSA9PiBuZXcgVHlwZSh0eXBlKSksIGFzdC5pc1JlYWRvbmx5LCBhc3QuYW5ub3RhdGlvbnMpO1xuICAgICAgfVxuICAgIGNhc2UgXCJUeXBlTGl0ZXJhbFwiOlxuICAgICAge1xuICAgICAgICBjb25zdCBwcm9wZXJ0eVNpZ25hdHVyZXMgPSBjaGFuZ2VNYXAoYXN0LnByb3BlcnR5U2lnbmF0dXJlcywgcCA9PiB7XG4gICAgICAgICAgY29uc3QgdHlwZSA9IHR5cGVBU1QocC50eXBlKTtcbiAgICAgICAgICByZXR1cm4gdHlwZSA9PT0gcC50eXBlID8gcCA6IG5ldyBQcm9wZXJ0eVNpZ25hdHVyZShwLm5hbWUsIHR5cGUsIHAuaXNPcHRpb25hbCwgcC5pc1JlYWRvbmx5KTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IGluZGV4U2lnbmF0dXJlcyA9IGNoYW5nZU1hcChhc3QuaW5kZXhTaWduYXR1cmVzLCBpcyA9PiB7XG4gICAgICAgICAgY29uc3QgdHlwZSA9IHR5cGVBU1QoaXMudHlwZSk7XG4gICAgICAgICAgcmV0dXJuIHR5cGUgPT09IGlzLnR5cGUgPyBpcyA6IG5ldyBJbmRleFNpZ25hdHVyZShpcy5wYXJhbWV0ZXIsIHR5cGUsIGlzLmlzUmVhZG9ubHkpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHByb3BlcnR5U2lnbmF0dXJlcyA9PT0gYXN0LnByb3BlcnR5U2lnbmF0dXJlcyAmJiBpbmRleFNpZ25hdHVyZXMgPT09IGFzdC5pbmRleFNpZ25hdHVyZXMgPyBhc3QgOiBuZXcgVHlwZUxpdGVyYWwocHJvcGVydHlTaWduYXR1cmVzLCBpbmRleFNpZ25hdHVyZXMsIGFzdC5hbm5vdGF0aW9ucyk7XG4gICAgICB9XG4gICAgY2FzZSBcIlVuaW9uXCI6XG4gICAgICB7XG4gICAgICAgIGNvbnN0IHR5cGVzID0gY2hhbmdlTWFwKGFzdC50eXBlcywgdHlwZUFTVCk7XG4gICAgICAgIHJldHVybiB0eXBlcyA9PT0gYXN0LnR5cGVzID8gYXN0IDogVW5pb24ubWFrZSh0eXBlcywgYXN0LmFubm90YXRpb25zKTtcbiAgICAgIH1cbiAgICBjYXNlIFwiU3VzcGVuZFwiOlxuICAgICAgcmV0dXJuIG5ldyBTdXNwZW5kKCgpID0+IHR5cGVBU1QoYXN0LmYoKSksIGFzdC5hbm5vdGF0aW9ucyk7XG4gICAgY2FzZSBcIlJlZmluZW1lbnRcIjpcbiAgICAgIHtcbiAgICAgICAgY29uc3QgZnJvbSA9IHR5cGVBU1QoYXN0LmZyb20pO1xuICAgICAgICByZXR1cm4gZnJvbSA9PT0gYXN0LmZyb20gPyBhc3QgOiBuZXcgUmVmaW5lbWVudChmcm9tLCBhc3QuZmlsdGVyLCBhc3QuYW5ub3RhdGlvbnMpO1xuICAgICAgfVxuICAgIGNhc2UgXCJUcmFuc2Zvcm1hdGlvblwiOlxuICAgICAgcmV0dXJuIHR5cGVBU1QoYXN0LnRvKTtcbiAgfVxuICByZXR1cm4gYXN0O1xufTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBwcmVzZXJ2ZUFubm90YXRpb25zID0gYW5ub3RhdGlvbklkcyA9PiBhbm5vdGF0ZWQgPT4ge1xuICBsZXQgb3V0ID0gdW5kZWZpbmVkO1xuICBmb3IgKGNvbnN0IGlkIG9mIGFubm90YXRpb25JZHMpIHtcbiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGFubm90YXRlZC5hbm5vdGF0aW9ucywgaWQpKSB7XG4gICAgICBpZiAob3V0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgb3V0ID0ge307XG4gICAgICB9XG4gICAgICBvdXRbaWRdID0gYW5ub3RhdGVkLmFubm90YXRpb25zW2lkXTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG91dDtcbn07XG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3QgZ2V0SlNPTklkZW50aWZpZXIgPSBhbm5vdGF0ZWQgPT4gT3B0aW9uLm9yRWxzZShnZXRKU09OSWRlbnRpZmllckFubm90YXRpb24oYW5ub3RhdGVkKSwgKCkgPT4gZ2V0SWRlbnRpZmllckFubm90YXRpb24oYW5ub3RhdGVkKSk7XG4vLyBUbyBnZW5lcmF0ZSBhIEpTT04gU2NoZW1hIGZyb20gYSByZWN1cnNpdmUgc2NoZW1hLCBhbiBgaWRlbnRpZmllcmAgYW5ub3RhdGlvblxuLy8gaXMgcmVxdWlyZWQuIFNvLCB3aGVuIHdlIGNhbGN1bGF0ZSB0aGUgZW5jb2RlZEFTVCwgd2UgbmVlZCB0byBwcmVzZXJ2ZSB0aGVcbi8vIGFubm90YXRpb24gaW4gdGhlIGZvcm0gb2YgYW4gaW50ZXJuYWwgY3VzdG9tIGFubm90YXRpb24gdGhhdCBhY3RzIGFzIGFcbi8vIHN1cnJvZ2F0ZSBmb3IgdGhlIGlkZW50aWZpZXIsIHdoaWNoIHRoZSBKU09OIFNjaGVtYSBjb21waWxlciBjYW4gdGhlbiByZWFkLlxuY29uc3QgY3JlYXRlSlNPTklkZW50aWZpZXJBbm5vdGF0aW9uID0gYW5ub3RhdGVkID0+IE9wdGlvbi5tYXRjaChnZXRKU09OSWRlbnRpZmllcihhbm5vdGF0ZWQpLCB7XG4gIG9uTm9uZTogKCkgPT4gdW5kZWZpbmVkLFxuICBvblNvbWU6IGlkZW50aWZpZXIgPT4gKHtcbiAgICBbSlNPTklkZW50aWZpZXJBbm5vdGF0aW9uSWRdOiBpZGVudGlmaWVyXG4gIH0pXG59KTtcbmZ1bmN0aW9uIGNoYW5nZU1hcChhcywgZikge1xuICBsZXQgY2hhbmdlZCA9IGZhbHNlO1xuICBjb25zdCBvdXQgPSBBcnIuYWxsb2NhdGUoYXMubGVuZ3RoKTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IGEgPSBhc1tpXTtcbiAgICBjb25zdCBmYSA9IGYoYSk7XG4gICAgaWYgKGZhICE9PSBhKSB7XG4gICAgICBjaGFuZ2VkID0gdHJ1ZTtcbiAgICB9XG4gICAgb3V0W2ldID0gZmE7XG4gIH1cbiAgcmV0dXJuIGNoYW5nZWQgPyBvdXQgOiBhcztcbn1cbmNvbnN0IGVuY29kZWRBU1RfID0gKGFzdCwgaXNCb3VuZCkgPT4ge1xuICBzd2l0Y2ggKGFzdC5fdGFnKSB7XG4gICAgY2FzZSBcIkRlY2xhcmF0aW9uXCI6XG4gICAgICB7XG4gICAgICAgIGNvbnN0IHR5cGVQYXJhbWV0ZXJzID0gY2hhbmdlTWFwKGFzdC50eXBlUGFyYW1ldGVycywgYXN0ID0+IGVuY29kZWRBU1RfKGFzdCwgaXNCb3VuZCkpO1xuICAgICAgICByZXR1cm4gdHlwZVBhcmFtZXRlcnMgPT09IGFzdC50eXBlUGFyYW1ldGVycyA/IGFzdCA6IG5ldyBEZWNsYXJhdGlvbih0eXBlUGFyYW1ldGVycywgYXN0LmRlY29kZVVua25vd24sIGFzdC5lbmNvZGVVbmtub3duLCBhc3QuYW5ub3RhdGlvbnMpO1xuICAgICAgfVxuICAgIGNhc2UgXCJUdXBsZVR5cGVcIjpcbiAgICAgIHtcbiAgICAgICAgY29uc3QgZWxlbWVudHMgPSBjaGFuZ2VNYXAoYXN0LmVsZW1lbnRzLCBlID0+IHtcbiAgICAgICAgICBjb25zdCB0eXBlID0gZW5jb2RlZEFTVF8oZS50eXBlLCBpc0JvdW5kKTtcbiAgICAgICAgICByZXR1cm4gdHlwZSA9PT0gZS50eXBlID8gZSA6IG5ldyBPcHRpb25hbFR5cGUodHlwZSwgZS5pc09wdGlvbmFsKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHJlc3RBU1RzID0gZ2V0UmVzdEFTVHMoYXN0LnJlc3QpO1xuICAgICAgICBjb25zdCByZXN0ID0gY2hhbmdlTWFwKHJlc3RBU1RzLCBhc3QgPT4gZW5jb2RlZEFTVF8oYXN0LCBpc0JvdW5kKSk7XG4gICAgICAgIHJldHVybiBlbGVtZW50cyA9PT0gYXN0LmVsZW1lbnRzICYmIHJlc3QgPT09IHJlc3RBU1RzID8gYXN0IDogbmV3IFR1cGxlVHlwZShlbGVtZW50cywgcmVzdC5tYXAoYXN0ID0+IG5ldyBUeXBlKGFzdCkpLCBhc3QuaXNSZWFkb25seSwgY3JlYXRlSlNPTklkZW50aWZpZXJBbm5vdGF0aW9uKGFzdCkpO1xuICAgICAgfVxuICAgIGNhc2UgXCJUeXBlTGl0ZXJhbFwiOlxuICAgICAge1xuICAgICAgICBjb25zdCBwcm9wZXJ0eVNpZ25hdHVyZXMgPSBjaGFuZ2VNYXAoYXN0LnByb3BlcnR5U2lnbmF0dXJlcywgcHMgPT4ge1xuICAgICAgICAgIGNvbnN0IHR5cGUgPSBlbmNvZGVkQVNUXyhwcy50eXBlLCBpc0JvdW5kKTtcbiAgICAgICAgICByZXR1cm4gdHlwZSA9PT0gcHMudHlwZSA/IHBzIDogbmV3IFByb3BlcnR5U2lnbmF0dXJlKHBzLm5hbWUsIHR5cGUsIHBzLmlzT3B0aW9uYWwsIHBzLmlzUmVhZG9ubHkpO1xuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgaW5kZXhTaWduYXR1cmVzID0gY2hhbmdlTWFwKGFzdC5pbmRleFNpZ25hdHVyZXMsIGlzID0+IHtcbiAgICAgICAgICBjb25zdCB0eXBlID0gZW5jb2RlZEFTVF8oaXMudHlwZSwgaXNCb3VuZCk7XG4gICAgICAgICAgcmV0dXJuIHR5cGUgPT09IGlzLnR5cGUgPyBpcyA6IG5ldyBJbmRleFNpZ25hdHVyZShpcy5wYXJhbWV0ZXIsIHR5cGUsIGlzLmlzUmVhZG9ubHkpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHByb3BlcnR5U2lnbmF0dXJlcyA9PT0gYXN0LnByb3BlcnR5U2lnbmF0dXJlcyAmJiBpbmRleFNpZ25hdHVyZXMgPT09IGFzdC5pbmRleFNpZ25hdHVyZXMgPyBhc3QgOiBuZXcgVHlwZUxpdGVyYWwocHJvcGVydHlTaWduYXR1cmVzLCBpbmRleFNpZ25hdHVyZXMsIGNyZWF0ZUpTT05JZGVudGlmaWVyQW5ub3RhdGlvbihhc3QpKTtcbiAgICAgIH1cbiAgICBjYXNlIFwiVW5pb25cIjpcbiAgICAgIHtcbiAgICAgICAgY29uc3QgdHlwZXMgPSBjaGFuZ2VNYXAoYXN0LnR5cGVzLCBhc3QgPT4gZW5jb2RlZEFTVF8oYXN0LCBpc0JvdW5kKSk7XG4gICAgICAgIHJldHVybiB0eXBlcyA9PT0gYXN0LnR5cGVzID8gYXN0IDogVW5pb24ubWFrZSh0eXBlcywgY3JlYXRlSlNPTklkZW50aWZpZXJBbm5vdGF0aW9uKGFzdCkpO1xuICAgICAgfVxuICAgIGNhc2UgXCJTdXNwZW5kXCI6XG4gICAgICByZXR1cm4gbmV3IFN1c3BlbmQoKCkgPT4gZW5jb2RlZEFTVF8oYXN0LmYoKSwgaXNCb3VuZCksIGNyZWF0ZUpTT05JZGVudGlmaWVyQW5ub3RhdGlvbihhc3QpKTtcbiAgICBjYXNlIFwiUmVmaW5lbWVudFwiOlxuICAgICAge1xuICAgICAgICBjb25zdCBmcm9tID0gZW5jb2RlZEFTVF8oYXN0LmZyb20sIGlzQm91bmQpO1xuICAgICAgICBpZiAoaXNCb3VuZCkge1xuICAgICAgICAgIGlmIChmcm9tID09PSBhc3QuZnJvbSkge1xuICAgICAgICAgICAgcmV0dXJuIGFzdDtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKCFpc1RyYW5zZm9ybWF0aW9uKGFzdC5mcm9tKSkge1xuICAgICAgICAgICAgY29uc3QgYW5ub3RhdGlvbnMgPSBnZXRTdGFibGVGaWx0ZXJBbm5vdGF0aW9uKGFzdCk7XG4gICAgICAgICAgICBpZiAoT3B0aW9uLmlzU29tZShhbm5vdGF0aW9ucykgJiYgYW5ub3RhdGlvbnMudmFsdWUgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIG5ldyBSZWZpbmVtZW50KGZyb20sIGFzdC5maWx0ZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZnJvbTtcbiAgICAgIH1cbiAgICBjYXNlIFwiVHJhbnNmb3JtYXRpb25cIjpcbiAgICAgIHJldHVybiBlbmNvZGVkQVNUXyhhc3QuZnJvbSwgaXNCb3VuZCk7XG4gIH1cbiAgcmV0dXJuIGFzdDtcbn07XG4vKipcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNvbnN0IGVuY29kZWRBU1QgPSBhc3QgPT4gZW5jb2RlZEFTVF8oYXN0LCBmYWxzZSk7XG4vKipcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNvbnN0IGVuY29kZWRCb3VuZEFTVCA9IGFzdCA9PiBlbmNvZGVkQVNUXyhhc3QsIHRydWUpO1xuY29uc3QgdG9KU09OQW5ub3RhdGlvbnMgPSBhbm5vdGF0aW9ucyA9PiB7XG4gIGNvbnN0IG91dCA9IHt9O1xuICBmb3IgKGNvbnN0IGsgb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhhbm5vdGF0aW9ucykpIHtcbiAgICBvdXRbU3RyaW5nKGspXSA9IGFubm90YXRpb25zW2tdO1xuICB9XG4gIHJldHVybiBvdXQ7XG59O1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IGdldENhcmRpbmFsaXR5ID0gYXN0ID0+IHtcbiAgc3dpdGNoIChhc3QuX3RhZykge1xuICAgIGNhc2UgXCJOZXZlcktleXdvcmRcIjpcbiAgICAgIHJldHVybiAwO1xuICAgIGNhc2UgXCJMaXRlcmFsXCI6XG4gICAgY2FzZSBcIlVuZGVmaW5lZEtleXdvcmRcIjpcbiAgICBjYXNlIFwiVm9pZEtleXdvcmRcIjpcbiAgICBjYXNlIFwiVW5pcXVlU3ltYm9sXCI6XG4gICAgICByZXR1cm4gMTtcbiAgICBjYXNlIFwiQm9vbGVhbktleXdvcmRcIjpcbiAgICAgIHJldHVybiAyO1xuICAgIGNhc2UgXCJTdHJpbmdLZXl3b3JkXCI6XG4gICAgY2FzZSBcIk51bWJlcktleXdvcmRcIjpcbiAgICBjYXNlIFwiQmlnSW50S2V5d29yZFwiOlxuICAgIGNhc2UgXCJTeW1ib2xLZXl3b3JkXCI6XG4gICAgICByZXR1cm4gMztcbiAgICBjYXNlIFwiT2JqZWN0S2V5d29yZFwiOlxuICAgICAgcmV0dXJuIDU7XG4gICAgY2FzZSBcIlVua25vd25LZXl3b3JkXCI6XG4gICAgY2FzZSBcIkFueUtleXdvcmRcIjpcbiAgICAgIHJldHVybiA2O1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gNDtcbiAgfVxufTtcbmNvbnN0IHNvcnRQcm9wZXJ0eVNpZ25hdHVyZXMgPSAvKiNfX1BVUkVfXyovQXJyLnNvcnQoIC8qI19fUFVSRV9fKi9PcmRlci5tYXBJbnB1dChOdW1iZXIuT3JkZXIsIHBzID0+IGdldENhcmRpbmFsaXR5KHBzLnR5cGUpKSk7XG5jb25zdCBzb3J0SW5kZXhTaWduYXR1cmVzID0gLyojX19QVVJFX18qL0Fyci5zb3J0KCAvKiNfX1BVUkVfXyovT3JkZXIubWFwSW5wdXQoTnVtYmVyLk9yZGVyLCBpcyA9PiB7XG4gIHN3aXRjaCAoZ2V0UGFyYW1ldGVyQmFzZShpcy5wYXJhbWV0ZXIpLl90YWcpIHtcbiAgICBjYXNlIFwiU3RyaW5nS2V5d29yZFwiOlxuICAgICAgcmV0dXJuIDI7XG4gICAgY2FzZSBcIlN5bWJvbEtleXdvcmRcIjpcbiAgICAgIHJldHVybiAzO1xuICAgIGNhc2UgXCJUZW1wbGF0ZUxpdGVyYWxcIjpcbiAgICAgIHJldHVybiAxO1xuICB9XG59KSk7XG5jb25zdCBXZWlnaHRPcmRlciA9IC8qI19fUFVSRV9fKi9PcmRlci50dXBsZShOdW1iZXIuT3JkZXIsIE51bWJlci5PcmRlciwgTnVtYmVyLk9yZGVyKTtcbmNvbnN0IG1heFdlaWdodCA9IC8qI19fUFVSRV9fKi9PcmRlci5tYXgoV2VpZ2h0T3JkZXIpO1xuY29uc3QgZW1wdHlXZWlnaHQgPSBbMCwgMCwgMF07XG5jb25zdCBtYXhXZWlnaHRBbGwgPSB3ZWlnaHRzID0+IHdlaWdodHMucmVkdWNlKG1heFdlaWdodCwgZW1wdHlXZWlnaHQpO1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IGdldFdlaWdodCA9IGFzdCA9PiB7XG4gIHN3aXRjaCAoYXN0Ll90YWcpIHtcbiAgICBjYXNlIFwiVHVwbGVUeXBlXCI6XG4gICAgICB7XG4gICAgICAgIHJldHVybiBbMiwgYXN0LmVsZW1lbnRzLmxlbmd0aCwgYXN0LnJlc3QubGVuZ3RoXTtcbiAgICAgIH1cbiAgICBjYXNlIFwiVHlwZUxpdGVyYWxcIjpcbiAgICAgIHtcbiAgICAgICAgY29uc3QgeSA9IGFzdC5wcm9wZXJ0eVNpZ25hdHVyZXMubGVuZ3RoO1xuICAgICAgICBjb25zdCB6ID0gYXN0LmluZGV4U2lnbmF0dXJlcy5sZW5ndGg7XG4gICAgICAgIHJldHVybiB5ICsgeiA9PT0gMCA/IFstNCwgMCwgMF0gOiBbNCwgeSwgel07XG4gICAgICB9XG4gICAgY2FzZSBcIkRlY2xhcmF0aW9uXCI6XG4gICAgICB7XG4gICAgICAgIGNvbnN0IGFubm90YXRpb24gPSBnZXRTdXJyb2dhdGVBbm5vdGF0aW9uKGFzdCk7XG4gICAgICAgIGlmIChPcHRpb24uaXNTb21lKGFubm90YXRpb24pKSB7XG4gICAgICAgICAgY29uc3QgW18sIHksIHpdID0gZ2V0V2VpZ2h0KGFubm90YXRpb24udmFsdWUpO1xuICAgICAgICAgIHJldHVybiBbNiwgeSwgel07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFs2LCAwLCAwXTtcbiAgICAgIH1cbiAgICBjYXNlIFwiU3VzcGVuZFwiOlxuICAgICAgcmV0dXJuIFs4LCAwLCAwXTtcbiAgICBjYXNlIFwiVW5pb25cIjpcbiAgICAgIHJldHVybiBtYXhXZWlnaHRBbGwoYXN0LnR5cGVzLm1hcChnZXRXZWlnaHQpKTtcbiAgICBjYXNlIFwiUmVmaW5lbWVudFwiOlxuICAgICAge1xuICAgICAgICBjb25zdCBbeCwgeSwgel0gPSBnZXRXZWlnaHQoYXN0LmZyb20pO1xuICAgICAgICByZXR1cm4gW3ggKyAxLCB5LCB6XTtcbiAgICAgIH1cbiAgICBjYXNlIFwiVHJhbnNmb3JtYXRpb25cIjpcbiAgICAgIHJldHVybiBnZXRXZWlnaHQoYXN0LmZyb20pO1xuICAgIGNhc2UgXCJPYmplY3RLZXl3b3JkXCI6XG4gICAgICByZXR1cm4gWy0yLCAwLCAwXTtcbiAgICBjYXNlIFwiVW5rbm93bktleXdvcmRcIjpcbiAgICBjYXNlIFwiQW55S2V5d29yZFwiOlxuICAgICAgcmV0dXJuIFstNCwgMCwgMF07XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBlbXB0eVdlaWdodDtcbiAgfVxufTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBnZXRQYXJhbWV0ZXJCYXNlID0gYXN0ID0+IHtcbiAgc3dpdGNoIChhc3QuX3RhZykge1xuICAgIGNhc2UgXCJTdHJpbmdLZXl3b3JkXCI6XG4gICAgY2FzZSBcIlN5bWJvbEtleXdvcmRcIjpcbiAgICBjYXNlIFwiVGVtcGxhdGVMaXRlcmFsXCI6XG4gICAgICByZXR1cm4gYXN0O1xuICAgIGNhc2UgXCJSZWZpbmVtZW50XCI6XG4gICAgICByZXR1cm4gZ2V0UGFyYW1ldGVyQmFzZShhc3QuZnJvbSk7XG4gIH1cbn07XG5jb25zdCBlcXVhbHNUZW1wbGF0ZUxpdGVyYWxTcGFuID0gLyojX19QVVJFX18qL0Fyci5nZXRFcXVpdmFsZW5jZSgoc2VsZiwgdGhhdCkgPT4gc2VsZi50eXBlLl90YWcgPT09IHRoYXQudHlwZS5fdGFnICYmIHNlbGYubGl0ZXJhbCA9PT0gdGhhdC5saXRlcmFsKTtcbmNvbnN0IGVxdWFsc0VudW1zID0gLyojX19QVVJFX18qL0Fyci5nZXRFcXVpdmFsZW5jZSgoc2VsZiwgdGhhdCkgPT4gdGhhdFswXSA9PT0gc2VsZlswXSAmJiB0aGF0WzFdID09PSBzZWxmWzFdKTtcbmNvbnN0IGVxdWFscyA9IChzZWxmLCB0aGF0KSA9PiB7XG4gIHN3aXRjaCAoc2VsZi5fdGFnKSB7XG4gICAgY2FzZSBcIkxpdGVyYWxcIjpcbiAgICAgIHJldHVybiBpc0xpdGVyYWwodGhhdCkgJiYgdGhhdC5saXRlcmFsID09PSBzZWxmLmxpdGVyYWw7XG4gICAgY2FzZSBcIlVuaXF1ZVN5bWJvbFwiOlxuICAgICAgcmV0dXJuIGlzVW5pcXVlU3ltYm9sKHRoYXQpICYmIHRoYXQuc3ltYm9sID09PSBzZWxmLnN5bWJvbDtcbiAgICBjYXNlIFwiVW5kZWZpbmVkS2V5d29yZFwiOlxuICAgIGNhc2UgXCJWb2lkS2V5d29yZFwiOlxuICAgIGNhc2UgXCJOZXZlcktleXdvcmRcIjpcbiAgICBjYXNlIFwiVW5rbm93bktleXdvcmRcIjpcbiAgICBjYXNlIFwiQW55S2V5d29yZFwiOlxuICAgIGNhc2UgXCJTdHJpbmdLZXl3b3JkXCI6XG4gICAgY2FzZSBcIk51bWJlcktleXdvcmRcIjpcbiAgICBjYXNlIFwiQm9vbGVhbktleXdvcmRcIjpcbiAgICBjYXNlIFwiQmlnSW50S2V5d29yZFwiOlxuICAgIGNhc2UgXCJTeW1ib2xLZXl3b3JkXCI6XG4gICAgY2FzZSBcIk9iamVjdEtleXdvcmRcIjpcbiAgICAgIHJldHVybiB0aGF0Ll90YWcgPT09IHNlbGYuX3RhZztcbiAgICBjYXNlIFwiVGVtcGxhdGVMaXRlcmFsXCI6XG4gICAgICByZXR1cm4gaXNUZW1wbGF0ZUxpdGVyYWwodGhhdCkgJiYgdGhhdC5oZWFkID09PSBzZWxmLmhlYWQgJiYgZXF1YWxzVGVtcGxhdGVMaXRlcmFsU3Bhbih0aGF0LnNwYW5zLCBzZWxmLnNwYW5zKTtcbiAgICBjYXNlIFwiRW51bXNcIjpcbiAgICAgIHJldHVybiBpc0VudW1zKHRoYXQpICYmIGVxdWFsc0VudW1zKHRoYXQuZW51bXMsIHNlbGYuZW51bXMpO1xuICAgIGNhc2UgXCJSZWZpbmVtZW50XCI6XG4gICAgY2FzZSBcIlR1cGxlVHlwZVwiOlxuICAgIGNhc2UgXCJUeXBlTGl0ZXJhbFwiOlxuICAgIGNhc2UgXCJVbmlvblwiOlxuICAgIGNhc2UgXCJTdXNwZW5kXCI6XG4gICAgY2FzZSBcIlRyYW5zZm9ybWF0aW9uXCI6XG4gICAgY2FzZSBcIkRlY2xhcmF0aW9uXCI6XG4gICAgICByZXR1cm4gc2VsZiA9PT0gdGhhdDtcbiAgfVxufTtcbmNvbnN0IGludGVyc2VjdGlvbiA9IC8qI19fUFVSRV9fKi9BcnIuaW50ZXJzZWN0aW9uV2l0aChlcXVhbHMpO1xuY29uc3QgX2tleW9mID0gYXN0ID0+IHtcbiAgc3dpdGNoIChhc3QuX3RhZykge1xuICAgIGNhc2UgXCJEZWNsYXJhdGlvblwiOlxuICAgICAge1xuICAgICAgICBjb25zdCBhbm5vdGF0aW9uID0gZ2V0U3Vycm9nYXRlQW5ub3RhdGlvbihhc3QpO1xuICAgICAgICBpZiAoT3B0aW9uLmlzU29tZShhbm5vdGF0aW9uKSkge1xuICAgICAgICAgIHJldHVybiBfa2V5b2YoYW5ub3RhdGlvbi52YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgY2FzZSBcIlR5cGVMaXRlcmFsXCI6XG4gICAgICByZXR1cm4gYXN0LnByb3BlcnR5U2lnbmF0dXJlcy5tYXAocCA9PiBQcmVkaWNhdGUuaXNTeW1ib2wocC5uYW1lKSA/IG5ldyBVbmlxdWVTeW1ib2wocC5uYW1lKSA6IG5ldyBMaXRlcmFsKHAubmFtZSkpLmNvbmNhdChhc3QuaW5kZXhTaWduYXR1cmVzLm1hcChpcyA9PiBnZXRQYXJhbWV0ZXJCYXNlKGlzLnBhcmFtZXRlcikpKTtcbiAgICBjYXNlIFwiU3VzcGVuZFwiOlxuICAgICAgcmV0dXJuIF9rZXlvZihhc3QuZigpKTtcbiAgICBjYXNlIFwiVW5pb25cIjpcbiAgICAgIHJldHVybiBhc3QudHlwZXMuc2xpY2UoMSkucmVkdWNlKChvdXQsIGFzdCkgPT4gaW50ZXJzZWN0aW9uKG91dCwgX2tleW9mKGFzdCkpLCBfa2V5b2YoYXN0LnR5cGVzWzBdKSk7XG4gICAgY2FzZSBcIlRyYW5zZm9ybWF0aW9uXCI6XG4gICAgICByZXR1cm4gX2tleW9mKGFzdC50byk7XG4gIH1cbiAgdGhyb3cgbmV3IEVycm9yKGVycm9yc18uZ2V0QVNUVW5zdXBwb3J0ZWRTY2hlbWEoYXN0KSk7XG59O1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IGNvbXBvc2UgPSAoYWIsIGNkKSA9PiBuZXcgVHJhbnNmb3JtYXRpb24oYWIsIGNkLCBjb21wb3NlVHJhbnNmb3JtYXRpb24pO1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IHJlbmFtZSA9IChhc3QsIG1hcHBpbmcpID0+IHtcbiAgc3dpdGNoIChhc3QuX3RhZykge1xuICAgIGNhc2UgXCJUeXBlTGl0ZXJhbFwiOlxuICAgICAge1xuICAgICAgICBjb25zdCBwcm9wZXJ0eVNpZ25hdHVyZVRyYW5zZm9ybWF0aW9ucyA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiB1dGlsXy5vd25LZXlzKG1hcHBpbmcpKSB7XG4gICAgICAgICAgY29uc3QgbmFtZSA9IG1hcHBpbmdba2V5XTtcbiAgICAgICAgICBpZiAobmFtZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBwcm9wZXJ0eVNpZ25hdHVyZVRyYW5zZm9ybWF0aW9ucy5wdXNoKG5ldyBQcm9wZXJ0eVNpZ25hdHVyZVRyYW5zZm9ybWF0aW9uKGtleSwgbmFtZSwgaWRlbnRpdHksIGlkZW50aXR5KSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChwcm9wZXJ0eVNpZ25hdHVyZVRyYW5zZm9ybWF0aW9ucy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICByZXR1cm4gYXN0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgVHJhbnNmb3JtYXRpb24oYXN0LCBuZXcgVHlwZUxpdGVyYWwoYXN0LnByb3BlcnR5U2lnbmF0dXJlcy5tYXAocHMgPT4ge1xuICAgICAgICAgIGNvbnN0IG5hbWUgPSBtYXBwaW5nW3BzLm5hbWVdO1xuICAgICAgICAgIHJldHVybiBuZXcgUHJvcGVydHlTaWduYXR1cmUobmFtZSA9PT0gdW5kZWZpbmVkID8gcHMubmFtZSA6IG5hbWUsIHR5cGVBU1QocHMudHlwZSksIHBzLmlzT3B0aW9uYWwsIHBzLmlzUmVhZG9ubHksIHBzLmFubm90YXRpb25zKTtcbiAgICAgICAgfSksIGFzdC5pbmRleFNpZ25hdHVyZXMpLCBuZXcgVHlwZUxpdGVyYWxUcmFuc2Zvcm1hdGlvbihwcm9wZXJ0eVNpZ25hdHVyZVRyYW5zZm9ybWF0aW9ucykpO1xuICAgICAgfVxuICAgIGNhc2UgXCJVbmlvblwiOlxuICAgICAgcmV0dXJuIFVuaW9uLm1ha2UoYXN0LnR5cGVzLm1hcChhc3QgPT4gcmVuYW1lKGFzdCwgbWFwcGluZykpKTtcbiAgICBjYXNlIFwiU3VzcGVuZFwiOlxuICAgICAgcmV0dXJuIG5ldyBTdXNwZW5kKCgpID0+IHJlbmFtZShhc3QuZigpLCBtYXBwaW5nKSk7XG4gICAgY2FzZSBcIlRyYW5zZm9ybWF0aW9uXCI6XG4gICAgICByZXR1cm4gY29tcG9zZShhc3QsIHJlbmFtZSh0eXBlQVNUKGFzdCksIG1hcHBpbmcpKTtcbiAgfVxuICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JzXy5nZXRBU1RVbnN1cHBvcnRlZFJlbmFtZVNjaGVtYShhc3QpKTtcbn07XG5jb25zdCBmb3JtYXRLZXl3b3JkID0gYXN0ID0+IE9wdGlvbi5nZXRPckVsc2UoZ2V0RXhwZWN0ZWQoYXN0KSwgKCkgPT4gYXN0Ll90YWcpO1xuY29uc3QgZ2V0RXhwZWN0ZWQgPSBhc3QgPT4ge1xuICByZXR1cm4gZ2V0SWRlbnRpZmllckFubm90YXRpb24oYXN0KS5waXBlKE9wdGlvbi5vckVsc2UoKCkgPT4gZ2V0VGl0bGVBbm5vdGF0aW9uKGFzdCkpLCBPcHRpb24ub3JFbHNlKCgpID0+IGdldERlc2NyaXB0aW9uQW5ub3RhdGlvbihhc3QpKSk7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QVNULmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@effect/schema/dist/esm/AST.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@effect/schema/dist/esm/Arbitrary.js":
/*!***********************************************************!*\
  !*** ./node_modules/@effect/schema/dist/esm/Arbitrary.js ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ArbitraryHookId: () => (/* binding */ ArbitraryHookId),\n/* harmony export */   ArrayConstraints: () => (/* binding */ ArrayConstraints),\n/* harmony export */   BigIntConstraints: () => (/* binding */ BigIntConstraints),\n/* harmony export */   IntegerConstraints: () => (/* binding */ IntegerConstraints),\n/* harmony export */   NumberConstraints: () => (/* binding */ NumberConstraints),\n/* harmony export */   StringConstraints: () => (/* binding */ StringConstraints),\n/* harmony export */   arbitrary: () => (/* binding */ arbitrary),\n/* harmony export */   combineConstraints: () => (/* binding */ combineConstraints),\n/* harmony export */   getConstraints: () => (/* binding */ getConstraints),\n/* harmony export */   make: () => (/* binding */ make),\n/* harmony export */   makeLazy: () => (/* binding */ makeLazy)\n/* harmony export */ });\n/* harmony import */ var effect_Array__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! effect/Array */ \"(rsc)/./node_modules/effect/dist/esm/Array.js\");\n/* harmony import */ var effect_Option__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! effect/Option */ \"(rsc)/./node_modules/effect/dist/esm/Option.js\");\n/* harmony import */ var effect_Predicate__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! effect/Predicate */ \"(rsc)/./node_modules/effect/dist/esm/Predicate.js\");\n/* harmony import */ var _AST_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./AST.js */ \"(rsc)/./node_modules/@effect/schema/dist/esm/AST.js\");\n/* harmony import */ var _FastCheck_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./FastCheck.js */ \"(rsc)/./node_modules/@effect/schema/dist/esm/FastCheck.js\");\n/* harmony import */ var _internal_errors_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./internal/errors.js */ \"(rsc)/./node_modules/@effect/schema/dist/esm/internal/errors.js\");\n/* harmony import */ var _internal_filters_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./internal/filters.js */ \"(rsc)/./node_modules/@effect/schema/dist/esm/internal/filters.js\");\n/* harmony import */ var _internal_util_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./internal/util.js */ \"(rsc)/./node_modules/@effect/schema/dist/esm/internal/util.js\");\n/**\n * @since 0.67.0\n */\n\n\n\n\n\n\n\n\n/**\n * @category hooks\n * @since 0.67.0\n */\nconst ArbitraryHookId = /*#__PURE__*/Symbol.for(\"@effect/schema/ArbitraryHookId\");\n/**\n * @category annotations\n * @since 0.67.0\n */\nconst arbitrary = handler => self => self.annotations({\n  [ArbitraryHookId]: handler\n});\n/**\n * Returns a LazyArbitrary for the `A` type of the provided schema.\n *\n * @category arbitrary\n * @since 0.67.0\n */\nconst makeLazy = schema => go(schema.ast, {}, []);\n/**\n * Returns a fast-check Arbitrary for the `A` type of the provided schema.\n *\n * @category arbitrary\n * @since 0.67.0\n */\nconst make = schema => makeLazy(schema)(_FastCheck_js__WEBPACK_IMPORTED_MODULE_0__);\nconst depthSize = 1;\nconst record = (fc, key, value, options) => {\n  return (options.isSuspend ? fc.oneof({\n    depthSize\n  }, fc.constant([]), fc.array(fc.tuple(key, value), {\n    minLength: 1,\n    maxLength: 2\n  })) : fc.array(fc.tuple(key, value))).map(tuples => {\n    const out = {};\n    for (const [k, v] of tuples) {\n      out[k] = v;\n    }\n    return out;\n  });\n};\nconst getHook = /*#__PURE__*/_AST_js__WEBPACK_IMPORTED_MODULE_1__.getAnnotation(ArbitraryHookId);\nconst getRefinementFromArbitrary = (ast, options, path) => {\n  const constraints = combineConstraints(options.constraints, getConstraints(ast));\n  return go(ast.from, constraints ? {\n    ...options,\n    constraints\n  } : options, path);\n};\nconst go = (ast, options, path) => {\n  const hook = getHook(ast);\n  if (effect_Option__WEBPACK_IMPORTED_MODULE_2__.isSome(hook)) {\n    switch (ast._tag) {\n      case \"Declaration\":\n        return hook.value(...ast.typeParameters.map(p => go(p, options, path)));\n      case \"Refinement\":\n        return hook.value(getRefinementFromArbitrary(ast, options, path));\n      default:\n        return hook.value();\n    }\n  }\n  switch (ast._tag) {\n    case \"Declaration\":\n      {\n        throw new Error(_internal_errors_js__WEBPACK_IMPORTED_MODULE_3__.getArbitraryMissingAnnotationErrorMessage(path, ast));\n      }\n    case \"Literal\":\n      return fc => fc.constant(ast.literal);\n    case \"UniqueSymbol\":\n      return fc => fc.constant(ast.symbol);\n    case \"UndefinedKeyword\":\n    case \"VoidKeyword\":\n      return fc => fc.constant(undefined);\n    case \"NeverKeyword\":\n      return () => {\n        throw new Error(_internal_errors_js__WEBPACK_IMPORTED_MODULE_3__.getArbitraryUnsupportedErrorMessage(path, ast));\n      };\n    case \"UnknownKeyword\":\n    case \"AnyKeyword\":\n      return fc => fc.anything();\n    case \"StringKeyword\":\n      return fc => {\n        if (options.constraints) {\n          switch (options.constraints._tag) {\n            case \"StringConstraints\":\n              return fc.string(options.constraints.constraints);\n          }\n        }\n        return fc.string();\n      };\n    case \"NumberKeyword\":\n      return fc => {\n        if (options.constraints) {\n          switch (options.constraints._tag) {\n            case \"NumberConstraints\":\n              return fc.float(options.constraints.constraints);\n            case \"IntegerConstraints\":\n              return fc.integer(options.constraints.constraints);\n          }\n        }\n        return fc.float();\n      };\n    case \"BooleanKeyword\":\n      return fc => fc.boolean();\n    case \"BigIntKeyword\":\n      return fc => {\n        if (options.constraints) {\n          switch (options.constraints._tag) {\n            case \"BigIntConstraints\":\n              return fc.bigInt(options.constraints.constraints);\n          }\n        }\n        return fc.bigInt();\n      };\n    case \"SymbolKeyword\":\n      return fc => fc.string().map(s => Symbol.for(s));\n    case \"ObjectKeyword\":\n      return fc => fc.oneof(fc.object(), fc.array(fc.anything()));\n    case \"TemplateLiteral\":\n      {\n        return fc => {\n          const string = fc.string({\n            maxLength: 5\n          });\n          const number = fc.float({\n            noDefaultInfinity: true\n          }).filter(n => !Number.isNaN(n));\n          const components = [fc.constant(ast.head)];\n          for (const span of ast.spans) {\n            if (_AST_js__WEBPACK_IMPORTED_MODULE_1__.isStringKeyword(span.type)) {\n              components.push(string);\n            } else {\n              components.push(number);\n            }\n            components.push(fc.constant(span.literal));\n          }\n          return fc.tuple(...components).map(spans => spans.join(\"\"));\n        };\n      }\n    case \"TupleType\":\n      {\n        const elements = [];\n        let hasOptionals = false;\n        let i = 0;\n        for (const element of ast.elements) {\n          elements.push(go(element.type, options, path.concat(i++)));\n          if (element.isOptional) {\n            hasOptionals = true;\n          }\n        }\n        const rest = ast.rest.map(annotatedAST => go(annotatedAST.type, options, path));\n        return fc => {\n          // ---------------------------------------------\n          // handle elements\n          // ---------------------------------------------\n          let output = fc.tuple(...elements.map(arb => arb(fc)));\n          if (hasOptionals) {\n            const indexes = fc.tuple(...ast.elements.map(element => element.isOptional ? fc.boolean() : fc.constant(true)));\n            output = output.chain(tuple => indexes.map(booleans => {\n              for (const [i, b] of booleans.reverse().entries()) {\n                if (!b) {\n                  tuple.splice(booleans.length - i, 1);\n                }\n              }\n              return tuple;\n            }));\n          }\n          // ---------------------------------------------\n          // handle rest element\n          // ---------------------------------------------\n          if (effect_Array__WEBPACK_IMPORTED_MODULE_4__.isNonEmptyReadonlyArray(rest)) {\n            const [head, ...tail] = rest;\n            const arb = head(fc);\n            const constraints = options.constraints;\n            output = output.chain(as => {\n              let out = fc.array(arb);\n              if (options.isSuspend) {\n                out = fc.oneof({\n                  depthSize\n                }, fc.constant([]), fc.array(arb, {\n                  minLength: 1,\n                  maxLength: 2\n                }));\n              } else if (constraints && constraints._tag === \"ArrayConstraints\") {\n                out = fc.array(arb, constraints.constraints);\n              }\n              return out.map(rest => [...as, ...rest]);\n            });\n            // ---------------------------------------------\n            // handle post rest elements\n            // ---------------------------------------------\n            for (let j = 0; j < tail.length; j++) {\n              output = output.chain(as => tail[j](fc).map(a => [...as, a]));\n            }\n          }\n          return output;\n        };\n      }\n    case \"TypeLiteral\":\n      {\n        const propertySignaturesTypes = ast.propertySignatures.map(ps => go(ps.type, options, path.concat(ps.name)));\n        const indexSignatures = ast.indexSignatures.map(is => [go(is.parameter, options, path), go(is.type, options, path)]);\n        return fc => {\n          const arbs = {};\n          const requiredKeys = [];\n          // ---------------------------------------------\n          // handle property signatures\n          // ---------------------------------------------\n          for (let i = 0; i < propertySignaturesTypes.length; i++) {\n            const ps = ast.propertySignatures[i];\n            const name = ps.name;\n            if (!ps.isOptional) {\n              requiredKeys.push(name);\n            }\n            arbs[name] = propertySignaturesTypes[i](fc);\n          }\n          let output = fc.record(arbs, {\n            requiredKeys\n          });\n          // ---------------------------------------------\n          // handle index signatures\n          // ---------------------------------------------\n          for (let i = 0; i < indexSignatures.length; i++) {\n            const parameter = indexSignatures[i][0](fc);\n            const type = indexSignatures[i][1](fc);\n            output = output.chain(o => {\n              return record(fc, parameter, type, options).map(d => ({\n                ...d,\n                ...o\n              }));\n            });\n          }\n          return output;\n        };\n      }\n    case \"Union\":\n      {\n        const types = ast.types.map(t => go(t, options, path));\n        return fc => fc.oneof({\n          depthSize\n        }, ...types.map(arb => arb(fc)));\n      }\n    case \"Enums\":\n      {\n        if (ast.enums.length === 0) {\n          throw new Error(_internal_errors_js__WEBPACK_IMPORTED_MODULE_3__.getArbitraryEmptyEnumErrorMessage(path));\n        }\n        return fc => fc.oneof(...ast.enums.map(([_, value]) => fc.constant(value)));\n      }\n    case \"Refinement\":\n      {\n        const from = getRefinementFromArbitrary(ast, options, path);\n        return fc => from(fc).filter(a => effect_Option__WEBPACK_IMPORTED_MODULE_2__.isNone(ast.filter(a, _AST_js__WEBPACK_IMPORTED_MODULE_1__.defaultParseOption, ast)));\n      }\n    case \"Suspend\":\n      {\n        const get = _internal_util_js__WEBPACK_IMPORTED_MODULE_5__.memoizeThunk(() => go(ast.f(), {\n          ...options,\n          isSuspend: true\n        }, path));\n        return fc => fc.constant(null).chain(() => get()(fc));\n      }\n    case \"Transformation\":\n      return go(ast.to, options, path);\n  }\n};\n/** @internal */\nclass NumberConstraints {\n  _tag = \"NumberConstraints\";\n  constraints;\n  constructor(options) {\n    this.constraints = {};\n    if (effect_Predicate__WEBPACK_IMPORTED_MODULE_6__.isNumber(options.min)) {\n      this.constraints.min = Math.fround(options.min);\n    }\n    if (effect_Predicate__WEBPACK_IMPORTED_MODULE_6__.isNumber(options.max)) {\n      this.constraints.max = Math.fround(options.max);\n    }\n    if (effect_Predicate__WEBPACK_IMPORTED_MODULE_6__.isBoolean(options.noNaN)) {\n      this.constraints.noNaN = options.noNaN;\n    }\n    if (effect_Predicate__WEBPACK_IMPORTED_MODULE_6__.isBoolean(options.noDefaultInfinity)) {\n      this.constraints.noDefaultInfinity = options.noDefaultInfinity;\n    }\n  }\n}\n/** @internal */\nclass StringConstraints {\n  _tag = \"StringConstraints\";\n  constraints;\n  constructor(options) {\n    this.constraints = {};\n    if (effect_Predicate__WEBPACK_IMPORTED_MODULE_6__.isNumber(options.minLength)) {\n      this.constraints.minLength = options.minLength;\n    }\n    if (effect_Predicate__WEBPACK_IMPORTED_MODULE_6__.isNumber(options.maxLength)) {\n      this.constraints.maxLength = options.maxLength;\n    }\n  }\n}\n/** @internal */\nclass IntegerConstraints {\n  _tag = \"IntegerConstraints\";\n  constraints;\n  constructor(options) {\n    this.constraints = {};\n    if (effect_Predicate__WEBPACK_IMPORTED_MODULE_6__.isNumber(options.min)) {\n      this.constraints.min = options.min;\n    }\n    if (effect_Predicate__WEBPACK_IMPORTED_MODULE_6__.isNumber(options.max)) {\n      this.constraints.max = options.max;\n    }\n  }\n}\n/** @internal */\nclass ArrayConstraints {\n  _tag = \"ArrayConstraints\";\n  constraints;\n  constructor(options) {\n    this.constraints = {};\n    if (effect_Predicate__WEBPACK_IMPORTED_MODULE_6__.isNumber(options.minLength)) {\n      this.constraints.minLength = options.minLength;\n    }\n    if (effect_Predicate__WEBPACK_IMPORTED_MODULE_6__.isNumber(options.maxLength)) {\n      this.constraints.maxLength = options.maxLength;\n    }\n  }\n}\n/** @internal */\nclass BigIntConstraints {\n  _tag = \"BigIntConstraints\";\n  constraints;\n  constructor(options) {\n    this.constraints = {};\n    if (effect_Predicate__WEBPACK_IMPORTED_MODULE_6__.isBigInt(options.min)) {\n      this.constraints.min = options.min;\n    }\n    if (effect_Predicate__WEBPACK_IMPORTED_MODULE_6__.isBigInt(options.max)) {\n      this.constraints.max = options.max;\n    }\n  }\n}\n/** @internal */\nconst getConstraints = ast => {\n  const TypeAnnotationId = ast.annotations[_AST_js__WEBPACK_IMPORTED_MODULE_1__.TypeAnnotationId];\n  const jsonSchema = ast.annotations[_AST_js__WEBPACK_IMPORTED_MODULE_1__.JSONSchemaAnnotationId];\n  switch (TypeAnnotationId) {\n    // int\n    case _internal_filters_js__WEBPACK_IMPORTED_MODULE_7__.IntTypeId:\n      return new IntegerConstraints({});\n    // number\n    case _internal_filters_js__WEBPACK_IMPORTED_MODULE_7__.GreaterThanTypeId:\n    case _internal_filters_js__WEBPACK_IMPORTED_MODULE_7__.GreaterThanOrEqualToTypeId:\n    case _internal_filters_js__WEBPACK_IMPORTED_MODULE_7__.LessThanTypeId:\n    case _internal_filters_js__WEBPACK_IMPORTED_MODULE_7__.LessThanOrEqualToTypeId:\n    case _internal_filters_js__WEBPACK_IMPORTED_MODULE_7__.BetweenTypeId:\n      return new NumberConstraints({\n        min: jsonSchema.exclusiveMinimum ?? jsonSchema.minimum,\n        max: jsonSchema.exclusiveMaximum ?? jsonSchema.maximum\n      });\n    // bigint\n    case _internal_filters_js__WEBPACK_IMPORTED_MODULE_7__.GreaterThanBigintTypeId:\n    case _internal_filters_js__WEBPACK_IMPORTED_MODULE_7__.GreaterThanOrEqualToBigIntTypeId:\n    case _internal_filters_js__WEBPACK_IMPORTED_MODULE_7__.LessThanBigIntTypeId:\n    case _internal_filters_js__WEBPACK_IMPORTED_MODULE_7__.LessThanOrEqualToBigIntTypeId:\n    case _internal_filters_js__WEBPACK_IMPORTED_MODULE_7__.BetweenBigintTypeId:\n      {\n        const constraints = ast.annotations[TypeAnnotationId];\n        return new BigIntConstraints(constraints);\n      }\n    // string\n    case _internal_filters_js__WEBPACK_IMPORTED_MODULE_7__.MinLengthTypeId:\n    case _internal_filters_js__WEBPACK_IMPORTED_MODULE_7__.MaxLengthTypeId:\n    case _internal_filters_js__WEBPACK_IMPORTED_MODULE_7__.LengthTypeId:\n      return new StringConstraints(jsonSchema);\n    // array\n    case _internal_filters_js__WEBPACK_IMPORTED_MODULE_7__.MinItemsTypeId:\n    case _internal_filters_js__WEBPACK_IMPORTED_MODULE_7__.MaxItemsTypeId:\n    case _internal_filters_js__WEBPACK_IMPORTED_MODULE_7__.ItemsCountTypeId:\n      return new ArrayConstraints({\n        minLength: jsonSchema.minItems,\n        maxLength: jsonSchema.maxItems\n      });\n  }\n};\n/** @internal */\nconst combineConstraints = (c1, c2) => {\n  if (c1 === undefined) {\n    return c2;\n  }\n  if (c2 === undefined) {\n    return c1;\n  }\n  switch (c1._tag) {\n    case \"ArrayConstraints\":\n      {\n        switch (c2._tag) {\n          case \"ArrayConstraints\":\n            return new ArrayConstraints({\n              minLength: getMax(c1.constraints.minLength, c2.constraints.minLength),\n              maxLength: getMin(c1.constraints.maxLength, c2.constraints.maxLength)\n            });\n        }\n        break;\n      }\n    case \"NumberConstraints\":\n      {\n        switch (c2._tag) {\n          case \"NumberConstraints\":\n            return new NumberConstraints({\n              min: getMax(c1.constraints.min, c2.constraints.min),\n              max: getMin(c1.constraints.max, c2.constraints.max),\n              noNaN: getOr(c1.constraints.noNaN, c2.constraints.noNaN),\n              noDefaultInfinity: getOr(c1.constraints.noDefaultInfinity, c2.constraints.noDefaultInfinity)\n            });\n          case \"IntegerConstraints\":\n            return new IntegerConstraints({\n              min: getMax(c1.constraints.min, c2.constraints.min),\n              max: getMin(c1.constraints.max, c2.constraints.max)\n            });\n        }\n        break;\n      }\n    case \"BigIntConstraints\":\n      {\n        switch (c2._tag) {\n          case \"BigIntConstraints\":\n            return new BigIntConstraints({\n              min: getMax(c1.constraints.min, c2.constraints.min),\n              max: getMin(c1.constraints.max, c2.constraints.max)\n            });\n        }\n        break;\n      }\n    case \"StringConstraints\":\n      {\n        switch (c2._tag) {\n          case \"StringConstraints\":\n            return new StringConstraints({\n              minLength: getMax(c1.constraints.minLength, c2.constraints.minLength),\n              maxLength: getMin(c1.constraints.maxLength, c2.constraints.maxLength)\n            });\n        }\n        break;\n      }\n    case \"IntegerConstraints\":\n      {\n        switch (c2._tag) {\n          case \"NumberConstraints\":\n          case \"IntegerConstraints\":\n            {\n              return new IntegerConstraints({\n                min: getMax(c1.constraints.min, c2.constraints.min),\n                max: getMin(c1.constraints.max, c2.constraints.max)\n              });\n            }\n        }\n        break;\n      }\n  }\n};\nconst getOr = (a, b) => {\n  return a === undefined ? b : b === undefined ? a : a || b;\n};\nfunction getMax(n1, n2) {\n  return n1 === undefined ? n2 : n2 === undefined ? n1 : n1 <= n2 ? n2 : n1;\n}\nfunction getMin(n1, n2) {\n  return n1 === undefined ? n2 : n2 === undefined ? n1 : n1 <= n2 ? n1 : n2;\n}\n//# sourceMappingURL=Arbitrary.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGVmZmVjdC9zY2hlbWEvZGlzdC9lc20vQXJiaXRyYXJ5LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDb0M7QUFDSTtBQUNNO0FBQ2Q7QUFDWTtBQUNJO0FBQ0U7QUFDTjtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPLDRDQUE0QztBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTyx3Q0FBd0MsMENBQVM7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsNkJBQTZCLGtEQUFpQjtBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBLE1BQU0saURBQWE7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLDBGQUFpRDtBQUN6RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixvRkFBMkM7QUFDbkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7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QVMsaUVBQXdCO0FBQ2pDLFNBQVMsOERBQXFCO0FBQzlCO0FBQ0E7QUFDQSxTQUFTLGdFQUF1QjtBQUNoQyxTQUFTLGdFQUF1QjtBQUNoQyxTQUFTLGtFQUF5QjtBQUNsQztBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jYXNlY29icmEtZGV2Ly4vbm9kZV9tb2R1bGVzL0BlZmZlY3Qvc2NoZW1hL2Rpc3QvZXNtL0FyYml0cmFyeS5qcz83ZmUyIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQHNpbmNlIDAuNjcuMFxuICovXG5pbXBvcnQgKiBhcyBBcnIgZnJvbSBcImVmZmVjdC9BcnJheVwiO1xuaW1wb3J0ICogYXMgT3B0aW9uIGZyb20gXCJlZmZlY3QvT3B0aW9uXCI7XG5pbXBvcnQgKiBhcyBQcmVkaWNhdGUgZnJvbSBcImVmZmVjdC9QcmVkaWNhdGVcIjtcbmltcG9ydCAqIGFzIEFTVCBmcm9tIFwiLi9BU1QuanNcIjtcbmltcG9ydCAqIGFzIEZhc3RDaGVjayBmcm9tIFwiLi9GYXN0Q2hlY2suanNcIjtcbmltcG9ydCAqIGFzIGVycm9yc18gZnJvbSBcIi4vaW50ZXJuYWwvZXJyb3JzLmpzXCI7XG5pbXBvcnQgKiBhcyBmaWx0ZXJzXyBmcm9tIFwiLi9pbnRlcm5hbC9maWx0ZXJzLmpzXCI7XG5pbXBvcnQgKiBhcyB1dGlsXyBmcm9tIFwiLi9pbnRlcm5hbC91dGlsLmpzXCI7XG4vKipcbiAqIEBjYXRlZ29yeSBob29rc1xuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY29uc3QgQXJiaXRyYXJ5SG9va0lkID0gLyojX19QVVJFX18qL1N5bWJvbC5mb3IoXCJAZWZmZWN0L3NjaGVtYS9BcmJpdHJhcnlIb29rSWRcIik7XG4vKipcbiAqIEBjYXRlZ29yeSBhbm5vdGF0aW9uc1xuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY29uc3QgYXJiaXRyYXJ5ID0gaGFuZGxlciA9PiBzZWxmID0+IHNlbGYuYW5ub3RhdGlvbnMoe1xuICBbQXJiaXRyYXJ5SG9va0lkXTogaGFuZGxlclxufSk7XG4vKipcbiAqIFJldHVybnMgYSBMYXp5QXJiaXRyYXJ5IGZvciB0aGUgYEFgIHR5cGUgb2YgdGhlIHByb3ZpZGVkIHNjaGVtYS5cbiAqXG4gKiBAY2F0ZWdvcnkgYXJiaXRyYXJ5XG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjb25zdCBtYWtlTGF6eSA9IHNjaGVtYSA9PiBnbyhzY2hlbWEuYXN0LCB7fSwgW10pO1xuLyoqXG4gKiBSZXR1cm5zIGEgZmFzdC1jaGVjayBBcmJpdHJhcnkgZm9yIHRoZSBgQWAgdHlwZSBvZiB0aGUgcHJvdmlkZWQgc2NoZW1hLlxuICpcbiAqIEBjYXRlZ29yeSBhcmJpdHJhcnlcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNvbnN0IG1ha2UgPSBzY2hlbWEgPT4gbWFrZUxhenkoc2NoZW1hKShGYXN0Q2hlY2spO1xuY29uc3QgZGVwdGhTaXplID0gMTtcbmNvbnN0IHJlY29yZCA9IChmYywga2V5LCB2YWx1ZSwgb3B0aW9ucykgPT4ge1xuICByZXR1cm4gKG9wdGlvbnMuaXNTdXNwZW5kID8gZmMub25lb2Yoe1xuICAgIGRlcHRoU2l6ZVxuICB9LCBmYy5jb25zdGFudChbXSksIGZjLmFycmF5KGZjLnR1cGxlKGtleSwgdmFsdWUpLCB7XG4gICAgbWluTGVuZ3RoOiAxLFxuICAgIG1heExlbmd0aDogMlxuICB9KSkgOiBmYy5hcnJheShmYy50dXBsZShrZXksIHZhbHVlKSkpLm1hcCh0dXBsZXMgPT4ge1xuICAgIGNvbnN0IG91dCA9IHt9O1xuICAgIGZvciAoY29uc3QgW2ssIHZdIG9mIHR1cGxlcykge1xuICAgICAgb3V0W2tdID0gdjtcbiAgICB9XG4gICAgcmV0dXJuIG91dDtcbiAgfSk7XG59O1xuY29uc3QgZ2V0SG9vayA9IC8qI19fUFVSRV9fKi9BU1QuZ2V0QW5ub3RhdGlvbihBcmJpdHJhcnlIb29rSWQpO1xuY29uc3QgZ2V0UmVmaW5lbWVudEZyb21BcmJpdHJhcnkgPSAoYXN0LCBvcHRpb25zLCBwYXRoKSA9PiB7XG4gIGNvbnN0IGNvbnN0cmFpbnRzID0gY29tYmluZUNvbnN0cmFpbnRzKG9wdGlvbnMuY29uc3RyYWludHMsIGdldENvbnN0cmFpbnRzKGFzdCkpO1xuICByZXR1cm4gZ28oYXN0LmZyb20sIGNvbnN0cmFpbnRzID8ge1xuICAgIC4uLm9wdGlvbnMsXG4gICAgY29uc3RyYWludHNcbiAgfSA6IG9wdGlvbnMsIHBhdGgpO1xufTtcbmNvbnN0IGdvID0gKGFzdCwgb3B0aW9ucywgcGF0aCkgPT4ge1xuICBjb25zdCBob29rID0gZ2V0SG9vayhhc3QpO1xuICBpZiAoT3B0aW9uLmlzU29tZShob29rKSkge1xuICAgIHN3aXRjaCAoYXN0Ll90YWcpIHtcbiAgICAgIGNhc2UgXCJEZWNsYXJhdGlvblwiOlxuICAgICAgICByZXR1cm4gaG9vay52YWx1ZSguLi5hc3QudHlwZVBhcmFtZXRlcnMubWFwKHAgPT4gZ28ocCwgb3B0aW9ucywgcGF0aCkpKTtcbiAgICAgIGNhc2UgXCJSZWZpbmVtZW50XCI6XG4gICAgICAgIHJldHVybiBob29rLnZhbHVlKGdldFJlZmluZW1lbnRGcm9tQXJiaXRyYXJ5KGFzdCwgb3B0aW9ucywgcGF0aCkpO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIGhvb2sudmFsdWUoKTtcbiAgICB9XG4gIH1cbiAgc3dpdGNoIChhc3QuX3RhZykge1xuICAgIGNhc2UgXCJEZWNsYXJhdGlvblwiOlxuICAgICAge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JzXy5nZXRBcmJpdHJhcnlNaXNzaW5nQW5ub3RhdGlvbkVycm9yTWVzc2FnZShwYXRoLCBhc3QpKTtcbiAgICAgIH1cbiAgICBjYXNlIFwiTGl0ZXJhbFwiOlxuICAgICAgcmV0dXJuIGZjID0+IGZjLmNvbnN0YW50KGFzdC5saXRlcmFsKTtcbiAgICBjYXNlIFwiVW5pcXVlU3ltYm9sXCI6XG4gICAgICByZXR1cm4gZmMgPT4gZmMuY29uc3RhbnQoYXN0LnN5bWJvbCk7XG4gICAgY2FzZSBcIlVuZGVmaW5lZEtleXdvcmRcIjpcbiAgICBjYXNlIFwiVm9pZEtleXdvcmRcIjpcbiAgICAgIHJldHVybiBmYyA9PiBmYy5jb25zdGFudCh1bmRlZmluZWQpO1xuICAgIGNhc2UgXCJOZXZlcktleXdvcmRcIjpcbiAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvcnNfLmdldEFyYml0cmFyeVVuc3VwcG9ydGVkRXJyb3JNZXNzYWdlKHBhdGgsIGFzdCkpO1xuICAgICAgfTtcbiAgICBjYXNlIFwiVW5rbm93bktleXdvcmRcIjpcbiAgICBjYXNlIFwiQW55S2V5d29yZFwiOlxuICAgICAgcmV0dXJuIGZjID0+IGZjLmFueXRoaW5nKCk7XG4gICAgY2FzZSBcIlN0cmluZ0tleXdvcmRcIjpcbiAgICAgIHJldHVybiBmYyA9PiB7XG4gICAgICAgIGlmIChvcHRpb25zLmNvbnN0cmFpbnRzKSB7XG4gICAgICAgICAgc3dpdGNoIChvcHRpb25zLmNvbnN0cmFpbnRzLl90YWcpIHtcbiAgICAgICAgICAgIGNhc2UgXCJTdHJpbmdDb25zdHJhaW50c1wiOlxuICAgICAgICAgICAgICByZXR1cm4gZmMuc3RyaW5nKG9wdGlvbnMuY29uc3RyYWludHMuY29uc3RyYWludHMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmMuc3RyaW5nKCk7XG4gICAgICB9O1xuICAgIGNhc2UgXCJOdW1iZXJLZXl3b3JkXCI6XG4gICAgICByZXR1cm4gZmMgPT4ge1xuICAgICAgICBpZiAob3B0aW9ucy5jb25zdHJhaW50cykge1xuICAgICAgICAgIHN3aXRjaCAob3B0aW9ucy5jb25zdHJhaW50cy5fdGFnKSB7XG4gICAgICAgICAgICBjYXNlIFwiTnVtYmVyQ29uc3RyYWludHNcIjpcbiAgICAgICAgICAgICAgcmV0dXJuIGZjLmZsb2F0KG9wdGlvbnMuY29uc3RyYWludHMuY29uc3RyYWludHMpO1xuICAgICAgICAgICAgY2FzZSBcIkludGVnZXJDb25zdHJhaW50c1wiOlxuICAgICAgICAgICAgICByZXR1cm4gZmMuaW50ZWdlcihvcHRpb25zLmNvbnN0cmFpbnRzLmNvbnN0cmFpbnRzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZjLmZsb2F0KCk7XG4gICAgICB9O1xuICAgIGNhc2UgXCJCb29sZWFuS2V5d29yZFwiOlxuICAgICAgcmV0dXJuIGZjID0+IGZjLmJvb2xlYW4oKTtcbiAgICBjYXNlIFwiQmlnSW50S2V5d29yZFwiOlxuICAgICAgcmV0dXJuIGZjID0+IHtcbiAgICAgICAgaWYgKG9wdGlvbnMuY29uc3RyYWludHMpIHtcbiAgICAgICAgICBzd2l0Y2ggKG9wdGlvbnMuY29uc3RyYWludHMuX3RhZykge1xuICAgICAgICAgICAgY2FzZSBcIkJpZ0ludENvbnN0cmFpbnRzXCI6XG4gICAgICAgICAgICAgIHJldHVybiBmYy5iaWdJbnQob3B0aW9ucy5jb25zdHJhaW50cy5jb25zdHJhaW50cyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYy5iaWdJbnQoKTtcbiAgICAgIH07XG4gICAgY2FzZSBcIlN5bWJvbEtleXdvcmRcIjpcbiAgICAgIHJldHVybiBmYyA9PiBmYy5zdHJpbmcoKS5tYXAocyA9PiBTeW1ib2wuZm9yKHMpKTtcbiAgICBjYXNlIFwiT2JqZWN0S2V5d29yZFwiOlxuICAgICAgcmV0dXJuIGZjID0+IGZjLm9uZW9mKGZjLm9iamVjdCgpLCBmYy5hcnJheShmYy5hbnl0aGluZygpKSk7XG4gICAgY2FzZSBcIlRlbXBsYXRlTGl0ZXJhbFwiOlxuICAgICAge1xuICAgICAgICByZXR1cm4gZmMgPT4ge1xuICAgICAgICAgIGNvbnN0IHN0cmluZyA9IGZjLnN0cmluZyh7XG4gICAgICAgICAgICBtYXhMZW5ndGg6IDVcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBjb25zdCBudW1iZXIgPSBmYy5mbG9hdCh7XG4gICAgICAgICAgICBub0RlZmF1bHRJbmZpbml0eTogdHJ1ZVxuICAgICAgICAgIH0pLmZpbHRlcihuID0+ICFOdW1iZXIuaXNOYU4obikpO1xuICAgICAgICAgIGNvbnN0IGNvbXBvbmVudHMgPSBbZmMuY29uc3RhbnQoYXN0LmhlYWQpXTtcbiAgICAgICAgICBmb3IgKGNvbnN0IHNwYW4gb2YgYXN0LnNwYW5zKSB7XG4gICAgICAgICAgICBpZiAoQVNULmlzU3RyaW5nS2V5d29yZChzcGFuLnR5cGUpKSB7XG4gICAgICAgICAgICAgIGNvbXBvbmVudHMucHVzaChzdHJpbmcpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgY29tcG9uZW50cy5wdXNoKG51bWJlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb21wb25lbnRzLnB1c2goZmMuY29uc3RhbnQoc3Bhbi5saXRlcmFsKSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBmYy50dXBsZSguLi5jb21wb25lbnRzKS5tYXAoc3BhbnMgPT4gc3BhbnMuam9pbihcIlwiKSk7XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgY2FzZSBcIlR1cGxlVHlwZVwiOlxuICAgICAge1xuICAgICAgICBjb25zdCBlbGVtZW50cyA9IFtdO1xuICAgICAgICBsZXQgaGFzT3B0aW9uYWxzID0gZmFsc2U7XG4gICAgICAgIGxldCBpID0gMDtcbiAgICAgICAgZm9yIChjb25zdCBlbGVtZW50IG9mIGFzdC5lbGVtZW50cykge1xuICAgICAgICAgIGVsZW1lbnRzLnB1c2goZ28oZWxlbWVudC50eXBlLCBvcHRpb25zLCBwYXRoLmNvbmNhdChpKyspKSk7XG4gICAgICAgICAgaWYgKGVsZW1lbnQuaXNPcHRpb25hbCkge1xuICAgICAgICAgICAgaGFzT3B0aW9uYWxzID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVzdCA9IGFzdC5yZXN0Lm1hcChhbm5vdGF0ZWRBU1QgPT4gZ28oYW5ub3RhdGVkQVNULnR5cGUsIG9wdGlvbnMsIHBhdGgpKTtcbiAgICAgICAgcmV0dXJuIGZjID0+IHtcbiAgICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICAvLyBoYW5kbGUgZWxlbWVudHNcbiAgICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICBsZXQgb3V0cHV0ID0gZmMudHVwbGUoLi4uZWxlbWVudHMubWFwKGFyYiA9PiBhcmIoZmMpKSk7XG4gICAgICAgICAgaWYgKGhhc09wdGlvbmFscykge1xuICAgICAgICAgICAgY29uc3QgaW5kZXhlcyA9IGZjLnR1cGxlKC4uLmFzdC5lbGVtZW50cy5tYXAoZWxlbWVudCA9PiBlbGVtZW50LmlzT3B0aW9uYWwgPyBmYy5ib29sZWFuKCkgOiBmYy5jb25zdGFudCh0cnVlKSkpO1xuICAgICAgICAgICAgb3V0cHV0ID0gb3V0cHV0LmNoYWluKHR1cGxlID0+IGluZGV4ZXMubWFwKGJvb2xlYW5zID0+IHtcbiAgICAgICAgICAgICAgZm9yIChjb25zdCBbaSwgYl0gb2YgYm9vbGVhbnMucmV2ZXJzZSgpLmVudHJpZXMoKSkge1xuICAgICAgICAgICAgICAgIGlmICghYikge1xuICAgICAgICAgICAgICAgICAgdHVwbGUuc3BsaWNlKGJvb2xlYW5zLmxlbmd0aCAtIGksIDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZXR1cm4gdHVwbGU7XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgIC8vIGhhbmRsZSByZXN0IGVsZW1lbnRcbiAgICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICBpZiAoQXJyLmlzTm9uRW1wdHlSZWFkb25seUFycmF5KHJlc3QpKSB7XG4gICAgICAgICAgICBjb25zdCBbaGVhZCwgLi4udGFpbF0gPSByZXN0O1xuICAgICAgICAgICAgY29uc3QgYXJiID0gaGVhZChmYyk7XG4gICAgICAgICAgICBjb25zdCBjb25zdHJhaW50cyA9IG9wdGlvbnMuY29uc3RyYWludHM7XG4gICAgICAgICAgICBvdXRwdXQgPSBvdXRwdXQuY2hhaW4oYXMgPT4ge1xuICAgICAgICAgICAgICBsZXQgb3V0ID0gZmMuYXJyYXkoYXJiKTtcbiAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuaXNTdXNwZW5kKSB7XG4gICAgICAgICAgICAgICAgb3V0ID0gZmMub25lb2Yoe1xuICAgICAgICAgICAgICAgICAgZGVwdGhTaXplXG4gICAgICAgICAgICAgICAgfSwgZmMuY29uc3RhbnQoW10pLCBmYy5hcnJheShhcmIsIHtcbiAgICAgICAgICAgICAgICAgIG1pbkxlbmd0aDogMSxcbiAgICAgICAgICAgICAgICAgIG1heExlbmd0aDogMlxuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChjb25zdHJhaW50cyAmJiBjb25zdHJhaW50cy5fdGFnID09PSBcIkFycmF5Q29uc3RyYWludHNcIikge1xuICAgICAgICAgICAgICAgIG91dCA9IGZjLmFycmF5KGFyYiwgY29uc3RyYWludHMuY29uc3RyYWludHMpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHJldHVybiBvdXQubWFwKHJlc3QgPT4gWy4uLmFzLCAuLi5yZXN0XSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgICAgLy8gaGFuZGxlIHBvc3QgcmVzdCBlbGVtZW50c1xuICAgICAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHRhaWwubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgb3V0cHV0ID0gb3V0cHV0LmNoYWluKGFzID0+IHRhaWxbal0oZmMpLm1hcChhID0+IFsuLi5hcywgYV0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIG91dHB1dDtcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICBjYXNlIFwiVHlwZUxpdGVyYWxcIjpcbiAgICAgIHtcbiAgICAgICAgY29uc3QgcHJvcGVydHlTaWduYXR1cmVzVHlwZXMgPSBhc3QucHJvcGVydHlTaWduYXR1cmVzLm1hcChwcyA9PiBnbyhwcy50eXBlLCBvcHRpb25zLCBwYXRoLmNvbmNhdChwcy5uYW1lKSkpO1xuICAgICAgICBjb25zdCBpbmRleFNpZ25hdHVyZXMgPSBhc3QuaW5kZXhTaWduYXR1cmVzLm1hcChpcyA9PiBbZ28oaXMucGFyYW1ldGVyLCBvcHRpb25zLCBwYXRoKSwgZ28oaXMudHlwZSwgb3B0aW9ucywgcGF0aCldKTtcbiAgICAgICAgcmV0dXJuIGZjID0+IHtcbiAgICAgICAgICBjb25zdCBhcmJzID0ge307XG4gICAgICAgICAgY29uc3QgcmVxdWlyZWRLZXlzID0gW107XG4gICAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAgLy8gaGFuZGxlIHByb3BlcnR5IHNpZ25hdHVyZXNcbiAgICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHByb3BlcnR5U2lnbmF0dXJlc1R5cGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBwcyA9IGFzdC5wcm9wZXJ0eVNpZ25hdHVyZXNbaV07XG4gICAgICAgICAgICBjb25zdCBuYW1lID0gcHMubmFtZTtcbiAgICAgICAgICAgIGlmICghcHMuaXNPcHRpb25hbCkge1xuICAgICAgICAgICAgICByZXF1aXJlZEtleXMucHVzaChuYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFyYnNbbmFtZV0gPSBwcm9wZXJ0eVNpZ25hdHVyZXNUeXBlc1tpXShmYyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGxldCBvdXRwdXQgPSBmYy5yZWNvcmQoYXJicywge1xuICAgICAgICAgICAgcmVxdWlyZWRLZXlzXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAgLy8gaGFuZGxlIGluZGV4IHNpZ25hdHVyZXNcbiAgICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGluZGV4U2lnbmF0dXJlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgcGFyYW1ldGVyID0gaW5kZXhTaWduYXR1cmVzW2ldWzBdKGZjKTtcbiAgICAgICAgICAgIGNvbnN0IHR5cGUgPSBpbmRleFNpZ25hdHVyZXNbaV1bMV0oZmMpO1xuICAgICAgICAgICAgb3V0cHV0ID0gb3V0cHV0LmNoYWluKG8gPT4ge1xuICAgICAgICAgICAgICByZXR1cm4gcmVjb3JkKGZjLCBwYXJhbWV0ZXIsIHR5cGUsIG9wdGlvbnMpLm1hcChkID0+ICh7XG4gICAgICAgICAgICAgICAgLi4uZCxcbiAgICAgICAgICAgICAgICAuLi5vXG4gICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gb3V0cHV0O1xuICAgICAgICB9O1xuICAgICAgfVxuICAgIGNhc2UgXCJVbmlvblwiOlxuICAgICAge1xuICAgICAgICBjb25zdCB0eXBlcyA9IGFzdC50eXBlcy5tYXAodCA9PiBnbyh0LCBvcHRpb25zLCBwYXRoKSk7XG4gICAgICAgIHJldHVybiBmYyA9PiBmYy5vbmVvZih7XG4gICAgICAgICAgZGVwdGhTaXplXG4gICAgICAgIH0sIC4uLnR5cGVzLm1hcChhcmIgPT4gYXJiKGZjKSkpO1xuICAgICAgfVxuICAgIGNhc2UgXCJFbnVtc1wiOlxuICAgICAge1xuICAgICAgICBpZiAoYXN0LmVudW1zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvcnNfLmdldEFyYml0cmFyeUVtcHR5RW51bUVycm9yTWVzc2FnZShwYXRoKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZjID0+IGZjLm9uZW9mKC4uLmFzdC5lbnVtcy5tYXAoKFtfLCB2YWx1ZV0pID0+IGZjLmNvbnN0YW50KHZhbHVlKSkpO1xuICAgICAgfVxuICAgIGNhc2UgXCJSZWZpbmVtZW50XCI6XG4gICAgICB7XG4gICAgICAgIGNvbnN0IGZyb20gPSBnZXRSZWZpbmVtZW50RnJvbUFyYml0cmFyeShhc3QsIG9wdGlvbnMsIHBhdGgpO1xuICAgICAgICByZXR1cm4gZmMgPT4gZnJvbShmYykuZmlsdGVyKGEgPT4gT3B0aW9uLmlzTm9uZShhc3QuZmlsdGVyKGEsIEFTVC5kZWZhdWx0UGFyc2VPcHRpb24sIGFzdCkpKTtcbiAgICAgIH1cbiAgICBjYXNlIFwiU3VzcGVuZFwiOlxuICAgICAge1xuICAgICAgICBjb25zdCBnZXQgPSB1dGlsXy5tZW1vaXplVGh1bmsoKCkgPT4gZ28oYXN0LmYoKSwge1xuICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgaXNTdXNwZW5kOiB0cnVlXG4gICAgICAgIH0sIHBhdGgpKTtcbiAgICAgICAgcmV0dXJuIGZjID0+IGZjLmNvbnN0YW50KG51bGwpLmNoYWluKCgpID0+IGdldCgpKGZjKSk7XG4gICAgICB9XG4gICAgY2FzZSBcIlRyYW5zZm9ybWF0aW9uXCI6XG4gICAgICByZXR1cm4gZ28oYXN0LnRvLCBvcHRpb25zLCBwYXRoKTtcbiAgfVxufTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjbGFzcyBOdW1iZXJDb25zdHJhaW50cyB7XG4gIF90YWcgPSBcIk51bWJlckNvbnN0cmFpbnRzXCI7XG4gIGNvbnN0cmFpbnRzO1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgdGhpcy5jb25zdHJhaW50cyA9IHt9O1xuICAgIGlmIChQcmVkaWNhdGUuaXNOdW1iZXIob3B0aW9ucy5taW4pKSB7XG4gICAgICB0aGlzLmNvbnN0cmFpbnRzLm1pbiA9IE1hdGguZnJvdW5kKG9wdGlvbnMubWluKTtcbiAgICB9XG4gICAgaWYgKFByZWRpY2F0ZS5pc051bWJlcihvcHRpb25zLm1heCkpIHtcbiAgICAgIHRoaXMuY29uc3RyYWludHMubWF4ID0gTWF0aC5mcm91bmQob3B0aW9ucy5tYXgpO1xuICAgIH1cbiAgICBpZiAoUHJlZGljYXRlLmlzQm9vbGVhbihvcHRpb25zLm5vTmFOKSkge1xuICAgICAgdGhpcy5jb25zdHJhaW50cy5ub05hTiA9IG9wdGlvbnMubm9OYU47XG4gICAgfVxuICAgIGlmIChQcmVkaWNhdGUuaXNCb29sZWFuKG9wdGlvbnMubm9EZWZhdWx0SW5maW5pdHkpKSB7XG4gICAgICB0aGlzLmNvbnN0cmFpbnRzLm5vRGVmYXVsdEluZmluaXR5ID0gb3B0aW9ucy5ub0RlZmF1bHRJbmZpbml0eTtcbiAgICB9XG4gIH1cbn1cbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjbGFzcyBTdHJpbmdDb25zdHJhaW50cyB7XG4gIF90YWcgPSBcIlN0cmluZ0NvbnN0cmFpbnRzXCI7XG4gIGNvbnN0cmFpbnRzO1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgdGhpcy5jb25zdHJhaW50cyA9IHt9O1xuICAgIGlmIChQcmVkaWNhdGUuaXNOdW1iZXIob3B0aW9ucy5taW5MZW5ndGgpKSB7XG4gICAgICB0aGlzLmNvbnN0cmFpbnRzLm1pbkxlbmd0aCA9IG9wdGlvbnMubWluTGVuZ3RoO1xuICAgIH1cbiAgICBpZiAoUHJlZGljYXRlLmlzTnVtYmVyKG9wdGlvbnMubWF4TGVuZ3RoKSkge1xuICAgICAgdGhpcy5jb25zdHJhaW50cy5tYXhMZW5ndGggPSBvcHRpb25zLm1heExlbmd0aDtcbiAgICB9XG4gIH1cbn1cbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjbGFzcyBJbnRlZ2VyQ29uc3RyYWludHMge1xuICBfdGFnID0gXCJJbnRlZ2VyQ29uc3RyYWludHNcIjtcbiAgY29uc3RyYWludHM7XG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICB0aGlzLmNvbnN0cmFpbnRzID0ge307XG4gICAgaWYgKFByZWRpY2F0ZS5pc051bWJlcihvcHRpb25zLm1pbikpIHtcbiAgICAgIHRoaXMuY29uc3RyYWludHMubWluID0gb3B0aW9ucy5taW47XG4gICAgfVxuICAgIGlmIChQcmVkaWNhdGUuaXNOdW1iZXIob3B0aW9ucy5tYXgpKSB7XG4gICAgICB0aGlzLmNvbnN0cmFpbnRzLm1heCA9IG9wdGlvbnMubWF4O1xuICAgIH1cbiAgfVxufVxuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNsYXNzIEFycmF5Q29uc3RyYWludHMge1xuICBfdGFnID0gXCJBcnJheUNvbnN0cmFpbnRzXCI7XG4gIGNvbnN0cmFpbnRzO1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgdGhpcy5jb25zdHJhaW50cyA9IHt9O1xuICAgIGlmIChQcmVkaWNhdGUuaXNOdW1iZXIob3B0aW9ucy5taW5MZW5ndGgpKSB7XG4gICAgICB0aGlzLmNvbnN0cmFpbnRzLm1pbkxlbmd0aCA9IG9wdGlvbnMubWluTGVuZ3RoO1xuICAgIH1cbiAgICBpZiAoUHJlZGljYXRlLmlzTnVtYmVyKG9wdGlvbnMubWF4TGVuZ3RoKSkge1xuICAgICAgdGhpcy5jb25zdHJhaW50cy5tYXhMZW5ndGggPSBvcHRpb25zLm1heExlbmd0aDtcbiAgICB9XG4gIH1cbn1cbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjbGFzcyBCaWdJbnRDb25zdHJhaW50cyB7XG4gIF90YWcgPSBcIkJpZ0ludENvbnN0cmFpbnRzXCI7XG4gIGNvbnN0cmFpbnRzO1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgdGhpcy5jb25zdHJhaW50cyA9IHt9O1xuICAgIGlmIChQcmVkaWNhdGUuaXNCaWdJbnQob3B0aW9ucy5taW4pKSB7XG4gICAgICB0aGlzLmNvbnN0cmFpbnRzLm1pbiA9IG9wdGlvbnMubWluO1xuICAgIH1cbiAgICBpZiAoUHJlZGljYXRlLmlzQmlnSW50KG9wdGlvbnMubWF4KSkge1xuICAgICAgdGhpcy5jb25zdHJhaW50cy5tYXggPSBvcHRpb25zLm1heDtcbiAgICB9XG4gIH1cbn1cbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBnZXRDb25zdHJhaW50cyA9IGFzdCA9PiB7XG4gIGNvbnN0IFR5cGVBbm5vdGF0aW9uSWQgPSBhc3QuYW5ub3RhdGlvbnNbQVNULlR5cGVBbm5vdGF0aW9uSWRdO1xuICBjb25zdCBqc29uU2NoZW1hID0gYXN0LmFubm90YXRpb25zW0FTVC5KU09OU2NoZW1hQW5ub3RhdGlvbklkXTtcbiAgc3dpdGNoIChUeXBlQW5ub3RhdGlvbklkKSB7XG4gICAgLy8gaW50XG4gICAgY2FzZSBmaWx0ZXJzXy5JbnRUeXBlSWQ6XG4gICAgICByZXR1cm4gbmV3IEludGVnZXJDb25zdHJhaW50cyh7fSk7XG4gICAgLy8gbnVtYmVyXG4gICAgY2FzZSBmaWx0ZXJzXy5HcmVhdGVyVGhhblR5cGVJZDpcbiAgICBjYXNlIGZpbHRlcnNfLkdyZWF0ZXJUaGFuT3JFcXVhbFRvVHlwZUlkOlxuICAgIGNhc2UgZmlsdGVyc18uTGVzc1RoYW5UeXBlSWQ6XG4gICAgY2FzZSBmaWx0ZXJzXy5MZXNzVGhhbk9yRXF1YWxUb1R5cGVJZDpcbiAgICBjYXNlIGZpbHRlcnNfLkJldHdlZW5UeXBlSWQ6XG4gICAgICByZXR1cm4gbmV3IE51bWJlckNvbnN0cmFpbnRzKHtcbiAgICAgICAgbWluOiBqc29uU2NoZW1hLmV4Y2x1c2l2ZU1pbmltdW0gPz8ganNvblNjaGVtYS5taW5pbXVtLFxuICAgICAgICBtYXg6IGpzb25TY2hlbWEuZXhjbHVzaXZlTWF4aW11bSA/PyBqc29uU2NoZW1hLm1heGltdW1cbiAgICAgIH0pO1xuICAgIC8vIGJpZ2ludFxuICAgIGNhc2UgZmlsdGVyc18uR3JlYXRlclRoYW5CaWdpbnRUeXBlSWQ6XG4gICAgY2FzZSBmaWx0ZXJzXy5HcmVhdGVyVGhhbk9yRXF1YWxUb0JpZ0ludFR5cGVJZDpcbiAgICBjYXNlIGZpbHRlcnNfLkxlc3NUaGFuQmlnSW50VHlwZUlkOlxuICAgIGNhc2UgZmlsdGVyc18uTGVzc1RoYW5PckVxdWFsVG9CaWdJbnRUeXBlSWQ6XG4gICAgY2FzZSBmaWx0ZXJzXy5CZXR3ZWVuQmlnaW50VHlwZUlkOlxuICAgICAge1xuICAgICAgICBjb25zdCBjb25zdHJhaW50cyA9IGFzdC5hbm5vdGF0aW9uc1tUeXBlQW5ub3RhdGlvbklkXTtcbiAgICAgICAgcmV0dXJuIG5ldyBCaWdJbnRDb25zdHJhaW50cyhjb25zdHJhaW50cyk7XG4gICAgICB9XG4gICAgLy8gc3RyaW5nXG4gICAgY2FzZSBmaWx0ZXJzXy5NaW5MZW5ndGhUeXBlSWQ6XG4gICAgY2FzZSBmaWx0ZXJzXy5NYXhMZW5ndGhUeXBlSWQ6XG4gICAgY2FzZSBmaWx0ZXJzXy5MZW5ndGhUeXBlSWQ6XG4gICAgICByZXR1cm4gbmV3IFN0cmluZ0NvbnN0cmFpbnRzKGpzb25TY2hlbWEpO1xuICAgIC8vIGFycmF5XG4gICAgY2FzZSBmaWx0ZXJzXy5NaW5JdGVtc1R5cGVJZDpcbiAgICBjYXNlIGZpbHRlcnNfLk1heEl0ZW1zVHlwZUlkOlxuICAgIGNhc2UgZmlsdGVyc18uSXRlbXNDb3VudFR5cGVJZDpcbiAgICAgIHJldHVybiBuZXcgQXJyYXlDb25zdHJhaW50cyh7XG4gICAgICAgIG1pbkxlbmd0aDoganNvblNjaGVtYS5taW5JdGVtcyxcbiAgICAgICAgbWF4TGVuZ3RoOiBqc29uU2NoZW1hLm1heEl0ZW1zXG4gICAgICB9KTtcbiAgfVxufTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBjb21iaW5lQ29uc3RyYWludHMgPSAoYzEsIGMyKSA9PiB7XG4gIGlmIChjMSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIGMyO1xuICB9XG4gIGlmIChjMiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIGMxO1xuICB9XG4gIHN3aXRjaCAoYzEuX3RhZykge1xuICAgIGNhc2UgXCJBcnJheUNvbnN0cmFpbnRzXCI6XG4gICAgICB7XG4gICAgICAgIHN3aXRjaCAoYzIuX3RhZykge1xuICAgICAgICAgIGNhc2UgXCJBcnJheUNvbnN0cmFpbnRzXCI6XG4gICAgICAgICAgICByZXR1cm4gbmV3IEFycmF5Q29uc3RyYWludHMoe1xuICAgICAgICAgICAgICBtaW5MZW5ndGg6IGdldE1heChjMS5jb25zdHJhaW50cy5taW5MZW5ndGgsIGMyLmNvbnN0cmFpbnRzLm1pbkxlbmd0aCksXG4gICAgICAgICAgICAgIG1heExlbmd0aDogZ2V0TWluKGMxLmNvbnN0cmFpbnRzLm1heExlbmd0aCwgYzIuY29uc3RyYWludHMubWF4TGVuZ3RoKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgY2FzZSBcIk51bWJlckNvbnN0cmFpbnRzXCI6XG4gICAgICB7XG4gICAgICAgIHN3aXRjaCAoYzIuX3RhZykge1xuICAgICAgICAgIGNhc2UgXCJOdW1iZXJDb25zdHJhaW50c1wiOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBOdW1iZXJDb25zdHJhaW50cyh7XG4gICAgICAgICAgICAgIG1pbjogZ2V0TWF4KGMxLmNvbnN0cmFpbnRzLm1pbiwgYzIuY29uc3RyYWludHMubWluKSxcbiAgICAgICAgICAgICAgbWF4OiBnZXRNaW4oYzEuY29uc3RyYWludHMubWF4LCBjMi5jb25zdHJhaW50cy5tYXgpLFxuICAgICAgICAgICAgICBub05hTjogZ2V0T3IoYzEuY29uc3RyYWludHMubm9OYU4sIGMyLmNvbnN0cmFpbnRzLm5vTmFOKSxcbiAgICAgICAgICAgICAgbm9EZWZhdWx0SW5maW5pdHk6IGdldE9yKGMxLmNvbnN0cmFpbnRzLm5vRGVmYXVsdEluZmluaXR5LCBjMi5jb25zdHJhaW50cy5ub0RlZmF1bHRJbmZpbml0eSlcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIGNhc2UgXCJJbnRlZ2VyQ29uc3RyYWludHNcIjpcbiAgICAgICAgICAgIHJldHVybiBuZXcgSW50ZWdlckNvbnN0cmFpbnRzKHtcbiAgICAgICAgICAgICAgbWluOiBnZXRNYXgoYzEuY29uc3RyYWludHMubWluLCBjMi5jb25zdHJhaW50cy5taW4pLFxuICAgICAgICAgICAgICBtYXg6IGdldE1pbihjMS5jb25zdHJhaW50cy5tYXgsIGMyLmNvbnN0cmFpbnRzLm1heClcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIGNhc2UgXCJCaWdJbnRDb25zdHJhaW50c1wiOlxuICAgICAge1xuICAgICAgICBzd2l0Y2ggKGMyLl90YWcpIHtcbiAgICAgICAgICBjYXNlIFwiQmlnSW50Q29uc3RyYWludHNcIjpcbiAgICAgICAgICAgIHJldHVybiBuZXcgQmlnSW50Q29uc3RyYWludHMoe1xuICAgICAgICAgICAgICBtaW46IGdldE1heChjMS5jb25zdHJhaW50cy5taW4sIGMyLmNvbnN0cmFpbnRzLm1pbiksXG4gICAgICAgICAgICAgIG1heDogZ2V0TWluKGMxLmNvbnN0cmFpbnRzLm1heCwgYzIuY29uc3RyYWludHMubWF4KVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgY2FzZSBcIlN0cmluZ0NvbnN0cmFpbnRzXCI6XG4gICAgICB7XG4gICAgICAgIHN3aXRjaCAoYzIuX3RhZykge1xuICAgICAgICAgIGNhc2UgXCJTdHJpbmdDb25zdHJhaW50c1wiOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBTdHJpbmdDb25zdHJhaW50cyh7XG4gICAgICAgICAgICAgIG1pbkxlbmd0aDogZ2V0TWF4KGMxLmNvbnN0cmFpbnRzLm1pbkxlbmd0aCwgYzIuY29uc3RyYWludHMubWluTGVuZ3RoKSxcbiAgICAgICAgICAgICAgbWF4TGVuZ3RoOiBnZXRNaW4oYzEuY29uc3RyYWludHMubWF4TGVuZ3RoLCBjMi5jb25zdHJhaW50cy5tYXhMZW5ndGgpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICBjYXNlIFwiSW50ZWdlckNvbnN0cmFpbnRzXCI6XG4gICAgICB7XG4gICAgICAgIHN3aXRjaCAoYzIuX3RhZykge1xuICAgICAgICAgIGNhc2UgXCJOdW1iZXJDb25zdHJhaW50c1wiOlxuICAgICAgICAgIGNhc2UgXCJJbnRlZ2VyQ29uc3RyYWludHNcIjpcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgcmV0dXJuIG5ldyBJbnRlZ2VyQ29uc3RyYWludHMoe1xuICAgICAgICAgICAgICAgIG1pbjogZ2V0TWF4KGMxLmNvbnN0cmFpbnRzLm1pbiwgYzIuY29uc3RyYWludHMubWluKSxcbiAgICAgICAgICAgICAgICBtYXg6IGdldE1pbihjMS5jb25zdHJhaW50cy5tYXgsIGMyLmNvbnN0cmFpbnRzLm1heClcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gIH1cbn07XG5jb25zdCBnZXRPciA9IChhLCBiKSA9PiB7XG4gIHJldHVybiBhID09PSB1bmRlZmluZWQgPyBiIDogYiA9PT0gdW5kZWZpbmVkID8gYSA6IGEgfHwgYjtcbn07XG5mdW5jdGlvbiBnZXRNYXgobjEsIG4yKSB7XG4gIHJldHVybiBuMSA9PT0gdW5kZWZpbmVkID8gbjIgOiBuMiA9PT0gdW5kZWZpbmVkID8gbjEgOiBuMSA8PSBuMiA/IG4yIDogbjE7XG59XG5mdW5jdGlvbiBnZXRNaW4objEsIG4yKSB7XG4gIHJldHVybiBuMSA9PT0gdW5kZWZpbmVkID8gbjIgOiBuMiA9PT0gdW5kZWZpbmVkID8gbjEgOiBuMSA8PSBuMiA/IG4xIDogbjI7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1BcmJpdHJhcnkuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@effect/schema/dist/esm/Arbitrary.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@effect/schema/dist/esm/Equivalence.js":
/*!*************************************************************!*\
  !*** ./node_modules/@effect/schema/dist/esm/Equivalence.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EquivalenceHookId: () => (/* binding */ EquivalenceHookId),\n/* harmony export */   equivalence: () => (/* binding */ equivalence),\n/* harmony export */   make: () => (/* binding */ make)\n/* harmony export */ });\n/* harmony import */ var effect_Array__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! effect/Array */ \"(rsc)/./node_modules/effect/dist/esm/Array.js\");\n/* harmony import */ var effect_Equal__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! effect/Equal */ \"(rsc)/./node_modules/effect/dist/esm/Equal.js\");\n/* harmony import */ var effect_Equivalence__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! effect/Equivalence */ \"(rsc)/./node_modules/effect/dist/esm/Equivalence.js\");\n/* harmony import */ var effect_Option__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! effect/Option */ \"(rsc)/./node_modules/effect/dist/esm/Option.js\");\n/* harmony import */ var effect_Predicate__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! effect/Predicate */ \"(rsc)/./node_modules/effect/dist/esm/Predicate.js\");\n/* harmony import */ var _AST_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./AST.js */ \"(rsc)/./node_modules/@effect/schema/dist/esm/AST.js\");\n/* harmony import */ var _internal_errors_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./internal/errors.js */ \"(rsc)/./node_modules/@effect/schema/dist/esm/internal/errors.js\");\n/* harmony import */ var _internal_util_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./internal/util.js */ \"(rsc)/./node_modules/@effect/schema/dist/esm/internal/util.js\");\n/* harmony import */ var _ParseResult_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./ParseResult.js */ \"(rsc)/./node_modules/@effect/schema/dist/esm/ParseResult.js\");\n/**\n * @since 0.67.0\n */\n\n\n\n\n\n\n\n\n\n/**\n * @category hooks\n * @since 0.67.0\n */\nconst EquivalenceHookId = /*#__PURE__*/Symbol.for(\"@effect/schema/EquivalenceHookId\");\n/**\n * @category annotations\n * @since 0.67.0\n */\nconst equivalence = handler => self => self.annotations({\n  [EquivalenceHookId]: handler\n});\n/**\n * @category Equivalence\n * @since 0.67.0\n */\nconst make = schema => go(schema.ast, []);\nconst getHook = /*#__PURE__*/_AST_js__WEBPACK_IMPORTED_MODULE_0__.getAnnotation(EquivalenceHookId);\nconst go = (ast, path) => {\n  const hook = getHook(ast);\n  if (effect_Option__WEBPACK_IMPORTED_MODULE_1__.isSome(hook)) {\n    switch (ast._tag) {\n      case \"Declaration\":\n        return hook.value(...ast.typeParameters.map(tp => go(tp, path)));\n      case \"Refinement\":\n        return hook.value(go(ast.from, path));\n      default:\n        return hook.value();\n    }\n  }\n  switch (ast._tag) {\n    case \"NeverKeyword\":\n      throw new Error(_internal_errors_js__WEBPACK_IMPORTED_MODULE_2__.getEquivalenceUnsupportedErrorMessage(ast, path));\n    case \"Transformation\":\n      return go(ast.to, path);\n    case \"Declaration\":\n    case \"Literal\":\n    case \"StringKeyword\":\n    case \"TemplateLiteral\":\n    case \"UniqueSymbol\":\n    case \"SymbolKeyword\":\n    case \"UnknownKeyword\":\n    case \"AnyKeyword\":\n    case \"NumberKeyword\":\n    case \"BooleanKeyword\":\n    case \"BigIntKeyword\":\n    case \"UndefinedKeyword\":\n    case \"VoidKeyword\":\n    case \"Enums\":\n    case \"ObjectKeyword\":\n      return effect_Equal__WEBPACK_IMPORTED_MODULE_3__.equals;\n    case \"Refinement\":\n      return go(ast.from, path);\n    case \"Suspend\":\n      {\n        const get = _internal_util_js__WEBPACK_IMPORTED_MODULE_4__.memoizeThunk(() => go(ast.f(), path));\n        return (a, b) => get()(a, b);\n      }\n    case \"TupleType\":\n      {\n        const elements = ast.elements.map((element, i) => go(element.type, path.concat(i)));\n        const rest = ast.rest.map(annotatedAST => go(annotatedAST.type, path));\n        return effect_Equivalence__WEBPACK_IMPORTED_MODULE_5__.make((a, b) => {\n          const len = a.length;\n          if (len !== b.length) {\n            return false;\n          }\n          // ---------------------------------------------\n          // handle elements\n          // ---------------------------------------------\n          let i = 0;\n          for (; i < Math.min(len, ast.elements.length); i++) {\n            if (!elements[i](a[i], b[i])) {\n              return false;\n            }\n          }\n          // ---------------------------------------------\n          // handle rest element\n          // ---------------------------------------------\n          if (effect_Array__WEBPACK_IMPORTED_MODULE_6__.isNonEmptyReadonlyArray(rest)) {\n            const [head, ...tail] = rest;\n            for (; i < len - tail.length; i++) {\n              if (!head(a[i], b[i])) {\n                return false;\n              }\n            }\n            // ---------------------------------------------\n            // handle post rest elements\n            // ---------------------------------------------\n            for (let j = 0; j < tail.length; j++) {\n              i += j;\n              if (!tail[j](a[i], b[i])) {\n                return false;\n              }\n            }\n          }\n          return true;\n        });\n      }\n    case \"TypeLiteral\":\n      {\n        if (ast.propertySignatures.length === 0 && ast.indexSignatures.length === 0) {\n          return effect_Equal__WEBPACK_IMPORTED_MODULE_3__.equals;\n        }\n        const propertySignatures = ast.propertySignatures.map(ps => go(ps.type, path.concat(ps.name)));\n        const indexSignatures = ast.indexSignatures.map(is => go(is.type, path));\n        return effect_Equivalence__WEBPACK_IMPORTED_MODULE_5__.make((a, b) => {\n          const aStringKeys = Object.keys(a);\n          const aSymbolKeys = Object.getOwnPropertySymbols(a);\n          // ---------------------------------------------\n          // handle property signatures\n          // ---------------------------------------------\n          for (let i = 0; i < propertySignatures.length; i++) {\n            const ps = ast.propertySignatures[i];\n            const name = ps.name;\n            const aHas = Object.prototype.hasOwnProperty.call(a, name);\n            const bHas = Object.prototype.hasOwnProperty.call(b, name);\n            if (ps.isOptional) {\n              if (aHas !== bHas) {\n                return false;\n              }\n            }\n            if (aHas && bHas && !propertySignatures[i](a[name], b[name])) {\n              return false;\n            }\n          }\n          // ---------------------------------------------\n          // handle index signatures\n          // ---------------------------------------------\n          let bSymbolKeys;\n          let bStringKeys;\n          for (let i = 0; i < indexSignatures.length; i++) {\n            const is = ast.indexSignatures[i];\n            const base = _AST_js__WEBPACK_IMPORTED_MODULE_0__.getParameterBase(is.parameter);\n            const isSymbol = _AST_js__WEBPACK_IMPORTED_MODULE_0__.isSymbolKeyword(base);\n            if (isSymbol) {\n              bSymbolKeys = bSymbolKeys || Object.getOwnPropertySymbols(b);\n              if (aSymbolKeys.length !== bSymbolKeys.length) {\n                return false;\n              }\n            } else {\n              bStringKeys = bStringKeys || Object.keys(b);\n              if (aStringKeys.length !== bStringKeys.length) {\n                return false;\n              }\n            }\n            const aKeys = isSymbol ? aSymbolKeys : aStringKeys;\n            for (let j = 0; j < aKeys.length; j++) {\n              const key = aKeys[j];\n              if (!Object.prototype.hasOwnProperty.call(b, key) || !indexSignatures[i](a[key], b[key])) {\n                return false;\n              }\n            }\n          }\n          return true;\n        });\n      }\n    case \"Union\":\n      {\n        const searchTree = _ParseResult_js__WEBPACK_IMPORTED_MODULE_7__.getSearchTree(ast.types, true);\n        const ownKeys = _internal_util_js__WEBPACK_IMPORTED_MODULE_4__.ownKeys(searchTree.keys);\n        const len = ownKeys.length;\n        return effect_Equivalence__WEBPACK_IMPORTED_MODULE_5__.make((a, b) => {\n          let candidates = [];\n          if (len > 0 && effect_Predicate__WEBPACK_IMPORTED_MODULE_8__.isRecord(a)) {\n            for (let i = 0; i < len; i++) {\n              const name = ownKeys[i];\n              const buckets = searchTree.keys[name].buckets;\n              if (Object.prototype.hasOwnProperty.call(a, name)) {\n                const literal = String(a[name]);\n                if (Object.prototype.hasOwnProperty.call(buckets, literal)) {\n                  candidates = candidates.concat(buckets[literal]);\n                }\n              }\n            }\n          }\n          if (searchTree.otherwise.length > 0) {\n            candidates = candidates.concat(searchTree.otherwise);\n          }\n          const tuples = candidates.map(ast => [go(ast, path), _ParseResult_js__WEBPACK_IMPORTED_MODULE_7__.is({\n            ast\n          })]);\n          for (let i = 0; i < tuples.length; i++) {\n            const [equivalence, is] = tuples[i];\n            if (is(a) && is(b)) {\n              if (equivalence(a, b)) {\n                return true;\n              }\n            }\n          }\n          return false;\n        });\n      }\n  }\n};\n//# sourceMappingURL=Equivalence.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGVmZmVjdC9zY2hlbWEvZGlzdC9lc20vRXF1aXZhbGVuY2UuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ29DO0FBQ0U7QUFDWTtBQUNWO0FBQ007QUFDZDtBQUNnQjtBQUNKO0FBQ0k7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1AsNkJBQTZCLGtEQUFpQjtBQUM5QztBQUNBO0FBQ0EsTUFBTSxpREFBYTtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLHNGQUE2QztBQUNuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxnREFBWTtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQiwyREFBa0I7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxvREFBZ0I7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQix3Q0FBd0M7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLGlFQUEyQjtBQUN6QztBQUNBLG1CQUFtQix1QkFBdUI7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsaUJBQWlCO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLGdEQUFZO0FBQzdCO0FBQ0E7QUFDQTtBQUNBLGVBQWUsb0RBQWdCO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsK0JBQStCO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQiw0QkFBNEI7QUFDdEQ7QUFDQSx5QkFBeUIscURBQW9CO0FBQzdDLDZCQUE2QixvREFBbUI7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsa0JBQWtCO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQiwwREFBeUI7QUFDcEQsd0JBQXdCLHNEQUFhO0FBQ3JDO0FBQ0EsZUFBZSxvREFBZ0I7QUFDL0I7QUFDQSx5QkFBeUIsc0RBQWtCO0FBQzNDLDRCQUE0QixTQUFTO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0RBQStELCtDQUFjO0FBQzdFO0FBQ0EsV0FBVztBQUNYLDBCQUEwQixtQkFBbUI7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2Nhc2Vjb2JyYS1kZXYvLi9ub2RlX21vZHVsZXMvQGVmZmVjdC9zY2hlbWEvZGlzdC9lc20vRXF1aXZhbGVuY2UuanM/NzNjYyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuaW1wb3J0ICogYXMgQXJyIGZyb20gXCJlZmZlY3QvQXJyYXlcIjtcbmltcG9ydCAqIGFzIEVxdWFsIGZyb20gXCJlZmZlY3QvRXF1YWxcIjtcbmltcG9ydCAqIGFzIEVxdWl2YWxlbmNlIGZyb20gXCJlZmZlY3QvRXF1aXZhbGVuY2VcIjtcbmltcG9ydCAqIGFzIE9wdGlvbiBmcm9tIFwiZWZmZWN0L09wdGlvblwiO1xuaW1wb3J0ICogYXMgUHJlZGljYXRlIGZyb20gXCJlZmZlY3QvUHJlZGljYXRlXCI7XG5pbXBvcnQgKiBhcyBBU1QgZnJvbSBcIi4vQVNULmpzXCI7XG5pbXBvcnQgKiBhcyBlcnJvcnNfIGZyb20gXCIuL2ludGVybmFsL2Vycm9ycy5qc1wiO1xuaW1wb3J0ICogYXMgdXRpbF8gZnJvbSBcIi4vaW50ZXJuYWwvdXRpbC5qc1wiO1xuaW1wb3J0ICogYXMgUGFyc2VSZXN1bHQgZnJvbSBcIi4vUGFyc2VSZXN1bHQuanNcIjtcbi8qKlxuICogQGNhdGVnb3J5IGhvb2tzXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjb25zdCBFcXVpdmFsZW5jZUhvb2tJZCA9IC8qI19fUFVSRV9fKi9TeW1ib2wuZm9yKFwiQGVmZmVjdC9zY2hlbWEvRXF1aXZhbGVuY2VIb29rSWRcIik7XG4vKipcbiAqIEBjYXRlZ29yeSBhbm5vdGF0aW9uc1xuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY29uc3QgZXF1aXZhbGVuY2UgPSBoYW5kbGVyID0+IHNlbGYgPT4gc2VsZi5hbm5vdGF0aW9ucyh7XG4gIFtFcXVpdmFsZW5jZUhvb2tJZF06IGhhbmRsZXJcbn0pO1xuLyoqXG4gKiBAY2F0ZWdvcnkgRXF1aXZhbGVuY2VcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNvbnN0IG1ha2UgPSBzY2hlbWEgPT4gZ28oc2NoZW1hLmFzdCwgW10pO1xuY29uc3QgZ2V0SG9vayA9IC8qI19fUFVSRV9fKi9BU1QuZ2V0QW5ub3RhdGlvbihFcXVpdmFsZW5jZUhvb2tJZCk7XG5jb25zdCBnbyA9IChhc3QsIHBhdGgpID0+IHtcbiAgY29uc3QgaG9vayA9IGdldEhvb2soYXN0KTtcbiAgaWYgKE9wdGlvbi5pc1NvbWUoaG9vaykpIHtcbiAgICBzd2l0Y2ggKGFzdC5fdGFnKSB7XG4gICAgICBjYXNlIFwiRGVjbGFyYXRpb25cIjpcbiAgICAgICAgcmV0dXJuIGhvb2sudmFsdWUoLi4uYXN0LnR5cGVQYXJhbWV0ZXJzLm1hcCh0cCA9PiBnbyh0cCwgcGF0aCkpKTtcbiAgICAgIGNhc2UgXCJSZWZpbmVtZW50XCI6XG4gICAgICAgIHJldHVybiBob29rLnZhbHVlKGdvKGFzdC5mcm9tLCBwYXRoKSk7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gaG9vay52YWx1ZSgpO1xuICAgIH1cbiAgfVxuICBzd2l0Y2ggKGFzdC5fdGFnKSB7XG4gICAgY2FzZSBcIk5ldmVyS2V5d29yZFwiOlxuICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yc18uZ2V0RXF1aXZhbGVuY2VVbnN1cHBvcnRlZEVycm9yTWVzc2FnZShhc3QsIHBhdGgpKTtcbiAgICBjYXNlIFwiVHJhbnNmb3JtYXRpb25cIjpcbiAgICAgIHJldHVybiBnbyhhc3QudG8sIHBhdGgpO1xuICAgIGNhc2UgXCJEZWNsYXJhdGlvblwiOlxuICAgIGNhc2UgXCJMaXRlcmFsXCI6XG4gICAgY2FzZSBcIlN0cmluZ0tleXdvcmRcIjpcbiAgICBjYXNlIFwiVGVtcGxhdGVMaXRlcmFsXCI6XG4gICAgY2FzZSBcIlVuaXF1ZVN5bWJvbFwiOlxuICAgIGNhc2UgXCJTeW1ib2xLZXl3b3JkXCI6XG4gICAgY2FzZSBcIlVua25vd25LZXl3b3JkXCI6XG4gICAgY2FzZSBcIkFueUtleXdvcmRcIjpcbiAgICBjYXNlIFwiTnVtYmVyS2V5d29yZFwiOlxuICAgIGNhc2UgXCJCb29sZWFuS2V5d29yZFwiOlxuICAgIGNhc2UgXCJCaWdJbnRLZXl3b3JkXCI6XG4gICAgY2FzZSBcIlVuZGVmaW5lZEtleXdvcmRcIjpcbiAgICBjYXNlIFwiVm9pZEtleXdvcmRcIjpcbiAgICBjYXNlIFwiRW51bXNcIjpcbiAgICBjYXNlIFwiT2JqZWN0S2V5d29yZFwiOlxuICAgICAgcmV0dXJuIEVxdWFsLmVxdWFscztcbiAgICBjYXNlIFwiUmVmaW5lbWVudFwiOlxuICAgICAgcmV0dXJuIGdvKGFzdC5mcm9tLCBwYXRoKTtcbiAgICBjYXNlIFwiU3VzcGVuZFwiOlxuICAgICAge1xuICAgICAgICBjb25zdCBnZXQgPSB1dGlsXy5tZW1vaXplVGh1bmsoKCkgPT4gZ28oYXN0LmYoKSwgcGF0aCkpO1xuICAgICAgICByZXR1cm4gKGEsIGIpID0+IGdldCgpKGEsIGIpO1xuICAgICAgfVxuICAgIGNhc2UgXCJUdXBsZVR5cGVcIjpcbiAgICAgIHtcbiAgICAgICAgY29uc3QgZWxlbWVudHMgPSBhc3QuZWxlbWVudHMubWFwKChlbGVtZW50LCBpKSA9PiBnbyhlbGVtZW50LnR5cGUsIHBhdGguY29uY2F0KGkpKSk7XG4gICAgICAgIGNvbnN0IHJlc3QgPSBhc3QucmVzdC5tYXAoYW5ub3RhdGVkQVNUID0+IGdvKGFubm90YXRlZEFTVC50eXBlLCBwYXRoKSk7XG4gICAgICAgIHJldHVybiBFcXVpdmFsZW5jZS5tYWtlKChhLCBiKSA9PiB7XG4gICAgICAgICAgY29uc3QgbGVuID0gYS5sZW5ndGg7XG4gICAgICAgICAgaWYgKGxlbiAhPT0gYi5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAgLy8gaGFuZGxlIGVsZW1lbnRzXG4gICAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAgbGV0IGkgPSAwO1xuICAgICAgICAgIGZvciAoOyBpIDwgTWF0aC5taW4obGVuLCBhc3QuZWxlbWVudHMubGVuZ3RoKTsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoIWVsZW1lbnRzW2ldKGFbaV0sIGJbaV0pKSB7XG4gICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAgLy8gaGFuZGxlIHJlc3QgZWxlbWVudFxuICAgICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgIGlmIChBcnIuaXNOb25FbXB0eVJlYWRvbmx5QXJyYXkocmVzdCkpIHtcbiAgICAgICAgICAgIGNvbnN0IFtoZWFkLCAuLi50YWlsXSA9IHJlc3Q7XG4gICAgICAgICAgICBmb3IgKDsgaSA8IGxlbiAtIHRhaWwubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgaWYgKCFoZWFkKGFbaV0sIGJbaV0pKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICAgIC8vIGhhbmRsZSBwb3N0IHJlc3QgZWxlbWVudHNcbiAgICAgICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCB0YWlsLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgIGkgKz0gajtcbiAgICAgICAgICAgICAgaWYgKCF0YWlsW2pdKGFbaV0sIGJbaV0pKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICBjYXNlIFwiVHlwZUxpdGVyYWxcIjpcbiAgICAgIHtcbiAgICAgICAgaWYgKGFzdC5wcm9wZXJ0eVNpZ25hdHVyZXMubGVuZ3RoID09PSAwICYmIGFzdC5pbmRleFNpZ25hdHVyZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgcmV0dXJuIEVxdWFsLmVxdWFscztcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwcm9wZXJ0eVNpZ25hdHVyZXMgPSBhc3QucHJvcGVydHlTaWduYXR1cmVzLm1hcChwcyA9PiBnbyhwcy50eXBlLCBwYXRoLmNvbmNhdChwcy5uYW1lKSkpO1xuICAgICAgICBjb25zdCBpbmRleFNpZ25hdHVyZXMgPSBhc3QuaW5kZXhTaWduYXR1cmVzLm1hcChpcyA9PiBnbyhpcy50eXBlLCBwYXRoKSk7XG4gICAgICAgIHJldHVybiBFcXVpdmFsZW5jZS5tYWtlKChhLCBiKSA9PiB7XG4gICAgICAgICAgY29uc3QgYVN0cmluZ0tleXMgPSBPYmplY3Qua2V5cyhhKTtcbiAgICAgICAgICBjb25zdCBhU3ltYm9sS2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoYSk7XG4gICAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAgLy8gaGFuZGxlIHByb3BlcnR5IHNpZ25hdHVyZXNcbiAgICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHByb3BlcnR5U2lnbmF0dXJlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgcHMgPSBhc3QucHJvcGVydHlTaWduYXR1cmVzW2ldO1xuICAgICAgICAgICAgY29uc3QgbmFtZSA9IHBzLm5hbWU7XG4gICAgICAgICAgICBjb25zdCBhSGFzID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGEsIG5hbWUpO1xuICAgICAgICAgICAgY29uc3QgYkhhcyA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBuYW1lKTtcbiAgICAgICAgICAgIGlmIChwcy5pc09wdGlvbmFsKSB7XG4gICAgICAgICAgICAgIGlmIChhSGFzICE9PSBiSGFzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYUhhcyAmJiBiSGFzICYmICFwcm9wZXJ0eVNpZ25hdHVyZXNbaV0oYVtuYW1lXSwgYltuYW1lXSkpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICAvLyBoYW5kbGUgaW5kZXggc2lnbmF0dXJlc1xuICAgICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgIGxldCBiU3ltYm9sS2V5cztcbiAgICAgICAgICBsZXQgYlN0cmluZ0tleXM7XG4gICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbmRleFNpZ25hdHVyZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGlzID0gYXN0LmluZGV4U2lnbmF0dXJlc1tpXTtcbiAgICAgICAgICAgIGNvbnN0IGJhc2UgPSBBU1QuZ2V0UGFyYW1ldGVyQmFzZShpcy5wYXJhbWV0ZXIpO1xuICAgICAgICAgICAgY29uc3QgaXNTeW1ib2wgPSBBU1QuaXNTeW1ib2xLZXl3b3JkKGJhc2UpO1xuICAgICAgICAgICAgaWYgKGlzU3ltYm9sKSB7XG4gICAgICAgICAgICAgIGJTeW1ib2xLZXlzID0gYlN5bWJvbEtleXMgfHwgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhiKTtcbiAgICAgICAgICAgICAgaWYgKGFTeW1ib2xLZXlzLmxlbmd0aCAhPT0gYlN5bWJvbEtleXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBiU3RyaW5nS2V5cyA9IGJTdHJpbmdLZXlzIHx8IE9iamVjdC5rZXlzKGIpO1xuICAgICAgICAgICAgICBpZiAoYVN0cmluZ0tleXMubGVuZ3RoICE9PSBiU3RyaW5nS2V5cy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGFLZXlzID0gaXNTeW1ib2wgPyBhU3ltYm9sS2V5cyA6IGFTdHJpbmdLZXlzO1xuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBhS2V5cy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICBjb25zdCBrZXkgPSBhS2V5c1tqXTtcbiAgICAgICAgICAgICAgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwga2V5KSB8fCAhaW5kZXhTaWduYXR1cmVzW2ldKGFba2V5XSwgYltrZXldKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgY2FzZSBcIlVuaW9uXCI6XG4gICAgICB7XG4gICAgICAgIGNvbnN0IHNlYXJjaFRyZWUgPSBQYXJzZVJlc3VsdC5nZXRTZWFyY2hUcmVlKGFzdC50eXBlcywgdHJ1ZSk7XG4gICAgICAgIGNvbnN0IG93bktleXMgPSB1dGlsXy5vd25LZXlzKHNlYXJjaFRyZWUua2V5cyk7XG4gICAgICAgIGNvbnN0IGxlbiA9IG93bktleXMubGVuZ3RoO1xuICAgICAgICByZXR1cm4gRXF1aXZhbGVuY2UubWFrZSgoYSwgYikgPT4ge1xuICAgICAgICAgIGxldCBjYW5kaWRhdGVzID0gW107XG4gICAgICAgICAgaWYgKGxlbiA+IDAgJiYgUHJlZGljYXRlLmlzUmVjb3JkKGEpKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICAgIGNvbnN0IG5hbWUgPSBvd25LZXlzW2ldO1xuICAgICAgICAgICAgICBjb25zdCBidWNrZXRzID0gc2VhcmNoVHJlZS5rZXlzW25hbWVdLmJ1Y2tldHM7XG4gICAgICAgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYSwgbmFtZSkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsaXRlcmFsID0gU3RyaW5nKGFbbmFtZV0pO1xuICAgICAgICAgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYnVja2V0cywgbGl0ZXJhbCkpIHtcbiAgICAgICAgICAgICAgICAgIGNhbmRpZGF0ZXMgPSBjYW5kaWRhdGVzLmNvbmNhdChidWNrZXRzW2xpdGVyYWxdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHNlYXJjaFRyZWUub3RoZXJ3aXNlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNhbmRpZGF0ZXMgPSBjYW5kaWRhdGVzLmNvbmNhdChzZWFyY2hUcmVlLm90aGVyd2lzZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IHR1cGxlcyA9IGNhbmRpZGF0ZXMubWFwKGFzdCA9PiBbZ28oYXN0LCBwYXRoKSwgUGFyc2VSZXN1bHQuaXMoe1xuICAgICAgICAgICAgYXN0XG4gICAgICAgICAgfSldKTtcbiAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHR1cGxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgW2VxdWl2YWxlbmNlLCBpc10gPSB0dXBsZXNbaV07XG4gICAgICAgICAgICBpZiAoaXMoYSkgJiYgaXMoYikpIHtcbiAgICAgICAgICAgICAgaWYgKGVxdWl2YWxlbmNlKGEsIGIpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgfVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUVxdWl2YWxlbmNlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@effect/schema/dist/esm/Equivalence.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@effect/schema/dist/esm/FastCheck.js":
/*!***********************************************************!*\
  !*** ./node_modules/@effect/schema/dist/esm/FastCheck.js ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Arbitrary: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.Arbitrary),\n/* harmony export */   ExecutionStatus: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.ExecutionStatus),\n/* harmony export */   PreconditionFailure: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.PreconditionFailure),\n/* harmony export */   Random: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.Random),\n/* harmony export */   Stream: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.Stream),\n/* harmony export */   Value: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.Value),\n/* harmony export */   VerbosityLevel: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.VerbosityLevel),\n/* harmony export */   __commitHash: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.__commitHash),\n/* harmony export */   __type: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.__type),\n/* harmony export */   __version: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.__version),\n/* harmony export */   anything: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.anything),\n/* harmony export */   array: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.array),\n/* harmony export */   ascii: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.ascii),\n/* harmony export */   asciiString: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.asciiString),\n/* harmony export */   assert: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.assert),\n/* harmony export */   asyncDefaultReportMessage: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.asyncDefaultReportMessage),\n/* harmony export */   asyncModelRun: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.asyncModelRun),\n/* harmony export */   asyncProperty: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.asyncProperty),\n/* harmony export */   asyncStringify: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.asyncStringify),\n/* harmony export */   asyncToStringMethod: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.asyncToStringMethod),\n/* harmony export */   base64: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.base64),\n/* harmony export */   base64String: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.base64String),\n/* harmony export */   bigInt: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.bigInt),\n/* harmony export */   bigInt64Array: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.bigInt64Array),\n/* harmony export */   bigIntN: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.bigIntN),\n/* harmony export */   bigUint: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.bigUint),\n/* harmony export */   bigUint64Array: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.bigUint64Array),\n/* harmony export */   bigUintN: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.bigUintN),\n/* harmony export */   boolean: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.boolean),\n/* harmony export */   char: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.char),\n/* harmony export */   char16bits: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.char16bits),\n/* harmony export */   check: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.check),\n/* harmony export */   clone: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.clone),\n/* harmony export */   cloneIfNeeded: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.cloneIfNeeded),\n/* harmony export */   cloneMethod: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.cloneMethod),\n/* harmony export */   commands: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.commands),\n/* harmony export */   compareBooleanFunc: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.compareBooleanFunc),\n/* harmony export */   compareFunc: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.compareFunc),\n/* harmony export */   configureGlobal: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.configureGlobal),\n/* harmony export */   constant: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.constant),\n/* harmony export */   constantFrom: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.constantFrom),\n/* harmony export */   context: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.context),\n/* harmony export */   createDepthIdentifier: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.createDepthIdentifier),\n/* harmony export */   date: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.date),\n/* harmony export */   defaultReportMessage: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.defaultReportMessage),\n/* harmony export */   dictionary: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.dictionary),\n/* harmony export */   domain: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.domain),\n/* harmony export */   double: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.double),\n/* harmony export */   emailAddress: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.emailAddress),\n/* harmony export */   falsy: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.falsy),\n/* harmony export */   float: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.float),\n/* harmony export */   float32Array: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.float32Array),\n/* harmony export */   float64Array: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.float64Array),\n/* harmony export */   fullUnicode: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.fullUnicode),\n/* harmony export */   fullUnicodeString: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.fullUnicodeString),\n/* harmony export */   func: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.func),\n/* harmony export */   gen: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.gen),\n/* harmony export */   getDepthContextFor: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.getDepthContextFor),\n/* harmony export */   hasAsyncToStringMethod: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.hasAsyncToStringMethod),\n/* harmony export */   hasCloneMethod: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.hasCloneMethod),\n/* harmony export */   hasToStringMethod: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.hasToStringMethod),\n/* harmony export */   hash: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.hash),\n/* harmony export */   hexa: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.hexa),\n/* harmony export */   hexaString: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.hexaString),\n/* harmony export */   infiniteStream: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.infiniteStream),\n/* harmony export */   int16Array: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.int16Array),\n/* harmony export */   int32Array: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.int32Array),\n/* harmony export */   int8Array: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.int8Array),\n/* harmony export */   integer: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.integer),\n/* harmony export */   ipV4: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.ipV4),\n/* harmony export */   ipV4Extended: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.ipV4Extended),\n/* harmony export */   ipV6: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.ipV6),\n/* harmony export */   json: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.json),\n/* harmony export */   jsonValue: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.jsonValue),\n/* harmony export */   letrec: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.letrec),\n/* harmony export */   limitShrink: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.limitShrink),\n/* harmony export */   lorem: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.lorem),\n/* harmony export */   mapToConstant: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.mapToConstant),\n/* harmony export */   maxSafeInteger: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.maxSafeInteger),\n/* harmony export */   maxSafeNat: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.maxSafeNat),\n/* harmony export */   memo: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.memo),\n/* harmony export */   mixedCase: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.mixedCase),\n/* harmony export */   modelRun: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.modelRun),\n/* harmony export */   nat: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.nat),\n/* harmony export */   noBias: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.noBias),\n/* harmony export */   noShrink: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.noShrink),\n/* harmony export */   object: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.object),\n/* harmony export */   oneof: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.oneof),\n/* harmony export */   option: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.option),\n/* harmony export */   pre: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.pre),\n/* harmony export */   property: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.property),\n/* harmony export */   readConfigureGlobal: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.readConfigureGlobal),\n/* harmony export */   record: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.record),\n/* harmony export */   resetConfigureGlobal: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.resetConfigureGlobal),\n/* harmony export */   sample: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.sample),\n/* harmony export */   scheduledModelRun: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.scheduledModelRun),\n/* harmony export */   scheduler: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.scheduler),\n/* harmony export */   schedulerFor: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.schedulerFor),\n/* harmony export */   shuffledSubarray: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.shuffledSubarray),\n/* harmony export */   sparseArray: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.sparseArray),\n/* harmony export */   statistics: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.statistics),\n/* harmony export */   stream: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.stream),\n/* harmony export */   string: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.string),\n/* harmony export */   string16bits: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.string16bits),\n/* harmony export */   stringMatching: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.stringMatching),\n/* harmony export */   stringOf: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.stringOf),\n/* harmony export */   stringify: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.stringify),\n/* harmony export */   subarray: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.subarray),\n/* harmony export */   toStringMethod: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.toStringMethod),\n/* harmony export */   tuple: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.tuple),\n/* harmony export */   uint16Array: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.uint16Array),\n/* harmony export */   uint32Array: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.uint32Array),\n/* harmony export */   uint8Array: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.uint8Array),\n/* harmony export */   uint8ClampedArray: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.uint8ClampedArray),\n/* harmony export */   ulid: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.ulid),\n/* harmony export */   unicode: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.unicode),\n/* harmony export */   unicodeJson: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.unicodeJson),\n/* harmony export */   unicodeJsonValue: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.unicodeJsonValue),\n/* harmony export */   unicodeString: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.unicodeString),\n/* harmony export */   uniqueArray: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.uniqueArray),\n/* harmony export */   uuid: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.uuid),\n/* harmony export */   uuidV: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.uuidV),\n/* harmony export */   webAuthority: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.webAuthority),\n/* harmony export */   webFragments: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.webFragments),\n/* harmony export */   webPath: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.webPath),\n/* harmony export */   webQueryParameters: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.webQueryParameters),\n/* harmony export */   webSegment: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.webSegment),\n/* harmony export */   webUrl: () => (/* reexport safe */ fast_check__WEBPACK_IMPORTED_MODULE_0__.webUrl)\n/* harmony export */ });\n/* harmony import */ var fast_check__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! fast-check */ \"(rsc)/./node_modules/fast-check/lib/esm/fast-check.js\");\n/**\n * @since 0.67.0\n */\n/**\n * @category re-exports\n * @since 0.67.0\n */\n\n//# sourceMappingURL=FastCheck.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGVmZmVjdC9zY2hlbWEvZGlzdC9lc20vRmFzdENoZWNrLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQzJCO0FBQzNCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2FzZWNvYnJhLWRldi8uL25vZGVfbW9kdWxlcy9AZWZmZWN0L3NjaGVtYS9kaXN0L2VzbS9GYXN0Q2hlY2suanM/NDQ3OSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuLyoqXG4gKiBAY2F0ZWdvcnkgcmUtZXhwb3J0c1xuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgKiBmcm9tIFwiZmFzdC1jaGVja1wiO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RmFzdENoZWNrLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@effect/schema/dist/esm/FastCheck.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@effect/schema/dist/esm/ParseResult.js":
/*!*************************************************************!*\
  !*** ./node_modules/@effect/schema/dist/esm/ParseResult.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Composite: () => (/* binding */ Composite),\n/* harmony export */   Forbidden: () => (/* binding */ Forbidden),\n/* harmony export */   Missing: () => (/* binding */ Missing),\n/* harmony export */   ParseError: () => (/* binding */ ParseError),\n/* harmony export */   ParseErrorTypeId: () => (/* binding */ ParseErrorTypeId),\n/* harmony export */   Pointer: () => (/* binding */ Pointer),\n/* harmony export */   Refinement: () => (/* binding */ Refinement),\n/* harmony export */   Transformation: () => (/* binding */ Transformation),\n/* harmony export */   Type: () => (/* binding */ Type),\n/* harmony export */   Unexpected: () => (/* binding */ Unexpected),\n/* harmony export */   asserts: () => (/* binding */ asserts),\n/* harmony export */   decode: () => (/* binding */ decode),\n/* harmony export */   decodeEither: () => (/* binding */ decodeEither),\n/* harmony export */   decodeOption: () => (/* binding */ decodeOption),\n/* harmony export */   decodePromise: () => (/* binding */ decodePromise),\n/* harmony export */   decodeSync: () => (/* binding */ decodeSync),\n/* harmony export */   decodeUnknown: () => (/* binding */ decodeUnknown),\n/* harmony export */   decodeUnknownEither: () => (/* binding */ decodeUnknownEither),\n/* harmony export */   decodeUnknownOption: () => (/* binding */ decodeUnknownOption),\n/* harmony export */   decodeUnknownPromise: () => (/* binding */ decodeUnknownPromise),\n/* harmony export */   decodeUnknownSync: () => (/* binding */ decodeUnknownSync),\n/* harmony export */   eitherOrUndefined: () => (/* binding */ eitherOrUndefined),\n/* harmony export */   encode: () => (/* binding */ encode),\n/* harmony export */   encodeEither: () => (/* binding */ encodeEither),\n/* harmony export */   encodeOption: () => (/* binding */ encodeOption),\n/* harmony export */   encodePromise: () => (/* binding */ encodePromise),\n/* harmony export */   encodeSync: () => (/* binding */ encodeSync),\n/* harmony export */   encodeUnknown: () => (/* binding */ encodeUnknown),\n/* harmony export */   encodeUnknownEither: () => (/* binding */ encodeUnknownEither),\n/* harmony export */   encodeUnknownOption: () => (/* binding */ encodeUnknownOption),\n/* harmony export */   encodeUnknownPromise: () => (/* binding */ encodeUnknownPromise),\n/* harmony export */   encodeUnknownSync: () => (/* binding */ encodeUnknownSync),\n/* harmony export */   fail: () => (/* binding */ fail),\n/* harmony export */   flatMap: () => (/* binding */ flatMap),\n/* harmony export */   fromOption: () => (/* binding */ fromOption),\n/* harmony export */   getFinalTransformation: () => (/* binding */ getFinalTransformation),\n/* harmony export */   getLiterals: () => (/* binding */ getLiterals),\n/* harmony export */   getSearchTree: () => (/* binding */ getSearchTree),\n/* harmony export */   is: () => (/* binding */ is),\n/* harmony export */   isComposite: () => (/* binding */ isComposite),\n/* harmony export */   isParseError: () => (/* binding */ isParseError),\n/* harmony export */   map: () => (/* binding */ map),\n/* harmony export */   mapBoth: () => (/* binding */ mapBoth),\n/* harmony export */   mapError: () => (/* binding */ mapError),\n/* harmony export */   mergeInternalOptions: () => (/* binding */ mergeInternalOptions),\n/* harmony export */   orElse: () => (/* binding */ orElse),\n/* harmony export */   parseError: () => (/* binding */ parseError),\n/* harmony export */   succeed: () => (/* binding */ succeed),\n/* harmony export */   \"try\": () => (/* binding */ _try),\n/* harmony export */   validate: () => (/* binding */ validate),\n/* harmony export */   validateEither: () => (/* binding */ validateEither),\n/* harmony export */   validateOption: () => (/* binding */ validateOption),\n/* harmony export */   validatePromise: () => (/* binding */ validatePromise),\n/* harmony export */   validateSync: () => (/* binding */ validateSync)\n/* harmony export */ });\n/* harmony import */ var effect_Array__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! effect/Array */ \"(rsc)/./node_modules/effect/dist/esm/Array.js\");\n/* harmony import */ var effect_Data__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! effect/Data */ \"(rsc)/./node_modules/effect/dist/esm/Data.js\");\n/* harmony import */ var effect_Effect__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! effect/Effect */ \"(rsc)/./node_modules/effect/dist/esm/Effect.js\");\n/* harmony import */ var effect_Either__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! effect/Either */ \"(rsc)/./node_modules/effect/dist/esm/Either.js\");\n/* harmony import */ var effect_Function__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! effect/Function */ \"(rsc)/./node_modules/effect/dist/esm/Function.js\");\n/* harmony import */ var effect_GlobalValue__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! effect/GlobalValue */ \"(rsc)/./node_modules/effect/dist/esm/GlobalValue.js\");\n/* harmony import */ var effect_Inspectable__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! effect/Inspectable */ \"(rsc)/./node_modules/effect/dist/esm/Inspectable.js\");\n/* harmony import */ var effect_Option__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! effect/Option */ \"(rsc)/./node_modules/effect/dist/esm/Option.js\");\n/* harmony import */ var effect_Predicate__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! effect/Predicate */ \"(rsc)/./node_modules/effect/dist/esm/Predicate.js\");\n/* harmony import */ var _AST_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./AST.js */ \"(rsc)/./node_modules/@effect/schema/dist/esm/AST.js\");\n/* harmony import */ var _internal_util_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./internal/util.js */ \"(rsc)/./node_modules/@effect/schema/dist/esm/internal/util.js\");\n/* harmony import */ var _TreeFormatter_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./TreeFormatter.js */ \"(rsc)/./node_modules/@effect/schema/dist/esm/TreeFormatter.js\");\n/**\n * @since 0.67.0\n */\n\n\n\n\n\n\n\n\n\n\n\n\n/**\n * @category model\n * @since 0.68.0\n */\nclass Pointer {\n  path;\n  actual;\n  issue;\n  /**\n   * @since 0.68.0\n   */\n  _tag = \"Pointer\";\n  constructor(path, actual, issue) {\n    this.path = path;\n    this.actual = actual;\n    this.issue = issue;\n  }\n}\n/**\n * Error that occurs when an unexpected key or index is present.\n *\n * @category model\n * @since 0.67.0\n */\nclass Unexpected {\n  actual;\n  message;\n  /**\n   * @since 0.67.0\n   */\n  _tag = \"Unexpected\";\n  constructor(actual,\n  /**\n   * @since 0.68.0\n   */\n  message) {\n    this.actual = actual;\n    this.message = message;\n  }\n}\n/**\n * Error that occurs when a required key or index is missing.\n *\n * @category model\n * @since 0.67.0\n */\nclass Missing {\n  ast;\n  message;\n  /**\n   * @since 0.67.0\n   */\n  _tag = \"Missing\";\n  /**\n   * @since 0.68.0\n   */\n  actual = undefined;\n  constructor(\n  /**\n   * @since 0.68.0\n   */\n  ast,\n  /**\n   * @since 0.68.0\n   */\n  message) {\n    this.ast = ast;\n    this.message = message;\n  }\n}\n/**\n * Error that contains multiple issues.\n *\n * @category model\n * @since 0.68.0\n */\nclass Composite {\n  ast;\n  actual;\n  issues;\n  output;\n  /**\n   * @since 0.68.0\n   */\n  _tag = \"Composite\";\n  constructor(ast, actual, issues, output) {\n    this.ast = ast;\n    this.actual = actual;\n    this.issues = issues;\n    this.output = output;\n  }\n}\n/**\n * Returns `true` if the value is a `Composite`.\n *\n * @category guards\n * @since 0.68.0\n */\nconst isComposite = u => effect_Predicate__WEBPACK_IMPORTED_MODULE_0__.hasProperty(u, \"_tag\");\n/**\n * Error that occurs when a refinement has an error.\n *\n * @category model\n * @since 0.67.0\n */\nclass Refinement {\n  ast;\n  actual;\n  kind;\n  issue;\n  /**\n   * @since 0.67.0\n   */\n  _tag = \"Refinement\";\n  constructor(ast, actual, kind, issue) {\n    this.ast = ast;\n    this.actual = actual;\n    this.kind = kind;\n    this.issue = issue;\n  }\n}\n/**\n * Error that occurs when a transformation has an error.\n *\n * @category model\n * @since 0.67.0\n */\nclass Transformation {\n  ast;\n  actual;\n  kind;\n  issue;\n  /**\n   * @since 0.67.0\n   */\n  _tag = \"Transformation\";\n  constructor(ast, actual, kind, issue) {\n    this.ast = ast;\n    this.actual = actual;\n    this.kind = kind;\n    this.issue = issue;\n  }\n}\n/**\n * The `Type` variant of the `ParseIssue` type represents an error that occurs when the `actual` value is not of the expected type.\n * The `ast` field specifies the expected type, and the `actual` field contains the value that caused the error.\n *\n * @category model\n * @since 0.67.0\n */\nclass Type {\n  ast;\n  actual;\n  message;\n  /**\n   * @since 0.67.0\n   */\n  _tag = \"Type\";\n  constructor(ast, actual, message) {\n    this.ast = ast;\n    this.actual = actual;\n    this.message = message;\n  }\n}\n/**\n * The `Forbidden` variant of the `ParseIssue` type represents a forbidden operation, such as when encountering an Effect that is not allowed to execute (e.g., using `runSync`).\n *\n * @category model\n * @since 0.67.0\n */\nclass Forbidden {\n  ast;\n  actual;\n  message;\n  /**\n   * @since 0.67.0\n   */\n  _tag = \"Forbidden\";\n  constructor(ast, actual, message) {\n    this.ast = ast;\n    this.actual = actual;\n    this.message = message;\n  }\n}\n/**\n * @category type id\n * @since 0.68.0\n */\nconst ParseErrorTypeId = /*#__PURE__*/Symbol.for(\"@effect/schema/ParseErrorTypeId\");\n/**\n * @since 0.68.0\n */\nconst isParseError = u => effect_Predicate__WEBPACK_IMPORTED_MODULE_0__.hasProperty(u, ParseErrorTypeId);\n/**\n * @since 0.67.0\n */\nclass ParseError extends (0,effect_Data__WEBPACK_IMPORTED_MODULE_1__.TaggedError)(\"ParseError\") {\n  /**\n   * @since 0.68.0\n   */\n  [ParseErrorTypeId] = ParseErrorTypeId;\n  get message() {\n    return this.toString();\n  }\n  /**\n   * @since 0.67.0\n   */\n  toString() {\n    return _TreeFormatter_js__WEBPACK_IMPORTED_MODULE_2__.formatIssueSync(this.issue);\n  }\n  /**\n   * @since 0.67.0\n   */\n  toJSON() {\n    return {\n      _id: \"ParseError\",\n      message: this.toString()\n    };\n  }\n  /**\n   * @since 0.67.0\n   */\n  [effect_Inspectable__WEBPACK_IMPORTED_MODULE_3__.NodeInspectSymbol]() {\n    return this.toJSON();\n  }\n}\n/**\n * @category constructors\n * @since 0.67.0\n */\nconst parseError = issue => new ParseError({\n  issue\n});\n/**\n * @category constructors\n * @since 0.67.0\n */\nconst succeed = effect_Either__WEBPACK_IMPORTED_MODULE_4__.right;\n/**\n * @category constructors\n * @since 0.67.0\n */\nconst fail = effect_Either__WEBPACK_IMPORTED_MODULE_4__.left;\nconst _try = effect_Either__WEBPACK_IMPORTED_MODULE_4__[\"try\"];\n\n/**\n * @category constructors\n * @since 0.67.0\n */\nconst fromOption = effect_Either__WEBPACK_IMPORTED_MODULE_4__.fromOption;\n/**\n * @category optimisation\n * @since 0.67.0\n */\nconst flatMap = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_5__.dual)(2, (self, f) => {\n  const s = self;\n  if (s[\"_tag\"] === \"Left\") {\n    return s;\n  }\n  if (s[\"_tag\"] === \"Right\") {\n    return f(s.right);\n  }\n  return effect_Effect__WEBPACK_IMPORTED_MODULE_6__.flatMap(self, f);\n});\n/**\n * @category optimisation\n * @since 0.67.0\n */\nconst map = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_5__.dual)(2, (self, f) => {\n  const s = self;\n  if (s[\"_tag\"] === \"Left\") {\n    return s;\n  }\n  if (s[\"_tag\"] === \"Right\") {\n    return effect_Either__WEBPACK_IMPORTED_MODULE_4__.right(f(s.right));\n  }\n  return effect_Effect__WEBPACK_IMPORTED_MODULE_6__.map(self, f);\n});\n/**\n * @category optimisation\n * @since 0.67.0\n */\nconst mapError = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_5__.dual)(2, (self, f) => {\n  const s = self;\n  if (s[\"_tag\"] === \"Left\") {\n    return effect_Either__WEBPACK_IMPORTED_MODULE_4__.left(f(s.left));\n  }\n  if (s[\"_tag\"] === \"Right\") {\n    return s;\n  }\n  return effect_Effect__WEBPACK_IMPORTED_MODULE_6__.mapError(self, f);\n});\n/**\n * @category optimisation\n * @since 0.67.0\n */\nconst eitherOrUndefined = self => {\n  const s = self;\n  if (s[\"_tag\"] === \"Left\" || s[\"_tag\"] === \"Right\") {\n    return s;\n  }\n};\n/**\n * @category optimisation\n * @since 0.67.0\n */\nconst mapBoth = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_5__.dual)(2, (self, options) => {\n  const s = self;\n  if (s[\"_tag\"] === \"Left\") {\n    return effect_Either__WEBPACK_IMPORTED_MODULE_4__.left(options.onFailure(s.left));\n  }\n  if (s[\"_tag\"] === \"Right\") {\n    return effect_Either__WEBPACK_IMPORTED_MODULE_4__.right(options.onSuccess(s.right));\n  }\n  return effect_Effect__WEBPACK_IMPORTED_MODULE_6__.mapBoth(self, options);\n});\n/**\n * @category optimisation\n * @since 0.67.0\n */\nconst orElse = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_5__.dual)(2, (self, f) => {\n  const s = self;\n  if (s[\"_tag\"] === \"Left\") {\n    return f(s.left);\n  }\n  if (s[\"_tag\"] === \"Right\") {\n    return s;\n  }\n  return effect_Effect__WEBPACK_IMPORTED_MODULE_6__.catchAll(self, f);\n});\n/** @internal */\nconst mergeInternalOptions = (options, overrideOptions) => {\n  if (overrideOptions === undefined || effect_Predicate__WEBPACK_IMPORTED_MODULE_0__.isNumber(overrideOptions)) {\n    return options;\n  }\n  if (options === undefined) {\n    return overrideOptions;\n  }\n  return {\n    ...options,\n    ...overrideOptions\n  };\n};\nconst getEither = (ast, isDecoding, options) => {\n  const parser = goMemo(ast, isDecoding);\n  return (u, overrideOptions) => parser(u, mergeInternalOptions(options, overrideOptions));\n};\nconst getSync = (ast, isDecoding, options) => {\n  const parser = getEither(ast, isDecoding, options);\n  return (input, overrideOptions) => effect_Either__WEBPACK_IMPORTED_MODULE_4__.getOrThrowWith(parser(input, overrideOptions), parseError);\n};\nconst getOption = (ast, isDecoding, options) => {\n  const parser = getEither(ast, isDecoding, options);\n  return (input, overrideOptions) => effect_Option__WEBPACK_IMPORTED_MODULE_7__.getRight(parser(input, overrideOptions));\n};\nconst getEffect = (ast, isDecoding, options) => {\n  const parser = goMemo(ast, isDecoding);\n  return (input, overrideOptions) => parser(input, {\n    ...mergeInternalOptions(options, overrideOptions),\n    isEffectAllowed: true\n  });\n};\n/**\n * @throws `ParseError`\n * @category decoding\n * @since 0.67.0\n */\nconst decodeUnknownSync = (schema, options) => getSync(schema.ast, true, options);\n/**\n * @category decoding\n * @since 0.67.0\n */\nconst decodeUnknownOption = (schema, options) => getOption(schema.ast, true, options);\n/**\n * @category decoding\n * @since 0.67.0\n */\nconst decodeUnknownEither = (schema, options) => getEither(schema.ast, true, options);\n/**\n * @category decoding\n * @since 0.67.0\n */\nconst decodeUnknownPromise = (schema, options) => {\n  const parser = decodeUnknown(schema, options);\n  return (u, overrideOptions) => effect_Effect__WEBPACK_IMPORTED_MODULE_6__.runPromise(parser(u, overrideOptions));\n};\n/**\n * @category decoding\n * @since 0.67.0\n */\nconst decodeUnknown = (schema, options) => getEffect(schema.ast, true, options);\n/**\n * @throws `ParseError`\n * @category encoding\n * @since 0.67.0\n */\nconst encodeUnknownSync = (schema, options) => getSync(schema.ast, false, options);\n/**\n * @category encoding\n * @since 0.67.0\n */\nconst encodeUnknownOption = (schema, options) => getOption(schema.ast, false, options);\n/**\n * @category encoding\n * @since 0.67.0\n */\nconst encodeUnknownEither = (schema, options) => getEither(schema.ast, false, options);\n/**\n * @category encoding\n * @since 0.67.0\n */\nconst encodeUnknownPromise = (schema, options) => {\n  const parser = encodeUnknown(schema, options);\n  return (u, overrideOptions) => effect_Effect__WEBPACK_IMPORTED_MODULE_6__.runPromise(parser(u, overrideOptions));\n};\n/**\n * @category encoding\n * @since 0.67.0\n */\nconst encodeUnknown = (schema, options) => getEffect(schema.ast, false, options);\n/**\n * @category decoding\n * @since 0.67.0\n */\nconst decodeSync = decodeUnknownSync;\n/**\n * @category decoding\n * @since 0.67.0\n */\nconst decodeOption = decodeUnknownOption;\n/**\n * @category decoding\n * @since 0.67.0\n */\nconst decodeEither = decodeUnknownEither;\n/**\n * @category decoding\n * @since 0.67.0\n */\nconst decodePromise = decodeUnknownPromise;\n/**\n * @category decoding\n * @since 0.67.0\n */\nconst decode = decodeUnknown;\n/**\n * @throws `ParseError`\n * @category validation\n * @since 0.67.0\n */\nconst validateSync = (schema, options) => getSync(_AST_js__WEBPACK_IMPORTED_MODULE_8__.typeAST(schema.ast), true, options);\n/**\n * @category validation\n * @since 0.67.0\n */\nconst validateOption = (schema, options) => getOption(_AST_js__WEBPACK_IMPORTED_MODULE_8__.typeAST(schema.ast), true, options);\n/**\n * @category validation\n * @since 0.67.0\n */\nconst validateEither = (schema, options) => getEither(_AST_js__WEBPACK_IMPORTED_MODULE_8__.typeAST(schema.ast), true, options);\n/**\n * @category validation\n * @since 0.67.0\n */\nconst validatePromise = (schema, options) => {\n  const parser = validate(schema, options);\n  return (u, overrideOptions) => effect_Effect__WEBPACK_IMPORTED_MODULE_6__.runPromise(parser(u, overrideOptions));\n};\n/**\n * @category validation\n * @since 0.67.0\n */\nconst validate = (schema, options) => getEffect(_AST_js__WEBPACK_IMPORTED_MODULE_8__.typeAST(schema.ast), true, options);\n/**\n * By default the option `exact` is set to `true`.\n *\n * @category validation\n * @since 0.67.0\n */\nconst is = (schema, options) => {\n  const parser = goMemo(_AST_js__WEBPACK_IMPORTED_MODULE_8__.typeAST(schema.ast), true);\n  return (u, overrideOptions) => effect_Either__WEBPACK_IMPORTED_MODULE_4__.isRight(parser(u, {\n    exact: true,\n    ...mergeInternalOptions(options, overrideOptions)\n  }));\n};\n/**\n * By default the option `exact` is set to `true`.\n *\n * @throws `ParseError`\n * @category validation\n * @since 0.67.0\n */\nconst asserts = (schema, options) => {\n  const parser = goMemo(_AST_js__WEBPACK_IMPORTED_MODULE_8__.typeAST(schema.ast), true);\n  return (u, overrideOptions) => {\n    const result = parser(u, {\n      exact: true,\n      ...mergeInternalOptions(options, overrideOptions)\n    });\n    if (effect_Either__WEBPACK_IMPORTED_MODULE_4__.isLeft(result)) {\n      throw parseError(result.left);\n    }\n  };\n};\n/**\n * @category encoding\n * @since 0.67.0\n */\nconst encodeSync = encodeUnknownSync;\n/**\n * @category encoding\n * @since 0.67.0\n */\nconst encodeOption = encodeUnknownOption;\n/**\n * @category encoding\n * @since 0.67.0\n */\nconst encodeEither = encodeUnknownEither;\n/**\n * @category encoding\n * @since 0.67.0\n */\nconst encodePromise = encodeUnknownPromise;\n/**\n * @category encoding\n * @since 0.67.0\n */\nconst encode = encodeUnknown;\nconst decodeMemoMap = /*#__PURE__*/(0,effect_GlobalValue__WEBPACK_IMPORTED_MODULE_9__.globalValue)( /*#__PURE__*/Symbol.for(\"@effect/schema/Parser/decodeMemoMap\"), () => new WeakMap());\nconst encodeMemoMap = /*#__PURE__*/(0,effect_GlobalValue__WEBPACK_IMPORTED_MODULE_9__.globalValue)( /*#__PURE__*/Symbol.for(\"@effect/schema/Parser/encodeMemoMap\"), () => new WeakMap());\nconst goMemo = (ast, isDecoding) => {\n  const memoMap = isDecoding ? decodeMemoMap : encodeMemoMap;\n  const memo = memoMap.get(ast);\n  if (memo) {\n    return memo;\n  }\n  const raw = go(ast, isDecoding);\n  const parseOptionsAnnotation = _AST_js__WEBPACK_IMPORTED_MODULE_8__.getParseOptionsAnnotation(ast);\n  const parser = effect_Option__WEBPACK_IMPORTED_MODULE_7__.isSome(parseOptionsAnnotation) ? (i, options) => raw(i, mergeInternalOptions(options, parseOptionsAnnotation.value)) : raw;\n  memoMap.set(ast, parser);\n  return parser;\n};\nconst getConcurrency = ast => effect_Option__WEBPACK_IMPORTED_MODULE_7__.getOrUndefined(_AST_js__WEBPACK_IMPORTED_MODULE_8__.getConcurrencyAnnotation(ast));\nconst getBatching = ast => effect_Option__WEBPACK_IMPORTED_MODULE_7__.getOrUndefined(_AST_js__WEBPACK_IMPORTED_MODULE_8__.getBatchingAnnotation(ast));\nconst go = (ast, isDecoding) => {\n  switch (ast._tag) {\n    case \"Refinement\":\n      {\n        if (isDecoding) {\n          const from = goMemo(ast.from, true);\n          return (i, options) => handleForbidden(flatMap(mapError(from(i, options), e => new Refinement(ast, i, \"From\", e)), a => effect_Option__WEBPACK_IMPORTED_MODULE_7__.match(ast.filter(a, options ?? _AST_js__WEBPACK_IMPORTED_MODULE_8__.defaultParseOption, ast), {\n            onNone: () => effect_Either__WEBPACK_IMPORTED_MODULE_4__.right(a),\n            onSome: e => effect_Either__WEBPACK_IMPORTED_MODULE_4__.left(new Refinement(ast, i, \"Predicate\", e))\n          })), ast, i, options);\n        } else {\n          const from = goMemo(_AST_js__WEBPACK_IMPORTED_MODULE_8__.typeAST(ast), true);\n          const to = goMemo(dropRightRefinement(ast.from), false);\n          return (i, options) => handleForbidden(flatMap(from(i, options), a => to(a, options)), ast, i, options);\n        }\n      }\n    case \"Transformation\":\n      {\n        const transform = getFinalTransformation(ast.transformation, isDecoding);\n        const from = isDecoding ? goMemo(ast.from, true) : goMemo(ast.to, false);\n        const to = isDecoding ? goMemo(ast.to, true) : goMemo(ast.from, false);\n        return (i1, options) => handleForbidden(flatMap(mapError(from(i1, options), e => new Transformation(ast, i1, isDecoding ? \"Encoded\" : \"Type\", e)), a => flatMap(mapError(transform(a, options ?? _AST_js__WEBPACK_IMPORTED_MODULE_8__.defaultParseOption, ast), e => new Transformation(ast, i1, \"Transformation\", e)), i2 => mapError(to(i2, options), e => new Transformation(ast, i1, isDecoding ? \"Type\" : \"Encoded\", e)))), ast, i1, options);\n      }\n    case \"Declaration\":\n      {\n        const parse = isDecoding ? ast.decodeUnknown(...ast.typeParameters) : ast.encodeUnknown(...ast.typeParameters);\n        return (i, options) => handleForbidden(parse(i, options ?? _AST_js__WEBPACK_IMPORTED_MODULE_8__.defaultParseOption, ast), ast, i, options);\n      }\n    case \"Literal\":\n      return fromRefinement(ast, u => u === ast.literal);\n    case \"UniqueSymbol\":\n      return fromRefinement(ast, u => u === ast.symbol);\n    case \"UndefinedKeyword\":\n      return fromRefinement(ast, effect_Predicate__WEBPACK_IMPORTED_MODULE_0__.isUndefined);\n    case \"VoidKeyword\":\n      return fromRefinement(ast, effect_Predicate__WEBPACK_IMPORTED_MODULE_0__.isUndefined);\n    case \"NeverKeyword\":\n      return fromRefinement(ast, effect_Predicate__WEBPACK_IMPORTED_MODULE_0__.isNever);\n    case \"UnknownKeyword\":\n    case \"AnyKeyword\":\n      return effect_Either__WEBPACK_IMPORTED_MODULE_4__.right;\n    case \"StringKeyword\":\n      return fromRefinement(ast, effect_Predicate__WEBPACK_IMPORTED_MODULE_0__.isString);\n    case \"NumberKeyword\":\n      return fromRefinement(ast, effect_Predicate__WEBPACK_IMPORTED_MODULE_0__.isNumber);\n    case \"BooleanKeyword\":\n      return fromRefinement(ast, effect_Predicate__WEBPACK_IMPORTED_MODULE_0__.isBoolean);\n    case \"BigIntKeyword\":\n      return fromRefinement(ast, effect_Predicate__WEBPACK_IMPORTED_MODULE_0__.isBigInt);\n    case \"SymbolKeyword\":\n      return fromRefinement(ast, effect_Predicate__WEBPACK_IMPORTED_MODULE_0__.isSymbol);\n    case \"ObjectKeyword\":\n      return fromRefinement(ast, effect_Predicate__WEBPACK_IMPORTED_MODULE_0__.isObject);\n    case \"Enums\":\n      return fromRefinement(ast, u => ast.enums.some(([_, value]) => value === u));\n    case \"TemplateLiteral\":\n      {\n        const regex = _AST_js__WEBPACK_IMPORTED_MODULE_8__.getTemplateLiteralRegExp(ast);\n        return fromRefinement(ast, u => effect_Predicate__WEBPACK_IMPORTED_MODULE_0__.isString(u) && regex.test(u));\n      }\n    case \"TupleType\":\n      {\n        const elements = ast.elements.map(e => goMemo(e.type, isDecoding));\n        const rest = ast.rest.map(annotatedAST => goMemo(annotatedAST.type, isDecoding));\n        let requiredTypes = ast.elements.filter(e => !e.isOptional);\n        if (ast.rest.length > 0) {\n          requiredTypes = requiredTypes.concat(ast.rest.slice(1));\n        }\n        const requiredLen = requiredTypes.length;\n        const expectedIndexes = ast.elements.length > 0 ? ast.elements.map((_, i) => i).join(\" | \") : \"never\";\n        const concurrency = getConcurrency(ast);\n        const batching = getBatching(ast);\n        return (input, options) => {\n          if (!effect_Array__WEBPACK_IMPORTED_MODULE_10__.isArray(input)) {\n            return effect_Either__WEBPACK_IMPORTED_MODULE_4__.left(new Type(ast, input));\n          }\n          const allErrors = options?.errors === \"all\";\n          const es = [];\n          let stepKey = 0;\n          const output = [];\n          // ---------------------------------------------\n          // handle missing indexes\n          // ---------------------------------------------\n          const len = input.length;\n          for (let i = len; i <= requiredLen - 1; i++) {\n            const e = new Pointer(i, input, new Missing(requiredTypes[i - len]));\n            if (allErrors) {\n              es.push([stepKey++, e]);\n              continue;\n            } else {\n              return effect_Either__WEBPACK_IMPORTED_MODULE_4__.left(new Composite(ast, input, e, output));\n            }\n          }\n          // ---------------------------------------------\n          // handle excess indexes\n          // ---------------------------------------------\n          if (ast.rest.length === 0) {\n            for (let i = ast.elements.length; i <= len - 1; i++) {\n              const e = new Pointer(i, input, new Unexpected(input[i], `is unexpected, expected: ${expectedIndexes}`));\n              if (allErrors) {\n                es.push([stepKey++, e]);\n                continue;\n              } else {\n                return effect_Either__WEBPACK_IMPORTED_MODULE_4__.left(new Composite(ast, input, e, output));\n              }\n            }\n          }\n          let i = 0;\n          let queue = undefined;\n          // ---------------------------------------------\n          // handle elements\n          // ---------------------------------------------\n          for (; i < elements.length; i++) {\n            if (len < i + 1) {\n              if (ast.elements[i].isOptional) {\n                // the input element is missing\n                continue;\n              }\n            } else {\n              const parser = elements[i];\n              const te = parser(input[i], options);\n              const eu = eitherOrUndefined(te);\n              if (eu) {\n                if (effect_Either__WEBPACK_IMPORTED_MODULE_4__.isLeft(eu)) {\n                  // the input element is present but is not valid\n                  const e = new Pointer(i, input, eu.left);\n                  if (allErrors) {\n                    es.push([stepKey++, e]);\n                    continue;\n                  } else {\n                    return effect_Either__WEBPACK_IMPORTED_MODULE_4__.left(new Composite(ast, input, e, sortByIndex(output)));\n                  }\n                }\n                output.push([stepKey++, eu.right]);\n              } else {\n                const nk = stepKey++;\n                const index = i;\n                if (!queue) {\n                  queue = [];\n                }\n                queue.push(({\n                  es,\n                  output\n                }) => effect_Effect__WEBPACK_IMPORTED_MODULE_6__.flatMap(effect_Effect__WEBPACK_IMPORTED_MODULE_6__.either(te), t => {\n                  if (effect_Either__WEBPACK_IMPORTED_MODULE_4__.isLeft(t)) {\n                    // the input element is present but is not valid\n                    const e = new Pointer(index, input, t.left);\n                    if (allErrors) {\n                      es.push([nk, e]);\n                      return effect_Effect__WEBPACK_IMPORTED_MODULE_6__[\"void\"];\n                    } else {\n                      return effect_Either__WEBPACK_IMPORTED_MODULE_4__.left(new Composite(ast, input, e, sortByIndex(output)));\n                    }\n                  }\n                  output.push([nk, t.right]);\n                  return effect_Effect__WEBPACK_IMPORTED_MODULE_6__[\"void\"];\n                }));\n              }\n            }\n          }\n          // ---------------------------------------------\n          // handle rest element\n          // ---------------------------------------------\n          if (effect_Array__WEBPACK_IMPORTED_MODULE_10__.isNonEmptyReadonlyArray(rest)) {\n            const [head, ...tail] = rest;\n            for (; i < len - tail.length; i++) {\n              const te = head(input[i], options);\n              const eu = eitherOrUndefined(te);\n              if (eu) {\n                if (effect_Either__WEBPACK_IMPORTED_MODULE_4__.isLeft(eu)) {\n                  const e = new Pointer(i, input, eu.left);\n                  if (allErrors) {\n                    es.push([stepKey++, e]);\n                    continue;\n                  } else {\n                    return effect_Either__WEBPACK_IMPORTED_MODULE_4__.left(new Composite(ast, input, e, sortByIndex(output)));\n                  }\n                } else {\n                  output.push([stepKey++, eu.right]);\n                }\n              } else {\n                const nk = stepKey++;\n                const index = i;\n                if (!queue) {\n                  queue = [];\n                }\n                queue.push(({\n                  es,\n                  output\n                }) => effect_Effect__WEBPACK_IMPORTED_MODULE_6__.flatMap(effect_Effect__WEBPACK_IMPORTED_MODULE_6__.either(te), t => {\n                  if (effect_Either__WEBPACK_IMPORTED_MODULE_4__.isLeft(t)) {\n                    const e = new Pointer(index, input, t.left);\n                    if (allErrors) {\n                      es.push([nk, e]);\n                      return effect_Effect__WEBPACK_IMPORTED_MODULE_6__[\"void\"];\n                    } else {\n                      return effect_Either__WEBPACK_IMPORTED_MODULE_4__.left(new Composite(ast, input, e, sortByIndex(output)));\n                    }\n                  } else {\n                    output.push([nk, t.right]);\n                    return effect_Effect__WEBPACK_IMPORTED_MODULE_6__[\"void\"];\n                  }\n                }));\n              }\n            }\n            // ---------------------------------------------\n            // handle post rest elements\n            // ---------------------------------------------\n            for (let j = 0; j < tail.length; j++) {\n              i += j;\n              if (len < i + 1) {\n                continue;\n              } else {\n                const te = tail[j](input[i], options);\n                const eu = eitherOrUndefined(te);\n                if (eu) {\n                  if (effect_Either__WEBPACK_IMPORTED_MODULE_4__.isLeft(eu)) {\n                    // the input element is present but is not valid\n                    const e = new Pointer(i, input, eu.left);\n                    if (allErrors) {\n                      es.push([stepKey++, e]);\n                      continue;\n                    } else {\n                      return effect_Either__WEBPACK_IMPORTED_MODULE_4__.left(new Composite(ast, input, e, sortByIndex(output)));\n                    }\n                  }\n                  output.push([stepKey++, eu.right]);\n                } else {\n                  const nk = stepKey++;\n                  const index = i;\n                  if (!queue) {\n                    queue = [];\n                  }\n                  queue.push(({\n                    es,\n                    output\n                  }) => effect_Effect__WEBPACK_IMPORTED_MODULE_6__.flatMap(effect_Effect__WEBPACK_IMPORTED_MODULE_6__.either(te), t => {\n                    if (effect_Either__WEBPACK_IMPORTED_MODULE_4__.isLeft(t)) {\n                      // the input element is present but is not valid\n                      const e = new Pointer(index, input, t.left);\n                      if (allErrors) {\n                        es.push([nk, e]);\n                        return effect_Effect__WEBPACK_IMPORTED_MODULE_6__[\"void\"];\n                      } else {\n                        return effect_Either__WEBPACK_IMPORTED_MODULE_4__.left(new Composite(ast, input, e, sortByIndex(output)));\n                      }\n                    }\n                    output.push([nk, t.right]);\n                    return effect_Effect__WEBPACK_IMPORTED_MODULE_6__[\"void\"];\n                  }));\n                }\n              }\n            }\n          }\n          // ---------------------------------------------\n          // compute result\n          // ---------------------------------------------\n          const computeResult = ({\n            es,\n            output\n          }) => effect_Array__WEBPACK_IMPORTED_MODULE_10__.isNonEmptyArray(es) ? effect_Either__WEBPACK_IMPORTED_MODULE_4__.left(new Composite(ast, input, sortByIndex(es), sortByIndex(output))) : effect_Either__WEBPACK_IMPORTED_MODULE_4__.right(sortByIndex(output));\n          if (queue && queue.length > 0) {\n            const cqueue = queue;\n            return effect_Effect__WEBPACK_IMPORTED_MODULE_6__.suspend(() => {\n              const state = {\n                es: effect_Array__WEBPACK_IMPORTED_MODULE_10__.copy(es),\n                output: effect_Array__WEBPACK_IMPORTED_MODULE_10__.copy(output)\n              };\n              return effect_Effect__WEBPACK_IMPORTED_MODULE_6__.flatMap(effect_Effect__WEBPACK_IMPORTED_MODULE_6__.forEach(cqueue, f => f(state), {\n                concurrency,\n                batching,\n                discard: true\n              }), () => computeResult(state));\n            });\n          }\n          return computeResult({\n            output,\n            es\n          });\n        };\n      }\n    case \"TypeLiteral\":\n      {\n        if (ast.propertySignatures.length === 0 && ast.indexSignatures.length === 0) {\n          return fromRefinement(ast, effect_Predicate__WEBPACK_IMPORTED_MODULE_0__.isNotNullable);\n        }\n        const propertySignatures = [];\n        const expectedKeysMap = {};\n        const expectedKeys = [];\n        for (const ps of ast.propertySignatures) {\n          propertySignatures.push([goMemo(ps.type, isDecoding), ps]);\n          expectedKeysMap[ps.name] = null;\n          expectedKeys.push(ps.name);\n        }\n        const indexSignatures = ast.indexSignatures.map(is => [goMemo(is.parameter, isDecoding), goMemo(is.type, isDecoding), is.parameter]);\n        const expectedAST = _AST_js__WEBPACK_IMPORTED_MODULE_8__.Union.make(ast.indexSignatures.map(is => is.parameter).concat(expectedKeys.map(key => effect_Predicate__WEBPACK_IMPORTED_MODULE_0__.isSymbol(key) ? new _AST_js__WEBPACK_IMPORTED_MODULE_8__.UniqueSymbol(key) : new _AST_js__WEBPACK_IMPORTED_MODULE_8__.Literal(key))));\n        const expected = goMemo(expectedAST, isDecoding);\n        const concurrency = getConcurrency(ast);\n        const batching = getBatching(ast);\n        return (input, options) => {\n          if (!effect_Predicate__WEBPACK_IMPORTED_MODULE_0__.isRecord(input)) {\n            return effect_Either__WEBPACK_IMPORTED_MODULE_4__.left(new Type(ast, input));\n          }\n          const allErrors = options?.errors === \"all\";\n          const es = [];\n          let stepKey = 0;\n          // ---------------------------------------------\n          // handle excess properties\n          // ---------------------------------------------\n          const onExcessPropertyError = options?.onExcessProperty === \"error\";\n          const onExcessPropertyPreserve = options?.onExcessProperty === \"preserve\";\n          const output = {};\n          let inputKeys;\n          if (onExcessPropertyError || onExcessPropertyPreserve) {\n            inputKeys = _internal_util_js__WEBPACK_IMPORTED_MODULE_11__.ownKeys(input);\n            for (const key of inputKeys) {\n              const eu = eitherOrUndefined(expected(key, options));\n              if (effect_Either__WEBPACK_IMPORTED_MODULE_4__.isLeft(eu)) {\n                // key is unexpected\n                if (onExcessPropertyError) {\n                  const e = new Pointer(key, input, new Unexpected(input[key], `is unexpected, expected: ${String(expectedAST)}`));\n                  if (allErrors) {\n                    es.push([stepKey++, e]);\n                    continue;\n                  } else {\n                    return effect_Either__WEBPACK_IMPORTED_MODULE_4__.left(new Composite(ast, input, e, output));\n                  }\n                } else {\n                  // preserve key\n                  output[key] = input[key];\n                }\n              }\n            }\n          }\n          let queue = undefined;\n          const isExact = options?.exact === true;\n          for (let i = 0; i < propertySignatures.length; i++) {\n            const ps = propertySignatures[i][1];\n            const name = ps.name;\n            const hasKey = Object.prototype.hasOwnProperty.call(input, name);\n            if (!hasKey) {\n              if (ps.isOptional) {\n                continue;\n              } else if (isExact) {\n                const e = new Pointer(name, input, new Missing(ps));\n                if (allErrors) {\n                  es.push([stepKey++, e]);\n                  continue;\n                } else {\n                  return effect_Either__WEBPACK_IMPORTED_MODULE_4__.left(new Composite(ast, input, e, output));\n                }\n              }\n            }\n            const parser = propertySignatures[i][0];\n            const te = parser(input[name], options);\n            const eu = eitherOrUndefined(te);\n            if (eu) {\n              if (effect_Either__WEBPACK_IMPORTED_MODULE_4__.isLeft(eu)) {\n                const e = new Pointer(name, input, hasKey ? eu.left : new Missing(ps));\n                if (allErrors) {\n                  es.push([stepKey++, e]);\n                  continue;\n                } else {\n                  return effect_Either__WEBPACK_IMPORTED_MODULE_4__.left(new Composite(ast, input, e, output));\n                }\n              }\n              output[name] = eu.right;\n            } else {\n              const nk = stepKey++;\n              const index = name;\n              if (!queue) {\n                queue = [];\n              }\n              queue.push(({\n                es,\n                output\n              }) => effect_Effect__WEBPACK_IMPORTED_MODULE_6__.flatMap(effect_Effect__WEBPACK_IMPORTED_MODULE_6__.either(te), t => {\n                if (effect_Either__WEBPACK_IMPORTED_MODULE_4__.isLeft(t)) {\n                  const e = new Pointer(index, input, hasKey ? t.left : new Missing(ps));\n                  if (allErrors) {\n                    es.push([nk, e]);\n                    return effect_Effect__WEBPACK_IMPORTED_MODULE_6__[\"void\"];\n                  } else {\n                    return effect_Either__WEBPACK_IMPORTED_MODULE_4__.left(new Composite(ast, input, e, output));\n                  }\n                }\n                output[index] = t.right;\n                return effect_Effect__WEBPACK_IMPORTED_MODULE_6__[\"void\"];\n              }));\n            }\n          }\n          // ---------------------------------------------\n          // handle index signatures\n          // ---------------------------------------------\n          for (let i = 0; i < indexSignatures.length; i++) {\n            const indexSignature = indexSignatures[i];\n            const parameter = indexSignature[0];\n            const type = indexSignature[1];\n            const keys = _internal_util_js__WEBPACK_IMPORTED_MODULE_11__.getKeysForIndexSignature(input, indexSignature[2]);\n            for (const key of keys) {\n              // ---------------------------------------------\n              // handle keys\n              // ---------------------------------------------\n              const keu = eitherOrUndefined(parameter(key, options));\n              if (keu && effect_Either__WEBPACK_IMPORTED_MODULE_4__.isRight(keu)) {\n                // ---------------------------------------------\n                // handle values\n                // ---------------------------------------------\n                const vpr = type(input[key], options);\n                const veu = eitherOrUndefined(vpr);\n                if (veu) {\n                  if (effect_Either__WEBPACK_IMPORTED_MODULE_4__.isLeft(veu)) {\n                    const e = new Pointer(key, input, veu.left);\n                    if (allErrors) {\n                      es.push([stepKey++, e]);\n                      continue;\n                    } else {\n                      return effect_Either__WEBPACK_IMPORTED_MODULE_4__.left(new Composite(ast, input, e, output));\n                    }\n                  } else {\n                    if (!Object.prototype.hasOwnProperty.call(expectedKeysMap, key)) {\n                      output[key] = veu.right;\n                    }\n                  }\n                } else {\n                  const nk = stepKey++;\n                  const index = key;\n                  if (!queue) {\n                    queue = [];\n                  }\n                  queue.push(({\n                    es,\n                    output\n                  }) => effect_Effect__WEBPACK_IMPORTED_MODULE_6__.flatMap(effect_Effect__WEBPACK_IMPORTED_MODULE_6__.either(vpr), tv => {\n                    if (effect_Either__WEBPACK_IMPORTED_MODULE_4__.isLeft(tv)) {\n                      const e = new Pointer(index, input, tv.left);\n                      if (allErrors) {\n                        es.push([nk, e]);\n                        return effect_Effect__WEBPACK_IMPORTED_MODULE_6__[\"void\"];\n                      } else {\n                        return effect_Either__WEBPACK_IMPORTED_MODULE_4__.left(new Composite(ast, input, e, output));\n                      }\n                    } else {\n                      if (!Object.prototype.hasOwnProperty.call(expectedKeysMap, key)) {\n                        output[key] = tv.right;\n                      }\n                      return effect_Effect__WEBPACK_IMPORTED_MODULE_6__[\"void\"];\n                    }\n                  }));\n                }\n              }\n            }\n          }\n          // ---------------------------------------------\n          // compute result\n          // ---------------------------------------------\n          const computeResult = ({\n            es,\n            output\n          }) => {\n            if (effect_Array__WEBPACK_IMPORTED_MODULE_10__.isNonEmptyArray(es)) {\n              return effect_Either__WEBPACK_IMPORTED_MODULE_4__.left(new Composite(ast, input, sortByIndex(es), output));\n            }\n            if (options?.propertyOrder === \"original\") {\n              // preserve input keys order\n              const keys = inputKeys || _internal_util_js__WEBPACK_IMPORTED_MODULE_11__.ownKeys(input);\n              for (const name of expectedKeys) {\n                if (keys.indexOf(name) === -1) {\n                  keys.push(name);\n                }\n              }\n              const out = {};\n              for (const key of keys) {\n                if (Object.prototype.hasOwnProperty.call(output, key)) {\n                  out[key] = output[key];\n                }\n              }\n              return effect_Either__WEBPACK_IMPORTED_MODULE_4__.right(out);\n            }\n            return effect_Either__WEBPACK_IMPORTED_MODULE_4__.right(output);\n          };\n          if (queue && queue.length > 0) {\n            const cqueue = queue;\n            return effect_Effect__WEBPACK_IMPORTED_MODULE_6__.suspend(() => {\n              const state = {\n                es: effect_Array__WEBPACK_IMPORTED_MODULE_10__.copy(es),\n                output: Object.assign({}, output)\n              };\n              return effect_Effect__WEBPACK_IMPORTED_MODULE_6__.flatMap(effect_Effect__WEBPACK_IMPORTED_MODULE_6__.forEach(cqueue, f => f(state), {\n                concurrency,\n                batching,\n                discard: true\n              }), () => computeResult(state));\n            });\n          }\n          return computeResult({\n            es,\n            output\n          });\n        };\n      }\n    case \"Union\":\n      {\n        const searchTree = getSearchTree(ast.types, isDecoding);\n        const ownKeys = _internal_util_js__WEBPACK_IMPORTED_MODULE_11__.ownKeys(searchTree.keys);\n        const len = ownKeys.length;\n        const map = new Map();\n        for (let i = 0; i < ast.types.length; i++) {\n          map.set(ast.types[i], goMemo(ast.types[i], isDecoding));\n        }\n        const concurrency = getConcurrency(ast) ?? 1;\n        const batching = getBatching(ast);\n        return (input, options) => {\n          const es = [];\n          let stepKey = 0;\n          let candidates = [];\n          if (len > 0) {\n            // if there is at least one key then input must be an object\n            if (effect_Predicate__WEBPACK_IMPORTED_MODULE_0__.isRecord(input)) {\n              for (let i = 0; i < len; i++) {\n                const name = ownKeys[i];\n                const buckets = searchTree.keys[name].buckets;\n                // for each property that should contain a literal, check if the input contains that property\n                if (Object.prototype.hasOwnProperty.call(input, name)) {\n                  const literal = String(input[name]);\n                  // check that the value obtained from the input for the property corresponds to an existing bucket\n                  if (Object.prototype.hasOwnProperty.call(buckets, literal)) {\n                    // retrive the minimal set of candidates for decoding\n                    candidates = candidates.concat(buckets[literal]);\n                  } else {\n                    const literals = _AST_js__WEBPACK_IMPORTED_MODULE_8__.Union.make(searchTree.keys[name].literals);\n                    es.push([stepKey++, new Composite(new _AST_js__WEBPACK_IMPORTED_MODULE_8__.TypeLiteral([new _AST_js__WEBPACK_IMPORTED_MODULE_8__.PropertySignature(name, literals, false, true)], []), input, new Pointer(name, input, new Type(literals, input[name])))]);\n                  }\n                } else {\n                  const literals = _AST_js__WEBPACK_IMPORTED_MODULE_8__.Union.make(searchTree.keys[name].literals);\n                  const fakeps = new _AST_js__WEBPACK_IMPORTED_MODULE_8__.PropertySignature(name, literals, false, true); // TODO: inherit message annotation from the union?\n                  es.push([stepKey++, new Composite(new _AST_js__WEBPACK_IMPORTED_MODULE_8__.TypeLiteral([fakeps], []), input, new Pointer(name, input, new Missing(fakeps)))]);\n                }\n              }\n            } else {\n              es.push([stepKey++, new Type(ast, input)]);\n            }\n          }\n          if (searchTree.otherwise.length > 0) {\n            candidates = candidates.concat(searchTree.otherwise);\n          }\n          let queue = undefined;\n          for (let i = 0; i < candidates.length; i++) {\n            const candidate = candidates[i];\n            const pr = map.get(candidate)(input, options);\n            // the members of a union are ordered based on which one should be decoded first,\n            // therefore if one member has added a task, all subsequent members must\n            // also add a task to the queue even if they are synchronous\n            const eu = !queue || queue.length === 0 ? eitherOrUndefined(pr) : undefined;\n            if (eu) {\n              if (effect_Either__WEBPACK_IMPORTED_MODULE_4__.isRight(eu)) {\n                return effect_Either__WEBPACK_IMPORTED_MODULE_4__.right(eu.right);\n              } else {\n                es.push([stepKey++, eu.left]);\n              }\n            } else {\n              const nk = stepKey++;\n              if (!queue) {\n                queue = [];\n              }\n              queue.push(state => effect_Effect__WEBPACK_IMPORTED_MODULE_6__.suspend(() => {\n                if (\"finalResult\" in state) {\n                  return effect_Effect__WEBPACK_IMPORTED_MODULE_6__[\"void\"];\n                } else {\n                  return effect_Effect__WEBPACK_IMPORTED_MODULE_6__.flatMap(effect_Effect__WEBPACK_IMPORTED_MODULE_6__.either(pr), t => {\n                    if (effect_Either__WEBPACK_IMPORTED_MODULE_4__.isRight(t)) {\n                      state.finalResult = effect_Either__WEBPACK_IMPORTED_MODULE_4__.right(t.right);\n                    } else {\n                      state.es.push([nk, t.left]);\n                    }\n                    return effect_Effect__WEBPACK_IMPORTED_MODULE_6__[\"void\"];\n                  });\n                }\n              }));\n            }\n          }\n          // ---------------------------------------------\n          // compute result\n          // ---------------------------------------------\n          const computeResult = es => effect_Array__WEBPACK_IMPORTED_MODULE_10__.isNonEmptyArray(es) ? es.length === 1 && es[0][1]._tag === \"Type\" ? effect_Either__WEBPACK_IMPORTED_MODULE_4__.left(es[0][1]) : effect_Either__WEBPACK_IMPORTED_MODULE_4__.left(new Composite(ast, input, sortByIndex(es))) :\n          // this should never happen\n          effect_Either__WEBPACK_IMPORTED_MODULE_4__.left(new Type(ast, input));\n          if (queue && queue.length > 0) {\n            const cqueue = queue;\n            return effect_Effect__WEBPACK_IMPORTED_MODULE_6__.suspend(() => {\n              const state = {\n                es: effect_Array__WEBPACK_IMPORTED_MODULE_10__.copy(es)\n              };\n              return effect_Effect__WEBPACK_IMPORTED_MODULE_6__.flatMap(effect_Effect__WEBPACK_IMPORTED_MODULE_6__.forEach(cqueue, f => f(state), {\n                concurrency,\n                batching,\n                discard: true\n              }), () => {\n                if (\"finalResult\" in state) {\n                  return state.finalResult;\n                }\n                return computeResult(state.es);\n              });\n            });\n          }\n          return computeResult(es);\n        };\n      }\n    case \"Suspend\":\n      {\n        const get = _internal_util_js__WEBPACK_IMPORTED_MODULE_11__.memoizeThunk(() => goMemo(_AST_js__WEBPACK_IMPORTED_MODULE_8__.annotations(ast.f(), ast.annotations), isDecoding));\n        return (a, options) => get()(a, options);\n      }\n  }\n};\nconst fromRefinement = (ast, refinement) => u => refinement(u) ? effect_Either__WEBPACK_IMPORTED_MODULE_4__.right(u) : effect_Either__WEBPACK_IMPORTED_MODULE_4__.left(new Type(ast, u));\n/** @internal */\nconst getLiterals = (ast, isDecoding) => {\n  switch (ast._tag) {\n    case \"Declaration\":\n      {\n        const annotation = _AST_js__WEBPACK_IMPORTED_MODULE_8__.getSurrogateAnnotation(ast);\n        if (effect_Option__WEBPACK_IMPORTED_MODULE_7__.isSome(annotation)) {\n          return getLiterals(annotation.value, isDecoding);\n        }\n        break;\n      }\n    case \"TypeLiteral\":\n      {\n        const out = [];\n        for (let i = 0; i < ast.propertySignatures.length; i++) {\n          const propertySignature = ast.propertySignatures[i];\n          const type = isDecoding ? _AST_js__WEBPACK_IMPORTED_MODULE_8__.encodedAST(propertySignature.type) : _AST_js__WEBPACK_IMPORTED_MODULE_8__.typeAST(propertySignature.type);\n          if (_AST_js__WEBPACK_IMPORTED_MODULE_8__.isLiteral(type) && !propertySignature.isOptional) {\n            out.push([propertySignature.name, type]);\n          }\n        }\n        return out;\n      }\n    case \"Refinement\":\n      return getLiterals(ast.from, isDecoding);\n    case \"Suspend\":\n      return getLiterals(ast.f(), isDecoding);\n    case \"Transformation\":\n      return getLiterals(isDecoding ? ast.from : ast.to, isDecoding);\n  }\n  return [];\n};\n/**\n * The purpose of the algorithm is to narrow down the pool of possible candidates for decoding as much as possible.\n *\n * This function separates the schemas into two groups, `keys` and `otherwise`:\n *\n * - `keys`: the schema has at least one property with a literal value\n * - `otherwise`: the schema has no properties with a literal value\n *\n * If a schema has at least one property with a literal value, so it ends up in `keys`, first a namespace is created for\n * the name of the property containing the literal, and then within this namespace a \"bucket\" is created for the literal\n * value in which to store all the schemas that have the same property and literal value.\n *\n * @internal\n */\nconst getSearchTree = (members, isDecoding) => {\n  const keys = {};\n  const otherwise = [];\n  for (let i = 0; i < members.length; i++) {\n    const member = members[i];\n    const tags = getLiterals(member, isDecoding);\n    if (tags.length > 0) {\n      for (let j = 0; j < tags.length; j++) {\n        const [key, literal] = tags[j];\n        const hash = String(literal.literal);\n        keys[key] = keys[key] || {\n          buckets: {},\n          literals: []\n        };\n        const buckets = keys[key].buckets;\n        if (Object.prototype.hasOwnProperty.call(buckets, hash)) {\n          if (j < tags.length - 1) {\n            continue;\n          }\n          buckets[hash].push(member);\n          keys[key].literals.push(literal);\n        } else {\n          buckets[hash] = [member];\n          keys[key].literals.push(literal);\n          break;\n        }\n      }\n    } else {\n      otherwise.push(member);\n    }\n  }\n  return {\n    keys,\n    otherwise\n  };\n};\nconst dropRightRefinement = ast => _AST_js__WEBPACK_IMPORTED_MODULE_8__.isRefinement(ast) ? dropRightRefinement(ast.from) : ast;\nconst handleForbidden = (effect, ast, actual, options) => {\n  const eu = eitherOrUndefined(effect);\n  if (eu) {\n    return eu;\n  }\n  if (options?.isEffectAllowed === true) {\n    return effect;\n  }\n  try {\n    return effect_Effect__WEBPACK_IMPORTED_MODULE_6__.runSync(effect_Effect__WEBPACK_IMPORTED_MODULE_6__.either(effect));\n  } catch (e) {\n    return effect_Either__WEBPACK_IMPORTED_MODULE_4__.left(new Forbidden(ast, actual, \"cannot be be resolved synchronously, this is caused by using runSync on an effect that performs async work\"));\n  }\n};\nconst compare = ([a], [b]) => a > b ? 1 : a < b ? -1 : 0;\nfunction sortByIndex(es) {\n  return es.sort(compare).map(t => t[1]);\n}\n// -------------------------------------------------------------------------------------\n// transformations interpreter\n// -------------------------------------------------------------------------------------\n/** @internal */\nconst getFinalTransformation = (transformation, isDecoding) => {\n  switch (transformation._tag) {\n    case \"FinalTransformation\":\n      return isDecoding ? transformation.decode : transformation.encode;\n    case \"ComposeTransformation\":\n      return effect_Either__WEBPACK_IMPORTED_MODULE_4__.right;\n    case \"TypeLiteralTransformation\":\n      return input => {\n        let out = effect_Either__WEBPACK_IMPORTED_MODULE_4__.right(input);\n        // ---------------------------------------------\n        // handle property signature transformations\n        // ---------------------------------------------\n        for (const pst of transformation.propertySignatureTransformations) {\n          const [from, to] = isDecoding ? [pst.from, pst.to] : [pst.to, pst.from];\n          const transformation = isDecoding ? pst.decode : pst.encode;\n          const f = input => {\n            const o = transformation(Object.prototype.hasOwnProperty.call(input, from) ? effect_Option__WEBPACK_IMPORTED_MODULE_7__.some(input[from]) : effect_Option__WEBPACK_IMPORTED_MODULE_7__.none());\n            delete input[from];\n            if (effect_Option__WEBPACK_IMPORTED_MODULE_7__.isSome(o)) {\n              input[to] = o.value;\n            }\n            return input;\n          };\n          out = map(out, f);\n        }\n        return out;\n      };\n  }\n};\n//# sourceMappingURL=ParseResult.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGVmZmVjdC9zY2hlbWEvZGlzdC9lc20vUGFyc2VSZXN1bHQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ3VDO0FBQ0c7QUFDRjtBQUNBO0FBQ0Q7QUFDVTtBQUNDO0FBQ1Y7QUFDTTtBQUNkO0FBQ1k7QUFDUTtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ08seUJBQXlCLHlEQUFxQjtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7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QTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2FzZWNvYnJhLWRldi8uL25vZGVfbW9kdWxlcy9AZWZmZWN0L3NjaGVtYS9kaXN0L2VzbS9QYXJzZVJlc3VsdC5qcz9hM2IzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQHNpbmNlIDAuNjcuMFxuICovXG5pbXBvcnQgKiBhcyBhcnJheV8gZnJvbSBcImVmZmVjdC9BcnJheVwiO1xuaW1wb3J0IHsgVGFnZ2VkRXJyb3IgfSBmcm9tIFwiZWZmZWN0L0RhdGFcIjtcbmltcG9ydCAqIGFzIEVmZmVjdCBmcm9tIFwiZWZmZWN0L0VmZmVjdFwiO1xuaW1wb3J0ICogYXMgRWl0aGVyIGZyb20gXCJlZmZlY3QvRWl0aGVyXCI7XG5pbXBvcnQgeyBkdWFsIH0gZnJvbSBcImVmZmVjdC9GdW5jdGlvblwiO1xuaW1wb3J0IHsgZ2xvYmFsVmFsdWUgfSBmcm9tIFwiZWZmZWN0L0dsb2JhbFZhbHVlXCI7XG5pbXBvcnQgKiBhcyBJbnNwZWN0YWJsZSBmcm9tIFwiZWZmZWN0L0luc3BlY3RhYmxlXCI7XG5pbXBvcnQgKiBhcyBPcHRpb24gZnJvbSBcImVmZmVjdC9PcHRpb25cIjtcbmltcG9ydCAqIGFzIFByZWRpY2F0ZSBmcm9tIFwiZWZmZWN0L1ByZWRpY2F0ZVwiO1xuaW1wb3J0ICogYXMgQVNUIGZyb20gXCIuL0FTVC5qc1wiO1xuaW1wb3J0ICogYXMgdXRpbF8gZnJvbSBcIi4vaW50ZXJuYWwvdXRpbC5qc1wiO1xuaW1wb3J0ICogYXMgVHJlZUZvcm1hdHRlciBmcm9tIFwiLi9UcmVlRm9ybWF0dGVyLmpzXCI7XG4vKipcbiAqIEBjYXRlZ29yeSBtb2RlbFxuICogQHNpbmNlIDAuNjguMFxuICovXG5leHBvcnQgY2xhc3MgUG9pbnRlciB7XG4gIHBhdGg7XG4gIGFjdHVhbDtcbiAgaXNzdWU7XG4gIC8qKlxuICAgKiBAc2luY2UgMC42OC4wXG4gICAqL1xuICBfdGFnID0gXCJQb2ludGVyXCI7XG4gIGNvbnN0cnVjdG9yKHBhdGgsIGFjdHVhbCwgaXNzdWUpIHtcbiAgICB0aGlzLnBhdGggPSBwYXRoO1xuICAgIHRoaXMuYWN0dWFsID0gYWN0dWFsO1xuICAgIHRoaXMuaXNzdWUgPSBpc3N1ZTtcbiAgfVxufVxuLyoqXG4gKiBFcnJvciB0aGF0IG9jY3VycyB3aGVuIGFuIHVuZXhwZWN0ZWQga2V5IG9yIGluZGV4IGlzIHByZXNlbnQuXG4gKlxuICogQGNhdGVnb3J5IG1vZGVsXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjbGFzcyBVbmV4cGVjdGVkIHtcbiAgYWN0dWFsO1xuICBtZXNzYWdlO1xuICAvKipcbiAgICogQHNpbmNlIDAuNjcuMFxuICAgKi9cbiAgX3RhZyA9IFwiVW5leHBlY3RlZFwiO1xuICBjb25zdHJ1Y3RvcihhY3R1YWwsXG4gIC8qKlxuICAgKiBAc2luY2UgMC42OC4wXG4gICAqL1xuICBtZXNzYWdlKSB7XG4gICAgdGhpcy5hY3R1YWwgPSBhY3R1YWw7XG4gICAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZTtcbiAgfVxufVxuLyoqXG4gKiBFcnJvciB0aGF0IG9jY3VycyB3aGVuIGEgcmVxdWlyZWQga2V5IG9yIGluZGV4IGlzIG1pc3NpbmcuXG4gKlxuICogQGNhdGVnb3J5IG1vZGVsXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjbGFzcyBNaXNzaW5nIHtcbiAgYXN0O1xuICBtZXNzYWdlO1xuICAvKipcbiAgICogQHNpbmNlIDAuNjcuMFxuICAgKi9cbiAgX3RhZyA9IFwiTWlzc2luZ1wiO1xuICAvKipcbiAgICogQHNpbmNlIDAuNjguMFxuICAgKi9cbiAgYWN0dWFsID0gdW5kZWZpbmVkO1xuICBjb25zdHJ1Y3RvcihcbiAgLyoqXG4gICAqIEBzaW5jZSAwLjY4LjBcbiAgICovXG4gIGFzdCxcbiAgLyoqXG4gICAqIEBzaW5jZSAwLjY4LjBcbiAgICovXG4gIG1lc3NhZ2UpIHtcbiAgICB0aGlzLmFzdCA9IGFzdDtcbiAgICB0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlO1xuICB9XG59XG4vKipcbiAqIEVycm9yIHRoYXQgY29udGFpbnMgbXVsdGlwbGUgaXNzdWVzLlxuICpcbiAqIEBjYXRlZ29yeSBtb2RlbFxuICogQHNpbmNlIDAuNjguMFxuICovXG5leHBvcnQgY2xhc3MgQ29tcG9zaXRlIHtcbiAgYXN0O1xuICBhY3R1YWw7XG4gIGlzc3VlcztcbiAgb3V0cHV0O1xuICAvKipcbiAgICogQHNpbmNlIDAuNjguMFxuICAgKi9cbiAgX3RhZyA9IFwiQ29tcG9zaXRlXCI7XG4gIGNvbnN0cnVjdG9yKGFzdCwgYWN0dWFsLCBpc3N1ZXMsIG91dHB1dCkge1xuICAgIHRoaXMuYXN0ID0gYXN0O1xuICAgIHRoaXMuYWN0dWFsID0gYWN0dWFsO1xuICAgIHRoaXMuaXNzdWVzID0gaXNzdWVzO1xuICAgIHRoaXMub3V0cHV0ID0gb3V0cHV0O1xuICB9XG59XG4vKipcbiAqIFJldHVybnMgYHRydWVgIGlmIHRoZSB2YWx1ZSBpcyBhIGBDb21wb3NpdGVgLlxuICpcbiAqIEBjYXRlZ29yeSBndWFyZHNcbiAqIEBzaW5jZSAwLjY4LjBcbiAqL1xuZXhwb3J0IGNvbnN0IGlzQ29tcG9zaXRlID0gdSA9PiBQcmVkaWNhdGUuaGFzUHJvcGVydHkodSwgXCJfdGFnXCIpO1xuLyoqXG4gKiBFcnJvciB0aGF0IG9jY3VycyB3aGVuIGEgcmVmaW5lbWVudCBoYXMgYW4gZXJyb3IuXG4gKlxuICogQGNhdGVnb3J5IG1vZGVsXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjbGFzcyBSZWZpbmVtZW50IHtcbiAgYXN0O1xuICBhY3R1YWw7XG4gIGtpbmQ7XG4gIGlzc3VlO1xuICAvKipcbiAgICogQHNpbmNlIDAuNjcuMFxuICAgKi9cbiAgX3RhZyA9IFwiUmVmaW5lbWVudFwiO1xuICBjb25zdHJ1Y3Rvcihhc3QsIGFjdHVhbCwga2luZCwgaXNzdWUpIHtcbiAgICB0aGlzLmFzdCA9IGFzdDtcbiAgICB0aGlzLmFjdHVhbCA9IGFjdHVhbDtcbiAgICB0aGlzLmtpbmQgPSBraW5kO1xuICAgIHRoaXMuaXNzdWUgPSBpc3N1ZTtcbiAgfVxufVxuLyoqXG4gKiBFcnJvciB0aGF0IG9jY3VycyB3aGVuIGEgdHJhbnNmb3JtYXRpb24gaGFzIGFuIGVycm9yLlxuICpcbiAqIEBjYXRlZ29yeSBtb2RlbFxuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY2xhc3MgVHJhbnNmb3JtYXRpb24ge1xuICBhc3Q7XG4gIGFjdHVhbDtcbiAga2luZDtcbiAgaXNzdWU7XG4gIC8qKlxuICAgKiBAc2luY2UgMC42Ny4wXG4gICAqL1xuICBfdGFnID0gXCJUcmFuc2Zvcm1hdGlvblwiO1xuICBjb25zdHJ1Y3Rvcihhc3QsIGFjdHVhbCwga2luZCwgaXNzdWUpIHtcbiAgICB0aGlzLmFzdCA9IGFzdDtcbiAgICB0aGlzLmFjdHVhbCA9IGFjdHVhbDtcbiAgICB0aGlzLmtpbmQgPSBraW5kO1xuICAgIHRoaXMuaXNzdWUgPSBpc3N1ZTtcbiAgfVxufVxuLyoqXG4gKiBUaGUgYFR5cGVgIHZhcmlhbnQgb2YgdGhlIGBQYXJzZUlzc3VlYCB0eXBlIHJlcHJlc2VudHMgYW4gZXJyb3IgdGhhdCBvY2N1cnMgd2hlbiB0aGUgYGFjdHVhbGAgdmFsdWUgaXMgbm90IG9mIHRoZSBleHBlY3RlZCB0eXBlLlxuICogVGhlIGBhc3RgIGZpZWxkIHNwZWNpZmllcyB0aGUgZXhwZWN0ZWQgdHlwZSwgYW5kIHRoZSBgYWN0dWFsYCBmaWVsZCBjb250YWlucyB0aGUgdmFsdWUgdGhhdCBjYXVzZWQgdGhlIGVycm9yLlxuICpcbiAqIEBjYXRlZ29yeSBtb2RlbFxuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY2xhc3MgVHlwZSB7XG4gIGFzdDtcbiAgYWN0dWFsO1xuICBtZXNzYWdlO1xuICAvKipcbiAgICogQHNpbmNlIDAuNjcuMFxuICAgKi9cbiAgX3RhZyA9IFwiVHlwZVwiO1xuICBjb25zdHJ1Y3Rvcihhc3QsIGFjdHVhbCwgbWVzc2FnZSkge1xuICAgIHRoaXMuYXN0ID0gYXN0O1xuICAgIHRoaXMuYWN0dWFsID0gYWN0dWFsO1xuICAgIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XG4gIH1cbn1cbi8qKlxuICogVGhlIGBGb3JiaWRkZW5gIHZhcmlhbnQgb2YgdGhlIGBQYXJzZUlzc3VlYCB0eXBlIHJlcHJlc2VudHMgYSBmb3JiaWRkZW4gb3BlcmF0aW9uLCBzdWNoIGFzIHdoZW4gZW5jb3VudGVyaW5nIGFuIEVmZmVjdCB0aGF0IGlzIG5vdCBhbGxvd2VkIHRvIGV4ZWN1dGUgKGUuZy4sIHVzaW5nIGBydW5TeW5jYCkuXG4gKlxuICogQGNhdGVnb3J5IG1vZGVsXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjbGFzcyBGb3JiaWRkZW4ge1xuICBhc3Q7XG4gIGFjdHVhbDtcbiAgbWVzc2FnZTtcbiAgLyoqXG4gICAqIEBzaW5jZSAwLjY3LjBcbiAgICovXG4gIF90YWcgPSBcIkZvcmJpZGRlblwiO1xuICBjb25zdHJ1Y3Rvcihhc3QsIGFjdHVhbCwgbWVzc2FnZSkge1xuICAgIHRoaXMuYXN0ID0gYXN0O1xuICAgIHRoaXMuYWN0dWFsID0gYWN0dWFsO1xuICAgIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XG4gIH1cbn1cbi8qKlxuICogQGNhdGVnb3J5IHR5cGUgaWRcbiAqIEBzaW5jZSAwLjY4LjBcbiAqL1xuZXhwb3J0IGNvbnN0IFBhcnNlRXJyb3JUeXBlSWQgPSAvKiNfX1BVUkVfXyovU3ltYm9sLmZvcihcIkBlZmZlY3Qvc2NoZW1hL1BhcnNlRXJyb3JUeXBlSWRcIik7XG4vKipcbiAqIEBzaW5jZSAwLjY4LjBcbiAqL1xuZXhwb3J0IGNvbnN0IGlzUGFyc2VFcnJvciA9IHUgPT4gUHJlZGljYXRlLmhhc1Byb3BlcnR5KHUsIFBhcnNlRXJyb3JUeXBlSWQpO1xuLyoqXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjbGFzcyBQYXJzZUVycm9yIGV4dGVuZHMgVGFnZ2VkRXJyb3IoXCJQYXJzZUVycm9yXCIpIHtcbiAgLyoqXG4gICAqIEBzaW5jZSAwLjY4LjBcbiAgICovXG4gIFtQYXJzZUVycm9yVHlwZUlkXSA9IFBhcnNlRXJyb3JUeXBlSWQ7XG4gIGdldCBtZXNzYWdlKCkge1xuICAgIHJldHVybiB0aGlzLnRvU3RyaW5nKCk7XG4gIH1cbiAgLyoqXG4gICAqIEBzaW5jZSAwLjY3LjBcbiAgICovXG4gIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiBUcmVlRm9ybWF0dGVyLmZvcm1hdElzc3VlU3luYyh0aGlzLmlzc3VlKTtcbiAgfVxuICAvKipcbiAgICogQHNpbmNlIDAuNjcuMFxuICAgKi9cbiAgdG9KU09OKCkge1xuICAgIHJldHVybiB7XG4gICAgICBfaWQ6IFwiUGFyc2VFcnJvclwiLFxuICAgICAgbWVzc2FnZTogdGhpcy50b1N0cmluZygpXG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogQHNpbmNlIDAuNjcuMFxuICAgKi9cbiAgW0luc3BlY3RhYmxlLk5vZGVJbnNwZWN0U3ltYm9sXSgpIHtcbiAgICByZXR1cm4gdGhpcy50b0pTT04oKTtcbiAgfVxufVxuLyoqXG4gKiBAY2F0ZWdvcnkgY29uc3RydWN0b3JzXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjb25zdCBwYXJzZUVycm9yID0gaXNzdWUgPT4gbmV3IFBhcnNlRXJyb3Ioe1xuICBpc3N1ZVxufSk7XG4vKipcbiAqIEBjYXRlZ29yeSBjb25zdHJ1Y3RvcnNcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNvbnN0IHN1Y2NlZWQgPSBFaXRoZXIucmlnaHQ7XG4vKipcbiAqIEBjYXRlZ29yeSBjb25zdHJ1Y3RvcnNcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNvbnN0IGZhaWwgPSBFaXRoZXIubGVmdDtcbmNvbnN0IF90cnkgPSBFaXRoZXIudHJ5O1xuZXhwb3J0IHtcbi8qKlxuICogQGNhdGVnb3J5IGNvbnN0cnVjdG9yc1xuICogQHNpbmNlIDAuNjcuMFxuICovXG5fdHJ5IGFzIHRyeSB9O1xuLyoqXG4gKiBAY2F0ZWdvcnkgY29uc3RydWN0b3JzXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjb25zdCBmcm9tT3B0aW9uID0gRWl0aGVyLmZyb21PcHRpb247XG4vKipcbiAqIEBjYXRlZ29yeSBvcHRpbWlzYXRpb25cbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNvbnN0IGZsYXRNYXAgPSAvKiNfX1BVUkVfXyovZHVhbCgyLCAoc2VsZiwgZikgPT4ge1xuICBjb25zdCBzID0gc2VsZjtcbiAgaWYgKHNbXCJfdGFnXCJdID09PSBcIkxlZnRcIikge1xuICAgIHJldHVybiBzO1xuICB9XG4gIGlmIChzW1wiX3RhZ1wiXSA9PT0gXCJSaWdodFwiKSB7XG4gICAgcmV0dXJuIGYocy5yaWdodCk7XG4gIH1cbiAgcmV0dXJuIEVmZmVjdC5mbGF0TWFwKHNlbGYsIGYpO1xufSk7XG4vKipcbiAqIEBjYXRlZ29yeSBvcHRpbWlzYXRpb25cbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNvbnN0IG1hcCA9IC8qI19fUFVSRV9fKi9kdWFsKDIsIChzZWxmLCBmKSA9PiB7XG4gIGNvbnN0IHMgPSBzZWxmO1xuICBpZiAoc1tcIl90YWdcIl0gPT09IFwiTGVmdFwiKSB7XG4gICAgcmV0dXJuIHM7XG4gIH1cbiAgaWYgKHNbXCJfdGFnXCJdID09PSBcIlJpZ2h0XCIpIHtcbiAgICByZXR1cm4gRWl0aGVyLnJpZ2h0KGYocy5yaWdodCkpO1xuICB9XG4gIHJldHVybiBFZmZlY3QubWFwKHNlbGYsIGYpO1xufSk7XG4vKipcbiAqIEBjYXRlZ29yeSBvcHRpbWlzYXRpb25cbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNvbnN0IG1hcEVycm9yID0gLyojX19QVVJFX18qL2R1YWwoMiwgKHNlbGYsIGYpID0+IHtcbiAgY29uc3QgcyA9IHNlbGY7XG4gIGlmIChzW1wiX3RhZ1wiXSA9PT0gXCJMZWZ0XCIpIHtcbiAgICByZXR1cm4gRWl0aGVyLmxlZnQoZihzLmxlZnQpKTtcbiAgfVxuICBpZiAoc1tcIl90YWdcIl0gPT09IFwiUmlnaHRcIikge1xuICAgIHJldHVybiBzO1xuICB9XG4gIHJldHVybiBFZmZlY3QubWFwRXJyb3Ioc2VsZiwgZik7XG59KTtcbi8qKlxuICogQGNhdGVnb3J5IG9wdGltaXNhdGlvblxuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY29uc3QgZWl0aGVyT3JVbmRlZmluZWQgPSBzZWxmID0+IHtcbiAgY29uc3QgcyA9IHNlbGY7XG4gIGlmIChzW1wiX3RhZ1wiXSA9PT0gXCJMZWZ0XCIgfHwgc1tcIl90YWdcIl0gPT09IFwiUmlnaHRcIikge1xuICAgIHJldHVybiBzO1xuICB9XG59O1xuLyoqXG4gKiBAY2F0ZWdvcnkgb3B0aW1pc2F0aW9uXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjb25zdCBtYXBCb3RoID0gLyojX19QVVJFX18qL2R1YWwoMiwgKHNlbGYsIG9wdGlvbnMpID0+IHtcbiAgY29uc3QgcyA9IHNlbGY7XG4gIGlmIChzW1wiX3RhZ1wiXSA9PT0gXCJMZWZ0XCIpIHtcbiAgICByZXR1cm4gRWl0aGVyLmxlZnQob3B0aW9ucy5vbkZhaWx1cmUocy5sZWZ0KSk7XG4gIH1cbiAgaWYgKHNbXCJfdGFnXCJdID09PSBcIlJpZ2h0XCIpIHtcbiAgICByZXR1cm4gRWl0aGVyLnJpZ2h0KG9wdGlvbnMub25TdWNjZXNzKHMucmlnaHQpKTtcbiAgfVxuICByZXR1cm4gRWZmZWN0Lm1hcEJvdGgoc2VsZiwgb3B0aW9ucyk7XG59KTtcbi8qKlxuICogQGNhdGVnb3J5IG9wdGltaXNhdGlvblxuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY29uc3Qgb3JFbHNlID0gLyojX19QVVJFX18qL2R1YWwoMiwgKHNlbGYsIGYpID0+IHtcbiAgY29uc3QgcyA9IHNlbGY7XG4gIGlmIChzW1wiX3RhZ1wiXSA9PT0gXCJMZWZ0XCIpIHtcbiAgICByZXR1cm4gZihzLmxlZnQpO1xuICB9XG4gIGlmIChzW1wiX3RhZ1wiXSA9PT0gXCJSaWdodFwiKSB7XG4gICAgcmV0dXJuIHM7XG4gIH1cbiAgcmV0dXJuIEVmZmVjdC5jYXRjaEFsbChzZWxmLCBmKTtcbn0pO1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IG1lcmdlSW50ZXJuYWxPcHRpb25zID0gKG9wdGlvbnMsIG92ZXJyaWRlT3B0aW9ucykgPT4ge1xuICBpZiAob3ZlcnJpZGVPcHRpb25zID09PSB1bmRlZmluZWQgfHwgUHJlZGljYXRlLmlzTnVtYmVyKG92ZXJyaWRlT3B0aW9ucykpIHtcbiAgICByZXR1cm4gb3B0aW9ucztcbiAgfVxuICBpZiAob3B0aW9ucyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIG92ZXJyaWRlT3B0aW9ucztcbiAgfVxuICByZXR1cm4ge1xuICAgIC4uLm9wdGlvbnMsXG4gICAgLi4ub3ZlcnJpZGVPcHRpb25zXG4gIH07XG59O1xuY29uc3QgZ2V0RWl0aGVyID0gKGFzdCwgaXNEZWNvZGluZywgb3B0aW9ucykgPT4ge1xuICBjb25zdCBwYXJzZXIgPSBnb01lbW8oYXN0LCBpc0RlY29kaW5nKTtcbiAgcmV0dXJuICh1LCBvdmVycmlkZU9wdGlvbnMpID0+IHBhcnNlcih1LCBtZXJnZUludGVybmFsT3B0aW9ucyhvcHRpb25zLCBvdmVycmlkZU9wdGlvbnMpKTtcbn07XG5jb25zdCBnZXRTeW5jID0gKGFzdCwgaXNEZWNvZGluZywgb3B0aW9ucykgPT4ge1xuICBjb25zdCBwYXJzZXIgPSBnZXRFaXRoZXIoYXN0LCBpc0RlY29kaW5nLCBvcHRpb25zKTtcbiAgcmV0dXJuIChpbnB1dCwgb3ZlcnJpZGVPcHRpb25zKSA9PiBFaXRoZXIuZ2V0T3JUaHJvd1dpdGgocGFyc2VyKGlucHV0LCBvdmVycmlkZU9wdGlvbnMpLCBwYXJzZUVycm9yKTtcbn07XG5jb25zdCBnZXRPcHRpb24gPSAoYXN0LCBpc0RlY29kaW5nLCBvcHRpb25zKSA9PiB7XG4gIGNvbnN0IHBhcnNlciA9IGdldEVpdGhlcihhc3QsIGlzRGVjb2RpbmcsIG9wdGlvbnMpO1xuICByZXR1cm4gKGlucHV0LCBvdmVycmlkZU9wdGlvbnMpID0+IE9wdGlvbi5nZXRSaWdodChwYXJzZXIoaW5wdXQsIG92ZXJyaWRlT3B0aW9ucykpO1xufTtcbmNvbnN0IGdldEVmZmVjdCA9IChhc3QsIGlzRGVjb2RpbmcsIG9wdGlvbnMpID0+IHtcbiAgY29uc3QgcGFyc2VyID0gZ29NZW1vKGFzdCwgaXNEZWNvZGluZyk7XG4gIHJldHVybiAoaW5wdXQsIG92ZXJyaWRlT3B0aW9ucykgPT4gcGFyc2VyKGlucHV0LCB7XG4gICAgLi4ubWVyZ2VJbnRlcm5hbE9wdGlvbnMob3B0aW9ucywgb3ZlcnJpZGVPcHRpb25zKSxcbiAgICBpc0VmZmVjdEFsbG93ZWQ6IHRydWVcbiAgfSk7XG59O1xuLyoqXG4gKiBAdGhyb3dzIGBQYXJzZUVycm9yYFxuICogQGNhdGVnb3J5IGRlY29kaW5nXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjb25zdCBkZWNvZGVVbmtub3duU3luYyA9IChzY2hlbWEsIG9wdGlvbnMpID0+IGdldFN5bmMoc2NoZW1hLmFzdCwgdHJ1ZSwgb3B0aW9ucyk7XG4vKipcbiAqIEBjYXRlZ29yeSBkZWNvZGluZ1xuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY29uc3QgZGVjb2RlVW5rbm93bk9wdGlvbiA9IChzY2hlbWEsIG9wdGlvbnMpID0+IGdldE9wdGlvbihzY2hlbWEuYXN0LCB0cnVlLCBvcHRpb25zKTtcbi8qKlxuICogQGNhdGVnb3J5IGRlY29kaW5nXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjb25zdCBkZWNvZGVVbmtub3duRWl0aGVyID0gKHNjaGVtYSwgb3B0aW9ucykgPT4gZ2V0RWl0aGVyKHNjaGVtYS5hc3QsIHRydWUsIG9wdGlvbnMpO1xuLyoqXG4gKiBAY2F0ZWdvcnkgZGVjb2RpbmdcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNvbnN0IGRlY29kZVVua25vd25Qcm9taXNlID0gKHNjaGVtYSwgb3B0aW9ucykgPT4ge1xuICBjb25zdCBwYXJzZXIgPSBkZWNvZGVVbmtub3duKHNjaGVtYSwgb3B0aW9ucyk7XG4gIHJldHVybiAodSwgb3ZlcnJpZGVPcHRpb25zKSA9PiBFZmZlY3QucnVuUHJvbWlzZShwYXJzZXIodSwgb3ZlcnJpZGVPcHRpb25zKSk7XG59O1xuLyoqXG4gKiBAY2F0ZWdvcnkgZGVjb2RpbmdcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNvbnN0IGRlY29kZVVua25vd24gPSAoc2NoZW1hLCBvcHRpb25zKSA9PiBnZXRFZmZlY3Qoc2NoZW1hLmFzdCwgdHJ1ZSwgb3B0aW9ucyk7XG4vKipcbiAqIEB0aHJvd3MgYFBhcnNlRXJyb3JgXG4gKiBAY2F0ZWdvcnkgZW5jb2RpbmdcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNvbnN0IGVuY29kZVVua25vd25TeW5jID0gKHNjaGVtYSwgb3B0aW9ucykgPT4gZ2V0U3luYyhzY2hlbWEuYXN0LCBmYWxzZSwgb3B0aW9ucyk7XG4vKipcbiAqIEBjYXRlZ29yeSBlbmNvZGluZ1xuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY29uc3QgZW5jb2RlVW5rbm93bk9wdGlvbiA9IChzY2hlbWEsIG9wdGlvbnMpID0+IGdldE9wdGlvbihzY2hlbWEuYXN0LCBmYWxzZSwgb3B0aW9ucyk7XG4vKipcbiAqIEBjYXRlZ29yeSBlbmNvZGluZ1xuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY29uc3QgZW5jb2RlVW5rbm93bkVpdGhlciA9IChzY2hlbWEsIG9wdGlvbnMpID0+IGdldEVpdGhlcihzY2hlbWEuYXN0LCBmYWxzZSwgb3B0aW9ucyk7XG4vKipcbiAqIEBjYXRlZ29yeSBlbmNvZGluZ1xuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY29uc3QgZW5jb2RlVW5rbm93blByb21pc2UgPSAoc2NoZW1hLCBvcHRpb25zKSA9PiB7XG4gIGNvbnN0IHBhcnNlciA9IGVuY29kZVVua25vd24oc2NoZW1hLCBvcHRpb25zKTtcbiAgcmV0dXJuICh1LCBvdmVycmlkZU9wdGlvbnMpID0+IEVmZmVjdC5ydW5Qcm9taXNlKHBhcnNlcih1LCBvdmVycmlkZU9wdGlvbnMpKTtcbn07XG4vKipcbiAqIEBjYXRlZ29yeSBlbmNvZGluZ1xuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY29uc3QgZW5jb2RlVW5rbm93biA9IChzY2hlbWEsIG9wdGlvbnMpID0+IGdldEVmZmVjdChzY2hlbWEuYXN0LCBmYWxzZSwgb3B0aW9ucyk7XG4vKipcbiAqIEBjYXRlZ29yeSBkZWNvZGluZ1xuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY29uc3QgZGVjb2RlU3luYyA9IGRlY29kZVVua25vd25TeW5jO1xuLyoqXG4gKiBAY2F0ZWdvcnkgZGVjb2RpbmdcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNvbnN0IGRlY29kZU9wdGlvbiA9IGRlY29kZVVua25vd25PcHRpb247XG4vKipcbiAqIEBjYXRlZ29yeSBkZWNvZGluZ1xuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY29uc3QgZGVjb2RlRWl0aGVyID0gZGVjb2RlVW5rbm93bkVpdGhlcjtcbi8qKlxuICogQGNhdGVnb3J5IGRlY29kaW5nXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjb25zdCBkZWNvZGVQcm9taXNlID0gZGVjb2RlVW5rbm93blByb21pc2U7XG4vKipcbiAqIEBjYXRlZ29yeSBkZWNvZGluZ1xuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY29uc3QgZGVjb2RlID0gZGVjb2RlVW5rbm93bjtcbi8qKlxuICogQHRocm93cyBgUGFyc2VFcnJvcmBcbiAqIEBjYXRlZ29yeSB2YWxpZGF0aW9uXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjb25zdCB2YWxpZGF0ZVN5bmMgPSAoc2NoZW1hLCBvcHRpb25zKSA9PiBnZXRTeW5jKEFTVC50eXBlQVNUKHNjaGVtYS5hc3QpLCB0cnVlLCBvcHRpb25zKTtcbi8qKlxuICogQGNhdGVnb3J5IHZhbGlkYXRpb25cbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNvbnN0IHZhbGlkYXRlT3B0aW9uID0gKHNjaGVtYSwgb3B0aW9ucykgPT4gZ2V0T3B0aW9uKEFTVC50eXBlQVNUKHNjaGVtYS5hc3QpLCB0cnVlLCBvcHRpb25zKTtcbi8qKlxuICogQGNhdGVnb3J5IHZhbGlkYXRpb25cbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNvbnN0IHZhbGlkYXRlRWl0aGVyID0gKHNjaGVtYSwgb3B0aW9ucykgPT4gZ2V0RWl0aGVyKEFTVC50eXBlQVNUKHNjaGVtYS5hc3QpLCB0cnVlLCBvcHRpb25zKTtcbi8qKlxuICogQGNhdGVnb3J5IHZhbGlkYXRpb25cbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNvbnN0IHZhbGlkYXRlUHJvbWlzZSA9IChzY2hlbWEsIG9wdGlvbnMpID0+IHtcbiAgY29uc3QgcGFyc2VyID0gdmFsaWRhdGUoc2NoZW1hLCBvcHRpb25zKTtcbiAgcmV0dXJuICh1LCBvdmVycmlkZU9wdGlvbnMpID0+IEVmZmVjdC5ydW5Qcm9taXNlKHBhcnNlcih1LCBvdmVycmlkZU9wdGlvbnMpKTtcbn07XG4vKipcbiAqIEBjYXRlZ29yeSB2YWxpZGF0aW9uXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjb25zdCB2YWxpZGF0ZSA9IChzY2hlbWEsIG9wdGlvbnMpID0+IGdldEVmZmVjdChBU1QudHlwZUFTVChzY2hlbWEuYXN0KSwgdHJ1ZSwgb3B0aW9ucyk7XG4vKipcbiAqIEJ5IGRlZmF1bHQgdGhlIG9wdGlvbiBgZXhhY3RgIGlzIHNldCB0byBgdHJ1ZWAuXG4gKlxuICogQGNhdGVnb3J5IHZhbGlkYXRpb25cbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNvbnN0IGlzID0gKHNjaGVtYSwgb3B0aW9ucykgPT4ge1xuICBjb25zdCBwYXJzZXIgPSBnb01lbW8oQVNULnR5cGVBU1Qoc2NoZW1hLmFzdCksIHRydWUpO1xuICByZXR1cm4gKHUsIG92ZXJyaWRlT3B0aW9ucykgPT4gRWl0aGVyLmlzUmlnaHQocGFyc2VyKHUsIHtcbiAgICBleGFjdDogdHJ1ZSxcbiAgICAuLi5tZXJnZUludGVybmFsT3B0aW9ucyhvcHRpb25zLCBvdmVycmlkZU9wdGlvbnMpXG4gIH0pKTtcbn07XG4vKipcbiAqIEJ5IGRlZmF1bHQgdGhlIG9wdGlvbiBgZXhhY3RgIGlzIHNldCB0byBgdHJ1ZWAuXG4gKlxuICogQHRocm93cyBgUGFyc2VFcnJvcmBcbiAqIEBjYXRlZ29yeSB2YWxpZGF0aW9uXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjb25zdCBhc3NlcnRzID0gKHNjaGVtYSwgb3B0aW9ucykgPT4ge1xuICBjb25zdCBwYXJzZXIgPSBnb01lbW8oQVNULnR5cGVBU1Qoc2NoZW1hLmFzdCksIHRydWUpO1xuICByZXR1cm4gKHUsIG92ZXJyaWRlT3B0aW9ucykgPT4ge1xuICAgIGNvbnN0IHJlc3VsdCA9IHBhcnNlcih1LCB7XG4gICAgICBleGFjdDogdHJ1ZSxcbiAgICAgIC4uLm1lcmdlSW50ZXJuYWxPcHRpb25zKG9wdGlvbnMsIG92ZXJyaWRlT3B0aW9ucylcbiAgICB9KTtcbiAgICBpZiAoRWl0aGVyLmlzTGVmdChyZXN1bHQpKSB7XG4gICAgICB0aHJvdyBwYXJzZUVycm9yKHJlc3VsdC5sZWZ0KTtcbiAgICB9XG4gIH07XG59O1xuLyoqXG4gKiBAY2F0ZWdvcnkgZW5jb2RpbmdcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNvbnN0IGVuY29kZVN5bmMgPSBlbmNvZGVVbmtub3duU3luYztcbi8qKlxuICogQGNhdGVnb3J5IGVuY29kaW5nXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjb25zdCBlbmNvZGVPcHRpb24gPSBlbmNvZGVVbmtub3duT3B0aW9uO1xuLyoqXG4gKiBAY2F0ZWdvcnkgZW5jb2RpbmdcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNvbnN0IGVuY29kZUVpdGhlciA9IGVuY29kZVVua25vd25FaXRoZXI7XG4vKipcbiAqIEBjYXRlZ29yeSBlbmNvZGluZ1xuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY29uc3QgZW5jb2RlUHJvbWlzZSA9IGVuY29kZVVua25vd25Qcm9taXNlO1xuLyoqXG4gKiBAY2F0ZWdvcnkgZW5jb2RpbmdcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNvbnN0IGVuY29kZSA9IGVuY29kZVVua25vd247XG5jb25zdCBkZWNvZGVNZW1vTWFwID0gLyojX19QVVJFX18qL2dsb2JhbFZhbHVlKCAvKiNfX1BVUkVfXyovU3ltYm9sLmZvcihcIkBlZmZlY3Qvc2NoZW1hL1BhcnNlci9kZWNvZGVNZW1vTWFwXCIpLCAoKSA9PiBuZXcgV2Vha01hcCgpKTtcbmNvbnN0IGVuY29kZU1lbW9NYXAgPSAvKiNfX1BVUkVfXyovZ2xvYmFsVmFsdWUoIC8qI19fUFVSRV9fKi9TeW1ib2wuZm9yKFwiQGVmZmVjdC9zY2hlbWEvUGFyc2VyL2VuY29kZU1lbW9NYXBcIiksICgpID0+IG5ldyBXZWFrTWFwKCkpO1xuY29uc3QgZ29NZW1vID0gKGFzdCwgaXNEZWNvZGluZykgPT4ge1xuICBjb25zdCBtZW1vTWFwID0gaXNEZWNvZGluZyA/IGRlY29kZU1lbW9NYXAgOiBlbmNvZGVNZW1vTWFwO1xuICBjb25zdCBtZW1vID0gbWVtb01hcC5nZXQoYXN0KTtcbiAgaWYgKG1lbW8pIHtcbiAgICByZXR1cm4gbWVtbztcbiAgfVxuICBjb25zdCByYXcgPSBnbyhhc3QsIGlzRGVjb2RpbmcpO1xuICBjb25zdCBwYXJzZU9wdGlvbnNBbm5vdGF0aW9uID0gQVNULmdldFBhcnNlT3B0aW9uc0Fubm90YXRpb24oYXN0KTtcbiAgY29uc3QgcGFyc2VyID0gT3B0aW9uLmlzU29tZShwYXJzZU9wdGlvbnNBbm5vdGF0aW9uKSA/IChpLCBvcHRpb25zKSA9PiByYXcoaSwgbWVyZ2VJbnRlcm5hbE9wdGlvbnMob3B0aW9ucywgcGFyc2VPcHRpb25zQW5ub3RhdGlvbi52YWx1ZSkpIDogcmF3O1xuICBtZW1vTWFwLnNldChhc3QsIHBhcnNlcik7XG4gIHJldHVybiBwYXJzZXI7XG59O1xuY29uc3QgZ2V0Q29uY3VycmVuY3kgPSBhc3QgPT4gT3B0aW9uLmdldE9yVW5kZWZpbmVkKEFTVC5nZXRDb25jdXJyZW5jeUFubm90YXRpb24oYXN0KSk7XG5jb25zdCBnZXRCYXRjaGluZyA9IGFzdCA9PiBPcHRpb24uZ2V0T3JVbmRlZmluZWQoQVNULmdldEJhdGNoaW5nQW5ub3RhdGlvbihhc3QpKTtcbmNvbnN0IGdvID0gKGFzdCwgaXNEZWNvZGluZykgPT4ge1xuICBzd2l0Y2ggKGFzdC5fdGFnKSB7XG4gICAgY2FzZSBcIlJlZmluZW1lbnRcIjpcbiAgICAgIHtcbiAgICAgICAgaWYgKGlzRGVjb2RpbmcpIHtcbiAgICAgICAgICBjb25zdCBmcm9tID0gZ29NZW1vKGFzdC5mcm9tLCB0cnVlKTtcbiAgICAgICAgICByZXR1cm4gKGksIG9wdGlvbnMpID0+IGhhbmRsZUZvcmJpZGRlbihmbGF0TWFwKG1hcEVycm9yKGZyb20oaSwgb3B0aW9ucyksIGUgPT4gbmV3IFJlZmluZW1lbnQoYXN0LCBpLCBcIkZyb21cIiwgZSkpLCBhID0+IE9wdGlvbi5tYXRjaChhc3QuZmlsdGVyKGEsIG9wdGlvbnMgPz8gQVNULmRlZmF1bHRQYXJzZU9wdGlvbiwgYXN0KSwge1xuICAgICAgICAgICAgb25Ob25lOiAoKSA9PiBFaXRoZXIucmlnaHQoYSksXG4gICAgICAgICAgICBvblNvbWU6IGUgPT4gRWl0aGVyLmxlZnQobmV3IFJlZmluZW1lbnQoYXN0LCBpLCBcIlByZWRpY2F0ZVwiLCBlKSlcbiAgICAgICAgICB9KSksIGFzdCwgaSwgb3B0aW9ucyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3QgZnJvbSA9IGdvTWVtbyhBU1QudHlwZUFTVChhc3QpLCB0cnVlKTtcbiAgICAgICAgICBjb25zdCB0byA9IGdvTWVtbyhkcm9wUmlnaHRSZWZpbmVtZW50KGFzdC5mcm9tKSwgZmFsc2UpO1xuICAgICAgICAgIHJldHVybiAoaSwgb3B0aW9ucykgPT4gaGFuZGxlRm9yYmlkZGVuKGZsYXRNYXAoZnJvbShpLCBvcHRpb25zKSwgYSA9PiB0byhhLCBvcHRpb25zKSksIGFzdCwgaSwgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICBjYXNlIFwiVHJhbnNmb3JtYXRpb25cIjpcbiAgICAgIHtcbiAgICAgICAgY29uc3QgdHJhbnNmb3JtID0gZ2V0RmluYWxUcmFuc2Zvcm1hdGlvbihhc3QudHJhbnNmb3JtYXRpb24sIGlzRGVjb2RpbmcpO1xuICAgICAgICBjb25zdCBmcm9tID0gaXNEZWNvZGluZyA/IGdvTWVtbyhhc3QuZnJvbSwgdHJ1ZSkgOiBnb01lbW8oYXN0LnRvLCBmYWxzZSk7XG4gICAgICAgIGNvbnN0IHRvID0gaXNEZWNvZGluZyA/IGdvTWVtbyhhc3QudG8sIHRydWUpIDogZ29NZW1vKGFzdC5mcm9tLCBmYWxzZSk7XG4gICAgICAgIHJldHVybiAoaTEsIG9wdGlvbnMpID0+IGhhbmRsZUZvcmJpZGRlbihmbGF0TWFwKG1hcEVycm9yKGZyb20oaTEsIG9wdGlvbnMpLCBlID0+IG5ldyBUcmFuc2Zvcm1hdGlvbihhc3QsIGkxLCBpc0RlY29kaW5nID8gXCJFbmNvZGVkXCIgOiBcIlR5cGVcIiwgZSkpLCBhID0+IGZsYXRNYXAobWFwRXJyb3IodHJhbnNmb3JtKGEsIG9wdGlvbnMgPz8gQVNULmRlZmF1bHRQYXJzZU9wdGlvbiwgYXN0KSwgZSA9PiBuZXcgVHJhbnNmb3JtYXRpb24oYXN0LCBpMSwgXCJUcmFuc2Zvcm1hdGlvblwiLCBlKSksIGkyID0+IG1hcEVycm9yKHRvKGkyLCBvcHRpb25zKSwgZSA9PiBuZXcgVHJhbnNmb3JtYXRpb24oYXN0LCBpMSwgaXNEZWNvZGluZyA/IFwiVHlwZVwiIDogXCJFbmNvZGVkXCIsIGUpKSkpLCBhc3QsIGkxLCBvcHRpb25zKTtcbiAgICAgIH1cbiAgICBjYXNlIFwiRGVjbGFyYXRpb25cIjpcbiAgICAgIHtcbiAgICAgICAgY29uc3QgcGFyc2UgPSBpc0RlY29kaW5nID8gYXN0LmRlY29kZVVua25vd24oLi4uYXN0LnR5cGVQYXJhbWV0ZXJzKSA6IGFzdC5lbmNvZGVVbmtub3duKC4uLmFzdC50eXBlUGFyYW1ldGVycyk7XG4gICAgICAgIHJldHVybiAoaSwgb3B0aW9ucykgPT4gaGFuZGxlRm9yYmlkZGVuKHBhcnNlKGksIG9wdGlvbnMgPz8gQVNULmRlZmF1bHRQYXJzZU9wdGlvbiwgYXN0KSwgYXN0LCBpLCBvcHRpb25zKTtcbiAgICAgIH1cbiAgICBjYXNlIFwiTGl0ZXJhbFwiOlxuICAgICAgcmV0dXJuIGZyb21SZWZpbmVtZW50KGFzdCwgdSA9PiB1ID09PSBhc3QubGl0ZXJhbCk7XG4gICAgY2FzZSBcIlVuaXF1ZVN5bWJvbFwiOlxuICAgICAgcmV0dXJuIGZyb21SZWZpbmVtZW50KGFzdCwgdSA9PiB1ID09PSBhc3Quc3ltYm9sKTtcbiAgICBjYXNlIFwiVW5kZWZpbmVkS2V5d29yZFwiOlxuICAgICAgcmV0dXJuIGZyb21SZWZpbmVtZW50KGFzdCwgUHJlZGljYXRlLmlzVW5kZWZpbmVkKTtcbiAgICBjYXNlIFwiVm9pZEtleXdvcmRcIjpcbiAgICAgIHJldHVybiBmcm9tUmVmaW5lbWVudChhc3QsIFByZWRpY2F0ZS5pc1VuZGVmaW5lZCk7XG4gICAgY2FzZSBcIk5ldmVyS2V5d29yZFwiOlxuICAgICAgcmV0dXJuIGZyb21SZWZpbmVtZW50KGFzdCwgUHJlZGljYXRlLmlzTmV2ZXIpO1xuICAgIGNhc2UgXCJVbmtub3duS2V5d29yZFwiOlxuICAgIGNhc2UgXCJBbnlLZXl3b3JkXCI6XG4gICAgICByZXR1cm4gRWl0aGVyLnJpZ2h0O1xuICAgIGNhc2UgXCJTdHJpbmdLZXl3b3JkXCI6XG4gICAgICByZXR1cm4gZnJvbVJlZmluZW1lbnQoYXN0LCBQcmVkaWNhdGUuaXNTdHJpbmcpO1xuICAgIGNhc2UgXCJOdW1iZXJLZXl3b3JkXCI6XG4gICAgICByZXR1cm4gZnJvbVJlZmluZW1lbnQoYXN0LCBQcmVkaWNhdGUuaXNOdW1iZXIpO1xuICAgIGNhc2UgXCJCb29sZWFuS2V5d29yZFwiOlxuICAgICAgcmV0dXJuIGZyb21SZWZpbmVtZW50KGFzdCwgUHJlZGljYXRlLmlzQm9vbGVhbik7XG4gICAgY2FzZSBcIkJpZ0ludEtleXdvcmRcIjpcbiAgICAgIHJldHVybiBmcm9tUmVmaW5lbWVudChhc3QsIFByZWRpY2F0ZS5pc0JpZ0ludCk7XG4gICAgY2FzZSBcIlN5bWJvbEtleXdvcmRcIjpcbiAgICAgIHJldHVybiBmcm9tUmVmaW5lbWVudChhc3QsIFByZWRpY2F0ZS5pc1N5bWJvbCk7XG4gICAgY2FzZSBcIk9iamVjdEtleXdvcmRcIjpcbiAgICAgIHJldHVybiBmcm9tUmVmaW5lbWVudChhc3QsIFByZWRpY2F0ZS5pc09iamVjdCk7XG4gICAgY2FzZSBcIkVudW1zXCI6XG4gICAgICByZXR1cm4gZnJvbVJlZmluZW1lbnQoYXN0LCB1ID0+IGFzdC5lbnVtcy5zb21lKChbXywgdmFsdWVdKSA9PiB2YWx1ZSA9PT0gdSkpO1xuICAgIGNhc2UgXCJUZW1wbGF0ZUxpdGVyYWxcIjpcbiAgICAgIHtcbiAgICAgICAgY29uc3QgcmVnZXggPSBBU1QuZ2V0VGVtcGxhdGVMaXRlcmFsUmVnRXhwKGFzdCk7XG4gICAgICAgIHJldHVybiBmcm9tUmVmaW5lbWVudChhc3QsIHUgPT4gUHJlZGljYXRlLmlzU3RyaW5nKHUpICYmIHJlZ2V4LnRlc3QodSkpO1xuICAgICAgfVxuICAgIGNhc2UgXCJUdXBsZVR5cGVcIjpcbiAgICAgIHtcbiAgICAgICAgY29uc3QgZWxlbWVudHMgPSBhc3QuZWxlbWVudHMubWFwKGUgPT4gZ29NZW1vKGUudHlwZSwgaXNEZWNvZGluZykpO1xuICAgICAgICBjb25zdCByZXN0ID0gYXN0LnJlc3QubWFwKGFubm90YXRlZEFTVCA9PiBnb01lbW8oYW5ub3RhdGVkQVNULnR5cGUsIGlzRGVjb2RpbmcpKTtcbiAgICAgICAgbGV0IHJlcXVpcmVkVHlwZXMgPSBhc3QuZWxlbWVudHMuZmlsdGVyKGUgPT4gIWUuaXNPcHRpb25hbCk7XG4gICAgICAgIGlmIChhc3QucmVzdC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgcmVxdWlyZWRUeXBlcyA9IHJlcXVpcmVkVHlwZXMuY29uY2F0KGFzdC5yZXN0LnNsaWNlKDEpKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXF1aXJlZExlbiA9IHJlcXVpcmVkVHlwZXMubGVuZ3RoO1xuICAgICAgICBjb25zdCBleHBlY3RlZEluZGV4ZXMgPSBhc3QuZWxlbWVudHMubGVuZ3RoID4gMCA/IGFzdC5lbGVtZW50cy5tYXAoKF8sIGkpID0+IGkpLmpvaW4oXCIgfCBcIikgOiBcIm5ldmVyXCI7XG4gICAgICAgIGNvbnN0IGNvbmN1cnJlbmN5ID0gZ2V0Q29uY3VycmVuY3koYXN0KTtcbiAgICAgICAgY29uc3QgYmF0Y2hpbmcgPSBnZXRCYXRjaGluZyhhc3QpO1xuICAgICAgICByZXR1cm4gKGlucHV0LCBvcHRpb25zKSA9PiB7XG4gICAgICAgICAgaWYgKCFhcnJheV8uaXNBcnJheShpbnB1dCkpIHtcbiAgICAgICAgICAgIHJldHVybiBFaXRoZXIubGVmdChuZXcgVHlwZShhc3QsIGlucHV0KSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IGFsbEVycm9ycyA9IG9wdGlvbnM/LmVycm9ycyA9PT0gXCJhbGxcIjtcbiAgICAgICAgICBjb25zdCBlcyA9IFtdO1xuICAgICAgICAgIGxldCBzdGVwS2V5ID0gMDtcbiAgICAgICAgICBjb25zdCBvdXRwdXQgPSBbXTtcbiAgICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICAvLyBoYW5kbGUgbWlzc2luZyBpbmRleGVzXG4gICAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAgY29uc3QgbGVuID0gaW5wdXQubGVuZ3RoO1xuICAgICAgICAgIGZvciAobGV0IGkgPSBsZW47IGkgPD0gcmVxdWlyZWRMZW4gLSAxOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGUgPSBuZXcgUG9pbnRlcihpLCBpbnB1dCwgbmV3IE1pc3NpbmcocmVxdWlyZWRUeXBlc1tpIC0gbGVuXSkpO1xuICAgICAgICAgICAgaWYgKGFsbEVycm9ycykge1xuICAgICAgICAgICAgICBlcy5wdXNoKFtzdGVwS2V5KyssIGVdKTtcbiAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICByZXR1cm4gRWl0aGVyLmxlZnQobmV3IENvbXBvc2l0ZShhc3QsIGlucHV0LCBlLCBvdXRwdXQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAgLy8gaGFuZGxlIGV4Y2VzcyBpbmRleGVzXG4gICAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAgaWYgKGFzdC5yZXN0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IGFzdC5lbGVtZW50cy5sZW5ndGg7IGkgPD0gbGVuIC0gMTsgaSsrKSB7XG4gICAgICAgICAgICAgIGNvbnN0IGUgPSBuZXcgUG9pbnRlcihpLCBpbnB1dCwgbmV3IFVuZXhwZWN0ZWQoaW5wdXRbaV0sIGBpcyB1bmV4cGVjdGVkLCBleHBlY3RlZDogJHtleHBlY3RlZEluZGV4ZXN9YCkpO1xuICAgICAgICAgICAgICBpZiAoYWxsRXJyb3JzKSB7XG4gICAgICAgICAgICAgICAgZXMucHVzaChbc3RlcEtleSsrLCBlXSk7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIEVpdGhlci5sZWZ0KG5ldyBDb21wb3NpdGUoYXN0LCBpbnB1dCwgZSwgb3V0cHV0KSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgbGV0IGkgPSAwO1xuICAgICAgICAgIGxldCBxdWV1ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICAvLyBoYW5kbGUgZWxlbWVudHNcbiAgICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICBmb3IgKDsgaSA8IGVsZW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAobGVuIDwgaSArIDEpIHtcbiAgICAgICAgICAgICAgaWYgKGFzdC5lbGVtZW50c1tpXS5pc09wdGlvbmFsKSB7XG4gICAgICAgICAgICAgICAgLy8gdGhlIGlucHV0IGVsZW1lbnQgaXMgbWlzc2luZ1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBjb25zdCBwYXJzZXIgPSBlbGVtZW50c1tpXTtcbiAgICAgICAgICAgICAgY29uc3QgdGUgPSBwYXJzZXIoaW5wdXRbaV0sIG9wdGlvbnMpO1xuICAgICAgICAgICAgICBjb25zdCBldSA9IGVpdGhlck9yVW5kZWZpbmVkKHRlKTtcbiAgICAgICAgICAgICAgaWYgKGV1KSB7XG4gICAgICAgICAgICAgICAgaWYgKEVpdGhlci5pc0xlZnQoZXUpKSB7XG4gICAgICAgICAgICAgICAgICAvLyB0aGUgaW5wdXQgZWxlbWVudCBpcyBwcmVzZW50IGJ1dCBpcyBub3QgdmFsaWRcbiAgICAgICAgICAgICAgICAgIGNvbnN0IGUgPSBuZXcgUG9pbnRlcihpLCBpbnB1dCwgZXUubGVmdCk7XG4gICAgICAgICAgICAgICAgICBpZiAoYWxsRXJyb3JzKSB7XG4gICAgICAgICAgICAgICAgICAgIGVzLnB1c2goW3N0ZXBLZXkrKywgZV0pO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBFaXRoZXIubGVmdChuZXcgQ29tcG9zaXRlKGFzdCwgaW5wdXQsIGUsIHNvcnRCeUluZGV4KG91dHB1dCkpKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgb3V0cHV0LnB1c2goW3N0ZXBLZXkrKywgZXUucmlnaHRdKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBuayA9IHN0ZXBLZXkrKztcbiAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9IGk7XG4gICAgICAgICAgICAgICAgaWYgKCFxdWV1ZSkge1xuICAgICAgICAgICAgICAgICAgcXVldWUgPSBbXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcXVldWUucHVzaCgoe1xuICAgICAgICAgICAgICAgICAgZXMsXG4gICAgICAgICAgICAgICAgICBvdXRwdXRcbiAgICAgICAgICAgICAgICB9KSA9PiBFZmZlY3QuZmxhdE1hcChFZmZlY3QuZWl0aGVyKHRlKSwgdCA9PiB7XG4gICAgICAgICAgICAgICAgICBpZiAoRWl0aGVyLmlzTGVmdCh0KSkge1xuICAgICAgICAgICAgICAgICAgICAvLyB0aGUgaW5wdXQgZWxlbWVudCBpcyBwcmVzZW50IGJ1dCBpcyBub3QgdmFsaWRcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZSA9IG5ldyBQb2ludGVyKGluZGV4LCBpbnB1dCwgdC5sZWZ0KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFsbEVycm9ycykge1xuICAgICAgICAgICAgICAgICAgICAgIGVzLnB1c2goW25rLCBlXSk7XG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEVmZmVjdC52b2lkO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBFaXRoZXIubGVmdChuZXcgQ29tcG9zaXRlKGFzdCwgaW5wdXQsIGUsIHNvcnRCeUluZGV4KG91dHB1dCkpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgb3V0cHV0LnB1c2goW25rLCB0LnJpZ2h0XSk7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gRWZmZWN0LnZvaWQ7XG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgIC8vIGhhbmRsZSByZXN0IGVsZW1lbnRcbiAgICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICBpZiAoYXJyYXlfLmlzTm9uRW1wdHlSZWFkb25seUFycmF5KHJlc3QpKSB7XG4gICAgICAgICAgICBjb25zdCBbaGVhZCwgLi4udGFpbF0gPSByZXN0O1xuICAgICAgICAgICAgZm9yICg7IGkgPCBsZW4gLSB0YWlsLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgIGNvbnN0IHRlID0gaGVhZChpbnB1dFtpXSwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgIGNvbnN0IGV1ID0gZWl0aGVyT3JVbmRlZmluZWQodGUpO1xuICAgICAgICAgICAgICBpZiAoZXUpIHtcbiAgICAgICAgICAgICAgICBpZiAoRWl0aGVyLmlzTGVmdChldSkpIHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IGUgPSBuZXcgUG9pbnRlcihpLCBpbnB1dCwgZXUubGVmdCk7XG4gICAgICAgICAgICAgICAgICBpZiAoYWxsRXJyb3JzKSB7XG4gICAgICAgICAgICAgICAgICAgIGVzLnB1c2goW3N0ZXBLZXkrKywgZV0pO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBFaXRoZXIubGVmdChuZXcgQ29tcG9zaXRlKGFzdCwgaW5wdXQsIGUsIHNvcnRCeUluZGV4KG91dHB1dCkpKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgb3V0cHV0LnB1c2goW3N0ZXBLZXkrKywgZXUucmlnaHRdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmsgPSBzdGVwS2V5Kys7XG4gICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPSBpO1xuICAgICAgICAgICAgICAgIGlmICghcXVldWUpIHtcbiAgICAgICAgICAgICAgICAgIHF1ZXVlID0gW107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHF1ZXVlLnB1c2goKHtcbiAgICAgICAgICAgICAgICAgIGVzLFxuICAgICAgICAgICAgICAgICAgb3V0cHV0XG4gICAgICAgICAgICAgICAgfSkgPT4gRWZmZWN0LmZsYXRNYXAoRWZmZWN0LmVpdGhlcih0ZSksIHQgPT4ge1xuICAgICAgICAgICAgICAgICAgaWYgKEVpdGhlci5pc0xlZnQodCkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZSA9IG5ldyBQb2ludGVyKGluZGV4LCBpbnB1dCwgdC5sZWZ0KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFsbEVycm9ycykge1xuICAgICAgICAgICAgICAgICAgICAgIGVzLnB1c2goW25rLCBlXSk7XG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEVmZmVjdC52b2lkO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBFaXRoZXIubGVmdChuZXcgQ29tcG9zaXRlKGFzdCwgaW5wdXQsIGUsIHNvcnRCeUluZGV4KG91dHB1dCkpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgb3V0cHV0LnB1c2goW25rLCB0LnJpZ2h0XSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBFZmZlY3Qudm9pZDtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgICAgLy8gaGFuZGxlIHBvc3QgcmVzdCBlbGVtZW50c1xuICAgICAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHRhaWwubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgaSArPSBqO1xuICAgICAgICAgICAgICBpZiAobGVuIDwgaSArIDEpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0ZSA9IHRhaWxbal0oaW5wdXRbaV0sIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGV1ID0gZWl0aGVyT3JVbmRlZmluZWQodGUpO1xuICAgICAgICAgICAgICAgIGlmIChldSkge1xuICAgICAgICAgICAgICAgICAgaWYgKEVpdGhlci5pc0xlZnQoZXUpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHRoZSBpbnB1dCBlbGVtZW50IGlzIHByZXNlbnQgYnV0IGlzIG5vdCB2YWxpZFxuICAgICAgICAgICAgICAgICAgICBjb25zdCBlID0gbmV3IFBvaW50ZXIoaSwgaW5wdXQsIGV1LmxlZnQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoYWxsRXJyb3JzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgZXMucHVzaChbc3RlcEtleSsrLCBlXSk7XG4gICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEVpdGhlci5sZWZ0KG5ldyBDb21wb3NpdGUoYXN0LCBpbnB1dCwgZSwgc29ydEJ5SW5kZXgob3V0cHV0KSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBvdXRwdXQucHVzaChbc3RlcEtleSsrLCBldS5yaWdodF0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBjb25zdCBuayA9IHN0ZXBLZXkrKztcbiAgICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gaTtcbiAgICAgICAgICAgICAgICAgIGlmICghcXVldWUpIHtcbiAgICAgICAgICAgICAgICAgICAgcXVldWUgPSBbXTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIHF1ZXVlLnB1c2goKHtcbiAgICAgICAgICAgICAgICAgICAgZXMsXG4gICAgICAgICAgICAgICAgICAgIG91dHB1dFxuICAgICAgICAgICAgICAgICAgfSkgPT4gRWZmZWN0LmZsYXRNYXAoRWZmZWN0LmVpdGhlcih0ZSksIHQgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoRWl0aGVyLmlzTGVmdCh0KSkge1xuICAgICAgICAgICAgICAgICAgICAgIC8vIHRoZSBpbnB1dCBlbGVtZW50IGlzIHByZXNlbnQgYnV0IGlzIG5vdCB2YWxpZFxuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGUgPSBuZXcgUG9pbnRlcihpbmRleCwgaW5wdXQsIHQubGVmdCk7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKGFsbEVycm9ycykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZXMucHVzaChbbmssIGVdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBFZmZlY3Qudm9pZDtcbiAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEVpdGhlci5sZWZ0KG5ldyBDb21wb3NpdGUoYXN0LCBpbnB1dCwgZSwgc29ydEJ5SW5kZXgob3V0cHV0KSkpO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBvdXRwdXQucHVzaChbbmssIHQucmlnaHRdKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEVmZmVjdC52b2lkO1xuICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICAvLyBjb21wdXRlIHJlc3VsdFxuICAgICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgIGNvbnN0IGNvbXB1dGVSZXN1bHQgPSAoe1xuICAgICAgICAgICAgZXMsXG4gICAgICAgICAgICBvdXRwdXRcbiAgICAgICAgICB9KSA9PiBhcnJheV8uaXNOb25FbXB0eUFycmF5KGVzKSA/IEVpdGhlci5sZWZ0KG5ldyBDb21wb3NpdGUoYXN0LCBpbnB1dCwgc29ydEJ5SW5kZXgoZXMpLCBzb3J0QnlJbmRleChvdXRwdXQpKSkgOiBFaXRoZXIucmlnaHQoc29ydEJ5SW5kZXgob3V0cHV0KSk7XG4gICAgICAgICAgaWYgKHF1ZXVlICYmIHF1ZXVlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IGNxdWV1ZSA9IHF1ZXVlO1xuICAgICAgICAgICAgcmV0dXJuIEVmZmVjdC5zdXNwZW5kKCgpID0+IHtcbiAgICAgICAgICAgICAgY29uc3Qgc3RhdGUgPSB7XG4gICAgICAgICAgICAgICAgZXM6IGFycmF5Xy5jb3B5KGVzKSxcbiAgICAgICAgICAgICAgICBvdXRwdXQ6IGFycmF5Xy5jb3B5KG91dHB1dClcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgcmV0dXJuIEVmZmVjdC5mbGF0TWFwKEVmZmVjdC5mb3JFYWNoKGNxdWV1ZSwgZiA9PiBmKHN0YXRlKSwge1xuICAgICAgICAgICAgICAgIGNvbmN1cnJlbmN5LFxuICAgICAgICAgICAgICAgIGJhdGNoaW5nLFxuICAgICAgICAgICAgICAgIGRpc2NhcmQ6IHRydWVcbiAgICAgICAgICAgICAgfSksICgpID0+IGNvbXB1dGVSZXN1bHQoc3RhdGUpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gY29tcHV0ZVJlc3VsdCh7XG4gICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICBlc1xuICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgfVxuICAgIGNhc2UgXCJUeXBlTGl0ZXJhbFwiOlxuICAgICAge1xuICAgICAgICBpZiAoYXN0LnByb3BlcnR5U2lnbmF0dXJlcy5sZW5ndGggPT09IDAgJiYgYXN0LmluZGV4U2lnbmF0dXJlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICByZXR1cm4gZnJvbVJlZmluZW1lbnQoYXN0LCBQcmVkaWNhdGUuaXNOb3ROdWxsYWJsZSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcHJvcGVydHlTaWduYXR1cmVzID0gW107XG4gICAgICAgIGNvbnN0IGV4cGVjdGVkS2V5c01hcCA9IHt9O1xuICAgICAgICBjb25zdCBleHBlY3RlZEtleXMgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBwcyBvZiBhc3QucHJvcGVydHlTaWduYXR1cmVzKSB7XG4gICAgICAgICAgcHJvcGVydHlTaWduYXR1cmVzLnB1c2goW2dvTWVtbyhwcy50eXBlLCBpc0RlY29kaW5nKSwgcHNdKTtcbiAgICAgICAgICBleHBlY3RlZEtleXNNYXBbcHMubmFtZV0gPSBudWxsO1xuICAgICAgICAgIGV4cGVjdGVkS2V5cy5wdXNoKHBzLm5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGluZGV4U2lnbmF0dXJlcyA9IGFzdC5pbmRleFNpZ25hdHVyZXMubWFwKGlzID0+IFtnb01lbW8oaXMucGFyYW1ldGVyLCBpc0RlY29kaW5nKSwgZ29NZW1vKGlzLnR5cGUsIGlzRGVjb2RpbmcpLCBpcy5wYXJhbWV0ZXJdKTtcbiAgICAgICAgY29uc3QgZXhwZWN0ZWRBU1QgPSBBU1QuVW5pb24ubWFrZShhc3QuaW5kZXhTaWduYXR1cmVzLm1hcChpcyA9PiBpcy5wYXJhbWV0ZXIpLmNvbmNhdChleHBlY3RlZEtleXMubWFwKGtleSA9PiBQcmVkaWNhdGUuaXNTeW1ib2woa2V5KSA/IG5ldyBBU1QuVW5pcXVlU3ltYm9sKGtleSkgOiBuZXcgQVNULkxpdGVyYWwoa2V5KSkpKTtcbiAgICAgICAgY29uc3QgZXhwZWN0ZWQgPSBnb01lbW8oZXhwZWN0ZWRBU1QsIGlzRGVjb2RpbmcpO1xuICAgICAgICBjb25zdCBjb25jdXJyZW5jeSA9IGdldENvbmN1cnJlbmN5KGFzdCk7XG4gICAgICAgIGNvbnN0IGJhdGNoaW5nID0gZ2V0QmF0Y2hpbmcoYXN0KTtcbiAgICAgICAgcmV0dXJuIChpbnB1dCwgb3B0aW9ucykgPT4ge1xuICAgICAgICAgIGlmICghUHJlZGljYXRlLmlzUmVjb3JkKGlucHV0KSkge1xuICAgICAgICAgICAgcmV0dXJuIEVpdGhlci5sZWZ0KG5ldyBUeXBlKGFzdCwgaW5wdXQpKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc3QgYWxsRXJyb3JzID0gb3B0aW9ucz8uZXJyb3JzID09PSBcImFsbFwiO1xuICAgICAgICAgIGNvbnN0IGVzID0gW107XG4gICAgICAgICAgbGV0IHN0ZXBLZXkgPSAwO1xuICAgICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgIC8vIGhhbmRsZSBleGNlc3MgcHJvcGVydGllc1xuICAgICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgIGNvbnN0IG9uRXhjZXNzUHJvcGVydHlFcnJvciA9IG9wdGlvbnM/Lm9uRXhjZXNzUHJvcGVydHkgPT09IFwiZXJyb3JcIjtcbiAgICAgICAgICBjb25zdCBvbkV4Y2Vzc1Byb3BlcnR5UHJlc2VydmUgPSBvcHRpb25zPy5vbkV4Y2Vzc1Byb3BlcnR5ID09PSBcInByZXNlcnZlXCI7XG4gICAgICAgICAgY29uc3Qgb3V0cHV0ID0ge307XG4gICAgICAgICAgbGV0IGlucHV0S2V5cztcbiAgICAgICAgICBpZiAob25FeGNlc3NQcm9wZXJ0eUVycm9yIHx8IG9uRXhjZXNzUHJvcGVydHlQcmVzZXJ2ZSkge1xuICAgICAgICAgICAgaW5wdXRLZXlzID0gdXRpbF8ub3duS2V5cyhpbnB1dCk7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiBpbnB1dEtleXMpIHtcbiAgICAgICAgICAgICAgY29uc3QgZXUgPSBlaXRoZXJPclVuZGVmaW5lZChleHBlY3RlZChrZXksIG9wdGlvbnMpKTtcbiAgICAgICAgICAgICAgaWYgKEVpdGhlci5pc0xlZnQoZXUpKSB7XG4gICAgICAgICAgICAgICAgLy8ga2V5IGlzIHVuZXhwZWN0ZWRcbiAgICAgICAgICAgICAgICBpZiAob25FeGNlc3NQcm9wZXJ0eUVycm9yKSB7XG4gICAgICAgICAgICAgICAgICBjb25zdCBlID0gbmV3IFBvaW50ZXIoa2V5LCBpbnB1dCwgbmV3IFVuZXhwZWN0ZWQoaW5wdXRba2V5XSwgYGlzIHVuZXhwZWN0ZWQsIGV4cGVjdGVkOiAke1N0cmluZyhleHBlY3RlZEFTVCl9YCkpO1xuICAgICAgICAgICAgICAgICAgaWYgKGFsbEVycm9ycykge1xuICAgICAgICAgICAgICAgICAgICBlcy5wdXNoKFtzdGVwS2V5KyssIGVdKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gRWl0aGVyLmxlZnQobmV3IENvbXBvc2l0ZShhc3QsIGlucHV0LCBlLCBvdXRwdXQpKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgLy8gcHJlc2VydmUga2V5XG4gICAgICAgICAgICAgICAgICBvdXRwdXRba2V5XSA9IGlucHV0W2tleV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGxldCBxdWV1ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICBjb25zdCBpc0V4YWN0ID0gb3B0aW9ucz8uZXhhY3QgPT09IHRydWU7XG4gICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9wZXJ0eVNpZ25hdHVyZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHBzID0gcHJvcGVydHlTaWduYXR1cmVzW2ldWzFdO1xuICAgICAgICAgICAgY29uc3QgbmFtZSA9IHBzLm5hbWU7XG4gICAgICAgICAgICBjb25zdCBoYXNLZXkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoaW5wdXQsIG5hbWUpO1xuICAgICAgICAgICAgaWYgKCFoYXNLZXkpIHtcbiAgICAgICAgICAgICAgaWYgKHBzLmlzT3B0aW9uYWwpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChpc0V4YWN0KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZSA9IG5ldyBQb2ludGVyKG5hbWUsIGlucHV0LCBuZXcgTWlzc2luZyhwcykpO1xuICAgICAgICAgICAgICAgIGlmIChhbGxFcnJvcnMpIHtcbiAgICAgICAgICAgICAgICAgIGVzLnB1c2goW3N0ZXBLZXkrKywgZV0pO1xuICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBFaXRoZXIubGVmdChuZXcgQ29tcG9zaXRlKGFzdCwgaW5wdXQsIGUsIG91dHB1dCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgcGFyc2VyID0gcHJvcGVydHlTaWduYXR1cmVzW2ldWzBdO1xuICAgICAgICAgICAgY29uc3QgdGUgPSBwYXJzZXIoaW5wdXRbbmFtZV0sIG9wdGlvbnMpO1xuICAgICAgICAgICAgY29uc3QgZXUgPSBlaXRoZXJPclVuZGVmaW5lZCh0ZSk7XG4gICAgICAgICAgICBpZiAoZXUpIHtcbiAgICAgICAgICAgICAgaWYgKEVpdGhlci5pc0xlZnQoZXUpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZSA9IG5ldyBQb2ludGVyKG5hbWUsIGlucHV0LCBoYXNLZXkgPyBldS5sZWZ0IDogbmV3IE1pc3NpbmcocHMpKTtcbiAgICAgICAgICAgICAgICBpZiAoYWxsRXJyb3JzKSB7XG4gICAgICAgICAgICAgICAgICBlcy5wdXNoKFtzdGVwS2V5KyssIGVdKTtcbiAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gRWl0aGVyLmxlZnQobmV3IENvbXBvc2l0ZShhc3QsIGlucHV0LCBlLCBvdXRwdXQpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgb3V0cHV0W25hbWVdID0gZXUucmlnaHQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBjb25zdCBuayA9IHN0ZXBLZXkrKztcbiAgICAgICAgICAgICAgY29uc3QgaW5kZXggPSBuYW1lO1xuICAgICAgICAgICAgICBpZiAoIXF1ZXVlKSB7XG4gICAgICAgICAgICAgICAgcXVldWUgPSBbXTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBxdWV1ZS5wdXNoKCh7XG4gICAgICAgICAgICAgICAgZXMsXG4gICAgICAgICAgICAgICAgb3V0cHV0XG4gICAgICAgICAgICAgIH0pID0+IEVmZmVjdC5mbGF0TWFwKEVmZmVjdC5laXRoZXIodGUpLCB0ID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoRWl0aGVyLmlzTGVmdCh0KSkge1xuICAgICAgICAgICAgICAgICAgY29uc3QgZSA9IG5ldyBQb2ludGVyKGluZGV4LCBpbnB1dCwgaGFzS2V5ID8gdC5sZWZ0IDogbmV3IE1pc3NpbmcocHMpKTtcbiAgICAgICAgICAgICAgICAgIGlmIChhbGxFcnJvcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgZXMucHVzaChbbmssIGVdKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEVmZmVjdC52b2lkO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEVpdGhlci5sZWZ0KG5ldyBDb21wb3NpdGUoYXN0LCBpbnB1dCwgZSwgb3V0cHV0KSk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG91dHB1dFtpbmRleF0gPSB0LnJpZ2h0O1xuICAgICAgICAgICAgICAgIHJldHVybiBFZmZlY3Qudm9pZDtcbiAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICAvLyBoYW5kbGUgaW5kZXggc2lnbmF0dXJlc1xuICAgICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaW5kZXhTaWduYXR1cmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBpbmRleFNpZ25hdHVyZSA9IGluZGV4U2lnbmF0dXJlc1tpXTtcbiAgICAgICAgICAgIGNvbnN0IHBhcmFtZXRlciA9IGluZGV4U2lnbmF0dXJlWzBdO1xuICAgICAgICAgICAgY29uc3QgdHlwZSA9IGluZGV4U2lnbmF0dXJlWzFdO1xuICAgICAgICAgICAgY29uc3Qga2V5cyA9IHV0aWxfLmdldEtleXNGb3JJbmRleFNpZ25hdHVyZShpbnB1dCwgaW5kZXhTaWduYXR1cmVbMl0pO1xuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgb2Yga2V5cykge1xuICAgICAgICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICAgICAgLy8gaGFuZGxlIGtleXNcbiAgICAgICAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAgICAgIGNvbnN0IGtldSA9IGVpdGhlck9yVW5kZWZpbmVkKHBhcmFtZXRlcihrZXksIG9wdGlvbnMpKTtcbiAgICAgICAgICAgICAgaWYgKGtldSAmJiBFaXRoZXIuaXNSaWdodChrZXUpKSB7XG4gICAgICAgICAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAgICAgICAgLy8gaGFuZGxlIHZhbHVlc1xuICAgICAgICAgICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgICAgICAgIGNvbnN0IHZwciA9IHR5cGUoaW5wdXRba2V5XSwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgY29uc3QgdmV1ID0gZWl0aGVyT3JVbmRlZmluZWQodnByKTtcbiAgICAgICAgICAgICAgICBpZiAodmV1KSB7XG4gICAgICAgICAgICAgICAgICBpZiAoRWl0aGVyLmlzTGVmdCh2ZXUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGUgPSBuZXcgUG9pbnRlcihrZXksIGlucHV0LCB2ZXUubGVmdCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhbGxFcnJvcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICBlcy5wdXNoKFtzdGVwS2V5KyssIGVdKTtcbiAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gRWl0aGVyLmxlZnQobmV3IENvbXBvc2l0ZShhc3QsIGlucHV0LCBlLCBvdXRwdXQpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZXhwZWN0ZWRLZXlzTWFwLCBrZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgb3V0cHV0W2tleV0gPSB2ZXUucmlnaHQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgY29uc3QgbmsgPSBzdGVwS2V5Kys7XG4gICAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9IGtleTtcbiAgICAgICAgICAgICAgICAgIGlmICghcXVldWUpIHtcbiAgICAgICAgICAgICAgICAgICAgcXVldWUgPSBbXTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIHF1ZXVlLnB1c2goKHtcbiAgICAgICAgICAgICAgICAgICAgZXMsXG4gICAgICAgICAgICAgICAgICAgIG91dHB1dFxuICAgICAgICAgICAgICAgICAgfSkgPT4gRWZmZWN0LmZsYXRNYXAoRWZmZWN0LmVpdGhlcih2cHIpLCB0diA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChFaXRoZXIuaXNMZWZ0KHR2KSkge1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGUgPSBuZXcgUG9pbnRlcihpbmRleCwgaW5wdXQsIHR2LmxlZnQpO1xuICAgICAgICAgICAgICAgICAgICAgIGlmIChhbGxFcnJvcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVzLnB1c2goW25rLCBlXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gRWZmZWN0LnZvaWQ7XG4gICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBFaXRoZXIubGVmdChuZXcgQ29tcG9zaXRlKGFzdCwgaW5wdXQsIGUsIG91dHB1dCkpO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChleHBlY3RlZEtleXNNYXAsIGtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dFtrZXldID0gdHYucmlnaHQ7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBFZmZlY3Qudm9pZDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICAvLyBjb21wdXRlIHJlc3VsdFxuICAgICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgIGNvbnN0IGNvbXB1dGVSZXN1bHQgPSAoe1xuICAgICAgICAgICAgZXMsXG4gICAgICAgICAgICBvdXRwdXRcbiAgICAgICAgICB9KSA9PiB7XG4gICAgICAgICAgICBpZiAoYXJyYXlfLmlzTm9uRW1wdHlBcnJheShlcykpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIEVpdGhlci5sZWZ0KG5ldyBDb21wb3NpdGUoYXN0LCBpbnB1dCwgc29ydEJ5SW5kZXgoZXMpLCBvdXRwdXQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvcHRpb25zPy5wcm9wZXJ0eU9yZGVyID09PSBcIm9yaWdpbmFsXCIpIHtcbiAgICAgICAgICAgICAgLy8gcHJlc2VydmUgaW5wdXQga2V5cyBvcmRlclxuICAgICAgICAgICAgICBjb25zdCBrZXlzID0gaW5wdXRLZXlzIHx8IHV0aWxfLm93bktleXMoaW5wdXQpO1xuICAgICAgICAgICAgICBmb3IgKGNvbnN0IG5hbWUgb2YgZXhwZWN0ZWRLZXlzKSB7XG4gICAgICAgICAgICAgICAgaWYgKGtleXMuaW5kZXhPZihuYW1lKSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgIGtleXMucHVzaChuYW1lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgY29uc3Qgb3V0ID0ge307XG4gICAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IG9mIGtleXMpIHtcbiAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG91dHB1dCwga2V5KSkge1xuICAgICAgICAgICAgICAgICAgb3V0W2tleV0gPSBvdXRwdXRba2V5XTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcmV0dXJuIEVpdGhlci5yaWdodChvdXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIEVpdGhlci5yaWdodChvdXRwdXQpO1xuICAgICAgICAgIH07XG4gICAgICAgICAgaWYgKHF1ZXVlICYmIHF1ZXVlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IGNxdWV1ZSA9IHF1ZXVlO1xuICAgICAgICAgICAgcmV0dXJuIEVmZmVjdC5zdXNwZW5kKCgpID0+IHtcbiAgICAgICAgICAgICAgY29uc3Qgc3RhdGUgPSB7XG4gICAgICAgICAgICAgICAgZXM6IGFycmF5Xy5jb3B5KGVzKSxcbiAgICAgICAgICAgICAgICBvdXRwdXQ6IE9iamVjdC5hc3NpZ24oe30sIG91dHB1dClcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgcmV0dXJuIEVmZmVjdC5mbGF0TWFwKEVmZmVjdC5mb3JFYWNoKGNxdWV1ZSwgZiA9PiBmKHN0YXRlKSwge1xuICAgICAgICAgICAgICAgIGNvbmN1cnJlbmN5LFxuICAgICAgICAgICAgICAgIGJhdGNoaW5nLFxuICAgICAgICAgICAgICAgIGRpc2NhcmQ6IHRydWVcbiAgICAgICAgICAgICAgfSksICgpID0+IGNvbXB1dGVSZXN1bHQoc3RhdGUpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gY29tcHV0ZVJlc3VsdCh7XG4gICAgICAgICAgICBlcyxcbiAgICAgICAgICAgIG91dHB1dFxuICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgfVxuICAgIGNhc2UgXCJVbmlvblwiOlxuICAgICAge1xuICAgICAgICBjb25zdCBzZWFyY2hUcmVlID0gZ2V0U2VhcmNoVHJlZShhc3QudHlwZXMsIGlzRGVjb2RpbmcpO1xuICAgICAgICBjb25zdCBvd25LZXlzID0gdXRpbF8ub3duS2V5cyhzZWFyY2hUcmVlLmtleXMpO1xuICAgICAgICBjb25zdCBsZW4gPSBvd25LZXlzLmxlbmd0aDtcbiAgICAgICAgY29uc3QgbWFwID0gbmV3IE1hcCgpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFzdC50eXBlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIG1hcC5zZXQoYXN0LnR5cGVzW2ldLCBnb01lbW8oYXN0LnR5cGVzW2ldLCBpc0RlY29kaW5nKSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY29uY3VycmVuY3kgPSBnZXRDb25jdXJyZW5jeShhc3QpID8/IDE7XG4gICAgICAgIGNvbnN0IGJhdGNoaW5nID0gZ2V0QmF0Y2hpbmcoYXN0KTtcbiAgICAgICAgcmV0dXJuIChpbnB1dCwgb3B0aW9ucykgPT4ge1xuICAgICAgICAgIGNvbnN0IGVzID0gW107XG4gICAgICAgICAgbGV0IHN0ZXBLZXkgPSAwO1xuICAgICAgICAgIGxldCBjYW5kaWRhdGVzID0gW107XG4gICAgICAgICAgaWYgKGxlbiA+IDApIHtcbiAgICAgICAgICAgIC8vIGlmIHRoZXJlIGlzIGF0IGxlYXN0IG9uZSBrZXkgdGhlbiBpbnB1dCBtdXN0IGJlIGFuIG9iamVjdFxuICAgICAgICAgICAgaWYgKFByZWRpY2F0ZS5pc1JlY29yZChpbnB1dCkpIHtcbiAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5hbWUgPSBvd25LZXlzW2ldO1xuICAgICAgICAgICAgICAgIGNvbnN0IGJ1Y2tldHMgPSBzZWFyY2hUcmVlLmtleXNbbmFtZV0uYnVja2V0cztcbiAgICAgICAgICAgICAgICAvLyBmb3IgZWFjaCBwcm9wZXJ0eSB0aGF0IHNob3VsZCBjb250YWluIGEgbGl0ZXJhbCwgY2hlY2sgaWYgdGhlIGlucHV0IGNvbnRhaW5zIHRoYXQgcHJvcGVydHlcbiAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGlucHV0LCBuYW1lKSkge1xuICAgICAgICAgICAgICAgICAgY29uc3QgbGl0ZXJhbCA9IFN0cmluZyhpbnB1dFtuYW1lXSk7XG4gICAgICAgICAgICAgICAgICAvLyBjaGVjayB0aGF0IHRoZSB2YWx1ZSBvYnRhaW5lZCBmcm9tIHRoZSBpbnB1dCBmb3IgdGhlIHByb3BlcnR5IGNvcnJlc3BvbmRzIHRvIGFuIGV4aXN0aW5nIGJ1Y2tldFxuICAgICAgICAgICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChidWNrZXRzLCBsaXRlcmFsKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyByZXRyaXZlIHRoZSBtaW5pbWFsIHNldCBvZiBjYW5kaWRhdGVzIGZvciBkZWNvZGluZ1xuICAgICAgICAgICAgICAgICAgICBjYW5kaWRhdGVzID0gY2FuZGlkYXRlcy5jb25jYXQoYnVja2V0c1tsaXRlcmFsXSk7XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBsaXRlcmFscyA9IEFTVC5Vbmlvbi5tYWtlKHNlYXJjaFRyZWUua2V5c1tuYW1lXS5saXRlcmFscyk7XG4gICAgICAgICAgICAgICAgICAgIGVzLnB1c2goW3N0ZXBLZXkrKywgbmV3IENvbXBvc2l0ZShuZXcgQVNULlR5cGVMaXRlcmFsKFtuZXcgQVNULlByb3BlcnR5U2lnbmF0dXJlKG5hbWUsIGxpdGVyYWxzLCBmYWxzZSwgdHJ1ZSldLCBbXSksIGlucHV0LCBuZXcgUG9pbnRlcihuYW1lLCBpbnB1dCwgbmV3IFR5cGUobGl0ZXJhbHMsIGlucHV0W25hbWVdKSkpXSk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IGxpdGVyYWxzID0gQVNULlVuaW9uLm1ha2Uoc2VhcmNoVHJlZS5rZXlzW25hbWVdLmxpdGVyYWxzKTtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IGZha2VwcyA9IG5ldyBBU1QuUHJvcGVydHlTaWduYXR1cmUobmFtZSwgbGl0ZXJhbHMsIGZhbHNlLCB0cnVlKTsgLy8gVE9ETzogaW5oZXJpdCBtZXNzYWdlIGFubm90YXRpb24gZnJvbSB0aGUgdW5pb24/XG4gICAgICAgICAgICAgICAgICBlcy5wdXNoKFtzdGVwS2V5KyssIG5ldyBDb21wb3NpdGUobmV3IEFTVC5UeXBlTGl0ZXJhbChbZmFrZXBzXSwgW10pLCBpbnB1dCwgbmV3IFBvaW50ZXIobmFtZSwgaW5wdXQsIG5ldyBNaXNzaW5nKGZha2VwcykpKV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgZXMucHVzaChbc3RlcEtleSsrLCBuZXcgVHlwZShhc3QsIGlucHV0KV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoc2VhcmNoVHJlZS5vdGhlcndpc2UubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgY2FuZGlkYXRlcyA9IGNhbmRpZGF0ZXMuY29uY2F0KHNlYXJjaFRyZWUub3RoZXJ3aXNlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgbGV0IHF1ZXVlID0gdW5kZWZpbmVkO1xuICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2FuZGlkYXRlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgY2FuZGlkYXRlID0gY2FuZGlkYXRlc1tpXTtcbiAgICAgICAgICAgIGNvbnN0IHByID0gbWFwLmdldChjYW5kaWRhdGUpKGlucHV0LCBvcHRpb25zKTtcbiAgICAgICAgICAgIC8vIHRoZSBtZW1iZXJzIG9mIGEgdW5pb24gYXJlIG9yZGVyZWQgYmFzZWQgb24gd2hpY2ggb25lIHNob3VsZCBiZSBkZWNvZGVkIGZpcnN0LFxuICAgICAgICAgICAgLy8gdGhlcmVmb3JlIGlmIG9uZSBtZW1iZXIgaGFzIGFkZGVkIGEgdGFzaywgYWxsIHN1YnNlcXVlbnQgbWVtYmVycyBtdXN0XG4gICAgICAgICAgICAvLyBhbHNvIGFkZCBhIHRhc2sgdG8gdGhlIHF1ZXVlIGV2ZW4gaWYgdGhleSBhcmUgc3luY2hyb25vdXNcbiAgICAgICAgICAgIGNvbnN0IGV1ID0gIXF1ZXVlIHx8IHF1ZXVlLmxlbmd0aCA9PT0gMCA/IGVpdGhlck9yVW5kZWZpbmVkKHByKSA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGlmIChldSkge1xuICAgICAgICAgICAgICBpZiAoRWl0aGVyLmlzUmlnaHQoZXUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIEVpdGhlci5yaWdodChldS5yaWdodCk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZXMucHVzaChbc3RlcEtleSsrLCBldS5sZWZ0XSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGNvbnN0IG5rID0gc3RlcEtleSsrO1xuICAgICAgICAgICAgICBpZiAoIXF1ZXVlKSB7XG4gICAgICAgICAgICAgICAgcXVldWUgPSBbXTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBxdWV1ZS5wdXNoKHN0YXRlID0+IEVmZmVjdC5zdXNwZW5kKCgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoXCJmaW5hbFJlc3VsdFwiIGluIHN0YXRlKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gRWZmZWN0LnZvaWQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBFZmZlY3QuZmxhdE1hcChFZmZlY3QuZWl0aGVyKHByKSwgdCA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChFaXRoZXIuaXNSaWdodCh0KSkge1xuICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLmZpbmFsUmVzdWx0ID0gRWl0aGVyLnJpZ2h0KHQucmlnaHQpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLmVzLnB1c2goW25rLCB0LmxlZnRdKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gRWZmZWN0LnZvaWQ7XG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAgLy8gY29tcHV0ZSByZXN1bHRcbiAgICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICBjb25zdCBjb21wdXRlUmVzdWx0ID0gZXMgPT4gYXJyYXlfLmlzTm9uRW1wdHlBcnJheShlcykgPyBlcy5sZW5ndGggPT09IDEgJiYgZXNbMF1bMV0uX3RhZyA9PT0gXCJUeXBlXCIgPyBFaXRoZXIubGVmdChlc1swXVsxXSkgOiBFaXRoZXIubGVmdChuZXcgQ29tcG9zaXRlKGFzdCwgaW5wdXQsIHNvcnRCeUluZGV4KGVzKSkpIDpcbiAgICAgICAgICAvLyB0aGlzIHNob3VsZCBuZXZlciBoYXBwZW5cbiAgICAgICAgICBFaXRoZXIubGVmdChuZXcgVHlwZShhc3QsIGlucHV0KSk7XG4gICAgICAgICAgaWYgKHF1ZXVlICYmIHF1ZXVlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IGNxdWV1ZSA9IHF1ZXVlO1xuICAgICAgICAgICAgcmV0dXJuIEVmZmVjdC5zdXNwZW5kKCgpID0+IHtcbiAgICAgICAgICAgICAgY29uc3Qgc3RhdGUgPSB7XG4gICAgICAgICAgICAgICAgZXM6IGFycmF5Xy5jb3B5KGVzKVxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICByZXR1cm4gRWZmZWN0LmZsYXRNYXAoRWZmZWN0LmZvckVhY2goY3F1ZXVlLCBmID0+IGYoc3RhdGUpLCB7XG4gICAgICAgICAgICAgICAgY29uY3VycmVuY3ksXG4gICAgICAgICAgICAgICAgYmF0Y2hpbmcsXG4gICAgICAgICAgICAgICAgZGlzY2FyZDogdHJ1ZVxuICAgICAgICAgICAgICB9KSwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChcImZpbmFsUmVzdWx0XCIgaW4gc3RhdGUpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBzdGF0ZS5maW5hbFJlc3VsdDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbXB1dGVSZXN1bHQoc3RhdGUuZXMpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gY29tcHV0ZVJlc3VsdChlcyk7XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgY2FzZSBcIlN1c3BlbmRcIjpcbiAgICAgIHtcbiAgICAgICAgY29uc3QgZ2V0ID0gdXRpbF8ubWVtb2l6ZVRodW5rKCgpID0+IGdvTWVtbyhBU1QuYW5ub3RhdGlvbnMoYXN0LmYoKSwgYXN0LmFubm90YXRpb25zKSwgaXNEZWNvZGluZykpO1xuICAgICAgICByZXR1cm4gKGEsIG9wdGlvbnMpID0+IGdldCgpKGEsIG9wdGlvbnMpO1xuICAgICAgfVxuICB9XG59O1xuY29uc3QgZnJvbVJlZmluZW1lbnQgPSAoYXN0LCByZWZpbmVtZW50KSA9PiB1ID0+IHJlZmluZW1lbnQodSkgPyBFaXRoZXIucmlnaHQodSkgOiBFaXRoZXIubGVmdChuZXcgVHlwZShhc3QsIHUpKTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBnZXRMaXRlcmFscyA9IChhc3QsIGlzRGVjb2RpbmcpID0+IHtcbiAgc3dpdGNoIChhc3QuX3RhZykge1xuICAgIGNhc2UgXCJEZWNsYXJhdGlvblwiOlxuICAgICAge1xuICAgICAgICBjb25zdCBhbm5vdGF0aW9uID0gQVNULmdldFN1cnJvZ2F0ZUFubm90YXRpb24oYXN0KTtcbiAgICAgICAgaWYgKE9wdGlvbi5pc1NvbWUoYW5ub3RhdGlvbikpIHtcbiAgICAgICAgICByZXR1cm4gZ2V0TGl0ZXJhbHMoYW5ub3RhdGlvbi52YWx1ZSwgaXNEZWNvZGluZyk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgY2FzZSBcIlR5cGVMaXRlcmFsXCI6XG4gICAgICB7XG4gICAgICAgIGNvbnN0IG91dCA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFzdC5wcm9wZXJ0eVNpZ25hdHVyZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBjb25zdCBwcm9wZXJ0eVNpZ25hdHVyZSA9IGFzdC5wcm9wZXJ0eVNpZ25hdHVyZXNbaV07XG4gICAgICAgICAgY29uc3QgdHlwZSA9IGlzRGVjb2RpbmcgPyBBU1QuZW5jb2RlZEFTVChwcm9wZXJ0eVNpZ25hdHVyZS50eXBlKSA6IEFTVC50eXBlQVNUKHByb3BlcnR5U2lnbmF0dXJlLnR5cGUpO1xuICAgICAgICAgIGlmIChBU1QuaXNMaXRlcmFsKHR5cGUpICYmICFwcm9wZXJ0eVNpZ25hdHVyZS5pc09wdGlvbmFsKSB7XG4gICAgICAgICAgICBvdXQucHVzaChbcHJvcGVydHlTaWduYXR1cmUubmFtZSwgdHlwZV0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb3V0O1xuICAgICAgfVxuICAgIGNhc2UgXCJSZWZpbmVtZW50XCI6XG4gICAgICByZXR1cm4gZ2V0TGl0ZXJhbHMoYXN0LmZyb20sIGlzRGVjb2RpbmcpO1xuICAgIGNhc2UgXCJTdXNwZW5kXCI6XG4gICAgICByZXR1cm4gZ2V0TGl0ZXJhbHMoYXN0LmYoKSwgaXNEZWNvZGluZyk7XG4gICAgY2FzZSBcIlRyYW5zZm9ybWF0aW9uXCI6XG4gICAgICByZXR1cm4gZ2V0TGl0ZXJhbHMoaXNEZWNvZGluZyA/IGFzdC5mcm9tIDogYXN0LnRvLCBpc0RlY29kaW5nKTtcbiAgfVxuICByZXR1cm4gW107XG59O1xuLyoqXG4gKiBUaGUgcHVycG9zZSBvZiB0aGUgYWxnb3JpdGhtIGlzIHRvIG5hcnJvdyBkb3duIHRoZSBwb29sIG9mIHBvc3NpYmxlIGNhbmRpZGF0ZXMgZm9yIGRlY29kaW5nIGFzIG11Y2ggYXMgcG9zc2libGUuXG4gKlxuICogVGhpcyBmdW5jdGlvbiBzZXBhcmF0ZXMgdGhlIHNjaGVtYXMgaW50byB0d28gZ3JvdXBzLCBga2V5c2AgYW5kIGBvdGhlcndpc2VgOlxuICpcbiAqIC0gYGtleXNgOiB0aGUgc2NoZW1hIGhhcyBhdCBsZWFzdCBvbmUgcHJvcGVydHkgd2l0aCBhIGxpdGVyYWwgdmFsdWVcbiAqIC0gYG90aGVyd2lzZWA6IHRoZSBzY2hlbWEgaGFzIG5vIHByb3BlcnRpZXMgd2l0aCBhIGxpdGVyYWwgdmFsdWVcbiAqXG4gKiBJZiBhIHNjaGVtYSBoYXMgYXQgbGVhc3Qgb25lIHByb3BlcnR5IHdpdGggYSBsaXRlcmFsIHZhbHVlLCBzbyBpdCBlbmRzIHVwIGluIGBrZXlzYCwgZmlyc3QgYSBuYW1lc3BhY2UgaXMgY3JlYXRlZCBmb3JcbiAqIHRoZSBuYW1lIG9mIHRoZSBwcm9wZXJ0eSBjb250YWluaW5nIHRoZSBsaXRlcmFsLCBhbmQgdGhlbiB3aXRoaW4gdGhpcyBuYW1lc3BhY2UgYSBcImJ1Y2tldFwiIGlzIGNyZWF0ZWQgZm9yIHRoZSBsaXRlcmFsXG4gKiB2YWx1ZSBpbiB3aGljaCB0byBzdG9yZSBhbGwgdGhlIHNjaGVtYXMgdGhhdCBoYXZlIHRoZSBzYW1lIHByb3BlcnR5IGFuZCBsaXRlcmFsIHZhbHVlLlxuICpcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgZ2V0U2VhcmNoVHJlZSA9IChtZW1iZXJzLCBpc0RlY29kaW5nKSA9PiB7XG4gIGNvbnN0IGtleXMgPSB7fTtcbiAgY29uc3Qgb3RoZXJ3aXNlID0gW107XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbWVtYmVycy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IG1lbWJlciA9IG1lbWJlcnNbaV07XG4gICAgY29uc3QgdGFncyA9IGdldExpdGVyYWxzKG1lbWJlciwgaXNEZWNvZGluZyk7XG4gICAgaWYgKHRhZ3MubGVuZ3RoID4gMCkge1xuICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCB0YWdzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIGNvbnN0IFtrZXksIGxpdGVyYWxdID0gdGFnc1tqXTtcbiAgICAgICAgY29uc3QgaGFzaCA9IFN0cmluZyhsaXRlcmFsLmxpdGVyYWwpO1xuICAgICAgICBrZXlzW2tleV0gPSBrZXlzW2tleV0gfHwge1xuICAgICAgICAgIGJ1Y2tldHM6IHt9LFxuICAgICAgICAgIGxpdGVyYWxzOiBbXVxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBidWNrZXRzID0ga2V5c1trZXldLmJ1Y2tldHM7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYnVja2V0cywgaGFzaCkpIHtcbiAgICAgICAgICBpZiAoaiA8IHRhZ3MubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJ1Y2tldHNbaGFzaF0ucHVzaChtZW1iZXIpO1xuICAgICAgICAgIGtleXNba2V5XS5saXRlcmFscy5wdXNoKGxpdGVyYWwpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGJ1Y2tldHNbaGFzaF0gPSBbbWVtYmVyXTtcbiAgICAgICAgICBrZXlzW2tleV0ubGl0ZXJhbHMucHVzaChsaXRlcmFsKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBvdGhlcndpc2UucHVzaChtZW1iZXIpO1xuICAgIH1cbiAgfVxuICByZXR1cm4ge1xuICAgIGtleXMsXG4gICAgb3RoZXJ3aXNlXG4gIH07XG59O1xuY29uc3QgZHJvcFJpZ2h0UmVmaW5lbWVudCA9IGFzdCA9PiBBU1QuaXNSZWZpbmVtZW50KGFzdCkgPyBkcm9wUmlnaHRSZWZpbmVtZW50KGFzdC5mcm9tKSA6IGFzdDtcbmNvbnN0IGhhbmRsZUZvcmJpZGRlbiA9IChlZmZlY3QsIGFzdCwgYWN0dWFsLCBvcHRpb25zKSA9PiB7XG4gIGNvbnN0IGV1ID0gZWl0aGVyT3JVbmRlZmluZWQoZWZmZWN0KTtcbiAgaWYgKGV1KSB7XG4gICAgcmV0dXJuIGV1O1xuICB9XG4gIGlmIChvcHRpb25zPy5pc0VmZmVjdEFsbG93ZWQgPT09IHRydWUpIHtcbiAgICByZXR1cm4gZWZmZWN0O1xuICB9XG4gIHRyeSB7XG4gICAgcmV0dXJuIEVmZmVjdC5ydW5TeW5jKEVmZmVjdC5laXRoZXIoZWZmZWN0KSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gRWl0aGVyLmxlZnQobmV3IEZvcmJpZGRlbihhc3QsIGFjdHVhbCwgXCJjYW5ub3QgYmUgYmUgcmVzb2x2ZWQgc3luY2hyb25vdXNseSwgdGhpcyBpcyBjYXVzZWQgYnkgdXNpbmcgcnVuU3luYyBvbiBhbiBlZmZlY3QgdGhhdCBwZXJmb3JtcyBhc3luYyB3b3JrXCIpKTtcbiAgfVxufTtcbmNvbnN0IGNvbXBhcmUgPSAoW2FdLCBbYl0pID0+IGEgPiBiID8gMSA6IGEgPCBiID8gLTEgOiAwO1xuZnVuY3Rpb24gc29ydEJ5SW5kZXgoZXMpIHtcbiAgcmV0dXJuIGVzLnNvcnQoY29tcGFyZSkubWFwKHQgPT4gdFsxXSk7XG59XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyB0cmFuc2Zvcm1hdGlvbnMgaW50ZXJwcmV0ZXJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBnZXRGaW5hbFRyYW5zZm9ybWF0aW9uID0gKHRyYW5zZm9ybWF0aW9uLCBpc0RlY29kaW5nKSA9PiB7XG4gIHN3aXRjaCAodHJhbnNmb3JtYXRpb24uX3RhZykge1xuICAgIGNhc2UgXCJGaW5hbFRyYW5zZm9ybWF0aW9uXCI6XG4gICAgICByZXR1cm4gaXNEZWNvZGluZyA/IHRyYW5zZm9ybWF0aW9uLmRlY29kZSA6IHRyYW5zZm9ybWF0aW9uLmVuY29kZTtcbiAgICBjYXNlIFwiQ29tcG9zZVRyYW5zZm9ybWF0aW9uXCI6XG4gICAgICByZXR1cm4gRWl0aGVyLnJpZ2h0O1xuICAgIGNhc2UgXCJUeXBlTGl0ZXJhbFRyYW5zZm9ybWF0aW9uXCI6XG4gICAgICByZXR1cm4gaW5wdXQgPT4ge1xuICAgICAgICBsZXQgb3V0ID0gRWl0aGVyLnJpZ2h0KGlucHV0KTtcbiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIC8vIGhhbmRsZSBwcm9wZXJ0eSBzaWduYXR1cmUgdHJhbnNmb3JtYXRpb25zXG4gICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICBmb3IgKGNvbnN0IHBzdCBvZiB0cmFuc2Zvcm1hdGlvbi5wcm9wZXJ0eVNpZ25hdHVyZVRyYW5zZm9ybWF0aW9ucykge1xuICAgICAgICAgIGNvbnN0IFtmcm9tLCB0b10gPSBpc0RlY29kaW5nID8gW3BzdC5mcm9tLCBwc3QudG9dIDogW3BzdC50bywgcHN0LmZyb21dO1xuICAgICAgICAgIGNvbnN0IHRyYW5zZm9ybWF0aW9uID0gaXNEZWNvZGluZyA/IHBzdC5kZWNvZGUgOiBwc3QuZW5jb2RlO1xuICAgICAgICAgIGNvbnN0IGYgPSBpbnB1dCA9PiB7XG4gICAgICAgICAgICBjb25zdCBvID0gdHJhbnNmb3JtYXRpb24oT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGlucHV0LCBmcm9tKSA/IE9wdGlvbi5zb21lKGlucHV0W2Zyb21dKSA6IE9wdGlvbi5ub25lKCkpO1xuICAgICAgICAgICAgZGVsZXRlIGlucHV0W2Zyb21dO1xuICAgICAgICAgICAgaWYgKE9wdGlvbi5pc1NvbWUobykpIHtcbiAgICAgICAgICAgICAgaW5wdXRbdG9dID0gby52YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBpbnB1dDtcbiAgICAgICAgICB9O1xuICAgICAgICAgIG91dCA9IG1hcChvdXQsIGYpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgICB9O1xuICB9XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UGFyc2VSZXN1bHQuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@effect/schema/dist/esm/ParseResult.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@effect/schema/dist/esm/Pretty.js":
/*!********************************************************!*\
  !*** ./node_modules/@effect/schema/dist/esm/Pretty.js ***!
  \********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PrettyHookId: () => (/* binding */ PrettyHookId),\n/* harmony export */   make: () => (/* binding */ make),\n/* harmony export */   match: () => (/* binding */ match),\n/* harmony export */   pretty: () => (/* binding */ pretty)\n/* harmony export */ });\n/* harmony import */ var effect_Array__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! effect/Array */ \"(rsc)/./node_modules/effect/dist/esm/Array.js\");\n/* harmony import */ var effect_Option__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! effect/Option */ \"(rsc)/./node_modules/effect/dist/esm/Option.js\");\n/* harmony import */ var _AST_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./AST.js */ \"(rsc)/./node_modules/@effect/schema/dist/esm/AST.js\");\n/* harmony import */ var _internal_errors_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./internal/errors.js */ \"(rsc)/./node_modules/@effect/schema/dist/esm/internal/errors.js\");\n/* harmony import */ var _internal_util_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./internal/util.js */ \"(rsc)/./node_modules/@effect/schema/dist/esm/internal/util.js\");\n/* harmony import */ var _ParseResult_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./ParseResult.js */ \"(rsc)/./node_modules/@effect/schema/dist/esm/ParseResult.js\");\n/**\n * @since 0.67.0\n */\n\n\n\n\n\n\n/**\n * @category hooks\n * @since 0.67.0\n */\nconst PrettyHookId = /*#__PURE__*/Symbol.for(\"@effect/schema/PrettyHookId\");\n/**\n * @category annotations\n * @since 0.67.0\n */\nconst pretty = handler => self => self.annotations({\n  [PrettyHookId]: handler\n});\n/**\n * @category prettify\n * @since 0.67.0\n */\nconst make = schema => compile(schema.ast, []);\nconst getHook = /*#__PURE__*/_AST_js__WEBPACK_IMPORTED_MODULE_0__.getAnnotation(PrettyHookId);\nconst getMatcher = defaultPretty => ast => effect_Option__WEBPACK_IMPORTED_MODULE_1__.match(getHook(ast), {\n  onNone: () => defaultPretty,\n  onSome: handler => handler()\n});\nconst toString = /*#__PURE__*/getMatcher(a => String(a));\nconst stringify = /*#__PURE__*/getMatcher(a => JSON.stringify(a));\nconst formatUnknown = /*#__PURE__*/getMatcher(_internal_util_js__WEBPACK_IMPORTED_MODULE_2__.formatUnknown);\n/**\n * @since 0.67.0\n */\nconst match = {\n  \"Declaration\": (ast, go, path) => {\n    const hook = getHook(ast);\n    if (effect_Option__WEBPACK_IMPORTED_MODULE_1__.isSome(hook)) {\n      return hook.value(...ast.typeParameters.map(tp => go(tp, path)));\n    }\n    throw new Error(_internal_errors_js__WEBPACK_IMPORTED_MODULE_3__.getPrettyMissingAnnotationErrorMessage(path, ast));\n  },\n  \"VoidKeyword\": /*#__PURE__*/getMatcher(() => \"void(0)\"),\n  \"NeverKeyword\": /*#__PURE__*/getMatcher(() => {\n    throw new Error(_internal_errors_js__WEBPACK_IMPORTED_MODULE_3__.getPrettyNeverErrorMessage);\n  }),\n  \"Literal\": /*#__PURE__*/getMatcher(literal => typeof literal === \"bigint\" ? `${String(literal)}n` : JSON.stringify(literal)),\n  \"SymbolKeyword\": toString,\n  \"UniqueSymbol\": toString,\n  \"TemplateLiteral\": stringify,\n  \"UndefinedKeyword\": toString,\n  \"UnknownKeyword\": formatUnknown,\n  \"AnyKeyword\": formatUnknown,\n  \"ObjectKeyword\": formatUnknown,\n  \"StringKeyword\": stringify,\n  \"NumberKeyword\": toString,\n  \"BooleanKeyword\": toString,\n  \"BigIntKeyword\": /*#__PURE__*/getMatcher(a => `${String(a)}n`),\n  \"Enums\": stringify,\n  \"TupleType\": (ast, go, path) => {\n    const hook = getHook(ast);\n    if (effect_Option__WEBPACK_IMPORTED_MODULE_1__.isSome(hook)) {\n      return hook.value();\n    }\n    const elements = ast.elements.map((e, i) => go(e.type, path.concat(i)));\n    const rest = ast.rest.map(annotatedAST => go(annotatedAST.type, path));\n    return input => {\n      const output = [];\n      let i = 0;\n      // ---------------------------------------------\n      // handle elements\n      // ---------------------------------------------\n      for (; i < elements.length; i++) {\n        if (input.length < i + 1) {\n          if (ast.elements[i].isOptional) {\n            continue;\n          }\n        } else {\n          output.push(elements[i](input[i]));\n        }\n      }\n      // ---------------------------------------------\n      // handle rest element\n      // ---------------------------------------------\n      if (effect_Array__WEBPACK_IMPORTED_MODULE_4__.isNonEmptyReadonlyArray(rest)) {\n        const [head, ...tail] = rest;\n        for (; i < input.length - tail.length; i++) {\n          output.push(head(input[i]));\n        }\n        // ---------------------------------------------\n        // handle post rest elements\n        // ---------------------------------------------\n        for (let j = 0; j < tail.length; j++) {\n          i += j;\n          output.push(tail[j](input[i]));\n        }\n      }\n      return \"[\" + output.join(\", \") + \"]\";\n    };\n  },\n  \"TypeLiteral\": (ast, go, path) => {\n    const hook = getHook(ast);\n    if (effect_Option__WEBPACK_IMPORTED_MODULE_1__.isSome(hook)) {\n      return hook.value();\n    }\n    const propertySignaturesTypes = ast.propertySignatures.map(ps => go(ps.type, path.concat(ps.name)));\n    const indexSignatureTypes = ast.indexSignatures.map(is => go(is.type, path));\n    const expectedKeys = {};\n    for (let i = 0; i < propertySignaturesTypes.length; i++) {\n      expectedKeys[ast.propertySignatures[i].name] = null;\n    }\n    return input => {\n      const output = [];\n      // ---------------------------------------------\n      // handle property signatures\n      // ---------------------------------------------\n      for (let i = 0; i < propertySignaturesTypes.length; i++) {\n        const ps = ast.propertySignatures[i];\n        const name = ps.name;\n        if (ps.isOptional && !Object.prototype.hasOwnProperty.call(input, name)) {\n          continue;\n        }\n        output.push(`${_internal_util_js__WEBPACK_IMPORTED_MODULE_2__.formatPropertyKey(name)}: ${propertySignaturesTypes[i](input[name])}`);\n      }\n      // ---------------------------------------------\n      // handle index signatures\n      // ---------------------------------------------\n      if (indexSignatureTypes.length > 0) {\n        for (let i = 0; i < indexSignatureTypes.length; i++) {\n          const type = indexSignatureTypes[i];\n          const keys = _internal_util_js__WEBPACK_IMPORTED_MODULE_2__.getKeysForIndexSignature(input, ast.indexSignatures[i].parameter);\n          for (const key of keys) {\n            if (Object.prototype.hasOwnProperty.call(expectedKeys, key)) {\n              continue;\n            }\n            output.push(`${_internal_util_js__WEBPACK_IMPORTED_MODULE_2__.formatPropertyKey(key)}: ${type(input[key])}`);\n          }\n        }\n      }\n      return effect_Array__WEBPACK_IMPORTED_MODULE_4__.isNonEmptyReadonlyArray(output) ? \"{ \" + output.join(\", \") + \" }\" : \"{}\";\n    };\n  },\n  \"Union\": (ast, go, path) => {\n    const hook = getHook(ast);\n    if (effect_Option__WEBPACK_IMPORTED_MODULE_1__.isSome(hook)) {\n      return hook.value();\n    }\n    const types = ast.types.map(ast => [_ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.is({\n      ast\n    }), go(ast, path)]);\n    return a => {\n      const index = types.findIndex(([is]) => is(a));\n      if (index === -1) {\n        throw new Error(_internal_errors_js__WEBPACK_IMPORTED_MODULE_3__.getPrettyNoMatchingSchemaErrorMessage(a, path, ast));\n      }\n      return types[index][1](a);\n    };\n  },\n  \"Suspend\": (ast, go, path) => {\n    return effect_Option__WEBPACK_IMPORTED_MODULE_1__.match(getHook(ast), {\n      onNone: () => {\n        const get = _internal_util_js__WEBPACK_IMPORTED_MODULE_2__.memoizeThunk(() => go(ast.f(), path));\n        return a => get()(a);\n      },\n      onSome: handler => handler()\n    });\n  },\n  \"Refinement\": (ast, go, path) => {\n    return effect_Option__WEBPACK_IMPORTED_MODULE_1__.match(getHook(ast), {\n      onNone: () => go(ast.from, path),\n      onSome: handler => handler()\n    });\n  },\n  \"Transformation\": (ast, go, path) => {\n    return effect_Option__WEBPACK_IMPORTED_MODULE_1__.match(getHook(ast), {\n      onNone: () => go(ast.to, path),\n      onSome: handler => handler()\n    });\n  }\n};\nconst compile = /*#__PURE__*/_AST_js__WEBPACK_IMPORTED_MODULE_0__.getCompiler(match);\n//# sourceMappingURL=Pretty.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGVmZmVjdC9zY2hlbWEvZGlzdC9lc20vUHJldHR5LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDb0M7QUFDSTtBQUNSO0FBQ2dCO0FBQ0o7QUFDSTtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUCw2QkFBNkIsa0RBQWlCO0FBQzlDLDJDQUEyQyxnREFBWTtBQUN2RDtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQSw4Q0FBOEMsNERBQW1CO0FBQ2pFO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBLFFBQVEsaURBQWE7QUFDckI7QUFDQTtBQUNBLG9CQUFvQix1RkFBOEM7QUFDbEUsR0FBRztBQUNIO0FBQ0E7QUFDQSxvQkFBb0IsMkVBQWtDO0FBQ3RELEdBQUc7QUFDSCxpRkFBaUYsZ0JBQWdCO0FBQ2pHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbURBQW1ELFVBQVU7QUFDN0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSxpREFBYTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEscUJBQXFCO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsaUVBQTJCO0FBQ3JDO0FBQ0EsZUFBZSxnQ0FBZ0M7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixpQkFBaUI7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxRQUFRLGlEQUFhO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0Isb0NBQW9DO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLG9DQUFvQztBQUMxRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLGdFQUF1QixPQUFPLElBQUksd0NBQXdDO0FBQ2pHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0NBQWdDO0FBQ3hEO0FBQ0EsdUJBQXVCLHVFQUE4QjtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixnRUFBdUIsTUFBTSxJQUFJLGlCQUFpQjtBQUM3RTtBQUNBO0FBQ0E7QUFDQSxhQUFhLGlFQUEyQixjQUFjLDJCQUEyQixPQUFPO0FBQ3hGO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxRQUFRLGlEQUFhO0FBQ3JCO0FBQ0E7QUFDQSx3Q0FBd0MsK0NBQWM7QUFDdEQ7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHNGQUE2QztBQUNyRTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxXQUFXLGdEQUFZO0FBQ3ZCO0FBQ0Esb0JBQW9CLDJEQUFrQjtBQUN0QztBQUNBLE9BQU87QUFDUDtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQSxXQUFXLGdEQUFZO0FBQ3ZCO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0EsV0FBVyxnREFBWTtBQUN2QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSw2QkFBNkIsZ0RBQWU7QUFDNUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jYXNlY29icmEtZGV2Ly4vbm9kZV9tb2R1bGVzL0BlZmZlY3Qvc2NoZW1hL2Rpc3QvZXNtL1ByZXR0eS5qcz8wNzhkIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQHNpbmNlIDAuNjcuMFxuICovXG5pbXBvcnQgKiBhcyBBcnIgZnJvbSBcImVmZmVjdC9BcnJheVwiO1xuaW1wb3J0ICogYXMgT3B0aW9uIGZyb20gXCJlZmZlY3QvT3B0aW9uXCI7XG5pbXBvcnQgKiBhcyBBU1QgZnJvbSBcIi4vQVNULmpzXCI7XG5pbXBvcnQgKiBhcyBlcnJvcnNfIGZyb20gXCIuL2ludGVybmFsL2Vycm9ycy5qc1wiO1xuaW1wb3J0ICogYXMgdXRpbF8gZnJvbSBcIi4vaW50ZXJuYWwvdXRpbC5qc1wiO1xuaW1wb3J0ICogYXMgUGFyc2VSZXN1bHQgZnJvbSBcIi4vUGFyc2VSZXN1bHQuanNcIjtcbi8qKlxuICogQGNhdGVnb3J5IGhvb2tzXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjb25zdCBQcmV0dHlIb29rSWQgPSAvKiNfX1BVUkVfXyovU3ltYm9sLmZvcihcIkBlZmZlY3Qvc2NoZW1hL1ByZXR0eUhvb2tJZFwiKTtcbi8qKlxuICogQGNhdGVnb3J5IGFubm90YXRpb25zXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjb25zdCBwcmV0dHkgPSBoYW5kbGVyID0+IHNlbGYgPT4gc2VsZi5hbm5vdGF0aW9ucyh7XG4gIFtQcmV0dHlIb29rSWRdOiBoYW5kbGVyXG59KTtcbi8qKlxuICogQGNhdGVnb3J5IHByZXR0aWZ5XG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjb25zdCBtYWtlID0gc2NoZW1hID0+IGNvbXBpbGUoc2NoZW1hLmFzdCwgW10pO1xuY29uc3QgZ2V0SG9vayA9IC8qI19fUFVSRV9fKi9BU1QuZ2V0QW5ub3RhdGlvbihQcmV0dHlIb29rSWQpO1xuY29uc3QgZ2V0TWF0Y2hlciA9IGRlZmF1bHRQcmV0dHkgPT4gYXN0ID0+IE9wdGlvbi5tYXRjaChnZXRIb29rKGFzdCksIHtcbiAgb25Ob25lOiAoKSA9PiBkZWZhdWx0UHJldHR5LFxuICBvblNvbWU6IGhhbmRsZXIgPT4gaGFuZGxlcigpXG59KTtcbmNvbnN0IHRvU3RyaW5nID0gLyojX19QVVJFX18qL2dldE1hdGNoZXIoYSA9PiBTdHJpbmcoYSkpO1xuY29uc3Qgc3RyaW5naWZ5ID0gLyojX19QVVJFX18qL2dldE1hdGNoZXIoYSA9PiBKU09OLnN0cmluZ2lmeShhKSk7XG5jb25zdCBmb3JtYXRVbmtub3duID0gLyojX19QVVJFX18qL2dldE1hdGNoZXIodXRpbF8uZm9ybWF0VW5rbm93bik7XG4vKipcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNvbnN0IG1hdGNoID0ge1xuICBcIkRlY2xhcmF0aW9uXCI6IChhc3QsIGdvLCBwYXRoKSA9PiB7XG4gICAgY29uc3QgaG9vayA9IGdldEhvb2soYXN0KTtcbiAgICBpZiAoT3B0aW9uLmlzU29tZShob29rKSkge1xuICAgICAgcmV0dXJuIGhvb2sudmFsdWUoLi4uYXN0LnR5cGVQYXJhbWV0ZXJzLm1hcCh0cCA9PiBnbyh0cCwgcGF0aCkpKTtcbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKGVycm9yc18uZ2V0UHJldHR5TWlzc2luZ0Fubm90YXRpb25FcnJvck1lc3NhZ2UocGF0aCwgYXN0KSk7XG4gIH0sXG4gIFwiVm9pZEtleXdvcmRcIjogLyojX19QVVJFX18qL2dldE1hdGNoZXIoKCkgPT4gXCJ2b2lkKDApXCIpLFxuICBcIk5ldmVyS2V5d29yZFwiOiAvKiNfX1BVUkVfXyovZ2V0TWF0Y2hlcigoKSA9PiB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGVycm9yc18uZ2V0UHJldHR5TmV2ZXJFcnJvck1lc3NhZ2UpO1xuICB9KSxcbiAgXCJMaXRlcmFsXCI6IC8qI19fUFVSRV9fKi9nZXRNYXRjaGVyKGxpdGVyYWwgPT4gdHlwZW9mIGxpdGVyYWwgPT09IFwiYmlnaW50XCIgPyBgJHtTdHJpbmcobGl0ZXJhbCl9bmAgOiBKU09OLnN0cmluZ2lmeShsaXRlcmFsKSksXG4gIFwiU3ltYm9sS2V5d29yZFwiOiB0b1N0cmluZyxcbiAgXCJVbmlxdWVTeW1ib2xcIjogdG9TdHJpbmcsXG4gIFwiVGVtcGxhdGVMaXRlcmFsXCI6IHN0cmluZ2lmeSxcbiAgXCJVbmRlZmluZWRLZXl3b3JkXCI6IHRvU3RyaW5nLFxuICBcIlVua25vd25LZXl3b3JkXCI6IGZvcm1hdFVua25vd24sXG4gIFwiQW55S2V5d29yZFwiOiBmb3JtYXRVbmtub3duLFxuICBcIk9iamVjdEtleXdvcmRcIjogZm9ybWF0VW5rbm93bixcbiAgXCJTdHJpbmdLZXl3b3JkXCI6IHN0cmluZ2lmeSxcbiAgXCJOdW1iZXJLZXl3b3JkXCI6IHRvU3RyaW5nLFxuICBcIkJvb2xlYW5LZXl3b3JkXCI6IHRvU3RyaW5nLFxuICBcIkJpZ0ludEtleXdvcmRcIjogLyojX19QVVJFX18qL2dldE1hdGNoZXIoYSA9PiBgJHtTdHJpbmcoYSl9bmApLFxuICBcIkVudW1zXCI6IHN0cmluZ2lmeSxcbiAgXCJUdXBsZVR5cGVcIjogKGFzdCwgZ28sIHBhdGgpID0+IHtcbiAgICBjb25zdCBob29rID0gZ2V0SG9vayhhc3QpO1xuICAgIGlmIChPcHRpb24uaXNTb21lKGhvb2spKSB7XG4gICAgICByZXR1cm4gaG9vay52YWx1ZSgpO1xuICAgIH1cbiAgICBjb25zdCBlbGVtZW50cyA9IGFzdC5lbGVtZW50cy5tYXAoKGUsIGkpID0+IGdvKGUudHlwZSwgcGF0aC5jb25jYXQoaSkpKTtcbiAgICBjb25zdCByZXN0ID0gYXN0LnJlc3QubWFwKGFubm90YXRlZEFTVCA9PiBnbyhhbm5vdGF0ZWRBU1QudHlwZSwgcGF0aCkpO1xuICAgIHJldHVybiBpbnB1dCA9PiB7XG4gICAgICBjb25zdCBvdXRwdXQgPSBbXTtcbiAgICAgIGxldCBpID0gMDtcbiAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgLy8gaGFuZGxlIGVsZW1lbnRzXG4gICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgIGZvciAoOyBpIDwgZWxlbWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGlucHV0Lmxlbmd0aCA8IGkgKyAxKSB7XG4gICAgICAgICAgaWYgKGFzdC5lbGVtZW50c1tpXS5pc09wdGlvbmFsKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb3V0cHV0LnB1c2goZWxlbWVudHNbaV0oaW5wdXRbaV0pKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAvLyBoYW5kbGUgcmVzdCBlbGVtZW50XG4gICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgIGlmIChBcnIuaXNOb25FbXB0eVJlYWRvbmx5QXJyYXkocmVzdCkpIHtcbiAgICAgICAgY29uc3QgW2hlYWQsIC4uLnRhaWxdID0gcmVzdDtcbiAgICAgICAgZm9yICg7IGkgPCBpbnB1dC5sZW5ndGggLSB0YWlsLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgb3V0cHV0LnB1c2goaGVhZChpbnB1dFtpXSkpO1xuICAgICAgICB9XG4gICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAvLyBoYW5kbGUgcG9zdCByZXN0IGVsZW1lbnRzXG4gICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHRhaWwubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICBpICs9IGo7XG4gICAgICAgICAgb3V0cHV0LnB1c2godGFpbFtqXShpbnB1dFtpXSkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gXCJbXCIgKyBvdXRwdXQuam9pbihcIiwgXCIpICsgXCJdXCI7XG4gICAgfTtcbiAgfSxcbiAgXCJUeXBlTGl0ZXJhbFwiOiAoYXN0LCBnbywgcGF0aCkgPT4ge1xuICAgIGNvbnN0IGhvb2sgPSBnZXRIb29rKGFzdCk7XG4gICAgaWYgKE9wdGlvbi5pc1NvbWUoaG9vaykpIHtcbiAgICAgIHJldHVybiBob29rLnZhbHVlKCk7XG4gICAgfVxuICAgIGNvbnN0IHByb3BlcnR5U2lnbmF0dXJlc1R5cGVzID0gYXN0LnByb3BlcnR5U2lnbmF0dXJlcy5tYXAocHMgPT4gZ28ocHMudHlwZSwgcGF0aC5jb25jYXQocHMubmFtZSkpKTtcbiAgICBjb25zdCBpbmRleFNpZ25hdHVyZVR5cGVzID0gYXN0LmluZGV4U2lnbmF0dXJlcy5tYXAoaXMgPT4gZ28oaXMudHlwZSwgcGF0aCkpO1xuICAgIGNvbnN0IGV4cGVjdGVkS2V5cyA9IHt9O1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcHJvcGVydHlTaWduYXR1cmVzVHlwZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGV4cGVjdGVkS2V5c1thc3QucHJvcGVydHlTaWduYXR1cmVzW2ldLm5hbWVdID0gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIGlucHV0ID0+IHtcbiAgICAgIGNvbnN0IG91dHB1dCA9IFtdO1xuICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAvLyBoYW5kbGUgcHJvcGVydHkgc2lnbmF0dXJlc1xuICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHByb3BlcnR5U2lnbmF0dXJlc1R5cGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHBzID0gYXN0LnByb3BlcnR5U2lnbmF0dXJlc1tpXTtcbiAgICAgICAgY29uc3QgbmFtZSA9IHBzLm5hbWU7XG4gICAgICAgIGlmIChwcy5pc09wdGlvbmFsICYmICFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoaW5wdXQsIG5hbWUpKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgb3V0cHV0LnB1c2goYCR7dXRpbF8uZm9ybWF0UHJvcGVydHlLZXkobmFtZSl9OiAke3Byb3BlcnR5U2lnbmF0dXJlc1R5cGVzW2ldKGlucHV0W25hbWVdKX1gKTtcbiAgICAgIH1cbiAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgLy8gaGFuZGxlIGluZGV4IHNpZ25hdHVyZXNcbiAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgaWYgKGluZGV4U2lnbmF0dXJlVHlwZXMubGVuZ3RoID4gMCkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGluZGV4U2lnbmF0dXJlVHlwZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBjb25zdCB0eXBlID0gaW5kZXhTaWduYXR1cmVUeXBlc1tpXTtcbiAgICAgICAgICBjb25zdCBrZXlzID0gdXRpbF8uZ2V0S2V5c0ZvckluZGV4U2lnbmF0dXJlKGlucHV0LCBhc3QuaW5kZXhTaWduYXR1cmVzW2ldLnBhcmFtZXRlcik7XG4gICAgICAgICAgZm9yIChjb25zdCBrZXkgb2Yga2V5cykge1xuICAgICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChleHBlY3RlZEtleXMsIGtleSkpIHtcbiAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvdXRwdXQucHVzaChgJHt1dGlsXy5mb3JtYXRQcm9wZXJ0eUtleShrZXkpfTogJHt0eXBlKGlucHV0W2tleV0pfWApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIEFyci5pc05vbkVtcHR5UmVhZG9ubHlBcnJheShvdXRwdXQpID8gXCJ7IFwiICsgb3V0cHV0LmpvaW4oXCIsIFwiKSArIFwiIH1cIiA6IFwie31cIjtcbiAgICB9O1xuICB9LFxuICBcIlVuaW9uXCI6IChhc3QsIGdvLCBwYXRoKSA9PiB7XG4gICAgY29uc3QgaG9vayA9IGdldEhvb2soYXN0KTtcbiAgICBpZiAoT3B0aW9uLmlzU29tZShob29rKSkge1xuICAgICAgcmV0dXJuIGhvb2sudmFsdWUoKTtcbiAgICB9XG4gICAgY29uc3QgdHlwZXMgPSBhc3QudHlwZXMubWFwKGFzdCA9PiBbUGFyc2VSZXN1bHQuaXMoe1xuICAgICAgYXN0XG4gICAgfSksIGdvKGFzdCwgcGF0aCldKTtcbiAgICByZXR1cm4gYSA9PiB7XG4gICAgICBjb25zdCBpbmRleCA9IHR5cGVzLmZpbmRJbmRleCgoW2lzXSkgPT4gaXMoYSkpO1xuICAgICAgaWYgKGluZGV4ID09PSAtMSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JzXy5nZXRQcmV0dHlOb01hdGNoaW5nU2NoZW1hRXJyb3JNZXNzYWdlKGEsIHBhdGgsIGFzdCkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHR5cGVzW2luZGV4XVsxXShhKTtcbiAgICB9O1xuICB9LFxuICBcIlN1c3BlbmRcIjogKGFzdCwgZ28sIHBhdGgpID0+IHtcbiAgICByZXR1cm4gT3B0aW9uLm1hdGNoKGdldEhvb2soYXN0KSwge1xuICAgICAgb25Ob25lOiAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGdldCA9IHV0aWxfLm1lbW9pemVUaHVuaygoKSA9PiBnbyhhc3QuZigpLCBwYXRoKSk7XG4gICAgICAgIHJldHVybiBhID0+IGdldCgpKGEpO1xuICAgICAgfSxcbiAgICAgIG9uU29tZTogaGFuZGxlciA9PiBoYW5kbGVyKClcbiAgICB9KTtcbiAgfSxcbiAgXCJSZWZpbmVtZW50XCI6IChhc3QsIGdvLCBwYXRoKSA9PiB7XG4gICAgcmV0dXJuIE9wdGlvbi5tYXRjaChnZXRIb29rKGFzdCksIHtcbiAgICAgIG9uTm9uZTogKCkgPT4gZ28oYXN0LmZyb20sIHBhdGgpLFxuICAgICAgb25Tb21lOiBoYW5kbGVyID0+IGhhbmRsZXIoKVxuICAgIH0pO1xuICB9LFxuICBcIlRyYW5zZm9ybWF0aW9uXCI6IChhc3QsIGdvLCBwYXRoKSA9PiB7XG4gICAgcmV0dXJuIE9wdGlvbi5tYXRjaChnZXRIb29rKGFzdCksIHtcbiAgICAgIG9uTm9uZTogKCkgPT4gZ28oYXN0LnRvLCBwYXRoKSxcbiAgICAgIG9uU29tZTogaGFuZGxlciA9PiBoYW5kbGVyKClcbiAgICB9KTtcbiAgfVxufTtcbmNvbnN0IGNvbXBpbGUgPSAvKiNfX1BVUkVfXyovQVNULmdldENvbXBpbGVyKG1hdGNoKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVByZXR0eS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@effect/schema/dist/esm/Pretty.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@effect/schema/dist/esm/Schema.js":
/*!********************************************************!*\
  !*** ./node_modules/@effect/schema/dist/esm/Schema.js ***!
  \********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Any: () => (/* binding */ Any),\n/* harmony export */   Array: () => (/* binding */ Array$),\n/* harmony export */   Base64: () => (/* binding */ Base64),\n/* harmony export */   Base64Url: () => (/* binding */ Base64Url),\n/* harmony export */   BetweenBigDecimalTypeId: () => (/* binding */ BetweenBigDecimalTypeId),\n/* harmony export */   BetweenBigIntTypeId: () => (/* binding */ BetweenBigIntTypeId),\n/* harmony export */   BetweenDurationTypeId: () => (/* binding */ BetweenDurationTypeId),\n/* harmony export */   BetweenTypeId: () => (/* binding */ BetweenTypeId),\n/* harmony export */   BigDecimal: () => (/* binding */ BigDecimal),\n/* harmony export */   BigDecimalFromNumber: () => (/* binding */ BigDecimalFromNumber),\n/* harmony export */   BigDecimalFromSelf: () => (/* binding */ BigDecimalFromSelf),\n/* harmony export */   BigInt: () => (/* binding */ BigInt$),\n/* harmony export */   BigIntFromNumber: () => (/* binding */ BigIntFromNumber),\n/* harmony export */   BigIntFromSelf: () => (/* binding */ BigIntFromSelf),\n/* harmony export */   Boolean: () => (/* binding */ Boolean$),\n/* harmony export */   BooleanFromUnknown: () => (/* binding */ BooleanFromUnknown),\n/* harmony export */   BrandTypeId: () => (/* binding */ BrandTypeId),\n/* harmony export */   Capitalize: () => (/* binding */ Capitalize),\n/* harmony export */   Capitalized: () => (/* binding */ Capitalized),\n/* harmony export */   CapitalizedTypeId: () => (/* binding */ CapitalizedTypeId),\n/* harmony export */   Cause: () => (/* binding */ Cause),\n/* harmony export */   CauseDefectUnknown: () => (/* binding */ CauseDefectUnknown),\n/* harmony export */   CauseFromSelf: () => (/* binding */ CauseFromSelf),\n/* harmony export */   Char: () => (/* binding */ Char),\n/* harmony export */   Chunk: () => (/* binding */ Chunk),\n/* harmony export */   ChunkFromSelf: () => (/* binding */ ChunkFromSelf),\n/* harmony export */   Class: () => (/* binding */ Class),\n/* harmony export */   Config: () => (/* binding */ Config),\n/* harmony export */   Data: () => (/* binding */ Data),\n/* harmony export */   DataFromSelf: () => (/* binding */ DataFromSelf),\n/* harmony export */   Date: () => (/* binding */ Date$),\n/* harmony export */   DateFromNumber: () => (/* binding */ DateFromNumber),\n/* harmony export */   DateFromSelf: () => (/* binding */ DateFromSelf),\n/* harmony export */   DateFromString: () => (/* binding */ DateFromString),\n/* harmony export */   Duration: () => (/* binding */ Duration),\n/* harmony export */   DurationFromMillis: () => (/* binding */ DurationFromMillis),\n/* harmony export */   DurationFromNanos: () => (/* binding */ DurationFromNanos),\n/* harmony export */   DurationFromSelf: () => (/* binding */ DurationFromSelf),\n/* harmony export */   Either: () => (/* binding */ Either),\n/* harmony export */   EitherFromSelf: () => (/* binding */ EitherFromSelf),\n/* harmony export */   EitherFromUnion: () => (/* binding */ EitherFromUnion),\n/* harmony export */   EndsWithTypeId: () => (/* binding */ EndsWithTypeId),\n/* harmony export */   Enums: () => (/* binding */ Enums),\n/* harmony export */   Exit: () => (/* binding */ Exit),\n/* harmony export */   ExitFromSelf: () => (/* binding */ ExitFromSelf),\n/* harmony export */   FiberId: () => (/* binding */ FiberId),\n/* harmony export */   FiberIdFromSelf: () => (/* binding */ FiberIdFromSelf),\n/* harmony export */   Finite: () => (/* binding */ Finite),\n/* harmony export */   FiniteTypeId: () => (/* binding */ FiniteTypeId),\n/* harmony export */   FromPropertySignature: () => (/* binding */ FromPropertySignature),\n/* harmony export */   GreaterThanBigDecimalTypeId: () => (/* binding */ GreaterThanBigDecimalTypeId),\n/* harmony export */   GreaterThanBigIntTypeId: () => (/* binding */ GreaterThanBigIntTypeId),\n/* harmony export */   GreaterThanDurationTypeId: () => (/* binding */ GreaterThanDurationTypeId),\n/* harmony export */   GreaterThanOrEqualToBigDecimalTypeId: () => (/* binding */ GreaterThanOrEqualToBigDecimalTypeId),\n/* harmony export */   GreaterThanOrEqualToBigIntTypeId: () => (/* binding */ GreaterThanOrEqualToBigIntTypeId),\n/* harmony export */   GreaterThanOrEqualToDurationTypeId: () => (/* binding */ GreaterThanOrEqualToDurationTypeId),\n/* harmony export */   GreaterThanOrEqualToTypeId: () => (/* binding */ GreaterThanOrEqualToTypeId),\n/* harmony export */   GreaterThanTypeId: () => (/* binding */ GreaterThanTypeId),\n/* harmony export */   HashMap: () => (/* binding */ HashMap),\n/* harmony export */   HashMapFromSelf: () => (/* binding */ HashMapFromSelf),\n/* harmony export */   HashSet: () => (/* binding */ HashSet),\n/* harmony export */   HashSetFromSelf: () => (/* binding */ HashSetFromSelf),\n/* harmony export */   Hex: () => (/* binding */ Hex),\n/* harmony export */   IncludesTypeId: () => (/* binding */ IncludesTypeId),\n/* harmony export */   InstanceOfTypeId: () => (/* binding */ InstanceOfTypeId),\n/* harmony export */   Int: () => (/* binding */ Int),\n/* harmony export */   IntTypeId: () => (/* binding */ IntTypeId),\n/* harmony export */   ItemsCountTypeId: () => (/* binding */ ItemsCountTypeId),\n/* harmony export */   JsonNumber: () => (/* binding */ JsonNumber),\n/* harmony export */   JsonNumberTypeId: () => (/* binding */ JsonNumberTypeId),\n/* harmony export */   LengthTypeId: () => (/* binding */ LengthTypeId),\n/* harmony export */   LessThanBigDecimalTypeId: () => (/* binding */ LessThanBigDecimalTypeId),\n/* harmony export */   LessThanBigIntTypeId: () => (/* binding */ LessThanBigIntTypeId),\n/* harmony export */   LessThanDurationTypeId: () => (/* binding */ LessThanDurationTypeId),\n/* harmony export */   LessThanOrEqualToBigDecimalTypeId: () => (/* binding */ LessThanOrEqualToBigDecimalTypeId),\n/* harmony export */   LessThanOrEqualToBigIntTypeId: () => (/* binding */ LessThanOrEqualToBigIntTypeId),\n/* harmony export */   LessThanOrEqualToDurationTypeId: () => (/* binding */ LessThanOrEqualToDurationTypeId),\n/* harmony export */   LessThanOrEqualToTypeId: () => (/* binding */ LessThanOrEqualToTypeId),\n/* harmony export */   LessThanTypeId: () => (/* binding */ LessThanTypeId),\n/* harmony export */   List: () => (/* binding */ List),\n/* harmony export */   ListFromSelf: () => (/* binding */ ListFromSelf),\n/* harmony export */   Literal: () => (/* binding */ Literal),\n/* harmony export */   Lowercase: () => (/* binding */ Lowercase),\n/* harmony export */   Lowercased: () => (/* binding */ Lowercased),\n/* harmony export */   LowercasedTypeId: () => (/* binding */ LowercasedTypeId),\n/* harmony export */   Map: () => (/* binding */ map),\n/* harmony export */   MapFromRecord: () => (/* binding */ MapFromRecord),\n/* harmony export */   MapFromSelf: () => (/* binding */ MapFromSelf),\n/* harmony export */   MaxItemsTypeId: () => (/* binding */ MaxItemsTypeId),\n/* harmony export */   MaxLengthTypeId: () => (/* binding */ MaxLengthTypeId),\n/* harmony export */   MinItemsTypeId: () => (/* binding */ MinItemsTypeId),\n/* harmony export */   MinLengthTypeId: () => (/* binding */ MinLengthTypeId),\n/* harmony export */   MultipleOfTypeId: () => (/* binding */ MultipleOfTypeId),\n/* harmony export */   Negative: () => (/* binding */ Negative),\n/* harmony export */   NegativeBigDecimalFromSelf: () => (/* binding */ NegativeBigDecimalFromSelf),\n/* harmony export */   NegativeBigDecimalTypeId: () => (/* binding */ NegativeBigDecimalTypeId),\n/* harmony export */   NegativeBigInt: () => (/* binding */ NegativeBigInt),\n/* harmony export */   NegativeBigIntFromSelf: () => (/* binding */ NegativeBigIntFromSelf),\n/* harmony export */   Never: () => (/* binding */ Never),\n/* harmony export */   NonEmpty: () => (/* binding */ NonEmpty),\n/* harmony export */   NonEmptyArray: () => (/* binding */ NonEmptyArray),\n/* harmony export */   NonEmptyChunk: () => (/* binding */ NonEmptyChunk),\n/* harmony export */   NonEmptyChunkFromSelf: () => (/* binding */ NonEmptyChunkFromSelf),\n/* harmony export */   NonNaN: () => (/* binding */ NonNaN),\n/* harmony export */   NonNaNTypeId: () => (/* binding */ NonNaNTypeId),\n/* harmony export */   NonNegative: () => (/* binding */ NonNegative),\n/* harmony export */   NonNegativeBigDecimalFromSelf: () => (/* binding */ NonNegativeBigDecimalFromSelf),\n/* harmony export */   NonNegativeBigDecimalTypeId: () => (/* binding */ NonNegativeBigDecimalTypeId),\n/* harmony export */   NonNegativeBigInt: () => (/* binding */ NonNegativeBigInt),\n/* harmony export */   NonNegativeBigIntFromSelf: () => (/* binding */ NonNegativeBigIntFromSelf),\n/* harmony export */   NonPositive: () => (/* binding */ NonPositive),\n/* harmony export */   NonPositiveBigDecimalFromSelf: () => (/* binding */ NonPositiveBigDecimalFromSelf),\n/* harmony export */   NonPositiveBigDecimalTypeId: () => (/* binding */ NonPositiveBigDecimalTypeId),\n/* harmony export */   NonPositiveBigInt: () => (/* binding */ NonPositiveBigInt),\n/* harmony export */   NonPositiveBigIntFromSelf: () => (/* binding */ NonPositiveBigIntFromSelf),\n/* harmony export */   Not: () => (/* binding */ Not),\n/* harmony export */   Null: () => (/* binding */ Null),\n/* harmony export */   NullOr: () => (/* binding */ NullOr),\n/* harmony export */   NullishOr: () => (/* binding */ NullishOr),\n/* harmony export */   Number: () => (/* binding */ Number$),\n/* harmony export */   NumberFromString: () => (/* binding */ NumberFromString),\n/* harmony export */   Object: () => (/* binding */ Object$),\n/* harmony export */   Option: () => (/* binding */ Option),\n/* harmony export */   OptionFromNullOr: () => (/* binding */ OptionFromNullOr),\n/* harmony export */   OptionFromNullishOr: () => (/* binding */ OptionFromNullishOr),\n/* harmony export */   OptionFromSelf: () => (/* binding */ OptionFromSelf),\n/* harmony export */   OptionFromUndefinedOr: () => (/* binding */ OptionFromUndefinedOr),\n/* harmony export */   PatternTypeId: () => (/* binding */ PatternTypeId),\n/* harmony export */   Positive: () => (/* binding */ Positive),\n/* harmony export */   PositiveBigDecimalFromSelf: () => (/* binding */ PositiveBigDecimalFromSelf),\n/* harmony export */   PositiveBigDecimalTypeId: () => (/* binding */ PositiveBigDecimalTypeId),\n/* harmony export */   PositiveBigInt: () => (/* binding */ PositiveBigInt),\n/* harmony export */   PositiveBigIntFromSelf: () => (/* binding */ PositiveBigIntFromSelf),\n/* harmony export */   PropertySignatureDeclaration: () => (/* binding */ PropertySignatureDeclaration),\n/* harmony export */   PropertySignatureTransformation: () => (/* binding */ PropertySignatureTransformation),\n/* harmony export */   PropertySignatureTypeId: () => (/* binding */ PropertySignatureTypeId),\n/* harmony export */   ReadonlyMap: () => (/* binding */ ReadonlyMap),\n/* harmony export */   ReadonlyMapFromRecord: () => (/* binding */ ReadonlyMapFromRecord),\n/* harmony export */   ReadonlyMapFromSelf: () => (/* binding */ ReadonlyMapFromSelf),\n/* harmony export */   ReadonlySet: () => (/* binding */ ReadonlySet),\n/* harmony export */   ReadonlySetFromSelf: () => (/* binding */ ReadonlySetFromSelf),\n/* harmony export */   Record: () => (/* binding */ Record),\n/* harmony export */   Redacted: () => (/* binding */ Redacted),\n/* harmony export */   RedactedFromSelf: () => (/* binding */ RedactedFromSelf),\n/* harmony export */   Set: () => (/* binding */ set),\n/* harmony export */   SetFromSelf: () => (/* binding */ SetFromSelf),\n/* harmony export */   SortedSet: () => (/* binding */ SortedSet),\n/* harmony export */   SortedSetFromSelf: () => (/* binding */ SortedSetFromSelf),\n/* harmony export */   StartsWithTypeId: () => (/* binding */ StartsWithTypeId),\n/* harmony export */   String: () => (/* binding */ String$),\n/* harmony export */   Struct: () => (/* binding */ Struct),\n/* harmony export */   Symbol: () => (/* binding */ Symbol$),\n/* harmony export */   SymbolFromSelf: () => (/* binding */ SymbolFromSelf),\n/* harmony export */   TaggedClass: () => (/* binding */ TaggedClass),\n/* harmony export */   TaggedError: () => (/* binding */ TaggedError),\n/* harmony export */   TaggedRequest: () => (/* binding */ TaggedRequest),\n/* harmony export */   TaggedStruct: () => (/* binding */ TaggedStruct),\n/* harmony export */   TemplateLiteral: () => (/* binding */ TemplateLiteral),\n/* harmony export */   ToPropertySignature: () => (/* binding */ ToPropertySignature),\n/* harmony export */   Trim: () => (/* binding */ Trim),\n/* harmony export */   Trimmed: () => (/* binding */ Trimmed),\n/* harmony export */   TrimmedTypeId: () => (/* binding */ TrimmedTypeId),\n/* harmony export */   Tuple: () => (/* binding */ Tuple),\n/* harmony export */   TypeId: () => (/* binding */ TypeId),\n/* harmony export */   ULID: () => (/* binding */ ULID),\n/* harmony export */   ULIDTypeId: () => (/* binding */ ULIDTypeId),\n/* harmony export */   UUID: () => (/* binding */ UUID),\n/* harmony export */   UUIDTypeId: () => (/* binding */ UUIDTypeId),\n/* harmony export */   Uint8Array: () => (/* binding */ Uint8Array$),\n/* harmony export */   Uint8ArrayFromSelf: () => (/* binding */ Uint8ArrayFromSelf),\n/* harmony export */   Uncapitalize: () => (/* binding */ Uncapitalize),\n/* harmony export */   Uncapitalized: () => (/* binding */ Uncapitalized),\n/* harmony export */   UncapitalizedTypeId: () => (/* binding */ UncapitalizedTypeId),\n/* harmony export */   Undefined: () => (/* binding */ Undefined),\n/* harmony export */   UndefinedOr: () => (/* binding */ UndefinedOr),\n/* harmony export */   Union: () => (/* binding */ Union),\n/* harmony export */   UniqueSymbolFromSelf: () => (/* binding */ UniqueSymbolFromSelf),\n/* harmony export */   Unknown: () => (/* binding */ Unknown),\n/* harmony export */   Uppercase: () => (/* binding */ Uppercase),\n/* harmony export */   Uppercased: () => (/* binding */ Uppercased),\n/* harmony export */   UppercasedTypeId: () => (/* binding */ UppercasedTypeId),\n/* harmony export */   ValidDateFromSelf: () => (/* binding */ ValidDateFromSelf),\n/* harmony export */   ValidDateTypeId: () => (/* binding */ ValidDateTypeId),\n/* harmony export */   Void: () => (/* binding */ Void),\n/* harmony export */   annotations: () => (/* binding */ annotations),\n/* harmony export */   asSchema: () => (/* binding */ asSchema),\n/* harmony export */   asserts: () => (/* reexport safe */ _ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.asserts),\n/* harmony export */   attachPropertySignature: () => (/* binding */ attachPropertySignature),\n/* harmony export */   between: () => (/* binding */ between),\n/* harmony export */   betweenBigDecimal: () => (/* binding */ betweenBigDecimal),\n/* harmony export */   betweenBigInt: () => (/* binding */ betweenBigInt),\n/* harmony export */   betweenDuration: () => (/* binding */ betweenDuration),\n/* harmony export */   brand: () => (/* binding */ brand),\n/* harmony export */   capitalized: () => (/* binding */ capitalized),\n/* harmony export */   clamp: () => (/* binding */ clamp),\n/* harmony export */   clampBigDecimal: () => (/* binding */ clampBigDecimal),\n/* harmony export */   clampBigInt: () => (/* binding */ clampBigInt),\n/* harmony export */   clampDuration: () => (/* binding */ clampDuration),\n/* harmony export */   compose: () => (/* binding */ compose),\n/* harmony export */   declare: () => (/* binding */ declare),\n/* harmony export */   decode: () => (/* binding */ decode),\n/* harmony export */   decodeEither: () => (/* binding */ decodeEither),\n/* harmony export */   decodeOption: () => (/* reexport safe */ _ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.decodeOption),\n/* harmony export */   decodePromise: () => (/* binding */ decodePromise),\n/* harmony export */   decodeSync: () => (/* reexport safe */ _ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.decodeSync),\n/* harmony export */   decodeUnknown: () => (/* binding */ decodeUnknown),\n/* harmony export */   decodeUnknownEither: () => (/* binding */ decodeUnknownEither),\n/* harmony export */   decodeUnknownOption: () => (/* reexport safe */ _ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.decodeUnknownOption),\n/* harmony export */   decodeUnknownPromise: () => (/* binding */ decodeUnknownPromise),\n/* harmony export */   decodeUnknownSync: () => (/* reexport safe */ _ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.decodeUnknownSync),\n/* harmony export */   element: () => (/* binding */ element),\n/* harmony export */   encode: () => (/* binding */ encode),\n/* harmony export */   encodeEither: () => (/* binding */ encodeEither),\n/* harmony export */   encodeOption: () => (/* reexport safe */ _ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.encodeOption),\n/* harmony export */   encodePromise: () => (/* binding */ encodePromise),\n/* harmony export */   encodeSync: () => (/* reexport safe */ _ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.encodeSync),\n/* harmony export */   encodeUnknown: () => (/* binding */ encodeUnknown),\n/* harmony export */   encodeUnknownEither: () => (/* binding */ encodeUnknownEither),\n/* harmony export */   encodeUnknownOption: () => (/* reexport safe */ _ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.encodeUnknownOption),\n/* harmony export */   encodeUnknownPromise: () => (/* binding */ encodeUnknownPromise),\n/* harmony export */   encodeUnknownSync: () => (/* reexport safe */ _ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.encodeUnknownSync),\n/* harmony export */   encodedBoundSchema: () => (/* binding */ encodedBoundSchema),\n/* harmony export */   encodedSchema: () => (/* binding */ encodedSchema),\n/* harmony export */   endsWith: () => (/* binding */ endsWith),\n/* harmony export */   extend: () => (/* binding */ extend),\n/* harmony export */   filter: () => (/* binding */ filter),\n/* harmony export */   filterEffect: () => (/* binding */ filterEffect),\n/* harmony export */   finite: () => (/* binding */ finite),\n/* harmony export */   format: () => (/* binding */ format),\n/* harmony export */   fromBrand: () => (/* binding */ fromBrand),\n/* harmony export */   fromKey: () => (/* binding */ fromKey),\n/* harmony export */   getClassTag: () => (/* binding */ getClassTag),\n/* harmony export */   getNumberIndexedAccess: () => (/* binding */ getNumberIndexedAccess),\n/* harmony export */   greaterThan: () => (/* binding */ greaterThan),\n/* harmony export */   greaterThanBigDecimal: () => (/* binding */ greaterThanBigDecimal),\n/* harmony export */   greaterThanBigInt: () => (/* binding */ greaterThanBigInt),\n/* harmony export */   greaterThanDuration: () => (/* binding */ greaterThanDuration),\n/* harmony export */   greaterThanOrEqualTo: () => (/* binding */ greaterThanOrEqualTo),\n/* harmony export */   greaterThanOrEqualToBigDecimal: () => (/* binding */ greaterThanOrEqualToBigDecimal),\n/* harmony export */   greaterThanOrEqualToBigInt: () => (/* binding */ greaterThanOrEqualToBigInt),\n/* harmony export */   greaterThanOrEqualToDuration: () => (/* binding */ greaterThanOrEqualToDuration),\n/* harmony export */   head: () => (/* binding */ head),\n/* harmony export */   headOrElse: () => (/* binding */ headOrElse),\n/* harmony export */   includes: () => (/* binding */ includes),\n/* harmony export */   instanceOf: () => (/* binding */ instanceOf),\n/* harmony export */   int: () => (/* binding */ int),\n/* harmony export */   is: () => (/* reexport safe */ _ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.is),\n/* harmony export */   isSchema: () => (/* binding */ isSchema),\n/* harmony export */   itemsCount: () => (/* binding */ itemsCount),\n/* harmony export */   keyof: () => (/* binding */ keyof),\n/* harmony export */   length: () => (/* binding */ length),\n/* harmony export */   lessThan: () => (/* binding */ lessThan),\n/* harmony export */   lessThanBigDecimal: () => (/* binding */ lessThanBigDecimal),\n/* harmony export */   lessThanBigInt: () => (/* binding */ lessThanBigInt),\n/* harmony export */   lessThanDuration: () => (/* binding */ lessThanDuration),\n/* harmony export */   lessThanOrEqualTo: () => (/* binding */ lessThanOrEqualTo),\n/* harmony export */   lessThanOrEqualToBigDecimal: () => (/* binding */ lessThanOrEqualToBigDecimal),\n/* harmony export */   lessThanOrEqualToBigInt: () => (/* binding */ lessThanOrEqualToBigInt),\n/* harmony export */   lessThanOrEqualToDuration: () => (/* binding */ lessThanOrEqualToDuration),\n/* harmony export */   lowercased: () => (/* binding */ lowercased),\n/* harmony export */   make: () => (/* binding */ make),\n/* harmony export */   makePropertySignature: () => (/* binding */ makePropertySignature),\n/* harmony export */   maxItems: () => (/* binding */ maxItems),\n/* harmony export */   maxLength: () => (/* binding */ maxLength),\n/* harmony export */   minItems: () => (/* binding */ minItems),\n/* harmony export */   minLength: () => (/* binding */ minLength),\n/* harmony export */   multipleOf: () => (/* binding */ multipleOf),\n/* harmony export */   mutable: () => (/* binding */ mutable),\n/* harmony export */   negative: () => (/* binding */ negative),\n/* harmony export */   negativeBigDecimal: () => (/* binding */ negativeBigDecimal),\n/* harmony export */   negativeBigInt: () => (/* binding */ negativeBigInt),\n/* harmony export */   nonEmpty: () => (/* binding */ nonEmpty),\n/* harmony export */   nonNaN: () => (/* binding */ nonNaN),\n/* harmony export */   nonNegative: () => (/* binding */ nonNegative),\n/* harmony export */   nonNegativeBigDecimal: () => (/* binding */ nonNegativeBigDecimal),\n/* harmony export */   nonNegativeBigInt: () => (/* binding */ nonNegativeBigInt),\n/* harmony export */   nonPositive: () => (/* binding */ nonPositive),\n/* harmony export */   nonPositiveBigDecimal: () => (/* binding */ nonPositiveBigDecimal),\n/* harmony export */   nonPositiveBigInt: () => (/* binding */ nonPositiveBigInt),\n/* harmony export */   omit: () => (/* binding */ omit),\n/* harmony export */   optional: () => (/* binding */ optional),\n/* harmony export */   optionalElement: () => (/* binding */ optionalElement),\n/* harmony export */   optionalToOptional: () => (/* binding */ optionalToOptional),\n/* harmony export */   optionalToRequired: () => (/* binding */ optionalToRequired),\n/* harmony export */   parseJson: () => (/* binding */ parseJson),\n/* harmony export */   parseNumber: () => (/* binding */ parseNumber),\n/* harmony export */   partial: () => (/* binding */ partial),\n/* harmony export */   pattern: () => (/* binding */ pattern),\n/* harmony export */   pick: () => (/* binding */ pick),\n/* harmony export */   pickLiteral: () => (/* binding */ pickLiteral),\n/* harmony export */   pluck: () => (/* binding */ pluck),\n/* harmony export */   positive: () => (/* binding */ positive),\n/* harmony export */   positiveBigDecimal: () => (/* binding */ positiveBigDecimal),\n/* harmony export */   positiveBigInt: () => (/* binding */ positiveBigInt),\n/* harmony export */   propertySignature: () => (/* binding */ propertySignature),\n/* harmony export */   refineTypeId: () => (/* binding */ refineTypeId),\n/* harmony export */   rename: () => (/* binding */ rename),\n/* harmony export */   required: () => (/* binding */ required),\n/* harmony export */   requiredToOptional: () => (/* binding */ requiredToOptional),\n/* harmony export */   split: () => (/* binding */ split),\n/* harmony export */   startsWith: () => (/* binding */ startsWith),\n/* harmony export */   suspend: () => (/* binding */ suspend),\n/* harmony export */   tag: () => (/* binding */ tag),\n/* harmony export */   transform: () => (/* binding */ transform),\n/* harmony export */   transformLiteral: () => (/* binding */ transformLiteral),\n/* harmony export */   transformLiterals: () => (/* binding */ transformLiterals),\n/* harmony export */   transformOrFail: () => (/* binding */ transformOrFail),\n/* harmony export */   trimmed: () => (/* binding */ trimmed),\n/* harmony export */   typeSchema: () => (/* binding */ typeSchema),\n/* harmony export */   uncapitalized: () => (/* binding */ uncapitalized),\n/* harmony export */   uppercased: () => (/* binding */ uppercased),\n/* harmony export */   validDate: () => (/* binding */ validDate),\n/* harmony export */   validate: () => (/* binding */ validate),\n/* harmony export */   validateEither: () => (/* binding */ validateEither),\n/* harmony export */   validateOption: () => (/* reexport safe */ _ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.validateOption),\n/* harmony export */   validatePromise: () => (/* binding */ validatePromise),\n/* harmony export */   validateSync: () => (/* reexport safe */ _ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.validateSync),\n/* harmony export */   withConstructorDefault: () => (/* binding */ withConstructorDefault),\n/* harmony export */   withDecodingDefault: () => (/* binding */ withDecodingDefault),\n/* harmony export */   withDefaults: () => (/* binding */ withDefaults)\n/* harmony export */ });\n/* harmony import */ var effect_Array__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! effect/Array */ \"(rsc)/./node_modules/effect/dist/esm/Array.js\");\n/* harmony import */ var effect_BigDecimal__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! effect/BigDecimal */ \"(rsc)/./node_modules/effect/dist/esm/BigDecimal.js\");\n/* harmony import */ var effect_BigInt__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! effect/BigInt */ \"(rsc)/./node_modules/effect/dist/esm/BigInt.js\");\n/* harmony import */ var effect_Boolean__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! effect/Boolean */ \"(rsc)/./node_modules/effect/dist/esm/Boolean.js\");\n/* harmony import */ var effect_Cause__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! effect/Cause */ \"(rsc)/./node_modules/effect/dist/esm/Cause.js\");\n/* harmony import */ var effect_Chunk__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! effect/Chunk */ \"(rsc)/./node_modules/effect/dist/esm/Chunk.js\");\n/* harmony import */ var effect_Config__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! effect/Config */ \"(rsc)/./node_modules/effect/dist/esm/Config.js\");\n/* harmony import */ var effect_ConfigError__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! effect/ConfigError */ \"(rsc)/./node_modules/effect/dist/esm/ConfigError.js\");\n/* harmony import */ var effect_Data__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! effect/Data */ \"(rsc)/./node_modules/effect/dist/esm/Data.js\");\n/* harmony import */ var effect_Duration__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! effect/Duration */ \"(rsc)/./node_modules/effect/dist/esm/Duration.js\");\n/* harmony import */ var effect_Effect__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! effect/Effect */ \"(rsc)/./node_modules/effect/dist/esm/Effect.js\");\n/* harmony import */ var effect_Either__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! effect/Either */ \"(rsc)/./node_modules/effect/dist/esm/Either.js\");\n/* harmony import */ var effect_Encoding__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! effect/Encoding */ \"(rsc)/./node_modules/effect/dist/esm/Encoding.js\");\n/* harmony import */ var effect_Equal__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! effect/Equal */ \"(rsc)/./node_modules/effect/dist/esm/Equal.js\");\n/* harmony import */ var effect_Equivalence__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! effect/Equivalence */ \"(rsc)/./node_modules/effect/dist/esm/Equivalence.js\");\n/* harmony import */ var effect_Exit__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! effect/Exit */ \"(rsc)/./node_modules/effect/dist/esm/Exit.js\");\n/* harmony import */ var effect_FiberId__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! effect/FiberId */ \"(rsc)/./node_modules/effect/dist/esm/FiberId.js\");\n/* harmony import */ var effect_Function__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! effect/Function */ \"(rsc)/./node_modules/effect/dist/esm/Function.js\");\n/* harmony import */ var effect_HashMap__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! effect/HashMap */ \"(rsc)/./node_modules/effect/dist/esm/HashMap.js\");\n/* harmony import */ var effect_HashSet__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! effect/HashSet */ \"(rsc)/./node_modules/effect/dist/esm/HashSet.js\");\n/* harmony import */ var effect_List__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! effect/List */ \"(rsc)/./node_modules/effect/dist/esm/List.js\");\n/* harmony import */ var effect_Number__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! effect/Number */ \"(rsc)/./node_modules/effect/dist/esm/Number.js\");\n/* harmony import */ var effect_Option__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! effect/Option */ \"(rsc)/./node_modules/effect/dist/esm/Option.js\");\n/* harmony import */ var effect_Pipeable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! effect/Pipeable */ \"(rsc)/./node_modules/effect/dist/esm/Pipeable.js\");\n/* harmony import */ var effect_Predicate__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! effect/Predicate */ \"(rsc)/./node_modules/effect/dist/esm/Predicate.js\");\n/* harmony import */ var effect_Record__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! effect/Record */ \"(rsc)/./node_modules/effect/dist/esm/Record.js\");\n/* harmony import */ var effect_Redacted__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! effect/Redacted */ \"(rsc)/./node_modules/effect/dist/esm/Redacted.js\");\n/* harmony import */ var effect_Request__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! effect/Request */ \"(rsc)/./node_modules/effect/dist/esm/Request.js\");\n/* harmony import */ var effect_SortedSet__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! effect/SortedSet */ \"(rsc)/./node_modules/effect/dist/esm/SortedSet.js\");\n/* harmony import */ var effect_String__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! effect/String */ \"(rsc)/./node_modules/effect/dist/esm/String.js\");\n/* harmony import */ var effect_Struct__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! effect/Struct */ \"(rsc)/./node_modules/effect/dist/esm/Struct.js\");\n/* harmony import */ var _Arbitrary_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Arbitrary.js */ \"(rsc)/./node_modules/@effect/schema/dist/esm/Arbitrary.js\");\n/* harmony import */ var _AST_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./AST.js */ \"(rsc)/./node_modules/@effect/schema/dist/esm/AST.js\");\n/* harmony import */ var _Equivalence_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Equivalence.js */ \"(rsc)/./node_modules/@effect/schema/dist/esm/Equivalence.js\");\n/* harmony import */ var _FastCheck_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./FastCheck.js */ \"(rsc)/./node_modules/fast-check/lib/esm/fast-check.js\");\n/* harmony import */ var _internal_errors_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./internal/errors.js */ \"(rsc)/./node_modules/@effect/schema/dist/esm/internal/errors.js\");\n/* harmony import */ var _internal_filters_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./internal/filters.js */ \"(rsc)/./node_modules/@effect/schema/dist/esm/internal/filters.js\");\n/* harmony import */ var _internal_serializable_js__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ./internal/serializable.js */ \"(rsc)/./node_modules/@effect/schema/dist/esm/internal/serializable.js\");\n/* harmony import */ var _internal_util_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./internal/util.js */ \"(rsc)/./node_modules/@effect/schema/dist/esm/internal/util.js\");\n/* harmony import */ var _ParseResult_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./ParseResult.js */ \"(rsc)/./node_modules/@effect/schema/dist/esm/ParseResult.js\");\n/* harmony import */ var _Pretty_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Pretty.js */ \"(rsc)/./node_modules/@effect/schema/dist/esm/Pretty.js\");\n/* harmony import */ var _TreeFormatter_js__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! ./TreeFormatter.js */ \"(rsc)/./node_modules/@effect/schema/dist/esm/TreeFormatter.js\");\n/**\n * @since 0.67.0\n */\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/**\n * @since 0.67.0\n * @category symbol\n */\nconst TypeId = /*#__PURE__*/Symbol.for(\"@effect/schema/Schema\");\n/**\n * @category constructors\n * @since 0.67.0\n */\nconst make = ast => class SchemaClass {\n  [TypeId] = variance;\n  static Type;\n  static Encoded;\n  static [TypeId] = variance;\n  static ast = ast;\n  static annotations(annotations) {\n    return make(mergeSchemaAnnotations(this.ast, annotations));\n  }\n  static pipe() {\n    return (0,effect_Pipeable__WEBPACK_IMPORTED_MODULE_0__.pipeArguments)(this, arguments);\n  }\n  static toString() {\n    return String(ast);\n  }\n};\nconst variance = {\n  /* c8 ignore next */\n  _A: _ => _,\n  /* c8 ignore next */\n  _I: _ => _,\n  /* c8 ignore next */\n  _R: _ => _\n};\nconst toASTAnnotations = annotations => {\n  if (!annotations) {\n    return {};\n  }\n  const out = {};\n  // symbols are reserved for custom annotations\n  const custom = Object.getOwnPropertySymbols(annotations);\n  for (const sym of custom) {\n    out[sym] = annotations[sym];\n  }\n  // string keys are reserved as /schema namespace\n  if (annotations.typeId !== undefined) {\n    const typeId = annotations.typeId;\n    if (typeof typeId === \"object\") {\n      out[_AST_js__WEBPACK_IMPORTED_MODULE_1__.TypeAnnotationId] = typeId.id;\n      out[typeId.id] = typeId.annotation;\n    } else {\n      out[_AST_js__WEBPACK_IMPORTED_MODULE_1__.TypeAnnotationId] = typeId;\n    }\n  }\n  const move = (from, to) => {\n    if (annotations[from] !== undefined) {\n      out[to] = annotations[from];\n    }\n  };\n  move(\"message\", _AST_js__WEBPACK_IMPORTED_MODULE_1__.MessageAnnotationId);\n  move(\"missingMessage\", _AST_js__WEBPACK_IMPORTED_MODULE_1__.MissingMessageAnnotationId);\n  move(\"identifier\", _AST_js__WEBPACK_IMPORTED_MODULE_1__.IdentifierAnnotationId);\n  move(\"title\", _AST_js__WEBPACK_IMPORTED_MODULE_1__.TitleAnnotationId);\n  move(\"description\", _AST_js__WEBPACK_IMPORTED_MODULE_1__.DescriptionAnnotationId);\n  move(\"examples\", _AST_js__WEBPACK_IMPORTED_MODULE_1__.ExamplesAnnotationId);\n  move(\"default\", _AST_js__WEBPACK_IMPORTED_MODULE_1__.DefaultAnnotationId);\n  move(\"documentation\", _AST_js__WEBPACK_IMPORTED_MODULE_1__.DocumentationAnnotationId);\n  move(\"jsonSchema\", _AST_js__WEBPACK_IMPORTED_MODULE_1__.JSONSchemaAnnotationId);\n  move(\"arbitrary\", _Arbitrary_js__WEBPACK_IMPORTED_MODULE_2__.ArbitraryHookId);\n  move(\"pretty\", _Pretty_js__WEBPACK_IMPORTED_MODULE_3__.PrettyHookId);\n  move(\"equivalence\", _Equivalence_js__WEBPACK_IMPORTED_MODULE_4__.EquivalenceHookId);\n  move(\"concurrency\", _AST_js__WEBPACK_IMPORTED_MODULE_1__.ConcurrencyAnnotationId);\n  move(\"batching\", _AST_js__WEBPACK_IMPORTED_MODULE_1__.BatchingAnnotationId);\n  move(\"parseIssueTitle\", _AST_js__WEBPACK_IMPORTED_MODULE_1__.ParseIssueTitleAnnotationId);\n  move(\"parseOptions\", _AST_js__WEBPACK_IMPORTED_MODULE_1__.ParseOptionsAnnotationId);\n  return out;\n};\nconst mergeSchemaAnnotations = (ast, annotations) => _AST_js__WEBPACK_IMPORTED_MODULE_1__.annotations(ast, toASTAnnotations(annotations));\n/**\n * @since 0.67.0\n */\nconst asSchema = schema => schema;\n/**\n * @category formatting\n * @since 0.67.0\n */\nconst format = schema => String(schema.ast);\n/**\n * The `encodedSchema` function allows you to extract the `Encoded` portion of a\n * schema, creating a new schema that conforms to the properties defined in the\n * original schema without retaining any refinements or transformations that\n * were applied previously.\n *\n * @since 0.67.0\n */\nconst encodedSchema = schema => make(_AST_js__WEBPACK_IMPORTED_MODULE_1__.encodedAST(schema.ast));\n/**\n * The `encodedBoundSchema` function is similar to `encodedSchema` but preserves\n * the refinements up to the first transformation point in the original schema.\n *\n * @since 0.67.17\n */\nconst encodedBoundSchema = schema => make(_AST_js__WEBPACK_IMPORTED_MODULE_1__.encodedBoundAST(schema.ast));\n/**\n * The `typeSchema` function allows you to extract the `Type` portion of a\n * schema, creating a new schema that conforms to the properties defined in the\n * original schema without considering the initial encoding or transformation\n * processes.\n *\n * @since 0.67.0\n */\nconst typeSchema = schema => make(_AST_js__WEBPACK_IMPORTED_MODULE_1__.typeAST(schema.ast));\n/* c8 ignore start */\n\n/* c8 ignore end */\n/**\n * @category encoding\n * @since 0.67.0\n */\nconst encodeUnknown = (schema, options) => {\n  const encodeUnknown = _ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.encodeUnknown(schema, options);\n  return (u, overrideOptions) => _ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.mapError(encodeUnknown(u, overrideOptions), _ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.parseError);\n};\n/**\n * @category encoding\n * @since 0.67.0\n */\nconst encodeUnknownEither = (schema, options) => {\n  const encodeUnknownEither = _ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.encodeUnknownEither(schema, options);\n  return (u, overrideOptions) => effect_Either__WEBPACK_IMPORTED_MODULE_6__.mapLeft(encodeUnknownEither(u, overrideOptions), _ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.parseError);\n};\n/**\n * @category encoding\n * @since 0.67.0\n */\nconst encodeUnknownPromise = (schema, options) => {\n  const parser = encodeUnknown(schema, options);\n  return (u, overrideOptions) => effect_Effect__WEBPACK_IMPORTED_MODULE_7__.runPromise(parser(u, overrideOptions));\n};\n/**\n * @category encoding\n * @since 0.67.0\n */\nconst encode = encodeUnknown;\n/**\n * @category encoding\n * @since 0.67.0\n */\nconst encodeEither = encodeUnknownEither;\n/**\n * @category encoding\n * @since 0.67.0\n */\nconst encodePromise = encodeUnknownPromise;\n/**\n * @category decoding\n * @since 0.67.0\n */\nconst decodeUnknown = (schema, options) => {\n  const decodeUnknown = _ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.decodeUnknown(schema, options);\n  return (u, overrideOptions) => _ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.mapError(decodeUnknown(u, overrideOptions), _ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.parseError);\n};\n/**\n * @category decoding\n * @since 0.67.0\n */\nconst decodeUnknownEither = (schema, options) => {\n  const decodeUnknownEither = _ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.decodeUnknownEither(schema, options);\n  return (u, overrideOptions) => effect_Either__WEBPACK_IMPORTED_MODULE_6__.mapLeft(decodeUnknownEither(u, overrideOptions), _ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.parseError);\n};\n/**\n * @category decoding\n * @since 0.67.0\n */\nconst decodeUnknownPromise = (schema, options) => {\n  const parser = decodeUnknown(schema, options);\n  return (u, overrideOptions) => effect_Effect__WEBPACK_IMPORTED_MODULE_7__.runPromise(parser(u, overrideOptions));\n};\n/**\n * @category decoding\n * @since 0.67.0\n */\nconst decode = decodeUnknown;\n/**\n * @category decoding\n * @since 0.67.0\n */\nconst decodeEither = decodeUnknownEither;\n/**\n * @category decoding\n * @since 0.67.0\n */\nconst decodePromise = decodeUnknownPromise;\n/**\n * @category validation\n * @since 0.67.0\n */\nconst validate = (schema, options) => {\n  const validate = _ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.validate(schema, options);\n  return (u, overrideOptions) => _ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.mapError(validate(u, overrideOptions), _ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.parseError);\n};\n/**\n * @category validation\n * @since 0.67.0\n */\nconst validateEither = (schema, options) => {\n  const validateEither = _ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.validateEither(schema, options);\n  return (u, overrideOptions) => effect_Either__WEBPACK_IMPORTED_MODULE_6__.mapLeft(validateEither(u, overrideOptions), _ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.parseError);\n};\n/**\n * @category validation\n * @since 0.67.0\n */\nconst validatePromise = (schema, options) => {\n  const parser = validate(schema, options);\n  return (u, overrideOptions) => effect_Effect__WEBPACK_IMPORTED_MODULE_7__.runPromise(parser(u, overrideOptions));\n};\n/**\n * Tests if a value is a `Schema`.\n *\n * @category guards\n * @since 0.67.0\n */\nconst isSchema = u => effect_Predicate__WEBPACK_IMPORTED_MODULE_8__.hasProperty(u, TypeId) && effect_Predicate__WEBPACK_IMPORTED_MODULE_8__.isObject(u[TypeId]);\nconst getDefaultLiteralAST = literals => _AST_js__WEBPACK_IMPORTED_MODULE_1__.isMembers(literals) ? _AST_js__WEBPACK_IMPORTED_MODULE_1__.Union.make(_AST_js__WEBPACK_IMPORTED_MODULE_1__.mapMembers(literals, literal => new _AST_js__WEBPACK_IMPORTED_MODULE_1__.Literal(literal))) : new _AST_js__WEBPACK_IMPORTED_MODULE_1__.Literal(literals[0]);\nconst makeLiteralClass = (literals, ast = getDefaultLiteralAST(literals)) => class LiteralClass extends make(ast) {\n  static annotations(annotations) {\n    return makeLiteralClass(this.literals, mergeSchemaAnnotations(this.ast, annotations));\n  }\n  static literals = [...literals];\n};\nfunction Literal(...literals) {\n  return effect_Array__WEBPACK_IMPORTED_MODULE_9__.isNonEmptyReadonlyArray(literals) ? makeLiteralClass(literals) : Never;\n}\n/**\n * Creates a new `Schema` from a literal schema.\n *\n * @example\n * import * as S from \"@effect/schema/Schema\"\n * import { Either } from \"effect\"\n *\n * const schema = S.Literal(\"a\", \"b\", \"c\").pipe(S.pickLiteral(\"a\", \"b\"))\n *\n * assert.deepStrictEqual(S.decodeSync(schema)(\"a\"), \"a\")\n * assert.deepStrictEqual(S.decodeSync(schema)(\"b\"), \"b\")\n * assert.strictEqual(Either.isLeft(S.decodeUnknownEither(schema)(\"c\")), true)\n *\n * @category constructors\n * @since 0.67.0\n */\nconst pickLiteral = (...literals) => _schema => Literal(...literals);\n/**\n * @category constructors\n * @since 0.67.0\n */\nconst UniqueSymbolFromSelf = symbol => make(new _AST_js__WEBPACK_IMPORTED_MODULE_1__.UniqueSymbol(symbol));\nconst getDefaultEnumsAST = enums => new _AST_js__WEBPACK_IMPORTED_MODULE_1__.Enums(Object.keys(enums).filter(key => typeof enums[enums[key]] !== \"number\").map(key => [key, enums[key]]));\nconst makeEnumsClass = (enums, ast = getDefaultEnumsAST(enums)) => class EnumsClass extends make(ast) {\n  static annotations(annotations) {\n    return makeEnumsClass(this.enums, mergeSchemaAnnotations(this.ast, annotations));\n  }\n  static enums = {\n    ...enums\n  };\n};\n/**\n * @category constructors\n * @since 0.67.0\n */\nconst Enums = enums => makeEnumsClass(enums);\n/**\n * @category constructors\n * @since 0.67.0\n */\nconst TemplateLiteral = (...[head, ...tail]) => {\n  let astOrs = getTemplateLiterals(getTemplateLiteralParameterAST(head));\n  for (const span of tail) {\n    astOrs = effect_Array__WEBPACK_IMPORTED_MODULE_9__.flatMap(astOrs, a => getTemplateLiterals(getTemplateLiteralParameterAST(span)).map(b => combineTemplateLiterals(a, b)));\n  }\n  return make(_AST_js__WEBPACK_IMPORTED_MODULE_1__.Union.make(astOrs.map(astOr => effect_Predicate__WEBPACK_IMPORTED_MODULE_8__.isString(astOr) ? new _AST_js__WEBPACK_IMPORTED_MODULE_1__.Literal(astOr) : astOr)));\n};\nconst getTemplateLiteralParameterAST = span => isSchema(span) ? span.ast : new _AST_js__WEBPACK_IMPORTED_MODULE_1__.Literal(String(span));\nconst combineTemplateLiterals = (a, b) => {\n  if (effect_Predicate__WEBPACK_IMPORTED_MODULE_8__.isString(a)) {\n    return effect_Predicate__WEBPACK_IMPORTED_MODULE_8__.isString(b) ? a + b : new _AST_js__WEBPACK_IMPORTED_MODULE_1__.TemplateLiteral(a + b.head, b.spans);\n  }\n  if (effect_Predicate__WEBPACK_IMPORTED_MODULE_8__.isString(b)) {\n    return new _AST_js__WEBPACK_IMPORTED_MODULE_1__.TemplateLiteral(a.head, effect_Array__WEBPACK_IMPORTED_MODULE_9__.modifyNonEmptyLast(a.spans, span => new _AST_js__WEBPACK_IMPORTED_MODULE_1__.TemplateLiteralSpan(span.type, span.literal + b)));\n  }\n  return new _AST_js__WEBPACK_IMPORTED_MODULE_1__.TemplateLiteral(a.head, effect_Array__WEBPACK_IMPORTED_MODULE_9__.appendAll(effect_Array__WEBPACK_IMPORTED_MODULE_9__.modifyNonEmptyLast(a.spans, span => new _AST_js__WEBPACK_IMPORTED_MODULE_1__.TemplateLiteralSpan(span.type, span.literal + String(b.head))), b.spans));\n};\nconst getTemplateLiterals = ast => {\n  switch (ast._tag) {\n    case \"Literal\":\n      return [String(ast.literal)];\n    case \"NumberKeyword\":\n    case \"StringKeyword\":\n      return [new _AST_js__WEBPACK_IMPORTED_MODULE_1__.TemplateLiteral(\"\", [new _AST_js__WEBPACK_IMPORTED_MODULE_1__.TemplateLiteralSpan(ast, \"\")])];\n    case \"Union\":\n      return effect_Array__WEBPACK_IMPORTED_MODULE_9__.flatMap(ast.types, getTemplateLiterals);\n  }\n  throw new Error(_internal_errors_js__WEBPACK_IMPORTED_MODULE_10__.getSchemaUnsupportedLiteralSpanErrorMessage(ast));\n};\nconst declareConstructor = (typeParameters, options, annotations) => make(new _AST_js__WEBPACK_IMPORTED_MODULE_1__.Declaration(typeParameters.map(tp => tp.ast), (...typeParameters) => options.decode(...typeParameters.map(make)), (...typeParameters) => options.encode(...typeParameters.map(make)), toASTAnnotations(annotations)));\nconst declarePrimitive = (is, annotations) => {\n  const decodeUnknown = () => (input, _, ast) => is(input) ? _ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.succeed(input) : _ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.fail(new _ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.Type(ast, input));\n  const encodeUnknown = decodeUnknown;\n  return make(new _AST_js__WEBPACK_IMPORTED_MODULE_1__.Declaration([], decodeUnknown, encodeUnknown, toASTAnnotations(annotations)));\n};\n/**\n * The constraint `R extends Schema.Context<P[number]>` enforces dependencies solely from `typeParameters`.\n * This ensures that when you call `Schema.to` or `Schema.from`, you receive a schema with a `never` context.\n *\n * @category constructors\n * @since 0.67.0\n */\nconst declare = function () {\n  if (Array.isArray(arguments[0])) {\n    const typeParameters = arguments[0];\n    const options = arguments[1];\n    const annotations = arguments[2];\n    return declareConstructor(typeParameters, options, annotations);\n  }\n  const is = arguments[0];\n  const annotations = arguments[1];\n  return declarePrimitive(is, annotations);\n};\n/**\n * @category type id\n * @since 0.67.0\n */\nconst BrandTypeId = /*#__PURE__*/Symbol.for(\"@effect/schema/TypeId/Brand\");\n/**\n * @category constructors\n * @since 0.67.0\n */\nconst fromBrand = (constructor, annotations) => self => makeBrandClass(new _AST_js__WEBPACK_IMPORTED_MODULE_1__.Refinement(self.ast, function predicate(a, _, ast) {\n  const either = constructor.either(a);\n  return effect_Either__WEBPACK_IMPORTED_MODULE_6__.isLeft(either) ? effect_Option__WEBPACK_IMPORTED_MODULE_11__.some(new _ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.Type(ast, a, either.left.map(v => v.message).join(\", \"))) : effect_Option__WEBPACK_IMPORTED_MODULE_11__.none();\n}, toASTAnnotations({\n  typeId: {\n    id: BrandTypeId,\n    annotation: {\n      constructor\n    }\n  },\n  ...annotations\n})));\n/**\n * @category type id\n * @since 0.67.0\n */\nconst InstanceOfTypeId = /*#__PURE__*/Symbol.for(\"@effect/schema/TypeId/InstanceOf\");\n/**\n * @category constructors\n * @since 0.67.0\n */\nconst instanceOf = (constructor, annotations) => declare(u => u instanceof constructor, {\n  title: constructor.name,\n  description: `an instance of ${constructor.name}`,\n  pretty: () => String,\n  typeId: {\n    id: InstanceOfTypeId,\n    annotation: {\n      constructor\n    }\n  },\n  ...annotations\n});\n/**\n * @category primitives\n * @since 0.67.0\n */\nclass Undefined extends make(_AST_js__WEBPACK_IMPORTED_MODULE_1__.undefinedKeyword) {\n  static annotations = super.annotations;\n}\n/**\n * @category primitives\n * @since 0.67.0\n */\nclass Void extends make(_AST_js__WEBPACK_IMPORTED_MODULE_1__.voidKeyword) {\n  static annotations = super.annotations;\n}\n/**\n * @category primitives\n * @since 0.67.0\n */\nclass Null extends make(_AST_js__WEBPACK_IMPORTED_MODULE_1__[\"null\"]) {\n  static annotations = super.annotations;\n}\n/**\n * @category primitives\n * @since 0.67.0\n */\nclass Never extends make(_AST_js__WEBPACK_IMPORTED_MODULE_1__.neverKeyword) {\n  static annotations = super.annotations;\n}\n/**\n * @category primitives\n * @since 0.67.0\n */\nclass Unknown extends make(_AST_js__WEBPACK_IMPORTED_MODULE_1__.unknownKeyword) {\n  static annotations = super.annotations;\n}\n/**\n * @category primitives\n * @since 0.67.0\n */\nclass Any extends make(_AST_js__WEBPACK_IMPORTED_MODULE_1__.anyKeyword) {\n  static annotations = super.annotations;\n}\n/**\n * @category primitives\n * @since 0.67.0\n */\nclass BigIntFromSelf extends make(_AST_js__WEBPACK_IMPORTED_MODULE_1__.bigIntKeyword) {\n  static annotations = super.annotations;\n}\n/**\n * @category primitives\n * @since 0.67.0\n */\nclass SymbolFromSelf extends make(_AST_js__WEBPACK_IMPORTED_MODULE_1__.symbolKeyword) {\n  static annotations = super.annotations;\n}\n/** @ignore */\nclass String$ extends make(_AST_js__WEBPACK_IMPORTED_MODULE_1__.stringKeyword) {\n  static annotations = super.annotations;\n}\n/** @ignore */\nclass Number$ extends make(_AST_js__WEBPACK_IMPORTED_MODULE_1__.numberKeyword) {\n  static annotations = super.annotations;\n}\n/** @ignore */\nclass Boolean$ extends make(_AST_js__WEBPACK_IMPORTED_MODULE_1__.booleanKeyword) {\n  static annotations = super.annotations;\n}\n/** @ignore */\nclass Object$ extends make(_AST_js__WEBPACK_IMPORTED_MODULE_1__.objectKeyword) {\n  static annotations = super.annotations;\n}\n\nconst getDefaultUnionAST = members => _AST_js__WEBPACK_IMPORTED_MODULE_1__.Union.members(members.map(m => m.ast));\nconst makeUnionClass = (members, ast = getDefaultUnionAST(members)) => class UnionClass extends make(ast) {\n  static annotations(annotations) {\n    return makeUnionClass(this.members, mergeSchemaAnnotations(this.ast, annotations));\n  }\n  static members = [...members];\n};\nfunction Union(...members) {\n  return _AST_js__WEBPACK_IMPORTED_MODULE_1__.isMembers(members) ? makeUnionClass(members) : effect_Array__WEBPACK_IMPORTED_MODULE_9__.isNonEmptyReadonlyArray(members) ? members[0] : Never;\n}\n/**\n * @category combinators\n * @since 0.67.0\n */\nconst NullOr = self => Union(self, Null);\n/**\n * @category combinators\n * @since 0.67.0\n */\nconst UndefinedOr = self => Union(self, Undefined);\n/**\n * @category combinators\n * @since 0.67.0\n */\nconst NullishOr = self => Union(self, Null, Undefined);\n/**\n * @category combinators\n * @since 0.67.0\n */\nconst keyof = self => make(_AST_js__WEBPACK_IMPORTED_MODULE_1__.keyof(self.ast));\n/**\n * @since 0.68.0\n */\nconst element = self => new ElementImpl(new _AST_js__WEBPACK_IMPORTED_MODULE_1__.OptionalType(self.ast, false), self);\n/**\n * @since 0.67.0\n */\nconst optionalElement = self => new ElementImpl(new _AST_js__WEBPACK_IMPORTED_MODULE_1__.OptionalType(self.ast, true), self);\nclass ElementImpl {\n  ast;\n  from;\n  [TypeId];\n  _Token;\n  constructor(ast, from) {\n    this.ast = ast;\n    this.from = from;\n  }\n  annotations(annotations) {\n    return new ElementImpl(new _AST_js__WEBPACK_IMPORTED_MODULE_1__.OptionalType(this.ast.type, this.ast.isOptional, {\n      ...this.ast.annotations,\n      ...toASTAnnotations(annotations)\n    }), this.from);\n  }\n  toString() {\n    return `${this.ast.type}${this.ast.isOptional ? \"?\" : \"\"}`;\n  }\n}\nconst getDefaultTupleTypeAST = (elements, rest) => new _AST_js__WEBPACK_IMPORTED_MODULE_1__.TupleType(elements.map(el => isSchema(el) ? new _AST_js__WEBPACK_IMPORTED_MODULE_1__.OptionalType(el.ast, false) : el.ast), rest.map(el => isSchema(el) ? new _AST_js__WEBPACK_IMPORTED_MODULE_1__.Type(el.ast) : el.ast), true);\nconst makeTupleTypeClass = (elements, rest, ast = getDefaultTupleTypeAST(elements, rest)) => class TupleTypeClass extends make(ast) {\n  static annotations(annotations) {\n    return makeTupleTypeClass(this.elements, this.rest, mergeSchemaAnnotations(this.ast, annotations));\n  }\n  static elements = [...elements];\n  static rest = [...rest];\n};\nfunction Tuple(...args) {\n  return Array.isArray(args[0]) ? makeTupleTypeClass(args[0], args.slice(1)) : makeTupleTypeClass(args, []);\n}\nconst makeArrayClass = (value, ast) => class ArrayClass extends makeTupleTypeClass([], [value], ast) {\n  static annotations(annotations) {\n    return makeArrayClass(this.value, mergeSchemaAnnotations(this.ast, annotations));\n  }\n  static value = value;\n};\nconst Array$ = value => makeArrayClass(value);\n\nconst makeNonEmptyArrayClass = (value, ast) => class NonEmptyArrayClass extends makeTupleTypeClass([value], [value], ast) {\n  static annotations(annotations) {\n    return makeNonEmptyArrayClass(this.value, mergeSchemaAnnotations(this.ast, annotations));\n  }\n  static value = value;\n};\n/**\n * @category constructors\n * @since 0.67.0\n */\nconst NonEmptyArray = value => makeNonEmptyArrayClass(value);\nconst formatPropertySignatureToken = isOptional => isOptional ? \"\\\"?:\\\"\" : \"\\\":\\\"\";\n/**\n * @category PropertySignature\n * @since 0.67.0\n */\nclass PropertySignatureDeclaration extends _AST_js__WEBPACK_IMPORTED_MODULE_1__.OptionalType {\n  isReadonly;\n  defaultValue;\n  /**\n   * @since 0.67.0\n   */\n  _tag = \"PropertySignatureDeclaration\";\n  constructor(type, isOptional, isReadonly, annotations, defaultValue) {\n    super(type, isOptional, annotations);\n    this.isReadonly = isReadonly;\n    this.defaultValue = defaultValue;\n  }\n  /**\n   * @since 0.67.0\n   */\n  toString() {\n    const token = formatPropertySignatureToken(this.isOptional);\n    const type = String(this.type);\n    return `PropertySignature<${token}, ${type}, never, ${token}, ${type}>`;\n  }\n}\n/**\n * @category PropertySignature\n * @since 0.67.0\n */\nclass FromPropertySignature extends _AST_js__WEBPACK_IMPORTED_MODULE_1__.OptionalType {\n  isReadonly;\n  fromKey;\n  constructor(type, isOptional, isReadonly, annotations, fromKey) {\n    super(type, isOptional, annotations);\n    this.isReadonly = isReadonly;\n    this.fromKey = fromKey;\n  }\n}\n/**\n * @category PropertySignature\n * @since 0.67.0\n */\nclass ToPropertySignature extends _AST_js__WEBPACK_IMPORTED_MODULE_1__.OptionalType {\n  isReadonly;\n  defaultValue;\n  constructor(type, isOptional, isReadonly, annotations, defaultValue) {\n    super(type, isOptional, annotations);\n    this.isReadonly = isReadonly;\n    this.defaultValue = defaultValue;\n  }\n}\nconst formatPropertyKey = p => {\n  if (p === undefined) {\n    return \"never\";\n  }\n  if (effect_Predicate__WEBPACK_IMPORTED_MODULE_8__.isString(p)) {\n    return JSON.stringify(p);\n  }\n  return String(p);\n};\n/**\n * @category PropertySignature\n * @since 0.67.0\n */\nclass PropertySignatureTransformation {\n  from;\n  to;\n  decode;\n  encode;\n  /**\n   * @since 0.67.0\n   */\n  _tag = \"PropertySignatureTransformation\";\n  constructor(from, to, decode, encode) {\n    this.from = from;\n    this.to = to;\n    this.decode = decode;\n    this.encode = encode;\n  }\n  /**\n   * @since 0.67.0\n   */\n  toString() {\n    return `PropertySignature<${formatPropertySignatureToken(this.to.isOptional)}, ${this.to.type}, ${formatPropertyKey(this.from.fromKey)}, ${formatPropertySignatureToken(this.from.isOptional)}, ${this.from.type}>`;\n  }\n}\nconst mergeSignatureAnnotations = (ast, annotations) => {\n  switch (ast._tag) {\n    case \"PropertySignatureDeclaration\":\n      {\n        return new PropertySignatureDeclaration(ast.type, ast.isOptional, ast.isReadonly, {\n          ...ast.annotations,\n          ...annotations\n        }, ast.defaultValue);\n      }\n    case \"PropertySignatureTransformation\":\n      {\n        return new PropertySignatureTransformation(new FromPropertySignature(ast.from.type, ast.from.isOptional, ast.from.isReadonly, ast.from.annotations), new ToPropertySignature(ast.to.type, ast.to.isOptional, ast.to.isReadonly, {\n          ...ast.to.annotations,\n          ...annotations\n        }, ast.to.defaultValue), ast.decode, ast.encode);\n      }\n  }\n};\n/**\n * @since 0.68.0\n * @category symbol\n */\nconst PropertySignatureTypeId = /*#__PURE__*/Symbol.for(\"@effect/schema/PropertySignature\");\nclass PropertySignatureImpl {\n  ast;\n  [TypeId];\n  [PropertySignatureTypeId] = null;\n  _TypeToken;\n  _Key;\n  _EncodedToken;\n  _HasDefault;\n  constructor(ast) {\n    this.ast = ast;\n  }\n  pipe() {\n    return (0,effect_Pipeable__WEBPACK_IMPORTED_MODULE_0__.pipeArguments)(this, arguments);\n  }\n  annotations(annotations) {\n    return new PropertySignatureImpl(mergeSignatureAnnotations(this.ast, toASTAnnotations(annotations)));\n  }\n  toString() {\n    return String(this.ast);\n  }\n}\n/**\n * @category PropertySignature\n * @since 0.67.15\n */\nconst makePropertySignature = ast => new PropertySignatureImpl(ast);\nclass PropertySignatureWithFromImpl extends PropertySignatureImpl {\n  from;\n  constructor(ast, from) {\n    super(ast);\n    this.from = from;\n  }\n  annotations(annotations) {\n    return new PropertySignatureWithFromImpl(mergeSignatureAnnotations(this.ast, toASTAnnotations(annotations)), this.from);\n  }\n}\n/**\n * Lifts a `Schema` into a `PropertySignature`.\n *\n * @category PropertySignature\n * @since 0.67.0\n */\nconst propertySignature = self => new PropertySignatureWithFromImpl(new PropertySignatureDeclaration(self.ast, false, true, {}, undefined), self);\n/**\n * Enhances a property signature with a default constructor value.\n *\n * @category PropertySignature\n * @since 0.67.0\n */\nconst withConstructorDefault = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_12__.dual)(2, (self, defaultValue) => {\n  const ast = self.ast;\n  switch (ast._tag) {\n    case \"PropertySignatureDeclaration\":\n      return makePropertySignature(new PropertySignatureDeclaration(ast.type, ast.isOptional, ast.isReadonly, ast.annotations, defaultValue));\n    case \"PropertySignatureTransformation\":\n      return makePropertySignature(new PropertySignatureTransformation(ast.from, new ToPropertySignature(ast.to.type, ast.to.isOptional, ast.to.isReadonly, ast.to.annotations, defaultValue), ast.decode, ast.encode));\n  }\n});\nconst applyDefaultValue = (o, defaultValue) => effect_Option__WEBPACK_IMPORTED_MODULE_11__.match(o, {\n  onNone: () => effect_Option__WEBPACK_IMPORTED_MODULE_11__.some(defaultValue()),\n  onSome: value => effect_Option__WEBPACK_IMPORTED_MODULE_11__.some(value === undefined ? defaultValue() : value)\n});\n/**\n * Enhances a property signature with a default decoding value.\n *\n * @category PropertySignature\n * @since 0.67.0\n */\nconst withDecodingDefault = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_12__.dual)(2, (self, defaultValue) => {\n  const ast = self.ast;\n  switch (ast._tag) {\n    case \"PropertySignatureDeclaration\":\n      return makePropertySignature(new PropertySignatureTransformation(ast, new ToPropertySignature(_AST_js__WEBPACK_IMPORTED_MODULE_1__.typeAST(ast.type), false, true, {}, undefined), o => applyDefaultValue(o, defaultValue), effect_Function__WEBPACK_IMPORTED_MODULE_12__.identity));\n    case \"PropertySignatureTransformation\":\n      return makePropertySignature(new PropertySignatureTransformation(ast.from, new ToPropertySignature(ast.to.type, false, ast.to.isReadonly, ast.to.annotations, ast.to.defaultValue), o => applyDefaultValue(ast.decode(o), defaultValue), ast.encode));\n  }\n});\n/**\n * Enhances a property signature with a default decoding value and a default constructor value.\n *\n * @category PropertySignature\n * @since 0.67.0\n */\nconst withDefaults = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_12__.dual)(2, (self, defaults) => self.pipe(withDecodingDefault(defaults.decoding), withConstructorDefault(defaults.constructor)));\n/**\n * Enhances a property signature by specifying a different key for it in the Encoded type.\n *\n * @category PropertySignature\n * @since 0.67.0\n */\nconst fromKey = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_12__.dual)(2, (self, key) => {\n  const ast = self.ast;\n  switch (ast._tag) {\n    case \"PropertySignatureDeclaration\":\n      {\n        return makePropertySignature(new PropertySignatureTransformation(new FromPropertySignature(ast.type, ast.isOptional, ast.isReadonly, ast.annotations, key), new ToPropertySignature(_AST_js__WEBPACK_IMPORTED_MODULE_1__.typeAST(ast.type), ast.isOptional, ast.isReadonly, {}, ast.defaultValue), effect_Function__WEBPACK_IMPORTED_MODULE_12__.identity, effect_Function__WEBPACK_IMPORTED_MODULE_12__.identity));\n      }\n    case \"PropertySignatureTransformation\":\n      return makePropertySignature(new PropertySignatureTransformation(new FromPropertySignature(ast.from.type, ast.from.isOptional, ast.from.isReadonly, ast.from.annotations, key), ast.to, ast.decode, ast.encode));\n  }\n});\n/**\n * Converts an optional property to a required one through a transformation `Option -> Type`.\n *\n * - `decode`: `none` as argument means the value is missing in the input.\n * - `encode`: `none` as return value means the value will be missing in the output.\n *\n * @category PropertySignature\n * @since 0.67.0\n */\nconst optionalToRequired = (from, to, options) => makePropertySignature(new PropertySignatureTransformation(new FromPropertySignature(from.ast, true, true, {}, undefined), new ToPropertySignature(to.ast, false, true, {}, undefined), o => effect_Option__WEBPACK_IMPORTED_MODULE_11__.some(options.decode(o)), effect_Option__WEBPACK_IMPORTED_MODULE_11__.flatMap(options.encode)));\n/**\n * Converts an optional property to a required one through a transformation `Type -> Option`.\n *\n * - `decode`: `none` as return value means the value will be missing in the output.\n * - `encode`: `none` as argument means the value is missing in the input.\n *\n * @category PropertySignature\n * @since 0.67.15\n */\nconst requiredToOptional = (from, to, options) => makePropertySignature(new PropertySignatureTransformation(new FromPropertySignature(from.ast, false, true, {}, undefined), new ToPropertySignature(to.ast, true, true, {}, undefined), effect_Option__WEBPACK_IMPORTED_MODULE_11__.flatMap(options.decode), o => effect_Option__WEBPACK_IMPORTED_MODULE_11__.some(options.encode(o))));\n/**\n * Converts an optional property to another optional property through a transformation `Option -> Option`.\n *\n * - `decode`:\n *   - `none` as argument means the value is missing in the input.\n *   - `none` as return value means the value will be missing in the output.\n * - `encode`:\n *   - `none` as argument means the value is missing in the input.\n *   - `none` as return value means the value will be missing in the output.\n *\n * @category PropertySignature\n * @since 0.67.0\n */\nconst optionalToOptional = (from, to, options) => makePropertySignature(new PropertySignatureTransformation(new FromPropertySignature(from.ast, true, true, {}, undefined), new ToPropertySignature(to.ast, true, true, {}, undefined), options.decode, options.encode));\nconst optionalPropertySignatureAST = (from, options) => {\n  const isExact = options?.exact;\n  const defaultValue = options?.default;\n  const isNullable = options?.nullable;\n  const asOption = options?.as == \"Option\";\n  const asOptionEncode = options?.onNoneEncoding ? effect_Option__WEBPACK_IMPORTED_MODULE_11__.orElse(options.onNoneEncoding) : effect_Function__WEBPACK_IMPORTED_MODULE_12__.identity;\n  if (isExact) {\n    if (defaultValue) {\n      if (isNullable) {\n        return withConstructorDefault(optionalToRequired(NullOr(from), typeSchema(from), {\n          decode: effect_Option__WEBPACK_IMPORTED_MODULE_11__.match({\n            onNone: defaultValue,\n            onSome: a => a === null ? defaultValue() : a\n          }),\n          encode: effect_Option__WEBPACK_IMPORTED_MODULE_11__.some\n        }), defaultValue).ast;\n      } else {\n        return withConstructorDefault(optionalToRequired(from, typeSchema(from), {\n          decode: effect_Option__WEBPACK_IMPORTED_MODULE_11__.match({\n            onNone: defaultValue,\n            onSome: effect_Function__WEBPACK_IMPORTED_MODULE_12__.identity\n          }),\n          encode: effect_Option__WEBPACK_IMPORTED_MODULE_11__.some\n        }), defaultValue).ast;\n      }\n    } else if (asOption) {\n      if (isNullable) {\n        return optionalToRequired(NullOr(from), OptionFromSelf(typeSchema(from)), {\n          decode: effect_Option__WEBPACK_IMPORTED_MODULE_11__.filter(effect_Predicate__WEBPACK_IMPORTED_MODULE_8__.isNotNull),\n          encode: asOptionEncode\n        }).ast;\n      } else {\n        return optionalToRequired(from, OptionFromSelf(typeSchema(from)), {\n          decode: effect_Function__WEBPACK_IMPORTED_MODULE_12__.identity,\n          encode: effect_Function__WEBPACK_IMPORTED_MODULE_12__.identity\n        }).ast;\n      }\n    } else {\n      if (isNullable) {\n        return optionalToOptional(NullOr(from), typeSchema(from), {\n          decode: effect_Option__WEBPACK_IMPORTED_MODULE_11__.filter(effect_Predicate__WEBPACK_IMPORTED_MODULE_8__.isNotNull),\n          encode: effect_Function__WEBPACK_IMPORTED_MODULE_12__.identity\n        }).ast;\n      } else {\n        return new PropertySignatureDeclaration(from.ast, true, true, {}, undefined);\n      }\n    }\n  } else {\n    if (defaultValue) {\n      if (isNullable) {\n        return withConstructorDefault(optionalToRequired(NullishOr(from), typeSchema(from), {\n          decode: effect_Option__WEBPACK_IMPORTED_MODULE_11__.match({\n            onNone: defaultValue,\n            onSome: a => a == null ? defaultValue() : a\n          }),\n          encode: effect_Option__WEBPACK_IMPORTED_MODULE_11__.some\n        }), defaultValue).ast;\n      } else {\n        return withConstructorDefault(optionalToRequired(UndefinedOr(from), typeSchema(from), {\n          decode: effect_Option__WEBPACK_IMPORTED_MODULE_11__.match({\n            onNone: defaultValue,\n            onSome: a => a === undefined ? defaultValue() : a\n          }),\n          encode: effect_Option__WEBPACK_IMPORTED_MODULE_11__.some\n        }), defaultValue).ast;\n      }\n    } else if (asOption) {\n      if (isNullable) {\n        return optionalToRequired(NullishOr(from), OptionFromSelf(typeSchema(from)), {\n          decode: effect_Option__WEBPACK_IMPORTED_MODULE_11__.filter(a => a != null),\n          encode: asOptionEncode\n        }).ast;\n      } else {\n        return optionalToRequired(UndefinedOr(from), OptionFromSelf(typeSchema(from)), {\n          decode: effect_Option__WEBPACK_IMPORTED_MODULE_11__.filter(effect_Predicate__WEBPACK_IMPORTED_MODULE_8__.isNotUndefined),\n          encode: asOptionEncode\n        }).ast;\n      }\n    } else {\n      if (isNullable) {\n        return optionalToOptional(NullishOr(from), UndefinedOr(typeSchema(from)), {\n          decode: effect_Option__WEBPACK_IMPORTED_MODULE_11__.filter(effect_Predicate__WEBPACK_IMPORTED_MODULE_8__.isNotNull),\n          encode: effect_Function__WEBPACK_IMPORTED_MODULE_12__.identity\n        }).ast;\n      } else {\n        return new PropertySignatureDeclaration(UndefinedOr(from).ast, true, true, {}, undefined);\n      }\n    }\n  }\n};\n/**\n * @category PropertySignature\n * @since 0.67.0\n */\nconst optional = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_12__.dual)(args => isSchema(args[0]), (from, options) => {\n  // Note: `Schema.All extends S ? \"you can't...` is used to prevent the case where `optional` is implicitly applied.\n  // For example: `S.String.pipe(S.optional)` would result in `S.String` being inferred as `Schema.All`,\n  // which is not the intended behavior. This is mostly an aesthetic consideration, so if it causes issues, we can remove it.\n  return new PropertySignatureWithFromImpl(optionalPropertySignatureAST(from, options), from);\n});\nconst isPropertySignature = u => effect_Predicate__WEBPACK_IMPORTED_MODULE_8__.hasProperty(u, PropertySignatureTypeId);\nconst getDefaultTypeLiteralAST = (fields, records) => {\n  const ownKeys = _internal_util_js__WEBPACK_IMPORTED_MODULE_13__.ownKeys(fields);\n  const pss = [];\n  if (ownKeys.length > 0) {\n    const from = [];\n    const to = [];\n    const transformations = [];\n    for (let i = 0; i < ownKeys.length; i++) {\n      const key = ownKeys[i];\n      const field = fields[key];\n      if (isPropertySignature(field)) {\n        const ast = field.ast;\n        switch (ast._tag) {\n          case \"PropertySignatureDeclaration\":\n            {\n              const type = ast.type;\n              const isOptional = ast.isOptional;\n              const toAnnotations = ast.annotations;\n              from.push(new _AST_js__WEBPACK_IMPORTED_MODULE_1__.PropertySignature(key, type, isOptional, true));\n              to.push(new _AST_js__WEBPACK_IMPORTED_MODULE_1__.PropertySignature(key, _AST_js__WEBPACK_IMPORTED_MODULE_1__.typeAST(type), isOptional, true, toAnnotations));\n              pss.push(new _AST_js__WEBPACK_IMPORTED_MODULE_1__.PropertySignature(key, type, isOptional, true, toAnnotations));\n              break;\n            }\n          case \"PropertySignatureTransformation\":\n            {\n              const fromKey = ast.from.fromKey ?? key;\n              from.push(new _AST_js__WEBPACK_IMPORTED_MODULE_1__.PropertySignature(fromKey, ast.from.type, ast.from.isOptional, true, ast.from.annotations));\n              to.push(new _AST_js__WEBPACK_IMPORTED_MODULE_1__.PropertySignature(key, ast.to.type, ast.to.isOptional, true, ast.to.annotations));\n              transformations.push(new _AST_js__WEBPACK_IMPORTED_MODULE_1__.PropertySignatureTransformation(fromKey, key, ast.decode, ast.encode));\n              break;\n            }\n        }\n      } else {\n        from.push(new _AST_js__WEBPACK_IMPORTED_MODULE_1__.PropertySignature(key, field.ast, false, true));\n        to.push(new _AST_js__WEBPACK_IMPORTED_MODULE_1__.PropertySignature(key, _AST_js__WEBPACK_IMPORTED_MODULE_1__.typeAST(field.ast), false, true));\n        pss.push(new _AST_js__WEBPACK_IMPORTED_MODULE_1__.PropertySignature(key, field.ast, false, true));\n      }\n    }\n    if (effect_Array__WEBPACK_IMPORTED_MODULE_9__.isNonEmptyReadonlyArray(transformations)) {\n      const issFrom = [];\n      const issTo = [];\n      for (const r of records) {\n        const {\n          indexSignatures,\n          propertySignatures\n        } = _AST_js__WEBPACK_IMPORTED_MODULE_1__.record(r.key.ast, r.value.ast);\n        propertySignatures.forEach(ps => {\n          from.push(ps);\n          to.push(new _AST_js__WEBPACK_IMPORTED_MODULE_1__.PropertySignature(ps.name, _AST_js__WEBPACK_IMPORTED_MODULE_1__.typeAST(ps.type), ps.isOptional, ps.isReadonly, ps.annotations));\n        });\n        indexSignatures.forEach(is => {\n          issFrom.push(is);\n          issTo.push(new _AST_js__WEBPACK_IMPORTED_MODULE_1__.IndexSignature(is.parameter, _AST_js__WEBPACK_IMPORTED_MODULE_1__.typeAST(is.type), is.isReadonly));\n        });\n      }\n      return new _AST_js__WEBPACK_IMPORTED_MODULE_1__.Transformation(new _AST_js__WEBPACK_IMPORTED_MODULE_1__.TypeLiteral(from, issFrom, {\n        [_AST_js__WEBPACK_IMPORTED_MODULE_1__.TitleAnnotationId]: \"Struct (Encoded side)\"\n      }), new _AST_js__WEBPACK_IMPORTED_MODULE_1__.TypeLiteral(to, issTo, {\n        [_AST_js__WEBPACK_IMPORTED_MODULE_1__.TitleAnnotationId]: \"Struct (Type side)\"\n      }), new _AST_js__WEBPACK_IMPORTED_MODULE_1__.TypeLiteralTransformation(transformations));\n    }\n  }\n  const iss = [];\n  for (const r of records) {\n    const {\n      indexSignatures,\n      propertySignatures\n    } = _AST_js__WEBPACK_IMPORTED_MODULE_1__.record(r.key.ast, r.value.ast);\n    propertySignatures.forEach(ps => pss.push(ps));\n    indexSignatures.forEach(is => iss.push(is));\n  }\n  return new _AST_js__WEBPACK_IMPORTED_MODULE_1__.TypeLiteral(pss, iss);\n};\nconst lazilyMergeDefaults = (fields, out) => {\n  const ownKeys = _internal_util_js__WEBPACK_IMPORTED_MODULE_13__.ownKeys(fields);\n  for (const key of ownKeys) {\n    const field = fields[key];\n    if (out[key] === undefined && isPropertySignature(field)) {\n      const ast = field.ast;\n      const defaultValue = ast._tag === \"PropertySignatureDeclaration\" ? ast.defaultValue : ast.to.defaultValue;\n      if (defaultValue !== undefined) {\n        out[key] = defaultValue();\n      }\n    }\n  }\n  return out;\n};\nconst makeTypeLiteralClass = (fields, records, ast = getDefaultTypeLiteralAST(fields, records)) => {\n  return class TypeLiteralClass extends make(ast) {\n    static annotations(annotations) {\n      return makeTypeLiteralClass(this.fields, this.records, mergeSchemaAnnotations(this.ast, annotations));\n    }\n    static fields = {\n      ...fields\n    };\n    static records = [...records];\n    static make = (props, options) => {\n      const propsWithDefaults = lazilyMergeDefaults(fields, {\n        ...props\n      });\n      return getDisableValidationMakeOption(options) ? propsWithDefaults : _ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.validateSync(this)(propsWithDefaults);\n    };\n    static pick(...keys) {\n      return Struct(effect_Struct__WEBPACK_IMPORTED_MODULE_14__.pick(fields, ...keys));\n    }\n    static omit(...keys) {\n      return Struct(effect_Struct__WEBPACK_IMPORTED_MODULE_14__.omit(fields, ...keys));\n    }\n  };\n};\nfunction Struct(fields, ...records) {\n  return makeTypeLiteralClass(fields, records);\n}\n/**\n * Returns a property signature that represents a tag.\n * A tag is a literal value that is used to distinguish between different types of objects.\n * The tag is optional when using the `make` method.\n *\n * @see {@link TaggedStruct}\n *\n * @example\n * import { Schema } from \"@effect/schema\"\n *\n * const User = Schema.Struct({\n *   _tag: Schema.tag(\"User\"),\n *   name: Schema.String,\n *   age: Schema.Number\n * })\n *\n * assert.deepStrictEqual(User.make({ name: \"John\", age: 44 }), { _tag: \"User\", name: \"John\", age: 44 })\n *\n * @since 0.67.14\n */\nconst tag = tag => Literal(tag).pipe(propertySignature, withConstructorDefault(() => tag));\n/**\n * A tagged struct is a struct that has a tag property that is used to distinguish between different types of objects.\n *\n * The tag is optional when using the `make` method.\n *\n * @example\n * import { Schema } from \"@effect/schema\"\n *\n * const User = Schema.TaggedStruct(\"User\", {\n *   name: Schema.String,\n *   age: Schema.Number\n * })\n *\n * assert.deepStrictEqual(User.make({ name: \"John\", age: 44 }), { _tag: \"User\", name: \"John\", age: 44 })\n *\n * @category constructors\n * @since 0.67.14\n */\nconst TaggedStruct = (value, fields) => Struct({\n  _tag: tag(value),\n  ...fields\n});\nconst makeRecordClass = (key, value, ast) => class RecordClass extends makeTypeLiteralClass({}, [{\n  key,\n  value\n}], ast) {\n  static annotations(annotations) {\n    return makeRecordClass(key, value, mergeSchemaAnnotations(this.ast, annotations));\n  }\n  static key = key;\n  static value = value;\n};\n/**\n * @category constructors\n * @since 0.67.0\n */\nconst Record = (key, value) => makeRecordClass(key, value);\n/**\n * @category struct transformations\n * @since 0.67.0\n */\nconst pick = (...keys) => self => make(_AST_js__WEBPACK_IMPORTED_MODULE_1__.pick(self.ast, keys));\n/**\n * @category struct transformations\n * @since 0.67.0\n */\nconst omit = (...keys) => self => make(_AST_js__WEBPACK_IMPORTED_MODULE_1__.omit(self.ast, keys));\n/**\n * Given a schema `Schema<A, I, R>` and a key `key: K`, this function extracts a specific field from the `A` type,\n * producing a new schema that represents a transformation from the `{ readonly [key]: I[K] }` type to `A[K]`.\n *\n * @example\n * import * as S from \"@effect/schema/Schema\"\n *\n * // ---------------------------------------------\n * // use case: pull out a single field from a\n * // struct through a transformation\n * // ---------------------------------------------\n *\n * const mytable = S.Struct({\n *   column1: S.NumberFromString,\n *   column2: S.Number\n * })\n *\n * // const pullOutColumn: S.Schema<number, {\n * //     readonly column1: string;\n * // }, never>\n * const pullOutColumn = mytable.pipe(S.pluck(\"column1\"))\n *\n * console.log(S.decodeUnknownEither(S.Array(pullOutColumn))([{ column1: \"1\", column2: 100 }, { column1: \"2\", column2: 300 }]))\n * // Output: { _id: 'Either', _tag: 'Right', right: [ 1, 2 ] }\n *\n * @category struct transformations\n * @since 0.67.0\n */\nconst pluck = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_12__.dual)(2, (schema, key) => {\n  const ps = _AST_js__WEBPACK_IMPORTED_MODULE_1__.getPropertyKeyIndexedAccess(_AST_js__WEBPACK_IMPORTED_MODULE_1__.typeAST(schema.ast), key);\n  const value = make(ps.isOptional ? _AST_js__WEBPACK_IMPORTED_MODULE_1__.orUndefined(ps.type) : ps.type);\n  return transform(schema.pipe(pick(key)), value, {\n    strict: true,\n    decode: a => a[key],\n    encode: ak => ps.isOptional && ak === undefined ? {} : {\n      [key]: ak\n    }\n  });\n});\nconst makeBrandClass = ast => class BrandClass extends make(ast) {\n  static annotations(annotations) {\n    return makeBrandClass(mergeSchemaAnnotations(this.ast, annotations));\n  }\n  static make = (a, options) => {\n    return getDisableValidationMakeOption(options) ? a : _ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.validateSync(this)(a);\n  };\n};\n/**\n * Returns a nominal branded schema by applying a brand to a given schema.\n *\n * ```\n * Schema<A> + B -> Schema<A & Brand<B>>\n * ```\n *\n * @param self - The input schema to be combined with the brand.\n * @param brand - The brand to apply.\n *\n * @example\n * import * as Schema from \"@effect/schema/Schema\"\n *\n * const Int = Schema.Number.pipe(Schema.int(), Schema.brand(\"Int\"))\n * type Int = Schema.Schema.Type<typeof Int> // number & Brand<\"Int\">\n *\n * @category branding\n * @since 0.67.0\n */\nconst brand = (brand, annotations) => self => {\n  const annotation = effect_Option__WEBPACK_IMPORTED_MODULE_11__.match(_AST_js__WEBPACK_IMPORTED_MODULE_1__.getBrandAnnotation(self.ast), {\n    onNone: () => [brand],\n    onSome: brands => [...brands, brand]\n  });\n  const ast = _AST_js__WEBPACK_IMPORTED_MODULE_1__.annotations(self.ast, toASTAnnotations({\n    // add a default title annotation containing the brand\n    title: String(self.ast) + ` & Brand<${_internal_util_js__WEBPACK_IMPORTED_MODULE_13__.formatUnknown(brand)}>`,\n    ...annotations,\n    [_AST_js__WEBPACK_IMPORTED_MODULE_1__.BrandAnnotationId]: annotation\n  }));\n  return makeBrandClass(ast);\n};\n/**\n * @category combinators\n * @since 0.67.0\n */\nconst partial = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_12__.dual)(args => isSchema(args[0]), (self, options) => make(_AST_js__WEBPACK_IMPORTED_MODULE_1__.partial(self.ast, options)));\n/**\n * @category combinators\n * @since 0.67.0\n */\nconst required = self => make(_AST_js__WEBPACK_IMPORTED_MODULE_1__.required(self.ast));\n/**\n * Creates a new schema with shallow mutability applied to its properties.\n *\n * @param schema - The original schema to make properties mutable (shallowly).\n *\n * @category combinators\n * @since 0.67.0\n */\nconst mutable = schema => make(_AST_js__WEBPACK_IMPORTED_MODULE_1__.mutable(schema.ast));\nconst intersectTypeLiterals = (x, y, path) => {\n  if (_AST_js__WEBPACK_IMPORTED_MODULE_1__.isTypeLiteral(x) && _AST_js__WEBPACK_IMPORTED_MODULE_1__.isTypeLiteral(y)) {\n    const propertySignatures = [...x.propertySignatures];\n    for (const ps of y.propertySignatures) {\n      const name = ps.name;\n      const i = propertySignatures.findIndex(ps => ps.name === name);\n      if (i === -1) {\n        propertySignatures.push(ps);\n      } else {\n        const {\n          isOptional,\n          type\n        } = propertySignatures[i];\n        propertySignatures[i] = new _AST_js__WEBPACK_IMPORTED_MODULE_1__.PropertySignature(name, extendAST(type, ps.type, path.concat(name)), isOptional, true);\n      }\n    }\n    return new _AST_js__WEBPACK_IMPORTED_MODULE_1__.TypeLiteral(propertySignatures, x.indexSignatures.concat(y.indexSignatures));\n  }\n  throw new Error(_internal_errors_js__WEBPACK_IMPORTED_MODULE_10__.getSchemaExtendErrorMessage(x, y, path));\n};\nconst preserveRefinementAnnotations = /*#__PURE__*/_AST_js__WEBPACK_IMPORTED_MODULE_1__.preserveAnnotations([_AST_js__WEBPACK_IMPORTED_MODULE_1__.MessageAnnotationId, _AST_js__WEBPACK_IMPORTED_MODULE_1__.JSONSchemaAnnotationId]);\nconst addRefinementToMembers = (refinement, asts) => asts.map(ast => new _AST_js__WEBPACK_IMPORTED_MODULE_1__.Refinement(ast, refinement.filter, preserveRefinementAnnotations(refinement)));\nconst extendAST = (x, y, path) => _AST_js__WEBPACK_IMPORTED_MODULE_1__.Union.make(intersectUnionMembers([x], [y], path));\nconst getTypes = ast => _AST_js__WEBPACK_IMPORTED_MODULE_1__.isUnion(ast) ? ast.types : [ast];\nconst intersectUnionMembers = (xs, ys, path) => effect_Array__WEBPACK_IMPORTED_MODULE_9__.flatMap(xs, x => effect_Array__WEBPACK_IMPORTED_MODULE_9__.flatMap(ys, y => {\n  switch (x._tag) {\n    case \"Union\":\n      return intersectUnionMembers(x.types, getTypes(y), path);\n    case \"Suspend\":\n      return [new _AST_js__WEBPACK_IMPORTED_MODULE_1__.Suspend(() => extendAST(x.f(), y, path))];\n    case \"Refinement\":\n      return addRefinementToMembers(x, intersectUnionMembers(getTypes(x.from), getTypes(y), path));\n    case \"TypeLiteral\":\n      {\n        switch (y._tag) {\n          case \"Union\":\n            return intersectUnionMembers([x], y.types, path);\n          case \"Suspend\":\n            return [new _AST_js__WEBPACK_IMPORTED_MODULE_1__.Suspend(() => extendAST(x, y.f(), path))];\n          case \"Refinement\":\n            return addRefinementToMembers(y, intersectUnionMembers([x], getTypes(y.from), path));\n          case \"TypeLiteral\":\n            return [intersectTypeLiterals(x, y, path)];\n          case \"Transformation\":\n            {\n              if (_AST_js__WEBPACK_IMPORTED_MODULE_1__.isTypeLiteralTransformation(y.transformation)) {\n                return [new _AST_js__WEBPACK_IMPORTED_MODULE_1__.Transformation(intersectTypeLiterals(x, y.from, path), intersectTypeLiterals(_AST_js__WEBPACK_IMPORTED_MODULE_1__.typeAST(x), y.to, path), new _AST_js__WEBPACK_IMPORTED_MODULE_1__.TypeLiteralTransformation(y.transformation.propertySignatureTransformations))];\n              }\n              break;\n            }\n        }\n        break;\n      }\n    case \"Transformation\":\n      {\n        if (_AST_js__WEBPACK_IMPORTED_MODULE_1__.isTypeLiteralTransformation(x.transformation)) {\n          switch (y._tag) {\n            case \"Union\":\n              return intersectUnionMembers([x], y.types, path);\n            case \"Suspend\":\n              return [new _AST_js__WEBPACK_IMPORTED_MODULE_1__.Suspend(() => extendAST(x, y.f(), path))];\n            case \"Refinement\":\n              return addRefinementToMembers(y, intersectUnionMembers([x], getTypes(y.from), path));\n            case \"TypeLiteral\":\n              return [new _AST_js__WEBPACK_IMPORTED_MODULE_1__.Transformation(intersectTypeLiterals(x.from, y, path), intersectTypeLiterals(x.to, _AST_js__WEBPACK_IMPORTED_MODULE_1__.typeAST(y), path), new _AST_js__WEBPACK_IMPORTED_MODULE_1__.TypeLiteralTransformation(x.transformation.propertySignatureTransformations))];\n            case \"Transformation\":\n              {\n                if (_AST_js__WEBPACK_IMPORTED_MODULE_1__.isTypeLiteralTransformation(y.transformation)) {\n                  return [new _AST_js__WEBPACK_IMPORTED_MODULE_1__.Transformation(intersectTypeLiterals(x.from, y.from, path), intersectTypeLiterals(x.to, y.to, path), new _AST_js__WEBPACK_IMPORTED_MODULE_1__.TypeLiteralTransformation(x.transformation.propertySignatureTransformations.concat(y.transformation.propertySignatureTransformations)))];\n                }\n              }\n              break;\n          }\n        }\n        break;\n      }\n  }\n  throw new Error(_internal_errors_js__WEBPACK_IMPORTED_MODULE_10__.getSchemaExtendErrorMessage(x, y, path));\n}));\n/**\n * Extends a schema by adding additional fields or index signatures.\n *\n * 1) It only supports **structs**, refinements of structs, unions of structs, suspensions of structs\n * (informally `Supported = Struct | Refinement of Supported | Union of Supported | suspend(() => Supported)`)\n * 2) The arguments must represent disjoint types (e.g., `extend(Struct({ a: String }), Struct({ a: String })))` raises an error)\n *\n * @example\n * import * as Schema from \"@effect/schema/Schema\"\n *\n * const schema = Schema.Struct({\n *   a: Schema.String,\n *   b: Schema.String\n * })\n *\n * // const extended: S.Schema<{\n * //     readonly [x: string]: string;\n * //     readonly a: string;\n * //     readonly b: string;\n * //     readonly c: string;\n * // }>\n * const extended = Schema.asSchema(schema.pipe(\n *   Schema.extend(Schema.Struct({ c: Schema.String })), // <= you can add more fields\n *   Schema.extend(Schema.Record(Schema.String, Schema.String)) // <= you can add index signatures\n * ))\n *\n * @category combinators\n * @since 0.67.0\n */\nconst extend = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_12__.dual)(2, (self, that) => make(extendAST(self.ast, that.ast, [])));\n/**\n * @category combinators\n * @since 0.67.0\n */\nconst compose = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_12__.dual)(args => isSchema(args[1]), (from, to) => make(_AST_js__WEBPACK_IMPORTED_MODULE_1__.compose(from.ast, to.ast)));\n/**\n * @category constructors\n * @since 0.67.0\n */\nconst suspend = f => make(new _AST_js__WEBPACK_IMPORTED_MODULE_1__.Suspend(() => f().ast));\n/**\n * @since 0.68.8\n * @category symbol\n */\nconst refineTypeId = /*#__PURE__*/Symbol.for(\"@effect/schema/refine\");\nconst makeRefineClass = (from, filter, ast) => class RefineClass extends make(ast) {\n  static annotations(annotations) {\n    return makeRefineClass(this.from, this.filter, mergeSchemaAnnotations(this.ast, annotations));\n  }\n  static [refineTypeId] = from;\n  static from = from;\n  static filter = filter;\n  static make = (a, options) => {\n    return getDisableValidationMakeOption(options) ? a : _ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.validateSync(this)(a);\n  };\n};\nconst fromFilterPredicateReturnTypeItem = (item, ast, input) => {\n  if (effect_Predicate__WEBPACK_IMPORTED_MODULE_8__.isBoolean(item)) {\n    return item ? effect_Option__WEBPACK_IMPORTED_MODULE_11__.none() : effect_Option__WEBPACK_IMPORTED_MODULE_11__.some(new _ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.Type(ast, input));\n  }\n  if (effect_Predicate__WEBPACK_IMPORTED_MODULE_8__.isString(item)) {\n    return effect_Option__WEBPACK_IMPORTED_MODULE_11__.some(new _ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.Type(ast, input, item));\n  }\n  if (item !== undefined) {\n    if (\"_tag\" in item) {\n      return effect_Option__WEBPACK_IMPORTED_MODULE_11__.some(item);\n    }\n    const issue = new _ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.Type(ast, input, item.message);\n    return effect_Option__WEBPACK_IMPORTED_MODULE_11__.some(effect_Array__WEBPACK_IMPORTED_MODULE_9__.isNonEmptyReadonlyArray(item.path) ? new _ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.Pointer(item.path, input, issue) : issue);\n  }\n  return effect_Option__WEBPACK_IMPORTED_MODULE_11__.none();\n};\nconst toFilterParseIssue = (out, ast, input) => {\n  if (_internal_util_js__WEBPACK_IMPORTED_MODULE_13__.isSingle(out)) {\n    return fromFilterPredicateReturnTypeItem(out, ast, input);\n  }\n  if (effect_Array__WEBPACK_IMPORTED_MODULE_9__.isNonEmptyReadonlyArray(out)) {\n    const issues = effect_Array__WEBPACK_IMPORTED_MODULE_9__.filterMap(out, issue => fromFilterPredicateReturnTypeItem(issue, ast, input));\n    if (effect_Array__WEBPACK_IMPORTED_MODULE_9__.isNonEmptyReadonlyArray(issues)) {\n      return effect_Option__WEBPACK_IMPORTED_MODULE_11__.some(issues.length === 1 ? issues[0] : new _ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.Composite(ast, input, issues));\n    }\n  }\n  return effect_Option__WEBPACK_IMPORTED_MODULE_11__.none();\n};\nfunction filter(predicate, annotations) {\n  return self => {\n    function filter(input, options, ast) {\n      return toFilterParseIssue(predicate(input, options, ast), ast, input);\n    }\n    const ast = new _AST_js__WEBPACK_IMPORTED_MODULE_1__.Refinement(self.ast, filter, toASTAnnotations(annotations));\n    return makeRefineClass(self, filter, ast);\n  };\n}\n/**\n * @category transformations\n * @since 0.68.17\n */\nconst filterEffect = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_12__.dual)(2, (self, f) => transformOrFail(self, typeSchema(self), {\n  strict: true,\n  decode: (a, options, ast) => _ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.flatMap(f(a, options, ast), filterReturnType => effect_Option__WEBPACK_IMPORTED_MODULE_11__.match(toFilterParseIssue(filterReturnType, ast, a), {\n    onNone: () => _ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.succeed(a),\n    onSome: _ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.fail\n  })),\n  encode: _ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.succeed\n}));\nconst makeTransformationClass = (from, to, ast) => class TransformationClass extends make(ast) {\n  static annotations(annotations) {\n    return makeTransformationClass(this.from, this.to, mergeSchemaAnnotations(this.ast, annotations));\n  }\n  static from = from;\n  static to = to;\n};\n/**\n * Create a new `Schema` by transforming the input and output of an existing `Schema`\n * using the provided decoding functions.\n *\n * @category transformations\n * @since 0.67.0\n */\nconst transformOrFail = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_12__.dual)(args => isSchema(args[0]) && isSchema(args[1]), (from, to, options) => makeTransformationClass(from, to, new _AST_js__WEBPACK_IMPORTED_MODULE_1__.Transformation(from.ast, to.ast, new _AST_js__WEBPACK_IMPORTED_MODULE_1__.FinalTransformation(options.decode, options.encode))));\n/**\n * Create a new `Schema` by transforming the input and output of an existing `Schema`\n * using the provided mapping functions.\n *\n * @category transformations\n * @since 0.67.0\n */\nconst transform = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_12__.dual)(args => isSchema(args[0]) && isSchema(args[1]), (from, to, options) => transformOrFail(from, to, {\n  strict: true,\n  decode: fromA => _ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.succeed(options.decode(fromA)),\n  encode: toI => _ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.succeed(options.encode(toI))\n}));\n/**\n * Creates a new `Schema` which transforms literal values.\n *\n * @example\n * import * as S from \"@effect/schema/Schema\"\n *\n * const schema = S.transformLiteral(0, \"a\")\n *\n * assert.deepStrictEqual(S.decodeSync(schema)(0), \"a\")\n *\n * @category constructors\n * @since 0.67.0\n */\nconst transformLiteral = (from, to) => transform(Literal(from), Literal(to), {\n  strict: true,\n  decode: () => to,\n  encode: () => from\n});\nfunction transformLiterals(...pairs) {\n  return Union(...pairs.map(([from, to]) => transformLiteral(from, to)));\n}\n/**\n * Attaches a property signature with the specified key and value to the schema.\n * This API is useful when you want to add a property to your schema which doesn't describe the shape of the input,\n * but rather maps to another schema, for example when you want to add a discriminant to a simple union.\n *\n * @param self - The input schema.\n * @param key - The name of the property to add to the schema.\n * @param value - The value of the property to add to the schema.\n *\n * @example\n * import * as S from \"@effect/schema/Schema\"\n * import { pipe } from \"effect/Function\"\n *\n * const Circle = S.Struct({ radius: S.Number })\n * const Square = S.Struct({ sideLength: S.Number })\n * const Shape = S.Union(\n *   Circle.pipe(S.attachPropertySignature(\"kind\", \"circle\")),\n *   Square.pipe(S.attachPropertySignature(\"kind\", \"square\"))\n * )\n *\n * assert.deepStrictEqual(S.decodeSync(Shape)({ radius: 10 }), {\n *   kind: \"circle\",\n *   radius: 10\n * })\n *\n * @category combinators\n * @since 0.67.0\n */\nconst attachPropertySignature = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_12__.dual)(args => isSchema(args[0]), (schema, key, value, annotations) => {\n  const ast = extend(typeSchema(schema), Struct({\n    [key]: effect_Predicate__WEBPACK_IMPORTED_MODULE_8__.isSymbol(value) ? UniqueSymbolFromSelf(value) : Literal(value)\n  })).ast;\n  return make(new _AST_js__WEBPACK_IMPORTED_MODULE_1__.Transformation(schema.ast, annotations ? mergeSchemaAnnotations(ast, annotations) : ast, new _AST_js__WEBPACK_IMPORTED_MODULE_1__.TypeLiteralTransformation([new _AST_js__WEBPACK_IMPORTED_MODULE_1__.PropertySignatureTransformation(key, key, () => effect_Option__WEBPACK_IMPORTED_MODULE_11__.some(value), () => effect_Option__WEBPACK_IMPORTED_MODULE_11__.none())])));\n});\n/**\n * @category annotations\n * @since 0.67.0\n */\nconst annotations = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_12__.dual)(2, (self, annotations) => self.annotations(annotations));\n/**\n * @category renaming\n * @since 0.67.0\n */\nconst rename = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_12__.dual)(2, (self, mapping) => make(_AST_js__WEBPACK_IMPORTED_MODULE_1__.rename(self.ast, mapping)));\n/**\n * @category type id\n * @since 0.67.0\n */\nconst TrimmedTypeId = /*#__PURE__*/Symbol.for(\"@effect/schema/TypeId/Trimmed\");\n/**\n * Verifies that a string contains no leading or trailing whitespaces.\n *\n * Note. This combinator does not make any transformations, it only validates.\n * If what you were looking for was a combinator to trim strings, then check out the `trim` combinator.\n *\n * @category string filters\n * @since 0.67.0\n */\nconst trimmed = annotations => self => self.pipe(filter(a => a === a.trim(), {\n  typeId: TrimmedTypeId,\n  description: \"a string with no leading or trailing whitespace\",\n  jsonSchema: {\n    pattern: \"^\\\\S[\\\\s\\\\S]*\\\\S$|^\\\\S$|^$\"\n  },\n  ...annotations\n}));\n/**\n * @category type id\n * @since 0.67.0\n */\nconst MaxLengthTypeId = _internal_filters_js__WEBPACK_IMPORTED_MODULE_15__.MaxLengthTypeId;\n/**\n * @category string filters\n * @since 0.67.0\n */\nconst maxLength = (maxLength, annotations) => self => self.pipe(filter(a => a.length <= maxLength, {\n  typeId: MaxLengthTypeId,\n  description: `a string at most ${maxLength} character(s) long`,\n  jsonSchema: {\n    maxLength\n  },\n  ...annotations\n}));\n/**\n * @category type id\n * @since 0.67.0\n */\nconst MinLengthTypeId = _internal_filters_js__WEBPACK_IMPORTED_MODULE_15__.MinLengthTypeId;\n/**\n * @category string filters\n * @since 0.67.0\n */\nconst minLength = (minLength, annotations) => self => self.pipe(filter(a => a.length >= minLength, {\n  typeId: MinLengthTypeId,\n  description: `a string at least ${minLength} character(s) long`,\n  jsonSchema: {\n    minLength\n  },\n  ...annotations\n}));\n/**\n * @category type id\n * @since 0.67.0\n */\nconst PatternTypeId = /*#__PURE__*/Symbol.for(\"@effect/schema/TypeId/Pattern\");\n/**\n * @category string filters\n * @since 0.67.0\n */\nconst pattern = (regex, annotations) => self => {\n  const pattern = regex.source;\n  return self.pipe(filter(a => {\n    // The following line ensures that `lastIndex` is reset to `0` in case the user has specified the `g` flag\n    regex.lastIndex = 0;\n    return regex.test(a);\n  }, {\n    typeId: {\n      id: PatternTypeId,\n      annotation: {\n        regex\n      }\n    },\n    description: `a string matching the pattern ${pattern}`,\n    jsonSchema: {\n      pattern\n    },\n    arbitrary: () => fc => fc.stringMatching(regex),\n    ...annotations\n  }));\n};\n/**\n * @category type id\n * @since 0.67.0\n */\nconst StartsWithTypeId = /*#__PURE__*/Symbol.for(\"@effect/schema/TypeId/StartsWith\");\n/**\n * @category string filters\n * @since 0.67.0\n */\nconst startsWith = (startsWith, annotations) => self => self.pipe(filter(a => a.startsWith(startsWith), {\n  typeId: {\n    id: StartsWithTypeId,\n    annotation: {\n      startsWith\n    }\n  },\n  description: `a string starting with ${JSON.stringify(startsWith)}`,\n  jsonSchema: {\n    pattern: `^${startsWith}`\n  },\n  ...annotations\n}));\n/**\n * @category type id\n * @since 0.67.0\n */\nconst EndsWithTypeId = /*#__PURE__*/Symbol.for(\"@effect/schema/TypeId/EndsWith\");\n/**\n * @category string filters\n * @since 0.67.0\n */\nconst endsWith = (endsWith, annotations) => self => self.pipe(filter(a => a.endsWith(endsWith), {\n  typeId: {\n    id: EndsWithTypeId,\n    annotation: {\n      endsWith\n    }\n  },\n  description: `a string ending with ${JSON.stringify(endsWith)}`,\n  jsonSchema: {\n    pattern: `^.*${endsWith}$`\n  },\n  ...annotations\n}));\n/**\n * @category type id\n * @since 0.67.0\n */\nconst IncludesTypeId = /*#__PURE__*/Symbol.for(\"@effect/schema/TypeId/Includes\");\n/**\n * @category string filters\n * @since 0.67.0\n */\nconst includes = (searchString, annotations) => self => self.pipe(filter(a => a.includes(searchString), {\n  typeId: {\n    id: IncludesTypeId,\n    annotation: {\n      includes: searchString\n    }\n  },\n  description: `a string including ${JSON.stringify(searchString)}`,\n  jsonSchema: {\n    pattern: `.*${searchString}.*`\n  },\n  ...annotations\n}));\n/**\n * @category type id\n * @since 0.67.0\n */\nconst LowercasedTypeId = /*#__PURE__*/Symbol.for(\"@effect/schema/TypeId/Lowercased\");\n/**\n * Verifies that a string is lowercased.\n *\n * @category string filters\n * @since 0.67.0\n */\nconst lowercased = annotations => self => self.pipe(filter(a => a === a.toLowerCase(), {\n  typeId: LowercasedTypeId,\n  description: \"a lowercase string\",\n  ...annotations\n}));\n/**\n * @category string constructors\n * @since 0.67.0\n */\nclass Lowercased extends String$.pipe(lowercased({\n  identifier: \"Lowercased\",\n  title: \"Lowercased\"\n})) {\n  static annotations = super.annotations;\n}\n/**\n * @category type id\n * @since 0.68.18\n */\nconst CapitalizedTypeId = /*#__PURE__*/Symbol.for(\"@effect/schema/TypeId/Capitalized\");\n/**\n * Verifies that a string is capitalized.\n *\n * @category string filters\n * @since 0.68.18\n */\nconst capitalized = annotations => self => self.pipe(filter(a => a[0]?.toUpperCase() === a[0], {\n  typeId: CapitalizedTypeId,\n  description: \"a capitalized string\",\n  ...annotations\n}));\n/**\n * @category string constructors\n * @since 0.68.18\n */\nclass Capitalized extends String$.pipe(capitalized({\n  identifier: \"Capitalized\",\n  title: \"Capitalized\"\n})) {\n  static annotations = super.annotations;\n}\n/**\n * @category type id\n * @since 0.68.18\n */\nconst UncapitalizedTypeId = /*#__PURE__*/Symbol.for(\"@effect/schema/TypeId/Uncapitalized\");\n/**\n * Verifies that a string is uncapitalized.\n *\n * @category string filters\n * @since 0.68.18\n */\nconst uncapitalized = annotations => self => self.pipe(filter(a => a[0]?.toLowerCase() === a[0], {\n  typeId: UncapitalizedTypeId,\n  description: \"a uncapitalized string\",\n  ...annotations\n}));\n/**\n * @category string constructors\n * @since 0.68.18\n */\nclass Uncapitalized extends String$.pipe(uncapitalized({\n  identifier: \"Uncapitalized\",\n  title: \"Uncapitalized\"\n})) {\n  static annotations = super.annotations;\n}\n/**\n * @category type id\n * @since 0.67.0\n */\nconst UppercasedTypeId = /*#__PURE__*/Symbol.for(\"@effect/schema/TypeId/Uppercased\");\n/**\n * Verifies that a string is uppercased.\n *\n * @category string filters\n * @since 0.67.0\n */\nconst uppercased = annotations => self => self.pipe(filter(a => a === a.toUpperCase(), {\n  typeId: UppercasedTypeId,\n  description: \"an uppercase string\",\n  ...annotations\n}));\n/**\n * @category string constructors\n * @since 0.67.0\n */\nclass Uppercased extends String$.pipe(uppercased({\n  identifier: \"Uppercased\",\n  title: \"Uppercased\"\n})) {\n  static annotations = super.annotations;\n}\n/**\n * @category type id\n * @since 0.67.0\n */\nconst LengthTypeId = _internal_filters_js__WEBPACK_IMPORTED_MODULE_15__.LengthTypeId;\n/**\n * @category string filters\n * @since 0.67.0\n */\nconst length = (length, annotations) => self => {\n  const minLength = effect_Predicate__WEBPACK_IMPORTED_MODULE_8__.isObject(length) ? Math.max(0, Math.floor(length.min)) : Math.max(0, Math.floor(length));\n  const maxLength = effect_Predicate__WEBPACK_IMPORTED_MODULE_8__.isObject(length) ? Math.max(minLength, Math.floor(length.max)) : minLength;\n  if (minLength !== maxLength) {\n    return self.pipe(filter(a => a.length >= minLength && a.length <= maxLength, {\n      typeId: LengthTypeId,\n      description: `a string at least ${minLength} character(s) and at most ${maxLength} character(s) long`,\n      jsonSchema: {\n        minLength,\n        maxLength\n      },\n      ...annotations\n    }));\n  }\n  return self.pipe(filter(a => a.length === minLength, {\n    typeId: LengthTypeId,\n    description: minLength === 1 ? `a single character` : `a string ${minLength} character(s) long`,\n    jsonSchema: {\n      minLength,\n      maxLength: minLength\n    },\n    ...annotations\n  }));\n};\n/**\n * A schema representing a single character.\n *\n * @category string constructors\n * @since 0.67.0\n */\nclass Char extends String$.pipe(length(1, {\n  identifier: \"Char\"\n})) {\n  static annotations = super.annotations;\n}\n/**\n * @category string filters\n * @since 0.67.0\n */\nconst nonEmpty = annotations => minLength(1, {\n  description: \"a non empty string\",\n  ...annotations\n});\n/**\n * This schema converts a string to lowercase.\n *\n * @category string transformations\n * @since 0.67.0\n */\nclass Lowercase extends transform(String$, Lowercased, {\n  strict: true,\n  decode: s => s.toLowerCase(),\n  encode: effect_Function__WEBPACK_IMPORTED_MODULE_12__.identity\n}).annotations({\n  identifier: \"Lowercase\"\n}) {\n  static annotations = super.annotations;\n}\n/**\n * This schema converts a string to uppercase.\n *\n * @category string transformations\n * @since 0.67.0\n */\nclass Uppercase extends transform(String$, Uppercased, {\n  strict: true,\n  decode: s => s.toUpperCase(),\n  encode: effect_Function__WEBPACK_IMPORTED_MODULE_12__.identity\n}).annotations({\n  identifier: \"Uppercase\"\n}) {\n  static annotations = super.annotations;\n}\n/**\n * This schema converts a string to capitalized one.\n *\n * @category string transformations\n * @since 0.68.18\n */\nclass Capitalize extends transform(String$, Capitalized, {\n  strict: true,\n  decode: s => effect_String__WEBPACK_IMPORTED_MODULE_16__.capitalize(s),\n  encode: effect_Function__WEBPACK_IMPORTED_MODULE_12__.identity\n}).annotations({\n  identifier: \"Capitalize\"\n}) {\n  static annotations = super.annotations;\n}\n/**\n * This schema converts a string to uncapitalized one.\n *\n * @category string transformations\n * @since 0.68.18\n */\nclass Uncapitalize extends transform(String$, Uncapitalized, {\n  strict: true,\n  decode: s => effect_String__WEBPACK_IMPORTED_MODULE_16__.uncapitalize(s),\n  encode: effect_Function__WEBPACK_IMPORTED_MODULE_12__.identity\n}).annotations({\n  identifier: \"Uncapitalize\"\n}) {\n  static annotations = super.annotations;\n}\n/**\n * @category string constructors\n * @since 0.67.0\n */\nclass Trimmed extends String$.pipe(trimmed({\n  identifier: \"Trimmed\",\n  title: \"Trimmed\"\n})) {\n  static annotations = super.annotations;\n}\n/**\n * This schema allows removing whitespaces from the beginning and end of a string.\n *\n * @category string transformations\n * @since 0.67.0\n */\nclass Trim extends transform(String$, Trimmed, {\n  strict: true,\n  decode: s => s.trim(),\n  encode: effect_Function__WEBPACK_IMPORTED_MODULE_12__.identity\n}).annotations({\n  identifier: \"Trim\"\n}) {\n  static annotations = super.annotations;\n}\n/**\n * Returns a schema that allows splitting a string into an array of strings.\n *\n * @category string transformations\n * @since 0.67.0\n */\nconst split = separator => transform(String$, Array$(String$), {\n  strict: true,\n  decode: effect_String__WEBPACK_IMPORTED_MODULE_16__.split(separator),\n  encode: effect_Array__WEBPACK_IMPORTED_MODULE_9__.join(separator)\n});\nconst JsonString = /*#__PURE__*/String$.annotations({\n  [_AST_js__WEBPACK_IMPORTED_MODULE_1__.IdentifierAnnotationId]: \"JsonString\",\n  [_AST_js__WEBPACK_IMPORTED_MODULE_1__.TitleAnnotationId]: \"JsonString\",\n  [_AST_js__WEBPACK_IMPORTED_MODULE_1__.DescriptionAnnotationId]: \"a JSON string\"\n});\nconst getParseJsonTransformation = options => transformOrFail(JsonString, Unknown, {\n  strict: true,\n  decode: (s, _, ast) => _ParseResult_js__WEBPACK_IMPORTED_MODULE_5__[\"try\"]({\n    try: () => JSON.parse(s, options?.reviver),\n    catch: e => new _ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.Type(ast, s, e.message)\n  }),\n  encode: (u, _, ast) => _ParseResult_js__WEBPACK_IMPORTED_MODULE_5__[\"try\"]({\n    try: () => JSON.stringify(u, options?.replacer, options?.space),\n    catch: e => new _ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.Type(ast, u, e.message)\n  })\n}).annotations({\n  typeId: _internal_filters_js__WEBPACK_IMPORTED_MODULE_15__.ParseJsonTypeId\n});\n/**\n * The `ParseJson` combinator provides a method to convert JSON strings into the `unknown` type using the underlying\n * functionality of `JSON.parse`. It also utilizes `JSON.stringify` for encoding.\n *\n * You can optionally provide a `ParseJsonOptions` to configure both `JSON.parse` and `JSON.stringify` executions.\n *\n * Optionally, you can pass a schema `Schema<A, I, R>` to obtain an `A` type instead of `unknown`.\n *\n * @example\n * import * as S from \"@effect/schema/Schema\"\n *\n * assert.deepStrictEqual(S.decodeUnknownSync(S.parseJson())(`{\"a\":\"1\"}`), { a: \"1\" })\n * assert.deepStrictEqual(S.decodeUnknownSync(S.parseJson(S.Struct({ a: S.NumberFromString })))(`{\"a\":\"1\"}`), { a: 1 })\n *\n * @category string transformations\n * @since 0.67.0\n */\nconst parseJson = (schema, o) => isSchema(schema) ? compose(parseJson(o), schema) : getParseJsonTransformation(schema);\n/**\n * @category string constructors\n * @since 0.67.0\n */\nclass NonEmpty extends String$.pipe(nonEmpty({\n  identifier: \"NonEmpty\",\n  title: \"NonEmpty\"\n})) {\n  static annotations = super.annotations;\n}\n/**\n * @category type id\n * @since 0.67.0\n */\nconst UUIDTypeId = /*#__PURE__*/Symbol.for(\"@effect/schema/TypeId/UUID\");\nconst uuidRegexp = /^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/i;\n/**\n * Represents a Universally Unique Identifier (UUID).\n *\n * This schema ensures that the provided string adheres to the standard UUID format.\n *\n * @category string constructors\n * @since 0.67.0\n */\nclass UUID extends String$.pipe(pattern(uuidRegexp, {\n  typeId: UUIDTypeId,\n  identifier: \"UUID\",\n  title: \"UUID\",\n  description: \"a Universally Unique Identifier\",\n  arbitrary: () => fc => fc.uuid()\n})) {\n  static annotations = super.annotations;\n}\n/**\n * @category type id\n * @since 0.67.0\n */\nconst ULIDTypeId = /*#__PURE__*/Symbol.for(\"@effect/schema/TypeId/ULID\");\nconst ulidRegexp = /^[0-7][0-9A-HJKMNP-TV-Z]{25}$/i;\n/**\n * Represents a Universally Unique Lexicographically Sortable Identifier (ULID).\n *\n * ULIDs are designed to be compact, URL-safe, and ordered, making them suitable for use as identifiers.\n * This schema ensures that the provided string adheres to the standard ULID format.\n *\n * @category string constructors\n * @since 0.67.0\n */\nclass ULID extends String$.pipe(pattern(ulidRegexp, {\n  typeId: ULIDTypeId,\n  identifier: \"ULID\",\n  title: \"ULID\",\n  description: \"a Universally Unique Lexicographically Sortable Identifier\",\n  arbitrary: () => fc => fc.ulid()\n})) {\n  static annotations = super.annotations;\n}\n/**\n * @category type id\n * @since 0.67.0\n */\nconst FiniteTypeId = /*#__PURE__*/Symbol.for(\"@effect/schema/TypeId/Finite\");\n/**\n * Ensures that the provided value is a finite number.\n *\n * This schema filters out non-finite numeric values, allowing only finite numbers to pass through.\n *\n * @category number filters\n * @since 0.67.0\n */\nconst finite = annotations => self => self.pipe(filter(a => Number.isFinite(a), {\n  typeId: FiniteTypeId,\n  description: \"a finite number\",\n  ...annotations\n}));\n/**\n * @category type id\n * @since 0.67.0\n */\nconst GreaterThanTypeId = _internal_filters_js__WEBPACK_IMPORTED_MODULE_15__.GreaterThanTypeId;\n/**\n * This filter checks whether the provided number is greater than the specified minimum.\n *\n * @category number filters\n * @since 0.67.0\n */\nconst greaterThan = (min, annotations) => self => self.pipe(filter(a => a > min, {\n  typeId: GreaterThanTypeId,\n  description: min === 0 ? \"a positive number\" : `a number greater than ${min}`,\n  jsonSchema: {\n    exclusiveMinimum: min\n  },\n  ...annotations\n}));\n/**\n * @category type id\n * @since 0.67.0\n */\nconst GreaterThanOrEqualToTypeId = _internal_filters_js__WEBPACK_IMPORTED_MODULE_15__.GreaterThanOrEqualToTypeId;\n/**\n * This filter checks whether the provided number is greater than or equal to the specified minimum.\n *\n * @category number filters\n * @since 0.67.0\n */\nconst greaterThanOrEqualTo = (min, annotations) => self => self.pipe(filter(a => a >= min, {\n  typeId: GreaterThanOrEqualToTypeId,\n  description: min === 0 ? \"a non-negative number\" : `a number greater than or equal to ${min}`,\n  jsonSchema: {\n    minimum: min\n  },\n  ...annotations\n}));\n/**\n * @category type id\n * @since 0.67.0\n */\nconst MultipleOfTypeId = /*#__PURE__*/Symbol.for(\"@effect/schema/TypeId/MultipleOf\");\n/**\n * @category number filters\n * @since 0.67.0\n */\nconst multipleOf = (divisor, annotations) => self => self.pipe(filter(a => effect_Number__WEBPACK_IMPORTED_MODULE_17__.remainder(a, divisor) === 0, {\n  typeId: MultipleOfTypeId,\n  description: `a number divisible by ${divisor}`,\n  jsonSchema: {\n    multipleOf: Math.abs(divisor)\n  },\n  // spec requires positive divisor\n  ...annotations\n}));\n/**\n * @category type id\n * @since 0.67.0\n */\nconst IntTypeId = _internal_filters_js__WEBPACK_IMPORTED_MODULE_15__.IntTypeId;\n/**\n * @category number filters\n * @since 0.67.0\n */\nconst int = annotations => self => self.pipe(filter(a => Number.isSafeInteger(a), {\n  typeId: IntTypeId,\n  title: \"integer\",\n  description: \"an integer\",\n  jsonSchema: {\n    type: \"integer\"\n  },\n  ...annotations\n}));\n/**\n * @category type id\n * @since 0.67.0\n */\nconst LessThanTypeId = _internal_filters_js__WEBPACK_IMPORTED_MODULE_15__.LessThanTypeId;\n/**\n * This filter checks whether the provided number is less than the specified maximum.\n *\n * @category number filters\n * @since 0.67.0\n */\nconst lessThan = (max, annotations) => self => self.pipe(filter(a => a < max, {\n  typeId: LessThanTypeId,\n  description: max === 0 ? \"a negative number\" : `a number less than ${max}`,\n  jsonSchema: {\n    exclusiveMaximum: max\n  },\n  ...annotations\n}));\n/**\n * @category type id\n * @since 0.67.0\n */\nconst LessThanOrEqualToTypeId = _internal_filters_js__WEBPACK_IMPORTED_MODULE_15__.LessThanOrEqualToTypeId;\n/**\n * This schema checks whether the provided number is less than or equal to the specified maximum.\n *\n * @category number filters\n * @since 0.67.0\n */\nconst lessThanOrEqualTo = (max, annotations) => self => self.pipe(filter(a => a <= max, {\n  typeId: LessThanOrEqualToTypeId,\n  description: max === 0 ? \"a non-positive number\" : `a number less than or equal to ${max}`,\n  jsonSchema: {\n    maximum: max\n  },\n  ...annotations\n}));\n/**\n * @category type id\n * @since 0.67.0\n */\nconst BetweenTypeId = _internal_filters_js__WEBPACK_IMPORTED_MODULE_15__.BetweenTypeId;\n/**\n * This filter checks whether the provided number falls within the specified minimum and maximum values.\n *\n * @category number filters\n * @since 0.67.0\n */\nconst between = (min, max, annotations) => self => self.pipe(filter(a => a >= min && a <= max, {\n  typeId: BetweenTypeId,\n  description: `a number between ${min} and ${max}`,\n  jsonSchema: {\n    maximum: max,\n    minimum: min\n  },\n  ...annotations\n}));\n/**\n * @category type id\n * @since 0.67.0\n */\nconst NonNaNTypeId = /*#__PURE__*/Symbol.for(\"@effect/schema/TypeId/NonNaN\");\n/**\n * @category number filters\n * @since 0.67.0\n */\nconst nonNaN = annotations => self => self.pipe(filter(a => !Number.isNaN(a), {\n  typeId: NonNaNTypeId,\n  description: \"a number excluding NaN\",\n  ...annotations\n}));\n/**\n * @category number filters\n * @since 0.67.0\n */\nconst positive = annotations => greaterThan(0, annotations);\n/**\n * @category number filters\n * @since 0.67.0\n */\nconst negative = annotations => lessThan(0, annotations);\n/**\n * @category number filters\n * @since 0.67.0\n */\nconst nonPositive = annotations => lessThanOrEqualTo(0, annotations);\n/**\n * @category number filters\n * @since 0.67.0\n */\nconst nonNegative = annotations => greaterThanOrEqualTo(0, annotations);\n/**\n * Clamps a number between a minimum and a maximum value.\n *\n * @category number transformations\n * @since 0.67.0\n */\nconst clamp = (minimum, maximum) => self => transform(self, self.pipe(typeSchema, between(minimum, maximum)), {\n  strict: false,\n  decode: self => effect_Number__WEBPACK_IMPORTED_MODULE_17__.clamp(self, {\n    minimum,\n    maximum\n  }),\n  encode: effect_Function__WEBPACK_IMPORTED_MODULE_12__.identity\n});\n/**\n * Transforms a `string` into a `number` by parsing the string using the `parse` function of the `effect/Number` module.\n *\n * It returns an error if the value can't be converted (for example when non-numeric characters are provided).\n *\n * The following special string values are supported: \"NaN\", \"Infinity\", \"-Infinity\".\n *\n * @category number transformations\n * @since 0.67.0\n */\nconst parseNumber = self => transformOrFail(self, Number$, {\n  strict: false,\n  decode: (s, _, ast) => _ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.fromOption(effect_Number__WEBPACK_IMPORTED_MODULE_17__.parse(s), () => new _ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.Type(ast, s)),\n  encode: n => _ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.succeed(String(n))\n});\n/**\n * This schema transforms a `string` into a `number` by parsing the string using the `parse` function of the `effect/Number` module.\n *\n * It returns an error if the value can't be converted (for example when non-numeric characters are provided).\n *\n * The following special string values are supported: \"NaN\", \"Infinity\", \"-Infinity\".\n *\n * @category number constructors\n * @since 0.67.0\n */\nclass NumberFromString extends parseNumber(String$).annotations({\n  identifier: \"NumberFromString\"\n}) {\n  static annotations = super.annotations;\n}\n/**\n * @category number constructors\n * @since 0.67.0\n */\nclass Finite extends Number$.pipe(finite({\n  identifier: \"Finite\",\n  title: \"Finite\"\n})) {\n  static annotations = super.annotations;\n}\n/**\n * @category number constructors\n * @since 0.67.0\n */\nclass Int extends Number$.pipe(int({\n  identifier: \"Int\",\n  title: \"Int\"\n})) {\n  static annotations = super.annotations;\n}\n/**\n * @category number constructors\n * @since 0.67.0\n */\nclass NonNaN extends Number$.pipe(nonNaN({\n  identifier: \"NonNaN\",\n  title: \"NonNaN\"\n})) {\n  static annotations = super.annotations;\n}\n/**\n * @category number constructors\n * @since 0.67.0\n */\nclass Positive extends Number$.pipe(positive({\n  identifier: \"Positive\",\n  title: \"Positive\"\n})) {\n  static annotations = super.annotations;\n}\n/**\n * @category number constructors\n * @since 0.67.0\n */\nclass Negative extends Number$.pipe(negative({\n  identifier: \"Negative\",\n  title: \"Negative\"\n})) {\n  static annotations = super.annotations;\n}\n/**\n * @category number constructors\n * @since 0.67.0\n */\nclass NonPositive extends Number$.pipe(nonPositive({\n  identifier: \"NonPositive\",\n  title: \"NonPositive\"\n})) {\n  static annotations = super.annotations;\n}\n/**\n * @category number constructors\n * @since 0.67.0\n */\nclass NonNegative extends Number$.pipe(nonNegative({\n  identifier: \"NonNegative\",\n  title: \"NonNegative\"\n})) {\n  static annotations = super.annotations;\n}\n/**\n * @category type id\n * @since 0.67.0\n */\nconst JsonNumberTypeId = /*#__PURE__*/Symbol.for(\"@effect/schema/TypeId/JsonNumber\");\n/**\n * The `JsonNumber` is a schema for representing JSON numbers. It ensures that the provided value is a valid\n * number by filtering out `NaN` and `(+/-) Infinity`. This is useful when you want to validate and represent numbers in JSON\n * format.\n *\n * @example\n * import * as S from \"@effect/schema/Schema\"\n *\n * const is = S.is(S.JsonNumber)\n *\n * assert.deepStrictEqual(is(42), true)\n * assert.deepStrictEqual(is(Number.NaN), false)\n * assert.deepStrictEqual(is(Number.POSITIVE_INFINITY), false)\n * assert.deepStrictEqual(is(Number.NEGATIVE_INFINITY), false)\n *\n * @category number constructors\n * @since 0.67.0\n */\nclass JsonNumber extends Number$.pipe(filter(n => !Number.isNaN(n) && Number.isFinite(n), {\n  typeId: JsonNumberTypeId,\n  identifier: \"JsonNumber\",\n  title: \"JSON-compatible number\",\n  description: \"a JSON-compatible number, excluding NaN, +Infinity, and -Infinity\",\n  jsonSchema: {\n    type: \"number\"\n  }\n})) {\n  static annotations = super.annotations;\n}\n/**\n * @category boolean transformations\n * @since 0.67.0\n */\nclass Not extends transform(Boolean$, Boolean$, {\n  strict: true,\n  decode: effect_Boolean__WEBPACK_IMPORTED_MODULE_18__.not,\n  encode: effect_Boolean__WEBPACK_IMPORTED_MODULE_18__.not\n}) {\n  static annotations = super.annotations;\n}\n/** @ignore */\nclass Symbol$ extends transform(String$, SymbolFromSelf, {\n  strict: false,\n  decode: s => Symbol.for(s),\n  encode: sym => sym.description\n}).annotations({\n  identifier: \"symbol\"\n}) {\n  static annotations = super.annotations;\n}\n\n/**\n * @category type id\n * @since 0.67.0\n */\nconst GreaterThanBigIntTypeId = _internal_filters_js__WEBPACK_IMPORTED_MODULE_15__.GreaterThanBigintTypeId;\n/**\n * @category bigint filters\n * @since 0.67.0\n */\nconst greaterThanBigInt = (min, annotations) => self => self.pipe(filter(a => a > min, {\n  typeId: {\n    id: GreaterThanBigIntTypeId,\n    annotation: {\n      min\n    }\n  },\n  description: min === 0n ? \"a positive bigint\" : `a bigint greater than ${min}n`,\n  ...annotations\n}));\n/**\n * @category type id\n * @since 0.67.0\n */\nconst GreaterThanOrEqualToBigIntTypeId = _internal_filters_js__WEBPACK_IMPORTED_MODULE_15__.GreaterThanOrEqualToBigIntTypeId;\n/**\n * @category bigint filters\n * @since 0.67.0\n */\nconst greaterThanOrEqualToBigInt = (min, annotations) => self => self.pipe(filter(a => a >= min, {\n  typeId: {\n    id: GreaterThanOrEqualToBigIntTypeId,\n    annotation: {\n      min\n    }\n  },\n  description: min === 0n ? \"a non-negative bigint\" : `a bigint greater than or equal to ${min}n`,\n  ...annotations\n}));\n/**\n * @category type id\n * @since 0.67.0\n */\nconst LessThanBigIntTypeId = _internal_filters_js__WEBPACK_IMPORTED_MODULE_15__.LessThanBigIntTypeId;\n/**\n * @category bigint filters\n * @since 0.67.0\n */\nconst lessThanBigInt = (max, annotations) => self => self.pipe(filter(a => a < max, {\n  typeId: {\n    id: LessThanBigIntTypeId,\n    annotation: {\n      max\n    }\n  },\n  description: max === 0n ? \"a negative bigint\" : `a bigint less than ${max}n`,\n  ...annotations\n}));\n/**\n * @category type id\n * @since 0.67.0\n */\nconst LessThanOrEqualToBigIntTypeId = _internal_filters_js__WEBPACK_IMPORTED_MODULE_15__.LessThanOrEqualToBigIntTypeId;\n/**\n * @category bigint filters\n * @since 0.67.0\n */\nconst lessThanOrEqualToBigInt = (max, annotations) => self => self.pipe(filter(a => a <= max, {\n  typeId: {\n    id: LessThanOrEqualToBigIntTypeId,\n    annotation: {\n      max\n    }\n  },\n  description: max === 0n ? \"a non-positive bigint\" : `a bigint less than or equal to ${max}n`,\n  ...annotations\n}));\n/**\n * @category type id\n * @since 0.67.0\n */\nconst BetweenBigIntTypeId = _internal_filters_js__WEBPACK_IMPORTED_MODULE_15__.BetweenBigintTypeId;\n/**\n * @category bigint filters\n * @since 0.67.0\n */\nconst betweenBigInt = (min, max, annotations) => self => self.pipe(filter(a => a >= min && a <= max, {\n  typeId: {\n    id: BetweenBigIntTypeId,\n    annotation: {\n      max,\n      min\n    }\n  },\n  description: `a bigint between ${min}n and ${max}n`,\n  ...annotations\n}));\n/**\n * @category bigint filters\n * @since 0.67.0\n */\nconst positiveBigInt = annotations => greaterThanBigInt(0n, annotations);\n/**\n * @category bigint filters\n * @since 0.67.0\n */\nconst negativeBigInt = annotations => lessThanBigInt(0n, annotations);\n/**\n * @category bigint filters\n * @since 0.67.0\n */\nconst nonNegativeBigInt = annotations => greaterThanOrEqualToBigInt(0n, annotations);\n/**\n * @category bigint filters\n * @since 0.67.0\n */\nconst nonPositiveBigInt = annotations => lessThanOrEqualToBigInt(0n, annotations);\n/**\n * Clamps a bigint between a minimum and a maximum value.\n *\n * @category bigint transformations\n * @since 0.67.0\n */\nconst clampBigInt = (minimum, maximum) => self => transform(self, self.pipe(typeSchema, betweenBigInt(minimum, maximum)), {\n  strict: false,\n  decode: self => effect_BigInt__WEBPACK_IMPORTED_MODULE_19__.clamp(self, {\n    minimum,\n    maximum\n  }),\n  encode: effect_Function__WEBPACK_IMPORTED_MODULE_12__.identity\n});\n/** @ignore */\nclass BigInt$ extends transformOrFail(String$, BigIntFromSelf, {\n  strict: true,\n  decode: (s, _, ast) => _ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.fromOption(effect_BigInt__WEBPACK_IMPORTED_MODULE_19__.fromString(s), () => new _ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.Type(ast, s)),\n  encode: n => _ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.succeed(String(n))\n}).annotations({\n  identifier: \"bigint\"\n}) {\n  static annotations = super.annotations;\n}\n\n/**\n * @category bigint constructors\n * @since 0.67.0\n */\nconst PositiveBigIntFromSelf = /*#__PURE__*/BigIntFromSelf.pipe( /*#__PURE__*/positiveBigInt({\n  identifier: \"PositiveBigintFromSelf\",\n  title: \"PositiveBigintFromSelf\"\n}));\n/**\n * @category bigint constructors\n * @since 0.67.0\n */\nconst PositiveBigInt = /*#__PURE__*/BigInt$.pipe( /*#__PURE__*/positiveBigInt({\n  identifier: \"PositiveBigint\",\n  title: \"PositiveBigint\"\n}));\n/**\n * @category bigint constructors\n * @since 0.67.0\n */\nconst NegativeBigIntFromSelf = /*#__PURE__*/BigIntFromSelf.pipe( /*#__PURE__*/negativeBigInt({\n  identifier: \"NegativeBigintFromSelf\",\n  title: \"NegativeBigintFromSelf\"\n}));\n/**\n * @category bigint constructors\n * @since 0.67.0\n */\nconst NegativeBigInt = /*#__PURE__*/BigInt$.pipe( /*#__PURE__*/negativeBigInt({\n  identifier: \"NegativeBigint\",\n  title: \"NegativeBigint\"\n}));\n/**\n * @category bigint constructors\n * @since 0.67.0\n */\nconst NonPositiveBigIntFromSelf = /*#__PURE__*/BigIntFromSelf.pipe( /*#__PURE__*/nonPositiveBigInt({\n  identifier: \"NonPositiveBigintFromSelf\",\n  title: \"NonPositiveBigintFromSelf\"\n}));\n/**\n * @category bigint constructors\n * @since 0.67.0\n */\nconst NonPositiveBigInt = /*#__PURE__*/BigInt$.pipe( /*#__PURE__*/nonPositiveBigInt({\n  identifier: \"NonPositiveBigint\",\n  title: \"NonPositiveBigint\"\n}));\n/**\n * @category bigint constructors\n * @since 0.67.0\n */\nconst NonNegativeBigIntFromSelf = /*#__PURE__*/BigIntFromSelf.pipe( /*#__PURE__*/nonNegativeBigInt({\n  identifier: \"NonNegativeBigintFromSelf\",\n  title: \"NonNegativeBigintFromSelf\"\n}));\n/**\n * @category bigint constructors\n * @since 0.67.0\n */\nconst NonNegativeBigInt = /*#__PURE__*/BigInt$.pipe( /*#__PURE__*/nonNegativeBigInt({\n  identifier: \"NonNegativeBigint\",\n  title: \"NonNegativeBigint\"\n}));\n/**\n * This schema transforms a `number` into a `bigint` by parsing the number using the `BigInt` function.\n *\n * It returns an error if the value can't be safely encoded as a `number` due to being out of range.\n *\n * @category bigint transformations\n * @since 0.67.0\n */\nclass BigIntFromNumber extends transformOrFail(Number$, BigIntFromSelf, {\n  strict: true,\n  decode: (n, _, ast) => _ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.fromOption(effect_BigInt__WEBPACK_IMPORTED_MODULE_19__.fromNumber(n), () => new _ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.Type(ast, n)),\n  encode: (b, _, ast) => _ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.fromOption(effect_BigInt__WEBPACK_IMPORTED_MODULE_19__.toNumber(b), () => new _ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.Type(ast, b))\n}).annotations({\n  identifier: \"BigintFromNumber\"\n}) {\n  static annotations = super.annotations;\n}\nconst redactedArbitrary = value => fc => value(fc).map(x => effect_Redacted__WEBPACK_IMPORTED_MODULE_20__.make(x));\nconst toComposite = (eff, onSuccess, ast, actual) => _ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.mapBoth(eff, {\n  onFailure: e => new _ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.Composite(ast, actual, e),\n  onSuccess\n});\nconst redactedParse = decodeUnknown => (u, options, ast) => effect_Redacted__WEBPACK_IMPORTED_MODULE_20__.isRedacted(u) ? toComposite(decodeUnknown(effect_Redacted__WEBPACK_IMPORTED_MODULE_20__.value(u), options), effect_Redacted__WEBPACK_IMPORTED_MODULE_20__.make, ast, u) : _ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.fail(new _ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.Type(ast, u));\n/**\n * @category Redacted constructors\n * @since 0.67.21\n */\nconst RedactedFromSelf = value => declare([value], {\n  decode: value => redactedParse(_ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.decodeUnknown(value)),\n  encode: value => redactedParse(_ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.encodeUnknown(value))\n}, {\n  description: \"Redacted(<redacted>)\",\n  pretty: () => () => \"Redacted(<redacted>)\",\n  arbitrary: redactedArbitrary,\n  equivalence: effect_Redacted__WEBPACK_IMPORTED_MODULE_20__.getEquivalence\n});\n/**\n * A schema that transforms any type `A` into a `Redacted<A>`.\n *\n * @category Redacted transformations\n * @since 0.67.21\n */\nconst Redacted = value => {\n  return transform(value, RedactedFromSelf(typeSchema(value)), {\n    strict: true,\n    decode: value => effect_Redacted__WEBPACK_IMPORTED_MODULE_20__.make(value),\n    encode: value => effect_Redacted__WEBPACK_IMPORTED_MODULE_20__.value(value)\n  });\n};\n/**\n * @category Duration constructors\n * @since 0.67.0\n */\nclass DurationFromSelf extends declare(effect_Duration__WEBPACK_IMPORTED_MODULE_21__.isDuration, {\n  identifier: \"DurationFromSelf\",\n  pretty: () => String,\n  arbitrary: () => fc => fc.oneof(fc.constant(effect_Duration__WEBPACK_IMPORTED_MODULE_21__.infinity), fc.bigUint().map(_ => effect_Duration__WEBPACK_IMPORTED_MODULE_21__.nanos(_)), fc.bigUint().map(_ => effect_Duration__WEBPACK_IMPORTED_MODULE_21__.micros(_)), fc.maxSafeNat().map(_ => effect_Duration__WEBPACK_IMPORTED_MODULE_21__.millis(_)), fc.maxSafeNat().map(_ => effect_Duration__WEBPACK_IMPORTED_MODULE_21__.seconds(_)), fc.maxSafeNat().map(_ => effect_Duration__WEBPACK_IMPORTED_MODULE_21__.minutes(_)), fc.maxSafeNat().map(_ => effect_Duration__WEBPACK_IMPORTED_MODULE_21__.hours(_)), fc.maxSafeNat().map(_ => effect_Duration__WEBPACK_IMPORTED_MODULE_21__.days(_)), fc.maxSafeNat().map(_ => effect_Duration__WEBPACK_IMPORTED_MODULE_21__.weeks(_))),\n  equivalence: () => effect_Duration__WEBPACK_IMPORTED_MODULE_21__.Equivalence\n}) {\n  static annotations = super.annotations;\n}\n/**\n * A schema that transforms a `bigint` tuple into a `Duration`.\n * Treats the value as the number of nanoseconds.\n *\n * @category Duration transformations\n * @since 0.67.0\n */\nclass DurationFromNanos extends transformOrFail(BigIntFromSelf, DurationFromSelf, {\n  strict: true,\n  decode: nanos => _ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.succeed(effect_Duration__WEBPACK_IMPORTED_MODULE_21__.nanos(nanos)),\n  encode: (duration, _, ast) => effect_Option__WEBPACK_IMPORTED_MODULE_11__.match(effect_Duration__WEBPACK_IMPORTED_MODULE_21__.toNanos(duration), {\n    onNone: () => _ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.fail(new _ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.Type(ast, duration)),\n    onSome: val => _ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.succeed(val)\n  })\n}).annotations({\n  identifier: \"DurationFromNanos\"\n}) {\n  static annotations = super.annotations;\n}\n/**\n * A schema that transforms a `number` tuple into a `Duration`.\n * Treats the value as the number of milliseconds.\n *\n * @category Duration transformations\n * @since 0.67.0\n */\nclass DurationFromMillis extends transform(Number$, DurationFromSelf, {\n  strict: true,\n  decode: ms => effect_Duration__WEBPACK_IMPORTED_MODULE_21__.millis(ms),\n  encode: n => effect_Duration__WEBPACK_IMPORTED_MODULE_21__.toMillis(n)\n}).annotations({\n  identifier: \"DurationFromMillis\"\n}) {\n  static annotations = super.annotations;\n}\nconst hrTime = /*#__PURE__*/Tuple( /*#__PURE__*/NonNegative.pipe( /*#__PURE__*/finite({\n  [_AST_js__WEBPACK_IMPORTED_MODULE_1__.TitleAnnotationId]: \"seconds\",\n  [_AST_js__WEBPACK_IMPORTED_MODULE_1__.DescriptionAnnotationId]: \"seconds\"\n})), /*#__PURE__*/NonNegative.pipe( /*#__PURE__*/finite({\n  [_AST_js__WEBPACK_IMPORTED_MODULE_1__.TitleAnnotationId]: \"nanos\",\n  [_AST_js__WEBPACK_IMPORTED_MODULE_1__.DescriptionAnnotationId]: \"nanos\"\n})));\n/**\n * A schema that transforms a `[number, number]` tuple into a `Duration`.\n *\n * @category Duration transformations\n * @since 0.67.0\n */\nclass Duration extends transform(hrTime, DurationFromSelf, {\n  strict: true,\n  decode: ([seconds, nanos]) => effect_Duration__WEBPACK_IMPORTED_MODULE_21__.nanos(BigInt(seconds) * BigInt(1e9) + BigInt(nanos)),\n  encode: duration => effect_Duration__WEBPACK_IMPORTED_MODULE_21__.toHrTime(duration)\n}).annotations({\n  identifier: \"Duration\"\n}) {\n  static annotations = super.annotations;\n}\n/**\n * Clamps a `Duration` between a minimum and a maximum value.\n *\n * @category Duration transformations\n * @since 0.67.0\n */\nconst clampDuration = (minimum, maximum) => self => transform(self, self.pipe(typeSchema, betweenDuration(minimum, maximum)), {\n  strict: false,\n  decode: self => effect_Duration__WEBPACK_IMPORTED_MODULE_21__.clamp(self, {\n    minimum,\n    maximum\n  }),\n  encode: effect_Function__WEBPACK_IMPORTED_MODULE_12__.identity\n});\n/**\n * @category type id\n * @since 0.67.0\n */\nconst LessThanDurationTypeId = /*#__PURE__*/Symbol.for(\"@effect/schema/TypeId/LessThanDuration\");\n/**\n * @category Duration filters\n * @since 0.67.0\n */\nconst lessThanDuration = (max, annotations) => self => self.pipe(filter(a => effect_Duration__WEBPACK_IMPORTED_MODULE_21__.lessThan(a, max), {\n  typeId: {\n    id: LessThanDurationTypeId,\n    annotation: {\n      max\n    }\n  },\n  description: `a Duration less than ${effect_Duration__WEBPACK_IMPORTED_MODULE_21__.decode(max)}`,\n  ...annotations\n}));\n/**\n * @category type id\n * @since 0.67.0\n */\nconst LessThanOrEqualToDurationTypeId = /*#__PURE__*/Symbol.for(\"@effect/schema/TypeId/LessThanOrEqualToDuration\");\n/**\n * @category Duration filters\n * @since 0.67.0\n */\nconst lessThanOrEqualToDuration = (max, annotations) => self => self.pipe(filter(a => effect_Duration__WEBPACK_IMPORTED_MODULE_21__.lessThanOrEqualTo(a, max), {\n  typeId: {\n    id: LessThanDurationTypeId,\n    annotation: {\n      max\n    }\n  },\n  description: `a Duration less than or equal to ${effect_Duration__WEBPACK_IMPORTED_MODULE_21__.decode(max)}`,\n  ...annotations\n}));\n/**\n * @category type id\n * @since 0.67.0\n */\nconst GreaterThanDurationTypeId = /*#__PURE__*/Symbol.for(\"@effect/schema/TypeId/GreaterThanDuration\");\n/**\n * @category Duration filters\n * @since 0.67.0\n */\nconst greaterThanDuration = (min, annotations) => self => self.pipe(filter(a => effect_Duration__WEBPACK_IMPORTED_MODULE_21__.greaterThan(a, min), {\n  typeId: {\n    id: GreaterThanDurationTypeId,\n    annotation: {\n      min\n    }\n  },\n  description: `a Duration greater than ${effect_Duration__WEBPACK_IMPORTED_MODULE_21__.decode(min)}`,\n  ...annotations\n}));\n/**\n * @category type id\n * @since 0.67.0\n */\nconst GreaterThanOrEqualToDurationTypeId = /*#__PURE__*/Symbol.for(\"@effect/schema/TypeId/GreaterThanOrEqualToDuration\");\n/**\n * @category Duration filters\n * @since 0.67.0\n */\nconst greaterThanOrEqualToDuration = (min, annotations) => self => self.pipe(filter(a => effect_Duration__WEBPACK_IMPORTED_MODULE_21__.greaterThanOrEqualTo(a, min), {\n  typeId: {\n    id: GreaterThanOrEqualToDurationTypeId,\n    annotation: {\n      min\n    }\n  },\n  description: `a Duration greater than or equal to ${effect_Duration__WEBPACK_IMPORTED_MODULE_21__.decode(min)}`,\n  ...annotations\n}));\n/**\n * @category type id\n * @since 0.67.0\n */\nconst BetweenDurationTypeId = /*#__PURE__*/Symbol.for(\"@effect/schema/TypeId/BetweenDuration\");\n/**\n * @category Duration filters\n * @since 0.67.0\n */\nconst betweenDuration = (minimum, maximum, annotations) => self => self.pipe(filter(a => effect_Duration__WEBPACK_IMPORTED_MODULE_21__.between(a, {\n  minimum,\n  maximum\n}), {\n  typeId: {\n    id: BetweenDurationTypeId,\n    annotation: {\n      maximum,\n      minimum\n    }\n  },\n  description: `a Duration between ${effect_Duration__WEBPACK_IMPORTED_MODULE_21__.decode(minimum)} and ${effect_Duration__WEBPACK_IMPORTED_MODULE_21__.decode(maximum)}`,\n  ...annotations\n}));\n/**\n * @category Uint8Array constructors\n * @since 0.67.0\n */\nconst Uint8ArrayFromSelf = /*#__PURE__*/declare(effect_Predicate__WEBPACK_IMPORTED_MODULE_8__.isUint8Array, {\n  identifier: \"Uint8ArrayFromSelf\",\n  pretty: () => u8arr => `new Uint8Array(${JSON.stringify(Array.from(u8arr))})`,\n  arbitrary: () => fc => fc.uint8Array(),\n  equivalence: () => effect_Array__WEBPACK_IMPORTED_MODULE_9__.getEquivalence(effect_Equal__WEBPACK_IMPORTED_MODULE_22__.equals)\n});\nconst Uint8Array$ = /*#__PURE__*/transform(Array$(Number$.pipe(between(0, 255, {\n  title: \"8-bit unsigned integer\",\n  description: \"a 8-bit unsigned integer\"\n}))).annotations({\n  description: \"an array of 8-bit unsigned integers\"\n}), Uint8ArrayFromSelf, {\n  strict: true,\n  decode: numbers => Uint8Array.from(numbers),\n  encode: uint8Array => Array.from(uint8Array)\n}).annotations({\n  identifier: \"Uint8Array\"\n});\n\nconst makeEncodingTransformation = (id, decode, encode) => transformOrFail(String$, Uint8ArrayFromSelf, {\n  strict: true,\n  decode: (s, _, ast) => effect_Either__WEBPACK_IMPORTED_MODULE_6__.mapLeft(decode(s), decodeException => new _ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.Type(ast, s, decodeException.message)),\n  encode: u => _ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.succeed(encode(u))\n}).annotations({\n  identifier: id\n});\n/**\n * @category Encoding transformations\n * @since 0.67.0\n */\nconst Base64 = /*#__PURE__*/makeEncodingTransformation(\"Base64\", effect_Encoding__WEBPACK_IMPORTED_MODULE_23__.decodeBase64, effect_Encoding__WEBPACK_IMPORTED_MODULE_23__.encodeBase64);\n/**\n * @category Encoding transformations\n * @since 0.67.0\n */\nconst Base64Url = /*#__PURE__*/makeEncodingTransformation(\"Base64Url\", effect_Encoding__WEBPACK_IMPORTED_MODULE_23__.decodeBase64Url, effect_Encoding__WEBPACK_IMPORTED_MODULE_23__.encodeBase64Url);\n/**\n * @category Encoding transformations\n * @since 0.67.0\n */\nconst Hex = /*#__PURE__*/makeEncodingTransformation(\"Hex\", effect_Encoding__WEBPACK_IMPORTED_MODULE_23__.decodeHex, effect_Encoding__WEBPACK_IMPORTED_MODULE_23__.encodeHex);\n/**\n * @category type id\n * @since 0.67.0\n */\nconst MinItemsTypeId = _internal_filters_js__WEBPACK_IMPORTED_MODULE_15__.MinItemsTypeId;\n/**\n * @category ReadonlyArray filters\n * @since 0.67.0\n */\nconst minItems = (n, annotations) => self => {\n  const minItems = Math.floor(n);\n  if (minItems < 1) {\n    throw new Error(_internal_errors_js__WEBPACK_IMPORTED_MODULE_10__.getInvalidArgumentErrorMessage(`Expected an integer greater than or equal to 1, actual ${n}`));\n  }\n  return self.pipe(filter(a => a.length >= minItems, {\n    typeId: MinItemsTypeId,\n    description: `an array of at least ${minItems} items`,\n    jsonSchema: {\n      minItems\n    },\n    [_AST_js__WEBPACK_IMPORTED_MODULE_1__.StableFilterAnnotationId]: true,\n    ...annotations\n  }));\n};\n/**\n * @category type id\n * @since 0.67.0\n */\nconst MaxItemsTypeId = _internal_filters_js__WEBPACK_IMPORTED_MODULE_15__.MaxItemsTypeId;\n/**\n * @category ReadonlyArray filters\n * @since 0.67.0\n */\nconst maxItems = (n, annotations) => self => self.pipe(filter(a => a.length <= n, {\n  typeId: MaxItemsTypeId,\n  description: `an array of at most ${n} items`,\n  jsonSchema: {\n    maxItems: n\n  },\n  [_AST_js__WEBPACK_IMPORTED_MODULE_1__.StableFilterAnnotationId]: true,\n  ...annotations\n}));\n/**\n * @category type id\n * @since 0.67.0\n */\nconst ItemsCountTypeId = _internal_filters_js__WEBPACK_IMPORTED_MODULE_15__.ItemsCountTypeId;\n/**\n * @category ReadonlyArray filters\n * @since 0.67.0\n */\nconst itemsCount = (n, annotations) => self => self.pipe(filter(a => a.length === n, {\n  typeId: ItemsCountTypeId,\n  description: `an array of exactly ${n} item(s)`,\n  jsonSchema: {\n    minItems: n,\n    maxItems: n\n  },\n  [_AST_js__WEBPACK_IMPORTED_MODULE_1__.StableFilterAnnotationId]: true,\n  ...annotations\n}));\n/**\n * @category ReadonlyArray transformations\n * @since 0.67.0\n */\nconst getNumberIndexedAccess = self => make(_AST_js__WEBPACK_IMPORTED_MODULE_1__.getNumberIndexedAccess(self.ast));\n/**\n * Get the first element of a `ReadonlyArray`, or `None` if the array is empty.\n *\n * @category ReadonlyArray transformations\n * @since 0.67.0\n */\nconst head = self => transform(self, OptionFromSelf(getNumberIndexedAccess(typeSchema(self))), {\n  strict: true,\n  decode: effect_Array__WEBPACK_IMPORTED_MODULE_9__.head,\n  encode: effect_Option__WEBPACK_IMPORTED_MODULE_11__.match({\n    onNone: () => [],\n    onSome: effect_Array__WEBPACK_IMPORTED_MODULE_9__.of\n  })\n});\n/**\n * Retrieves the first element of a `ReadonlyArray`.\n *\n * If the array is empty, it returns the `fallback` argument if provided; otherwise, it fails.\n *\n * @category ReadonlyArray transformations\n * @since 0.67.0\n */\nconst headOrElse = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_12__.dual)(args => isSchema(args[0]), (self, fallback) => transformOrFail(self, getNumberIndexedAccess(typeSchema(self)), {\n  strict: true,\n  decode: (as, _, ast) => as.length > 0 ? _ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.succeed(as[0]) : fallback ? _ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.succeed(fallback()) : _ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.fail(new _ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.Type(ast, as)),\n  encode: a => _ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.succeed(effect_Array__WEBPACK_IMPORTED_MODULE_9__.of(a))\n}));\n/**\n * @category type id\n * @since 0.67.0\n */\nconst ValidDateTypeId = /*#__PURE__*/Symbol.for(\"@effect/schema/TypeId/ValidDate\");\n/**\n * Defines a filter that specifically rejects invalid dates, such as `new\n * Date(\"Invalid Date\")`. This filter ensures that only properly formatted and\n * valid date objects are accepted, enhancing data integrity by preventing\n * erroneous date values from being processed.\n *\n * @category Date filters\n * @since 0.67.0\n */\nconst validDate = annotations => self => self.pipe(filter(a => !Number.isNaN(a.getTime()), {\n  typeId: ValidDateTypeId,\n  description: \"a valid Date\",\n  ...annotations\n}));\n/**\n * Describes a schema that accommodates potentially invalid `Date` instances,\n * such as `new Date(\"Invalid Date\")`, without rejection.\n *\n * @category Date constructors\n * @since 0.67.0\n */\nclass DateFromSelf extends declare(effect_Predicate__WEBPACK_IMPORTED_MODULE_8__.isDate, {\n  identifier: \"DateFromSelf\",\n  description: \"a potentially invalid Date instance\",\n  pretty: () => date => `new Date(${JSON.stringify(date)})`,\n  arbitrary: () => fc => fc.date({\n    noInvalidDate: false\n  }),\n  equivalence: () => effect_Equivalence__WEBPACK_IMPORTED_MODULE_24__.Date\n}) {\n  static annotations = super.annotations;\n}\n/**\n * Defines a schema that ensures only valid dates are accepted. This schema\n * rejects values like `new Date(\"Invalid Date\")`, which, despite being a `Date`\n * instance, represents an invalid date. Such stringent validation ensures that\n * all date objects processed through this schema are properly formed and\n * represent real dates.\n *\n * @category Date constructors\n * @since 0.67.0\n */\nclass ValidDateFromSelf extends DateFromSelf.pipe(validDate({\n  identifier: \"ValidDateFromSelf\",\n  description: \"a valid Date instance\"\n})) {\n  static annotations = super.annotations;\n}\n/**\n * Defines a schema that attempts to convert a `string` to a `Date` object using\n * the `new Date` constructor. This conversion is lenient, meaning it does not\n * reject strings that do not form valid dates (e.g., using `new Date(\"Invalid\n * Date\")` results in a `Date` object, despite being invalid).\n *\n * @category Date transformations\n * @since 0.67.0\n */\nclass DateFromString extends transform(String$, DateFromSelf, {\n  strict: true,\n  decode: s => new Date(s),\n  encode: d => d.toISOString()\n}).annotations({\n  identifier: \"DateFromString\"\n}) {\n  static annotations = super.annotations;\n}\n/** @ignore */\nclass Date$ extends DateFromString.pipe(validDate({\n  identifier: \"Date\"\n})) {\n  static annotations = super.annotations;\n}\n\n/**\n * Defines a schema that converts a `number` into a `Date` object using the `new\n * Date` constructor. This schema does not validate the numerical input,\n * allowing potentially invalid values such as `NaN`, `Infinity`, and\n * `-Infinity` to be converted into `Date` objects. During the encoding process,\n * any invalid `Date` object will be encoded to `NaN`.\n *\n * @category Date transformations\n * @since 0.67.0\n */\nclass DateFromNumber extends transform(Number$, DateFromSelf, {\n  strict: true,\n  decode: n => new Date(n),\n  encode: d => d.getTime()\n}).annotations({\n  identifier: \"DateFromNumber\"\n}) {\n  static annotations = super.annotations;\n}\nconst OptionNoneEncoded = /*#__PURE__*/Struct({\n  _tag: Literal(\"None\")\n}).annotations({\n  description: \"NoneEncoded\"\n});\nconst optionSomeEncoded = value => Struct({\n  _tag: Literal(\"Some\"),\n  value\n}).annotations({\n  description: `SomeEncoded<${format(value)}>`\n});\nconst optionEncoded = value => Union(OptionNoneEncoded, optionSomeEncoded(value)).annotations({\n  description: `OptionEncoded<${format(value)}>`\n});\nconst optionDecode = input => input._tag === \"None\" ? effect_Option__WEBPACK_IMPORTED_MODULE_11__.none() : effect_Option__WEBPACK_IMPORTED_MODULE_11__.some(input.value);\nconst optionArbitrary = value => fc => fc.oneof(fc.record({\n  _tag: fc.constant(\"None\")\n}), fc.record({\n  _tag: fc.constant(\"Some\"),\n  value: value(fc)\n})).map(optionDecode);\nconst optionPretty = value => effect_Option__WEBPACK_IMPORTED_MODULE_11__.match({\n  onNone: () => \"none()\",\n  onSome: a => `some(${value(a)})`\n});\nconst optionParse = decodeUnknown => (u, options, ast) => effect_Option__WEBPACK_IMPORTED_MODULE_11__.isOption(u) ? effect_Option__WEBPACK_IMPORTED_MODULE_11__.isNone(u) ? _ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.succeed(effect_Option__WEBPACK_IMPORTED_MODULE_11__.none()) : toComposite(decodeUnknown(u.value, options), effect_Option__WEBPACK_IMPORTED_MODULE_11__.some, ast, u) : _ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.fail(new _ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.Type(ast, u));\n/**\n * @category Option transformations\n * @since 0.67.0\n */\nconst OptionFromSelf = value => {\n  return declare([value], {\n    decode: value => optionParse(_ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.decodeUnknown(value)),\n    encode: value => optionParse(_ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.encodeUnknown(value))\n  }, {\n    description: `Option<${format(value)}>`,\n    pretty: optionPretty,\n    arbitrary: optionArbitrary,\n    equivalence: effect_Option__WEBPACK_IMPORTED_MODULE_11__.getEquivalence\n  });\n};\nconst makeNoneEncoded = {\n  _tag: \"None\"\n};\nconst makeSomeEncoded = value => ({\n  _tag: \"Some\",\n  value\n});\n/**\n * @category Option transformations\n * @since 0.67.0\n */\nconst Option = value => {\n  const value_ = asSchema(value);\n  return transform(optionEncoded(value_), OptionFromSelf(typeSchema(value_)), {\n    strict: true,\n    decode: optionDecode,\n    encode: effect_Option__WEBPACK_IMPORTED_MODULE_11__.match({\n      onNone: () => makeNoneEncoded,\n      onSome: makeSomeEncoded\n    })\n  });\n};\n/**\n * @category Option transformations\n * @since 0.67.0\n */\nconst OptionFromNullOr = value => {\n  const value_ = asSchema(value);\n  return transform(NullOr(value_), OptionFromSelf(typeSchema(value_)), {\n    strict: true,\n    decode: effect_Option__WEBPACK_IMPORTED_MODULE_11__.fromNullable,\n    encode: effect_Option__WEBPACK_IMPORTED_MODULE_11__.getOrNull\n  });\n};\n/**\n * @category Option transformations\n * @since 0.67.0\n */\nconst OptionFromNullishOr = (value, onNoneEncoding) => {\n  const value_ = asSchema(value);\n  return transform(NullishOr(value_), OptionFromSelf(typeSchema(value_)), {\n    strict: true,\n    decode: effect_Option__WEBPACK_IMPORTED_MODULE_11__.fromNullable,\n    encode: onNoneEncoding === null ? effect_Option__WEBPACK_IMPORTED_MODULE_11__.getOrNull : effect_Option__WEBPACK_IMPORTED_MODULE_11__.getOrUndefined\n  });\n};\n/**\n * @category Option transformations\n * @since 0.67.0\n */\nconst OptionFromUndefinedOr = value => {\n  const value_ = asSchema(value);\n  return transform(UndefinedOr(value_), OptionFromSelf(typeSchema(value_)), {\n    strict: true,\n    decode: effect_Option__WEBPACK_IMPORTED_MODULE_11__.fromNullable,\n    encode: effect_Option__WEBPACK_IMPORTED_MODULE_11__.getOrUndefined\n  });\n};\nconst rightEncoded = right => Struct({\n  _tag: Literal(\"Right\"),\n  right\n}).annotations({\n  description: `RightEncoded<${format(right)}>`\n});\nconst leftEncoded = left => Struct({\n  _tag: Literal(\"Left\"),\n  left\n}).annotations({\n  description: `LeftEncoded<${format(left)}>`\n});\nconst eitherEncoded = (right, left) => Union(rightEncoded(right), leftEncoded(left)).annotations({\n  description: `EitherEncoded<${format(left)}, ${format(right)}>`\n});\nconst eitherDecode = input => input._tag === \"Left\" ? effect_Either__WEBPACK_IMPORTED_MODULE_6__.left(input.left) : effect_Either__WEBPACK_IMPORTED_MODULE_6__.right(input.right);\nconst eitherArbitrary = (right, left) => fc => fc.oneof(fc.record({\n  _tag: fc.constant(\"Left\"),\n  left: left(fc)\n}), fc.record({\n  _tag: fc.constant(\"Right\"),\n  right: right(fc)\n})).map(eitherDecode);\nconst eitherPretty = (right, left) => effect_Either__WEBPACK_IMPORTED_MODULE_6__.match({\n  onLeft: e => `left(${left(e)})`,\n  onRight: a => `right(${right(a)})`\n});\nconst eitherParse = (parseRight, decodeUnknownLeft) => (u, options, ast) => effect_Either__WEBPACK_IMPORTED_MODULE_6__.isEither(u) ? effect_Either__WEBPACK_IMPORTED_MODULE_6__.match(u, {\n  onLeft: left => toComposite(decodeUnknownLeft(left, options), effect_Either__WEBPACK_IMPORTED_MODULE_6__.left, ast, u),\n  onRight: right => toComposite(parseRight(right, options), effect_Either__WEBPACK_IMPORTED_MODULE_6__.right, ast, u)\n}) : _ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.fail(new _ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.Type(ast, u));\n/**\n * @category Either transformations\n * @since 0.67.0\n */\nconst EitherFromSelf = ({\n  left,\n  right\n}) => {\n  return declare([right, left], {\n    decode: (right, left) => eitherParse(_ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.decodeUnknown(right), _ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.decodeUnknown(left)),\n    encode: (right, left) => eitherParse(_ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.encodeUnknown(right), _ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.encodeUnknown(left))\n  }, {\n    description: `Either<${format(right)}, ${format(left)}>`,\n    pretty: eitherPretty,\n    arbitrary: eitherArbitrary,\n    equivalence: (right, left) => effect_Either__WEBPACK_IMPORTED_MODULE_6__.getEquivalence({\n      left,\n      right\n    })\n  });\n};\nconst makeLeftEncoded = left => ({\n  _tag: \"Left\",\n  left\n});\nconst makeRightEncoded = right => ({\n  _tag: \"Right\",\n  right\n});\n/**\n * @category Either transformations\n * @since 0.67.0\n */\nconst Either = ({\n  left,\n  right\n}) => {\n  const right_ = asSchema(right);\n  const left_ = asSchema(left);\n  return transform(eitherEncoded(right_, left_), EitherFromSelf({\n    left: typeSchema(left_),\n    right: typeSchema(right_)\n  }), {\n    strict: true,\n    decode: eitherDecode,\n    encode: effect_Either__WEBPACK_IMPORTED_MODULE_6__.match({\n      onLeft: makeLeftEncoded,\n      onRight: makeRightEncoded\n    })\n  });\n};\n/**\n * @example\n * import * as Schema from \"@effect/schema/Schema\"\n *\n * // Schema<string | number, Either<string, number>>\n * Schema.EitherFromUnion({ left: Schema.String, right: Schema.Number })\n *\n * @category Either transformations\n * @since 0.67.0\n */\nconst EitherFromUnion = ({\n  left,\n  right\n}) => {\n  const right_ = asSchema(right);\n  const left_ = asSchema(left);\n  const toright = typeSchema(right_);\n  const toleft = typeSchema(left_);\n  const fromRight = transform(right_, rightEncoded(toright), {\n    strict: true,\n    decode: makeRightEncoded,\n    encode: r => r.right\n  });\n  const fromLeft = transform(left_, leftEncoded(toleft), {\n    strict: true,\n    decode: makeLeftEncoded,\n    encode: l => l.left\n  });\n  return transform(Union(fromRight, fromLeft), EitherFromSelf({\n    left: toleft,\n    right: toright\n  }), {\n    strict: true,\n    decode: from => from._tag === \"Left\" ? effect_Either__WEBPACK_IMPORTED_MODULE_6__.left(from.left) : effect_Either__WEBPACK_IMPORTED_MODULE_6__.right(from.right),\n    encode: effect_Either__WEBPACK_IMPORTED_MODULE_6__.match({\n      onLeft: makeLeftEncoded,\n      onRight: makeRightEncoded\n    })\n  });\n};\nconst mapArbitrary = (key, value) => fc => fc.array(fc.tuple(key(fc), value(fc))).map(as => new Map(as));\nconst readonlyMapPretty = (key, value) => map => `new Map([${Array.from(map.entries()).map(([k, v]) => `[${key(k)}, ${value(v)}]`).join(\", \")}])`;\nconst readonlyMapEquivalence = (key, value) => {\n  const arrayEquivalence = effect_Array__WEBPACK_IMPORTED_MODULE_9__.getEquivalence(effect_Equivalence__WEBPACK_IMPORTED_MODULE_24__.make(([ka, va], [kb, vb]) => key(ka, kb) && value(va, vb)));\n  return effect_Equivalence__WEBPACK_IMPORTED_MODULE_24__.make((a, b) => arrayEquivalence(Array.from(a.entries()), Array.from(b.entries())));\n};\nconst readonlyMapParse = decodeUnknown => (u, options, ast) => effect_Predicate__WEBPACK_IMPORTED_MODULE_8__.isMap(u) ? toComposite(decodeUnknown(Array.from(u.entries()), options), as => new Map(as), ast, u) : _ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.fail(new _ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.Type(ast, u));\nconst mapFromSelf_ = (key, value, description) => declare([key, value], {\n  decode: (Key, Value) => readonlyMapParse(_ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.decodeUnknown(Array$(Tuple(Key, Value)))),\n  encode: (Key, Value) => readonlyMapParse(_ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.encodeUnknown(Array$(Tuple(Key, Value))))\n}, {\n  description,\n  pretty: readonlyMapPretty,\n  arbitrary: mapArbitrary,\n  equivalence: readonlyMapEquivalence\n});\n/**\n * @category ReadonlyMap\n * @since 0.67.0\n */\nconst ReadonlyMapFromSelf = ({\n  key,\n  value\n}) => mapFromSelf_(key, value, `ReadonlyMap<${format(key)}, ${format(value)}>`);\n/**\n * @category Map\n * @since 0.67.0\n */\nconst MapFromSelf = ({\n  key,\n  value\n}) => mapFromSelf_(key, value, `Map<${format(key)}, ${format(value)}>`);\n/**\n * @category ReadonlyMap transformations\n * @since 0.67.0\n */\nconst ReadonlyMap = ({\n  key,\n  value\n}) => {\n  const key_ = asSchema(key);\n  const value_ = asSchema(value);\n  return transform(Array$(Tuple(key_, value_)), ReadonlyMapFromSelf({\n    key: typeSchema(key_),\n    value: typeSchema(value_)\n  }), {\n    strict: true,\n    decode: as => new Map(as),\n    encode: map => Array.from(map.entries())\n  });\n};\nconst map = ({\n  key,\n  value\n}) => {\n  const key_ = asSchema(key);\n  const value_ = asSchema(value);\n  return transform(Array$(Tuple(key_, value_)), MapFromSelf({\n    key: typeSchema(key_),\n    value: typeSchema(value_)\n  }), {\n    strict: true,\n    decode: as => new Map(as),\n    encode: map => Array.from(map.entries())\n  });\n};\n\n/**\n * @category ReadonlyMap transformations\n * @since 0.68.15\n */\nconst ReadonlyMapFromRecord = ({\n  key,\n  value\n}) => transform(Record(encodedBoundSchema(key), value), ReadonlyMapFromSelf({\n  key,\n  value: typeSchema(value)\n}), {\n  strict: true,\n  decode: record => new Map(Object.entries(record)),\n  encode: effect_Record__WEBPACK_IMPORTED_MODULE_25__.fromEntries\n});\n/**\n * @category Map transformations\n * @since 0.68.15\n */\nconst MapFromRecord = ({\n  key,\n  value\n}) => transform(Record(encodedBoundSchema(key), value), MapFromSelf({\n  key,\n  value: typeSchema(value)\n}), {\n  strict: true,\n  decode: record => new Map(Object.entries(record)),\n  encode: effect_Record__WEBPACK_IMPORTED_MODULE_25__.fromEntries\n});\nconst setArbitrary = item => fc => fc.array(item(fc)).map(as => new Set(as));\nconst readonlySetPretty = item => set => `new Set([${Array.from(set.values()).map(a => item(a)).join(\", \")}])`;\nconst readonlySetEquivalence = item => {\n  const arrayEquivalence = effect_Array__WEBPACK_IMPORTED_MODULE_9__.getEquivalence(item);\n  return effect_Equivalence__WEBPACK_IMPORTED_MODULE_24__.make((a, b) => arrayEquivalence(Array.from(a.values()), Array.from(b.values())));\n};\nconst readonlySetParse = decodeUnknown => (u, options, ast) => effect_Predicate__WEBPACK_IMPORTED_MODULE_8__.isSet(u) ? toComposite(decodeUnknown(Array.from(u.values()), options), as => new Set(as), ast, u) : _ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.fail(new _ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.Type(ast, u));\nconst setFromSelf_ = (value, description) => declare([value], {\n  decode: item => readonlySetParse(_ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.decodeUnknown(Array$(item))),\n  encode: item => readonlySetParse(_ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.encodeUnknown(Array$(item)))\n}, {\n  description,\n  pretty: readonlySetPretty,\n  arbitrary: setArbitrary,\n  equivalence: readonlySetEquivalence\n});\n/**\n * @category ReadonlySet\n * @since 0.67.0\n */\nconst ReadonlySetFromSelf = value => setFromSelf_(value, `ReadonlySet<${format(value)}>`);\n/**\n * @category Set\n * @since 0.67.0\n */\nconst SetFromSelf = value => setFromSelf_(value, `Set<${format(value)}>`);\n/**\n * @category ReadonlySet transformations\n * @since 0.67.0\n */\nconst ReadonlySet = value => {\n  const value_ = asSchema(value);\n  return transform(Array$(value_), ReadonlySetFromSelf(typeSchema(value_)), {\n    strict: true,\n    decode: as => new Set(as),\n    encode: set => Array.from(set)\n  });\n};\nconst set = value => {\n  const value_ = asSchema(value);\n  return transform(Array$(value_), SetFromSelf(typeSchema(value_)), {\n    strict: true,\n    decode: as => new Set(as),\n    encode: set => Array.from(set)\n  });\n};\n\nconst bigDecimalPretty = () => val => `BigDecimal(${effect_BigDecimal__WEBPACK_IMPORTED_MODULE_26__.format(effect_BigDecimal__WEBPACK_IMPORTED_MODULE_26__.normalize(val))})`;\nconst bigDecimalArbitrary = () => fc => fc.tuple(fc.bigInt(), fc.integer()).map(([value, scale]) => effect_BigDecimal__WEBPACK_IMPORTED_MODULE_26__.make(value, scale));\n/**\n * @category BigDecimal constructors\n * @since 0.67.0\n */\nclass BigDecimalFromSelf extends declare(effect_BigDecimal__WEBPACK_IMPORTED_MODULE_26__.isBigDecimal, {\n  identifier: \"BigDecimalFromSelf\",\n  pretty: bigDecimalPretty,\n  arbitrary: bigDecimalArbitrary,\n  equivalence: () => effect_BigDecimal__WEBPACK_IMPORTED_MODULE_26__.Equivalence\n}) {\n  static annotations = super.annotations;\n}\n/**\n * @category BigDecimal transformations\n * @since 0.67.0\n */\nclass BigDecimal extends transformOrFail(String$, BigDecimalFromSelf, {\n  strict: true,\n  decode: (num, _, ast) => effect_BigDecimal__WEBPACK_IMPORTED_MODULE_26__.fromString(num).pipe(effect_Option__WEBPACK_IMPORTED_MODULE_11__.match({\n    onNone: () => _ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.fail(new _ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.Type(ast, num)),\n    onSome: val => _ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.succeed(effect_BigDecimal__WEBPACK_IMPORTED_MODULE_26__.normalize(val))\n  })),\n  encode: val => _ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.succeed(effect_BigDecimal__WEBPACK_IMPORTED_MODULE_26__.format(effect_BigDecimal__WEBPACK_IMPORTED_MODULE_26__.normalize(val)))\n}).annotations({\n  identifier: \"BigDecimal\"\n}) {\n  static annotations = super.annotations;\n}\n/**\n * A schema that transforms a `number` into a `BigDecimal`.\n * When encoding, this Schema will produce incorrect results if the BigDecimal exceeds the 64-bit range of a number.\n *\n * @category BigDecimal transformations\n * @since 0.67.0\n */\nclass BigDecimalFromNumber extends transformOrFail(Number$, BigDecimalFromSelf, {\n  strict: true,\n  decode: num => _ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.succeed(effect_BigDecimal__WEBPACK_IMPORTED_MODULE_26__.fromNumber(num)),\n  encode: val => _ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.succeed(effect_BigDecimal__WEBPACK_IMPORTED_MODULE_26__.unsafeToNumber(val))\n}).annotations({\n  identifier: \"BigDecimalFromNumber\"\n}) {\n  static annotations = super.annotations;\n}\n/**\n * @category type id\n * @since 0.67.0\n */\nconst GreaterThanBigDecimalTypeId = /*#__PURE__*/Symbol.for(\"@effect/schema/TypeId/GreaterThanBigDecimal\");\n/**\n * @category BigDecimal filters\n * @since 0.67.0\n */\nconst greaterThanBigDecimal = (min, annotations) => self => self.pipe(filter(a => effect_BigDecimal__WEBPACK_IMPORTED_MODULE_26__.greaterThan(a, min), {\n  typeId: {\n    id: GreaterThanBigDecimalTypeId,\n    annotation: {\n      min\n    }\n  },\n  description: `a BigDecimal greater than ${effect_BigDecimal__WEBPACK_IMPORTED_MODULE_26__.format(min)}`,\n  ...annotations\n}));\n/**\n * @category type id\n * @since 0.67.0\n */\nconst GreaterThanOrEqualToBigDecimalTypeId = /*#__PURE__*/Symbol.for(\"@effect/schema/TypeId/GreaterThanOrEqualToBigDecimal\");\n/**\n * @category BigDecimal filters\n * @since 0.67.0\n */\nconst greaterThanOrEqualToBigDecimal = (min, annotations) => self => self.pipe(filter(a => effect_BigDecimal__WEBPACK_IMPORTED_MODULE_26__.greaterThanOrEqualTo(a, min), {\n  typeId: {\n    id: GreaterThanOrEqualToBigDecimalTypeId,\n    annotation: {\n      min\n    }\n  },\n  description: `a BigDecimal greater than or equal to ${effect_BigDecimal__WEBPACK_IMPORTED_MODULE_26__.format(min)}`,\n  ...annotations\n}));\n/**\n * @category type id\n * @since 0.67.0\n */\nconst LessThanBigDecimalTypeId = /*#__PURE__*/Symbol.for(\"@effect/schema/TypeId/LessThanBigDecimal\");\n/**\n * @category BigDecimal filters\n * @since 0.67.0\n */\nconst lessThanBigDecimal = (max, annotations) => self => self.pipe(filter(a => effect_BigDecimal__WEBPACK_IMPORTED_MODULE_26__.lessThan(a, max), {\n  typeId: {\n    id: LessThanBigDecimalTypeId,\n    annotation: {\n      max\n    }\n  },\n  description: `a BigDecimal less than ${effect_BigDecimal__WEBPACK_IMPORTED_MODULE_26__.format(max)}`,\n  ...annotations\n}));\n/**\n * @category type id\n * @since 0.67.0\n */\nconst LessThanOrEqualToBigDecimalTypeId = /*#__PURE__*/Symbol.for(\"@effect/schema/TypeId/LessThanOrEqualToBigDecimal\");\n/**\n * @category BigDecimal filters\n * @since 0.67.0\n */\nconst lessThanOrEqualToBigDecimal = (max, annotations) => self => self.pipe(filter(a => effect_BigDecimal__WEBPACK_IMPORTED_MODULE_26__.lessThanOrEqualTo(a, max), {\n  typeId: {\n    id: LessThanOrEqualToBigDecimalTypeId,\n    annotation: {\n      max\n    }\n  },\n  description: `a BigDecimal less than or equal to ${effect_BigDecimal__WEBPACK_IMPORTED_MODULE_26__.format(max)}`,\n  ...annotations\n}));\n/**\n * @category type id\n * @since 0.67.0\n */\nconst PositiveBigDecimalTypeId = /*#__PURE__*/Symbol.for(\"@effect/schema/TypeId/PositiveBigDecimal\");\n/**\n * @category BigDecimal filters\n * @since 0.67.0\n */\nconst positiveBigDecimal = annotations => self => self.pipe(filter(a => effect_BigDecimal__WEBPACK_IMPORTED_MODULE_26__.isPositive(a), {\n  typeId: {\n    id: PositiveBigDecimalTypeId,\n    annotation: {}\n  },\n  description: `a positive BigDecimal`,\n  ...annotations\n}));\n/**\n * @category BigDecimal constructors\n * @since 0.67.0\n */\nconst PositiveBigDecimalFromSelf = /*#__PURE__*/BigDecimalFromSelf.pipe( /*#__PURE__*/positiveBigDecimal({\n  identifier: \"PositiveBigDecimalFromSelf\",\n  title: \"PositiveBigDecimalFromSelf\"\n}));\n/**\n * @category type id\n * @since 0.67.0\n */\nconst NonNegativeBigDecimalTypeId = /*#__PURE__*/Symbol.for(\"@effect/schema/TypeId/NonNegativeBigDecimal\");\n/**\n * @category BigDecimal filters\n * @since 0.67.0\n */\nconst nonNegativeBigDecimal = annotations => self => self.pipe(filter(a => a.value >= 0n, {\n  typeId: {\n    id: NonNegativeBigDecimalTypeId,\n    annotation: {}\n  },\n  description: `a non-negative BigDecimal`,\n  ...annotations\n}));\n/**\n * @category BigDecimal constructors\n * @since 0.67.0\n */\nconst NonNegativeBigDecimalFromSelf = /*#__PURE__*/BigDecimalFromSelf.pipe( /*#__PURE__*/nonNegativeBigDecimal({\n  identifier: \"NonNegativeBigDecimalFromSelf\",\n  title: \"NonNegativeBigDecimalFromSelf\"\n}));\n/**\n * @category type id\n * @since 0.67.0\n */\nconst NegativeBigDecimalTypeId = /*#__PURE__*/Symbol.for(\"@effect/schema/TypeId/NegativeBigDecimal\");\n/**\n * @category BigDecimal filters\n * @since 0.67.0\n */\nconst negativeBigDecimal = annotations => self => self.pipe(filter(a => effect_BigDecimal__WEBPACK_IMPORTED_MODULE_26__.isNegative(a), {\n  typeId: {\n    id: NegativeBigDecimalTypeId,\n    annotation: {}\n  },\n  description: `a negative BigDecimal`,\n  ...annotations\n}));\n/**\n * @category BigDecimal constructors\n * @since 0.67.0\n */\nconst NegativeBigDecimalFromSelf = /*#__PURE__*/BigDecimalFromSelf.pipe( /*#__PURE__*/negativeBigDecimal({\n  identifier: \"NegativeBigDecimalFromSelf\",\n  title: \"NegativeBigDecimalFromSelf\"\n}));\n/**\n * @category type id\n * @since 0.67.0\n */\nconst NonPositiveBigDecimalTypeId = /*#__PURE__*/Symbol.for(\"@effect/schema/TypeId/NonPositiveBigDecimal\");\n/**\n * @category BigDecimal filters\n * @since 0.67.0\n */\nconst nonPositiveBigDecimal = annotations => self => self.pipe(filter(a => a.value <= 0n, {\n  typeId: {\n    id: NonPositiveBigDecimalTypeId,\n    annotation: {}\n  },\n  description: `a non-positive BigDecimal`,\n  ...annotations\n}));\n/**\n * @category BigDecimal constructors\n * @since 0.67.0\n */\nconst NonPositiveBigDecimalFromSelf = /*#__PURE__*/BigDecimalFromSelf.pipe( /*#__PURE__*/nonPositiveBigDecimal({\n  identifier: \"NonPositiveBigDecimalFromSelf\",\n  title: \"NonPositiveBigDecimalFromSelf\"\n}));\n/**\n * @category type id\n * @since 0.67.0\n */\nconst BetweenBigDecimalTypeId = /*#__PURE__*/Symbol.for(\"@effect/schema/TypeId/BetweenBigDecimal\");\n/**\n * @category BigDecimal filters\n * @since 0.67.0\n */\nconst betweenBigDecimal = (minimum, maximum, annotations) => self => self.pipe(filter(a => effect_BigDecimal__WEBPACK_IMPORTED_MODULE_26__.between(a, {\n  minimum,\n  maximum\n}), {\n  typeId: {\n    id: BetweenBigDecimalTypeId,\n    annotation: {\n      maximum,\n      minimum\n    }\n  },\n  description: `a BigDecimal between ${effect_BigDecimal__WEBPACK_IMPORTED_MODULE_26__.format(minimum)} and ${effect_BigDecimal__WEBPACK_IMPORTED_MODULE_26__.format(maximum)}`,\n  ...annotations\n}));\n/**\n * Clamps a `BigDecimal` between a minimum and a maximum value.\n *\n * @category BigDecimal transformations\n * @since 0.67.0\n */\nconst clampBigDecimal = (minimum, maximum) => self => transform(self, self.pipe(typeSchema, betweenBigDecimal(minimum, maximum)), {\n  strict: false,\n  decode: self => effect_BigDecimal__WEBPACK_IMPORTED_MODULE_26__.clamp(self, {\n    minimum,\n    maximum\n  }),\n  encode: effect_Function__WEBPACK_IMPORTED_MODULE_12__.identity\n});\nconst chunkArbitrary = item => fc => fc.array(item(fc)).map(effect_Chunk__WEBPACK_IMPORTED_MODULE_27__.fromIterable);\nconst chunkPretty = item => c => `Chunk(${effect_Chunk__WEBPACK_IMPORTED_MODULE_27__.toReadonlyArray(c).map(item).join(\", \")})`;\nconst chunkParse = decodeUnknown => (u, options, ast) => effect_Chunk__WEBPACK_IMPORTED_MODULE_27__.isChunk(u) ? effect_Chunk__WEBPACK_IMPORTED_MODULE_27__.isEmpty(u) ? _ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.succeed(effect_Chunk__WEBPACK_IMPORTED_MODULE_27__.empty()) : toComposite(decodeUnknown(effect_Chunk__WEBPACK_IMPORTED_MODULE_27__.toReadonlyArray(u), options), effect_Chunk__WEBPACK_IMPORTED_MODULE_27__.fromIterable, ast, u) : _ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.fail(new _ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.Type(ast, u));\n/**\n * @category Chunk\n * @since 0.67.0\n */\nconst ChunkFromSelf = value => {\n  return declare([value], {\n    decode: item => chunkParse(_ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.decodeUnknown(Array$(item))),\n    encode: item => chunkParse(_ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.encodeUnknown(Array$(item)))\n  }, {\n    description: `Chunk<${format(value)}>`,\n    pretty: chunkPretty,\n    arbitrary: chunkArbitrary,\n    equivalence: effect_Chunk__WEBPACK_IMPORTED_MODULE_27__.getEquivalence\n  });\n};\n/**\n * @category Chunk transformations\n * @since 0.67.0\n */\nconst Chunk = value => {\n  const value_ = asSchema(value);\n  return transform(Array$(value_), ChunkFromSelf(typeSchema(value_)), {\n    strict: true,\n    decode: as => as.length === 0 ? effect_Chunk__WEBPACK_IMPORTED_MODULE_27__.empty() : effect_Chunk__WEBPACK_IMPORTED_MODULE_27__.fromIterable(as),\n    encode: effect_Chunk__WEBPACK_IMPORTED_MODULE_27__.toReadonlyArray\n  });\n};\nconst nonEmptyChunkArbitrary = item => fc => _FastCheck_js__WEBPACK_IMPORTED_MODULE_28__.array(item(fc), {\n  minLength: 1\n}).map(as => effect_Chunk__WEBPACK_IMPORTED_MODULE_27__.unsafeFromNonEmptyArray(as));\nconst nonEmptyChunkPretty = item => c => `NonEmptyChunk(${effect_Chunk__WEBPACK_IMPORTED_MODULE_27__.toReadonlyArray(c).map(item).join(\", \")})`;\nconst nonEmptyChunkParse = decodeUnknown => (u, options, ast) => effect_Chunk__WEBPACK_IMPORTED_MODULE_27__.isChunk(u) && effect_Chunk__WEBPACK_IMPORTED_MODULE_27__.isNonEmpty(u) ? toComposite(decodeUnknown(effect_Chunk__WEBPACK_IMPORTED_MODULE_27__.toReadonlyArray(u), options), effect_Chunk__WEBPACK_IMPORTED_MODULE_27__.unsafeFromNonEmptyArray, ast, u) : _ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.fail(new _ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.Type(ast, u));\n/**\n * @category Chunk\n * @since 0.67.23\n */\nconst NonEmptyChunkFromSelf = value => {\n  return declare([value], {\n    decode: item => nonEmptyChunkParse(_ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.decodeUnknown(NonEmptyArray(item))),\n    encode: item => nonEmptyChunkParse(_ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.encodeUnknown(NonEmptyArray(item)))\n  }, {\n    description: `NonEmptyChunk<${format(value)}>`,\n    pretty: nonEmptyChunkPretty,\n    arbitrary: nonEmptyChunkArbitrary,\n    equivalence: effect_Chunk__WEBPACK_IMPORTED_MODULE_27__.getEquivalence\n  });\n};\n/**\n * @category Chunk transformations\n * @since 0.67.23\n */\nconst NonEmptyChunk = value => {\n  const value_ = asSchema(value);\n  return transform(NonEmptyArray(value_), NonEmptyChunkFromSelf(typeSchema(value_)), {\n    strict: true,\n    decode: effect_Chunk__WEBPACK_IMPORTED_MODULE_27__.unsafeFromNonEmptyArray,\n    encode: effect_Chunk__WEBPACK_IMPORTED_MODULE_27__.toReadonlyArray\n  });\n};\nconst toData = a => Array.isArray(a) ? effect_Data__WEBPACK_IMPORTED_MODULE_29__.array(a) : effect_Data__WEBPACK_IMPORTED_MODULE_29__.struct(a);\nconst dataArbitrary = item => fc => item(fc).map(toData);\nconst dataPretty = item => d => `Data(${item(d)})`;\nconst dataParse = decodeUnknown => (u, options, ast) => effect_Equal__WEBPACK_IMPORTED_MODULE_22__.isEqual(u) ? toComposite(decodeUnknown(u, options), toData, ast, u) : _ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.fail(new _ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.Type(ast, u));\n/**\n * @category Data transformations\n * @since 0.67.0\n */\nconst DataFromSelf = item => declare([item], {\n  decode: item => dataParse(_ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.decodeUnknown(item)),\n  encode: item => dataParse(_ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.encodeUnknown(item))\n}, {\n  description: `Data<${format(item)}>`,\n  pretty: dataPretty,\n  arbitrary: dataArbitrary\n});\n/**\n * @category Data transformations\n * @since 0.67.0\n */\nconst Data = item => transform(item, DataFromSelf(typeSchema(item)), {\n  strict: false,\n  decode: toData,\n  encode: a => Array.isArray(a) ? Array.from(a) : Object.assign({}, a)\n});\nconst isField = u => isSchema(u) || isPropertySignature(u);\nconst isFields = fields => _internal_util_js__WEBPACK_IMPORTED_MODULE_13__.ownKeys(fields).every(key => isField(fields[key]));\nconst getFields = hasFields => \"fields\" in hasFields ? hasFields.fields : getFields(hasFields[refineTypeId]);\nconst getSchemaFromFieldsOr = fieldsOr => isFields(fieldsOr) ? Struct(fieldsOr) : isSchema(fieldsOr) ? fieldsOr : Struct(getFields(fieldsOr));\nconst getFieldsFromFieldsOr = fieldsOr => isFields(fieldsOr) ? fieldsOr : getFields(fieldsOr);\n/**\n * @category classes\n * @since 0.67.0\n */\nconst Class = identifier => (fieldsOr, annotations) => makeClass({\n  kind: \"Class\",\n  identifier,\n  schema: getSchemaFromFieldsOr(fieldsOr),\n  fields: getFieldsFromFieldsOr(fieldsOr),\n  Base: effect_Data__WEBPACK_IMPORTED_MODULE_29__.Class,\n  annotations\n});\n/** @internal */\nconst getClassTag = tag => withConstructorDefault(propertySignature(Literal(tag)), () => tag);\n/**\n * @category classes\n * @since 0.67.0\n */\nconst TaggedClass = identifier => (tag, fieldsOr, annotations) => {\n  const fields = getFieldsFromFieldsOr(fieldsOr);\n  const schema = getSchemaFromFieldsOr(fieldsOr);\n  const newFields = {\n    _tag: getClassTag(tag)\n  };\n  const taggedFields = extendFields(newFields, fields);\n  return class TaggedClass extends makeClass({\n    kind: \"TaggedClass\",\n    identifier: identifier ?? tag,\n    schema: extend(schema, Struct(newFields)),\n    fields: taggedFields,\n    Base: effect_Data__WEBPACK_IMPORTED_MODULE_29__.Class,\n    annotations\n  }) {\n    static _tag = tag;\n  };\n};\n/**\n * @category classes\n * @since 0.67.0\n */\nconst TaggedError = identifier => (tag, fieldsOr, annotations) => {\n  class Base extends effect_Data__WEBPACK_IMPORTED_MODULE_29__.Error {}\n  ;\n  Base.prototype.name = tag;\n  const fields = getFieldsFromFieldsOr(fieldsOr);\n  const schema = getSchemaFromFieldsOr(fieldsOr);\n  const newFields = {\n    _tag: getClassTag(tag)\n  };\n  const taggedFields = extendFields(newFields, fields);\n  return class TaggedErrorClass extends makeClass({\n    kind: \"TaggedError\",\n    identifier: identifier ?? tag,\n    schema: extend(schema, Struct(newFields)),\n    fields: taggedFields,\n    Base,\n    annotations,\n    toStringOverride(self) {\n      if (effect_Predicate__WEBPACK_IMPORTED_MODULE_8__.isString(self.message) && self.message.length > 0) {\n        let message = `${self._tag}: ${self.message}`;\n        if (effect_Predicate__WEBPACK_IMPORTED_MODULE_8__.isString(self.stack)) {\n          message = `${message}\\n${self.stack.split(\"\\n\").slice(1).join(\"\\n\")}`;\n        }\n        return message;\n      }\n    }\n  }) {\n    static _tag = tag;\n  };\n};\n/**\n * @category classes\n * @since 0.67.0\n */\nconst TaggedRequest = identifier => (tag, Failure, Success, fields, annotations) => {\n  const taggedFields = extendFields({\n    _tag: getClassTag(tag)\n  }, fields);\n  return class TaggedRequestClass extends makeClass({\n    kind: \"TaggedRequest\",\n    identifier: identifier ?? tag,\n    schema: Struct(taggedFields),\n    fields: taggedFields,\n    Base: effect_Request__WEBPACK_IMPORTED_MODULE_30__.Class,\n    annotations\n  }) {\n    static _tag = tag;\n    get [_internal_serializable_js__WEBPACK_IMPORTED_MODULE_31__.symbol]() {\n      return this.constructor;\n    }\n    get [_internal_serializable_js__WEBPACK_IMPORTED_MODULE_31__.symbolResult]() {\n      return {\n        Failure,\n        Success\n      };\n    }\n  };\n};\nconst extendFields = (a, b) => {\n  const out = {\n    ...a\n  };\n  for (const key of _internal_util_js__WEBPACK_IMPORTED_MODULE_13__.ownKeys(b)) {\n    if (key in a) {\n      throw new Error(_internal_errors_js__WEBPACK_IMPORTED_MODULE_10__.getASTDuplicatePropertySignatureErrorMessage(key));\n    }\n    out[key] = b[key];\n  }\n  return out;\n};\n// does not overwrite existing title annotation\nconst orElseTitleAnnotation = (schema, title) => {\n  const annotation = _AST_js__WEBPACK_IMPORTED_MODULE_1__.getTitleAnnotation(schema.ast);\n  if (effect_Option__WEBPACK_IMPORTED_MODULE_11__.isNone(annotation)) {\n    return schema.annotations({\n      title\n    });\n  }\n  return schema;\n};\nconst getDisableValidationMakeOption = options => effect_Predicate__WEBPACK_IMPORTED_MODULE_8__.isBoolean(options) ? options : options?.disableValidation ?? false;\nconst makeClass = ({\n  Base,\n  annotations,\n  fields,\n  identifier,\n  kind,\n  schema,\n  toStringOverride\n}) => {\n  const classSymbol = Symbol.for(`@effect/schema/${kind}/${identifier}`);\n  const validateSchema = orElseTitleAnnotation(schema, `${identifier} (Constructor)`);\n  const encodedSide = orElseTitleAnnotation(schema, `${identifier} (Encoded side)`);\n  const typeSide = orElseTitleAnnotation(typeSchema(schema), `${identifier} (Type side)`);\n  const fallbackInstanceOf = u => effect_Predicate__WEBPACK_IMPORTED_MODULE_8__.hasProperty(u, classSymbol) && _ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.is(typeSide)(u);\n  return class extends Base {\n    constructor(props = {}, options = false) {\n      props = {\n        ...props\n      };\n      if (kind !== \"Class\") {\n        delete props[\"_tag\"];\n      }\n      props = lazilyMergeDefaults(fields, props);\n      if (!getDisableValidationMakeOption(options)) {\n        props = _ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.validateSync(validateSchema)(props);\n      }\n      super(props, true);\n    }\n    // ----------------\n    // Schema interface\n    // ----------------\n    static [TypeId] = variance;\n    static get ast() {\n      const declaration = declare([typeSide], {\n        decode: () => (input, _, ast) => input instanceof this || fallbackInstanceOf(input) ? _ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.succeed(input) : _ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.fail(new _ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.Type(ast, input)),\n        encode: () => (input, options) => input instanceof this ? _ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.succeed(input) : _ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.map(_ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.encodeUnknown(typeSide)(input, options), props => new this(props, true))\n      }, {\n        identifier,\n        title: identifier,\n        description: `an instance of ${identifier}`,\n        pretty: pretty => self => `${identifier}(${pretty(self)})`,\n        arbitrary: arb => fc => arb(fc).map(props => new this(props)),\n        equivalence: effect_Function__WEBPACK_IMPORTED_MODULE_12__.identity,\n        [_AST_js__WEBPACK_IMPORTED_MODULE_1__.SurrogateAnnotationId]: typeSide.ast,\n        ...annotations\n      });\n      const transformation = transform(encodedSide, declaration, {\n        strict: true,\n        decode: input => new this(input, true),\n        encode: effect_Function__WEBPACK_IMPORTED_MODULE_12__.identity\n      }).annotations({\n        [_AST_js__WEBPACK_IMPORTED_MODULE_1__.SurrogateAnnotationId]: schema.ast\n      });\n      return transformation.ast;\n    }\n    static pipe() {\n      return (0,effect_Pipeable__WEBPACK_IMPORTED_MODULE_0__.pipeArguments)(this, arguments);\n    }\n    static annotations(annotations) {\n      return make(this.ast).annotations(annotations);\n    }\n    static toString() {\n      return `(${String(encodedSide)} <-> ${identifier})`;\n    }\n    // ----------------\n    // Class interface\n    // ----------------\n    static make(...args) {\n      return new this(...args);\n    }\n    static fields = {\n      ...fields\n    };\n    static identifier = identifier;\n    static extend(identifier) {\n      return (newFieldsOr, annotations) => {\n        const newFields = getFieldsFromFieldsOr(newFieldsOr);\n        const newSchema = getSchemaFromFieldsOr(newFieldsOr);\n        const extendedFields = extendFields(fields, newFields);\n        return makeClass({\n          kind,\n          identifier,\n          schema: extend(schema, newSchema),\n          fields: extendedFields,\n          Base: this,\n          annotations\n        });\n      };\n    }\n    static transformOrFail(identifier) {\n      return (newFields, options, annotations) => {\n        const transformedFields = extendFields(fields, newFields);\n        return makeClass({\n          kind,\n          identifier,\n          schema: transformOrFail(schema, typeSchema(Struct(transformedFields)), options),\n          fields: transformedFields,\n          Base: this,\n          annotations\n        });\n      };\n    }\n    static transformOrFailFrom(identifier) {\n      return (newFields, options, annotations) => {\n        const transformedFields = extendFields(fields, newFields);\n        return makeClass({\n          kind,\n          identifier,\n          schema: transformOrFail(encodedSchema(schema), Struct(transformedFields), options),\n          fields: transformedFields,\n          Base: this,\n          annotations\n        });\n      };\n    }\n    // ----------------\n    // other\n    // ----------------\n    get [classSymbol]() {\n      return classSymbol;\n    }\n    toString() {\n      if (toStringOverride !== undefined) {\n        const out = toStringOverride(this);\n        if (out !== undefined) {\n          return out;\n        }\n      }\n      return `${identifier}({ ${_internal_util_js__WEBPACK_IMPORTED_MODULE_13__.ownKeys(fields).map(p => `${_internal_util_js__WEBPACK_IMPORTED_MODULE_13__.formatPropertyKey(p)}: ${_internal_util_js__WEBPACK_IMPORTED_MODULE_13__.formatUnknown(this[p])}`).join(\", \")} })`;\n    }\n  };\n};\nconst FiberIdNoneEncoded = /*#__PURE__*/Struct({\n  _tag: Literal(\"None\")\n}).annotations({\n  identifier: \"FiberIdNoneEncoded\"\n});\nconst FiberIdRuntimeEncoded = /*#__PURE__*/Struct({\n  _tag: Literal(\"Runtime\"),\n  id: Int.annotations({\n    title: \"id\",\n    description: \"id\"\n  }),\n  startTimeMillis: Int.annotations({\n    title: \"startTimeMillis\",\n    description: \"startTimeMillis\"\n  })\n}).annotations({\n  identifier: \"FiberIdRuntimeEncoded\"\n});\nconst FiberIdCompositeEncoded = /*#__PURE__*/Struct({\n  _tag: Literal(\"Composite\"),\n  left: suspend(() => FiberIdEncoded),\n  right: suspend(() => FiberIdEncoded)\n}).annotations({\n  identifier: \"FiberIdCompositeEncoded\"\n});\nconst FiberIdEncoded = /*#__PURE__*/Union(FiberIdNoneEncoded, FiberIdRuntimeEncoded, FiberIdCompositeEncoded).annotations({\n  identifier: \"FiberIdEncoded\"\n});\nconst fiberIdArbitrary = fc => fc.letrec(tie => ({\n  None: fc.record({\n    _tag: fc.constant(\"None\")\n  }),\n  Runtime: fc.record({\n    _tag: fc.constant(\"Runtime\"),\n    id: fc.integer(),\n    startTimeMillis: fc.integer()\n  }),\n  Composite: fc.record({\n    _tag: fc.constant(\"Composite\"),\n    left: tie(\"FiberId\"),\n    right: tie(\"FiberId\")\n  }),\n  FiberId: fc.oneof(tie(\"None\"), tie(\"Runtime\"), tie(\"Composite\"))\n})).FiberId.map(fiberIdDecode);\nconst fiberIdPretty = fiberId => {\n  switch (fiberId._tag) {\n    case \"None\":\n      return \"FiberId.none\";\n    case \"Runtime\":\n      return `FiberId.runtime(${fiberId.id}, ${fiberId.startTimeMillis})`;\n    case \"Composite\":\n      return `FiberId.composite(${fiberIdPretty(fiberId.right)}, ${fiberIdPretty(fiberId.left)})`;\n  }\n};\n/**\n * @category FiberId constructors\n * @since 0.67.0\n */\nclass FiberIdFromSelf extends declare(effect_FiberId__WEBPACK_IMPORTED_MODULE_32__.isFiberId, {\n  identifier: \"FiberIdFromSelf\",\n  pretty: () => fiberIdPretty,\n  arbitrary: () => fiberIdArbitrary\n}) {\n  static annotations = super.annotations;\n}\nconst fiberIdDecode = input => {\n  switch (input._tag) {\n    case \"None\":\n      return effect_FiberId__WEBPACK_IMPORTED_MODULE_32__.none;\n    case \"Runtime\":\n      return effect_FiberId__WEBPACK_IMPORTED_MODULE_32__.runtime(input.id, input.startTimeMillis);\n    case \"Composite\":\n      return effect_FiberId__WEBPACK_IMPORTED_MODULE_32__.composite(fiberIdDecode(input.left), fiberIdDecode(input.right));\n  }\n};\nconst fiberIdEncode = input => {\n  switch (input._tag) {\n    case \"None\":\n      return {\n        _tag: \"None\"\n      };\n    case \"Runtime\":\n      return {\n        _tag: \"Runtime\",\n        id: input.id,\n        startTimeMillis: input.startTimeMillis\n      };\n    case \"Composite\":\n      return {\n        _tag: \"Composite\",\n        left: fiberIdEncode(input.left),\n        right: fiberIdEncode(input.right)\n      };\n  }\n};\n/**\n * @category FiberId transformations\n * @since 0.67.0\n */\nclass FiberId extends transform(FiberIdEncoded, FiberIdFromSelf, {\n  strict: true,\n  decode: fiberIdDecode,\n  encode: fiberIdEncode\n}).annotations({\n  identifier: \"FiberId\"\n}) {\n  static annotations = super.annotations;\n}\nconst causeDieEncoded = defect => Struct({\n  _tag: Literal(\"Die\"),\n  defect\n});\nconst CauseEmptyEncoded = /*#__PURE__*/Struct({\n  _tag: /*#__PURE__*/Literal(\"Empty\")\n});\nconst causeFailEncoded = error => Struct({\n  _tag: Literal(\"Fail\"),\n  error\n});\nconst CauseInterruptEncoded = /*#__PURE__*/Struct({\n  _tag: /*#__PURE__*/Literal(\"Interrupt\"),\n  fiberId: FiberIdEncoded\n});\nconst causeParallelEncoded = causeEncoded => Struct({\n  _tag: Literal(\"Parallel\"),\n  left: causeEncoded,\n  right: causeEncoded\n});\nconst causeSequentialEncoded = causeEncoded => Struct({\n  _tag: Literal(\"Sequential\"),\n  left: causeEncoded,\n  right: causeEncoded\n});\nconst causeEncoded = (error, defect) => {\n  const recur = suspend(() => out);\n  const out = Union(CauseEmptyEncoded, causeFailEncoded(error), causeDieEncoded(defect), CauseInterruptEncoded, causeSequentialEncoded(recur), causeParallelEncoded(recur)).annotations({\n    description: `CauseEncoded<${format(error)}>`\n  });\n  return out;\n};\nconst causeArbitrary = (error, defect) => fc => fc.letrec(tie => ({\n  Empty: fc.record({\n    _tag: fc.constant(\"Empty\")\n  }),\n  Fail: fc.record({\n    _tag: fc.constant(\"Fail\"),\n    error: error(fc)\n  }),\n  Die: fc.record({\n    _tag: fc.constant(\"Die\"),\n    defect: defect(fc)\n  }),\n  Interrupt: fc.record({\n    _tag: fc.constant(\"Interrupt\"),\n    fiberId: fiberIdArbitrary(fc)\n  }),\n  Sequential: fc.record({\n    _tag: fc.constant(\"Sequential\"),\n    left: tie(\"Cause\"),\n    right: tie(\"Cause\")\n  }),\n  Parallel: fc.record({\n    _tag: fc.constant(\"Parallel\"),\n    left: tie(\"Cause\"),\n    right: tie(\"Cause\")\n  }),\n  Cause: fc.oneof(tie(\"Empty\"), tie(\"Fail\"), tie(\"Die\"), tie(\"Interrupt\"), tie(\"Sequential\"), tie(\"Parallel\"))\n})).Cause.map(causeDecode);\nconst causePretty = error => cause => {\n  const f = cause => {\n    switch (cause._tag) {\n      case \"Empty\":\n        return \"Cause.empty\";\n      case \"Fail\":\n        return `Cause.fail(${error(cause.error)})`;\n      case \"Die\":\n        return `Cause.die(${effect_Cause__WEBPACK_IMPORTED_MODULE_33__.pretty(cause)})`;\n      case \"Interrupt\":\n        return `Cause.interrupt(${fiberIdPretty(cause.fiberId)})`;\n      case \"Sequential\":\n        return `Cause.sequential(${f(cause.left)}, ${f(cause.right)})`;\n      case \"Parallel\":\n        return `Cause.parallel(${f(cause.left)}, ${f(cause.right)})`;\n    }\n  };\n  return f(cause);\n};\nconst causeParse = decodeUnknown => (u, options, ast) => effect_Cause__WEBPACK_IMPORTED_MODULE_33__.isCause(u) ? toComposite(decodeUnknown(causeEncode(u), options), causeDecode, ast, u) : _ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.fail(new _ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.Type(ast, u));\n/**\n * @category Cause transformations\n * @since 0.67.0\n */\nconst CauseFromSelf = ({\n  defect = Unknown,\n  error\n}) => {\n  return declare([error, defect], {\n    decode: (error, defect) => causeParse(_ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.decodeUnknown(causeEncoded(error, defect))),\n    encode: (error, defect) => causeParse(_ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.encodeUnknown(causeEncoded(error, defect)))\n  }, {\n    description: `Cause<${format(error)}>`,\n    pretty: causePretty,\n    arbitrary: causeArbitrary\n  });\n};\nfunction causeDecode(cause) {\n  switch (cause._tag) {\n    case \"Empty\":\n      return effect_Cause__WEBPACK_IMPORTED_MODULE_33__.empty;\n    case \"Fail\":\n      return effect_Cause__WEBPACK_IMPORTED_MODULE_33__.fail(cause.error);\n    case \"Die\":\n      return effect_Cause__WEBPACK_IMPORTED_MODULE_33__.die(cause.defect);\n    case \"Interrupt\":\n      return effect_Cause__WEBPACK_IMPORTED_MODULE_33__.interrupt(fiberIdDecode(cause.fiberId));\n    case \"Sequential\":\n      return effect_Cause__WEBPACK_IMPORTED_MODULE_33__.sequential(causeDecode(cause.left), causeDecode(cause.right));\n    case \"Parallel\":\n      return effect_Cause__WEBPACK_IMPORTED_MODULE_33__.parallel(causeDecode(cause.left), causeDecode(cause.right));\n  }\n}\nfunction causeEncode(cause) {\n  switch (cause._tag) {\n    case \"Empty\":\n      return {\n        _tag: \"Empty\"\n      };\n    case \"Fail\":\n      return {\n        _tag: \"Fail\",\n        error: cause.error\n      };\n    case \"Die\":\n      return {\n        _tag: \"Die\",\n        defect: cause.defect\n      };\n    case \"Interrupt\":\n      return {\n        _tag: \"Interrupt\",\n        fiberId: cause.fiberId\n      };\n    case \"Sequential\":\n      return {\n        _tag: \"Sequential\",\n        left: causeEncode(cause.left),\n        right: causeEncode(cause.right)\n      };\n    case \"Parallel\":\n      return {\n        _tag: \"Parallel\",\n        left: causeEncode(cause.left),\n        right: causeEncode(cause.right)\n      };\n  }\n}\n/**\n * @category Cause transformations\n * @since 0.67.0\n */\nconst CauseDefectUnknown = /*#__PURE__*/transform(Unknown, Unknown, {\n  strict: true,\n  decode: u => {\n    if (effect_Predicate__WEBPACK_IMPORTED_MODULE_8__.isObject(u) && \"message\" in u && typeof u.message === \"string\") {\n      const err = new Error(u.message, {\n        cause: u\n      });\n      if (\"name\" in u && typeof u.name === \"string\") {\n        err.name = u.name;\n      }\n      err.stack = \"stack\" in u && typeof u.stack === \"string\" ? u.stack : \"\";\n      return err;\n    }\n    return String(u);\n  },\n  encode: defect => {\n    if (defect instanceof Error) {\n      return {\n        name: defect.name,\n        message: defect.message\n      };\n    }\n    return String(defect);\n  }\n});\n/**\n * @category Cause transformations\n * @since 0.67.0\n */\nconst Cause = ({\n  defect = CauseDefectUnknown,\n  error\n}) => {\n  const error_ = asSchema(error);\n  return transform(causeEncoded(error_, defect), CauseFromSelf({\n    error: typeSchema(error_),\n    defect: typeSchema(defect)\n  }), {\n    strict: true,\n    decode: causeDecode,\n    encode: causeEncode\n  });\n};\nconst exitFailureEncoded = (error, defect) => Struct({\n  _tag: Literal(\"Failure\"),\n  cause: causeEncoded(error, defect)\n}).annotations({\n  description: `FailureEncoded<${format(error)}>`\n});\nconst exitSuccessEncoded = value => Struct({\n  _tag: Literal(\"Success\"),\n  value\n}).annotations({\n  description: `SuccessEncoded<${format(value)}>`\n});\nconst exitEncoded = (value, error, defect) => Union(exitFailureEncoded(error, defect), exitSuccessEncoded(value)).annotations({\n  description: `ExitEncoded<${format(value)}, ${format(error)}>`\n});\nconst exitDecode = input => {\n  switch (input._tag) {\n    case \"Failure\":\n      return effect_Exit__WEBPACK_IMPORTED_MODULE_34__.failCause(causeDecode(input.cause));\n    case \"Success\":\n      return effect_Exit__WEBPACK_IMPORTED_MODULE_34__.succeed(input.value);\n  }\n};\nconst exitArbitrary = (value, error, defect) => fc => fc.oneof(fc.record({\n  _tag: fc.constant(\"Failure\"),\n  cause: causeArbitrary(error, defect)(fc)\n}), fc.record({\n  _tag: fc.constant(\"Success\"),\n  value: value(fc)\n})).map(exitDecode);\nconst exitPretty = (value, error) => exit => exit._tag === \"Failure\" ? `Exit.failCause(${causePretty(error)(exit.cause)})` : `Exit.succeed(${value(exit.value)})`;\nconst exitParse = (decodeUnknownValue, decodeUnknownCause) => (u, options, ast) => effect_Exit__WEBPACK_IMPORTED_MODULE_34__.isExit(u) ? effect_Exit__WEBPACK_IMPORTED_MODULE_34__.match(u, {\n  onFailure: cause => toComposite(decodeUnknownCause(cause, options), effect_Exit__WEBPACK_IMPORTED_MODULE_34__.failCause, ast, u),\n  onSuccess: value => toComposite(decodeUnknownValue(value, options), effect_Exit__WEBPACK_IMPORTED_MODULE_34__.succeed, ast, u)\n}) : _ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.fail(new _ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.Type(ast, u));\n/**\n * @category Exit transformations\n * @since 0.67.0\n */\nconst ExitFromSelf = ({\n  defect = Unknown,\n  failure,\n  success\n}) => declare([success, failure, defect], {\n  decode: (success, failure, defect) => exitParse(_ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.decodeUnknown(success), _ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.decodeUnknown(CauseFromSelf({\n    error: failure,\n    defect\n  }))),\n  encode: (success, failure, defect) => exitParse(_ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.encodeUnknown(success), _ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.encodeUnknown(CauseFromSelf({\n    error: failure,\n    defect\n  })))\n}, {\n  description: `Exit<${format(success)}, ${format(failure)}>`,\n  pretty: exitPretty,\n  arbitrary: exitArbitrary\n});\n/**\n * @category Exit transformations\n * @since 0.67.0\n */\nconst Exit = ({\n  defect = CauseDefectUnknown,\n  failure,\n  success\n}) => {\n  const success_ = asSchema(success);\n  const failure_ = asSchema(failure);\n  return transform(exitEncoded(success_, failure_, defect), ExitFromSelf({\n    failure: typeSchema(failure_),\n    success: typeSchema(success_),\n    defect: typeSchema(defect)\n  }), {\n    strict: true,\n    decode: exitDecode,\n    encode: exit => exit._tag === \"Failure\" ? {\n      _tag: \"Failure\",\n      cause: exit.cause\n    } : {\n      _tag: \"Success\",\n      value: exit.value\n    }\n  });\n};\nconst hashSetArbitrary = item => fc => fc.array(item(fc)).map(as => effect_HashSet__WEBPACK_IMPORTED_MODULE_35__.fromIterable(as));\nconst hashSetPretty = item => set => `HashSet(${Array.from(set).map(a => item(a)).join(\", \")})`;\nconst hashSetEquivalence = item => {\n  const arrayEquivalence = effect_Array__WEBPACK_IMPORTED_MODULE_9__.getEquivalence(item);\n  return effect_Equivalence__WEBPACK_IMPORTED_MODULE_24__.make((a, b) => arrayEquivalence(Array.from(a), Array.from(b)));\n};\nconst hashSetParse = decodeUnknown => (u, options, ast) => effect_HashSet__WEBPACK_IMPORTED_MODULE_35__.isHashSet(u) ? toComposite(decodeUnknown(Array.from(u), options), effect_HashSet__WEBPACK_IMPORTED_MODULE_35__.fromIterable, ast, u) : _ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.fail(new _ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.Type(ast, u));\n/**\n * @category HashSet transformations\n * @since 0.67.0\n */\nconst HashSetFromSelf = value => {\n  return declare([value], {\n    decode: item => hashSetParse(_ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.decodeUnknown(Array$(item))),\n    encode: item => hashSetParse(_ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.encodeUnknown(Array$(item)))\n  }, {\n    description: `HashSet<${format(value)}>`,\n    pretty: hashSetPretty,\n    arbitrary: hashSetArbitrary,\n    equivalence: hashSetEquivalence\n  });\n};\n/**\n * @category HashSet transformations\n * @since 0.67.0\n */\nconst HashSet = value => {\n  const value_ = asSchema(value);\n  return transform(Array$(value_), HashSetFromSelf(typeSchema(value_)), {\n    strict: true,\n    decode: as => effect_HashSet__WEBPACK_IMPORTED_MODULE_35__.fromIterable(as),\n    encode: set => Array.from(set)\n  });\n};\nconst hashMapArbitrary = (key, value) => fc => fc.array(fc.tuple(key(fc), value(fc))).map(as => effect_HashMap__WEBPACK_IMPORTED_MODULE_36__.fromIterable(as));\nconst hashMapPretty = (key, value) => map => `HashMap([${Array.from(map).map(([k, v]) => `[${key(k)}, ${value(v)}]`).join(\", \")}])`;\nconst hashMapEquivalence = (key, value) => {\n  const arrayEquivalence = effect_Array__WEBPACK_IMPORTED_MODULE_9__.getEquivalence(effect_Equivalence__WEBPACK_IMPORTED_MODULE_24__.make(([ka, va], [kb, vb]) => key(ka, kb) && value(va, vb)));\n  return effect_Equivalence__WEBPACK_IMPORTED_MODULE_24__.make((a, b) => arrayEquivalence(Array.from(a), Array.from(b)));\n};\nconst hashMapParse = decodeUnknown => (u, options, ast) => effect_HashMap__WEBPACK_IMPORTED_MODULE_36__.isHashMap(u) ? toComposite(decodeUnknown(Array.from(u), options), effect_HashMap__WEBPACK_IMPORTED_MODULE_36__.fromIterable, ast, u) : _ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.fail(new _ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.Type(ast, u));\n/**\n * @category HashMap transformations\n * @since 0.67.0\n */\nconst HashMapFromSelf = ({\n  key,\n  value\n}) => {\n  return declare([key, value], {\n    decode: (key, value) => hashMapParse(_ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.decodeUnknown(Array$(Tuple(key, value)))),\n    encode: (key, value) => hashMapParse(_ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.encodeUnknown(Array$(Tuple(key, value))))\n  }, {\n    description: `HashMap<${format(key)}, ${format(value)}>`,\n    pretty: hashMapPretty,\n    arbitrary: hashMapArbitrary,\n    equivalence: hashMapEquivalence\n  });\n};\n/**\n * @category HashMap transformations\n * @since 0.67.0\n */\nconst HashMap = ({\n  key,\n  value\n}) => {\n  const key_ = asSchema(key);\n  const value_ = asSchema(value);\n  return transform(Array$(Tuple(key_, value_)), HashMapFromSelf({\n    key: typeSchema(key_),\n    value: typeSchema(value_)\n  }), {\n    strict: true,\n    decode: as => effect_HashMap__WEBPACK_IMPORTED_MODULE_36__.fromIterable(as),\n    encode: map => Array.from(map)\n  });\n};\nconst listArbitrary = item => fc => fc.array(item(fc)).map(as => effect_List__WEBPACK_IMPORTED_MODULE_37__.fromIterable(as));\nconst listPretty = item => set => `List(${Array.from(set).map(a => item(a)).join(\", \")})`;\nconst listEquivalence = item => {\n  const arrayEquivalence = effect_Array__WEBPACK_IMPORTED_MODULE_9__.getEquivalence(item);\n  return effect_Equivalence__WEBPACK_IMPORTED_MODULE_24__.make((a, b) => arrayEquivalence(Array.from(a), Array.from(b)));\n};\nconst listParse = decodeUnknown => (u, options, ast) => effect_List__WEBPACK_IMPORTED_MODULE_37__.isList(u) ? toComposite(decodeUnknown(Array.from(u), options), effect_List__WEBPACK_IMPORTED_MODULE_37__.fromIterable, ast, u) : _ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.fail(new _ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.Type(ast, u));\n/**\n * @category List transformations\n * @since 0.67.0\n */\nconst ListFromSelf = value => {\n  return declare([value], {\n    decode: item => listParse(_ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.decodeUnknown(Array$(item))),\n    encode: item => listParse(_ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.encodeUnknown(Array$(item)))\n  }, {\n    description: `List<${format(value)}>`,\n    pretty: listPretty,\n    arbitrary: listArbitrary,\n    equivalence: listEquivalence\n  });\n};\n/**\n * @category List transformations\n * @since 0.67.0\n */\nconst List = value => {\n  const value_ = asSchema(value);\n  return transform(Array$(value_), ListFromSelf(typeSchema(value_)), {\n    strict: true,\n    decode: as => effect_List__WEBPACK_IMPORTED_MODULE_37__.fromIterable(as),\n    encode: set => Array.from(set)\n  });\n};\nconst sortedSetArbitrary = (item, ord) => fc => fc.array(item(fc)).map(as => effect_SortedSet__WEBPACK_IMPORTED_MODULE_38__.fromIterable(as, ord));\nconst sortedSetPretty = item => set => `new SortedSet([${Array.from(effect_SortedSet__WEBPACK_IMPORTED_MODULE_38__.values(set)).map(a => item(a)).join(\", \")}])`;\nconst sortedSetParse = (decodeUnknown, ord) => (u, options, ast) => effect_SortedSet__WEBPACK_IMPORTED_MODULE_38__.isSortedSet(u) ? toComposite(decodeUnknown(Array.from(effect_SortedSet__WEBPACK_IMPORTED_MODULE_38__.values(u)), options), as => effect_SortedSet__WEBPACK_IMPORTED_MODULE_38__.fromIterable(as, ord), ast, u) : _ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.fail(new _ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.Type(ast, u));\n/**\n * @category SortedSet transformations\n * @since 0.67.0\n */\nconst SortedSetFromSelf = (value, ordA, ordI) => {\n  return declare([value], {\n    decode: item => sortedSetParse(_ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.decodeUnknown(Array$(item)), ordA),\n    encode: item => sortedSetParse(_ParseResult_js__WEBPACK_IMPORTED_MODULE_5__.encodeUnknown(Array$(item)), ordI)\n  }, {\n    description: `SortedSet<${format(value)}>`,\n    pretty: sortedSetPretty,\n    arbitrary: arb => sortedSetArbitrary(arb, ordA),\n    equivalence: () => effect_SortedSet__WEBPACK_IMPORTED_MODULE_38__.getEquivalence()\n  });\n};\n/**\n * @category SortedSet transformations\n * @since 0.67.0\n */\nconst SortedSet = (value, ordA) => {\n  const value_ = asSchema(value);\n  const to = typeSchema(value_);\n  return transform(Array$(value_), SortedSetFromSelf(to, ordA, ordA), {\n    strict: true,\n    decode: as => effect_SortedSet__WEBPACK_IMPORTED_MODULE_38__.fromIterable(as, ordA),\n    encode: set => Array.from(effect_SortedSet__WEBPACK_IMPORTED_MODULE_38__.values(set))\n  });\n};\n/**\n * Converts an arbitrary value to a `boolean` by testing whether it is truthy.\n * Uses `!!val` to coerce the value to a `boolean`.\n *\n * @see https://developer.mozilla.org/docs/Glossary/Truthy\n * @category boolean constructors\n * @since 0.67.0\n */\nclass BooleanFromUnknown extends transform(Unknown, Boolean$, {\n  strict: true,\n  decode: effect_Predicate__WEBPACK_IMPORTED_MODULE_8__.isTruthy,\n  encode: effect_Function__WEBPACK_IMPORTED_MODULE_12__.identity\n}).annotations({\n  identifier: \"BooleanFromUnknown\"\n}) {\n  static annotations = super.annotations;\n}\n/**\n * @category Config validations\n * @since 0.67.12\n */\nconst Config = (name, schema) => {\n  const decodeEither_ = decodeEither(schema);\n  return effect_Config__WEBPACK_IMPORTED_MODULE_39__.string(name).pipe(effect_Config__WEBPACK_IMPORTED_MODULE_39__.mapOrFail(a => decodeEither_(a).pipe(effect_Either__WEBPACK_IMPORTED_MODULE_6__.mapLeft(error => effect_ConfigError__WEBPACK_IMPORTED_MODULE_40__.InvalidData([], _TreeFormatter_js__WEBPACK_IMPORTED_MODULE_41__.formatErrorSync(error))))));\n};\n//# sourceMappingURL=Schema.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGVmZmVjdC9zY2hlbWEvZGlzdC9lc20vU2NoZW1hLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ3VDO0FBQ1U7QUFDUjtBQUNFO0FBQ0o7QUFDQTtBQUNFO0FBQ1U7QUFDZDtBQUNRO0FBQ0w7QUFDQztBQUNHO0FBQ047QUFDWTtBQUNiO0FBQ007QUFDTTtBQUNOO0FBQ0E7QUFDTjtBQUNJO0FBQ0E7QUFDTztBQUNGO0FBQ0w7QUFDSTtBQUNIO0FBQ0s7QUFDTjtBQUNBO0FBQ0k7QUFDYjtBQUNpQjtBQUNKO0FBQ0c7QUFDRTtBQUNVO0FBQ2hCO0FBQ0k7QUFDVDtBQUNhO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyw4REFBYTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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QUNPO0FBQ1A7QUFDQSxTQUFTLGtEQUFjLFlBQVkscURBQWlCLDRCQUE0QixrREFBZSxVQUFVLDREQUF3QixLQUFLLCtEQUE2QjtBQUNuSztBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2FzZWNvYnJhLWRldi8uL25vZGVfbW9kdWxlcy9AZWZmZWN0L3NjaGVtYS9kaXN0L2VzbS9TY2hlbWEuanM/MmU4NiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuaW1wb3J0ICogYXMgYXJyYXlfIGZyb20gXCJlZmZlY3QvQXJyYXlcIjtcbmltcG9ydCAqIGFzIGJpZ0RlY2ltYWxfIGZyb20gXCJlZmZlY3QvQmlnRGVjaW1hbFwiO1xuaW1wb3J0ICogYXMgYmlnSW50XyBmcm9tIFwiZWZmZWN0L0JpZ0ludFwiO1xuaW1wb3J0ICogYXMgYm9vbGVhbl8gZnJvbSBcImVmZmVjdC9Cb29sZWFuXCI7XG5pbXBvcnQgKiBhcyBjYXVzZV8gZnJvbSBcImVmZmVjdC9DYXVzZVwiO1xuaW1wb3J0ICogYXMgY2h1bmtfIGZyb20gXCJlZmZlY3QvQ2h1bmtcIjtcbmltcG9ydCAqIGFzIGNvbmZpZ18gZnJvbSBcImVmZmVjdC9Db25maWdcIjtcbmltcG9ydCAqIGFzIGNvbmZpZ0Vycm9yXyBmcm9tIFwiZWZmZWN0L0NvbmZpZ0Vycm9yXCI7XG5pbXBvcnQgKiBhcyBkYXRhXyBmcm9tIFwiZWZmZWN0L0RhdGFcIjtcbmltcG9ydCAqIGFzIGR1cmF0aW9uXyBmcm9tIFwiZWZmZWN0L0R1cmF0aW9uXCI7XG5pbXBvcnQgKiBhcyBFZmZlY3QgZnJvbSBcImVmZmVjdC9FZmZlY3RcIjtcbmltcG9ydCAqIGFzIGVpdGhlcl8gZnJvbSBcImVmZmVjdC9FaXRoZXJcIjtcbmltcG9ydCAqIGFzIEVuY29kaW5nIGZyb20gXCJlZmZlY3QvRW5jb2RpbmdcIjtcbmltcG9ydCAqIGFzIEVxdWFsIGZyb20gXCJlZmZlY3QvRXF1YWxcIjtcbmltcG9ydCAqIGFzIEVxdWl2YWxlbmNlIGZyb20gXCJlZmZlY3QvRXF1aXZhbGVuY2VcIjtcbmltcG9ydCAqIGFzIGV4aXRfIGZyb20gXCJlZmZlY3QvRXhpdFwiO1xuaW1wb3J0ICogYXMgZmliZXJJZF8gZnJvbSBcImVmZmVjdC9GaWJlcklkXCI7XG5pbXBvcnQgeyBkdWFsLCBpZGVudGl0eSB9IGZyb20gXCJlZmZlY3QvRnVuY3Rpb25cIjtcbmltcG9ydCAqIGFzIGhhc2hNYXBfIGZyb20gXCJlZmZlY3QvSGFzaE1hcFwiO1xuaW1wb3J0ICogYXMgaGFzaFNldF8gZnJvbSBcImVmZmVjdC9IYXNoU2V0XCI7XG5pbXBvcnQgKiBhcyBsaXN0XyBmcm9tIFwiZWZmZWN0L0xpc3RcIjtcbmltcG9ydCAqIGFzIG51bWJlcl8gZnJvbSBcImVmZmVjdC9OdW1iZXJcIjtcbmltcG9ydCAqIGFzIG9wdGlvbl8gZnJvbSBcImVmZmVjdC9PcHRpb25cIjtcbmltcG9ydCB7IHBpcGVBcmd1bWVudHMgfSBmcm9tIFwiZWZmZWN0L1BpcGVhYmxlXCI7XG5pbXBvcnQgKiBhcyBQcmVkaWNhdGUgZnJvbSBcImVmZmVjdC9QcmVkaWNhdGVcIjtcbmltcG9ydCAqIGFzIHJlY29yZF8gZnJvbSBcImVmZmVjdC9SZWNvcmRcIjtcbmltcG9ydCAqIGFzIHJlZGFjdGVkXyBmcm9tIFwiZWZmZWN0L1JlZGFjdGVkXCI7XG5pbXBvcnQgKiBhcyBSZXF1ZXN0IGZyb20gXCJlZmZlY3QvUmVxdWVzdFwiO1xuaW1wb3J0ICogYXMgc29ydGVkU2V0XyBmcm9tIFwiZWZmZWN0L1NvcnRlZFNldFwiO1xuaW1wb3J0ICogYXMgc3RyaW5nXyBmcm9tIFwiZWZmZWN0L1N0cmluZ1wiO1xuaW1wb3J0ICogYXMgc3RydWN0XyBmcm9tIFwiZWZmZWN0L1N0cnVjdFwiO1xuaW1wb3J0ICogYXMgYXJiaXRyYXJ5XyBmcm9tIFwiLi9BcmJpdHJhcnkuanNcIjtcbmltcG9ydCAqIGFzIEFTVCBmcm9tIFwiLi9BU1QuanNcIjtcbmltcG9ydCAqIGFzIGVxdWl2YWxlbmNlXyBmcm9tIFwiLi9FcXVpdmFsZW5jZS5qc1wiO1xuaW1wb3J0ICogYXMgZmFzdENoZWNrXyBmcm9tIFwiLi9GYXN0Q2hlY2suanNcIjtcbmltcG9ydCAqIGFzIGVycm9yc18gZnJvbSBcIi4vaW50ZXJuYWwvZXJyb3JzLmpzXCI7XG5pbXBvcnQgKiBhcyBmaWx0ZXJzXyBmcm9tIFwiLi9pbnRlcm5hbC9maWx0ZXJzLmpzXCI7XG5pbXBvcnQgKiBhcyBzZXJpYWxpemFibGVfIGZyb20gXCIuL2ludGVybmFsL3NlcmlhbGl6YWJsZS5qc1wiO1xuaW1wb3J0ICogYXMgdXRpbF8gZnJvbSBcIi4vaW50ZXJuYWwvdXRpbC5qc1wiO1xuaW1wb3J0ICogYXMgUGFyc2VSZXN1bHQgZnJvbSBcIi4vUGFyc2VSZXN1bHQuanNcIjtcbmltcG9ydCAqIGFzIHByZXR0eV8gZnJvbSBcIi4vUHJldHR5LmpzXCI7XG5pbXBvcnQgKiBhcyBUcmVlRm9ybWF0dGVyIGZyb20gXCIuL1RyZWVGb3JtYXR0ZXIuanNcIjtcbi8qKlxuICogQHNpbmNlIDAuNjcuMFxuICogQGNhdGVnb3J5IHN5bWJvbFxuICovXG5leHBvcnQgY29uc3QgVHlwZUlkID0gLyojX19QVVJFX18qL1N5bWJvbC5mb3IoXCJAZWZmZWN0L3NjaGVtYS9TY2hlbWFcIik7XG4vKipcbiAqIEBjYXRlZ29yeSBjb25zdHJ1Y3RvcnNcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNvbnN0IG1ha2UgPSBhc3QgPT4gY2xhc3MgU2NoZW1hQ2xhc3Mge1xuICBbVHlwZUlkXSA9IHZhcmlhbmNlO1xuICBzdGF0aWMgVHlwZTtcbiAgc3RhdGljIEVuY29kZWQ7XG4gIHN0YXRpYyBbVHlwZUlkXSA9IHZhcmlhbmNlO1xuICBzdGF0aWMgYXN0ID0gYXN0O1xuICBzdGF0aWMgYW5ub3RhdGlvbnMoYW5ub3RhdGlvbnMpIHtcbiAgICByZXR1cm4gbWFrZShtZXJnZVNjaGVtYUFubm90YXRpb25zKHRoaXMuYXN0LCBhbm5vdGF0aW9ucykpO1xuICB9XG4gIHN0YXRpYyBwaXBlKCkge1xuICAgIHJldHVybiBwaXBlQXJndW1lbnRzKHRoaXMsIGFyZ3VtZW50cyk7XG4gIH1cbiAgc3RhdGljIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiBTdHJpbmcoYXN0KTtcbiAgfVxufTtcbmNvbnN0IHZhcmlhbmNlID0ge1xuICAvKiBjOCBpZ25vcmUgbmV4dCAqL1xuICBfQTogXyA9PiBfLFxuICAvKiBjOCBpZ25vcmUgbmV4dCAqL1xuICBfSTogXyA9PiBfLFxuICAvKiBjOCBpZ25vcmUgbmV4dCAqL1xuICBfUjogXyA9PiBfXG59O1xuY29uc3QgdG9BU1RBbm5vdGF0aW9ucyA9IGFubm90YXRpb25zID0+IHtcbiAgaWYgKCFhbm5vdGF0aW9ucykge1xuICAgIHJldHVybiB7fTtcbiAgfVxuICBjb25zdCBvdXQgPSB7fTtcbiAgLy8gc3ltYm9scyBhcmUgcmVzZXJ2ZWQgZm9yIGN1c3RvbSBhbm5vdGF0aW9uc1xuICBjb25zdCBjdXN0b20gPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGFubm90YXRpb25zKTtcbiAgZm9yIChjb25zdCBzeW0gb2YgY3VzdG9tKSB7XG4gICAgb3V0W3N5bV0gPSBhbm5vdGF0aW9uc1tzeW1dO1xuICB9XG4gIC8vIHN0cmluZyBrZXlzIGFyZSByZXNlcnZlZCBhcyAvc2NoZW1hIG5hbWVzcGFjZVxuICBpZiAoYW5ub3RhdGlvbnMudHlwZUlkICE9PSB1bmRlZmluZWQpIHtcbiAgICBjb25zdCB0eXBlSWQgPSBhbm5vdGF0aW9ucy50eXBlSWQ7XG4gICAgaWYgKHR5cGVvZiB0eXBlSWQgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgIG91dFtBU1QuVHlwZUFubm90YXRpb25JZF0gPSB0eXBlSWQuaWQ7XG4gICAgICBvdXRbdHlwZUlkLmlkXSA9IHR5cGVJZC5hbm5vdGF0aW9uO1xuICAgIH0gZWxzZSB7XG4gICAgICBvdXRbQVNULlR5cGVBbm5vdGF0aW9uSWRdID0gdHlwZUlkO1xuICAgIH1cbiAgfVxuICBjb25zdCBtb3ZlID0gKGZyb20sIHRvKSA9PiB7XG4gICAgaWYgKGFubm90YXRpb25zW2Zyb21dICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIG91dFt0b10gPSBhbm5vdGF0aW9uc1tmcm9tXTtcbiAgICB9XG4gIH07XG4gIG1vdmUoXCJtZXNzYWdlXCIsIEFTVC5NZXNzYWdlQW5ub3RhdGlvbklkKTtcbiAgbW92ZShcIm1pc3NpbmdNZXNzYWdlXCIsIEFTVC5NaXNzaW5nTWVzc2FnZUFubm90YXRpb25JZCk7XG4gIG1vdmUoXCJpZGVudGlmaWVyXCIsIEFTVC5JZGVudGlmaWVyQW5ub3RhdGlvbklkKTtcbiAgbW92ZShcInRpdGxlXCIsIEFTVC5UaXRsZUFubm90YXRpb25JZCk7XG4gIG1vdmUoXCJkZXNjcmlwdGlvblwiLCBBU1QuRGVzY3JpcHRpb25Bbm5vdGF0aW9uSWQpO1xuICBtb3ZlKFwiZXhhbXBsZXNcIiwgQVNULkV4YW1wbGVzQW5ub3RhdGlvbklkKTtcbiAgbW92ZShcImRlZmF1bHRcIiwgQVNULkRlZmF1bHRBbm5vdGF0aW9uSWQpO1xuICBtb3ZlKFwiZG9jdW1lbnRhdGlvblwiLCBBU1QuRG9jdW1lbnRhdGlvbkFubm90YXRpb25JZCk7XG4gIG1vdmUoXCJqc29uU2NoZW1hXCIsIEFTVC5KU09OU2NoZW1hQW5ub3RhdGlvbklkKTtcbiAgbW92ZShcImFyYml0cmFyeVwiLCBhcmJpdHJhcnlfLkFyYml0cmFyeUhvb2tJZCk7XG4gIG1vdmUoXCJwcmV0dHlcIiwgcHJldHR5Xy5QcmV0dHlIb29rSWQpO1xuICBtb3ZlKFwiZXF1aXZhbGVuY2VcIiwgZXF1aXZhbGVuY2VfLkVxdWl2YWxlbmNlSG9va0lkKTtcbiAgbW92ZShcImNvbmN1cnJlbmN5XCIsIEFTVC5Db25jdXJyZW5jeUFubm90YXRpb25JZCk7XG4gIG1vdmUoXCJiYXRjaGluZ1wiLCBBU1QuQmF0Y2hpbmdBbm5vdGF0aW9uSWQpO1xuICBtb3ZlKFwicGFyc2VJc3N1ZVRpdGxlXCIsIEFTVC5QYXJzZUlzc3VlVGl0bGVBbm5vdGF0aW9uSWQpO1xuICBtb3ZlKFwicGFyc2VPcHRpb25zXCIsIEFTVC5QYXJzZU9wdGlvbnNBbm5vdGF0aW9uSWQpO1xuICByZXR1cm4gb3V0O1xufTtcbmNvbnN0IG1lcmdlU2NoZW1hQW5ub3RhdGlvbnMgPSAoYXN0LCBhbm5vdGF0aW9ucykgPT4gQVNULmFubm90YXRpb25zKGFzdCwgdG9BU1RBbm5vdGF0aW9ucyhhbm5vdGF0aW9ucykpO1xuLyoqXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjb25zdCBhc1NjaGVtYSA9IHNjaGVtYSA9PiBzY2hlbWE7XG4vKipcbiAqIEBjYXRlZ29yeSBmb3JtYXR0aW5nXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjb25zdCBmb3JtYXQgPSBzY2hlbWEgPT4gU3RyaW5nKHNjaGVtYS5hc3QpO1xuLyoqXG4gKiBUaGUgYGVuY29kZWRTY2hlbWFgIGZ1bmN0aW9uIGFsbG93cyB5b3UgdG8gZXh0cmFjdCB0aGUgYEVuY29kZWRgIHBvcnRpb24gb2YgYVxuICogc2NoZW1hLCBjcmVhdGluZyBhIG5ldyBzY2hlbWEgdGhhdCBjb25mb3JtcyB0byB0aGUgcHJvcGVydGllcyBkZWZpbmVkIGluIHRoZVxuICogb3JpZ2luYWwgc2NoZW1hIHdpdGhvdXQgcmV0YWluaW5nIGFueSByZWZpbmVtZW50cyBvciB0cmFuc2Zvcm1hdGlvbnMgdGhhdFxuICogd2VyZSBhcHBsaWVkIHByZXZpb3VzbHkuXG4gKlxuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY29uc3QgZW5jb2RlZFNjaGVtYSA9IHNjaGVtYSA9PiBtYWtlKEFTVC5lbmNvZGVkQVNUKHNjaGVtYS5hc3QpKTtcbi8qKlxuICogVGhlIGBlbmNvZGVkQm91bmRTY2hlbWFgIGZ1bmN0aW9uIGlzIHNpbWlsYXIgdG8gYGVuY29kZWRTY2hlbWFgIGJ1dCBwcmVzZXJ2ZXNcbiAqIHRoZSByZWZpbmVtZW50cyB1cCB0byB0aGUgZmlyc3QgdHJhbnNmb3JtYXRpb24gcG9pbnQgaW4gdGhlIG9yaWdpbmFsIHNjaGVtYS5cbiAqXG4gKiBAc2luY2UgMC42Ny4xN1xuICovXG5leHBvcnQgY29uc3QgZW5jb2RlZEJvdW5kU2NoZW1hID0gc2NoZW1hID0+IG1ha2UoQVNULmVuY29kZWRCb3VuZEFTVChzY2hlbWEuYXN0KSk7XG4vKipcbiAqIFRoZSBgdHlwZVNjaGVtYWAgZnVuY3Rpb24gYWxsb3dzIHlvdSB0byBleHRyYWN0IHRoZSBgVHlwZWAgcG9ydGlvbiBvZiBhXG4gKiBzY2hlbWEsIGNyZWF0aW5nIGEgbmV3IHNjaGVtYSB0aGF0IGNvbmZvcm1zIHRvIHRoZSBwcm9wZXJ0aWVzIGRlZmluZWQgaW4gdGhlXG4gKiBvcmlnaW5hbCBzY2hlbWEgd2l0aG91dCBjb25zaWRlcmluZyB0aGUgaW5pdGlhbCBlbmNvZGluZyBvciB0cmFuc2Zvcm1hdGlvblxuICogcHJvY2Vzc2VzLlxuICpcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNvbnN0IHR5cGVTY2hlbWEgPSBzY2hlbWEgPT4gbWFrZShBU1QudHlwZUFTVChzY2hlbWEuYXN0KSk7XG4vKiBjOCBpZ25vcmUgc3RhcnQgKi9cbmV4cG9ydCB7XG4vKipcbiAqIEJ5IGRlZmF1bHQgdGhlIG9wdGlvbiBgZXhhY3RgIGlzIHNldCB0byBgdHJ1ZWAuXG4gKlxuICogQHRocm93cyBgUGFyc2VFcnJvcmBcbiAqIEBjYXRlZ29yeSB2YWxpZGF0aW9uXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmFzc2VydHMsXG4vKipcbiAqIEBjYXRlZ29yeSBkZWNvZGluZ1xuICogQHNpbmNlIDAuNjcuMFxuICovXG5kZWNvZGVPcHRpb24sXG4vKipcbiAqIEB0aHJvd3MgYFBhcnNlRXJyb3JgXG4gKiBAY2F0ZWdvcnkgZGVjb2RpbmdcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZGVjb2RlU3luYyxcbi8qKlxuICogQGNhdGVnb3J5IGRlY29kaW5nXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmRlY29kZVVua25vd25PcHRpb24sXG4vKipcbiAqIEB0aHJvd3MgYFBhcnNlRXJyb3JgXG4gKiBAY2F0ZWdvcnkgZGVjb2RpbmdcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZGVjb2RlVW5rbm93blN5bmMsXG4vKipcbiAqIEBjYXRlZ29yeSBlbmNvZGluZ1xuICogQHNpbmNlIDAuNjcuMFxuICovXG5lbmNvZGVPcHRpb24sXG4vKipcbiAqIEB0aHJvd3MgYFBhcnNlRXJyb3JgXG4gKiBAY2F0ZWdvcnkgZW5jb2RpbmdcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZW5jb2RlU3luYyxcbi8qKlxuICogQGNhdGVnb3J5IGVuY29kaW5nXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmVuY29kZVVua25vd25PcHRpb24sXG4vKipcbiAqIEB0aHJvd3MgYFBhcnNlRXJyb3JgXG4gKiBAY2F0ZWdvcnkgZW5jb2RpbmdcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZW5jb2RlVW5rbm93blN5bmMsXG4vKipcbiAqIEJ5IGRlZmF1bHQgdGhlIG9wdGlvbiBgZXhhY3RgIGlzIHNldCB0byBgdHJ1ZWAuXG4gKlxuICogQGNhdGVnb3J5IHZhbGlkYXRpb25cbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuaXMsXG4vKipcbiAqIEBjYXRlZ29yeSB2YWxpZGF0aW9uXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbnZhbGlkYXRlT3B0aW9uLFxuLyoqXG4gKiBAdGhyb3dzIGBQYXJzZUVycm9yYFxuICogQGNhdGVnb3J5IHZhbGlkYXRpb25cbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xudmFsaWRhdGVTeW5jIH0gZnJvbSBcIi4vUGFyc2VSZXN1bHQuanNcIjtcbi8qIGM4IGlnbm9yZSBlbmQgKi9cbi8qKlxuICogQGNhdGVnb3J5IGVuY29kaW5nXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjb25zdCBlbmNvZGVVbmtub3duID0gKHNjaGVtYSwgb3B0aW9ucykgPT4ge1xuICBjb25zdCBlbmNvZGVVbmtub3duID0gUGFyc2VSZXN1bHQuZW5jb2RlVW5rbm93bihzY2hlbWEsIG9wdGlvbnMpO1xuICByZXR1cm4gKHUsIG92ZXJyaWRlT3B0aW9ucykgPT4gUGFyc2VSZXN1bHQubWFwRXJyb3IoZW5jb2RlVW5rbm93bih1LCBvdmVycmlkZU9wdGlvbnMpLCBQYXJzZVJlc3VsdC5wYXJzZUVycm9yKTtcbn07XG4vKipcbiAqIEBjYXRlZ29yeSBlbmNvZGluZ1xuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY29uc3QgZW5jb2RlVW5rbm93bkVpdGhlciA9IChzY2hlbWEsIG9wdGlvbnMpID0+IHtcbiAgY29uc3QgZW5jb2RlVW5rbm93bkVpdGhlciA9IFBhcnNlUmVzdWx0LmVuY29kZVVua25vd25FaXRoZXIoc2NoZW1hLCBvcHRpb25zKTtcbiAgcmV0dXJuICh1LCBvdmVycmlkZU9wdGlvbnMpID0+IGVpdGhlcl8ubWFwTGVmdChlbmNvZGVVbmtub3duRWl0aGVyKHUsIG92ZXJyaWRlT3B0aW9ucyksIFBhcnNlUmVzdWx0LnBhcnNlRXJyb3IpO1xufTtcbi8qKlxuICogQGNhdGVnb3J5IGVuY29kaW5nXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjb25zdCBlbmNvZGVVbmtub3duUHJvbWlzZSA9IChzY2hlbWEsIG9wdGlvbnMpID0+IHtcbiAgY29uc3QgcGFyc2VyID0gZW5jb2RlVW5rbm93bihzY2hlbWEsIG9wdGlvbnMpO1xuICByZXR1cm4gKHUsIG92ZXJyaWRlT3B0aW9ucykgPT4gRWZmZWN0LnJ1blByb21pc2UocGFyc2VyKHUsIG92ZXJyaWRlT3B0aW9ucykpO1xufTtcbi8qKlxuICogQGNhdGVnb3J5IGVuY29kaW5nXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjb25zdCBlbmNvZGUgPSBlbmNvZGVVbmtub3duO1xuLyoqXG4gKiBAY2F0ZWdvcnkgZW5jb2RpbmdcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNvbnN0IGVuY29kZUVpdGhlciA9IGVuY29kZVVua25vd25FaXRoZXI7XG4vKipcbiAqIEBjYXRlZ29yeSBlbmNvZGluZ1xuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY29uc3QgZW5jb2RlUHJvbWlzZSA9IGVuY29kZVVua25vd25Qcm9taXNlO1xuLyoqXG4gKiBAY2F0ZWdvcnkgZGVjb2RpbmdcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNvbnN0IGRlY29kZVVua25vd24gPSAoc2NoZW1hLCBvcHRpb25zKSA9PiB7XG4gIGNvbnN0IGRlY29kZVVua25vd24gPSBQYXJzZVJlc3VsdC5kZWNvZGVVbmtub3duKHNjaGVtYSwgb3B0aW9ucyk7XG4gIHJldHVybiAodSwgb3ZlcnJpZGVPcHRpb25zKSA9PiBQYXJzZVJlc3VsdC5tYXBFcnJvcihkZWNvZGVVbmtub3duKHUsIG92ZXJyaWRlT3B0aW9ucyksIFBhcnNlUmVzdWx0LnBhcnNlRXJyb3IpO1xufTtcbi8qKlxuICogQGNhdGVnb3J5IGRlY29kaW5nXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjb25zdCBkZWNvZGVVbmtub3duRWl0aGVyID0gKHNjaGVtYSwgb3B0aW9ucykgPT4ge1xuICBjb25zdCBkZWNvZGVVbmtub3duRWl0aGVyID0gUGFyc2VSZXN1bHQuZGVjb2RlVW5rbm93bkVpdGhlcihzY2hlbWEsIG9wdGlvbnMpO1xuICByZXR1cm4gKHUsIG92ZXJyaWRlT3B0aW9ucykgPT4gZWl0aGVyXy5tYXBMZWZ0KGRlY29kZVVua25vd25FaXRoZXIodSwgb3ZlcnJpZGVPcHRpb25zKSwgUGFyc2VSZXN1bHQucGFyc2VFcnJvcik7XG59O1xuLyoqXG4gKiBAY2F0ZWdvcnkgZGVjb2RpbmdcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNvbnN0IGRlY29kZVVua25vd25Qcm9taXNlID0gKHNjaGVtYSwgb3B0aW9ucykgPT4ge1xuICBjb25zdCBwYXJzZXIgPSBkZWNvZGVVbmtub3duKHNjaGVtYSwgb3B0aW9ucyk7XG4gIHJldHVybiAodSwgb3ZlcnJpZGVPcHRpb25zKSA9PiBFZmZlY3QucnVuUHJvbWlzZShwYXJzZXIodSwgb3ZlcnJpZGVPcHRpb25zKSk7XG59O1xuLyoqXG4gKiBAY2F0ZWdvcnkgZGVjb2RpbmdcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNvbnN0IGRlY29kZSA9IGRlY29kZVVua25vd247XG4vKipcbiAqIEBjYXRlZ29yeSBkZWNvZGluZ1xuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY29uc3QgZGVjb2RlRWl0aGVyID0gZGVjb2RlVW5rbm93bkVpdGhlcjtcbi8qKlxuICogQGNhdGVnb3J5IGRlY29kaW5nXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjb25zdCBkZWNvZGVQcm9taXNlID0gZGVjb2RlVW5rbm93blByb21pc2U7XG4vKipcbiAqIEBjYXRlZ29yeSB2YWxpZGF0aW9uXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjb25zdCB2YWxpZGF0ZSA9IChzY2hlbWEsIG9wdGlvbnMpID0+IHtcbiAgY29uc3QgdmFsaWRhdGUgPSBQYXJzZVJlc3VsdC52YWxpZGF0ZShzY2hlbWEsIG9wdGlvbnMpO1xuICByZXR1cm4gKHUsIG92ZXJyaWRlT3B0aW9ucykgPT4gUGFyc2VSZXN1bHQubWFwRXJyb3IodmFsaWRhdGUodSwgb3ZlcnJpZGVPcHRpb25zKSwgUGFyc2VSZXN1bHQucGFyc2VFcnJvcik7XG59O1xuLyoqXG4gKiBAY2F0ZWdvcnkgdmFsaWRhdGlvblxuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY29uc3QgdmFsaWRhdGVFaXRoZXIgPSAoc2NoZW1hLCBvcHRpb25zKSA9PiB7XG4gIGNvbnN0IHZhbGlkYXRlRWl0aGVyID0gUGFyc2VSZXN1bHQudmFsaWRhdGVFaXRoZXIoc2NoZW1hLCBvcHRpb25zKTtcbiAgcmV0dXJuICh1LCBvdmVycmlkZU9wdGlvbnMpID0+IGVpdGhlcl8ubWFwTGVmdCh2YWxpZGF0ZUVpdGhlcih1LCBvdmVycmlkZU9wdGlvbnMpLCBQYXJzZVJlc3VsdC5wYXJzZUVycm9yKTtcbn07XG4vKipcbiAqIEBjYXRlZ29yeSB2YWxpZGF0aW9uXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjb25zdCB2YWxpZGF0ZVByb21pc2UgPSAoc2NoZW1hLCBvcHRpb25zKSA9PiB7XG4gIGNvbnN0IHBhcnNlciA9IHZhbGlkYXRlKHNjaGVtYSwgb3B0aW9ucyk7XG4gIHJldHVybiAodSwgb3ZlcnJpZGVPcHRpb25zKSA9PiBFZmZlY3QucnVuUHJvbWlzZShwYXJzZXIodSwgb3ZlcnJpZGVPcHRpb25zKSk7XG59O1xuLyoqXG4gKiBUZXN0cyBpZiBhIHZhbHVlIGlzIGEgYFNjaGVtYWAuXG4gKlxuICogQGNhdGVnb3J5IGd1YXJkc1xuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY29uc3QgaXNTY2hlbWEgPSB1ID0+IFByZWRpY2F0ZS5oYXNQcm9wZXJ0eSh1LCBUeXBlSWQpICYmIFByZWRpY2F0ZS5pc09iamVjdCh1W1R5cGVJZF0pO1xuY29uc3QgZ2V0RGVmYXVsdExpdGVyYWxBU1QgPSBsaXRlcmFscyA9PiBBU1QuaXNNZW1iZXJzKGxpdGVyYWxzKSA/IEFTVC5Vbmlvbi5tYWtlKEFTVC5tYXBNZW1iZXJzKGxpdGVyYWxzLCBsaXRlcmFsID0+IG5ldyBBU1QuTGl0ZXJhbChsaXRlcmFsKSkpIDogbmV3IEFTVC5MaXRlcmFsKGxpdGVyYWxzWzBdKTtcbmNvbnN0IG1ha2VMaXRlcmFsQ2xhc3MgPSAobGl0ZXJhbHMsIGFzdCA9IGdldERlZmF1bHRMaXRlcmFsQVNUKGxpdGVyYWxzKSkgPT4gY2xhc3MgTGl0ZXJhbENsYXNzIGV4dGVuZHMgbWFrZShhc3QpIHtcbiAgc3RhdGljIGFubm90YXRpb25zKGFubm90YXRpb25zKSB7XG4gICAgcmV0dXJuIG1ha2VMaXRlcmFsQ2xhc3ModGhpcy5saXRlcmFscywgbWVyZ2VTY2hlbWFBbm5vdGF0aW9ucyh0aGlzLmFzdCwgYW5ub3RhdGlvbnMpKTtcbiAgfVxuICBzdGF0aWMgbGl0ZXJhbHMgPSBbLi4ubGl0ZXJhbHNdO1xufTtcbmV4cG9ydCBmdW5jdGlvbiBMaXRlcmFsKC4uLmxpdGVyYWxzKSB7XG4gIHJldHVybiBhcnJheV8uaXNOb25FbXB0eVJlYWRvbmx5QXJyYXkobGl0ZXJhbHMpID8gbWFrZUxpdGVyYWxDbGFzcyhsaXRlcmFscykgOiBOZXZlcjtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBgU2NoZW1hYCBmcm9tIGEgbGl0ZXJhbCBzY2hlbWEuXG4gKlxuICogQGV4YW1wbGVcbiAqIGltcG9ydCAqIGFzIFMgZnJvbSBcIkBlZmZlY3Qvc2NoZW1hL1NjaGVtYVwiXG4gKiBpbXBvcnQgeyBFaXRoZXIgfSBmcm9tIFwiZWZmZWN0XCJcbiAqXG4gKiBjb25zdCBzY2hlbWEgPSBTLkxpdGVyYWwoXCJhXCIsIFwiYlwiLCBcImNcIikucGlwZShTLnBpY2tMaXRlcmFsKFwiYVwiLCBcImJcIikpXG4gKlxuICogYXNzZXJ0LmRlZXBTdHJpY3RFcXVhbChTLmRlY29kZVN5bmMoc2NoZW1hKShcImFcIiksIFwiYVwiKVxuICogYXNzZXJ0LmRlZXBTdHJpY3RFcXVhbChTLmRlY29kZVN5bmMoc2NoZW1hKShcImJcIiksIFwiYlwiKVxuICogYXNzZXJ0LnN0cmljdEVxdWFsKEVpdGhlci5pc0xlZnQoUy5kZWNvZGVVbmtub3duRWl0aGVyKHNjaGVtYSkoXCJjXCIpKSwgdHJ1ZSlcbiAqXG4gKiBAY2F0ZWdvcnkgY29uc3RydWN0b3JzXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjb25zdCBwaWNrTGl0ZXJhbCA9ICguLi5saXRlcmFscykgPT4gX3NjaGVtYSA9PiBMaXRlcmFsKC4uLmxpdGVyYWxzKTtcbi8qKlxuICogQGNhdGVnb3J5IGNvbnN0cnVjdG9yc1xuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY29uc3QgVW5pcXVlU3ltYm9sRnJvbVNlbGYgPSBzeW1ib2wgPT4gbWFrZShuZXcgQVNULlVuaXF1ZVN5bWJvbChzeW1ib2wpKTtcbmNvbnN0IGdldERlZmF1bHRFbnVtc0FTVCA9IGVudW1zID0+IG5ldyBBU1QuRW51bXMoT2JqZWN0LmtleXMoZW51bXMpLmZpbHRlcihrZXkgPT4gdHlwZW9mIGVudW1zW2VudW1zW2tleV1dICE9PSBcIm51bWJlclwiKS5tYXAoa2V5ID0+IFtrZXksIGVudW1zW2tleV1dKSk7XG5jb25zdCBtYWtlRW51bXNDbGFzcyA9IChlbnVtcywgYXN0ID0gZ2V0RGVmYXVsdEVudW1zQVNUKGVudW1zKSkgPT4gY2xhc3MgRW51bXNDbGFzcyBleHRlbmRzIG1ha2UoYXN0KSB7XG4gIHN0YXRpYyBhbm5vdGF0aW9ucyhhbm5vdGF0aW9ucykge1xuICAgIHJldHVybiBtYWtlRW51bXNDbGFzcyh0aGlzLmVudW1zLCBtZXJnZVNjaGVtYUFubm90YXRpb25zKHRoaXMuYXN0LCBhbm5vdGF0aW9ucykpO1xuICB9XG4gIHN0YXRpYyBlbnVtcyA9IHtcbiAgICAuLi5lbnVtc1xuICB9O1xufTtcbi8qKlxuICogQGNhdGVnb3J5IGNvbnN0cnVjdG9yc1xuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY29uc3QgRW51bXMgPSBlbnVtcyA9PiBtYWtlRW51bXNDbGFzcyhlbnVtcyk7XG4vKipcbiAqIEBjYXRlZ29yeSBjb25zdHJ1Y3RvcnNcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNvbnN0IFRlbXBsYXRlTGl0ZXJhbCA9ICguLi5baGVhZCwgLi4udGFpbF0pID0+IHtcbiAgbGV0IGFzdE9ycyA9IGdldFRlbXBsYXRlTGl0ZXJhbHMoZ2V0VGVtcGxhdGVMaXRlcmFsUGFyYW1ldGVyQVNUKGhlYWQpKTtcbiAgZm9yIChjb25zdCBzcGFuIG9mIHRhaWwpIHtcbiAgICBhc3RPcnMgPSBhcnJheV8uZmxhdE1hcChhc3RPcnMsIGEgPT4gZ2V0VGVtcGxhdGVMaXRlcmFscyhnZXRUZW1wbGF0ZUxpdGVyYWxQYXJhbWV0ZXJBU1Qoc3BhbikpLm1hcChiID0+IGNvbWJpbmVUZW1wbGF0ZUxpdGVyYWxzKGEsIGIpKSk7XG4gIH1cbiAgcmV0dXJuIG1ha2UoQVNULlVuaW9uLm1ha2UoYXN0T3JzLm1hcChhc3RPciA9PiBQcmVkaWNhdGUuaXNTdHJpbmcoYXN0T3IpID8gbmV3IEFTVC5MaXRlcmFsKGFzdE9yKSA6IGFzdE9yKSkpO1xufTtcbmNvbnN0IGdldFRlbXBsYXRlTGl0ZXJhbFBhcmFtZXRlckFTVCA9IHNwYW4gPT4gaXNTY2hlbWEoc3BhbikgPyBzcGFuLmFzdCA6IG5ldyBBU1QuTGl0ZXJhbChTdHJpbmcoc3BhbikpO1xuY29uc3QgY29tYmluZVRlbXBsYXRlTGl0ZXJhbHMgPSAoYSwgYikgPT4ge1xuICBpZiAoUHJlZGljYXRlLmlzU3RyaW5nKGEpKSB7XG4gICAgcmV0dXJuIFByZWRpY2F0ZS5pc1N0cmluZyhiKSA/IGEgKyBiIDogbmV3IEFTVC5UZW1wbGF0ZUxpdGVyYWwoYSArIGIuaGVhZCwgYi5zcGFucyk7XG4gIH1cbiAgaWYgKFByZWRpY2F0ZS5pc1N0cmluZyhiKSkge1xuICAgIHJldHVybiBuZXcgQVNULlRlbXBsYXRlTGl0ZXJhbChhLmhlYWQsIGFycmF5Xy5tb2RpZnlOb25FbXB0eUxhc3QoYS5zcGFucywgc3BhbiA9PiBuZXcgQVNULlRlbXBsYXRlTGl0ZXJhbFNwYW4oc3Bhbi50eXBlLCBzcGFuLmxpdGVyYWwgKyBiKSkpO1xuICB9XG4gIHJldHVybiBuZXcgQVNULlRlbXBsYXRlTGl0ZXJhbChhLmhlYWQsIGFycmF5Xy5hcHBlbmRBbGwoYXJyYXlfLm1vZGlmeU5vbkVtcHR5TGFzdChhLnNwYW5zLCBzcGFuID0+IG5ldyBBU1QuVGVtcGxhdGVMaXRlcmFsU3BhbihzcGFuLnR5cGUsIHNwYW4ubGl0ZXJhbCArIFN0cmluZyhiLmhlYWQpKSksIGIuc3BhbnMpKTtcbn07XG5jb25zdCBnZXRUZW1wbGF0ZUxpdGVyYWxzID0gYXN0ID0+IHtcbiAgc3dpdGNoIChhc3QuX3RhZykge1xuICAgIGNhc2UgXCJMaXRlcmFsXCI6XG4gICAgICByZXR1cm4gW1N0cmluZyhhc3QubGl0ZXJhbCldO1xuICAgIGNhc2UgXCJOdW1iZXJLZXl3b3JkXCI6XG4gICAgY2FzZSBcIlN0cmluZ0tleXdvcmRcIjpcbiAgICAgIHJldHVybiBbbmV3IEFTVC5UZW1wbGF0ZUxpdGVyYWwoXCJcIiwgW25ldyBBU1QuVGVtcGxhdGVMaXRlcmFsU3Bhbihhc3QsIFwiXCIpXSldO1xuICAgIGNhc2UgXCJVbmlvblwiOlxuICAgICAgcmV0dXJuIGFycmF5Xy5mbGF0TWFwKGFzdC50eXBlcywgZ2V0VGVtcGxhdGVMaXRlcmFscyk7XG4gIH1cbiAgdGhyb3cgbmV3IEVycm9yKGVycm9yc18uZ2V0U2NoZW1hVW5zdXBwb3J0ZWRMaXRlcmFsU3BhbkVycm9yTWVzc2FnZShhc3QpKTtcbn07XG5jb25zdCBkZWNsYXJlQ29uc3RydWN0b3IgPSAodHlwZVBhcmFtZXRlcnMsIG9wdGlvbnMsIGFubm90YXRpb25zKSA9PiBtYWtlKG5ldyBBU1QuRGVjbGFyYXRpb24odHlwZVBhcmFtZXRlcnMubWFwKHRwID0+IHRwLmFzdCksICguLi50eXBlUGFyYW1ldGVycykgPT4gb3B0aW9ucy5kZWNvZGUoLi4udHlwZVBhcmFtZXRlcnMubWFwKG1ha2UpKSwgKC4uLnR5cGVQYXJhbWV0ZXJzKSA9PiBvcHRpb25zLmVuY29kZSguLi50eXBlUGFyYW1ldGVycy5tYXAobWFrZSkpLCB0b0FTVEFubm90YXRpb25zKGFubm90YXRpb25zKSkpO1xuY29uc3QgZGVjbGFyZVByaW1pdGl2ZSA9IChpcywgYW5ub3RhdGlvbnMpID0+IHtcbiAgY29uc3QgZGVjb2RlVW5rbm93biA9ICgpID0+IChpbnB1dCwgXywgYXN0KSA9PiBpcyhpbnB1dCkgPyBQYXJzZVJlc3VsdC5zdWNjZWVkKGlucHV0KSA6IFBhcnNlUmVzdWx0LmZhaWwobmV3IFBhcnNlUmVzdWx0LlR5cGUoYXN0LCBpbnB1dCkpO1xuICBjb25zdCBlbmNvZGVVbmtub3duID0gZGVjb2RlVW5rbm93bjtcbiAgcmV0dXJuIG1ha2UobmV3IEFTVC5EZWNsYXJhdGlvbihbXSwgZGVjb2RlVW5rbm93biwgZW5jb2RlVW5rbm93biwgdG9BU1RBbm5vdGF0aW9ucyhhbm5vdGF0aW9ucykpKTtcbn07XG4vKipcbiAqIFRoZSBjb25zdHJhaW50IGBSIGV4dGVuZHMgU2NoZW1hLkNvbnRleHQ8UFtudW1iZXJdPmAgZW5mb3JjZXMgZGVwZW5kZW5jaWVzIHNvbGVseSBmcm9tIGB0eXBlUGFyYW1ldGVyc2AuXG4gKiBUaGlzIGVuc3VyZXMgdGhhdCB3aGVuIHlvdSBjYWxsIGBTY2hlbWEudG9gIG9yIGBTY2hlbWEuZnJvbWAsIHlvdSByZWNlaXZlIGEgc2NoZW1hIHdpdGggYSBgbmV2ZXJgIGNvbnRleHQuXG4gKlxuICogQGNhdGVnb3J5IGNvbnN0cnVjdG9yc1xuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY29uc3QgZGVjbGFyZSA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkoYXJndW1lbnRzWzBdKSkge1xuICAgIGNvbnN0IHR5cGVQYXJhbWV0ZXJzID0gYXJndW1lbnRzWzBdO1xuICAgIGNvbnN0IG9wdGlvbnMgPSBhcmd1bWVudHNbMV07XG4gICAgY29uc3QgYW5ub3RhdGlvbnMgPSBhcmd1bWVudHNbMl07XG4gICAgcmV0dXJuIGRlY2xhcmVDb25zdHJ1Y3Rvcih0eXBlUGFyYW1ldGVycywgb3B0aW9ucywgYW5ub3RhdGlvbnMpO1xuICB9XG4gIGNvbnN0IGlzID0gYXJndW1lbnRzWzBdO1xuICBjb25zdCBhbm5vdGF0aW9ucyA9IGFyZ3VtZW50c1sxXTtcbiAgcmV0dXJuIGRlY2xhcmVQcmltaXRpdmUoaXMsIGFubm90YXRpb25zKTtcbn07XG4vKipcbiAqIEBjYXRlZ29yeSB0eXBlIGlkXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjb25zdCBCcmFuZFR5cGVJZCA9IC8qI19fUFVSRV9fKi9TeW1ib2wuZm9yKFwiQGVmZmVjdC9zY2hlbWEvVHlwZUlkL0JyYW5kXCIpO1xuLyoqXG4gKiBAY2F0ZWdvcnkgY29uc3RydWN0b3JzXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjb25zdCBmcm9tQnJhbmQgPSAoY29uc3RydWN0b3IsIGFubm90YXRpb25zKSA9PiBzZWxmID0+IG1ha2VCcmFuZENsYXNzKG5ldyBBU1QuUmVmaW5lbWVudChzZWxmLmFzdCwgZnVuY3Rpb24gcHJlZGljYXRlKGEsIF8sIGFzdCkge1xuICBjb25zdCBlaXRoZXIgPSBjb25zdHJ1Y3Rvci5laXRoZXIoYSk7XG4gIHJldHVybiBlaXRoZXJfLmlzTGVmdChlaXRoZXIpID8gb3B0aW9uXy5zb21lKG5ldyBQYXJzZVJlc3VsdC5UeXBlKGFzdCwgYSwgZWl0aGVyLmxlZnQubWFwKHYgPT4gdi5tZXNzYWdlKS5qb2luKFwiLCBcIikpKSA6IG9wdGlvbl8ubm9uZSgpO1xufSwgdG9BU1RBbm5vdGF0aW9ucyh7XG4gIHR5cGVJZDoge1xuICAgIGlkOiBCcmFuZFR5cGVJZCxcbiAgICBhbm5vdGF0aW9uOiB7XG4gICAgICBjb25zdHJ1Y3RvclxuICAgIH1cbiAgfSxcbiAgLi4uYW5ub3RhdGlvbnNcbn0pKSk7XG4vKipcbiAqIEBjYXRlZ29yeSB0eXBlIGlkXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjb25zdCBJbnN0YW5jZU9mVHlwZUlkID0gLyojX19QVVJFX18qL1N5bWJvbC5mb3IoXCJAZWZmZWN0L3NjaGVtYS9UeXBlSWQvSW5zdGFuY2VPZlwiKTtcbi8qKlxuICogQGNhdGVnb3J5IGNvbnN0cnVjdG9yc1xuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY29uc3QgaW5zdGFuY2VPZiA9IChjb25zdHJ1Y3RvciwgYW5ub3RhdGlvbnMpID0+IGRlY2xhcmUodSA9PiB1IGluc3RhbmNlb2YgY29uc3RydWN0b3IsIHtcbiAgdGl0bGU6IGNvbnN0cnVjdG9yLm5hbWUsXG4gIGRlc2NyaXB0aW9uOiBgYW4gaW5zdGFuY2Ugb2YgJHtjb25zdHJ1Y3Rvci5uYW1lfWAsXG4gIHByZXR0eTogKCkgPT4gU3RyaW5nLFxuICB0eXBlSWQ6IHtcbiAgICBpZDogSW5zdGFuY2VPZlR5cGVJZCxcbiAgICBhbm5vdGF0aW9uOiB7XG4gICAgICBjb25zdHJ1Y3RvclxuICAgIH1cbiAgfSxcbiAgLi4uYW5ub3RhdGlvbnNcbn0pO1xuLyoqXG4gKiBAY2F0ZWdvcnkgcHJpbWl0aXZlc1xuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY2xhc3MgVW5kZWZpbmVkIGV4dGVuZHMgbWFrZShBU1QudW5kZWZpbmVkS2V5d29yZCkge1xuICBzdGF0aWMgYW5ub3RhdGlvbnMgPSBzdXBlci5hbm5vdGF0aW9ucztcbn1cbi8qKlxuICogQGNhdGVnb3J5IHByaW1pdGl2ZXNcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNsYXNzIFZvaWQgZXh0ZW5kcyBtYWtlKEFTVC52b2lkS2V5d29yZCkge1xuICBzdGF0aWMgYW5ub3RhdGlvbnMgPSBzdXBlci5hbm5vdGF0aW9ucztcbn1cbi8qKlxuICogQGNhdGVnb3J5IHByaW1pdGl2ZXNcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNsYXNzIE51bGwgZXh0ZW5kcyBtYWtlKEFTVC5udWxsKSB7XG4gIHN0YXRpYyBhbm5vdGF0aW9ucyA9IHN1cGVyLmFubm90YXRpb25zO1xufVxuLyoqXG4gKiBAY2F0ZWdvcnkgcHJpbWl0aXZlc1xuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY2xhc3MgTmV2ZXIgZXh0ZW5kcyBtYWtlKEFTVC5uZXZlcktleXdvcmQpIHtcbiAgc3RhdGljIGFubm90YXRpb25zID0gc3VwZXIuYW5ub3RhdGlvbnM7XG59XG4vKipcbiAqIEBjYXRlZ29yeSBwcmltaXRpdmVzXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjbGFzcyBVbmtub3duIGV4dGVuZHMgbWFrZShBU1QudW5rbm93bktleXdvcmQpIHtcbiAgc3RhdGljIGFubm90YXRpb25zID0gc3VwZXIuYW5ub3RhdGlvbnM7XG59XG4vKipcbiAqIEBjYXRlZ29yeSBwcmltaXRpdmVzXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjbGFzcyBBbnkgZXh0ZW5kcyBtYWtlKEFTVC5hbnlLZXl3b3JkKSB7XG4gIHN0YXRpYyBhbm5vdGF0aW9ucyA9IHN1cGVyLmFubm90YXRpb25zO1xufVxuLyoqXG4gKiBAY2F0ZWdvcnkgcHJpbWl0aXZlc1xuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY2xhc3MgQmlnSW50RnJvbVNlbGYgZXh0ZW5kcyBtYWtlKEFTVC5iaWdJbnRLZXl3b3JkKSB7XG4gIHN0YXRpYyBhbm5vdGF0aW9ucyA9IHN1cGVyLmFubm90YXRpb25zO1xufVxuLyoqXG4gKiBAY2F0ZWdvcnkgcHJpbWl0aXZlc1xuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY2xhc3MgU3ltYm9sRnJvbVNlbGYgZXh0ZW5kcyBtYWtlKEFTVC5zeW1ib2xLZXl3b3JkKSB7XG4gIHN0YXRpYyBhbm5vdGF0aW9ucyA9IHN1cGVyLmFubm90YXRpb25zO1xufVxuLyoqIEBpZ25vcmUgKi9cbmNsYXNzIFN0cmluZyQgZXh0ZW5kcyBtYWtlKEFTVC5zdHJpbmdLZXl3b3JkKSB7XG4gIHN0YXRpYyBhbm5vdGF0aW9ucyA9IHN1cGVyLmFubm90YXRpb25zO1xufVxuLyoqIEBpZ25vcmUgKi9cbmNsYXNzIE51bWJlciQgZXh0ZW5kcyBtYWtlKEFTVC5udW1iZXJLZXl3b3JkKSB7XG4gIHN0YXRpYyBhbm5vdGF0aW9ucyA9IHN1cGVyLmFubm90YXRpb25zO1xufVxuLyoqIEBpZ25vcmUgKi9cbmNsYXNzIEJvb2xlYW4kIGV4dGVuZHMgbWFrZShBU1QuYm9vbGVhbktleXdvcmQpIHtcbiAgc3RhdGljIGFubm90YXRpb25zID0gc3VwZXIuYW5ub3RhdGlvbnM7XG59XG4vKiogQGlnbm9yZSAqL1xuY2xhc3MgT2JqZWN0JCBleHRlbmRzIG1ha2UoQVNULm9iamVjdEtleXdvcmQpIHtcbiAgc3RhdGljIGFubm90YXRpb25zID0gc3VwZXIuYW5ub3RhdGlvbnM7XG59XG5leHBvcnQge1xuLyoqXG4gKiBAY2F0ZWdvcnkgcHJpbWl0aXZlc1xuICogQHNpbmNlIDAuNjcuMFxuICovXG5Cb29sZWFuJCBhcyBCb29sZWFuLFxuLyoqXG4gKiBAY2F0ZWdvcnkgcHJpbWl0aXZlc1xuICogQHNpbmNlIDAuNjcuMFxuICovXG5OdW1iZXIkIGFzIE51bWJlcixcbi8qKlxuICogQGNhdGVnb3J5IHByaW1pdGl2ZXNcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuT2JqZWN0JCBhcyBPYmplY3QsXG4vKipcbiAqIEBjYXRlZ29yeSBwcmltaXRpdmVzXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cblN0cmluZyQgYXMgU3RyaW5nIH07XG5jb25zdCBnZXREZWZhdWx0VW5pb25BU1QgPSBtZW1iZXJzID0+IEFTVC5Vbmlvbi5tZW1iZXJzKG1lbWJlcnMubWFwKG0gPT4gbS5hc3QpKTtcbmNvbnN0IG1ha2VVbmlvbkNsYXNzID0gKG1lbWJlcnMsIGFzdCA9IGdldERlZmF1bHRVbmlvbkFTVChtZW1iZXJzKSkgPT4gY2xhc3MgVW5pb25DbGFzcyBleHRlbmRzIG1ha2UoYXN0KSB7XG4gIHN0YXRpYyBhbm5vdGF0aW9ucyhhbm5vdGF0aW9ucykge1xuICAgIHJldHVybiBtYWtlVW5pb25DbGFzcyh0aGlzLm1lbWJlcnMsIG1lcmdlU2NoZW1hQW5ub3RhdGlvbnModGhpcy5hc3QsIGFubm90YXRpb25zKSk7XG4gIH1cbiAgc3RhdGljIG1lbWJlcnMgPSBbLi4ubWVtYmVyc107XG59O1xuZXhwb3J0IGZ1bmN0aW9uIFVuaW9uKC4uLm1lbWJlcnMpIHtcbiAgcmV0dXJuIEFTVC5pc01lbWJlcnMobWVtYmVycykgPyBtYWtlVW5pb25DbGFzcyhtZW1iZXJzKSA6IGFycmF5Xy5pc05vbkVtcHR5UmVhZG9ubHlBcnJheShtZW1iZXJzKSA/IG1lbWJlcnNbMF0gOiBOZXZlcjtcbn1cbi8qKlxuICogQGNhdGVnb3J5IGNvbWJpbmF0b3JzXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjb25zdCBOdWxsT3IgPSBzZWxmID0+IFVuaW9uKHNlbGYsIE51bGwpO1xuLyoqXG4gKiBAY2F0ZWdvcnkgY29tYmluYXRvcnNcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNvbnN0IFVuZGVmaW5lZE9yID0gc2VsZiA9PiBVbmlvbihzZWxmLCBVbmRlZmluZWQpO1xuLyoqXG4gKiBAY2F0ZWdvcnkgY29tYmluYXRvcnNcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNvbnN0IE51bGxpc2hPciA9IHNlbGYgPT4gVW5pb24oc2VsZiwgTnVsbCwgVW5kZWZpbmVkKTtcbi8qKlxuICogQGNhdGVnb3J5IGNvbWJpbmF0b3JzXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjb25zdCBrZXlvZiA9IHNlbGYgPT4gbWFrZShBU1Qua2V5b2Yoc2VsZi5hc3QpKTtcbi8qKlxuICogQHNpbmNlIDAuNjguMFxuICovXG5leHBvcnQgY29uc3QgZWxlbWVudCA9IHNlbGYgPT4gbmV3IEVsZW1lbnRJbXBsKG5ldyBBU1QuT3B0aW9uYWxUeXBlKHNlbGYuYXN0LCBmYWxzZSksIHNlbGYpO1xuLyoqXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjb25zdCBvcHRpb25hbEVsZW1lbnQgPSBzZWxmID0+IG5ldyBFbGVtZW50SW1wbChuZXcgQVNULk9wdGlvbmFsVHlwZShzZWxmLmFzdCwgdHJ1ZSksIHNlbGYpO1xuY2xhc3MgRWxlbWVudEltcGwge1xuICBhc3Q7XG4gIGZyb207XG4gIFtUeXBlSWRdO1xuICBfVG9rZW47XG4gIGNvbnN0cnVjdG9yKGFzdCwgZnJvbSkge1xuICAgIHRoaXMuYXN0ID0gYXN0O1xuICAgIHRoaXMuZnJvbSA9IGZyb207XG4gIH1cbiAgYW5ub3RhdGlvbnMoYW5ub3RhdGlvbnMpIHtcbiAgICByZXR1cm4gbmV3IEVsZW1lbnRJbXBsKG5ldyBBU1QuT3B0aW9uYWxUeXBlKHRoaXMuYXN0LnR5cGUsIHRoaXMuYXN0LmlzT3B0aW9uYWwsIHtcbiAgICAgIC4uLnRoaXMuYXN0LmFubm90YXRpb25zLFxuICAgICAgLi4udG9BU1RBbm5vdGF0aW9ucyhhbm5vdGF0aW9ucylcbiAgICB9KSwgdGhpcy5mcm9tKTtcbiAgfVxuICB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gYCR7dGhpcy5hc3QudHlwZX0ke3RoaXMuYXN0LmlzT3B0aW9uYWwgPyBcIj9cIiA6IFwiXCJ9YDtcbiAgfVxufVxuY29uc3QgZ2V0RGVmYXVsdFR1cGxlVHlwZUFTVCA9IChlbGVtZW50cywgcmVzdCkgPT4gbmV3IEFTVC5UdXBsZVR5cGUoZWxlbWVudHMubWFwKGVsID0+IGlzU2NoZW1hKGVsKSA/IG5ldyBBU1QuT3B0aW9uYWxUeXBlKGVsLmFzdCwgZmFsc2UpIDogZWwuYXN0KSwgcmVzdC5tYXAoZWwgPT4gaXNTY2hlbWEoZWwpID8gbmV3IEFTVC5UeXBlKGVsLmFzdCkgOiBlbC5hc3QpLCB0cnVlKTtcbmNvbnN0IG1ha2VUdXBsZVR5cGVDbGFzcyA9IChlbGVtZW50cywgcmVzdCwgYXN0ID0gZ2V0RGVmYXVsdFR1cGxlVHlwZUFTVChlbGVtZW50cywgcmVzdCkpID0+IGNsYXNzIFR1cGxlVHlwZUNsYXNzIGV4dGVuZHMgbWFrZShhc3QpIHtcbiAgc3RhdGljIGFubm90YXRpb25zKGFubm90YXRpb25zKSB7XG4gICAgcmV0dXJuIG1ha2VUdXBsZVR5cGVDbGFzcyh0aGlzLmVsZW1lbnRzLCB0aGlzLnJlc3QsIG1lcmdlU2NoZW1hQW5ub3RhdGlvbnModGhpcy5hc3QsIGFubm90YXRpb25zKSk7XG4gIH1cbiAgc3RhdGljIGVsZW1lbnRzID0gWy4uLmVsZW1lbnRzXTtcbiAgc3RhdGljIHJlc3QgPSBbLi4ucmVzdF07XG59O1xuZXhwb3J0IGZ1bmN0aW9uIFR1cGxlKC4uLmFyZ3MpIHtcbiAgcmV0dXJuIEFycmF5LmlzQXJyYXkoYXJnc1swXSkgPyBtYWtlVHVwbGVUeXBlQ2xhc3MoYXJnc1swXSwgYXJncy5zbGljZSgxKSkgOiBtYWtlVHVwbGVUeXBlQ2xhc3MoYXJncywgW10pO1xufVxuY29uc3QgbWFrZUFycmF5Q2xhc3MgPSAodmFsdWUsIGFzdCkgPT4gY2xhc3MgQXJyYXlDbGFzcyBleHRlbmRzIG1ha2VUdXBsZVR5cGVDbGFzcyhbXSwgW3ZhbHVlXSwgYXN0KSB7XG4gIHN0YXRpYyBhbm5vdGF0aW9ucyhhbm5vdGF0aW9ucykge1xuICAgIHJldHVybiBtYWtlQXJyYXlDbGFzcyh0aGlzLnZhbHVlLCBtZXJnZVNjaGVtYUFubm90YXRpb25zKHRoaXMuYXN0LCBhbm5vdGF0aW9ucykpO1xuICB9XG4gIHN0YXRpYyB2YWx1ZSA9IHZhbHVlO1xufTtcbmNvbnN0IEFycmF5JCA9IHZhbHVlID0+IG1ha2VBcnJheUNsYXNzKHZhbHVlKTtcbmV4cG9ydCB7XG4vKipcbiAqIEBjYXRlZ29yeSBjb25zdHJ1Y3RvcnNcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuQXJyYXkkIGFzIEFycmF5IH07XG5jb25zdCBtYWtlTm9uRW1wdHlBcnJheUNsYXNzID0gKHZhbHVlLCBhc3QpID0+IGNsYXNzIE5vbkVtcHR5QXJyYXlDbGFzcyBleHRlbmRzIG1ha2VUdXBsZVR5cGVDbGFzcyhbdmFsdWVdLCBbdmFsdWVdLCBhc3QpIHtcbiAgc3RhdGljIGFubm90YXRpb25zKGFubm90YXRpb25zKSB7XG4gICAgcmV0dXJuIG1ha2VOb25FbXB0eUFycmF5Q2xhc3ModGhpcy52YWx1ZSwgbWVyZ2VTY2hlbWFBbm5vdGF0aW9ucyh0aGlzLmFzdCwgYW5ub3RhdGlvbnMpKTtcbiAgfVxuICBzdGF0aWMgdmFsdWUgPSB2YWx1ZTtcbn07XG4vKipcbiAqIEBjYXRlZ29yeSBjb25zdHJ1Y3RvcnNcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNvbnN0IE5vbkVtcHR5QXJyYXkgPSB2YWx1ZSA9PiBtYWtlTm9uRW1wdHlBcnJheUNsYXNzKHZhbHVlKTtcbmNvbnN0IGZvcm1hdFByb3BlcnR5U2lnbmF0dXJlVG9rZW4gPSBpc09wdGlvbmFsID0+IGlzT3B0aW9uYWwgPyBcIlxcXCI/OlxcXCJcIiA6IFwiXFxcIjpcXFwiXCI7XG4vKipcbiAqIEBjYXRlZ29yeSBQcm9wZXJ0eVNpZ25hdHVyZVxuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY2xhc3MgUHJvcGVydHlTaWduYXR1cmVEZWNsYXJhdGlvbiBleHRlbmRzIEFTVC5PcHRpb25hbFR5cGUge1xuICBpc1JlYWRvbmx5O1xuICBkZWZhdWx0VmFsdWU7XG4gIC8qKlxuICAgKiBAc2luY2UgMC42Ny4wXG4gICAqL1xuICBfdGFnID0gXCJQcm9wZXJ0eVNpZ25hdHVyZURlY2xhcmF0aW9uXCI7XG4gIGNvbnN0cnVjdG9yKHR5cGUsIGlzT3B0aW9uYWwsIGlzUmVhZG9ubHksIGFubm90YXRpb25zLCBkZWZhdWx0VmFsdWUpIHtcbiAgICBzdXBlcih0eXBlLCBpc09wdGlvbmFsLCBhbm5vdGF0aW9ucyk7XG4gICAgdGhpcy5pc1JlYWRvbmx5ID0gaXNSZWFkb25seTtcbiAgICB0aGlzLmRlZmF1bHRWYWx1ZSA9IGRlZmF1bHRWYWx1ZTtcbiAgfVxuICAvKipcbiAgICogQHNpbmNlIDAuNjcuMFxuICAgKi9cbiAgdG9TdHJpbmcoKSB7XG4gICAgY29uc3QgdG9rZW4gPSBmb3JtYXRQcm9wZXJ0eVNpZ25hdHVyZVRva2VuKHRoaXMuaXNPcHRpb25hbCk7XG4gICAgY29uc3QgdHlwZSA9IFN0cmluZyh0aGlzLnR5cGUpO1xuICAgIHJldHVybiBgUHJvcGVydHlTaWduYXR1cmU8JHt0b2tlbn0sICR7dHlwZX0sIG5ldmVyLCAke3Rva2VufSwgJHt0eXBlfT5gO1xuICB9XG59XG4vKipcbiAqIEBjYXRlZ29yeSBQcm9wZXJ0eVNpZ25hdHVyZVxuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY2xhc3MgRnJvbVByb3BlcnR5U2lnbmF0dXJlIGV4dGVuZHMgQVNULk9wdGlvbmFsVHlwZSB7XG4gIGlzUmVhZG9ubHk7XG4gIGZyb21LZXk7XG4gIGNvbnN0cnVjdG9yKHR5cGUsIGlzT3B0aW9uYWwsIGlzUmVhZG9ubHksIGFubm90YXRpb25zLCBmcm9tS2V5KSB7XG4gICAgc3VwZXIodHlwZSwgaXNPcHRpb25hbCwgYW5ub3RhdGlvbnMpO1xuICAgIHRoaXMuaXNSZWFkb25seSA9IGlzUmVhZG9ubHk7XG4gICAgdGhpcy5mcm9tS2V5ID0gZnJvbUtleTtcbiAgfVxufVxuLyoqXG4gKiBAY2F0ZWdvcnkgUHJvcGVydHlTaWduYXR1cmVcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNsYXNzIFRvUHJvcGVydHlTaWduYXR1cmUgZXh0ZW5kcyBBU1QuT3B0aW9uYWxUeXBlIHtcbiAgaXNSZWFkb25seTtcbiAgZGVmYXVsdFZhbHVlO1xuICBjb25zdHJ1Y3Rvcih0eXBlLCBpc09wdGlvbmFsLCBpc1JlYWRvbmx5LCBhbm5vdGF0aW9ucywgZGVmYXVsdFZhbHVlKSB7XG4gICAgc3VwZXIodHlwZSwgaXNPcHRpb25hbCwgYW5ub3RhdGlvbnMpO1xuICAgIHRoaXMuaXNSZWFkb25seSA9IGlzUmVhZG9ubHk7XG4gICAgdGhpcy5kZWZhdWx0VmFsdWUgPSBkZWZhdWx0VmFsdWU7XG4gIH1cbn1cbmNvbnN0IGZvcm1hdFByb3BlcnR5S2V5ID0gcCA9PiB7XG4gIGlmIChwID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gXCJuZXZlclwiO1xuICB9XG4gIGlmIChQcmVkaWNhdGUuaXNTdHJpbmcocCkpIHtcbiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkocCk7XG4gIH1cbiAgcmV0dXJuIFN0cmluZyhwKTtcbn07XG4vKipcbiAqIEBjYXRlZ29yeSBQcm9wZXJ0eVNpZ25hdHVyZVxuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY2xhc3MgUHJvcGVydHlTaWduYXR1cmVUcmFuc2Zvcm1hdGlvbiB7XG4gIGZyb207XG4gIHRvO1xuICBkZWNvZGU7XG4gIGVuY29kZTtcbiAgLyoqXG4gICAqIEBzaW5jZSAwLjY3LjBcbiAgICovXG4gIF90YWcgPSBcIlByb3BlcnR5U2lnbmF0dXJlVHJhbnNmb3JtYXRpb25cIjtcbiAgY29uc3RydWN0b3IoZnJvbSwgdG8sIGRlY29kZSwgZW5jb2RlKSB7XG4gICAgdGhpcy5mcm9tID0gZnJvbTtcbiAgICB0aGlzLnRvID0gdG87XG4gICAgdGhpcy5kZWNvZGUgPSBkZWNvZGU7XG4gICAgdGhpcy5lbmNvZGUgPSBlbmNvZGU7XG4gIH1cbiAgLyoqXG4gICAqIEBzaW5jZSAwLjY3LjBcbiAgICovXG4gIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiBgUHJvcGVydHlTaWduYXR1cmU8JHtmb3JtYXRQcm9wZXJ0eVNpZ25hdHVyZVRva2VuKHRoaXMudG8uaXNPcHRpb25hbCl9LCAke3RoaXMudG8udHlwZX0sICR7Zm9ybWF0UHJvcGVydHlLZXkodGhpcy5mcm9tLmZyb21LZXkpfSwgJHtmb3JtYXRQcm9wZXJ0eVNpZ25hdHVyZVRva2VuKHRoaXMuZnJvbS5pc09wdGlvbmFsKX0sICR7dGhpcy5mcm9tLnR5cGV9PmA7XG4gIH1cbn1cbmNvbnN0IG1lcmdlU2lnbmF0dXJlQW5ub3RhdGlvbnMgPSAoYXN0LCBhbm5vdGF0aW9ucykgPT4ge1xuICBzd2l0Y2ggKGFzdC5fdGFnKSB7XG4gICAgY2FzZSBcIlByb3BlcnR5U2lnbmF0dXJlRGVjbGFyYXRpb25cIjpcbiAgICAgIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9wZXJ0eVNpZ25hdHVyZURlY2xhcmF0aW9uKGFzdC50eXBlLCBhc3QuaXNPcHRpb25hbCwgYXN0LmlzUmVhZG9ubHksIHtcbiAgICAgICAgICAuLi5hc3QuYW5ub3RhdGlvbnMsXG4gICAgICAgICAgLi4uYW5ub3RhdGlvbnNcbiAgICAgICAgfSwgYXN0LmRlZmF1bHRWYWx1ZSk7XG4gICAgICB9XG4gICAgY2FzZSBcIlByb3BlcnR5U2lnbmF0dXJlVHJhbnNmb3JtYXRpb25cIjpcbiAgICAgIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9wZXJ0eVNpZ25hdHVyZVRyYW5zZm9ybWF0aW9uKG5ldyBGcm9tUHJvcGVydHlTaWduYXR1cmUoYXN0LmZyb20udHlwZSwgYXN0LmZyb20uaXNPcHRpb25hbCwgYXN0LmZyb20uaXNSZWFkb25seSwgYXN0LmZyb20uYW5ub3RhdGlvbnMpLCBuZXcgVG9Qcm9wZXJ0eVNpZ25hdHVyZShhc3QudG8udHlwZSwgYXN0LnRvLmlzT3B0aW9uYWwsIGFzdC50by5pc1JlYWRvbmx5LCB7XG4gICAgICAgICAgLi4uYXN0LnRvLmFubm90YXRpb25zLFxuICAgICAgICAgIC4uLmFubm90YXRpb25zXG4gICAgICAgIH0sIGFzdC50by5kZWZhdWx0VmFsdWUpLCBhc3QuZGVjb2RlLCBhc3QuZW5jb2RlKTtcbiAgICAgIH1cbiAgfVxufTtcbi8qKlxuICogQHNpbmNlIDAuNjguMFxuICogQGNhdGVnb3J5IHN5bWJvbFxuICovXG5leHBvcnQgY29uc3QgUHJvcGVydHlTaWduYXR1cmVUeXBlSWQgPSAvKiNfX1BVUkVfXyovU3ltYm9sLmZvcihcIkBlZmZlY3Qvc2NoZW1hL1Byb3BlcnR5U2lnbmF0dXJlXCIpO1xuY2xhc3MgUHJvcGVydHlTaWduYXR1cmVJbXBsIHtcbiAgYXN0O1xuICBbVHlwZUlkXTtcbiAgW1Byb3BlcnR5U2lnbmF0dXJlVHlwZUlkXSA9IG51bGw7XG4gIF9UeXBlVG9rZW47XG4gIF9LZXk7XG4gIF9FbmNvZGVkVG9rZW47XG4gIF9IYXNEZWZhdWx0O1xuICBjb25zdHJ1Y3Rvcihhc3QpIHtcbiAgICB0aGlzLmFzdCA9IGFzdDtcbiAgfVxuICBwaXBlKCkge1xuICAgIHJldHVybiBwaXBlQXJndW1lbnRzKHRoaXMsIGFyZ3VtZW50cyk7XG4gIH1cbiAgYW5ub3RhdGlvbnMoYW5ub3RhdGlvbnMpIHtcbiAgICByZXR1cm4gbmV3IFByb3BlcnR5U2lnbmF0dXJlSW1wbChtZXJnZVNpZ25hdHVyZUFubm90YXRpb25zKHRoaXMuYXN0LCB0b0FTVEFubm90YXRpb25zKGFubm90YXRpb25zKSkpO1xuICB9XG4gIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiBTdHJpbmcodGhpcy5hc3QpO1xuICB9XG59XG4vKipcbiAqIEBjYXRlZ29yeSBQcm9wZXJ0eVNpZ25hdHVyZVxuICogQHNpbmNlIDAuNjcuMTVcbiAqL1xuZXhwb3J0IGNvbnN0IG1ha2VQcm9wZXJ0eVNpZ25hdHVyZSA9IGFzdCA9PiBuZXcgUHJvcGVydHlTaWduYXR1cmVJbXBsKGFzdCk7XG5jbGFzcyBQcm9wZXJ0eVNpZ25hdHVyZVdpdGhGcm9tSW1wbCBleHRlbmRzIFByb3BlcnR5U2lnbmF0dXJlSW1wbCB7XG4gIGZyb207XG4gIGNvbnN0cnVjdG9yKGFzdCwgZnJvbSkge1xuICAgIHN1cGVyKGFzdCk7XG4gICAgdGhpcy5mcm9tID0gZnJvbTtcbiAgfVxuICBhbm5vdGF0aW9ucyhhbm5vdGF0aW9ucykge1xuICAgIHJldHVybiBuZXcgUHJvcGVydHlTaWduYXR1cmVXaXRoRnJvbUltcGwobWVyZ2VTaWduYXR1cmVBbm5vdGF0aW9ucyh0aGlzLmFzdCwgdG9BU1RBbm5vdGF0aW9ucyhhbm5vdGF0aW9ucykpLCB0aGlzLmZyb20pO1xuICB9XG59XG4vKipcbiAqIExpZnRzIGEgYFNjaGVtYWAgaW50byBhIGBQcm9wZXJ0eVNpZ25hdHVyZWAuXG4gKlxuICogQGNhdGVnb3J5IFByb3BlcnR5U2lnbmF0dXJlXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjb25zdCBwcm9wZXJ0eVNpZ25hdHVyZSA9IHNlbGYgPT4gbmV3IFByb3BlcnR5U2lnbmF0dXJlV2l0aEZyb21JbXBsKG5ldyBQcm9wZXJ0eVNpZ25hdHVyZURlY2xhcmF0aW9uKHNlbGYuYXN0LCBmYWxzZSwgdHJ1ZSwge30sIHVuZGVmaW5lZCksIHNlbGYpO1xuLyoqXG4gKiBFbmhhbmNlcyBhIHByb3BlcnR5IHNpZ25hdHVyZSB3aXRoIGEgZGVmYXVsdCBjb25zdHJ1Y3RvciB2YWx1ZS5cbiAqXG4gKiBAY2F0ZWdvcnkgUHJvcGVydHlTaWduYXR1cmVcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNvbnN0IHdpdGhDb25zdHJ1Y3RvckRlZmF1bHQgPSAvKiNfX1BVUkVfXyovZHVhbCgyLCAoc2VsZiwgZGVmYXVsdFZhbHVlKSA9PiB7XG4gIGNvbnN0IGFzdCA9IHNlbGYuYXN0O1xuICBzd2l0Y2ggKGFzdC5fdGFnKSB7XG4gICAgY2FzZSBcIlByb3BlcnR5U2lnbmF0dXJlRGVjbGFyYXRpb25cIjpcbiAgICAgIHJldHVybiBtYWtlUHJvcGVydHlTaWduYXR1cmUobmV3IFByb3BlcnR5U2lnbmF0dXJlRGVjbGFyYXRpb24oYXN0LnR5cGUsIGFzdC5pc09wdGlvbmFsLCBhc3QuaXNSZWFkb25seSwgYXN0LmFubm90YXRpb25zLCBkZWZhdWx0VmFsdWUpKTtcbiAgICBjYXNlIFwiUHJvcGVydHlTaWduYXR1cmVUcmFuc2Zvcm1hdGlvblwiOlxuICAgICAgcmV0dXJuIG1ha2VQcm9wZXJ0eVNpZ25hdHVyZShuZXcgUHJvcGVydHlTaWduYXR1cmVUcmFuc2Zvcm1hdGlvbihhc3QuZnJvbSwgbmV3IFRvUHJvcGVydHlTaWduYXR1cmUoYXN0LnRvLnR5cGUsIGFzdC50by5pc09wdGlvbmFsLCBhc3QudG8uaXNSZWFkb25seSwgYXN0LnRvLmFubm90YXRpb25zLCBkZWZhdWx0VmFsdWUpLCBhc3QuZGVjb2RlLCBhc3QuZW5jb2RlKSk7XG4gIH1cbn0pO1xuY29uc3QgYXBwbHlEZWZhdWx0VmFsdWUgPSAobywgZGVmYXVsdFZhbHVlKSA9PiBvcHRpb25fLm1hdGNoKG8sIHtcbiAgb25Ob25lOiAoKSA9PiBvcHRpb25fLnNvbWUoZGVmYXVsdFZhbHVlKCkpLFxuICBvblNvbWU6IHZhbHVlID0+IG9wdGlvbl8uc29tZSh2YWx1ZSA9PT0gdW5kZWZpbmVkID8gZGVmYXVsdFZhbHVlKCkgOiB2YWx1ZSlcbn0pO1xuLyoqXG4gKiBFbmhhbmNlcyBhIHByb3BlcnR5IHNpZ25hdHVyZSB3aXRoIGEgZGVmYXVsdCBkZWNvZGluZyB2YWx1ZS5cbiAqXG4gKiBAY2F0ZWdvcnkgUHJvcGVydHlTaWduYXR1cmVcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNvbnN0IHdpdGhEZWNvZGluZ0RlZmF1bHQgPSAvKiNfX1BVUkVfXyovZHVhbCgyLCAoc2VsZiwgZGVmYXVsdFZhbHVlKSA9PiB7XG4gIGNvbnN0IGFzdCA9IHNlbGYuYXN0O1xuICBzd2l0Y2ggKGFzdC5fdGFnKSB7XG4gICAgY2FzZSBcIlByb3BlcnR5U2lnbmF0dXJlRGVjbGFyYXRpb25cIjpcbiAgICAgIHJldHVybiBtYWtlUHJvcGVydHlTaWduYXR1cmUobmV3IFByb3BlcnR5U2lnbmF0dXJlVHJhbnNmb3JtYXRpb24oYXN0LCBuZXcgVG9Qcm9wZXJ0eVNpZ25hdHVyZShBU1QudHlwZUFTVChhc3QudHlwZSksIGZhbHNlLCB0cnVlLCB7fSwgdW5kZWZpbmVkKSwgbyA9PiBhcHBseURlZmF1bHRWYWx1ZShvLCBkZWZhdWx0VmFsdWUpLCBpZGVudGl0eSkpO1xuICAgIGNhc2UgXCJQcm9wZXJ0eVNpZ25hdHVyZVRyYW5zZm9ybWF0aW9uXCI6XG4gICAgICByZXR1cm4gbWFrZVByb3BlcnR5U2lnbmF0dXJlKG5ldyBQcm9wZXJ0eVNpZ25hdHVyZVRyYW5zZm9ybWF0aW9uKGFzdC5mcm9tLCBuZXcgVG9Qcm9wZXJ0eVNpZ25hdHVyZShhc3QudG8udHlwZSwgZmFsc2UsIGFzdC50by5pc1JlYWRvbmx5LCBhc3QudG8uYW5ub3RhdGlvbnMsIGFzdC50by5kZWZhdWx0VmFsdWUpLCBvID0+IGFwcGx5RGVmYXVsdFZhbHVlKGFzdC5kZWNvZGUobyksIGRlZmF1bHRWYWx1ZSksIGFzdC5lbmNvZGUpKTtcbiAgfVxufSk7XG4vKipcbiAqIEVuaGFuY2VzIGEgcHJvcGVydHkgc2lnbmF0dXJlIHdpdGggYSBkZWZhdWx0IGRlY29kaW5nIHZhbHVlIGFuZCBhIGRlZmF1bHQgY29uc3RydWN0b3IgdmFsdWUuXG4gKlxuICogQGNhdGVnb3J5IFByb3BlcnR5U2lnbmF0dXJlXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjb25zdCB3aXRoRGVmYXVsdHMgPSAvKiNfX1BVUkVfXyovZHVhbCgyLCAoc2VsZiwgZGVmYXVsdHMpID0+IHNlbGYucGlwZSh3aXRoRGVjb2RpbmdEZWZhdWx0KGRlZmF1bHRzLmRlY29kaW5nKSwgd2l0aENvbnN0cnVjdG9yRGVmYXVsdChkZWZhdWx0cy5jb25zdHJ1Y3RvcikpKTtcbi8qKlxuICogRW5oYW5jZXMgYSBwcm9wZXJ0eSBzaWduYXR1cmUgYnkgc3BlY2lmeWluZyBhIGRpZmZlcmVudCBrZXkgZm9yIGl0IGluIHRoZSBFbmNvZGVkIHR5cGUuXG4gKlxuICogQGNhdGVnb3J5IFByb3BlcnR5U2lnbmF0dXJlXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjb25zdCBmcm9tS2V5ID0gLyojX19QVVJFX18qL2R1YWwoMiwgKHNlbGYsIGtleSkgPT4ge1xuICBjb25zdCBhc3QgPSBzZWxmLmFzdDtcbiAgc3dpdGNoIChhc3QuX3RhZykge1xuICAgIGNhc2UgXCJQcm9wZXJ0eVNpZ25hdHVyZURlY2xhcmF0aW9uXCI6XG4gICAgICB7XG4gICAgICAgIHJldHVybiBtYWtlUHJvcGVydHlTaWduYXR1cmUobmV3IFByb3BlcnR5U2lnbmF0dXJlVHJhbnNmb3JtYXRpb24obmV3IEZyb21Qcm9wZXJ0eVNpZ25hdHVyZShhc3QudHlwZSwgYXN0LmlzT3B0aW9uYWwsIGFzdC5pc1JlYWRvbmx5LCBhc3QuYW5ub3RhdGlvbnMsIGtleSksIG5ldyBUb1Byb3BlcnR5U2lnbmF0dXJlKEFTVC50eXBlQVNUKGFzdC50eXBlKSwgYXN0LmlzT3B0aW9uYWwsIGFzdC5pc1JlYWRvbmx5LCB7fSwgYXN0LmRlZmF1bHRWYWx1ZSksIGlkZW50aXR5LCBpZGVudGl0eSkpO1xuICAgICAgfVxuICAgIGNhc2UgXCJQcm9wZXJ0eVNpZ25hdHVyZVRyYW5zZm9ybWF0aW9uXCI6XG4gICAgICByZXR1cm4gbWFrZVByb3BlcnR5U2lnbmF0dXJlKG5ldyBQcm9wZXJ0eVNpZ25hdHVyZVRyYW5zZm9ybWF0aW9uKG5ldyBGcm9tUHJvcGVydHlTaWduYXR1cmUoYXN0LmZyb20udHlwZSwgYXN0LmZyb20uaXNPcHRpb25hbCwgYXN0LmZyb20uaXNSZWFkb25seSwgYXN0LmZyb20uYW5ub3RhdGlvbnMsIGtleSksIGFzdC50bywgYXN0LmRlY29kZSwgYXN0LmVuY29kZSkpO1xuICB9XG59KTtcbi8qKlxuICogQ29udmVydHMgYW4gb3B0aW9uYWwgcHJvcGVydHkgdG8gYSByZXF1aXJlZCBvbmUgdGhyb3VnaCBhIHRyYW5zZm9ybWF0aW9uIGBPcHRpb24gLT4gVHlwZWAuXG4gKlxuICogLSBgZGVjb2RlYDogYG5vbmVgIGFzIGFyZ3VtZW50IG1lYW5zIHRoZSB2YWx1ZSBpcyBtaXNzaW5nIGluIHRoZSBpbnB1dC5cbiAqIC0gYGVuY29kZWA6IGBub25lYCBhcyByZXR1cm4gdmFsdWUgbWVhbnMgdGhlIHZhbHVlIHdpbGwgYmUgbWlzc2luZyBpbiB0aGUgb3V0cHV0LlxuICpcbiAqIEBjYXRlZ29yeSBQcm9wZXJ0eVNpZ25hdHVyZVxuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY29uc3Qgb3B0aW9uYWxUb1JlcXVpcmVkID0gKGZyb20sIHRvLCBvcHRpb25zKSA9PiBtYWtlUHJvcGVydHlTaWduYXR1cmUobmV3IFByb3BlcnR5U2lnbmF0dXJlVHJhbnNmb3JtYXRpb24obmV3IEZyb21Qcm9wZXJ0eVNpZ25hdHVyZShmcm9tLmFzdCwgdHJ1ZSwgdHJ1ZSwge30sIHVuZGVmaW5lZCksIG5ldyBUb1Byb3BlcnR5U2lnbmF0dXJlKHRvLmFzdCwgZmFsc2UsIHRydWUsIHt9LCB1bmRlZmluZWQpLCBvID0+IG9wdGlvbl8uc29tZShvcHRpb25zLmRlY29kZShvKSksIG9wdGlvbl8uZmxhdE1hcChvcHRpb25zLmVuY29kZSkpKTtcbi8qKlxuICogQ29udmVydHMgYW4gb3B0aW9uYWwgcHJvcGVydHkgdG8gYSByZXF1aXJlZCBvbmUgdGhyb3VnaCBhIHRyYW5zZm9ybWF0aW9uIGBUeXBlIC0+IE9wdGlvbmAuXG4gKlxuICogLSBgZGVjb2RlYDogYG5vbmVgIGFzIHJldHVybiB2YWx1ZSBtZWFucyB0aGUgdmFsdWUgd2lsbCBiZSBtaXNzaW5nIGluIHRoZSBvdXRwdXQuXG4gKiAtIGBlbmNvZGVgOiBgbm9uZWAgYXMgYXJndW1lbnQgbWVhbnMgdGhlIHZhbHVlIGlzIG1pc3NpbmcgaW4gdGhlIGlucHV0LlxuICpcbiAqIEBjYXRlZ29yeSBQcm9wZXJ0eVNpZ25hdHVyZVxuICogQHNpbmNlIDAuNjcuMTVcbiAqL1xuZXhwb3J0IGNvbnN0IHJlcXVpcmVkVG9PcHRpb25hbCA9IChmcm9tLCB0bywgb3B0aW9ucykgPT4gbWFrZVByb3BlcnR5U2lnbmF0dXJlKG5ldyBQcm9wZXJ0eVNpZ25hdHVyZVRyYW5zZm9ybWF0aW9uKG5ldyBGcm9tUHJvcGVydHlTaWduYXR1cmUoZnJvbS5hc3QsIGZhbHNlLCB0cnVlLCB7fSwgdW5kZWZpbmVkKSwgbmV3IFRvUHJvcGVydHlTaWduYXR1cmUodG8uYXN0LCB0cnVlLCB0cnVlLCB7fSwgdW5kZWZpbmVkKSwgb3B0aW9uXy5mbGF0TWFwKG9wdGlvbnMuZGVjb2RlKSwgbyA9PiBvcHRpb25fLnNvbWUob3B0aW9ucy5lbmNvZGUobykpKSk7XG4vKipcbiAqIENvbnZlcnRzIGFuIG9wdGlvbmFsIHByb3BlcnR5IHRvIGFub3RoZXIgb3B0aW9uYWwgcHJvcGVydHkgdGhyb3VnaCBhIHRyYW5zZm9ybWF0aW9uIGBPcHRpb24gLT4gT3B0aW9uYC5cbiAqXG4gKiAtIGBkZWNvZGVgOlxuICogICAtIGBub25lYCBhcyBhcmd1bWVudCBtZWFucyB0aGUgdmFsdWUgaXMgbWlzc2luZyBpbiB0aGUgaW5wdXQuXG4gKiAgIC0gYG5vbmVgIGFzIHJldHVybiB2YWx1ZSBtZWFucyB0aGUgdmFsdWUgd2lsbCBiZSBtaXNzaW5nIGluIHRoZSBvdXRwdXQuXG4gKiAtIGBlbmNvZGVgOlxuICogICAtIGBub25lYCBhcyBhcmd1bWVudCBtZWFucyB0aGUgdmFsdWUgaXMgbWlzc2luZyBpbiB0aGUgaW5wdXQuXG4gKiAgIC0gYG5vbmVgIGFzIHJldHVybiB2YWx1ZSBtZWFucyB0aGUgdmFsdWUgd2lsbCBiZSBtaXNzaW5nIGluIHRoZSBvdXRwdXQuXG4gKlxuICogQGNhdGVnb3J5IFByb3BlcnR5U2lnbmF0dXJlXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjb25zdCBvcHRpb25hbFRvT3B0aW9uYWwgPSAoZnJvbSwgdG8sIG9wdGlvbnMpID0+IG1ha2VQcm9wZXJ0eVNpZ25hdHVyZShuZXcgUHJvcGVydHlTaWduYXR1cmVUcmFuc2Zvcm1hdGlvbihuZXcgRnJvbVByb3BlcnR5U2lnbmF0dXJlKGZyb20uYXN0LCB0cnVlLCB0cnVlLCB7fSwgdW5kZWZpbmVkKSwgbmV3IFRvUHJvcGVydHlTaWduYXR1cmUodG8uYXN0LCB0cnVlLCB0cnVlLCB7fSwgdW5kZWZpbmVkKSwgb3B0aW9ucy5kZWNvZGUsIG9wdGlvbnMuZW5jb2RlKSk7XG5jb25zdCBvcHRpb25hbFByb3BlcnR5U2lnbmF0dXJlQVNUID0gKGZyb20sIG9wdGlvbnMpID0+IHtcbiAgY29uc3QgaXNFeGFjdCA9IG9wdGlvbnM/LmV4YWN0O1xuICBjb25zdCBkZWZhdWx0VmFsdWUgPSBvcHRpb25zPy5kZWZhdWx0O1xuICBjb25zdCBpc051bGxhYmxlID0gb3B0aW9ucz8ubnVsbGFibGU7XG4gIGNvbnN0IGFzT3B0aW9uID0gb3B0aW9ucz8uYXMgPT0gXCJPcHRpb25cIjtcbiAgY29uc3QgYXNPcHRpb25FbmNvZGUgPSBvcHRpb25zPy5vbk5vbmVFbmNvZGluZyA/IG9wdGlvbl8ub3JFbHNlKG9wdGlvbnMub25Ob25lRW5jb2RpbmcpIDogaWRlbnRpdHk7XG4gIGlmIChpc0V4YWN0KSB7XG4gICAgaWYgKGRlZmF1bHRWYWx1ZSkge1xuICAgICAgaWYgKGlzTnVsbGFibGUpIHtcbiAgICAgICAgcmV0dXJuIHdpdGhDb25zdHJ1Y3RvckRlZmF1bHQob3B0aW9uYWxUb1JlcXVpcmVkKE51bGxPcihmcm9tKSwgdHlwZVNjaGVtYShmcm9tKSwge1xuICAgICAgICAgIGRlY29kZTogb3B0aW9uXy5tYXRjaCh7XG4gICAgICAgICAgICBvbk5vbmU6IGRlZmF1bHRWYWx1ZSxcbiAgICAgICAgICAgIG9uU29tZTogYSA9PiBhID09PSBudWxsID8gZGVmYXVsdFZhbHVlKCkgOiBhXG4gICAgICAgICAgfSksXG4gICAgICAgICAgZW5jb2RlOiBvcHRpb25fLnNvbWVcbiAgICAgICAgfSksIGRlZmF1bHRWYWx1ZSkuYXN0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHdpdGhDb25zdHJ1Y3RvckRlZmF1bHQob3B0aW9uYWxUb1JlcXVpcmVkKGZyb20sIHR5cGVTY2hlbWEoZnJvbSksIHtcbiAgICAgICAgICBkZWNvZGU6IG9wdGlvbl8ubWF0Y2goe1xuICAgICAgICAgICAgb25Ob25lOiBkZWZhdWx0VmFsdWUsXG4gICAgICAgICAgICBvblNvbWU6IGlkZW50aXR5XG4gICAgICAgICAgfSksXG4gICAgICAgICAgZW5jb2RlOiBvcHRpb25fLnNvbWVcbiAgICAgICAgfSksIGRlZmF1bHRWYWx1ZSkuYXN0O1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoYXNPcHRpb24pIHtcbiAgICAgIGlmIChpc051bGxhYmxlKSB7XG4gICAgICAgIHJldHVybiBvcHRpb25hbFRvUmVxdWlyZWQoTnVsbE9yKGZyb20pLCBPcHRpb25Gcm9tU2VsZih0eXBlU2NoZW1hKGZyb20pKSwge1xuICAgICAgICAgIGRlY29kZTogb3B0aW9uXy5maWx0ZXIoUHJlZGljYXRlLmlzTm90TnVsbCksXG4gICAgICAgICAgZW5jb2RlOiBhc09wdGlvbkVuY29kZVxuICAgICAgICB9KS5hc3Q7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gb3B0aW9uYWxUb1JlcXVpcmVkKGZyb20sIE9wdGlvbkZyb21TZWxmKHR5cGVTY2hlbWEoZnJvbSkpLCB7XG4gICAgICAgICAgZGVjb2RlOiBpZGVudGl0eSxcbiAgICAgICAgICBlbmNvZGU6IGlkZW50aXR5XG4gICAgICAgIH0pLmFzdDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGlzTnVsbGFibGUpIHtcbiAgICAgICAgcmV0dXJuIG9wdGlvbmFsVG9PcHRpb25hbChOdWxsT3IoZnJvbSksIHR5cGVTY2hlbWEoZnJvbSksIHtcbiAgICAgICAgICBkZWNvZGU6IG9wdGlvbl8uZmlsdGVyKFByZWRpY2F0ZS5pc05vdE51bGwpLFxuICAgICAgICAgIGVuY29kZTogaWRlbnRpdHlcbiAgICAgICAgfSkuYXN0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9wZXJ0eVNpZ25hdHVyZURlY2xhcmF0aW9uKGZyb20uYXN0LCB0cnVlLCB0cnVlLCB7fSwgdW5kZWZpbmVkKTtcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKGRlZmF1bHRWYWx1ZSkge1xuICAgICAgaWYgKGlzTnVsbGFibGUpIHtcbiAgICAgICAgcmV0dXJuIHdpdGhDb25zdHJ1Y3RvckRlZmF1bHQob3B0aW9uYWxUb1JlcXVpcmVkKE51bGxpc2hPcihmcm9tKSwgdHlwZVNjaGVtYShmcm9tKSwge1xuICAgICAgICAgIGRlY29kZTogb3B0aW9uXy5tYXRjaCh7XG4gICAgICAgICAgICBvbk5vbmU6IGRlZmF1bHRWYWx1ZSxcbiAgICAgICAgICAgIG9uU29tZTogYSA9PiBhID09IG51bGwgPyBkZWZhdWx0VmFsdWUoKSA6IGFcbiAgICAgICAgICB9KSxcbiAgICAgICAgICBlbmNvZGU6IG9wdGlvbl8uc29tZVxuICAgICAgICB9KSwgZGVmYXVsdFZhbHVlKS5hc3Q7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gd2l0aENvbnN0cnVjdG9yRGVmYXVsdChvcHRpb25hbFRvUmVxdWlyZWQoVW5kZWZpbmVkT3IoZnJvbSksIHR5cGVTY2hlbWEoZnJvbSksIHtcbiAgICAgICAgICBkZWNvZGU6IG9wdGlvbl8ubWF0Y2goe1xuICAgICAgICAgICAgb25Ob25lOiBkZWZhdWx0VmFsdWUsXG4gICAgICAgICAgICBvblNvbWU6IGEgPT4gYSA9PT0gdW5kZWZpbmVkID8gZGVmYXVsdFZhbHVlKCkgOiBhXG4gICAgICAgICAgfSksXG4gICAgICAgICAgZW5jb2RlOiBvcHRpb25fLnNvbWVcbiAgICAgICAgfSksIGRlZmF1bHRWYWx1ZSkuYXN0O1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoYXNPcHRpb24pIHtcbiAgICAgIGlmIChpc051bGxhYmxlKSB7XG4gICAgICAgIHJldHVybiBvcHRpb25hbFRvUmVxdWlyZWQoTnVsbGlzaE9yKGZyb20pLCBPcHRpb25Gcm9tU2VsZih0eXBlU2NoZW1hKGZyb20pKSwge1xuICAgICAgICAgIGRlY29kZTogb3B0aW9uXy5maWx0ZXIoYSA9PiBhICE9IG51bGwpLFxuICAgICAgICAgIGVuY29kZTogYXNPcHRpb25FbmNvZGVcbiAgICAgICAgfSkuYXN0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG9wdGlvbmFsVG9SZXF1aXJlZChVbmRlZmluZWRPcihmcm9tKSwgT3B0aW9uRnJvbVNlbGYodHlwZVNjaGVtYShmcm9tKSksIHtcbiAgICAgICAgICBkZWNvZGU6IG9wdGlvbl8uZmlsdGVyKFByZWRpY2F0ZS5pc05vdFVuZGVmaW5lZCksXG4gICAgICAgICAgZW5jb2RlOiBhc09wdGlvbkVuY29kZVxuICAgICAgICB9KS5hc3Q7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChpc051bGxhYmxlKSB7XG4gICAgICAgIHJldHVybiBvcHRpb25hbFRvT3B0aW9uYWwoTnVsbGlzaE9yKGZyb20pLCBVbmRlZmluZWRPcih0eXBlU2NoZW1hKGZyb20pKSwge1xuICAgICAgICAgIGRlY29kZTogb3B0aW9uXy5maWx0ZXIoUHJlZGljYXRlLmlzTm90TnVsbCksXG4gICAgICAgICAgZW5jb2RlOiBpZGVudGl0eVxuICAgICAgICB9KS5hc3Q7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gbmV3IFByb3BlcnR5U2lnbmF0dXJlRGVjbGFyYXRpb24oVW5kZWZpbmVkT3IoZnJvbSkuYXN0LCB0cnVlLCB0cnVlLCB7fSwgdW5kZWZpbmVkKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn07XG4vKipcbiAqIEBjYXRlZ29yeSBQcm9wZXJ0eVNpZ25hdHVyZVxuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY29uc3Qgb3B0aW9uYWwgPSAvKiNfX1BVUkVfXyovZHVhbChhcmdzID0+IGlzU2NoZW1hKGFyZ3NbMF0pLCAoZnJvbSwgb3B0aW9ucykgPT4ge1xuICAvLyBOb3RlOiBgU2NoZW1hLkFsbCBleHRlbmRzIFMgPyBcInlvdSBjYW4ndC4uLmAgaXMgdXNlZCB0byBwcmV2ZW50IHRoZSBjYXNlIHdoZXJlIGBvcHRpb25hbGAgaXMgaW1wbGljaXRseSBhcHBsaWVkLlxuICAvLyBGb3IgZXhhbXBsZTogYFMuU3RyaW5nLnBpcGUoUy5vcHRpb25hbClgIHdvdWxkIHJlc3VsdCBpbiBgUy5TdHJpbmdgIGJlaW5nIGluZmVycmVkIGFzIGBTY2hlbWEuQWxsYCxcbiAgLy8gd2hpY2ggaXMgbm90IHRoZSBpbnRlbmRlZCBiZWhhdmlvci4gVGhpcyBpcyBtb3N0bHkgYW4gYWVzdGhldGljIGNvbnNpZGVyYXRpb24sIHNvIGlmIGl0IGNhdXNlcyBpc3N1ZXMsIHdlIGNhbiByZW1vdmUgaXQuXG4gIHJldHVybiBuZXcgUHJvcGVydHlTaWduYXR1cmVXaXRoRnJvbUltcGwob3B0aW9uYWxQcm9wZXJ0eVNpZ25hdHVyZUFTVChmcm9tLCBvcHRpb25zKSwgZnJvbSk7XG59KTtcbmNvbnN0IGlzUHJvcGVydHlTaWduYXR1cmUgPSB1ID0+IFByZWRpY2F0ZS5oYXNQcm9wZXJ0eSh1LCBQcm9wZXJ0eVNpZ25hdHVyZVR5cGVJZCk7XG5jb25zdCBnZXREZWZhdWx0VHlwZUxpdGVyYWxBU1QgPSAoZmllbGRzLCByZWNvcmRzKSA9PiB7XG4gIGNvbnN0IG93bktleXMgPSB1dGlsXy5vd25LZXlzKGZpZWxkcyk7XG4gIGNvbnN0IHBzcyA9IFtdO1xuICBpZiAob3duS2V5cy5sZW5ndGggPiAwKSB7XG4gICAgY29uc3QgZnJvbSA9IFtdO1xuICAgIGNvbnN0IHRvID0gW107XG4gICAgY29uc3QgdHJhbnNmb3JtYXRpb25zID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvd25LZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBrZXkgPSBvd25LZXlzW2ldO1xuICAgICAgY29uc3QgZmllbGQgPSBmaWVsZHNba2V5XTtcbiAgICAgIGlmIChpc1Byb3BlcnR5U2lnbmF0dXJlKGZpZWxkKSkge1xuICAgICAgICBjb25zdCBhc3QgPSBmaWVsZC5hc3Q7XG4gICAgICAgIHN3aXRjaCAoYXN0Ll90YWcpIHtcbiAgICAgICAgICBjYXNlIFwiUHJvcGVydHlTaWduYXR1cmVEZWNsYXJhdGlvblwiOlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBjb25zdCB0eXBlID0gYXN0LnR5cGU7XG4gICAgICAgICAgICAgIGNvbnN0IGlzT3B0aW9uYWwgPSBhc3QuaXNPcHRpb25hbDtcbiAgICAgICAgICAgICAgY29uc3QgdG9Bbm5vdGF0aW9ucyA9IGFzdC5hbm5vdGF0aW9ucztcbiAgICAgICAgICAgICAgZnJvbS5wdXNoKG5ldyBBU1QuUHJvcGVydHlTaWduYXR1cmUoa2V5LCB0eXBlLCBpc09wdGlvbmFsLCB0cnVlKSk7XG4gICAgICAgICAgICAgIHRvLnB1c2gobmV3IEFTVC5Qcm9wZXJ0eVNpZ25hdHVyZShrZXksIEFTVC50eXBlQVNUKHR5cGUpLCBpc09wdGlvbmFsLCB0cnVlLCB0b0Fubm90YXRpb25zKSk7XG4gICAgICAgICAgICAgIHBzcy5wdXNoKG5ldyBBU1QuUHJvcGVydHlTaWduYXR1cmUoa2V5LCB0eXBlLCBpc09wdGlvbmFsLCB0cnVlLCB0b0Fubm90YXRpb25zKSk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIGNhc2UgXCJQcm9wZXJ0eVNpZ25hdHVyZVRyYW5zZm9ybWF0aW9uXCI6XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGNvbnN0IGZyb21LZXkgPSBhc3QuZnJvbS5mcm9tS2V5ID8/IGtleTtcbiAgICAgICAgICAgICAgZnJvbS5wdXNoKG5ldyBBU1QuUHJvcGVydHlTaWduYXR1cmUoZnJvbUtleSwgYXN0LmZyb20udHlwZSwgYXN0LmZyb20uaXNPcHRpb25hbCwgdHJ1ZSwgYXN0LmZyb20uYW5ub3RhdGlvbnMpKTtcbiAgICAgICAgICAgICAgdG8ucHVzaChuZXcgQVNULlByb3BlcnR5U2lnbmF0dXJlKGtleSwgYXN0LnRvLnR5cGUsIGFzdC50by5pc09wdGlvbmFsLCB0cnVlLCBhc3QudG8uYW5ub3RhdGlvbnMpKTtcbiAgICAgICAgICAgICAgdHJhbnNmb3JtYXRpb25zLnB1c2gobmV3IEFTVC5Qcm9wZXJ0eVNpZ25hdHVyZVRyYW5zZm9ybWF0aW9uKGZyb21LZXksIGtleSwgYXN0LmRlY29kZSwgYXN0LmVuY29kZSkpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZnJvbS5wdXNoKG5ldyBBU1QuUHJvcGVydHlTaWduYXR1cmUoa2V5LCBmaWVsZC5hc3QsIGZhbHNlLCB0cnVlKSk7XG4gICAgICAgIHRvLnB1c2gobmV3IEFTVC5Qcm9wZXJ0eVNpZ25hdHVyZShrZXksIEFTVC50eXBlQVNUKGZpZWxkLmFzdCksIGZhbHNlLCB0cnVlKSk7XG4gICAgICAgIHBzcy5wdXNoKG5ldyBBU1QuUHJvcGVydHlTaWduYXR1cmUoa2V5LCBmaWVsZC5hc3QsIGZhbHNlLCB0cnVlKSk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChhcnJheV8uaXNOb25FbXB0eVJlYWRvbmx5QXJyYXkodHJhbnNmb3JtYXRpb25zKSkge1xuICAgICAgY29uc3QgaXNzRnJvbSA9IFtdO1xuICAgICAgY29uc3QgaXNzVG8gPSBbXTtcbiAgICAgIGZvciAoY29uc3QgciBvZiByZWNvcmRzKSB7XG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICBpbmRleFNpZ25hdHVyZXMsXG4gICAgICAgICAgcHJvcGVydHlTaWduYXR1cmVzXG4gICAgICAgIH0gPSBBU1QucmVjb3JkKHIua2V5LmFzdCwgci52YWx1ZS5hc3QpO1xuICAgICAgICBwcm9wZXJ0eVNpZ25hdHVyZXMuZm9yRWFjaChwcyA9PiB7XG4gICAgICAgICAgZnJvbS5wdXNoKHBzKTtcbiAgICAgICAgICB0by5wdXNoKG5ldyBBU1QuUHJvcGVydHlTaWduYXR1cmUocHMubmFtZSwgQVNULnR5cGVBU1QocHMudHlwZSksIHBzLmlzT3B0aW9uYWwsIHBzLmlzUmVhZG9ubHksIHBzLmFubm90YXRpb25zKSk7XG4gICAgICAgIH0pO1xuICAgICAgICBpbmRleFNpZ25hdHVyZXMuZm9yRWFjaChpcyA9PiB7XG4gICAgICAgICAgaXNzRnJvbS5wdXNoKGlzKTtcbiAgICAgICAgICBpc3NUby5wdXNoKG5ldyBBU1QuSW5kZXhTaWduYXR1cmUoaXMucGFyYW1ldGVyLCBBU1QudHlwZUFTVChpcy50eXBlKSwgaXMuaXNSZWFkb25seSkpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXcgQVNULlRyYW5zZm9ybWF0aW9uKG5ldyBBU1QuVHlwZUxpdGVyYWwoZnJvbSwgaXNzRnJvbSwge1xuICAgICAgICBbQVNULlRpdGxlQW5ub3RhdGlvbklkXTogXCJTdHJ1Y3QgKEVuY29kZWQgc2lkZSlcIlxuICAgICAgfSksIG5ldyBBU1QuVHlwZUxpdGVyYWwodG8sIGlzc1RvLCB7XG4gICAgICAgIFtBU1QuVGl0bGVBbm5vdGF0aW9uSWRdOiBcIlN0cnVjdCAoVHlwZSBzaWRlKVwiXG4gICAgICB9KSwgbmV3IEFTVC5UeXBlTGl0ZXJhbFRyYW5zZm9ybWF0aW9uKHRyYW5zZm9ybWF0aW9ucykpO1xuICAgIH1cbiAgfVxuICBjb25zdCBpc3MgPSBbXTtcbiAgZm9yIChjb25zdCByIG9mIHJlY29yZHMpIHtcbiAgICBjb25zdCB7XG4gICAgICBpbmRleFNpZ25hdHVyZXMsXG4gICAgICBwcm9wZXJ0eVNpZ25hdHVyZXNcbiAgICB9ID0gQVNULnJlY29yZChyLmtleS5hc3QsIHIudmFsdWUuYXN0KTtcbiAgICBwcm9wZXJ0eVNpZ25hdHVyZXMuZm9yRWFjaChwcyA9PiBwc3MucHVzaChwcykpO1xuICAgIGluZGV4U2lnbmF0dXJlcy5mb3JFYWNoKGlzID0+IGlzcy5wdXNoKGlzKSk7XG4gIH1cbiAgcmV0dXJuIG5ldyBBU1QuVHlwZUxpdGVyYWwocHNzLCBpc3MpO1xufTtcbmNvbnN0IGxhemlseU1lcmdlRGVmYXVsdHMgPSAoZmllbGRzLCBvdXQpID0+IHtcbiAgY29uc3Qgb3duS2V5cyA9IHV0aWxfLm93bktleXMoZmllbGRzKTtcbiAgZm9yIChjb25zdCBrZXkgb2Ygb3duS2V5cykge1xuICAgIGNvbnN0IGZpZWxkID0gZmllbGRzW2tleV07XG4gICAgaWYgKG91dFtrZXldID09PSB1bmRlZmluZWQgJiYgaXNQcm9wZXJ0eVNpZ25hdHVyZShmaWVsZCkpIHtcbiAgICAgIGNvbnN0IGFzdCA9IGZpZWxkLmFzdDtcbiAgICAgIGNvbnN0IGRlZmF1bHRWYWx1ZSA9IGFzdC5fdGFnID09PSBcIlByb3BlcnR5U2lnbmF0dXJlRGVjbGFyYXRpb25cIiA/IGFzdC5kZWZhdWx0VmFsdWUgOiBhc3QudG8uZGVmYXVsdFZhbHVlO1xuICAgICAgaWYgKGRlZmF1bHRWYWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIG91dFtrZXldID0gZGVmYXVsdFZhbHVlKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBvdXQ7XG59O1xuY29uc3QgbWFrZVR5cGVMaXRlcmFsQ2xhc3MgPSAoZmllbGRzLCByZWNvcmRzLCBhc3QgPSBnZXREZWZhdWx0VHlwZUxpdGVyYWxBU1QoZmllbGRzLCByZWNvcmRzKSkgPT4ge1xuICByZXR1cm4gY2xhc3MgVHlwZUxpdGVyYWxDbGFzcyBleHRlbmRzIG1ha2UoYXN0KSB7XG4gICAgc3RhdGljIGFubm90YXRpb25zKGFubm90YXRpb25zKSB7XG4gICAgICByZXR1cm4gbWFrZVR5cGVMaXRlcmFsQ2xhc3ModGhpcy5maWVsZHMsIHRoaXMucmVjb3JkcywgbWVyZ2VTY2hlbWFBbm5vdGF0aW9ucyh0aGlzLmFzdCwgYW5ub3RhdGlvbnMpKTtcbiAgICB9XG4gICAgc3RhdGljIGZpZWxkcyA9IHtcbiAgICAgIC4uLmZpZWxkc1xuICAgIH07XG4gICAgc3RhdGljIHJlY29yZHMgPSBbLi4ucmVjb3Jkc107XG4gICAgc3RhdGljIG1ha2UgPSAocHJvcHMsIG9wdGlvbnMpID0+IHtcbiAgICAgIGNvbnN0IHByb3BzV2l0aERlZmF1bHRzID0gbGF6aWx5TWVyZ2VEZWZhdWx0cyhmaWVsZHMsIHtcbiAgICAgICAgLi4ucHJvcHNcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGdldERpc2FibGVWYWxpZGF0aW9uTWFrZU9wdGlvbihvcHRpb25zKSA/IHByb3BzV2l0aERlZmF1bHRzIDogUGFyc2VSZXN1bHQudmFsaWRhdGVTeW5jKHRoaXMpKHByb3BzV2l0aERlZmF1bHRzKTtcbiAgICB9O1xuICAgIHN0YXRpYyBwaWNrKC4uLmtleXMpIHtcbiAgICAgIHJldHVybiBTdHJ1Y3Qoc3RydWN0Xy5waWNrKGZpZWxkcywgLi4ua2V5cykpO1xuICAgIH1cbiAgICBzdGF0aWMgb21pdCguLi5rZXlzKSB7XG4gICAgICByZXR1cm4gU3RydWN0KHN0cnVjdF8ub21pdChmaWVsZHMsIC4uLmtleXMpKTtcbiAgICB9XG4gIH07XG59O1xuZXhwb3J0IGZ1bmN0aW9uIFN0cnVjdChmaWVsZHMsIC4uLnJlY29yZHMpIHtcbiAgcmV0dXJuIG1ha2VUeXBlTGl0ZXJhbENsYXNzKGZpZWxkcywgcmVjb3Jkcyk7XG59XG4vKipcbiAqIFJldHVybnMgYSBwcm9wZXJ0eSBzaWduYXR1cmUgdGhhdCByZXByZXNlbnRzIGEgdGFnLlxuICogQSB0YWcgaXMgYSBsaXRlcmFsIHZhbHVlIHRoYXQgaXMgdXNlZCB0byBkaXN0aW5ndWlzaCBiZXR3ZWVuIGRpZmZlcmVudCB0eXBlcyBvZiBvYmplY3RzLlxuICogVGhlIHRhZyBpcyBvcHRpb25hbCB3aGVuIHVzaW5nIHRoZSBgbWFrZWAgbWV0aG9kLlxuICpcbiAqIEBzZWUge0BsaW5rIFRhZ2dlZFN0cnVjdH1cbiAqXG4gKiBAZXhhbXBsZVxuICogaW1wb3J0IHsgU2NoZW1hIH0gZnJvbSBcIkBlZmZlY3Qvc2NoZW1hXCJcbiAqXG4gKiBjb25zdCBVc2VyID0gU2NoZW1hLlN0cnVjdCh7XG4gKiAgIF90YWc6IFNjaGVtYS50YWcoXCJVc2VyXCIpLFxuICogICBuYW1lOiBTY2hlbWEuU3RyaW5nLFxuICogICBhZ2U6IFNjaGVtYS5OdW1iZXJcbiAqIH0pXG4gKlxuICogYXNzZXJ0LmRlZXBTdHJpY3RFcXVhbChVc2VyLm1ha2UoeyBuYW1lOiBcIkpvaG5cIiwgYWdlOiA0NCB9KSwgeyBfdGFnOiBcIlVzZXJcIiwgbmFtZTogXCJKb2huXCIsIGFnZTogNDQgfSlcbiAqXG4gKiBAc2luY2UgMC42Ny4xNFxuICovXG5leHBvcnQgY29uc3QgdGFnID0gdGFnID0+IExpdGVyYWwodGFnKS5waXBlKHByb3BlcnR5U2lnbmF0dXJlLCB3aXRoQ29uc3RydWN0b3JEZWZhdWx0KCgpID0+IHRhZykpO1xuLyoqXG4gKiBBIHRhZ2dlZCBzdHJ1Y3QgaXMgYSBzdHJ1Y3QgdGhhdCBoYXMgYSB0YWcgcHJvcGVydHkgdGhhdCBpcyB1c2VkIHRvIGRpc3Rpbmd1aXNoIGJldHdlZW4gZGlmZmVyZW50IHR5cGVzIG9mIG9iamVjdHMuXG4gKlxuICogVGhlIHRhZyBpcyBvcHRpb25hbCB3aGVuIHVzaW5nIHRoZSBgbWFrZWAgbWV0aG9kLlxuICpcbiAqIEBleGFtcGxlXG4gKiBpbXBvcnQgeyBTY2hlbWEgfSBmcm9tIFwiQGVmZmVjdC9zY2hlbWFcIlxuICpcbiAqIGNvbnN0IFVzZXIgPSBTY2hlbWEuVGFnZ2VkU3RydWN0KFwiVXNlclwiLCB7XG4gKiAgIG5hbWU6IFNjaGVtYS5TdHJpbmcsXG4gKiAgIGFnZTogU2NoZW1hLk51bWJlclxuICogfSlcbiAqXG4gKiBhc3NlcnQuZGVlcFN0cmljdEVxdWFsKFVzZXIubWFrZSh7IG5hbWU6IFwiSm9oblwiLCBhZ2U6IDQ0IH0pLCB7IF90YWc6IFwiVXNlclwiLCBuYW1lOiBcIkpvaG5cIiwgYWdlOiA0NCB9KVxuICpcbiAqIEBjYXRlZ29yeSBjb25zdHJ1Y3RvcnNcbiAqIEBzaW5jZSAwLjY3LjE0XG4gKi9cbmV4cG9ydCBjb25zdCBUYWdnZWRTdHJ1Y3QgPSAodmFsdWUsIGZpZWxkcykgPT4gU3RydWN0KHtcbiAgX3RhZzogdGFnKHZhbHVlKSxcbiAgLi4uZmllbGRzXG59KTtcbmNvbnN0IG1ha2VSZWNvcmRDbGFzcyA9IChrZXksIHZhbHVlLCBhc3QpID0+IGNsYXNzIFJlY29yZENsYXNzIGV4dGVuZHMgbWFrZVR5cGVMaXRlcmFsQ2xhc3Moe30sIFt7XG4gIGtleSxcbiAgdmFsdWVcbn1dLCBhc3QpIHtcbiAgc3RhdGljIGFubm90YXRpb25zKGFubm90YXRpb25zKSB7XG4gICAgcmV0dXJuIG1ha2VSZWNvcmRDbGFzcyhrZXksIHZhbHVlLCBtZXJnZVNjaGVtYUFubm90YXRpb25zKHRoaXMuYXN0LCBhbm5vdGF0aW9ucykpO1xuICB9XG4gIHN0YXRpYyBrZXkgPSBrZXk7XG4gIHN0YXRpYyB2YWx1ZSA9IHZhbHVlO1xufTtcbi8qKlxuICogQGNhdGVnb3J5IGNvbnN0cnVjdG9yc1xuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY29uc3QgUmVjb3JkID0gKGtleSwgdmFsdWUpID0+IG1ha2VSZWNvcmRDbGFzcyhrZXksIHZhbHVlKTtcbi8qKlxuICogQGNhdGVnb3J5IHN0cnVjdCB0cmFuc2Zvcm1hdGlvbnNcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNvbnN0IHBpY2sgPSAoLi4ua2V5cykgPT4gc2VsZiA9PiBtYWtlKEFTVC5waWNrKHNlbGYuYXN0LCBrZXlzKSk7XG4vKipcbiAqIEBjYXRlZ29yeSBzdHJ1Y3QgdHJhbnNmb3JtYXRpb25zXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjb25zdCBvbWl0ID0gKC4uLmtleXMpID0+IHNlbGYgPT4gbWFrZShBU1Qub21pdChzZWxmLmFzdCwga2V5cykpO1xuLyoqXG4gKiBHaXZlbiBhIHNjaGVtYSBgU2NoZW1hPEEsIEksIFI+YCBhbmQgYSBrZXkgYGtleTogS2AsIHRoaXMgZnVuY3Rpb24gZXh0cmFjdHMgYSBzcGVjaWZpYyBmaWVsZCBmcm9tIHRoZSBgQWAgdHlwZSxcbiAqIHByb2R1Y2luZyBhIG5ldyBzY2hlbWEgdGhhdCByZXByZXNlbnRzIGEgdHJhbnNmb3JtYXRpb24gZnJvbSB0aGUgYHsgcmVhZG9ubHkgW2tleV06IElbS10gfWAgdHlwZSB0byBgQVtLXWAuXG4gKlxuICogQGV4YW1wbGVcbiAqIGltcG9ydCAqIGFzIFMgZnJvbSBcIkBlZmZlY3Qvc2NoZW1hL1NjaGVtYVwiXG4gKlxuICogLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiAvLyB1c2UgY2FzZTogcHVsbCBvdXQgYSBzaW5nbGUgZmllbGQgZnJvbSBhXG4gKiAvLyBzdHJ1Y3QgdGhyb3VnaCBhIHRyYW5zZm9ybWF0aW9uXG4gKiAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqXG4gKiBjb25zdCBteXRhYmxlID0gUy5TdHJ1Y3Qoe1xuICogICBjb2x1bW4xOiBTLk51bWJlckZyb21TdHJpbmcsXG4gKiAgIGNvbHVtbjI6IFMuTnVtYmVyXG4gKiB9KVxuICpcbiAqIC8vIGNvbnN0IHB1bGxPdXRDb2x1bW46IFMuU2NoZW1hPG51bWJlciwge1xuICogLy8gICAgIHJlYWRvbmx5IGNvbHVtbjE6IHN0cmluZztcbiAqIC8vIH0sIG5ldmVyPlxuICogY29uc3QgcHVsbE91dENvbHVtbiA9IG15dGFibGUucGlwZShTLnBsdWNrKFwiY29sdW1uMVwiKSlcbiAqXG4gKiBjb25zb2xlLmxvZyhTLmRlY29kZVVua25vd25FaXRoZXIoUy5BcnJheShwdWxsT3V0Q29sdW1uKSkoW3sgY29sdW1uMTogXCIxXCIsIGNvbHVtbjI6IDEwMCB9LCB7IGNvbHVtbjE6IFwiMlwiLCBjb2x1bW4yOiAzMDAgfV0pKVxuICogLy8gT3V0cHV0OiB7IF9pZDogJ0VpdGhlcicsIF90YWc6ICdSaWdodCcsIHJpZ2h0OiBbIDEsIDIgXSB9XG4gKlxuICogQGNhdGVnb3J5IHN0cnVjdCB0cmFuc2Zvcm1hdGlvbnNcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNvbnN0IHBsdWNrID0gLyojX19QVVJFX18qL2R1YWwoMiwgKHNjaGVtYSwga2V5KSA9PiB7XG4gIGNvbnN0IHBzID0gQVNULmdldFByb3BlcnR5S2V5SW5kZXhlZEFjY2VzcyhBU1QudHlwZUFTVChzY2hlbWEuYXN0KSwga2V5KTtcbiAgY29uc3QgdmFsdWUgPSBtYWtlKHBzLmlzT3B0aW9uYWwgPyBBU1Qub3JVbmRlZmluZWQocHMudHlwZSkgOiBwcy50eXBlKTtcbiAgcmV0dXJuIHRyYW5zZm9ybShzY2hlbWEucGlwZShwaWNrKGtleSkpLCB2YWx1ZSwge1xuICAgIHN0cmljdDogdHJ1ZSxcbiAgICBkZWNvZGU6IGEgPT4gYVtrZXldLFxuICAgIGVuY29kZTogYWsgPT4gcHMuaXNPcHRpb25hbCAmJiBhayA9PT0gdW5kZWZpbmVkID8ge30gOiB7XG4gICAgICBba2V5XTogYWtcbiAgICB9XG4gIH0pO1xufSk7XG5jb25zdCBtYWtlQnJhbmRDbGFzcyA9IGFzdCA9PiBjbGFzcyBCcmFuZENsYXNzIGV4dGVuZHMgbWFrZShhc3QpIHtcbiAgc3RhdGljIGFubm90YXRpb25zKGFubm90YXRpb25zKSB7XG4gICAgcmV0dXJuIG1ha2VCcmFuZENsYXNzKG1lcmdlU2NoZW1hQW5ub3RhdGlvbnModGhpcy5hc3QsIGFubm90YXRpb25zKSk7XG4gIH1cbiAgc3RhdGljIG1ha2UgPSAoYSwgb3B0aW9ucykgPT4ge1xuICAgIHJldHVybiBnZXREaXNhYmxlVmFsaWRhdGlvbk1ha2VPcHRpb24ob3B0aW9ucykgPyBhIDogUGFyc2VSZXN1bHQudmFsaWRhdGVTeW5jKHRoaXMpKGEpO1xuICB9O1xufTtcbi8qKlxuICogUmV0dXJucyBhIG5vbWluYWwgYnJhbmRlZCBzY2hlbWEgYnkgYXBwbHlpbmcgYSBicmFuZCB0byBhIGdpdmVuIHNjaGVtYS5cbiAqXG4gKiBgYGBcbiAqIFNjaGVtYTxBPiArIEIgLT4gU2NoZW1hPEEgJiBCcmFuZDxCPj5cbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBzZWxmIC0gVGhlIGlucHV0IHNjaGVtYSB0byBiZSBjb21iaW5lZCB3aXRoIHRoZSBicmFuZC5cbiAqIEBwYXJhbSBicmFuZCAtIFRoZSBicmFuZCB0byBhcHBseS5cbiAqXG4gKiBAZXhhbXBsZVxuICogaW1wb3J0ICogYXMgU2NoZW1hIGZyb20gXCJAZWZmZWN0L3NjaGVtYS9TY2hlbWFcIlxuICpcbiAqIGNvbnN0IEludCA9IFNjaGVtYS5OdW1iZXIucGlwZShTY2hlbWEuaW50KCksIFNjaGVtYS5icmFuZChcIkludFwiKSlcbiAqIHR5cGUgSW50ID0gU2NoZW1hLlNjaGVtYS5UeXBlPHR5cGVvZiBJbnQ+IC8vIG51bWJlciAmIEJyYW5kPFwiSW50XCI+XG4gKlxuICogQGNhdGVnb3J5IGJyYW5kaW5nXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjb25zdCBicmFuZCA9IChicmFuZCwgYW5ub3RhdGlvbnMpID0+IHNlbGYgPT4ge1xuICBjb25zdCBhbm5vdGF0aW9uID0gb3B0aW9uXy5tYXRjaChBU1QuZ2V0QnJhbmRBbm5vdGF0aW9uKHNlbGYuYXN0KSwge1xuICAgIG9uTm9uZTogKCkgPT4gW2JyYW5kXSxcbiAgICBvblNvbWU6IGJyYW5kcyA9PiBbLi4uYnJhbmRzLCBicmFuZF1cbiAgfSk7XG4gIGNvbnN0IGFzdCA9IEFTVC5hbm5vdGF0aW9ucyhzZWxmLmFzdCwgdG9BU1RBbm5vdGF0aW9ucyh7XG4gICAgLy8gYWRkIGEgZGVmYXVsdCB0aXRsZSBhbm5vdGF0aW9uIGNvbnRhaW5pbmcgdGhlIGJyYW5kXG4gICAgdGl0bGU6IFN0cmluZyhzZWxmLmFzdCkgKyBgICYgQnJhbmQ8JHt1dGlsXy5mb3JtYXRVbmtub3duKGJyYW5kKX0+YCxcbiAgICAuLi5hbm5vdGF0aW9ucyxcbiAgICBbQVNULkJyYW5kQW5ub3RhdGlvbklkXTogYW5ub3RhdGlvblxuICB9KSk7XG4gIHJldHVybiBtYWtlQnJhbmRDbGFzcyhhc3QpO1xufTtcbi8qKlxuICogQGNhdGVnb3J5IGNvbWJpbmF0b3JzXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjb25zdCBwYXJ0aWFsID0gLyojX19QVVJFX18qL2R1YWwoYXJncyA9PiBpc1NjaGVtYShhcmdzWzBdKSwgKHNlbGYsIG9wdGlvbnMpID0+IG1ha2UoQVNULnBhcnRpYWwoc2VsZi5hc3QsIG9wdGlvbnMpKSk7XG4vKipcbiAqIEBjYXRlZ29yeSBjb21iaW5hdG9yc1xuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY29uc3QgcmVxdWlyZWQgPSBzZWxmID0+IG1ha2UoQVNULnJlcXVpcmVkKHNlbGYuYXN0KSk7XG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgc2NoZW1hIHdpdGggc2hhbGxvdyBtdXRhYmlsaXR5IGFwcGxpZWQgdG8gaXRzIHByb3BlcnRpZXMuXG4gKlxuICogQHBhcmFtIHNjaGVtYSAtIFRoZSBvcmlnaW5hbCBzY2hlbWEgdG8gbWFrZSBwcm9wZXJ0aWVzIG11dGFibGUgKHNoYWxsb3dseSkuXG4gKlxuICogQGNhdGVnb3J5IGNvbWJpbmF0b3JzXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjb25zdCBtdXRhYmxlID0gc2NoZW1hID0+IG1ha2UoQVNULm11dGFibGUoc2NoZW1hLmFzdCkpO1xuY29uc3QgaW50ZXJzZWN0VHlwZUxpdGVyYWxzID0gKHgsIHksIHBhdGgpID0+IHtcbiAgaWYgKEFTVC5pc1R5cGVMaXRlcmFsKHgpICYmIEFTVC5pc1R5cGVMaXRlcmFsKHkpKSB7XG4gICAgY29uc3QgcHJvcGVydHlTaWduYXR1cmVzID0gWy4uLngucHJvcGVydHlTaWduYXR1cmVzXTtcbiAgICBmb3IgKGNvbnN0IHBzIG9mIHkucHJvcGVydHlTaWduYXR1cmVzKSB7XG4gICAgICBjb25zdCBuYW1lID0gcHMubmFtZTtcbiAgICAgIGNvbnN0IGkgPSBwcm9wZXJ0eVNpZ25hdHVyZXMuZmluZEluZGV4KHBzID0+IHBzLm5hbWUgPT09IG5hbWUpO1xuICAgICAgaWYgKGkgPT09IC0xKSB7XG4gICAgICAgIHByb3BlcnR5U2lnbmF0dXJlcy5wdXNoKHBzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICBpc09wdGlvbmFsLFxuICAgICAgICAgIHR5cGVcbiAgICAgICAgfSA9IHByb3BlcnR5U2lnbmF0dXJlc1tpXTtcbiAgICAgICAgcHJvcGVydHlTaWduYXR1cmVzW2ldID0gbmV3IEFTVC5Qcm9wZXJ0eVNpZ25hdHVyZShuYW1lLCBleHRlbmRBU1QodHlwZSwgcHMudHlwZSwgcGF0aC5jb25jYXQobmFtZSkpLCBpc09wdGlvbmFsLCB0cnVlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG5ldyBBU1QuVHlwZUxpdGVyYWwocHJvcGVydHlTaWduYXR1cmVzLCB4LmluZGV4U2lnbmF0dXJlcy5jb25jYXQoeS5pbmRleFNpZ25hdHVyZXMpKTtcbiAgfVxuICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JzXy5nZXRTY2hlbWFFeHRlbmRFcnJvck1lc3NhZ2UoeCwgeSwgcGF0aCkpO1xufTtcbmNvbnN0IHByZXNlcnZlUmVmaW5lbWVudEFubm90YXRpb25zID0gLyojX19QVVJFX18qL0FTVC5wcmVzZXJ2ZUFubm90YXRpb25zKFtBU1QuTWVzc2FnZUFubm90YXRpb25JZCwgQVNULkpTT05TY2hlbWFBbm5vdGF0aW9uSWRdKTtcbmNvbnN0IGFkZFJlZmluZW1lbnRUb01lbWJlcnMgPSAocmVmaW5lbWVudCwgYXN0cykgPT4gYXN0cy5tYXAoYXN0ID0+IG5ldyBBU1QuUmVmaW5lbWVudChhc3QsIHJlZmluZW1lbnQuZmlsdGVyLCBwcmVzZXJ2ZVJlZmluZW1lbnRBbm5vdGF0aW9ucyhyZWZpbmVtZW50KSkpO1xuY29uc3QgZXh0ZW5kQVNUID0gKHgsIHksIHBhdGgpID0+IEFTVC5Vbmlvbi5tYWtlKGludGVyc2VjdFVuaW9uTWVtYmVycyhbeF0sIFt5XSwgcGF0aCkpO1xuY29uc3QgZ2V0VHlwZXMgPSBhc3QgPT4gQVNULmlzVW5pb24oYXN0KSA/IGFzdC50eXBlcyA6IFthc3RdO1xuY29uc3QgaW50ZXJzZWN0VW5pb25NZW1iZXJzID0gKHhzLCB5cywgcGF0aCkgPT4gYXJyYXlfLmZsYXRNYXAoeHMsIHggPT4gYXJyYXlfLmZsYXRNYXAoeXMsIHkgPT4ge1xuICBzd2l0Y2ggKHguX3RhZykge1xuICAgIGNhc2UgXCJVbmlvblwiOlxuICAgICAgcmV0dXJuIGludGVyc2VjdFVuaW9uTWVtYmVycyh4LnR5cGVzLCBnZXRUeXBlcyh5KSwgcGF0aCk7XG4gICAgY2FzZSBcIlN1c3BlbmRcIjpcbiAgICAgIHJldHVybiBbbmV3IEFTVC5TdXNwZW5kKCgpID0+IGV4dGVuZEFTVCh4LmYoKSwgeSwgcGF0aCkpXTtcbiAgICBjYXNlIFwiUmVmaW5lbWVudFwiOlxuICAgICAgcmV0dXJuIGFkZFJlZmluZW1lbnRUb01lbWJlcnMoeCwgaW50ZXJzZWN0VW5pb25NZW1iZXJzKGdldFR5cGVzKHguZnJvbSksIGdldFR5cGVzKHkpLCBwYXRoKSk7XG4gICAgY2FzZSBcIlR5cGVMaXRlcmFsXCI6XG4gICAgICB7XG4gICAgICAgIHN3aXRjaCAoeS5fdGFnKSB7XG4gICAgICAgICAgY2FzZSBcIlVuaW9uXCI6XG4gICAgICAgICAgICByZXR1cm4gaW50ZXJzZWN0VW5pb25NZW1iZXJzKFt4XSwgeS50eXBlcywgcGF0aCk7XG4gICAgICAgICAgY2FzZSBcIlN1c3BlbmRcIjpcbiAgICAgICAgICAgIHJldHVybiBbbmV3IEFTVC5TdXNwZW5kKCgpID0+IGV4dGVuZEFTVCh4LCB5LmYoKSwgcGF0aCkpXTtcbiAgICAgICAgICBjYXNlIFwiUmVmaW5lbWVudFwiOlxuICAgICAgICAgICAgcmV0dXJuIGFkZFJlZmluZW1lbnRUb01lbWJlcnMoeSwgaW50ZXJzZWN0VW5pb25NZW1iZXJzKFt4XSwgZ2V0VHlwZXMoeS5mcm9tKSwgcGF0aCkpO1xuICAgICAgICAgIGNhc2UgXCJUeXBlTGl0ZXJhbFwiOlxuICAgICAgICAgICAgcmV0dXJuIFtpbnRlcnNlY3RUeXBlTGl0ZXJhbHMoeCwgeSwgcGF0aCldO1xuICAgICAgICAgIGNhc2UgXCJUcmFuc2Zvcm1hdGlvblwiOlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBpZiAoQVNULmlzVHlwZUxpdGVyYWxUcmFuc2Zvcm1hdGlvbih5LnRyYW5zZm9ybWF0aW9uKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBbbmV3IEFTVC5UcmFuc2Zvcm1hdGlvbihpbnRlcnNlY3RUeXBlTGl0ZXJhbHMoeCwgeS5mcm9tLCBwYXRoKSwgaW50ZXJzZWN0VHlwZUxpdGVyYWxzKEFTVC50eXBlQVNUKHgpLCB5LnRvLCBwYXRoKSwgbmV3IEFTVC5UeXBlTGl0ZXJhbFRyYW5zZm9ybWF0aW9uKHkudHJhbnNmb3JtYXRpb24ucHJvcGVydHlTaWduYXR1cmVUcmFuc2Zvcm1hdGlvbnMpKV07XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgY2FzZSBcIlRyYW5zZm9ybWF0aW9uXCI6XG4gICAgICB7XG4gICAgICAgIGlmIChBU1QuaXNUeXBlTGl0ZXJhbFRyYW5zZm9ybWF0aW9uKHgudHJhbnNmb3JtYXRpb24pKSB7XG4gICAgICAgICAgc3dpdGNoICh5Ll90YWcpIHtcbiAgICAgICAgICAgIGNhc2UgXCJVbmlvblwiOlxuICAgICAgICAgICAgICByZXR1cm4gaW50ZXJzZWN0VW5pb25NZW1iZXJzKFt4XSwgeS50eXBlcywgcGF0aCk7XG4gICAgICAgICAgICBjYXNlIFwiU3VzcGVuZFwiOlxuICAgICAgICAgICAgICByZXR1cm4gW25ldyBBU1QuU3VzcGVuZCgoKSA9PiBleHRlbmRBU1QoeCwgeS5mKCksIHBhdGgpKV07XG4gICAgICAgICAgICBjYXNlIFwiUmVmaW5lbWVudFwiOlxuICAgICAgICAgICAgICByZXR1cm4gYWRkUmVmaW5lbWVudFRvTWVtYmVycyh5LCBpbnRlcnNlY3RVbmlvbk1lbWJlcnMoW3hdLCBnZXRUeXBlcyh5LmZyb20pLCBwYXRoKSk7XG4gICAgICAgICAgICBjYXNlIFwiVHlwZUxpdGVyYWxcIjpcbiAgICAgICAgICAgICAgcmV0dXJuIFtuZXcgQVNULlRyYW5zZm9ybWF0aW9uKGludGVyc2VjdFR5cGVMaXRlcmFscyh4LmZyb20sIHksIHBhdGgpLCBpbnRlcnNlY3RUeXBlTGl0ZXJhbHMoeC50bywgQVNULnR5cGVBU1QoeSksIHBhdGgpLCBuZXcgQVNULlR5cGVMaXRlcmFsVHJhbnNmb3JtYXRpb24oeC50cmFuc2Zvcm1hdGlvbi5wcm9wZXJ0eVNpZ25hdHVyZVRyYW5zZm9ybWF0aW9ucykpXTtcbiAgICAgICAgICAgIGNhc2UgXCJUcmFuc2Zvcm1hdGlvblwiOlxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKEFTVC5pc1R5cGVMaXRlcmFsVHJhbnNmb3JtYXRpb24oeS50cmFuc2Zvcm1hdGlvbikpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBbbmV3IEFTVC5UcmFuc2Zvcm1hdGlvbihpbnRlcnNlY3RUeXBlTGl0ZXJhbHMoeC5mcm9tLCB5LmZyb20sIHBhdGgpLCBpbnRlcnNlY3RUeXBlTGl0ZXJhbHMoeC50bywgeS50bywgcGF0aCksIG5ldyBBU1QuVHlwZUxpdGVyYWxUcmFuc2Zvcm1hdGlvbih4LnRyYW5zZm9ybWF0aW9uLnByb3BlcnR5U2lnbmF0dXJlVHJhbnNmb3JtYXRpb25zLmNvbmNhdCh5LnRyYW5zZm9ybWF0aW9uLnByb3BlcnR5U2lnbmF0dXJlVHJhbnNmb3JtYXRpb25zKSkpXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICB9XG4gIHRocm93IG5ldyBFcnJvcihlcnJvcnNfLmdldFNjaGVtYUV4dGVuZEVycm9yTWVzc2FnZSh4LCB5LCBwYXRoKSk7XG59KSk7XG4vKipcbiAqIEV4dGVuZHMgYSBzY2hlbWEgYnkgYWRkaW5nIGFkZGl0aW9uYWwgZmllbGRzIG9yIGluZGV4IHNpZ25hdHVyZXMuXG4gKlxuICogMSkgSXQgb25seSBzdXBwb3J0cyAqKnN0cnVjdHMqKiwgcmVmaW5lbWVudHMgb2Ygc3RydWN0cywgdW5pb25zIG9mIHN0cnVjdHMsIHN1c3BlbnNpb25zIG9mIHN0cnVjdHNcbiAqIChpbmZvcm1hbGx5IGBTdXBwb3J0ZWQgPSBTdHJ1Y3QgfCBSZWZpbmVtZW50IG9mIFN1cHBvcnRlZCB8IFVuaW9uIG9mIFN1cHBvcnRlZCB8IHN1c3BlbmQoKCkgPT4gU3VwcG9ydGVkKWApXG4gKiAyKSBUaGUgYXJndW1lbnRzIG11c3QgcmVwcmVzZW50IGRpc2pvaW50IHR5cGVzIChlLmcuLCBgZXh0ZW5kKFN0cnVjdCh7IGE6IFN0cmluZyB9KSwgU3RydWN0KHsgYTogU3RyaW5nIH0pKSlgIHJhaXNlcyBhbiBlcnJvcilcbiAqXG4gKiBAZXhhbXBsZVxuICogaW1wb3J0ICogYXMgU2NoZW1hIGZyb20gXCJAZWZmZWN0L3NjaGVtYS9TY2hlbWFcIlxuICpcbiAqIGNvbnN0IHNjaGVtYSA9IFNjaGVtYS5TdHJ1Y3Qoe1xuICogICBhOiBTY2hlbWEuU3RyaW5nLFxuICogICBiOiBTY2hlbWEuU3RyaW5nXG4gKiB9KVxuICpcbiAqIC8vIGNvbnN0IGV4dGVuZGVkOiBTLlNjaGVtYTx7XG4gKiAvLyAgICAgcmVhZG9ubHkgW3g6IHN0cmluZ106IHN0cmluZztcbiAqIC8vICAgICByZWFkb25seSBhOiBzdHJpbmc7XG4gKiAvLyAgICAgcmVhZG9ubHkgYjogc3RyaW5nO1xuICogLy8gICAgIHJlYWRvbmx5IGM6IHN0cmluZztcbiAqIC8vIH0+XG4gKiBjb25zdCBleHRlbmRlZCA9IFNjaGVtYS5hc1NjaGVtYShzY2hlbWEucGlwZShcbiAqICAgU2NoZW1hLmV4dGVuZChTY2hlbWEuU3RydWN0KHsgYzogU2NoZW1hLlN0cmluZyB9KSksIC8vIDw9IHlvdSBjYW4gYWRkIG1vcmUgZmllbGRzXG4gKiAgIFNjaGVtYS5leHRlbmQoU2NoZW1hLlJlY29yZChTY2hlbWEuU3RyaW5nLCBTY2hlbWEuU3RyaW5nKSkgLy8gPD0geW91IGNhbiBhZGQgaW5kZXggc2lnbmF0dXJlc1xuICogKSlcbiAqXG4gKiBAY2F0ZWdvcnkgY29tYmluYXRvcnNcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNvbnN0IGV4dGVuZCA9IC8qI19fUFVSRV9fKi9kdWFsKDIsIChzZWxmLCB0aGF0KSA9PiBtYWtlKGV4dGVuZEFTVChzZWxmLmFzdCwgdGhhdC5hc3QsIFtdKSkpO1xuLyoqXG4gKiBAY2F0ZWdvcnkgY29tYmluYXRvcnNcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNvbnN0IGNvbXBvc2UgPSAvKiNfX1BVUkVfXyovZHVhbChhcmdzID0+IGlzU2NoZW1hKGFyZ3NbMV0pLCAoZnJvbSwgdG8pID0+IG1ha2UoQVNULmNvbXBvc2UoZnJvbS5hc3QsIHRvLmFzdCkpKTtcbi8qKlxuICogQGNhdGVnb3J5IGNvbnN0cnVjdG9yc1xuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY29uc3Qgc3VzcGVuZCA9IGYgPT4gbWFrZShuZXcgQVNULlN1c3BlbmQoKCkgPT4gZigpLmFzdCkpO1xuLyoqXG4gKiBAc2luY2UgMC42OC44XG4gKiBAY2F0ZWdvcnkgc3ltYm9sXG4gKi9cbmV4cG9ydCBjb25zdCByZWZpbmVUeXBlSWQgPSAvKiNfX1BVUkVfXyovU3ltYm9sLmZvcihcIkBlZmZlY3Qvc2NoZW1hL3JlZmluZVwiKTtcbmNvbnN0IG1ha2VSZWZpbmVDbGFzcyA9IChmcm9tLCBmaWx0ZXIsIGFzdCkgPT4gY2xhc3MgUmVmaW5lQ2xhc3MgZXh0ZW5kcyBtYWtlKGFzdCkge1xuICBzdGF0aWMgYW5ub3RhdGlvbnMoYW5ub3RhdGlvbnMpIHtcbiAgICByZXR1cm4gbWFrZVJlZmluZUNsYXNzKHRoaXMuZnJvbSwgdGhpcy5maWx0ZXIsIG1lcmdlU2NoZW1hQW5ub3RhdGlvbnModGhpcy5hc3QsIGFubm90YXRpb25zKSk7XG4gIH1cbiAgc3RhdGljIFtyZWZpbmVUeXBlSWRdID0gZnJvbTtcbiAgc3RhdGljIGZyb20gPSBmcm9tO1xuICBzdGF0aWMgZmlsdGVyID0gZmlsdGVyO1xuICBzdGF0aWMgbWFrZSA9IChhLCBvcHRpb25zKSA9PiB7XG4gICAgcmV0dXJuIGdldERpc2FibGVWYWxpZGF0aW9uTWFrZU9wdGlvbihvcHRpb25zKSA/IGEgOiBQYXJzZVJlc3VsdC52YWxpZGF0ZVN5bmModGhpcykoYSk7XG4gIH07XG59O1xuY29uc3QgZnJvbUZpbHRlclByZWRpY2F0ZVJldHVyblR5cGVJdGVtID0gKGl0ZW0sIGFzdCwgaW5wdXQpID0+IHtcbiAgaWYgKFByZWRpY2F0ZS5pc0Jvb2xlYW4oaXRlbSkpIHtcbiAgICByZXR1cm4gaXRlbSA/IG9wdGlvbl8ubm9uZSgpIDogb3B0aW9uXy5zb21lKG5ldyBQYXJzZVJlc3VsdC5UeXBlKGFzdCwgaW5wdXQpKTtcbiAgfVxuICBpZiAoUHJlZGljYXRlLmlzU3RyaW5nKGl0ZW0pKSB7XG4gICAgcmV0dXJuIG9wdGlvbl8uc29tZShuZXcgUGFyc2VSZXN1bHQuVHlwZShhc3QsIGlucHV0LCBpdGVtKSk7XG4gIH1cbiAgaWYgKGl0ZW0gIT09IHVuZGVmaW5lZCkge1xuICAgIGlmIChcIl90YWdcIiBpbiBpdGVtKSB7XG4gICAgICByZXR1cm4gb3B0aW9uXy5zb21lKGl0ZW0pO1xuICAgIH1cbiAgICBjb25zdCBpc3N1ZSA9IG5ldyBQYXJzZVJlc3VsdC5UeXBlKGFzdCwgaW5wdXQsIGl0ZW0ubWVzc2FnZSk7XG4gICAgcmV0dXJuIG9wdGlvbl8uc29tZShhcnJheV8uaXNOb25FbXB0eVJlYWRvbmx5QXJyYXkoaXRlbS5wYXRoKSA/IG5ldyBQYXJzZVJlc3VsdC5Qb2ludGVyKGl0ZW0ucGF0aCwgaW5wdXQsIGlzc3VlKSA6IGlzc3VlKTtcbiAgfVxuICByZXR1cm4gb3B0aW9uXy5ub25lKCk7XG59O1xuY29uc3QgdG9GaWx0ZXJQYXJzZUlzc3VlID0gKG91dCwgYXN0LCBpbnB1dCkgPT4ge1xuICBpZiAodXRpbF8uaXNTaW5nbGUob3V0KSkge1xuICAgIHJldHVybiBmcm9tRmlsdGVyUHJlZGljYXRlUmV0dXJuVHlwZUl0ZW0ob3V0LCBhc3QsIGlucHV0KTtcbiAgfVxuICBpZiAoYXJyYXlfLmlzTm9uRW1wdHlSZWFkb25seUFycmF5KG91dCkpIHtcbiAgICBjb25zdCBpc3N1ZXMgPSBhcnJheV8uZmlsdGVyTWFwKG91dCwgaXNzdWUgPT4gZnJvbUZpbHRlclByZWRpY2F0ZVJldHVyblR5cGVJdGVtKGlzc3VlLCBhc3QsIGlucHV0KSk7XG4gICAgaWYgKGFycmF5Xy5pc05vbkVtcHR5UmVhZG9ubHlBcnJheShpc3N1ZXMpKSB7XG4gICAgICByZXR1cm4gb3B0aW9uXy5zb21lKGlzc3Vlcy5sZW5ndGggPT09IDEgPyBpc3N1ZXNbMF0gOiBuZXcgUGFyc2VSZXN1bHQuQ29tcG9zaXRlKGFzdCwgaW5wdXQsIGlzc3VlcykpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gb3B0aW9uXy5ub25lKCk7XG59O1xuZXhwb3J0IGZ1bmN0aW9uIGZpbHRlcihwcmVkaWNhdGUsIGFubm90YXRpb25zKSB7XG4gIHJldHVybiBzZWxmID0+IHtcbiAgICBmdW5jdGlvbiBmaWx0ZXIoaW5wdXQsIG9wdGlvbnMsIGFzdCkge1xuICAgICAgcmV0dXJuIHRvRmlsdGVyUGFyc2VJc3N1ZShwcmVkaWNhdGUoaW5wdXQsIG9wdGlvbnMsIGFzdCksIGFzdCwgaW5wdXQpO1xuICAgIH1cbiAgICBjb25zdCBhc3QgPSBuZXcgQVNULlJlZmluZW1lbnQoc2VsZi5hc3QsIGZpbHRlciwgdG9BU1RBbm5vdGF0aW9ucyhhbm5vdGF0aW9ucykpO1xuICAgIHJldHVybiBtYWtlUmVmaW5lQ2xhc3Moc2VsZiwgZmlsdGVyLCBhc3QpO1xuICB9O1xufVxuLyoqXG4gKiBAY2F0ZWdvcnkgdHJhbnNmb3JtYXRpb25zXG4gKiBAc2luY2UgMC42OC4xN1xuICovXG5leHBvcnQgY29uc3QgZmlsdGVyRWZmZWN0ID0gLyojX19QVVJFX18qL2R1YWwoMiwgKHNlbGYsIGYpID0+IHRyYW5zZm9ybU9yRmFpbChzZWxmLCB0eXBlU2NoZW1hKHNlbGYpLCB7XG4gIHN0cmljdDogdHJ1ZSxcbiAgZGVjb2RlOiAoYSwgb3B0aW9ucywgYXN0KSA9PiBQYXJzZVJlc3VsdC5mbGF0TWFwKGYoYSwgb3B0aW9ucywgYXN0KSwgZmlsdGVyUmV0dXJuVHlwZSA9PiBvcHRpb25fLm1hdGNoKHRvRmlsdGVyUGFyc2VJc3N1ZShmaWx0ZXJSZXR1cm5UeXBlLCBhc3QsIGEpLCB7XG4gICAgb25Ob25lOiAoKSA9PiBQYXJzZVJlc3VsdC5zdWNjZWVkKGEpLFxuICAgIG9uU29tZTogUGFyc2VSZXN1bHQuZmFpbFxuICB9KSksXG4gIGVuY29kZTogUGFyc2VSZXN1bHQuc3VjY2VlZFxufSkpO1xuY29uc3QgbWFrZVRyYW5zZm9ybWF0aW9uQ2xhc3MgPSAoZnJvbSwgdG8sIGFzdCkgPT4gY2xhc3MgVHJhbnNmb3JtYXRpb25DbGFzcyBleHRlbmRzIG1ha2UoYXN0KSB7XG4gIHN0YXRpYyBhbm5vdGF0aW9ucyhhbm5vdGF0aW9ucykge1xuICAgIHJldHVybiBtYWtlVHJhbnNmb3JtYXRpb25DbGFzcyh0aGlzLmZyb20sIHRoaXMudG8sIG1lcmdlU2NoZW1hQW5ub3RhdGlvbnModGhpcy5hc3QsIGFubm90YXRpb25zKSk7XG4gIH1cbiAgc3RhdGljIGZyb20gPSBmcm9tO1xuICBzdGF0aWMgdG8gPSB0bztcbn07XG4vKipcbiAqIENyZWF0ZSBhIG5ldyBgU2NoZW1hYCBieSB0cmFuc2Zvcm1pbmcgdGhlIGlucHV0IGFuZCBvdXRwdXQgb2YgYW4gZXhpc3RpbmcgYFNjaGVtYWBcbiAqIHVzaW5nIHRoZSBwcm92aWRlZCBkZWNvZGluZyBmdW5jdGlvbnMuXG4gKlxuICogQGNhdGVnb3J5IHRyYW5zZm9ybWF0aW9uc1xuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY29uc3QgdHJhbnNmb3JtT3JGYWlsID0gLyojX19QVVJFX18qL2R1YWwoYXJncyA9PiBpc1NjaGVtYShhcmdzWzBdKSAmJiBpc1NjaGVtYShhcmdzWzFdKSwgKGZyb20sIHRvLCBvcHRpb25zKSA9PiBtYWtlVHJhbnNmb3JtYXRpb25DbGFzcyhmcm9tLCB0bywgbmV3IEFTVC5UcmFuc2Zvcm1hdGlvbihmcm9tLmFzdCwgdG8uYXN0LCBuZXcgQVNULkZpbmFsVHJhbnNmb3JtYXRpb24ob3B0aW9ucy5kZWNvZGUsIG9wdGlvbnMuZW5jb2RlKSkpKTtcbi8qKlxuICogQ3JlYXRlIGEgbmV3IGBTY2hlbWFgIGJ5IHRyYW5zZm9ybWluZyB0aGUgaW5wdXQgYW5kIG91dHB1dCBvZiBhbiBleGlzdGluZyBgU2NoZW1hYFxuICogdXNpbmcgdGhlIHByb3ZpZGVkIG1hcHBpbmcgZnVuY3Rpb25zLlxuICpcbiAqIEBjYXRlZ29yeSB0cmFuc2Zvcm1hdGlvbnNcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNvbnN0IHRyYW5zZm9ybSA9IC8qI19fUFVSRV9fKi9kdWFsKGFyZ3MgPT4gaXNTY2hlbWEoYXJnc1swXSkgJiYgaXNTY2hlbWEoYXJnc1sxXSksIChmcm9tLCB0bywgb3B0aW9ucykgPT4gdHJhbnNmb3JtT3JGYWlsKGZyb20sIHRvLCB7XG4gIHN0cmljdDogdHJ1ZSxcbiAgZGVjb2RlOiBmcm9tQSA9PiBQYXJzZVJlc3VsdC5zdWNjZWVkKG9wdGlvbnMuZGVjb2RlKGZyb21BKSksXG4gIGVuY29kZTogdG9JID0+IFBhcnNlUmVzdWx0LnN1Y2NlZWQob3B0aW9ucy5lbmNvZGUodG9JKSlcbn0pKTtcbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBgU2NoZW1hYCB3aGljaCB0cmFuc2Zvcm1zIGxpdGVyYWwgdmFsdWVzLlxuICpcbiAqIEBleGFtcGxlXG4gKiBpbXBvcnQgKiBhcyBTIGZyb20gXCJAZWZmZWN0L3NjaGVtYS9TY2hlbWFcIlxuICpcbiAqIGNvbnN0IHNjaGVtYSA9IFMudHJhbnNmb3JtTGl0ZXJhbCgwLCBcImFcIilcbiAqXG4gKiBhc3NlcnQuZGVlcFN0cmljdEVxdWFsKFMuZGVjb2RlU3luYyhzY2hlbWEpKDApLCBcImFcIilcbiAqXG4gKiBAY2F0ZWdvcnkgY29uc3RydWN0b3JzXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjb25zdCB0cmFuc2Zvcm1MaXRlcmFsID0gKGZyb20sIHRvKSA9PiB0cmFuc2Zvcm0oTGl0ZXJhbChmcm9tKSwgTGl0ZXJhbCh0byksIHtcbiAgc3RyaWN0OiB0cnVlLFxuICBkZWNvZGU6ICgpID0+IHRvLFxuICBlbmNvZGU6ICgpID0+IGZyb21cbn0pO1xuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zZm9ybUxpdGVyYWxzKC4uLnBhaXJzKSB7XG4gIHJldHVybiBVbmlvbiguLi5wYWlycy5tYXAoKFtmcm9tLCB0b10pID0+IHRyYW5zZm9ybUxpdGVyYWwoZnJvbSwgdG8pKSk7XG59XG4vKipcbiAqIEF0dGFjaGVzIGEgcHJvcGVydHkgc2lnbmF0dXJlIHdpdGggdGhlIHNwZWNpZmllZCBrZXkgYW5kIHZhbHVlIHRvIHRoZSBzY2hlbWEuXG4gKiBUaGlzIEFQSSBpcyB1c2VmdWwgd2hlbiB5b3Ugd2FudCB0byBhZGQgYSBwcm9wZXJ0eSB0byB5b3VyIHNjaGVtYSB3aGljaCBkb2Vzbid0IGRlc2NyaWJlIHRoZSBzaGFwZSBvZiB0aGUgaW5wdXQsXG4gKiBidXQgcmF0aGVyIG1hcHMgdG8gYW5vdGhlciBzY2hlbWEsIGZvciBleGFtcGxlIHdoZW4geW91IHdhbnQgdG8gYWRkIGEgZGlzY3JpbWluYW50IHRvIGEgc2ltcGxlIHVuaW9uLlxuICpcbiAqIEBwYXJhbSBzZWxmIC0gVGhlIGlucHV0IHNjaGVtYS5cbiAqIEBwYXJhbSBrZXkgLSBUaGUgbmFtZSBvZiB0aGUgcHJvcGVydHkgdG8gYWRkIHRvIHRoZSBzY2hlbWEuXG4gKiBAcGFyYW0gdmFsdWUgLSBUaGUgdmFsdWUgb2YgdGhlIHByb3BlcnR5IHRvIGFkZCB0byB0aGUgc2NoZW1hLlxuICpcbiAqIEBleGFtcGxlXG4gKiBpbXBvcnQgKiBhcyBTIGZyb20gXCJAZWZmZWN0L3NjaGVtYS9TY2hlbWFcIlxuICogaW1wb3J0IHsgcGlwZSB9IGZyb20gXCJlZmZlY3QvRnVuY3Rpb25cIlxuICpcbiAqIGNvbnN0IENpcmNsZSA9IFMuU3RydWN0KHsgcmFkaXVzOiBTLk51bWJlciB9KVxuICogY29uc3QgU3F1YXJlID0gUy5TdHJ1Y3QoeyBzaWRlTGVuZ3RoOiBTLk51bWJlciB9KVxuICogY29uc3QgU2hhcGUgPSBTLlVuaW9uKFxuICogICBDaXJjbGUucGlwZShTLmF0dGFjaFByb3BlcnR5U2lnbmF0dXJlKFwia2luZFwiLCBcImNpcmNsZVwiKSksXG4gKiAgIFNxdWFyZS5waXBlKFMuYXR0YWNoUHJvcGVydHlTaWduYXR1cmUoXCJraW5kXCIsIFwic3F1YXJlXCIpKVxuICogKVxuICpcbiAqIGFzc2VydC5kZWVwU3RyaWN0RXF1YWwoUy5kZWNvZGVTeW5jKFNoYXBlKSh7IHJhZGl1czogMTAgfSksIHtcbiAqICAga2luZDogXCJjaXJjbGVcIixcbiAqICAgcmFkaXVzOiAxMFxuICogfSlcbiAqXG4gKiBAY2F0ZWdvcnkgY29tYmluYXRvcnNcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNvbnN0IGF0dGFjaFByb3BlcnR5U2lnbmF0dXJlID0gLyojX19QVVJFX18qL2R1YWwoYXJncyA9PiBpc1NjaGVtYShhcmdzWzBdKSwgKHNjaGVtYSwga2V5LCB2YWx1ZSwgYW5ub3RhdGlvbnMpID0+IHtcbiAgY29uc3QgYXN0ID0gZXh0ZW5kKHR5cGVTY2hlbWEoc2NoZW1hKSwgU3RydWN0KHtcbiAgICBba2V5XTogUHJlZGljYXRlLmlzU3ltYm9sKHZhbHVlKSA/IFVuaXF1ZVN5bWJvbEZyb21TZWxmKHZhbHVlKSA6IExpdGVyYWwodmFsdWUpXG4gIH0pKS5hc3Q7XG4gIHJldHVybiBtYWtlKG5ldyBBU1QuVHJhbnNmb3JtYXRpb24oc2NoZW1hLmFzdCwgYW5ub3RhdGlvbnMgPyBtZXJnZVNjaGVtYUFubm90YXRpb25zKGFzdCwgYW5ub3RhdGlvbnMpIDogYXN0LCBuZXcgQVNULlR5cGVMaXRlcmFsVHJhbnNmb3JtYXRpb24oW25ldyBBU1QuUHJvcGVydHlTaWduYXR1cmVUcmFuc2Zvcm1hdGlvbihrZXksIGtleSwgKCkgPT4gb3B0aW9uXy5zb21lKHZhbHVlKSwgKCkgPT4gb3B0aW9uXy5ub25lKCkpXSkpKTtcbn0pO1xuLyoqXG4gKiBAY2F0ZWdvcnkgYW5ub3RhdGlvbnNcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNvbnN0IGFubm90YXRpb25zID0gLyojX19QVVJFX18qL2R1YWwoMiwgKHNlbGYsIGFubm90YXRpb25zKSA9PiBzZWxmLmFubm90YXRpb25zKGFubm90YXRpb25zKSk7XG4vKipcbiAqIEBjYXRlZ29yeSByZW5hbWluZ1xuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY29uc3QgcmVuYW1lID0gLyojX19QVVJFX18qL2R1YWwoMiwgKHNlbGYsIG1hcHBpbmcpID0+IG1ha2UoQVNULnJlbmFtZShzZWxmLmFzdCwgbWFwcGluZykpKTtcbi8qKlxuICogQGNhdGVnb3J5IHR5cGUgaWRcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNvbnN0IFRyaW1tZWRUeXBlSWQgPSAvKiNfX1BVUkVfXyovU3ltYm9sLmZvcihcIkBlZmZlY3Qvc2NoZW1hL1R5cGVJZC9UcmltbWVkXCIpO1xuLyoqXG4gKiBWZXJpZmllcyB0aGF0IGEgc3RyaW5nIGNvbnRhaW5zIG5vIGxlYWRpbmcgb3IgdHJhaWxpbmcgd2hpdGVzcGFjZXMuXG4gKlxuICogTm90ZS4gVGhpcyBjb21iaW5hdG9yIGRvZXMgbm90IG1ha2UgYW55IHRyYW5zZm9ybWF0aW9ucywgaXQgb25seSB2YWxpZGF0ZXMuXG4gKiBJZiB3aGF0IHlvdSB3ZXJlIGxvb2tpbmcgZm9yIHdhcyBhIGNvbWJpbmF0b3IgdG8gdHJpbSBzdHJpbmdzLCB0aGVuIGNoZWNrIG91dCB0aGUgYHRyaW1gIGNvbWJpbmF0b3IuXG4gKlxuICogQGNhdGVnb3J5IHN0cmluZyBmaWx0ZXJzXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjb25zdCB0cmltbWVkID0gYW5ub3RhdGlvbnMgPT4gc2VsZiA9PiBzZWxmLnBpcGUoZmlsdGVyKGEgPT4gYSA9PT0gYS50cmltKCksIHtcbiAgdHlwZUlkOiBUcmltbWVkVHlwZUlkLFxuICBkZXNjcmlwdGlvbjogXCJhIHN0cmluZyB3aXRoIG5vIGxlYWRpbmcgb3IgdHJhaWxpbmcgd2hpdGVzcGFjZVwiLFxuICBqc29uU2NoZW1hOiB7XG4gICAgcGF0dGVybjogXCJeXFxcXFNbXFxcXHNcXFxcU10qXFxcXFMkfF5cXFxcUyR8XiRcIlxuICB9LFxuICAuLi5hbm5vdGF0aW9uc1xufSkpO1xuLyoqXG4gKiBAY2F0ZWdvcnkgdHlwZSBpZFxuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY29uc3QgTWF4TGVuZ3RoVHlwZUlkID0gZmlsdGVyc18uTWF4TGVuZ3RoVHlwZUlkO1xuLyoqXG4gKiBAY2F0ZWdvcnkgc3RyaW5nIGZpbHRlcnNcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNvbnN0IG1heExlbmd0aCA9IChtYXhMZW5ndGgsIGFubm90YXRpb25zKSA9PiBzZWxmID0+IHNlbGYucGlwZShmaWx0ZXIoYSA9PiBhLmxlbmd0aCA8PSBtYXhMZW5ndGgsIHtcbiAgdHlwZUlkOiBNYXhMZW5ndGhUeXBlSWQsXG4gIGRlc2NyaXB0aW9uOiBgYSBzdHJpbmcgYXQgbW9zdCAke21heExlbmd0aH0gY2hhcmFjdGVyKHMpIGxvbmdgLFxuICBqc29uU2NoZW1hOiB7XG4gICAgbWF4TGVuZ3RoXG4gIH0sXG4gIC4uLmFubm90YXRpb25zXG59KSk7XG4vKipcbiAqIEBjYXRlZ29yeSB0eXBlIGlkXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjb25zdCBNaW5MZW5ndGhUeXBlSWQgPSBmaWx0ZXJzXy5NaW5MZW5ndGhUeXBlSWQ7XG4vKipcbiAqIEBjYXRlZ29yeSBzdHJpbmcgZmlsdGVyc1xuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY29uc3QgbWluTGVuZ3RoID0gKG1pbkxlbmd0aCwgYW5ub3RhdGlvbnMpID0+IHNlbGYgPT4gc2VsZi5waXBlKGZpbHRlcihhID0+IGEubGVuZ3RoID49IG1pbkxlbmd0aCwge1xuICB0eXBlSWQ6IE1pbkxlbmd0aFR5cGVJZCxcbiAgZGVzY3JpcHRpb246IGBhIHN0cmluZyBhdCBsZWFzdCAke21pbkxlbmd0aH0gY2hhcmFjdGVyKHMpIGxvbmdgLFxuICBqc29uU2NoZW1hOiB7XG4gICAgbWluTGVuZ3RoXG4gIH0sXG4gIC4uLmFubm90YXRpb25zXG59KSk7XG4vKipcbiAqIEBjYXRlZ29yeSB0eXBlIGlkXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjb25zdCBQYXR0ZXJuVHlwZUlkID0gLyojX19QVVJFX18qL1N5bWJvbC5mb3IoXCJAZWZmZWN0L3NjaGVtYS9UeXBlSWQvUGF0dGVyblwiKTtcbi8qKlxuICogQGNhdGVnb3J5IHN0cmluZyBmaWx0ZXJzXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjb25zdCBwYXR0ZXJuID0gKHJlZ2V4LCBhbm5vdGF0aW9ucykgPT4gc2VsZiA9PiB7XG4gIGNvbnN0IHBhdHRlcm4gPSByZWdleC5zb3VyY2U7XG4gIHJldHVybiBzZWxmLnBpcGUoZmlsdGVyKGEgPT4ge1xuICAgIC8vIFRoZSBmb2xsb3dpbmcgbGluZSBlbnN1cmVzIHRoYXQgYGxhc3RJbmRleGAgaXMgcmVzZXQgdG8gYDBgIGluIGNhc2UgdGhlIHVzZXIgaGFzIHNwZWNpZmllZCB0aGUgYGdgIGZsYWdcbiAgICByZWdleC5sYXN0SW5kZXggPSAwO1xuICAgIHJldHVybiByZWdleC50ZXN0KGEpO1xuICB9LCB7XG4gICAgdHlwZUlkOiB7XG4gICAgICBpZDogUGF0dGVyblR5cGVJZCxcbiAgICAgIGFubm90YXRpb246IHtcbiAgICAgICAgcmVnZXhcbiAgICAgIH1cbiAgICB9LFxuICAgIGRlc2NyaXB0aW9uOiBgYSBzdHJpbmcgbWF0Y2hpbmcgdGhlIHBhdHRlcm4gJHtwYXR0ZXJufWAsXG4gICAganNvblNjaGVtYToge1xuICAgICAgcGF0dGVyblxuICAgIH0sXG4gICAgYXJiaXRyYXJ5OiAoKSA9PiBmYyA9PiBmYy5zdHJpbmdNYXRjaGluZyhyZWdleCksXG4gICAgLi4uYW5ub3RhdGlvbnNcbiAgfSkpO1xufTtcbi8qKlxuICogQGNhdGVnb3J5IHR5cGUgaWRcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNvbnN0IFN0YXJ0c1dpdGhUeXBlSWQgPSAvKiNfX1BVUkVfXyovU3ltYm9sLmZvcihcIkBlZmZlY3Qvc2NoZW1hL1R5cGVJZC9TdGFydHNXaXRoXCIpO1xuLyoqXG4gKiBAY2F0ZWdvcnkgc3RyaW5nIGZpbHRlcnNcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNvbnN0IHN0YXJ0c1dpdGggPSAoc3RhcnRzV2l0aCwgYW5ub3RhdGlvbnMpID0+IHNlbGYgPT4gc2VsZi5waXBlKGZpbHRlcihhID0+IGEuc3RhcnRzV2l0aChzdGFydHNXaXRoKSwge1xuICB0eXBlSWQ6IHtcbiAgICBpZDogU3RhcnRzV2l0aFR5cGVJZCxcbiAgICBhbm5vdGF0aW9uOiB7XG4gICAgICBzdGFydHNXaXRoXG4gICAgfVxuICB9LFxuICBkZXNjcmlwdGlvbjogYGEgc3RyaW5nIHN0YXJ0aW5nIHdpdGggJHtKU09OLnN0cmluZ2lmeShzdGFydHNXaXRoKX1gLFxuICBqc29uU2NoZW1hOiB7XG4gICAgcGF0dGVybjogYF4ke3N0YXJ0c1dpdGh9YFxuICB9LFxuICAuLi5hbm5vdGF0aW9uc1xufSkpO1xuLyoqXG4gKiBAY2F0ZWdvcnkgdHlwZSBpZFxuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY29uc3QgRW5kc1dpdGhUeXBlSWQgPSAvKiNfX1BVUkVfXyovU3ltYm9sLmZvcihcIkBlZmZlY3Qvc2NoZW1hL1R5cGVJZC9FbmRzV2l0aFwiKTtcbi8qKlxuICogQGNhdGVnb3J5IHN0cmluZyBmaWx0ZXJzXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjb25zdCBlbmRzV2l0aCA9IChlbmRzV2l0aCwgYW5ub3RhdGlvbnMpID0+IHNlbGYgPT4gc2VsZi5waXBlKGZpbHRlcihhID0+IGEuZW5kc1dpdGgoZW5kc1dpdGgpLCB7XG4gIHR5cGVJZDoge1xuICAgIGlkOiBFbmRzV2l0aFR5cGVJZCxcbiAgICBhbm5vdGF0aW9uOiB7XG4gICAgICBlbmRzV2l0aFxuICAgIH1cbiAgfSxcbiAgZGVzY3JpcHRpb246IGBhIHN0cmluZyBlbmRpbmcgd2l0aCAke0pTT04uc3RyaW5naWZ5KGVuZHNXaXRoKX1gLFxuICBqc29uU2NoZW1hOiB7XG4gICAgcGF0dGVybjogYF4uKiR7ZW5kc1dpdGh9JGBcbiAgfSxcbiAgLi4uYW5ub3RhdGlvbnNcbn0pKTtcbi8qKlxuICogQGNhdGVnb3J5IHR5cGUgaWRcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNvbnN0IEluY2x1ZGVzVHlwZUlkID0gLyojX19QVVJFX18qL1N5bWJvbC5mb3IoXCJAZWZmZWN0L3NjaGVtYS9UeXBlSWQvSW5jbHVkZXNcIik7XG4vKipcbiAqIEBjYXRlZ29yeSBzdHJpbmcgZmlsdGVyc1xuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY29uc3QgaW5jbHVkZXMgPSAoc2VhcmNoU3RyaW5nLCBhbm5vdGF0aW9ucykgPT4gc2VsZiA9PiBzZWxmLnBpcGUoZmlsdGVyKGEgPT4gYS5pbmNsdWRlcyhzZWFyY2hTdHJpbmcpLCB7XG4gIHR5cGVJZDoge1xuICAgIGlkOiBJbmNsdWRlc1R5cGVJZCxcbiAgICBhbm5vdGF0aW9uOiB7XG4gICAgICBpbmNsdWRlczogc2VhcmNoU3RyaW5nXG4gICAgfVxuICB9LFxuICBkZXNjcmlwdGlvbjogYGEgc3RyaW5nIGluY2x1ZGluZyAke0pTT04uc3RyaW5naWZ5KHNlYXJjaFN0cmluZyl9YCxcbiAganNvblNjaGVtYToge1xuICAgIHBhdHRlcm46IGAuKiR7c2VhcmNoU3RyaW5nfS4qYFxuICB9LFxuICAuLi5hbm5vdGF0aW9uc1xufSkpO1xuLyoqXG4gKiBAY2F0ZWdvcnkgdHlwZSBpZFxuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY29uc3QgTG93ZXJjYXNlZFR5cGVJZCA9IC8qI19fUFVSRV9fKi9TeW1ib2wuZm9yKFwiQGVmZmVjdC9zY2hlbWEvVHlwZUlkL0xvd2VyY2FzZWRcIik7XG4vKipcbiAqIFZlcmlmaWVzIHRoYXQgYSBzdHJpbmcgaXMgbG93ZXJjYXNlZC5cbiAqXG4gKiBAY2F0ZWdvcnkgc3RyaW5nIGZpbHRlcnNcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNvbnN0IGxvd2VyY2FzZWQgPSBhbm5vdGF0aW9ucyA9PiBzZWxmID0+IHNlbGYucGlwZShmaWx0ZXIoYSA9PiBhID09PSBhLnRvTG93ZXJDYXNlKCksIHtcbiAgdHlwZUlkOiBMb3dlcmNhc2VkVHlwZUlkLFxuICBkZXNjcmlwdGlvbjogXCJhIGxvd2VyY2FzZSBzdHJpbmdcIixcbiAgLi4uYW5ub3RhdGlvbnNcbn0pKTtcbi8qKlxuICogQGNhdGVnb3J5IHN0cmluZyBjb25zdHJ1Y3RvcnNcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNsYXNzIExvd2VyY2FzZWQgZXh0ZW5kcyBTdHJpbmckLnBpcGUobG93ZXJjYXNlZCh7XG4gIGlkZW50aWZpZXI6IFwiTG93ZXJjYXNlZFwiLFxuICB0aXRsZTogXCJMb3dlcmNhc2VkXCJcbn0pKSB7XG4gIHN0YXRpYyBhbm5vdGF0aW9ucyA9IHN1cGVyLmFubm90YXRpb25zO1xufVxuLyoqXG4gKiBAY2F0ZWdvcnkgdHlwZSBpZFxuICogQHNpbmNlIDAuNjguMThcbiAqL1xuZXhwb3J0IGNvbnN0IENhcGl0YWxpemVkVHlwZUlkID0gLyojX19QVVJFX18qL1N5bWJvbC5mb3IoXCJAZWZmZWN0L3NjaGVtYS9UeXBlSWQvQ2FwaXRhbGl6ZWRcIik7XG4vKipcbiAqIFZlcmlmaWVzIHRoYXQgYSBzdHJpbmcgaXMgY2FwaXRhbGl6ZWQuXG4gKlxuICogQGNhdGVnb3J5IHN0cmluZyBmaWx0ZXJzXG4gKiBAc2luY2UgMC42OC4xOFxuICovXG5leHBvcnQgY29uc3QgY2FwaXRhbGl6ZWQgPSBhbm5vdGF0aW9ucyA9PiBzZWxmID0+IHNlbGYucGlwZShmaWx0ZXIoYSA9PiBhWzBdPy50b1VwcGVyQ2FzZSgpID09PSBhWzBdLCB7XG4gIHR5cGVJZDogQ2FwaXRhbGl6ZWRUeXBlSWQsXG4gIGRlc2NyaXB0aW9uOiBcImEgY2FwaXRhbGl6ZWQgc3RyaW5nXCIsXG4gIC4uLmFubm90YXRpb25zXG59KSk7XG4vKipcbiAqIEBjYXRlZ29yeSBzdHJpbmcgY29uc3RydWN0b3JzXG4gKiBAc2luY2UgMC42OC4xOFxuICovXG5leHBvcnQgY2xhc3MgQ2FwaXRhbGl6ZWQgZXh0ZW5kcyBTdHJpbmckLnBpcGUoY2FwaXRhbGl6ZWQoe1xuICBpZGVudGlmaWVyOiBcIkNhcGl0YWxpemVkXCIsXG4gIHRpdGxlOiBcIkNhcGl0YWxpemVkXCJcbn0pKSB7XG4gIHN0YXRpYyBhbm5vdGF0aW9ucyA9IHN1cGVyLmFubm90YXRpb25zO1xufVxuLyoqXG4gKiBAY2F0ZWdvcnkgdHlwZSBpZFxuICogQHNpbmNlIDAuNjguMThcbiAqL1xuZXhwb3J0IGNvbnN0IFVuY2FwaXRhbGl6ZWRUeXBlSWQgPSAvKiNfX1BVUkVfXyovU3ltYm9sLmZvcihcIkBlZmZlY3Qvc2NoZW1hL1R5cGVJZC9VbmNhcGl0YWxpemVkXCIpO1xuLyoqXG4gKiBWZXJpZmllcyB0aGF0IGEgc3RyaW5nIGlzIHVuY2FwaXRhbGl6ZWQuXG4gKlxuICogQGNhdGVnb3J5IHN0cmluZyBmaWx0ZXJzXG4gKiBAc2luY2UgMC42OC4xOFxuICovXG5leHBvcnQgY29uc3QgdW5jYXBpdGFsaXplZCA9IGFubm90YXRpb25zID0+IHNlbGYgPT4gc2VsZi5waXBlKGZpbHRlcihhID0+IGFbMF0/LnRvTG93ZXJDYXNlKCkgPT09IGFbMF0sIHtcbiAgdHlwZUlkOiBVbmNhcGl0YWxpemVkVHlwZUlkLFxuICBkZXNjcmlwdGlvbjogXCJhIHVuY2FwaXRhbGl6ZWQgc3RyaW5nXCIsXG4gIC4uLmFubm90YXRpb25zXG59KSk7XG4vKipcbiAqIEBjYXRlZ29yeSBzdHJpbmcgY29uc3RydWN0b3JzXG4gKiBAc2luY2UgMC42OC4xOFxuICovXG5leHBvcnQgY2xhc3MgVW5jYXBpdGFsaXplZCBleHRlbmRzIFN0cmluZyQucGlwZSh1bmNhcGl0YWxpemVkKHtcbiAgaWRlbnRpZmllcjogXCJVbmNhcGl0YWxpemVkXCIsXG4gIHRpdGxlOiBcIlVuY2FwaXRhbGl6ZWRcIlxufSkpIHtcbiAgc3RhdGljIGFubm90YXRpb25zID0gc3VwZXIuYW5ub3RhdGlvbnM7XG59XG4vKipcbiAqIEBjYXRlZ29yeSB0eXBlIGlkXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjb25zdCBVcHBlcmNhc2VkVHlwZUlkID0gLyojX19QVVJFX18qL1N5bWJvbC5mb3IoXCJAZWZmZWN0L3NjaGVtYS9UeXBlSWQvVXBwZXJjYXNlZFwiKTtcbi8qKlxuICogVmVyaWZpZXMgdGhhdCBhIHN0cmluZyBpcyB1cHBlcmNhc2VkLlxuICpcbiAqIEBjYXRlZ29yeSBzdHJpbmcgZmlsdGVyc1xuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY29uc3QgdXBwZXJjYXNlZCA9IGFubm90YXRpb25zID0+IHNlbGYgPT4gc2VsZi5waXBlKGZpbHRlcihhID0+IGEgPT09IGEudG9VcHBlckNhc2UoKSwge1xuICB0eXBlSWQ6IFVwcGVyY2FzZWRUeXBlSWQsXG4gIGRlc2NyaXB0aW9uOiBcImFuIHVwcGVyY2FzZSBzdHJpbmdcIixcbiAgLi4uYW5ub3RhdGlvbnNcbn0pKTtcbi8qKlxuICogQGNhdGVnb3J5IHN0cmluZyBjb25zdHJ1Y3RvcnNcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNsYXNzIFVwcGVyY2FzZWQgZXh0ZW5kcyBTdHJpbmckLnBpcGUodXBwZXJjYXNlZCh7XG4gIGlkZW50aWZpZXI6IFwiVXBwZXJjYXNlZFwiLFxuICB0aXRsZTogXCJVcHBlcmNhc2VkXCJcbn0pKSB7XG4gIHN0YXRpYyBhbm5vdGF0aW9ucyA9IHN1cGVyLmFubm90YXRpb25zO1xufVxuLyoqXG4gKiBAY2F0ZWdvcnkgdHlwZSBpZFxuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY29uc3QgTGVuZ3RoVHlwZUlkID0gZmlsdGVyc18uTGVuZ3RoVHlwZUlkO1xuLyoqXG4gKiBAY2F0ZWdvcnkgc3RyaW5nIGZpbHRlcnNcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNvbnN0IGxlbmd0aCA9IChsZW5ndGgsIGFubm90YXRpb25zKSA9PiBzZWxmID0+IHtcbiAgY29uc3QgbWluTGVuZ3RoID0gUHJlZGljYXRlLmlzT2JqZWN0KGxlbmd0aCkgPyBNYXRoLm1heCgwLCBNYXRoLmZsb29yKGxlbmd0aC5taW4pKSA6IE1hdGgubWF4KDAsIE1hdGguZmxvb3IobGVuZ3RoKSk7XG4gIGNvbnN0IG1heExlbmd0aCA9IFByZWRpY2F0ZS5pc09iamVjdChsZW5ndGgpID8gTWF0aC5tYXgobWluTGVuZ3RoLCBNYXRoLmZsb29yKGxlbmd0aC5tYXgpKSA6IG1pbkxlbmd0aDtcbiAgaWYgKG1pbkxlbmd0aCAhPT0gbWF4TGVuZ3RoKSB7XG4gICAgcmV0dXJuIHNlbGYucGlwZShmaWx0ZXIoYSA9PiBhLmxlbmd0aCA+PSBtaW5MZW5ndGggJiYgYS5sZW5ndGggPD0gbWF4TGVuZ3RoLCB7XG4gICAgICB0eXBlSWQ6IExlbmd0aFR5cGVJZCxcbiAgICAgIGRlc2NyaXB0aW9uOiBgYSBzdHJpbmcgYXQgbGVhc3QgJHttaW5MZW5ndGh9IGNoYXJhY3RlcihzKSBhbmQgYXQgbW9zdCAke21heExlbmd0aH0gY2hhcmFjdGVyKHMpIGxvbmdgLFxuICAgICAganNvblNjaGVtYToge1xuICAgICAgICBtaW5MZW5ndGgsXG4gICAgICAgIG1heExlbmd0aFxuICAgICAgfSxcbiAgICAgIC4uLmFubm90YXRpb25zXG4gICAgfSkpO1xuICB9XG4gIHJldHVybiBzZWxmLnBpcGUoZmlsdGVyKGEgPT4gYS5sZW5ndGggPT09IG1pbkxlbmd0aCwge1xuICAgIHR5cGVJZDogTGVuZ3RoVHlwZUlkLFxuICAgIGRlc2NyaXB0aW9uOiBtaW5MZW5ndGggPT09IDEgPyBgYSBzaW5nbGUgY2hhcmFjdGVyYCA6IGBhIHN0cmluZyAke21pbkxlbmd0aH0gY2hhcmFjdGVyKHMpIGxvbmdgLFxuICAgIGpzb25TY2hlbWE6IHtcbiAgICAgIG1pbkxlbmd0aCxcbiAgICAgIG1heExlbmd0aDogbWluTGVuZ3RoXG4gICAgfSxcbiAgICAuLi5hbm5vdGF0aW9uc1xuICB9KSk7XG59O1xuLyoqXG4gKiBBIHNjaGVtYSByZXByZXNlbnRpbmcgYSBzaW5nbGUgY2hhcmFjdGVyLlxuICpcbiAqIEBjYXRlZ29yeSBzdHJpbmcgY29uc3RydWN0b3JzXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjbGFzcyBDaGFyIGV4dGVuZHMgU3RyaW5nJC5waXBlKGxlbmd0aCgxLCB7XG4gIGlkZW50aWZpZXI6IFwiQ2hhclwiXG59KSkge1xuICBzdGF0aWMgYW5ub3RhdGlvbnMgPSBzdXBlci5hbm5vdGF0aW9ucztcbn1cbi8qKlxuICogQGNhdGVnb3J5IHN0cmluZyBmaWx0ZXJzXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjb25zdCBub25FbXB0eSA9IGFubm90YXRpb25zID0+IG1pbkxlbmd0aCgxLCB7XG4gIGRlc2NyaXB0aW9uOiBcImEgbm9uIGVtcHR5IHN0cmluZ1wiLFxuICAuLi5hbm5vdGF0aW9uc1xufSk7XG4vKipcbiAqIFRoaXMgc2NoZW1hIGNvbnZlcnRzIGEgc3RyaW5nIHRvIGxvd2VyY2FzZS5cbiAqXG4gKiBAY2F0ZWdvcnkgc3RyaW5nIHRyYW5zZm9ybWF0aW9uc1xuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY2xhc3MgTG93ZXJjYXNlIGV4dGVuZHMgdHJhbnNmb3JtKFN0cmluZyQsIExvd2VyY2FzZWQsIHtcbiAgc3RyaWN0OiB0cnVlLFxuICBkZWNvZGU6IHMgPT4gcy50b0xvd2VyQ2FzZSgpLFxuICBlbmNvZGU6IGlkZW50aXR5XG59KS5hbm5vdGF0aW9ucyh7XG4gIGlkZW50aWZpZXI6IFwiTG93ZXJjYXNlXCJcbn0pIHtcbiAgc3RhdGljIGFubm90YXRpb25zID0gc3VwZXIuYW5ub3RhdGlvbnM7XG59XG4vKipcbiAqIFRoaXMgc2NoZW1hIGNvbnZlcnRzIGEgc3RyaW5nIHRvIHVwcGVyY2FzZS5cbiAqXG4gKiBAY2F0ZWdvcnkgc3RyaW5nIHRyYW5zZm9ybWF0aW9uc1xuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY2xhc3MgVXBwZXJjYXNlIGV4dGVuZHMgdHJhbnNmb3JtKFN0cmluZyQsIFVwcGVyY2FzZWQsIHtcbiAgc3RyaWN0OiB0cnVlLFxuICBkZWNvZGU6IHMgPT4gcy50b1VwcGVyQ2FzZSgpLFxuICBlbmNvZGU6IGlkZW50aXR5XG59KS5hbm5vdGF0aW9ucyh7XG4gIGlkZW50aWZpZXI6IFwiVXBwZXJjYXNlXCJcbn0pIHtcbiAgc3RhdGljIGFubm90YXRpb25zID0gc3VwZXIuYW5ub3RhdGlvbnM7XG59XG4vKipcbiAqIFRoaXMgc2NoZW1hIGNvbnZlcnRzIGEgc3RyaW5nIHRvIGNhcGl0YWxpemVkIG9uZS5cbiAqXG4gKiBAY2F0ZWdvcnkgc3RyaW5nIHRyYW5zZm9ybWF0aW9uc1xuICogQHNpbmNlIDAuNjguMThcbiAqL1xuZXhwb3J0IGNsYXNzIENhcGl0YWxpemUgZXh0ZW5kcyB0cmFuc2Zvcm0oU3RyaW5nJCwgQ2FwaXRhbGl6ZWQsIHtcbiAgc3RyaWN0OiB0cnVlLFxuICBkZWNvZGU6IHMgPT4gc3RyaW5nXy5jYXBpdGFsaXplKHMpLFxuICBlbmNvZGU6IGlkZW50aXR5XG59KS5hbm5vdGF0aW9ucyh7XG4gIGlkZW50aWZpZXI6IFwiQ2FwaXRhbGl6ZVwiXG59KSB7XG4gIHN0YXRpYyBhbm5vdGF0aW9ucyA9IHN1cGVyLmFubm90YXRpb25zO1xufVxuLyoqXG4gKiBUaGlzIHNjaGVtYSBjb252ZXJ0cyBhIHN0cmluZyB0byB1bmNhcGl0YWxpemVkIG9uZS5cbiAqXG4gKiBAY2F0ZWdvcnkgc3RyaW5nIHRyYW5zZm9ybWF0aW9uc1xuICogQHNpbmNlIDAuNjguMThcbiAqL1xuZXhwb3J0IGNsYXNzIFVuY2FwaXRhbGl6ZSBleHRlbmRzIHRyYW5zZm9ybShTdHJpbmckLCBVbmNhcGl0YWxpemVkLCB7XG4gIHN0cmljdDogdHJ1ZSxcbiAgZGVjb2RlOiBzID0+IHN0cmluZ18udW5jYXBpdGFsaXplKHMpLFxuICBlbmNvZGU6IGlkZW50aXR5XG59KS5hbm5vdGF0aW9ucyh7XG4gIGlkZW50aWZpZXI6IFwiVW5jYXBpdGFsaXplXCJcbn0pIHtcbiAgc3RhdGljIGFubm90YXRpb25zID0gc3VwZXIuYW5ub3RhdGlvbnM7XG59XG4vKipcbiAqIEBjYXRlZ29yeSBzdHJpbmcgY29uc3RydWN0b3JzXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjbGFzcyBUcmltbWVkIGV4dGVuZHMgU3RyaW5nJC5waXBlKHRyaW1tZWQoe1xuICBpZGVudGlmaWVyOiBcIlRyaW1tZWRcIixcbiAgdGl0bGU6IFwiVHJpbW1lZFwiXG59KSkge1xuICBzdGF0aWMgYW5ub3RhdGlvbnMgPSBzdXBlci5hbm5vdGF0aW9ucztcbn1cbi8qKlxuICogVGhpcyBzY2hlbWEgYWxsb3dzIHJlbW92aW5nIHdoaXRlc3BhY2VzIGZyb20gdGhlIGJlZ2lubmluZyBhbmQgZW5kIG9mIGEgc3RyaW5nLlxuICpcbiAqIEBjYXRlZ29yeSBzdHJpbmcgdHJhbnNmb3JtYXRpb25zXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjbGFzcyBUcmltIGV4dGVuZHMgdHJhbnNmb3JtKFN0cmluZyQsIFRyaW1tZWQsIHtcbiAgc3RyaWN0OiB0cnVlLFxuICBkZWNvZGU6IHMgPT4gcy50cmltKCksXG4gIGVuY29kZTogaWRlbnRpdHlcbn0pLmFubm90YXRpb25zKHtcbiAgaWRlbnRpZmllcjogXCJUcmltXCJcbn0pIHtcbiAgc3RhdGljIGFubm90YXRpb25zID0gc3VwZXIuYW5ub3RhdGlvbnM7XG59XG4vKipcbiAqIFJldHVybnMgYSBzY2hlbWEgdGhhdCBhbGxvd3Mgc3BsaXR0aW5nIGEgc3RyaW5nIGludG8gYW4gYXJyYXkgb2Ygc3RyaW5ncy5cbiAqXG4gKiBAY2F0ZWdvcnkgc3RyaW5nIHRyYW5zZm9ybWF0aW9uc1xuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY29uc3Qgc3BsaXQgPSBzZXBhcmF0b3IgPT4gdHJhbnNmb3JtKFN0cmluZyQsIEFycmF5JChTdHJpbmckKSwge1xuICBzdHJpY3Q6IHRydWUsXG4gIGRlY29kZTogc3RyaW5nXy5zcGxpdChzZXBhcmF0b3IpLFxuICBlbmNvZGU6IGFycmF5Xy5qb2luKHNlcGFyYXRvcilcbn0pO1xuY29uc3QgSnNvblN0cmluZyA9IC8qI19fUFVSRV9fKi9TdHJpbmckLmFubm90YXRpb25zKHtcbiAgW0FTVC5JZGVudGlmaWVyQW5ub3RhdGlvbklkXTogXCJKc29uU3RyaW5nXCIsXG4gIFtBU1QuVGl0bGVBbm5vdGF0aW9uSWRdOiBcIkpzb25TdHJpbmdcIixcbiAgW0FTVC5EZXNjcmlwdGlvbkFubm90YXRpb25JZF06IFwiYSBKU09OIHN0cmluZ1wiXG59KTtcbmNvbnN0IGdldFBhcnNlSnNvblRyYW5zZm9ybWF0aW9uID0gb3B0aW9ucyA9PiB0cmFuc2Zvcm1PckZhaWwoSnNvblN0cmluZywgVW5rbm93biwge1xuICBzdHJpY3Q6IHRydWUsXG4gIGRlY29kZTogKHMsIF8sIGFzdCkgPT4gUGFyc2VSZXN1bHQudHJ5KHtcbiAgICB0cnk6ICgpID0+IEpTT04ucGFyc2Uocywgb3B0aW9ucz8ucmV2aXZlciksXG4gICAgY2F0Y2g6IGUgPT4gbmV3IFBhcnNlUmVzdWx0LlR5cGUoYXN0LCBzLCBlLm1lc3NhZ2UpXG4gIH0pLFxuICBlbmNvZGU6ICh1LCBfLCBhc3QpID0+IFBhcnNlUmVzdWx0LnRyeSh7XG4gICAgdHJ5OiAoKSA9PiBKU09OLnN0cmluZ2lmeSh1LCBvcHRpb25zPy5yZXBsYWNlciwgb3B0aW9ucz8uc3BhY2UpLFxuICAgIGNhdGNoOiBlID0+IG5ldyBQYXJzZVJlc3VsdC5UeXBlKGFzdCwgdSwgZS5tZXNzYWdlKVxuICB9KVxufSkuYW5ub3RhdGlvbnMoe1xuICB0eXBlSWQ6IGZpbHRlcnNfLlBhcnNlSnNvblR5cGVJZFxufSk7XG4vKipcbiAqIFRoZSBgUGFyc2VKc29uYCBjb21iaW5hdG9yIHByb3ZpZGVzIGEgbWV0aG9kIHRvIGNvbnZlcnQgSlNPTiBzdHJpbmdzIGludG8gdGhlIGB1bmtub3duYCB0eXBlIHVzaW5nIHRoZSB1bmRlcmx5aW5nXG4gKiBmdW5jdGlvbmFsaXR5IG9mIGBKU09OLnBhcnNlYC4gSXQgYWxzbyB1dGlsaXplcyBgSlNPTi5zdHJpbmdpZnlgIGZvciBlbmNvZGluZy5cbiAqXG4gKiBZb3UgY2FuIG9wdGlvbmFsbHkgcHJvdmlkZSBhIGBQYXJzZUpzb25PcHRpb25zYCB0byBjb25maWd1cmUgYm90aCBgSlNPTi5wYXJzZWAgYW5kIGBKU09OLnN0cmluZ2lmeWAgZXhlY3V0aW9ucy5cbiAqXG4gKiBPcHRpb25hbGx5LCB5b3UgY2FuIHBhc3MgYSBzY2hlbWEgYFNjaGVtYTxBLCBJLCBSPmAgdG8gb2J0YWluIGFuIGBBYCB0eXBlIGluc3RlYWQgb2YgYHVua25vd25gLlxuICpcbiAqIEBleGFtcGxlXG4gKiBpbXBvcnQgKiBhcyBTIGZyb20gXCJAZWZmZWN0L3NjaGVtYS9TY2hlbWFcIlxuICpcbiAqIGFzc2VydC5kZWVwU3RyaWN0RXF1YWwoUy5kZWNvZGVVbmtub3duU3luYyhTLnBhcnNlSnNvbigpKShge1wiYVwiOlwiMVwifWApLCB7IGE6IFwiMVwiIH0pXG4gKiBhc3NlcnQuZGVlcFN0cmljdEVxdWFsKFMuZGVjb2RlVW5rbm93blN5bmMoUy5wYXJzZUpzb24oUy5TdHJ1Y3QoeyBhOiBTLk51bWJlckZyb21TdHJpbmcgfSkpKShge1wiYVwiOlwiMVwifWApLCB7IGE6IDEgfSlcbiAqXG4gKiBAY2F0ZWdvcnkgc3RyaW5nIHRyYW5zZm9ybWF0aW9uc1xuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY29uc3QgcGFyc2VKc29uID0gKHNjaGVtYSwgbykgPT4gaXNTY2hlbWEoc2NoZW1hKSA/IGNvbXBvc2UocGFyc2VKc29uKG8pLCBzY2hlbWEpIDogZ2V0UGFyc2VKc29uVHJhbnNmb3JtYXRpb24oc2NoZW1hKTtcbi8qKlxuICogQGNhdGVnb3J5IHN0cmluZyBjb25zdHJ1Y3RvcnNcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNsYXNzIE5vbkVtcHR5IGV4dGVuZHMgU3RyaW5nJC5waXBlKG5vbkVtcHR5KHtcbiAgaWRlbnRpZmllcjogXCJOb25FbXB0eVwiLFxuICB0aXRsZTogXCJOb25FbXB0eVwiXG59KSkge1xuICBzdGF0aWMgYW5ub3RhdGlvbnMgPSBzdXBlci5hbm5vdGF0aW9ucztcbn1cbi8qKlxuICogQGNhdGVnb3J5IHR5cGUgaWRcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNvbnN0IFVVSURUeXBlSWQgPSAvKiNfX1BVUkVfXyovU3ltYm9sLmZvcihcIkBlZmZlY3Qvc2NoZW1hL1R5cGVJZC9VVUlEXCIpO1xuY29uc3QgdXVpZFJlZ2V4cCA9IC9eWzAtOWEtZkEtRl17OH0tWzAtOWEtZkEtRl17NH0tWzAtOWEtZkEtRl17NH0tWzAtOWEtZkEtRl17NH0tWzAtOWEtZkEtRl17MTJ9JC9pO1xuLyoqXG4gKiBSZXByZXNlbnRzIGEgVW5pdmVyc2FsbHkgVW5pcXVlIElkZW50aWZpZXIgKFVVSUQpLlxuICpcbiAqIFRoaXMgc2NoZW1hIGVuc3VyZXMgdGhhdCB0aGUgcHJvdmlkZWQgc3RyaW5nIGFkaGVyZXMgdG8gdGhlIHN0YW5kYXJkIFVVSUQgZm9ybWF0LlxuICpcbiAqIEBjYXRlZ29yeSBzdHJpbmcgY29uc3RydWN0b3JzXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjbGFzcyBVVUlEIGV4dGVuZHMgU3RyaW5nJC5waXBlKHBhdHRlcm4odXVpZFJlZ2V4cCwge1xuICB0eXBlSWQ6IFVVSURUeXBlSWQsXG4gIGlkZW50aWZpZXI6IFwiVVVJRFwiLFxuICB0aXRsZTogXCJVVUlEXCIsXG4gIGRlc2NyaXB0aW9uOiBcImEgVW5pdmVyc2FsbHkgVW5pcXVlIElkZW50aWZpZXJcIixcbiAgYXJiaXRyYXJ5OiAoKSA9PiBmYyA9PiBmYy51dWlkKClcbn0pKSB7XG4gIHN0YXRpYyBhbm5vdGF0aW9ucyA9IHN1cGVyLmFubm90YXRpb25zO1xufVxuLyoqXG4gKiBAY2F0ZWdvcnkgdHlwZSBpZFxuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY29uc3QgVUxJRFR5cGVJZCA9IC8qI19fUFVSRV9fKi9TeW1ib2wuZm9yKFwiQGVmZmVjdC9zY2hlbWEvVHlwZUlkL1VMSURcIik7XG5jb25zdCB1bGlkUmVnZXhwID0gL15bMC03XVswLTlBLUhKS01OUC1UVi1aXXsyNX0kL2k7XG4vKipcbiAqIFJlcHJlc2VudHMgYSBVbml2ZXJzYWxseSBVbmlxdWUgTGV4aWNvZ3JhcGhpY2FsbHkgU29ydGFibGUgSWRlbnRpZmllciAoVUxJRCkuXG4gKlxuICogVUxJRHMgYXJlIGRlc2lnbmVkIHRvIGJlIGNvbXBhY3QsIFVSTC1zYWZlLCBhbmQgb3JkZXJlZCwgbWFraW5nIHRoZW0gc3VpdGFibGUgZm9yIHVzZSBhcyBpZGVudGlmaWVycy5cbiAqIFRoaXMgc2NoZW1hIGVuc3VyZXMgdGhhdCB0aGUgcHJvdmlkZWQgc3RyaW5nIGFkaGVyZXMgdG8gdGhlIHN0YW5kYXJkIFVMSUQgZm9ybWF0LlxuICpcbiAqIEBjYXRlZ29yeSBzdHJpbmcgY29uc3RydWN0b3JzXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjbGFzcyBVTElEIGV4dGVuZHMgU3RyaW5nJC5waXBlKHBhdHRlcm4odWxpZFJlZ2V4cCwge1xuICB0eXBlSWQ6IFVMSURUeXBlSWQsXG4gIGlkZW50aWZpZXI6IFwiVUxJRFwiLFxuICB0aXRsZTogXCJVTElEXCIsXG4gIGRlc2NyaXB0aW9uOiBcImEgVW5pdmVyc2FsbHkgVW5pcXVlIExleGljb2dyYXBoaWNhbGx5IFNvcnRhYmxlIElkZW50aWZpZXJcIixcbiAgYXJiaXRyYXJ5OiAoKSA9PiBmYyA9PiBmYy51bGlkKClcbn0pKSB7XG4gIHN0YXRpYyBhbm5vdGF0aW9ucyA9IHN1cGVyLmFubm90YXRpb25zO1xufVxuLyoqXG4gKiBAY2F0ZWdvcnkgdHlwZSBpZFxuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY29uc3QgRmluaXRlVHlwZUlkID0gLyojX19QVVJFX18qL1N5bWJvbC5mb3IoXCJAZWZmZWN0L3NjaGVtYS9UeXBlSWQvRmluaXRlXCIpO1xuLyoqXG4gKiBFbnN1cmVzIHRoYXQgdGhlIHByb3ZpZGVkIHZhbHVlIGlzIGEgZmluaXRlIG51bWJlci5cbiAqXG4gKiBUaGlzIHNjaGVtYSBmaWx0ZXJzIG91dCBub24tZmluaXRlIG51bWVyaWMgdmFsdWVzLCBhbGxvd2luZyBvbmx5IGZpbml0ZSBudW1iZXJzIHRvIHBhc3MgdGhyb3VnaC5cbiAqXG4gKiBAY2F0ZWdvcnkgbnVtYmVyIGZpbHRlcnNcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNvbnN0IGZpbml0ZSA9IGFubm90YXRpb25zID0+IHNlbGYgPT4gc2VsZi5waXBlKGZpbHRlcihhID0+IE51bWJlci5pc0Zpbml0ZShhKSwge1xuICB0eXBlSWQ6IEZpbml0ZVR5cGVJZCxcbiAgZGVzY3JpcHRpb246IFwiYSBmaW5pdGUgbnVtYmVyXCIsXG4gIC4uLmFubm90YXRpb25zXG59KSk7XG4vKipcbiAqIEBjYXRlZ29yeSB0eXBlIGlkXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjb25zdCBHcmVhdGVyVGhhblR5cGVJZCA9IGZpbHRlcnNfLkdyZWF0ZXJUaGFuVHlwZUlkO1xuLyoqXG4gKiBUaGlzIGZpbHRlciBjaGVja3Mgd2hldGhlciB0aGUgcHJvdmlkZWQgbnVtYmVyIGlzIGdyZWF0ZXIgdGhhbiB0aGUgc3BlY2lmaWVkIG1pbmltdW0uXG4gKlxuICogQGNhdGVnb3J5IG51bWJlciBmaWx0ZXJzXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjb25zdCBncmVhdGVyVGhhbiA9IChtaW4sIGFubm90YXRpb25zKSA9PiBzZWxmID0+IHNlbGYucGlwZShmaWx0ZXIoYSA9PiBhID4gbWluLCB7XG4gIHR5cGVJZDogR3JlYXRlclRoYW5UeXBlSWQsXG4gIGRlc2NyaXB0aW9uOiBtaW4gPT09IDAgPyBcImEgcG9zaXRpdmUgbnVtYmVyXCIgOiBgYSBudW1iZXIgZ3JlYXRlciB0aGFuICR7bWlufWAsXG4gIGpzb25TY2hlbWE6IHtcbiAgICBleGNsdXNpdmVNaW5pbXVtOiBtaW5cbiAgfSxcbiAgLi4uYW5ub3RhdGlvbnNcbn0pKTtcbi8qKlxuICogQGNhdGVnb3J5IHR5cGUgaWRcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNvbnN0IEdyZWF0ZXJUaGFuT3JFcXVhbFRvVHlwZUlkID0gZmlsdGVyc18uR3JlYXRlclRoYW5PckVxdWFsVG9UeXBlSWQ7XG4vKipcbiAqIFRoaXMgZmlsdGVyIGNoZWNrcyB3aGV0aGVyIHRoZSBwcm92aWRlZCBudW1iZXIgaXMgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIHRoZSBzcGVjaWZpZWQgbWluaW11bS5cbiAqXG4gKiBAY2F0ZWdvcnkgbnVtYmVyIGZpbHRlcnNcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNvbnN0IGdyZWF0ZXJUaGFuT3JFcXVhbFRvID0gKG1pbiwgYW5ub3RhdGlvbnMpID0+IHNlbGYgPT4gc2VsZi5waXBlKGZpbHRlcihhID0+IGEgPj0gbWluLCB7XG4gIHR5cGVJZDogR3JlYXRlclRoYW5PckVxdWFsVG9UeXBlSWQsXG4gIGRlc2NyaXB0aW9uOiBtaW4gPT09IDAgPyBcImEgbm9uLW5lZ2F0aXZlIG51bWJlclwiIDogYGEgbnVtYmVyIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byAke21pbn1gLFxuICBqc29uU2NoZW1hOiB7XG4gICAgbWluaW11bTogbWluXG4gIH0sXG4gIC4uLmFubm90YXRpb25zXG59KSk7XG4vKipcbiAqIEBjYXRlZ29yeSB0eXBlIGlkXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjb25zdCBNdWx0aXBsZU9mVHlwZUlkID0gLyojX19QVVJFX18qL1N5bWJvbC5mb3IoXCJAZWZmZWN0L3NjaGVtYS9UeXBlSWQvTXVsdGlwbGVPZlwiKTtcbi8qKlxuICogQGNhdGVnb3J5IG51bWJlciBmaWx0ZXJzXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjb25zdCBtdWx0aXBsZU9mID0gKGRpdmlzb3IsIGFubm90YXRpb25zKSA9PiBzZWxmID0+IHNlbGYucGlwZShmaWx0ZXIoYSA9PiBudW1iZXJfLnJlbWFpbmRlcihhLCBkaXZpc29yKSA9PT0gMCwge1xuICB0eXBlSWQ6IE11bHRpcGxlT2ZUeXBlSWQsXG4gIGRlc2NyaXB0aW9uOiBgYSBudW1iZXIgZGl2aXNpYmxlIGJ5ICR7ZGl2aXNvcn1gLFxuICBqc29uU2NoZW1hOiB7XG4gICAgbXVsdGlwbGVPZjogTWF0aC5hYnMoZGl2aXNvcilcbiAgfSxcbiAgLy8gc3BlYyByZXF1aXJlcyBwb3NpdGl2ZSBkaXZpc29yXG4gIC4uLmFubm90YXRpb25zXG59KSk7XG4vKipcbiAqIEBjYXRlZ29yeSB0eXBlIGlkXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjb25zdCBJbnRUeXBlSWQgPSBmaWx0ZXJzXy5JbnRUeXBlSWQ7XG4vKipcbiAqIEBjYXRlZ29yeSBudW1iZXIgZmlsdGVyc1xuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY29uc3QgaW50ID0gYW5ub3RhdGlvbnMgPT4gc2VsZiA9PiBzZWxmLnBpcGUoZmlsdGVyKGEgPT4gTnVtYmVyLmlzU2FmZUludGVnZXIoYSksIHtcbiAgdHlwZUlkOiBJbnRUeXBlSWQsXG4gIHRpdGxlOiBcImludGVnZXJcIixcbiAgZGVzY3JpcHRpb246IFwiYW4gaW50ZWdlclwiLFxuICBqc29uU2NoZW1hOiB7XG4gICAgdHlwZTogXCJpbnRlZ2VyXCJcbiAgfSxcbiAgLi4uYW5ub3RhdGlvbnNcbn0pKTtcbi8qKlxuICogQGNhdGVnb3J5IHR5cGUgaWRcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNvbnN0IExlc3NUaGFuVHlwZUlkID0gZmlsdGVyc18uTGVzc1RoYW5UeXBlSWQ7XG4vKipcbiAqIFRoaXMgZmlsdGVyIGNoZWNrcyB3aGV0aGVyIHRoZSBwcm92aWRlZCBudW1iZXIgaXMgbGVzcyB0aGFuIHRoZSBzcGVjaWZpZWQgbWF4aW11bS5cbiAqXG4gKiBAY2F0ZWdvcnkgbnVtYmVyIGZpbHRlcnNcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNvbnN0IGxlc3NUaGFuID0gKG1heCwgYW5ub3RhdGlvbnMpID0+IHNlbGYgPT4gc2VsZi5waXBlKGZpbHRlcihhID0+IGEgPCBtYXgsIHtcbiAgdHlwZUlkOiBMZXNzVGhhblR5cGVJZCxcbiAgZGVzY3JpcHRpb246IG1heCA9PT0gMCA/IFwiYSBuZWdhdGl2ZSBudW1iZXJcIiA6IGBhIG51bWJlciBsZXNzIHRoYW4gJHttYXh9YCxcbiAganNvblNjaGVtYToge1xuICAgIGV4Y2x1c2l2ZU1heGltdW06IG1heFxuICB9LFxuICAuLi5hbm5vdGF0aW9uc1xufSkpO1xuLyoqXG4gKiBAY2F0ZWdvcnkgdHlwZSBpZFxuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY29uc3QgTGVzc1RoYW5PckVxdWFsVG9UeXBlSWQgPSBmaWx0ZXJzXy5MZXNzVGhhbk9yRXF1YWxUb1R5cGVJZDtcbi8qKlxuICogVGhpcyBzY2hlbWEgY2hlY2tzIHdoZXRoZXIgdGhlIHByb3ZpZGVkIG51bWJlciBpcyBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gdGhlIHNwZWNpZmllZCBtYXhpbXVtLlxuICpcbiAqIEBjYXRlZ29yeSBudW1iZXIgZmlsdGVyc1xuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY29uc3QgbGVzc1RoYW5PckVxdWFsVG8gPSAobWF4LCBhbm5vdGF0aW9ucykgPT4gc2VsZiA9PiBzZWxmLnBpcGUoZmlsdGVyKGEgPT4gYSA8PSBtYXgsIHtcbiAgdHlwZUlkOiBMZXNzVGhhbk9yRXF1YWxUb1R5cGVJZCxcbiAgZGVzY3JpcHRpb246IG1heCA9PT0gMCA/IFwiYSBub24tcG9zaXRpdmUgbnVtYmVyXCIgOiBgYSBudW1iZXIgbGVzcyB0aGFuIG9yIGVxdWFsIHRvICR7bWF4fWAsXG4gIGpzb25TY2hlbWE6IHtcbiAgICBtYXhpbXVtOiBtYXhcbiAgfSxcbiAgLi4uYW5ub3RhdGlvbnNcbn0pKTtcbi8qKlxuICogQGNhdGVnb3J5IHR5cGUgaWRcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNvbnN0IEJldHdlZW5UeXBlSWQgPSBmaWx0ZXJzXy5CZXR3ZWVuVHlwZUlkO1xuLyoqXG4gKiBUaGlzIGZpbHRlciBjaGVja3Mgd2hldGhlciB0aGUgcHJvdmlkZWQgbnVtYmVyIGZhbGxzIHdpdGhpbiB0aGUgc3BlY2lmaWVkIG1pbmltdW0gYW5kIG1heGltdW0gdmFsdWVzLlxuICpcbiAqIEBjYXRlZ29yeSBudW1iZXIgZmlsdGVyc1xuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY29uc3QgYmV0d2VlbiA9IChtaW4sIG1heCwgYW5ub3RhdGlvbnMpID0+IHNlbGYgPT4gc2VsZi5waXBlKGZpbHRlcihhID0+IGEgPj0gbWluICYmIGEgPD0gbWF4LCB7XG4gIHR5cGVJZDogQmV0d2VlblR5cGVJZCxcbiAgZGVzY3JpcHRpb246IGBhIG51bWJlciBiZXR3ZWVuICR7bWlufSBhbmQgJHttYXh9YCxcbiAganNvblNjaGVtYToge1xuICAgIG1heGltdW06IG1heCxcbiAgICBtaW5pbXVtOiBtaW5cbiAgfSxcbiAgLi4uYW5ub3RhdGlvbnNcbn0pKTtcbi8qKlxuICogQGNhdGVnb3J5IHR5cGUgaWRcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNvbnN0IE5vbk5hTlR5cGVJZCA9IC8qI19fUFVSRV9fKi9TeW1ib2wuZm9yKFwiQGVmZmVjdC9zY2hlbWEvVHlwZUlkL05vbk5hTlwiKTtcbi8qKlxuICogQGNhdGVnb3J5IG51bWJlciBmaWx0ZXJzXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjb25zdCBub25OYU4gPSBhbm5vdGF0aW9ucyA9PiBzZWxmID0+IHNlbGYucGlwZShmaWx0ZXIoYSA9PiAhTnVtYmVyLmlzTmFOKGEpLCB7XG4gIHR5cGVJZDogTm9uTmFOVHlwZUlkLFxuICBkZXNjcmlwdGlvbjogXCJhIG51bWJlciBleGNsdWRpbmcgTmFOXCIsXG4gIC4uLmFubm90YXRpb25zXG59KSk7XG4vKipcbiAqIEBjYXRlZ29yeSBudW1iZXIgZmlsdGVyc1xuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY29uc3QgcG9zaXRpdmUgPSBhbm5vdGF0aW9ucyA9PiBncmVhdGVyVGhhbigwLCBhbm5vdGF0aW9ucyk7XG4vKipcbiAqIEBjYXRlZ29yeSBudW1iZXIgZmlsdGVyc1xuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY29uc3QgbmVnYXRpdmUgPSBhbm5vdGF0aW9ucyA9PiBsZXNzVGhhbigwLCBhbm5vdGF0aW9ucyk7XG4vKipcbiAqIEBjYXRlZ29yeSBudW1iZXIgZmlsdGVyc1xuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY29uc3Qgbm9uUG9zaXRpdmUgPSBhbm5vdGF0aW9ucyA9PiBsZXNzVGhhbk9yRXF1YWxUbygwLCBhbm5vdGF0aW9ucyk7XG4vKipcbiAqIEBjYXRlZ29yeSBudW1iZXIgZmlsdGVyc1xuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY29uc3Qgbm9uTmVnYXRpdmUgPSBhbm5vdGF0aW9ucyA9PiBncmVhdGVyVGhhbk9yRXF1YWxUbygwLCBhbm5vdGF0aW9ucyk7XG4vKipcbiAqIENsYW1wcyBhIG51bWJlciBiZXR3ZWVuIGEgbWluaW11bSBhbmQgYSBtYXhpbXVtIHZhbHVlLlxuICpcbiAqIEBjYXRlZ29yeSBudW1iZXIgdHJhbnNmb3JtYXRpb25zXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjb25zdCBjbGFtcCA9IChtaW5pbXVtLCBtYXhpbXVtKSA9PiBzZWxmID0+IHRyYW5zZm9ybShzZWxmLCBzZWxmLnBpcGUodHlwZVNjaGVtYSwgYmV0d2VlbihtaW5pbXVtLCBtYXhpbXVtKSksIHtcbiAgc3RyaWN0OiBmYWxzZSxcbiAgZGVjb2RlOiBzZWxmID0+IG51bWJlcl8uY2xhbXAoc2VsZiwge1xuICAgIG1pbmltdW0sXG4gICAgbWF4aW11bVxuICB9KSxcbiAgZW5jb2RlOiBpZGVudGl0eVxufSk7XG4vKipcbiAqIFRyYW5zZm9ybXMgYSBgc3RyaW5nYCBpbnRvIGEgYG51bWJlcmAgYnkgcGFyc2luZyB0aGUgc3RyaW5nIHVzaW5nIHRoZSBgcGFyc2VgIGZ1bmN0aW9uIG9mIHRoZSBgZWZmZWN0L051bWJlcmAgbW9kdWxlLlxuICpcbiAqIEl0IHJldHVybnMgYW4gZXJyb3IgaWYgdGhlIHZhbHVlIGNhbid0IGJlIGNvbnZlcnRlZCAoZm9yIGV4YW1wbGUgd2hlbiBub24tbnVtZXJpYyBjaGFyYWN0ZXJzIGFyZSBwcm92aWRlZCkuXG4gKlxuICogVGhlIGZvbGxvd2luZyBzcGVjaWFsIHN0cmluZyB2YWx1ZXMgYXJlIHN1cHBvcnRlZDogXCJOYU5cIiwgXCJJbmZpbml0eVwiLCBcIi1JbmZpbml0eVwiLlxuICpcbiAqIEBjYXRlZ29yeSBudW1iZXIgdHJhbnNmb3JtYXRpb25zXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjb25zdCBwYXJzZU51bWJlciA9IHNlbGYgPT4gdHJhbnNmb3JtT3JGYWlsKHNlbGYsIE51bWJlciQsIHtcbiAgc3RyaWN0OiBmYWxzZSxcbiAgZGVjb2RlOiAocywgXywgYXN0KSA9PiBQYXJzZVJlc3VsdC5mcm9tT3B0aW9uKG51bWJlcl8ucGFyc2UocyksICgpID0+IG5ldyBQYXJzZVJlc3VsdC5UeXBlKGFzdCwgcykpLFxuICBlbmNvZGU6IG4gPT4gUGFyc2VSZXN1bHQuc3VjY2VlZChTdHJpbmcobikpXG59KTtcbi8qKlxuICogVGhpcyBzY2hlbWEgdHJhbnNmb3JtcyBhIGBzdHJpbmdgIGludG8gYSBgbnVtYmVyYCBieSBwYXJzaW5nIHRoZSBzdHJpbmcgdXNpbmcgdGhlIGBwYXJzZWAgZnVuY3Rpb24gb2YgdGhlIGBlZmZlY3QvTnVtYmVyYCBtb2R1bGUuXG4gKlxuICogSXQgcmV0dXJucyBhbiBlcnJvciBpZiB0aGUgdmFsdWUgY2FuJ3QgYmUgY29udmVydGVkIChmb3IgZXhhbXBsZSB3aGVuIG5vbi1udW1lcmljIGNoYXJhY3RlcnMgYXJlIHByb3ZpZGVkKS5cbiAqXG4gKiBUaGUgZm9sbG93aW5nIHNwZWNpYWwgc3RyaW5nIHZhbHVlcyBhcmUgc3VwcG9ydGVkOiBcIk5hTlwiLCBcIkluZmluaXR5XCIsIFwiLUluZmluaXR5XCIuXG4gKlxuICogQGNhdGVnb3J5IG51bWJlciBjb25zdHJ1Y3RvcnNcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNsYXNzIE51bWJlckZyb21TdHJpbmcgZXh0ZW5kcyBwYXJzZU51bWJlcihTdHJpbmckKS5hbm5vdGF0aW9ucyh7XG4gIGlkZW50aWZpZXI6IFwiTnVtYmVyRnJvbVN0cmluZ1wiXG59KSB7XG4gIHN0YXRpYyBhbm5vdGF0aW9ucyA9IHN1cGVyLmFubm90YXRpb25zO1xufVxuLyoqXG4gKiBAY2F0ZWdvcnkgbnVtYmVyIGNvbnN0cnVjdG9yc1xuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY2xhc3MgRmluaXRlIGV4dGVuZHMgTnVtYmVyJC5waXBlKGZpbml0ZSh7XG4gIGlkZW50aWZpZXI6IFwiRmluaXRlXCIsXG4gIHRpdGxlOiBcIkZpbml0ZVwiXG59KSkge1xuICBzdGF0aWMgYW5ub3RhdGlvbnMgPSBzdXBlci5hbm5vdGF0aW9ucztcbn1cbi8qKlxuICogQGNhdGVnb3J5IG51bWJlciBjb25zdHJ1Y3RvcnNcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNsYXNzIEludCBleHRlbmRzIE51bWJlciQucGlwZShpbnQoe1xuICBpZGVudGlmaWVyOiBcIkludFwiLFxuICB0aXRsZTogXCJJbnRcIlxufSkpIHtcbiAgc3RhdGljIGFubm90YXRpb25zID0gc3VwZXIuYW5ub3RhdGlvbnM7XG59XG4vKipcbiAqIEBjYXRlZ29yeSBudW1iZXIgY29uc3RydWN0b3JzXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjbGFzcyBOb25OYU4gZXh0ZW5kcyBOdW1iZXIkLnBpcGUobm9uTmFOKHtcbiAgaWRlbnRpZmllcjogXCJOb25OYU5cIixcbiAgdGl0bGU6IFwiTm9uTmFOXCJcbn0pKSB7XG4gIHN0YXRpYyBhbm5vdGF0aW9ucyA9IHN1cGVyLmFubm90YXRpb25zO1xufVxuLyoqXG4gKiBAY2F0ZWdvcnkgbnVtYmVyIGNvbnN0cnVjdG9yc1xuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY2xhc3MgUG9zaXRpdmUgZXh0ZW5kcyBOdW1iZXIkLnBpcGUocG9zaXRpdmUoe1xuICBpZGVudGlmaWVyOiBcIlBvc2l0aXZlXCIsXG4gIHRpdGxlOiBcIlBvc2l0aXZlXCJcbn0pKSB7XG4gIHN0YXRpYyBhbm5vdGF0aW9ucyA9IHN1cGVyLmFubm90YXRpb25zO1xufVxuLyoqXG4gKiBAY2F0ZWdvcnkgbnVtYmVyIGNvbnN0cnVjdG9yc1xuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY2xhc3MgTmVnYXRpdmUgZXh0ZW5kcyBOdW1iZXIkLnBpcGUobmVnYXRpdmUoe1xuICBpZGVudGlmaWVyOiBcIk5lZ2F0aXZlXCIsXG4gIHRpdGxlOiBcIk5lZ2F0aXZlXCJcbn0pKSB7XG4gIHN0YXRpYyBhbm5vdGF0aW9ucyA9IHN1cGVyLmFubm90YXRpb25zO1xufVxuLyoqXG4gKiBAY2F0ZWdvcnkgbnVtYmVyIGNvbnN0cnVjdG9yc1xuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY2xhc3MgTm9uUG9zaXRpdmUgZXh0ZW5kcyBOdW1iZXIkLnBpcGUobm9uUG9zaXRpdmUoe1xuICBpZGVudGlmaWVyOiBcIk5vblBvc2l0aXZlXCIsXG4gIHRpdGxlOiBcIk5vblBvc2l0aXZlXCJcbn0pKSB7XG4gIHN0YXRpYyBhbm5vdGF0aW9ucyA9IHN1cGVyLmFubm90YXRpb25zO1xufVxuLyoqXG4gKiBAY2F0ZWdvcnkgbnVtYmVyIGNvbnN0cnVjdG9yc1xuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY2xhc3MgTm9uTmVnYXRpdmUgZXh0ZW5kcyBOdW1iZXIkLnBpcGUobm9uTmVnYXRpdmUoe1xuICBpZGVudGlmaWVyOiBcIk5vbk5lZ2F0aXZlXCIsXG4gIHRpdGxlOiBcIk5vbk5lZ2F0aXZlXCJcbn0pKSB7XG4gIHN0YXRpYyBhbm5vdGF0aW9ucyA9IHN1cGVyLmFubm90YXRpb25zO1xufVxuLyoqXG4gKiBAY2F0ZWdvcnkgdHlwZSBpZFxuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY29uc3QgSnNvbk51bWJlclR5cGVJZCA9IC8qI19fUFVSRV9fKi9TeW1ib2wuZm9yKFwiQGVmZmVjdC9zY2hlbWEvVHlwZUlkL0pzb25OdW1iZXJcIik7XG4vKipcbiAqIFRoZSBgSnNvbk51bWJlcmAgaXMgYSBzY2hlbWEgZm9yIHJlcHJlc2VudGluZyBKU09OIG51bWJlcnMuIEl0IGVuc3VyZXMgdGhhdCB0aGUgcHJvdmlkZWQgdmFsdWUgaXMgYSB2YWxpZFxuICogbnVtYmVyIGJ5IGZpbHRlcmluZyBvdXQgYE5hTmAgYW5kIGAoKy8tKSBJbmZpbml0eWAuIFRoaXMgaXMgdXNlZnVsIHdoZW4geW91IHdhbnQgdG8gdmFsaWRhdGUgYW5kIHJlcHJlc2VudCBudW1iZXJzIGluIEpTT05cbiAqIGZvcm1hdC5cbiAqXG4gKiBAZXhhbXBsZVxuICogaW1wb3J0ICogYXMgUyBmcm9tIFwiQGVmZmVjdC9zY2hlbWEvU2NoZW1hXCJcbiAqXG4gKiBjb25zdCBpcyA9IFMuaXMoUy5Kc29uTnVtYmVyKVxuICpcbiAqIGFzc2VydC5kZWVwU3RyaWN0RXF1YWwoaXMoNDIpLCB0cnVlKVxuICogYXNzZXJ0LmRlZXBTdHJpY3RFcXVhbChpcyhOdW1iZXIuTmFOKSwgZmFsc2UpXG4gKiBhc3NlcnQuZGVlcFN0cmljdEVxdWFsKGlzKE51bWJlci5QT1NJVElWRV9JTkZJTklUWSksIGZhbHNlKVxuICogYXNzZXJ0LmRlZXBTdHJpY3RFcXVhbChpcyhOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFkpLCBmYWxzZSlcbiAqXG4gKiBAY2F0ZWdvcnkgbnVtYmVyIGNvbnN0cnVjdG9yc1xuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY2xhc3MgSnNvbk51bWJlciBleHRlbmRzIE51bWJlciQucGlwZShmaWx0ZXIobiA9PiAhTnVtYmVyLmlzTmFOKG4pICYmIE51bWJlci5pc0Zpbml0ZShuKSwge1xuICB0eXBlSWQ6IEpzb25OdW1iZXJUeXBlSWQsXG4gIGlkZW50aWZpZXI6IFwiSnNvbk51bWJlclwiLFxuICB0aXRsZTogXCJKU09OLWNvbXBhdGlibGUgbnVtYmVyXCIsXG4gIGRlc2NyaXB0aW9uOiBcImEgSlNPTi1jb21wYXRpYmxlIG51bWJlciwgZXhjbHVkaW5nIE5hTiwgK0luZmluaXR5LCBhbmQgLUluZmluaXR5XCIsXG4gIGpzb25TY2hlbWE6IHtcbiAgICB0eXBlOiBcIm51bWJlclwiXG4gIH1cbn0pKSB7XG4gIHN0YXRpYyBhbm5vdGF0aW9ucyA9IHN1cGVyLmFubm90YXRpb25zO1xufVxuLyoqXG4gKiBAY2F0ZWdvcnkgYm9vbGVhbiB0cmFuc2Zvcm1hdGlvbnNcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNsYXNzIE5vdCBleHRlbmRzIHRyYW5zZm9ybShCb29sZWFuJCwgQm9vbGVhbiQsIHtcbiAgc3RyaWN0OiB0cnVlLFxuICBkZWNvZGU6IGJvb2xlYW5fLm5vdCxcbiAgZW5jb2RlOiBib29sZWFuXy5ub3Rcbn0pIHtcbiAgc3RhdGljIGFubm90YXRpb25zID0gc3VwZXIuYW5ub3RhdGlvbnM7XG59XG4vKiogQGlnbm9yZSAqL1xuY2xhc3MgU3ltYm9sJCBleHRlbmRzIHRyYW5zZm9ybShTdHJpbmckLCBTeW1ib2xGcm9tU2VsZiwge1xuICBzdHJpY3Q6IGZhbHNlLFxuICBkZWNvZGU6IHMgPT4gU3ltYm9sLmZvcihzKSxcbiAgZW5jb2RlOiBzeW0gPT4gc3ltLmRlc2NyaXB0aW9uXG59KS5hbm5vdGF0aW9ucyh7XG4gIGlkZW50aWZpZXI6IFwic3ltYm9sXCJcbn0pIHtcbiAgc3RhdGljIGFubm90YXRpb25zID0gc3VwZXIuYW5ub3RhdGlvbnM7XG59XG5leHBvcnQge1xuLyoqXG4gKiBUaGlzIHNjaGVtYSB0cmFuc2Zvcm1zIGEgYHN0cmluZ2AgaW50byBhIGBzeW1ib2xgLlxuICpcbiAqIEBjYXRlZ29yeSBzeW1ib2wgdHJhbnNmb3JtYXRpb25zXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cblN5bWJvbCQgYXMgU3ltYm9sIH07XG4vKipcbiAqIEBjYXRlZ29yeSB0eXBlIGlkXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjb25zdCBHcmVhdGVyVGhhbkJpZ0ludFR5cGVJZCA9IGZpbHRlcnNfLkdyZWF0ZXJUaGFuQmlnaW50VHlwZUlkO1xuLyoqXG4gKiBAY2F0ZWdvcnkgYmlnaW50IGZpbHRlcnNcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNvbnN0IGdyZWF0ZXJUaGFuQmlnSW50ID0gKG1pbiwgYW5ub3RhdGlvbnMpID0+IHNlbGYgPT4gc2VsZi5waXBlKGZpbHRlcihhID0+IGEgPiBtaW4sIHtcbiAgdHlwZUlkOiB7XG4gICAgaWQ6IEdyZWF0ZXJUaGFuQmlnSW50VHlwZUlkLFxuICAgIGFubm90YXRpb246IHtcbiAgICAgIG1pblxuICAgIH1cbiAgfSxcbiAgZGVzY3JpcHRpb246IG1pbiA9PT0gMG4gPyBcImEgcG9zaXRpdmUgYmlnaW50XCIgOiBgYSBiaWdpbnQgZ3JlYXRlciB0aGFuICR7bWlufW5gLFxuICAuLi5hbm5vdGF0aW9uc1xufSkpO1xuLyoqXG4gKiBAY2F0ZWdvcnkgdHlwZSBpZFxuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY29uc3QgR3JlYXRlclRoYW5PckVxdWFsVG9CaWdJbnRUeXBlSWQgPSBmaWx0ZXJzXy5HcmVhdGVyVGhhbk9yRXF1YWxUb0JpZ0ludFR5cGVJZDtcbi8qKlxuICogQGNhdGVnb3J5IGJpZ2ludCBmaWx0ZXJzXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjb25zdCBncmVhdGVyVGhhbk9yRXF1YWxUb0JpZ0ludCA9IChtaW4sIGFubm90YXRpb25zKSA9PiBzZWxmID0+IHNlbGYucGlwZShmaWx0ZXIoYSA9PiBhID49IG1pbiwge1xuICB0eXBlSWQ6IHtcbiAgICBpZDogR3JlYXRlclRoYW5PckVxdWFsVG9CaWdJbnRUeXBlSWQsXG4gICAgYW5ub3RhdGlvbjoge1xuICAgICAgbWluXG4gICAgfVxuICB9LFxuICBkZXNjcmlwdGlvbjogbWluID09PSAwbiA/IFwiYSBub24tbmVnYXRpdmUgYmlnaW50XCIgOiBgYSBiaWdpbnQgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvICR7bWlufW5gLFxuICAuLi5hbm5vdGF0aW9uc1xufSkpO1xuLyoqXG4gKiBAY2F0ZWdvcnkgdHlwZSBpZFxuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY29uc3QgTGVzc1RoYW5CaWdJbnRUeXBlSWQgPSBmaWx0ZXJzXy5MZXNzVGhhbkJpZ0ludFR5cGVJZDtcbi8qKlxuICogQGNhdGVnb3J5IGJpZ2ludCBmaWx0ZXJzXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjb25zdCBsZXNzVGhhbkJpZ0ludCA9IChtYXgsIGFubm90YXRpb25zKSA9PiBzZWxmID0+IHNlbGYucGlwZShmaWx0ZXIoYSA9PiBhIDwgbWF4LCB7XG4gIHR5cGVJZDoge1xuICAgIGlkOiBMZXNzVGhhbkJpZ0ludFR5cGVJZCxcbiAgICBhbm5vdGF0aW9uOiB7XG4gICAgICBtYXhcbiAgICB9XG4gIH0sXG4gIGRlc2NyaXB0aW9uOiBtYXggPT09IDBuID8gXCJhIG5lZ2F0aXZlIGJpZ2ludFwiIDogYGEgYmlnaW50IGxlc3MgdGhhbiAke21heH1uYCxcbiAgLi4uYW5ub3RhdGlvbnNcbn0pKTtcbi8qKlxuICogQGNhdGVnb3J5IHR5cGUgaWRcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNvbnN0IExlc3NUaGFuT3JFcXVhbFRvQmlnSW50VHlwZUlkID0gZmlsdGVyc18uTGVzc1RoYW5PckVxdWFsVG9CaWdJbnRUeXBlSWQ7XG4vKipcbiAqIEBjYXRlZ29yeSBiaWdpbnQgZmlsdGVyc1xuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY29uc3QgbGVzc1RoYW5PckVxdWFsVG9CaWdJbnQgPSAobWF4LCBhbm5vdGF0aW9ucykgPT4gc2VsZiA9PiBzZWxmLnBpcGUoZmlsdGVyKGEgPT4gYSA8PSBtYXgsIHtcbiAgdHlwZUlkOiB7XG4gICAgaWQ6IExlc3NUaGFuT3JFcXVhbFRvQmlnSW50VHlwZUlkLFxuICAgIGFubm90YXRpb246IHtcbiAgICAgIG1heFxuICAgIH1cbiAgfSxcbiAgZGVzY3JpcHRpb246IG1heCA9PT0gMG4gPyBcImEgbm9uLXBvc2l0aXZlIGJpZ2ludFwiIDogYGEgYmlnaW50IGxlc3MgdGhhbiBvciBlcXVhbCB0byAke21heH1uYCxcbiAgLi4uYW5ub3RhdGlvbnNcbn0pKTtcbi8qKlxuICogQGNhdGVnb3J5IHR5cGUgaWRcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNvbnN0IEJldHdlZW5CaWdJbnRUeXBlSWQgPSBmaWx0ZXJzXy5CZXR3ZWVuQmlnaW50VHlwZUlkO1xuLyoqXG4gKiBAY2F0ZWdvcnkgYmlnaW50IGZpbHRlcnNcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNvbnN0IGJldHdlZW5CaWdJbnQgPSAobWluLCBtYXgsIGFubm90YXRpb25zKSA9PiBzZWxmID0+IHNlbGYucGlwZShmaWx0ZXIoYSA9PiBhID49IG1pbiAmJiBhIDw9IG1heCwge1xuICB0eXBlSWQ6IHtcbiAgICBpZDogQmV0d2VlbkJpZ0ludFR5cGVJZCxcbiAgICBhbm5vdGF0aW9uOiB7XG4gICAgICBtYXgsXG4gICAgICBtaW5cbiAgICB9XG4gIH0sXG4gIGRlc2NyaXB0aW9uOiBgYSBiaWdpbnQgYmV0d2VlbiAke21pbn1uIGFuZCAke21heH1uYCxcbiAgLi4uYW5ub3RhdGlvbnNcbn0pKTtcbi8qKlxuICogQGNhdGVnb3J5IGJpZ2ludCBmaWx0ZXJzXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjb25zdCBwb3NpdGl2ZUJpZ0ludCA9IGFubm90YXRpb25zID0+IGdyZWF0ZXJUaGFuQmlnSW50KDBuLCBhbm5vdGF0aW9ucyk7XG4vKipcbiAqIEBjYXRlZ29yeSBiaWdpbnQgZmlsdGVyc1xuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY29uc3QgbmVnYXRpdmVCaWdJbnQgPSBhbm5vdGF0aW9ucyA9PiBsZXNzVGhhbkJpZ0ludCgwbiwgYW5ub3RhdGlvbnMpO1xuLyoqXG4gKiBAY2F0ZWdvcnkgYmlnaW50IGZpbHRlcnNcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNvbnN0IG5vbk5lZ2F0aXZlQmlnSW50ID0gYW5ub3RhdGlvbnMgPT4gZ3JlYXRlclRoYW5PckVxdWFsVG9CaWdJbnQoMG4sIGFubm90YXRpb25zKTtcbi8qKlxuICogQGNhdGVnb3J5IGJpZ2ludCBmaWx0ZXJzXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjb25zdCBub25Qb3NpdGl2ZUJpZ0ludCA9IGFubm90YXRpb25zID0+IGxlc3NUaGFuT3JFcXVhbFRvQmlnSW50KDBuLCBhbm5vdGF0aW9ucyk7XG4vKipcbiAqIENsYW1wcyBhIGJpZ2ludCBiZXR3ZWVuIGEgbWluaW11bSBhbmQgYSBtYXhpbXVtIHZhbHVlLlxuICpcbiAqIEBjYXRlZ29yeSBiaWdpbnQgdHJhbnNmb3JtYXRpb25zXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjb25zdCBjbGFtcEJpZ0ludCA9IChtaW5pbXVtLCBtYXhpbXVtKSA9PiBzZWxmID0+IHRyYW5zZm9ybShzZWxmLCBzZWxmLnBpcGUodHlwZVNjaGVtYSwgYmV0d2VlbkJpZ0ludChtaW5pbXVtLCBtYXhpbXVtKSksIHtcbiAgc3RyaWN0OiBmYWxzZSxcbiAgZGVjb2RlOiBzZWxmID0+IGJpZ0ludF8uY2xhbXAoc2VsZiwge1xuICAgIG1pbmltdW0sXG4gICAgbWF4aW11bVxuICB9KSxcbiAgZW5jb2RlOiBpZGVudGl0eVxufSk7XG4vKiogQGlnbm9yZSAqL1xuY2xhc3MgQmlnSW50JCBleHRlbmRzIHRyYW5zZm9ybU9yRmFpbChTdHJpbmckLCBCaWdJbnRGcm9tU2VsZiwge1xuICBzdHJpY3Q6IHRydWUsXG4gIGRlY29kZTogKHMsIF8sIGFzdCkgPT4gUGFyc2VSZXN1bHQuZnJvbU9wdGlvbihiaWdJbnRfLmZyb21TdHJpbmcocyksICgpID0+IG5ldyBQYXJzZVJlc3VsdC5UeXBlKGFzdCwgcykpLFxuICBlbmNvZGU6IG4gPT4gUGFyc2VSZXN1bHQuc3VjY2VlZChTdHJpbmcobikpXG59KS5hbm5vdGF0aW9ucyh7XG4gIGlkZW50aWZpZXI6IFwiYmlnaW50XCJcbn0pIHtcbiAgc3RhdGljIGFubm90YXRpb25zID0gc3VwZXIuYW5ub3RhdGlvbnM7XG59XG5leHBvcnQge1xuLyoqXG4gKiBUaGlzIHNjaGVtYSB0cmFuc2Zvcm1zIGEgYHN0cmluZ2AgaW50byBhIGBiaWdpbnRgIGJ5IHBhcnNpbmcgdGhlIHN0cmluZyB1c2luZyB0aGUgYEJpZ0ludGAgZnVuY3Rpb24uXG4gKlxuICogSXQgcmV0dXJucyBhbiBlcnJvciBpZiB0aGUgdmFsdWUgY2FuJ3QgYmUgY29udmVydGVkIChmb3IgZXhhbXBsZSB3aGVuIG5vbi1udW1lcmljIGNoYXJhY3RlcnMgYXJlIHByb3ZpZGVkKS5cbiAqXG4gKiBAY2F0ZWdvcnkgYmlnaW50IHRyYW5zZm9ybWF0aW9uc1xuICogQHNpbmNlIDAuNjcuMFxuICovXG5CaWdJbnQkIGFzIEJpZ0ludCB9O1xuLyoqXG4gKiBAY2F0ZWdvcnkgYmlnaW50IGNvbnN0cnVjdG9yc1xuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY29uc3QgUG9zaXRpdmVCaWdJbnRGcm9tU2VsZiA9IC8qI19fUFVSRV9fKi9CaWdJbnRGcm9tU2VsZi5waXBlKCAvKiNfX1BVUkVfXyovcG9zaXRpdmVCaWdJbnQoe1xuICBpZGVudGlmaWVyOiBcIlBvc2l0aXZlQmlnaW50RnJvbVNlbGZcIixcbiAgdGl0bGU6IFwiUG9zaXRpdmVCaWdpbnRGcm9tU2VsZlwiXG59KSk7XG4vKipcbiAqIEBjYXRlZ29yeSBiaWdpbnQgY29uc3RydWN0b3JzXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjb25zdCBQb3NpdGl2ZUJpZ0ludCA9IC8qI19fUFVSRV9fKi9CaWdJbnQkLnBpcGUoIC8qI19fUFVSRV9fKi9wb3NpdGl2ZUJpZ0ludCh7XG4gIGlkZW50aWZpZXI6IFwiUG9zaXRpdmVCaWdpbnRcIixcbiAgdGl0bGU6IFwiUG9zaXRpdmVCaWdpbnRcIlxufSkpO1xuLyoqXG4gKiBAY2F0ZWdvcnkgYmlnaW50IGNvbnN0cnVjdG9yc1xuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY29uc3QgTmVnYXRpdmVCaWdJbnRGcm9tU2VsZiA9IC8qI19fUFVSRV9fKi9CaWdJbnRGcm9tU2VsZi5waXBlKCAvKiNfX1BVUkVfXyovbmVnYXRpdmVCaWdJbnQoe1xuICBpZGVudGlmaWVyOiBcIk5lZ2F0aXZlQmlnaW50RnJvbVNlbGZcIixcbiAgdGl0bGU6IFwiTmVnYXRpdmVCaWdpbnRGcm9tU2VsZlwiXG59KSk7XG4vKipcbiAqIEBjYXRlZ29yeSBiaWdpbnQgY29uc3RydWN0b3JzXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjb25zdCBOZWdhdGl2ZUJpZ0ludCA9IC8qI19fUFVSRV9fKi9CaWdJbnQkLnBpcGUoIC8qI19fUFVSRV9fKi9uZWdhdGl2ZUJpZ0ludCh7XG4gIGlkZW50aWZpZXI6IFwiTmVnYXRpdmVCaWdpbnRcIixcbiAgdGl0bGU6IFwiTmVnYXRpdmVCaWdpbnRcIlxufSkpO1xuLyoqXG4gKiBAY2F0ZWdvcnkgYmlnaW50IGNvbnN0cnVjdG9yc1xuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY29uc3QgTm9uUG9zaXRpdmVCaWdJbnRGcm9tU2VsZiA9IC8qI19fUFVSRV9fKi9CaWdJbnRGcm9tU2VsZi5waXBlKCAvKiNfX1BVUkVfXyovbm9uUG9zaXRpdmVCaWdJbnQoe1xuICBpZGVudGlmaWVyOiBcIk5vblBvc2l0aXZlQmlnaW50RnJvbVNlbGZcIixcbiAgdGl0bGU6IFwiTm9uUG9zaXRpdmVCaWdpbnRGcm9tU2VsZlwiXG59KSk7XG4vKipcbiAqIEBjYXRlZ29yeSBiaWdpbnQgY29uc3RydWN0b3JzXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjb25zdCBOb25Qb3NpdGl2ZUJpZ0ludCA9IC8qI19fUFVSRV9fKi9CaWdJbnQkLnBpcGUoIC8qI19fUFVSRV9fKi9ub25Qb3NpdGl2ZUJpZ0ludCh7XG4gIGlkZW50aWZpZXI6IFwiTm9uUG9zaXRpdmVCaWdpbnRcIixcbiAgdGl0bGU6IFwiTm9uUG9zaXRpdmVCaWdpbnRcIlxufSkpO1xuLyoqXG4gKiBAY2F0ZWdvcnkgYmlnaW50IGNvbnN0cnVjdG9yc1xuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY29uc3QgTm9uTmVnYXRpdmVCaWdJbnRGcm9tU2VsZiA9IC8qI19fUFVSRV9fKi9CaWdJbnRGcm9tU2VsZi5waXBlKCAvKiNfX1BVUkVfXyovbm9uTmVnYXRpdmVCaWdJbnQoe1xuICBpZGVudGlmaWVyOiBcIk5vbk5lZ2F0aXZlQmlnaW50RnJvbVNlbGZcIixcbiAgdGl0bGU6IFwiTm9uTmVnYXRpdmVCaWdpbnRGcm9tU2VsZlwiXG59KSk7XG4vKipcbiAqIEBjYXRlZ29yeSBiaWdpbnQgY29uc3RydWN0b3JzXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjb25zdCBOb25OZWdhdGl2ZUJpZ0ludCA9IC8qI19fUFVSRV9fKi9CaWdJbnQkLnBpcGUoIC8qI19fUFVSRV9fKi9ub25OZWdhdGl2ZUJpZ0ludCh7XG4gIGlkZW50aWZpZXI6IFwiTm9uTmVnYXRpdmVCaWdpbnRcIixcbiAgdGl0bGU6IFwiTm9uTmVnYXRpdmVCaWdpbnRcIlxufSkpO1xuLyoqXG4gKiBUaGlzIHNjaGVtYSB0cmFuc2Zvcm1zIGEgYG51bWJlcmAgaW50byBhIGBiaWdpbnRgIGJ5IHBhcnNpbmcgdGhlIG51bWJlciB1c2luZyB0aGUgYEJpZ0ludGAgZnVuY3Rpb24uXG4gKlxuICogSXQgcmV0dXJucyBhbiBlcnJvciBpZiB0aGUgdmFsdWUgY2FuJ3QgYmUgc2FmZWx5IGVuY29kZWQgYXMgYSBgbnVtYmVyYCBkdWUgdG8gYmVpbmcgb3V0IG9mIHJhbmdlLlxuICpcbiAqIEBjYXRlZ29yeSBiaWdpbnQgdHJhbnNmb3JtYXRpb25zXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjbGFzcyBCaWdJbnRGcm9tTnVtYmVyIGV4dGVuZHMgdHJhbnNmb3JtT3JGYWlsKE51bWJlciQsIEJpZ0ludEZyb21TZWxmLCB7XG4gIHN0cmljdDogdHJ1ZSxcbiAgZGVjb2RlOiAobiwgXywgYXN0KSA9PiBQYXJzZVJlc3VsdC5mcm9tT3B0aW9uKGJpZ0ludF8uZnJvbU51bWJlcihuKSwgKCkgPT4gbmV3IFBhcnNlUmVzdWx0LlR5cGUoYXN0LCBuKSksXG4gIGVuY29kZTogKGIsIF8sIGFzdCkgPT4gUGFyc2VSZXN1bHQuZnJvbU9wdGlvbihiaWdJbnRfLnRvTnVtYmVyKGIpLCAoKSA9PiBuZXcgUGFyc2VSZXN1bHQuVHlwZShhc3QsIGIpKVxufSkuYW5ub3RhdGlvbnMoe1xuICBpZGVudGlmaWVyOiBcIkJpZ2ludEZyb21OdW1iZXJcIlxufSkge1xuICBzdGF0aWMgYW5ub3RhdGlvbnMgPSBzdXBlci5hbm5vdGF0aW9ucztcbn1cbmNvbnN0IHJlZGFjdGVkQXJiaXRyYXJ5ID0gdmFsdWUgPT4gZmMgPT4gdmFsdWUoZmMpLm1hcCh4ID0+IHJlZGFjdGVkXy5tYWtlKHgpKTtcbmNvbnN0IHRvQ29tcG9zaXRlID0gKGVmZiwgb25TdWNjZXNzLCBhc3QsIGFjdHVhbCkgPT4gUGFyc2VSZXN1bHQubWFwQm90aChlZmYsIHtcbiAgb25GYWlsdXJlOiBlID0+IG5ldyBQYXJzZVJlc3VsdC5Db21wb3NpdGUoYXN0LCBhY3R1YWwsIGUpLFxuICBvblN1Y2Nlc3Ncbn0pO1xuY29uc3QgcmVkYWN0ZWRQYXJzZSA9IGRlY29kZVVua25vd24gPT4gKHUsIG9wdGlvbnMsIGFzdCkgPT4gcmVkYWN0ZWRfLmlzUmVkYWN0ZWQodSkgPyB0b0NvbXBvc2l0ZShkZWNvZGVVbmtub3duKHJlZGFjdGVkXy52YWx1ZSh1KSwgb3B0aW9ucyksIHJlZGFjdGVkXy5tYWtlLCBhc3QsIHUpIDogUGFyc2VSZXN1bHQuZmFpbChuZXcgUGFyc2VSZXN1bHQuVHlwZShhc3QsIHUpKTtcbi8qKlxuICogQGNhdGVnb3J5IFJlZGFjdGVkIGNvbnN0cnVjdG9yc1xuICogQHNpbmNlIDAuNjcuMjFcbiAqL1xuZXhwb3J0IGNvbnN0IFJlZGFjdGVkRnJvbVNlbGYgPSB2YWx1ZSA9PiBkZWNsYXJlKFt2YWx1ZV0sIHtcbiAgZGVjb2RlOiB2YWx1ZSA9PiByZWRhY3RlZFBhcnNlKFBhcnNlUmVzdWx0LmRlY29kZVVua25vd24odmFsdWUpKSxcbiAgZW5jb2RlOiB2YWx1ZSA9PiByZWRhY3RlZFBhcnNlKFBhcnNlUmVzdWx0LmVuY29kZVVua25vd24odmFsdWUpKVxufSwge1xuICBkZXNjcmlwdGlvbjogXCJSZWRhY3RlZCg8cmVkYWN0ZWQ+KVwiLFxuICBwcmV0dHk6ICgpID0+ICgpID0+IFwiUmVkYWN0ZWQoPHJlZGFjdGVkPilcIixcbiAgYXJiaXRyYXJ5OiByZWRhY3RlZEFyYml0cmFyeSxcbiAgZXF1aXZhbGVuY2U6IHJlZGFjdGVkXy5nZXRFcXVpdmFsZW5jZVxufSk7XG4vKipcbiAqIEEgc2NoZW1hIHRoYXQgdHJhbnNmb3JtcyBhbnkgdHlwZSBgQWAgaW50byBhIGBSZWRhY3RlZDxBPmAuXG4gKlxuICogQGNhdGVnb3J5IFJlZGFjdGVkIHRyYW5zZm9ybWF0aW9uc1xuICogQHNpbmNlIDAuNjcuMjFcbiAqL1xuZXhwb3J0IGNvbnN0IFJlZGFjdGVkID0gdmFsdWUgPT4ge1xuICByZXR1cm4gdHJhbnNmb3JtKHZhbHVlLCBSZWRhY3RlZEZyb21TZWxmKHR5cGVTY2hlbWEodmFsdWUpKSwge1xuICAgIHN0cmljdDogdHJ1ZSxcbiAgICBkZWNvZGU6IHZhbHVlID0+IHJlZGFjdGVkXy5tYWtlKHZhbHVlKSxcbiAgICBlbmNvZGU6IHZhbHVlID0+IHJlZGFjdGVkXy52YWx1ZSh2YWx1ZSlcbiAgfSk7XG59O1xuLyoqXG4gKiBAY2F0ZWdvcnkgRHVyYXRpb24gY29uc3RydWN0b3JzXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjbGFzcyBEdXJhdGlvbkZyb21TZWxmIGV4dGVuZHMgZGVjbGFyZShkdXJhdGlvbl8uaXNEdXJhdGlvbiwge1xuICBpZGVudGlmaWVyOiBcIkR1cmF0aW9uRnJvbVNlbGZcIixcbiAgcHJldHR5OiAoKSA9PiBTdHJpbmcsXG4gIGFyYml0cmFyeTogKCkgPT4gZmMgPT4gZmMub25lb2YoZmMuY29uc3RhbnQoZHVyYXRpb25fLmluZmluaXR5KSwgZmMuYmlnVWludCgpLm1hcChfID0+IGR1cmF0aW9uXy5uYW5vcyhfKSksIGZjLmJpZ1VpbnQoKS5tYXAoXyA9PiBkdXJhdGlvbl8ubWljcm9zKF8pKSwgZmMubWF4U2FmZU5hdCgpLm1hcChfID0+IGR1cmF0aW9uXy5taWxsaXMoXykpLCBmYy5tYXhTYWZlTmF0KCkubWFwKF8gPT4gZHVyYXRpb25fLnNlY29uZHMoXykpLCBmYy5tYXhTYWZlTmF0KCkubWFwKF8gPT4gZHVyYXRpb25fLm1pbnV0ZXMoXykpLCBmYy5tYXhTYWZlTmF0KCkubWFwKF8gPT4gZHVyYXRpb25fLmhvdXJzKF8pKSwgZmMubWF4U2FmZU5hdCgpLm1hcChfID0+IGR1cmF0aW9uXy5kYXlzKF8pKSwgZmMubWF4U2FmZU5hdCgpLm1hcChfID0+IGR1cmF0aW9uXy53ZWVrcyhfKSkpLFxuICBlcXVpdmFsZW5jZTogKCkgPT4gZHVyYXRpb25fLkVxdWl2YWxlbmNlXG59KSB7XG4gIHN0YXRpYyBhbm5vdGF0aW9ucyA9IHN1cGVyLmFubm90YXRpb25zO1xufVxuLyoqXG4gKiBBIHNjaGVtYSB0aGF0IHRyYW5zZm9ybXMgYSBgYmlnaW50YCB0dXBsZSBpbnRvIGEgYER1cmF0aW9uYC5cbiAqIFRyZWF0cyB0aGUgdmFsdWUgYXMgdGhlIG51bWJlciBvZiBuYW5vc2Vjb25kcy5cbiAqXG4gKiBAY2F0ZWdvcnkgRHVyYXRpb24gdHJhbnNmb3JtYXRpb25zXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjbGFzcyBEdXJhdGlvbkZyb21OYW5vcyBleHRlbmRzIHRyYW5zZm9ybU9yRmFpbChCaWdJbnRGcm9tU2VsZiwgRHVyYXRpb25Gcm9tU2VsZiwge1xuICBzdHJpY3Q6IHRydWUsXG4gIGRlY29kZTogbmFub3MgPT4gUGFyc2VSZXN1bHQuc3VjY2VlZChkdXJhdGlvbl8ubmFub3MobmFub3MpKSxcbiAgZW5jb2RlOiAoZHVyYXRpb24sIF8sIGFzdCkgPT4gb3B0aW9uXy5tYXRjaChkdXJhdGlvbl8udG9OYW5vcyhkdXJhdGlvbiksIHtcbiAgICBvbk5vbmU6ICgpID0+IFBhcnNlUmVzdWx0LmZhaWwobmV3IFBhcnNlUmVzdWx0LlR5cGUoYXN0LCBkdXJhdGlvbikpLFxuICAgIG9uU29tZTogdmFsID0+IFBhcnNlUmVzdWx0LnN1Y2NlZWQodmFsKVxuICB9KVxufSkuYW5ub3RhdGlvbnMoe1xuICBpZGVudGlmaWVyOiBcIkR1cmF0aW9uRnJvbU5hbm9zXCJcbn0pIHtcbiAgc3RhdGljIGFubm90YXRpb25zID0gc3VwZXIuYW5ub3RhdGlvbnM7XG59XG4vKipcbiAqIEEgc2NoZW1hIHRoYXQgdHJhbnNmb3JtcyBhIGBudW1iZXJgIHR1cGxlIGludG8gYSBgRHVyYXRpb25gLlxuICogVHJlYXRzIHRoZSB2YWx1ZSBhcyB0aGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcy5cbiAqXG4gKiBAY2F0ZWdvcnkgRHVyYXRpb24gdHJhbnNmb3JtYXRpb25zXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjbGFzcyBEdXJhdGlvbkZyb21NaWxsaXMgZXh0ZW5kcyB0cmFuc2Zvcm0oTnVtYmVyJCwgRHVyYXRpb25Gcm9tU2VsZiwge1xuICBzdHJpY3Q6IHRydWUsXG4gIGRlY29kZTogbXMgPT4gZHVyYXRpb25fLm1pbGxpcyhtcyksXG4gIGVuY29kZTogbiA9PiBkdXJhdGlvbl8udG9NaWxsaXMobilcbn0pLmFubm90YXRpb25zKHtcbiAgaWRlbnRpZmllcjogXCJEdXJhdGlvbkZyb21NaWxsaXNcIlxufSkge1xuICBzdGF0aWMgYW5ub3RhdGlvbnMgPSBzdXBlci5hbm5vdGF0aW9ucztcbn1cbmNvbnN0IGhyVGltZSA9IC8qI19fUFVSRV9fKi9UdXBsZSggLyojX19QVVJFX18qL05vbk5lZ2F0aXZlLnBpcGUoIC8qI19fUFVSRV9fKi9maW5pdGUoe1xuICBbQVNULlRpdGxlQW5ub3RhdGlvbklkXTogXCJzZWNvbmRzXCIsXG4gIFtBU1QuRGVzY3JpcHRpb25Bbm5vdGF0aW9uSWRdOiBcInNlY29uZHNcIlxufSkpLCAvKiNfX1BVUkVfXyovTm9uTmVnYXRpdmUucGlwZSggLyojX19QVVJFX18qL2Zpbml0ZSh7XG4gIFtBU1QuVGl0bGVBbm5vdGF0aW9uSWRdOiBcIm5hbm9zXCIsXG4gIFtBU1QuRGVzY3JpcHRpb25Bbm5vdGF0aW9uSWRdOiBcIm5hbm9zXCJcbn0pKSk7XG4vKipcbiAqIEEgc2NoZW1hIHRoYXQgdHJhbnNmb3JtcyBhIGBbbnVtYmVyLCBudW1iZXJdYCB0dXBsZSBpbnRvIGEgYER1cmF0aW9uYC5cbiAqXG4gKiBAY2F0ZWdvcnkgRHVyYXRpb24gdHJhbnNmb3JtYXRpb25zXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjbGFzcyBEdXJhdGlvbiBleHRlbmRzIHRyYW5zZm9ybShoclRpbWUsIER1cmF0aW9uRnJvbVNlbGYsIHtcbiAgc3RyaWN0OiB0cnVlLFxuICBkZWNvZGU6IChbc2Vjb25kcywgbmFub3NdKSA9PiBkdXJhdGlvbl8ubmFub3MoQmlnSW50KHNlY29uZHMpICogQmlnSW50KDFlOSkgKyBCaWdJbnQobmFub3MpKSxcbiAgZW5jb2RlOiBkdXJhdGlvbiA9PiBkdXJhdGlvbl8udG9IclRpbWUoZHVyYXRpb24pXG59KS5hbm5vdGF0aW9ucyh7XG4gIGlkZW50aWZpZXI6IFwiRHVyYXRpb25cIlxufSkge1xuICBzdGF0aWMgYW5ub3RhdGlvbnMgPSBzdXBlci5hbm5vdGF0aW9ucztcbn1cbi8qKlxuICogQ2xhbXBzIGEgYER1cmF0aW9uYCBiZXR3ZWVuIGEgbWluaW11bSBhbmQgYSBtYXhpbXVtIHZhbHVlLlxuICpcbiAqIEBjYXRlZ29yeSBEdXJhdGlvbiB0cmFuc2Zvcm1hdGlvbnNcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNvbnN0IGNsYW1wRHVyYXRpb24gPSAobWluaW11bSwgbWF4aW11bSkgPT4gc2VsZiA9PiB0cmFuc2Zvcm0oc2VsZiwgc2VsZi5waXBlKHR5cGVTY2hlbWEsIGJldHdlZW5EdXJhdGlvbihtaW5pbXVtLCBtYXhpbXVtKSksIHtcbiAgc3RyaWN0OiBmYWxzZSxcbiAgZGVjb2RlOiBzZWxmID0+IGR1cmF0aW9uXy5jbGFtcChzZWxmLCB7XG4gICAgbWluaW11bSxcbiAgICBtYXhpbXVtXG4gIH0pLFxuICBlbmNvZGU6IGlkZW50aXR5XG59KTtcbi8qKlxuICogQGNhdGVnb3J5IHR5cGUgaWRcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNvbnN0IExlc3NUaGFuRHVyYXRpb25UeXBlSWQgPSAvKiNfX1BVUkVfXyovU3ltYm9sLmZvcihcIkBlZmZlY3Qvc2NoZW1hL1R5cGVJZC9MZXNzVGhhbkR1cmF0aW9uXCIpO1xuLyoqXG4gKiBAY2F0ZWdvcnkgRHVyYXRpb24gZmlsdGVyc1xuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY29uc3QgbGVzc1RoYW5EdXJhdGlvbiA9IChtYXgsIGFubm90YXRpb25zKSA9PiBzZWxmID0+IHNlbGYucGlwZShmaWx0ZXIoYSA9PiBkdXJhdGlvbl8ubGVzc1RoYW4oYSwgbWF4KSwge1xuICB0eXBlSWQ6IHtcbiAgICBpZDogTGVzc1RoYW5EdXJhdGlvblR5cGVJZCxcbiAgICBhbm5vdGF0aW9uOiB7XG4gICAgICBtYXhcbiAgICB9XG4gIH0sXG4gIGRlc2NyaXB0aW9uOiBgYSBEdXJhdGlvbiBsZXNzIHRoYW4gJHtkdXJhdGlvbl8uZGVjb2RlKG1heCl9YCxcbiAgLi4uYW5ub3RhdGlvbnNcbn0pKTtcbi8qKlxuICogQGNhdGVnb3J5IHR5cGUgaWRcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNvbnN0IExlc3NUaGFuT3JFcXVhbFRvRHVyYXRpb25UeXBlSWQgPSAvKiNfX1BVUkVfXyovU3ltYm9sLmZvcihcIkBlZmZlY3Qvc2NoZW1hL1R5cGVJZC9MZXNzVGhhbk9yRXF1YWxUb0R1cmF0aW9uXCIpO1xuLyoqXG4gKiBAY2F0ZWdvcnkgRHVyYXRpb24gZmlsdGVyc1xuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY29uc3QgbGVzc1RoYW5PckVxdWFsVG9EdXJhdGlvbiA9IChtYXgsIGFubm90YXRpb25zKSA9PiBzZWxmID0+IHNlbGYucGlwZShmaWx0ZXIoYSA9PiBkdXJhdGlvbl8ubGVzc1RoYW5PckVxdWFsVG8oYSwgbWF4KSwge1xuICB0eXBlSWQ6IHtcbiAgICBpZDogTGVzc1RoYW5EdXJhdGlvblR5cGVJZCxcbiAgICBhbm5vdGF0aW9uOiB7XG4gICAgICBtYXhcbiAgICB9XG4gIH0sXG4gIGRlc2NyaXB0aW9uOiBgYSBEdXJhdGlvbiBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gJHtkdXJhdGlvbl8uZGVjb2RlKG1heCl9YCxcbiAgLi4uYW5ub3RhdGlvbnNcbn0pKTtcbi8qKlxuICogQGNhdGVnb3J5IHR5cGUgaWRcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNvbnN0IEdyZWF0ZXJUaGFuRHVyYXRpb25UeXBlSWQgPSAvKiNfX1BVUkVfXyovU3ltYm9sLmZvcihcIkBlZmZlY3Qvc2NoZW1hL1R5cGVJZC9HcmVhdGVyVGhhbkR1cmF0aW9uXCIpO1xuLyoqXG4gKiBAY2F0ZWdvcnkgRHVyYXRpb24gZmlsdGVyc1xuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY29uc3QgZ3JlYXRlclRoYW5EdXJhdGlvbiA9IChtaW4sIGFubm90YXRpb25zKSA9PiBzZWxmID0+IHNlbGYucGlwZShmaWx0ZXIoYSA9PiBkdXJhdGlvbl8uZ3JlYXRlclRoYW4oYSwgbWluKSwge1xuICB0eXBlSWQ6IHtcbiAgICBpZDogR3JlYXRlclRoYW5EdXJhdGlvblR5cGVJZCxcbiAgICBhbm5vdGF0aW9uOiB7XG4gICAgICBtaW5cbiAgICB9XG4gIH0sXG4gIGRlc2NyaXB0aW9uOiBgYSBEdXJhdGlvbiBncmVhdGVyIHRoYW4gJHtkdXJhdGlvbl8uZGVjb2RlKG1pbil9YCxcbiAgLi4uYW5ub3RhdGlvbnNcbn0pKTtcbi8qKlxuICogQGNhdGVnb3J5IHR5cGUgaWRcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNvbnN0IEdyZWF0ZXJUaGFuT3JFcXVhbFRvRHVyYXRpb25UeXBlSWQgPSAvKiNfX1BVUkVfXyovU3ltYm9sLmZvcihcIkBlZmZlY3Qvc2NoZW1hL1R5cGVJZC9HcmVhdGVyVGhhbk9yRXF1YWxUb0R1cmF0aW9uXCIpO1xuLyoqXG4gKiBAY2F0ZWdvcnkgRHVyYXRpb24gZmlsdGVyc1xuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY29uc3QgZ3JlYXRlclRoYW5PckVxdWFsVG9EdXJhdGlvbiA9IChtaW4sIGFubm90YXRpb25zKSA9PiBzZWxmID0+IHNlbGYucGlwZShmaWx0ZXIoYSA9PiBkdXJhdGlvbl8uZ3JlYXRlclRoYW5PckVxdWFsVG8oYSwgbWluKSwge1xuICB0eXBlSWQ6IHtcbiAgICBpZDogR3JlYXRlclRoYW5PckVxdWFsVG9EdXJhdGlvblR5cGVJZCxcbiAgICBhbm5vdGF0aW9uOiB7XG4gICAgICBtaW5cbiAgICB9XG4gIH0sXG4gIGRlc2NyaXB0aW9uOiBgYSBEdXJhdGlvbiBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gJHtkdXJhdGlvbl8uZGVjb2RlKG1pbil9YCxcbiAgLi4uYW5ub3RhdGlvbnNcbn0pKTtcbi8qKlxuICogQGNhdGVnb3J5IHR5cGUgaWRcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNvbnN0IEJldHdlZW5EdXJhdGlvblR5cGVJZCA9IC8qI19fUFVSRV9fKi9TeW1ib2wuZm9yKFwiQGVmZmVjdC9zY2hlbWEvVHlwZUlkL0JldHdlZW5EdXJhdGlvblwiKTtcbi8qKlxuICogQGNhdGVnb3J5IER1cmF0aW9uIGZpbHRlcnNcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNvbnN0IGJldHdlZW5EdXJhdGlvbiA9IChtaW5pbXVtLCBtYXhpbXVtLCBhbm5vdGF0aW9ucykgPT4gc2VsZiA9PiBzZWxmLnBpcGUoZmlsdGVyKGEgPT4gZHVyYXRpb25fLmJldHdlZW4oYSwge1xuICBtaW5pbXVtLFxuICBtYXhpbXVtXG59KSwge1xuICB0eXBlSWQ6IHtcbiAgICBpZDogQmV0d2VlbkR1cmF0aW9uVHlwZUlkLFxuICAgIGFubm90YXRpb246IHtcbiAgICAgIG1heGltdW0sXG4gICAgICBtaW5pbXVtXG4gICAgfVxuICB9LFxuICBkZXNjcmlwdGlvbjogYGEgRHVyYXRpb24gYmV0d2VlbiAke2R1cmF0aW9uXy5kZWNvZGUobWluaW11bSl9IGFuZCAke2R1cmF0aW9uXy5kZWNvZGUobWF4aW11bSl9YCxcbiAgLi4uYW5ub3RhdGlvbnNcbn0pKTtcbi8qKlxuICogQGNhdGVnb3J5IFVpbnQ4QXJyYXkgY29uc3RydWN0b3JzXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjb25zdCBVaW50OEFycmF5RnJvbVNlbGYgPSAvKiNfX1BVUkVfXyovZGVjbGFyZShQcmVkaWNhdGUuaXNVaW50OEFycmF5LCB7XG4gIGlkZW50aWZpZXI6IFwiVWludDhBcnJheUZyb21TZWxmXCIsXG4gIHByZXR0eTogKCkgPT4gdThhcnIgPT4gYG5ldyBVaW50OEFycmF5KCR7SlNPTi5zdHJpbmdpZnkoQXJyYXkuZnJvbSh1OGFycikpfSlgLFxuICBhcmJpdHJhcnk6ICgpID0+IGZjID0+IGZjLnVpbnQ4QXJyYXkoKSxcbiAgZXF1aXZhbGVuY2U6ICgpID0+IGFycmF5Xy5nZXRFcXVpdmFsZW5jZShFcXVhbC5lcXVhbHMpXG59KTtcbmNvbnN0IFVpbnQ4QXJyYXkkID0gLyojX19QVVJFX18qL3RyYW5zZm9ybShBcnJheSQoTnVtYmVyJC5waXBlKGJldHdlZW4oMCwgMjU1LCB7XG4gIHRpdGxlOiBcIjgtYml0IHVuc2lnbmVkIGludGVnZXJcIixcbiAgZGVzY3JpcHRpb246IFwiYSA4LWJpdCB1bnNpZ25lZCBpbnRlZ2VyXCJcbn0pKSkuYW5ub3RhdGlvbnMoe1xuICBkZXNjcmlwdGlvbjogXCJhbiBhcnJheSBvZiA4LWJpdCB1bnNpZ25lZCBpbnRlZ2Vyc1wiXG59KSwgVWludDhBcnJheUZyb21TZWxmLCB7XG4gIHN0cmljdDogdHJ1ZSxcbiAgZGVjb2RlOiBudW1iZXJzID0+IFVpbnQ4QXJyYXkuZnJvbShudW1iZXJzKSxcbiAgZW5jb2RlOiB1aW50OEFycmF5ID0+IEFycmF5LmZyb20odWludDhBcnJheSlcbn0pLmFubm90YXRpb25zKHtcbiAgaWRlbnRpZmllcjogXCJVaW50OEFycmF5XCJcbn0pO1xuZXhwb3J0IHtcbi8qKlxuICogQSBzY2hlbWEgdGhhdCB0cmFuc2Zvcm1zIGEgYG51bWJlcmAgYXJyYXkgaW50byBhIGBVaW50OEFycmF5YC5cbiAqXG4gKiBAY2F0ZWdvcnkgVWludDhBcnJheSB0cmFuc2Zvcm1hdGlvbnNcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuVWludDhBcnJheSQgYXMgVWludDhBcnJheSB9O1xuY29uc3QgbWFrZUVuY29kaW5nVHJhbnNmb3JtYXRpb24gPSAoaWQsIGRlY29kZSwgZW5jb2RlKSA9PiB0cmFuc2Zvcm1PckZhaWwoU3RyaW5nJCwgVWludDhBcnJheUZyb21TZWxmLCB7XG4gIHN0cmljdDogdHJ1ZSxcbiAgZGVjb2RlOiAocywgXywgYXN0KSA9PiBlaXRoZXJfLm1hcExlZnQoZGVjb2RlKHMpLCBkZWNvZGVFeGNlcHRpb24gPT4gbmV3IFBhcnNlUmVzdWx0LlR5cGUoYXN0LCBzLCBkZWNvZGVFeGNlcHRpb24ubWVzc2FnZSkpLFxuICBlbmNvZGU6IHUgPT4gUGFyc2VSZXN1bHQuc3VjY2VlZChlbmNvZGUodSkpXG59KS5hbm5vdGF0aW9ucyh7XG4gIGlkZW50aWZpZXI6IGlkXG59KTtcbi8qKlxuICogQGNhdGVnb3J5IEVuY29kaW5nIHRyYW5zZm9ybWF0aW9uc1xuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY29uc3QgQmFzZTY0ID0gLyojX19QVVJFX18qL21ha2VFbmNvZGluZ1RyYW5zZm9ybWF0aW9uKFwiQmFzZTY0XCIsIEVuY29kaW5nLmRlY29kZUJhc2U2NCwgRW5jb2RpbmcuZW5jb2RlQmFzZTY0KTtcbi8qKlxuICogQGNhdGVnb3J5IEVuY29kaW5nIHRyYW5zZm9ybWF0aW9uc1xuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY29uc3QgQmFzZTY0VXJsID0gLyojX19QVVJFX18qL21ha2VFbmNvZGluZ1RyYW5zZm9ybWF0aW9uKFwiQmFzZTY0VXJsXCIsIEVuY29kaW5nLmRlY29kZUJhc2U2NFVybCwgRW5jb2RpbmcuZW5jb2RlQmFzZTY0VXJsKTtcbi8qKlxuICogQGNhdGVnb3J5IEVuY29kaW5nIHRyYW5zZm9ybWF0aW9uc1xuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY29uc3QgSGV4ID0gLyojX19QVVJFX18qL21ha2VFbmNvZGluZ1RyYW5zZm9ybWF0aW9uKFwiSGV4XCIsIEVuY29kaW5nLmRlY29kZUhleCwgRW5jb2RpbmcuZW5jb2RlSGV4KTtcbi8qKlxuICogQGNhdGVnb3J5IHR5cGUgaWRcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNvbnN0IE1pbkl0ZW1zVHlwZUlkID0gZmlsdGVyc18uTWluSXRlbXNUeXBlSWQ7XG4vKipcbiAqIEBjYXRlZ29yeSBSZWFkb25seUFycmF5IGZpbHRlcnNcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNvbnN0IG1pbkl0ZW1zID0gKG4sIGFubm90YXRpb25zKSA9PiBzZWxmID0+IHtcbiAgY29uc3QgbWluSXRlbXMgPSBNYXRoLmZsb29yKG4pO1xuICBpZiAobWluSXRlbXMgPCAxKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGVycm9yc18uZ2V0SW52YWxpZEFyZ3VtZW50RXJyb3JNZXNzYWdlKGBFeHBlY3RlZCBhbiBpbnRlZ2VyIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byAxLCBhY3R1YWwgJHtufWApKTtcbiAgfVxuICByZXR1cm4gc2VsZi5waXBlKGZpbHRlcihhID0+IGEubGVuZ3RoID49IG1pbkl0ZW1zLCB7XG4gICAgdHlwZUlkOiBNaW5JdGVtc1R5cGVJZCxcbiAgICBkZXNjcmlwdGlvbjogYGFuIGFycmF5IG9mIGF0IGxlYXN0ICR7bWluSXRlbXN9IGl0ZW1zYCxcbiAgICBqc29uU2NoZW1hOiB7XG4gICAgICBtaW5JdGVtc1xuICAgIH0sXG4gICAgW0FTVC5TdGFibGVGaWx0ZXJBbm5vdGF0aW9uSWRdOiB0cnVlLFxuICAgIC4uLmFubm90YXRpb25zXG4gIH0pKTtcbn07XG4vKipcbiAqIEBjYXRlZ29yeSB0eXBlIGlkXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjb25zdCBNYXhJdGVtc1R5cGVJZCA9IGZpbHRlcnNfLk1heEl0ZW1zVHlwZUlkO1xuLyoqXG4gKiBAY2F0ZWdvcnkgUmVhZG9ubHlBcnJheSBmaWx0ZXJzXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjb25zdCBtYXhJdGVtcyA9IChuLCBhbm5vdGF0aW9ucykgPT4gc2VsZiA9PiBzZWxmLnBpcGUoZmlsdGVyKGEgPT4gYS5sZW5ndGggPD0gbiwge1xuICB0eXBlSWQ6IE1heEl0ZW1zVHlwZUlkLFxuICBkZXNjcmlwdGlvbjogYGFuIGFycmF5IG9mIGF0IG1vc3QgJHtufSBpdGVtc2AsXG4gIGpzb25TY2hlbWE6IHtcbiAgICBtYXhJdGVtczogblxuICB9LFxuICBbQVNULlN0YWJsZUZpbHRlckFubm90YXRpb25JZF06IHRydWUsXG4gIC4uLmFubm90YXRpb25zXG59KSk7XG4vKipcbiAqIEBjYXRlZ29yeSB0eXBlIGlkXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjb25zdCBJdGVtc0NvdW50VHlwZUlkID0gZmlsdGVyc18uSXRlbXNDb3VudFR5cGVJZDtcbi8qKlxuICogQGNhdGVnb3J5IFJlYWRvbmx5QXJyYXkgZmlsdGVyc1xuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY29uc3QgaXRlbXNDb3VudCA9IChuLCBhbm5vdGF0aW9ucykgPT4gc2VsZiA9PiBzZWxmLnBpcGUoZmlsdGVyKGEgPT4gYS5sZW5ndGggPT09IG4sIHtcbiAgdHlwZUlkOiBJdGVtc0NvdW50VHlwZUlkLFxuICBkZXNjcmlwdGlvbjogYGFuIGFycmF5IG9mIGV4YWN0bHkgJHtufSBpdGVtKHMpYCxcbiAganNvblNjaGVtYToge1xuICAgIG1pbkl0ZW1zOiBuLFxuICAgIG1heEl0ZW1zOiBuXG4gIH0sXG4gIFtBU1QuU3RhYmxlRmlsdGVyQW5ub3RhdGlvbklkXTogdHJ1ZSxcbiAgLi4uYW5ub3RhdGlvbnNcbn0pKTtcbi8qKlxuICogQGNhdGVnb3J5IFJlYWRvbmx5QXJyYXkgdHJhbnNmb3JtYXRpb25zXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjb25zdCBnZXROdW1iZXJJbmRleGVkQWNjZXNzID0gc2VsZiA9PiBtYWtlKEFTVC5nZXROdW1iZXJJbmRleGVkQWNjZXNzKHNlbGYuYXN0KSk7XG4vKipcbiAqIEdldCB0aGUgZmlyc3QgZWxlbWVudCBvZiBhIGBSZWFkb25seUFycmF5YCwgb3IgYE5vbmVgIGlmIHRoZSBhcnJheSBpcyBlbXB0eS5cbiAqXG4gKiBAY2F0ZWdvcnkgUmVhZG9ubHlBcnJheSB0cmFuc2Zvcm1hdGlvbnNcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNvbnN0IGhlYWQgPSBzZWxmID0+IHRyYW5zZm9ybShzZWxmLCBPcHRpb25Gcm9tU2VsZihnZXROdW1iZXJJbmRleGVkQWNjZXNzKHR5cGVTY2hlbWEoc2VsZikpKSwge1xuICBzdHJpY3Q6IHRydWUsXG4gIGRlY29kZTogYXJyYXlfLmhlYWQsXG4gIGVuY29kZTogb3B0aW9uXy5tYXRjaCh7XG4gICAgb25Ob25lOiAoKSA9PiBbXSxcbiAgICBvblNvbWU6IGFycmF5Xy5vZlxuICB9KVxufSk7XG4vKipcbiAqIFJldHJpZXZlcyB0aGUgZmlyc3QgZWxlbWVudCBvZiBhIGBSZWFkb25seUFycmF5YC5cbiAqXG4gKiBJZiB0aGUgYXJyYXkgaXMgZW1wdHksIGl0IHJldHVybnMgdGhlIGBmYWxsYmFja2AgYXJndW1lbnQgaWYgcHJvdmlkZWQ7IG90aGVyd2lzZSwgaXQgZmFpbHMuXG4gKlxuICogQGNhdGVnb3J5IFJlYWRvbmx5QXJyYXkgdHJhbnNmb3JtYXRpb25zXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjb25zdCBoZWFkT3JFbHNlID0gLyojX19QVVJFX18qL2R1YWwoYXJncyA9PiBpc1NjaGVtYShhcmdzWzBdKSwgKHNlbGYsIGZhbGxiYWNrKSA9PiB0cmFuc2Zvcm1PckZhaWwoc2VsZiwgZ2V0TnVtYmVySW5kZXhlZEFjY2Vzcyh0eXBlU2NoZW1hKHNlbGYpKSwge1xuICBzdHJpY3Q6IHRydWUsXG4gIGRlY29kZTogKGFzLCBfLCBhc3QpID0+IGFzLmxlbmd0aCA+IDAgPyBQYXJzZVJlc3VsdC5zdWNjZWVkKGFzWzBdKSA6IGZhbGxiYWNrID8gUGFyc2VSZXN1bHQuc3VjY2VlZChmYWxsYmFjaygpKSA6IFBhcnNlUmVzdWx0LmZhaWwobmV3IFBhcnNlUmVzdWx0LlR5cGUoYXN0LCBhcykpLFxuICBlbmNvZGU6IGEgPT4gUGFyc2VSZXN1bHQuc3VjY2VlZChhcnJheV8ub2YoYSkpXG59KSk7XG4vKipcbiAqIEBjYXRlZ29yeSB0eXBlIGlkXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjb25zdCBWYWxpZERhdGVUeXBlSWQgPSAvKiNfX1BVUkVfXyovU3ltYm9sLmZvcihcIkBlZmZlY3Qvc2NoZW1hL1R5cGVJZC9WYWxpZERhdGVcIik7XG4vKipcbiAqIERlZmluZXMgYSBmaWx0ZXIgdGhhdCBzcGVjaWZpY2FsbHkgcmVqZWN0cyBpbnZhbGlkIGRhdGVzLCBzdWNoIGFzIGBuZXdcbiAqIERhdGUoXCJJbnZhbGlkIERhdGVcIilgLiBUaGlzIGZpbHRlciBlbnN1cmVzIHRoYXQgb25seSBwcm9wZXJseSBmb3JtYXR0ZWQgYW5kXG4gKiB2YWxpZCBkYXRlIG9iamVjdHMgYXJlIGFjY2VwdGVkLCBlbmhhbmNpbmcgZGF0YSBpbnRlZ3JpdHkgYnkgcHJldmVudGluZ1xuICogZXJyb25lb3VzIGRhdGUgdmFsdWVzIGZyb20gYmVpbmcgcHJvY2Vzc2VkLlxuICpcbiAqIEBjYXRlZ29yeSBEYXRlIGZpbHRlcnNcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNvbnN0IHZhbGlkRGF0ZSA9IGFubm90YXRpb25zID0+IHNlbGYgPT4gc2VsZi5waXBlKGZpbHRlcihhID0+ICFOdW1iZXIuaXNOYU4oYS5nZXRUaW1lKCkpLCB7XG4gIHR5cGVJZDogVmFsaWREYXRlVHlwZUlkLFxuICBkZXNjcmlwdGlvbjogXCJhIHZhbGlkIERhdGVcIixcbiAgLi4uYW5ub3RhdGlvbnNcbn0pKTtcbi8qKlxuICogRGVzY3JpYmVzIGEgc2NoZW1hIHRoYXQgYWNjb21tb2RhdGVzIHBvdGVudGlhbGx5IGludmFsaWQgYERhdGVgIGluc3RhbmNlcyxcbiAqIHN1Y2ggYXMgYG5ldyBEYXRlKFwiSW52YWxpZCBEYXRlXCIpYCwgd2l0aG91dCByZWplY3Rpb24uXG4gKlxuICogQGNhdGVnb3J5IERhdGUgY29uc3RydWN0b3JzXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjbGFzcyBEYXRlRnJvbVNlbGYgZXh0ZW5kcyBkZWNsYXJlKFByZWRpY2F0ZS5pc0RhdGUsIHtcbiAgaWRlbnRpZmllcjogXCJEYXRlRnJvbVNlbGZcIixcbiAgZGVzY3JpcHRpb246IFwiYSBwb3RlbnRpYWxseSBpbnZhbGlkIERhdGUgaW5zdGFuY2VcIixcbiAgcHJldHR5OiAoKSA9PiBkYXRlID0+IGBuZXcgRGF0ZSgke0pTT04uc3RyaW5naWZ5KGRhdGUpfSlgLFxuICBhcmJpdHJhcnk6ICgpID0+IGZjID0+IGZjLmRhdGUoe1xuICAgIG5vSW52YWxpZERhdGU6IGZhbHNlXG4gIH0pLFxuICBlcXVpdmFsZW5jZTogKCkgPT4gRXF1aXZhbGVuY2UuRGF0ZVxufSkge1xuICBzdGF0aWMgYW5ub3RhdGlvbnMgPSBzdXBlci5hbm5vdGF0aW9ucztcbn1cbi8qKlxuICogRGVmaW5lcyBhIHNjaGVtYSB0aGF0IGVuc3VyZXMgb25seSB2YWxpZCBkYXRlcyBhcmUgYWNjZXB0ZWQuIFRoaXMgc2NoZW1hXG4gKiByZWplY3RzIHZhbHVlcyBsaWtlIGBuZXcgRGF0ZShcIkludmFsaWQgRGF0ZVwiKWAsIHdoaWNoLCBkZXNwaXRlIGJlaW5nIGEgYERhdGVgXG4gKiBpbnN0YW5jZSwgcmVwcmVzZW50cyBhbiBpbnZhbGlkIGRhdGUuIFN1Y2ggc3RyaW5nZW50IHZhbGlkYXRpb24gZW5zdXJlcyB0aGF0XG4gKiBhbGwgZGF0ZSBvYmplY3RzIHByb2Nlc3NlZCB0aHJvdWdoIHRoaXMgc2NoZW1hIGFyZSBwcm9wZXJseSBmb3JtZWQgYW5kXG4gKiByZXByZXNlbnQgcmVhbCBkYXRlcy5cbiAqXG4gKiBAY2F0ZWdvcnkgRGF0ZSBjb25zdHJ1Y3RvcnNcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNsYXNzIFZhbGlkRGF0ZUZyb21TZWxmIGV4dGVuZHMgRGF0ZUZyb21TZWxmLnBpcGUodmFsaWREYXRlKHtcbiAgaWRlbnRpZmllcjogXCJWYWxpZERhdGVGcm9tU2VsZlwiLFxuICBkZXNjcmlwdGlvbjogXCJhIHZhbGlkIERhdGUgaW5zdGFuY2VcIlxufSkpIHtcbiAgc3RhdGljIGFubm90YXRpb25zID0gc3VwZXIuYW5ub3RhdGlvbnM7XG59XG4vKipcbiAqIERlZmluZXMgYSBzY2hlbWEgdGhhdCBhdHRlbXB0cyB0byBjb252ZXJ0IGEgYHN0cmluZ2AgdG8gYSBgRGF0ZWAgb2JqZWN0IHVzaW5nXG4gKiB0aGUgYG5ldyBEYXRlYCBjb25zdHJ1Y3Rvci4gVGhpcyBjb252ZXJzaW9uIGlzIGxlbmllbnQsIG1lYW5pbmcgaXQgZG9lcyBub3RcbiAqIHJlamVjdCBzdHJpbmdzIHRoYXQgZG8gbm90IGZvcm0gdmFsaWQgZGF0ZXMgKGUuZy4sIHVzaW5nIGBuZXcgRGF0ZShcIkludmFsaWRcbiAqIERhdGVcIilgIHJlc3VsdHMgaW4gYSBgRGF0ZWAgb2JqZWN0LCBkZXNwaXRlIGJlaW5nIGludmFsaWQpLlxuICpcbiAqIEBjYXRlZ29yeSBEYXRlIHRyYW5zZm9ybWF0aW9uc1xuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY2xhc3MgRGF0ZUZyb21TdHJpbmcgZXh0ZW5kcyB0cmFuc2Zvcm0oU3RyaW5nJCwgRGF0ZUZyb21TZWxmLCB7XG4gIHN0cmljdDogdHJ1ZSxcbiAgZGVjb2RlOiBzID0+IG5ldyBEYXRlKHMpLFxuICBlbmNvZGU6IGQgPT4gZC50b0lTT1N0cmluZygpXG59KS5hbm5vdGF0aW9ucyh7XG4gIGlkZW50aWZpZXI6IFwiRGF0ZUZyb21TdHJpbmdcIlxufSkge1xuICBzdGF0aWMgYW5ub3RhdGlvbnMgPSBzdXBlci5hbm5vdGF0aW9ucztcbn1cbi8qKiBAaWdub3JlICovXG5jbGFzcyBEYXRlJCBleHRlbmRzIERhdGVGcm9tU3RyaW5nLnBpcGUodmFsaWREYXRlKHtcbiAgaWRlbnRpZmllcjogXCJEYXRlXCJcbn0pKSB7XG4gIHN0YXRpYyBhbm5vdGF0aW9ucyA9IHN1cGVyLmFubm90YXRpb25zO1xufVxuZXhwb3J0IHtcbi8qKlxuICogVGhpcyBzY2hlbWEgY29udmVydHMgYSBgc3RyaW5nYCBpbnRvIGEgYERhdGVgIG9iamVjdCB1c2luZyB0aGUgYG5ldyBEYXRlYFxuICogY29uc3RydWN0b3IuIEl0IGVuc3VyZXMgdGhhdCBvbmx5IHZhbGlkIGRhdGUgc3RyaW5ncyBhcmUgYWNjZXB0ZWQsXG4gKiByZWplY3RpbmcgYW55IHN0cmluZ3MgdGhhdCB3b3VsZCByZXN1bHQgaW4gYW4gaW52YWxpZCBkYXRlLCBzdWNoIGFzIGBuZXdcbiAqIERhdGUoXCJJbnZhbGlkIERhdGVcIilgLlxuICpcbiAqIEBjYXRlZ29yeSBEYXRlIHRyYW5zZm9ybWF0aW9uc1xuICogQHNpbmNlIDAuNjcuMFxuICovXG5EYXRlJCBhcyBEYXRlIH07XG4vKipcbiAqIERlZmluZXMgYSBzY2hlbWEgdGhhdCBjb252ZXJ0cyBhIGBudW1iZXJgIGludG8gYSBgRGF0ZWAgb2JqZWN0IHVzaW5nIHRoZSBgbmV3XG4gKiBEYXRlYCBjb25zdHJ1Y3Rvci4gVGhpcyBzY2hlbWEgZG9lcyBub3QgdmFsaWRhdGUgdGhlIG51bWVyaWNhbCBpbnB1dCxcbiAqIGFsbG93aW5nIHBvdGVudGlhbGx5IGludmFsaWQgdmFsdWVzIHN1Y2ggYXMgYE5hTmAsIGBJbmZpbml0eWAsIGFuZFxuICogYC1JbmZpbml0eWAgdG8gYmUgY29udmVydGVkIGludG8gYERhdGVgIG9iamVjdHMuIER1cmluZyB0aGUgZW5jb2RpbmcgcHJvY2VzcyxcbiAqIGFueSBpbnZhbGlkIGBEYXRlYCBvYmplY3Qgd2lsbCBiZSBlbmNvZGVkIHRvIGBOYU5gLlxuICpcbiAqIEBjYXRlZ29yeSBEYXRlIHRyYW5zZm9ybWF0aW9uc1xuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY2xhc3MgRGF0ZUZyb21OdW1iZXIgZXh0ZW5kcyB0cmFuc2Zvcm0oTnVtYmVyJCwgRGF0ZUZyb21TZWxmLCB7XG4gIHN0cmljdDogdHJ1ZSxcbiAgZGVjb2RlOiBuID0+IG5ldyBEYXRlKG4pLFxuICBlbmNvZGU6IGQgPT4gZC5nZXRUaW1lKClcbn0pLmFubm90YXRpb25zKHtcbiAgaWRlbnRpZmllcjogXCJEYXRlRnJvbU51bWJlclwiXG59KSB7XG4gIHN0YXRpYyBhbm5vdGF0aW9ucyA9IHN1cGVyLmFubm90YXRpb25zO1xufVxuY29uc3QgT3B0aW9uTm9uZUVuY29kZWQgPSAvKiNfX1BVUkVfXyovU3RydWN0KHtcbiAgX3RhZzogTGl0ZXJhbChcIk5vbmVcIilcbn0pLmFubm90YXRpb25zKHtcbiAgZGVzY3JpcHRpb246IFwiTm9uZUVuY29kZWRcIlxufSk7XG5jb25zdCBvcHRpb25Tb21lRW5jb2RlZCA9IHZhbHVlID0+IFN0cnVjdCh7XG4gIF90YWc6IExpdGVyYWwoXCJTb21lXCIpLFxuICB2YWx1ZVxufSkuYW5ub3RhdGlvbnMoe1xuICBkZXNjcmlwdGlvbjogYFNvbWVFbmNvZGVkPCR7Zm9ybWF0KHZhbHVlKX0+YFxufSk7XG5jb25zdCBvcHRpb25FbmNvZGVkID0gdmFsdWUgPT4gVW5pb24oT3B0aW9uTm9uZUVuY29kZWQsIG9wdGlvblNvbWVFbmNvZGVkKHZhbHVlKSkuYW5ub3RhdGlvbnMoe1xuICBkZXNjcmlwdGlvbjogYE9wdGlvbkVuY29kZWQ8JHtmb3JtYXQodmFsdWUpfT5gXG59KTtcbmNvbnN0IG9wdGlvbkRlY29kZSA9IGlucHV0ID0+IGlucHV0Ll90YWcgPT09IFwiTm9uZVwiID8gb3B0aW9uXy5ub25lKCkgOiBvcHRpb25fLnNvbWUoaW5wdXQudmFsdWUpO1xuY29uc3Qgb3B0aW9uQXJiaXRyYXJ5ID0gdmFsdWUgPT4gZmMgPT4gZmMub25lb2YoZmMucmVjb3JkKHtcbiAgX3RhZzogZmMuY29uc3RhbnQoXCJOb25lXCIpXG59KSwgZmMucmVjb3JkKHtcbiAgX3RhZzogZmMuY29uc3RhbnQoXCJTb21lXCIpLFxuICB2YWx1ZTogdmFsdWUoZmMpXG59KSkubWFwKG9wdGlvbkRlY29kZSk7XG5jb25zdCBvcHRpb25QcmV0dHkgPSB2YWx1ZSA9PiBvcHRpb25fLm1hdGNoKHtcbiAgb25Ob25lOiAoKSA9PiBcIm5vbmUoKVwiLFxuICBvblNvbWU6IGEgPT4gYHNvbWUoJHt2YWx1ZShhKX0pYFxufSk7XG5jb25zdCBvcHRpb25QYXJzZSA9IGRlY29kZVVua25vd24gPT4gKHUsIG9wdGlvbnMsIGFzdCkgPT4gb3B0aW9uXy5pc09wdGlvbih1KSA/IG9wdGlvbl8uaXNOb25lKHUpID8gUGFyc2VSZXN1bHQuc3VjY2VlZChvcHRpb25fLm5vbmUoKSkgOiB0b0NvbXBvc2l0ZShkZWNvZGVVbmtub3duKHUudmFsdWUsIG9wdGlvbnMpLCBvcHRpb25fLnNvbWUsIGFzdCwgdSkgOiBQYXJzZVJlc3VsdC5mYWlsKG5ldyBQYXJzZVJlc3VsdC5UeXBlKGFzdCwgdSkpO1xuLyoqXG4gKiBAY2F0ZWdvcnkgT3B0aW9uIHRyYW5zZm9ybWF0aW9uc1xuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY29uc3QgT3B0aW9uRnJvbVNlbGYgPSB2YWx1ZSA9PiB7XG4gIHJldHVybiBkZWNsYXJlKFt2YWx1ZV0sIHtcbiAgICBkZWNvZGU6IHZhbHVlID0+IG9wdGlvblBhcnNlKFBhcnNlUmVzdWx0LmRlY29kZVVua25vd24odmFsdWUpKSxcbiAgICBlbmNvZGU6IHZhbHVlID0+IG9wdGlvblBhcnNlKFBhcnNlUmVzdWx0LmVuY29kZVVua25vd24odmFsdWUpKVxuICB9LCB7XG4gICAgZGVzY3JpcHRpb246IGBPcHRpb248JHtmb3JtYXQodmFsdWUpfT5gLFxuICAgIHByZXR0eTogb3B0aW9uUHJldHR5LFxuICAgIGFyYml0cmFyeTogb3B0aW9uQXJiaXRyYXJ5LFxuICAgIGVxdWl2YWxlbmNlOiBvcHRpb25fLmdldEVxdWl2YWxlbmNlXG4gIH0pO1xufTtcbmNvbnN0IG1ha2VOb25lRW5jb2RlZCA9IHtcbiAgX3RhZzogXCJOb25lXCJcbn07XG5jb25zdCBtYWtlU29tZUVuY29kZWQgPSB2YWx1ZSA9PiAoe1xuICBfdGFnOiBcIlNvbWVcIixcbiAgdmFsdWVcbn0pO1xuLyoqXG4gKiBAY2F0ZWdvcnkgT3B0aW9uIHRyYW5zZm9ybWF0aW9uc1xuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY29uc3QgT3B0aW9uID0gdmFsdWUgPT4ge1xuICBjb25zdCB2YWx1ZV8gPSBhc1NjaGVtYSh2YWx1ZSk7XG4gIHJldHVybiB0cmFuc2Zvcm0ob3B0aW9uRW5jb2RlZCh2YWx1ZV8pLCBPcHRpb25Gcm9tU2VsZih0eXBlU2NoZW1hKHZhbHVlXykpLCB7XG4gICAgc3RyaWN0OiB0cnVlLFxuICAgIGRlY29kZTogb3B0aW9uRGVjb2RlLFxuICAgIGVuY29kZTogb3B0aW9uXy5tYXRjaCh7XG4gICAgICBvbk5vbmU6ICgpID0+IG1ha2VOb25lRW5jb2RlZCxcbiAgICAgIG9uU29tZTogbWFrZVNvbWVFbmNvZGVkXG4gICAgfSlcbiAgfSk7XG59O1xuLyoqXG4gKiBAY2F0ZWdvcnkgT3B0aW9uIHRyYW5zZm9ybWF0aW9uc1xuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY29uc3QgT3B0aW9uRnJvbU51bGxPciA9IHZhbHVlID0+IHtcbiAgY29uc3QgdmFsdWVfID0gYXNTY2hlbWEodmFsdWUpO1xuICByZXR1cm4gdHJhbnNmb3JtKE51bGxPcih2YWx1ZV8pLCBPcHRpb25Gcm9tU2VsZih0eXBlU2NoZW1hKHZhbHVlXykpLCB7XG4gICAgc3RyaWN0OiB0cnVlLFxuICAgIGRlY29kZTogb3B0aW9uXy5mcm9tTnVsbGFibGUsXG4gICAgZW5jb2RlOiBvcHRpb25fLmdldE9yTnVsbFxuICB9KTtcbn07XG4vKipcbiAqIEBjYXRlZ29yeSBPcHRpb24gdHJhbnNmb3JtYXRpb25zXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjb25zdCBPcHRpb25Gcm9tTnVsbGlzaE9yID0gKHZhbHVlLCBvbk5vbmVFbmNvZGluZykgPT4ge1xuICBjb25zdCB2YWx1ZV8gPSBhc1NjaGVtYSh2YWx1ZSk7XG4gIHJldHVybiB0cmFuc2Zvcm0oTnVsbGlzaE9yKHZhbHVlXyksIE9wdGlvbkZyb21TZWxmKHR5cGVTY2hlbWEodmFsdWVfKSksIHtcbiAgICBzdHJpY3Q6IHRydWUsXG4gICAgZGVjb2RlOiBvcHRpb25fLmZyb21OdWxsYWJsZSxcbiAgICBlbmNvZGU6IG9uTm9uZUVuY29kaW5nID09PSBudWxsID8gb3B0aW9uXy5nZXRPck51bGwgOiBvcHRpb25fLmdldE9yVW5kZWZpbmVkXG4gIH0pO1xufTtcbi8qKlxuICogQGNhdGVnb3J5IE9wdGlvbiB0cmFuc2Zvcm1hdGlvbnNcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNvbnN0IE9wdGlvbkZyb21VbmRlZmluZWRPciA9IHZhbHVlID0+IHtcbiAgY29uc3QgdmFsdWVfID0gYXNTY2hlbWEodmFsdWUpO1xuICByZXR1cm4gdHJhbnNmb3JtKFVuZGVmaW5lZE9yKHZhbHVlXyksIE9wdGlvbkZyb21TZWxmKHR5cGVTY2hlbWEodmFsdWVfKSksIHtcbiAgICBzdHJpY3Q6IHRydWUsXG4gICAgZGVjb2RlOiBvcHRpb25fLmZyb21OdWxsYWJsZSxcbiAgICBlbmNvZGU6IG9wdGlvbl8uZ2V0T3JVbmRlZmluZWRcbiAgfSk7XG59O1xuY29uc3QgcmlnaHRFbmNvZGVkID0gcmlnaHQgPT4gU3RydWN0KHtcbiAgX3RhZzogTGl0ZXJhbChcIlJpZ2h0XCIpLFxuICByaWdodFxufSkuYW5ub3RhdGlvbnMoe1xuICBkZXNjcmlwdGlvbjogYFJpZ2h0RW5jb2RlZDwke2Zvcm1hdChyaWdodCl9PmBcbn0pO1xuY29uc3QgbGVmdEVuY29kZWQgPSBsZWZ0ID0+IFN0cnVjdCh7XG4gIF90YWc6IExpdGVyYWwoXCJMZWZ0XCIpLFxuICBsZWZ0XG59KS5hbm5vdGF0aW9ucyh7XG4gIGRlc2NyaXB0aW9uOiBgTGVmdEVuY29kZWQ8JHtmb3JtYXQobGVmdCl9PmBcbn0pO1xuY29uc3QgZWl0aGVyRW5jb2RlZCA9IChyaWdodCwgbGVmdCkgPT4gVW5pb24ocmlnaHRFbmNvZGVkKHJpZ2h0KSwgbGVmdEVuY29kZWQobGVmdCkpLmFubm90YXRpb25zKHtcbiAgZGVzY3JpcHRpb246IGBFaXRoZXJFbmNvZGVkPCR7Zm9ybWF0KGxlZnQpfSwgJHtmb3JtYXQocmlnaHQpfT5gXG59KTtcbmNvbnN0IGVpdGhlckRlY29kZSA9IGlucHV0ID0+IGlucHV0Ll90YWcgPT09IFwiTGVmdFwiID8gZWl0aGVyXy5sZWZ0KGlucHV0LmxlZnQpIDogZWl0aGVyXy5yaWdodChpbnB1dC5yaWdodCk7XG5jb25zdCBlaXRoZXJBcmJpdHJhcnkgPSAocmlnaHQsIGxlZnQpID0+IGZjID0+IGZjLm9uZW9mKGZjLnJlY29yZCh7XG4gIF90YWc6IGZjLmNvbnN0YW50KFwiTGVmdFwiKSxcbiAgbGVmdDogbGVmdChmYylcbn0pLCBmYy5yZWNvcmQoe1xuICBfdGFnOiBmYy5jb25zdGFudChcIlJpZ2h0XCIpLFxuICByaWdodDogcmlnaHQoZmMpXG59KSkubWFwKGVpdGhlckRlY29kZSk7XG5jb25zdCBlaXRoZXJQcmV0dHkgPSAocmlnaHQsIGxlZnQpID0+IGVpdGhlcl8ubWF0Y2goe1xuICBvbkxlZnQ6IGUgPT4gYGxlZnQoJHtsZWZ0KGUpfSlgLFxuICBvblJpZ2h0OiBhID0+IGByaWdodCgke3JpZ2h0KGEpfSlgXG59KTtcbmNvbnN0IGVpdGhlclBhcnNlID0gKHBhcnNlUmlnaHQsIGRlY29kZVVua25vd25MZWZ0KSA9PiAodSwgb3B0aW9ucywgYXN0KSA9PiBlaXRoZXJfLmlzRWl0aGVyKHUpID8gZWl0aGVyXy5tYXRjaCh1LCB7XG4gIG9uTGVmdDogbGVmdCA9PiB0b0NvbXBvc2l0ZShkZWNvZGVVbmtub3duTGVmdChsZWZ0LCBvcHRpb25zKSwgZWl0aGVyXy5sZWZ0LCBhc3QsIHUpLFxuICBvblJpZ2h0OiByaWdodCA9PiB0b0NvbXBvc2l0ZShwYXJzZVJpZ2h0KHJpZ2h0LCBvcHRpb25zKSwgZWl0aGVyXy5yaWdodCwgYXN0LCB1KVxufSkgOiBQYXJzZVJlc3VsdC5mYWlsKG5ldyBQYXJzZVJlc3VsdC5UeXBlKGFzdCwgdSkpO1xuLyoqXG4gKiBAY2F0ZWdvcnkgRWl0aGVyIHRyYW5zZm9ybWF0aW9uc1xuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY29uc3QgRWl0aGVyRnJvbVNlbGYgPSAoe1xuICBsZWZ0LFxuICByaWdodFxufSkgPT4ge1xuICByZXR1cm4gZGVjbGFyZShbcmlnaHQsIGxlZnRdLCB7XG4gICAgZGVjb2RlOiAocmlnaHQsIGxlZnQpID0+IGVpdGhlclBhcnNlKFBhcnNlUmVzdWx0LmRlY29kZVVua25vd24ocmlnaHQpLCBQYXJzZVJlc3VsdC5kZWNvZGVVbmtub3duKGxlZnQpKSxcbiAgICBlbmNvZGU6IChyaWdodCwgbGVmdCkgPT4gZWl0aGVyUGFyc2UoUGFyc2VSZXN1bHQuZW5jb2RlVW5rbm93bihyaWdodCksIFBhcnNlUmVzdWx0LmVuY29kZVVua25vd24obGVmdCkpXG4gIH0sIHtcbiAgICBkZXNjcmlwdGlvbjogYEVpdGhlcjwke2Zvcm1hdChyaWdodCl9LCAke2Zvcm1hdChsZWZ0KX0+YCxcbiAgICBwcmV0dHk6IGVpdGhlclByZXR0eSxcbiAgICBhcmJpdHJhcnk6IGVpdGhlckFyYml0cmFyeSxcbiAgICBlcXVpdmFsZW5jZTogKHJpZ2h0LCBsZWZ0KSA9PiBlaXRoZXJfLmdldEVxdWl2YWxlbmNlKHtcbiAgICAgIGxlZnQsXG4gICAgICByaWdodFxuICAgIH0pXG4gIH0pO1xufTtcbmNvbnN0IG1ha2VMZWZ0RW5jb2RlZCA9IGxlZnQgPT4gKHtcbiAgX3RhZzogXCJMZWZ0XCIsXG4gIGxlZnRcbn0pO1xuY29uc3QgbWFrZVJpZ2h0RW5jb2RlZCA9IHJpZ2h0ID0+ICh7XG4gIF90YWc6IFwiUmlnaHRcIixcbiAgcmlnaHRcbn0pO1xuLyoqXG4gKiBAY2F0ZWdvcnkgRWl0aGVyIHRyYW5zZm9ybWF0aW9uc1xuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY29uc3QgRWl0aGVyID0gKHtcbiAgbGVmdCxcbiAgcmlnaHRcbn0pID0+IHtcbiAgY29uc3QgcmlnaHRfID0gYXNTY2hlbWEocmlnaHQpO1xuICBjb25zdCBsZWZ0XyA9IGFzU2NoZW1hKGxlZnQpO1xuICByZXR1cm4gdHJhbnNmb3JtKGVpdGhlckVuY29kZWQocmlnaHRfLCBsZWZ0XyksIEVpdGhlckZyb21TZWxmKHtcbiAgICBsZWZ0OiB0eXBlU2NoZW1hKGxlZnRfKSxcbiAgICByaWdodDogdHlwZVNjaGVtYShyaWdodF8pXG4gIH0pLCB7XG4gICAgc3RyaWN0OiB0cnVlLFxuICAgIGRlY29kZTogZWl0aGVyRGVjb2RlLFxuICAgIGVuY29kZTogZWl0aGVyXy5tYXRjaCh7XG4gICAgICBvbkxlZnQ6IG1ha2VMZWZ0RW5jb2RlZCxcbiAgICAgIG9uUmlnaHQ6IG1ha2VSaWdodEVuY29kZWRcbiAgICB9KVxuICB9KTtcbn07XG4vKipcbiAqIEBleGFtcGxlXG4gKiBpbXBvcnQgKiBhcyBTY2hlbWEgZnJvbSBcIkBlZmZlY3Qvc2NoZW1hL1NjaGVtYVwiXG4gKlxuICogLy8gU2NoZW1hPHN0cmluZyB8IG51bWJlciwgRWl0aGVyPHN0cmluZywgbnVtYmVyPj5cbiAqIFNjaGVtYS5FaXRoZXJGcm9tVW5pb24oeyBsZWZ0OiBTY2hlbWEuU3RyaW5nLCByaWdodDogU2NoZW1hLk51bWJlciB9KVxuICpcbiAqIEBjYXRlZ29yeSBFaXRoZXIgdHJhbnNmb3JtYXRpb25zXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjb25zdCBFaXRoZXJGcm9tVW5pb24gPSAoe1xuICBsZWZ0LFxuICByaWdodFxufSkgPT4ge1xuICBjb25zdCByaWdodF8gPSBhc1NjaGVtYShyaWdodCk7XG4gIGNvbnN0IGxlZnRfID0gYXNTY2hlbWEobGVmdCk7XG4gIGNvbnN0IHRvcmlnaHQgPSB0eXBlU2NoZW1hKHJpZ2h0Xyk7XG4gIGNvbnN0IHRvbGVmdCA9IHR5cGVTY2hlbWEobGVmdF8pO1xuICBjb25zdCBmcm9tUmlnaHQgPSB0cmFuc2Zvcm0ocmlnaHRfLCByaWdodEVuY29kZWQodG9yaWdodCksIHtcbiAgICBzdHJpY3Q6IHRydWUsXG4gICAgZGVjb2RlOiBtYWtlUmlnaHRFbmNvZGVkLFxuICAgIGVuY29kZTogciA9PiByLnJpZ2h0XG4gIH0pO1xuICBjb25zdCBmcm9tTGVmdCA9IHRyYW5zZm9ybShsZWZ0XywgbGVmdEVuY29kZWQodG9sZWZ0KSwge1xuICAgIHN0cmljdDogdHJ1ZSxcbiAgICBkZWNvZGU6IG1ha2VMZWZ0RW5jb2RlZCxcbiAgICBlbmNvZGU6IGwgPT4gbC5sZWZ0XG4gIH0pO1xuICByZXR1cm4gdHJhbnNmb3JtKFVuaW9uKGZyb21SaWdodCwgZnJvbUxlZnQpLCBFaXRoZXJGcm9tU2VsZih7XG4gICAgbGVmdDogdG9sZWZ0LFxuICAgIHJpZ2h0OiB0b3JpZ2h0XG4gIH0pLCB7XG4gICAgc3RyaWN0OiB0cnVlLFxuICAgIGRlY29kZTogZnJvbSA9PiBmcm9tLl90YWcgPT09IFwiTGVmdFwiID8gZWl0aGVyXy5sZWZ0KGZyb20ubGVmdCkgOiBlaXRoZXJfLnJpZ2h0KGZyb20ucmlnaHQpLFxuICAgIGVuY29kZTogZWl0aGVyXy5tYXRjaCh7XG4gICAgICBvbkxlZnQ6IG1ha2VMZWZ0RW5jb2RlZCxcbiAgICAgIG9uUmlnaHQ6IG1ha2VSaWdodEVuY29kZWRcbiAgICB9KVxuICB9KTtcbn07XG5jb25zdCBtYXBBcmJpdHJhcnkgPSAoa2V5LCB2YWx1ZSkgPT4gZmMgPT4gZmMuYXJyYXkoZmMudHVwbGUoa2V5KGZjKSwgdmFsdWUoZmMpKSkubWFwKGFzID0+IG5ldyBNYXAoYXMpKTtcbmNvbnN0IHJlYWRvbmx5TWFwUHJldHR5ID0gKGtleSwgdmFsdWUpID0+IG1hcCA9PiBgbmV3IE1hcChbJHtBcnJheS5mcm9tKG1hcC5lbnRyaWVzKCkpLm1hcCgoW2ssIHZdKSA9PiBgWyR7a2V5KGspfSwgJHt2YWx1ZSh2KX1dYCkuam9pbihcIiwgXCIpfV0pYDtcbmNvbnN0IHJlYWRvbmx5TWFwRXF1aXZhbGVuY2UgPSAoa2V5LCB2YWx1ZSkgPT4ge1xuICBjb25zdCBhcnJheUVxdWl2YWxlbmNlID0gYXJyYXlfLmdldEVxdWl2YWxlbmNlKEVxdWl2YWxlbmNlLm1ha2UoKFtrYSwgdmFdLCBba2IsIHZiXSkgPT4ga2V5KGthLCBrYikgJiYgdmFsdWUodmEsIHZiKSkpO1xuICByZXR1cm4gRXF1aXZhbGVuY2UubWFrZSgoYSwgYikgPT4gYXJyYXlFcXVpdmFsZW5jZShBcnJheS5mcm9tKGEuZW50cmllcygpKSwgQXJyYXkuZnJvbShiLmVudHJpZXMoKSkpKTtcbn07XG5jb25zdCByZWFkb25seU1hcFBhcnNlID0gZGVjb2RlVW5rbm93biA9PiAodSwgb3B0aW9ucywgYXN0KSA9PiBQcmVkaWNhdGUuaXNNYXAodSkgPyB0b0NvbXBvc2l0ZShkZWNvZGVVbmtub3duKEFycmF5LmZyb20odS5lbnRyaWVzKCkpLCBvcHRpb25zKSwgYXMgPT4gbmV3IE1hcChhcyksIGFzdCwgdSkgOiBQYXJzZVJlc3VsdC5mYWlsKG5ldyBQYXJzZVJlc3VsdC5UeXBlKGFzdCwgdSkpO1xuY29uc3QgbWFwRnJvbVNlbGZfID0gKGtleSwgdmFsdWUsIGRlc2NyaXB0aW9uKSA9PiBkZWNsYXJlKFtrZXksIHZhbHVlXSwge1xuICBkZWNvZGU6IChLZXksIFZhbHVlKSA9PiByZWFkb25seU1hcFBhcnNlKFBhcnNlUmVzdWx0LmRlY29kZVVua25vd24oQXJyYXkkKFR1cGxlKEtleSwgVmFsdWUpKSkpLFxuICBlbmNvZGU6IChLZXksIFZhbHVlKSA9PiByZWFkb25seU1hcFBhcnNlKFBhcnNlUmVzdWx0LmVuY29kZVVua25vd24oQXJyYXkkKFR1cGxlKEtleSwgVmFsdWUpKSkpXG59LCB7XG4gIGRlc2NyaXB0aW9uLFxuICBwcmV0dHk6IHJlYWRvbmx5TWFwUHJldHR5LFxuICBhcmJpdHJhcnk6IG1hcEFyYml0cmFyeSxcbiAgZXF1aXZhbGVuY2U6IHJlYWRvbmx5TWFwRXF1aXZhbGVuY2Vcbn0pO1xuLyoqXG4gKiBAY2F0ZWdvcnkgUmVhZG9ubHlNYXBcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNvbnN0IFJlYWRvbmx5TWFwRnJvbVNlbGYgPSAoe1xuICBrZXksXG4gIHZhbHVlXG59KSA9PiBtYXBGcm9tU2VsZl8oa2V5LCB2YWx1ZSwgYFJlYWRvbmx5TWFwPCR7Zm9ybWF0KGtleSl9LCAke2Zvcm1hdCh2YWx1ZSl9PmApO1xuLyoqXG4gKiBAY2F0ZWdvcnkgTWFwXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjb25zdCBNYXBGcm9tU2VsZiA9ICh7XG4gIGtleSxcbiAgdmFsdWVcbn0pID0+IG1hcEZyb21TZWxmXyhrZXksIHZhbHVlLCBgTWFwPCR7Zm9ybWF0KGtleSl9LCAke2Zvcm1hdCh2YWx1ZSl9PmApO1xuLyoqXG4gKiBAY2F0ZWdvcnkgUmVhZG9ubHlNYXAgdHJhbnNmb3JtYXRpb25zXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjb25zdCBSZWFkb25seU1hcCA9ICh7XG4gIGtleSxcbiAgdmFsdWVcbn0pID0+IHtcbiAgY29uc3Qga2V5XyA9IGFzU2NoZW1hKGtleSk7XG4gIGNvbnN0IHZhbHVlXyA9IGFzU2NoZW1hKHZhbHVlKTtcbiAgcmV0dXJuIHRyYW5zZm9ybShBcnJheSQoVHVwbGUoa2V5XywgdmFsdWVfKSksIFJlYWRvbmx5TWFwRnJvbVNlbGYoe1xuICAgIGtleTogdHlwZVNjaGVtYShrZXlfKSxcbiAgICB2YWx1ZTogdHlwZVNjaGVtYSh2YWx1ZV8pXG4gIH0pLCB7XG4gICAgc3RyaWN0OiB0cnVlLFxuICAgIGRlY29kZTogYXMgPT4gbmV3IE1hcChhcyksXG4gICAgZW5jb2RlOiBtYXAgPT4gQXJyYXkuZnJvbShtYXAuZW50cmllcygpKVxuICB9KTtcbn07XG5jb25zdCBtYXAgPSAoe1xuICBrZXksXG4gIHZhbHVlXG59KSA9PiB7XG4gIGNvbnN0IGtleV8gPSBhc1NjaGVtYShrZXkpO1xuICBjb25zdCB2YWx1ZV8gPSBhc1NjaGVtYSh2YWx1ZSk7XG4gIHJldHVybiB0cmFuc2Zvcm0oQXJyYXkkKFR1cGxlKGtleV8sIHZhbHVlXykpLCBNYXBGcm9tU2VsZih7XG4gICAga2V5OiB0eXBlU2NoZW1hKGtleV8pLFxuICAgIHZhbHVlOiB0eXBlU2NoZW1hKHZhbHVlXylcbiAgfSksIHtcbiAgICBzdHJpY3Q6IHRydWUsXG4gICAgZGVjb2RlOiBhcyA9PiBuZXcgTWFwKGFzKSxcbiAgICBlbmNvZGU6IG1hcCA9PiBBcnJheS5mcm9tKG1hcC5lbnRyaWVzKCkpXG4gIH0pO1xufTtcbmV4cG9ydCB7XG4vKipcbiAqIEBjYXRlZ29yeSBNYXAgdHJhbnNmb3JtYXRpb25zXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbm1hcCBhcyBNYXAgfTtcbi8qKlxuICogQGNhdGVnb3J5IFJlYWRvbmx5TWFwIHRyYW5zZm9ybWF0aW9uc1xuICogQHNpbmNlIDAuNjguMTVcbiAqL1xuZXhwb3J0IGNvbnN0IFJlYWRvbmx5TWFwRnJvbVJlY29yZCA9ICh7XG4gIGtleSxcbiAgdmFsdWVcbn0pID0+IHRyYW5zZm9ybShSZWNvcmQoZW5jb2RlZEJvdW5kU2NoZW1hKGtleSksIHZhbHVlKSwgUmVhZG9ubHlNYXBGcm9tU2VsZih7XG4gIGtleSxcbiAgdmFsdWU6IHR5cGVTY2hlbWEodmFsdWUpXG59KSwge1xuICBzdHJpY3Q6IHRydWUsXG4gIGRlY29kZTogcmVjb3JkID0+IG5ldyBNYXAoT2JqZWN0LmVudHJpZXMocmVjb3JkKSksXG4gIGVuY29kZTogcmVjb3JkXy5mcm9tRW50cmllc1xufSk7XG4vKipcbiAqIEBjYXRlZ29yeSBNYXAgdHJhbnNmb3JtYXRpb25zXG4gKiBAc2luY2UgMC42OC4xNVxuICovXG5leHBvcnQgY29uc3QgTWFwRnJvbVJlY29yZCA9ICh7XG4gIGtleSxcbiAgdmFsdWVcbn0pID0+IHRyYW5zZm9ybShSZWNvcmQoZW5jb2RlZEJvdW5kU2NoZW1hKGtleSksIHZhbHVlKSwgTWFwRnJvbVNlbGYoe1xuICBrZXksXG4gIHZhbHVlOiB0eXBlU2NoZW1hKHZhbHVlKVxufSksIHtcbiAgc3RyaWN0OiB0cnVlLFxuICBkZWNvZGU6IHJlY29yZCA9PiBuZXcgTWFwKE9iamVjdC5lbnRyaWVzKHJlY29yZCkpLFxuICBlbmNvZGU6IHJlY29yZF8uZnJvbUVudHJpZXNcbn0pO1xuY29uc3Qgc2V0QXJiaXRyYXJ5ID0gaXRlbSA9PiBmYyA9PiBmYy5hcnJheShpdGVtKGZjKSkubWFwKGFzID0+IG5ldyBTZXQoYXMpKTtcbmNvbnN0IHJlYWRvbmx5U2V0UHJldHR5ID0gaXRlbSA9PiBzZXQgPT4gYG5ldyBTZXQoWyR7QXJyYXkuZnJvbShzZXQudmFsdWVzKCkpLm1hcChhID0+IGl0ZW0oYSkpLmpvaW4oXCIsIFwiKX1dKWA7XG5jb25zdCByZWFkb25seVNldEVxdWl2YWxlbmNlID0gaXRlbSA9PiB7XG4gIGNvbnN0IGFycmF5RXF1aXZhbGVuY2UgPSBhcnJheV8uZ2V0RXF1aXZhbGVuY2UoaXRlbSk7XG4gIHJldHVybiBFcXVpdmFsZW5jZS5tYWtlKChhLCBiKSA9PiBhcnJheUVxdWl2YWxlbmNlKEFycmF5LmZyb20oYS52YWx1ZXMoKSksIEFycmF5LmZyb20oYi52YWx1ZXMoKSkpKTtcbn07XG5jb25zdCByZWFkb25seVNldFBhcnNlID0gZGVjb2RlVW5rbm93biA9PiAodSwgb3B0aW9ucywgYXN0KSA9PiBQcmVkaWNhdGUuaXNTZXQodSkgPyB0b0NvbXBvc2l0ZShkZWNvZGVVbmtub3duKEFycmF5LmZyb20odS52YWx1ZXMoKSksIG9wdGlvbnMpLCBhcyA9PiBuZXcgU2V0KGFzKSwgYXN0LCB1KSA6IFBhcnNlUmVzdWx0LmZhaWwobmV3IFBhcnNlUmVzdWx0LlR5cGUoYXN0LCB1KSk7XG5jb25zdCBzZXRGcm9tU2VsZl8gPSAodmFsdWUsIGRlc2NyaXB0aW9uKSA9PiBkZWNsYXJlKFt2YWx1ZV0sIHtcbiAgZGVjb2RlOiBpdGVtID0+IHJlYWRvbmx5U2V0UGFyc2UoUGFyc2VSZXN1bHQuZGVjb2RlVW5rbm93bihBcnJheSQoaXRlbSkpKSxcbiAgZW5jb2RlOiBpdGVtID0+IHJlYWRvbmx5U2V0UGFyc2UoUGFyc2VSZXN1bHQuZW5jb2RlVW5rbm93bihBcnJheSQoaXRlbSkpKVxufSwge1xuICBkZXNjcmlwdGlvbixcbiAgcHJldHR5OiByZWFkb25seVNldFByZXR0eSxcbiAgYXJiaXRyYXJ5OiBzZXRBcmJpdHJhcnksXG4gIGVxdWl2YWxlbmNlOiByZWFkb25seVNldEVxdWl2YWxlbmNlXG59KTtcbi8qKlxuICogQGNhdGVnb3J5IFJlYWRvbmx5U2V0XG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjb25zdCBSZWFkb25seVNldEZyb21TZWxmID0gdmFsdWUgPT4gc2V0RnJvbVNlbGZfKHZhbHVlLCBgUmVhZG9ubHlTZXQ8JHtmb3JtYXQodmFsdWUpfT5gKTtcbi8qKlxuICogQGNhdGVnb3J5IFNldFxuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY29uc3QgU2V0RnJvbVNlbGYgPSB2YWx1ZSA9PiBzZXRGcm9tU2VsZl8odmFsdWUsIGBTZXQ8JHtmb3JtYXQodmFsdWUpfT5gKTtcbi8qKlxuICogQGNhdGVnb3J5IFJlYWRvbmx5U2V0IHRyYW5zZm9ybWF0aW9uc1xuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY29uc3QgUmVhZG9ubHlTZXQgPSB2YWx1ZSA9PiB7XG4gIGNvbnN0IHZhbHVlXyA9IGFzU2NoZW1hKHZhbHVlKTtcbiAgcmV0dXJuIHRyYW5zZm9ybShBcnJheSQodmFsdWVfKSwgUmVhZG9ubHlTZXRGcm9tU2VsZih0eXBlU2NoZW1hKHZhbHVlXykpLCB7XG4gICAgc3RyaWN0OiB0cnVlLFxuICAgIGRlY29kZTogYXMgPT4gbmV3IFNldChhcyksXG4gICAgZW5jb2RlOiBzZXQgPT4gQXJyYXkuZnJvbShzZXQpXG4gIH0pO1xufTtcbmNvbnN0IHNldCA9IHZhbHVlID0+IHtcbiAgY29uc3QgdmFsdWVfID0gYXNTY2hlbWEodmFsdWUpO1xuICByZXR1cm4gdHJhbnNmb3JtKEFycmF5JCh2YWx1ZV8pLCBTZXRGcm9tU2VsZih0eXBlU2NoZW1hKHZhbHVlXykpLCB7XG4gICAgc3RyaWN0OiB0cnVlLFxuICAgIGRlY29kZTogYXMgPT4gbmV3IFNldChhcyksXG4gICAgZW5jb2RlOiBzZXQgPT4gQXJyYXkuZnJvbShzZXQpXG4gIH0pO1xufTtcbmV4cG9ydCB7XG4vKipcbiAqIEBjYXRlZ29yeSBTZXQgdHJhbnNmb3JtYXRpb25zXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbnNldCBhcyBTZXQgfTtcbmNvbnN0IGJpZ0RlY2ltYWxQcmV0dHkgPSAoKSA9PiB2YWwgPT4gYEJpZ0RlY2ltYWwoJHtiaWdEZWNpbWFsXy5mb3JtYXQoYmlnRGVjaW1hbF8ubm9ybWFsaXplKHZhbCkpfSlgO1xuY29uc3QgYmlnRGVjaW1hbEFyYml0cmFyeSA9ICgpID0+IGZjID0+IGZjLnR1cGxlKGZjLmJpZ0ludCgpLCBmYy5pbnRlZ2VyKCkpLm1hcCgoW3ZhbHVlLCBzY2FsZV0pID0+IGJpZ0RlY2ltYWxfLm1ha2UodmFsdWUsIHNjYWxlKSk7XG4vKipcbiAqIEBjYXRlZ29yeSBCaWdEZWNpbWFsIGNvbnN0cnVjdG9yc1xuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY2xhc3MgQmlnRGVjaW1hbEZyb21TZWxmIGV4dGVuZHMgZGVjbGFyZShiaWdEZWNpbWFsXy5pc0JpZ0RlY2ltYWwsIHtcbiAgaWRlbnRpZmllcjogXCJCaWdEZWNpbWFsRnJvbVNlbGZcIixcbiAgcHJldHR5OiBiaWdEZWNpbWFsUHJldHR5LFxuICBhcmJpdHJhcnk6IGJpZ0RlY2ltYWxBcmJpdHJhcnksXG4gIGVxdWl2YWxlbmNlOiAoKSA9PiBiaWdEZWNpbWFsXy5FcXVpdmFsZW5jZVxufSkge1xuICBzdGF0aWMgYW5ub3RhdGlvbnMgPSBzdXBlci5hbm5vdGF0aW9ucztcbn1cbi8qKlxuICogQGNhdGVnb3J5IEJpZ0RlY2ltYWwgdHJhbnNmb3JtYXRpb25zXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjbGFzcyBCaWdEZWNpbWFsIGV4dGVuZHMgdHJhbnNmb3JtT3JGYWlsKFN0cmluZyQsIEJpZ0RlY2ltYWxGcm9tU2VsZiwge1xuICBzdHJpY3Q6IHRydWUsXG4gIGRlY29kZTogKG51bSwgXywgYXN0KSA9PiBiaWdEZWNpbWFsXy5mcm9tU3RyaW5nKG51bSkucGlwZShvcHRpb25fLm1hdGNoKHtcbiAgICBvbk5vbmU6ICgpID0+IFBhcnNlUmVzdWx0LmZhaWwobmV3IFBhcnNlUmVzdWx0LlR5cGUoYXN0LCBudW0pKSxcbiAgICBvblNvbWU6IHZhbCA9PiBQYXJzZVJlc3VsdC5zdWNjZWVkKGJpZ0RlY2ltYWxfLm5vcm1hbGl6ZSh2YWwpKVxuICB9KSksXG4gIGVuY29kZTogdmFsID0+IFBhcnNlUmVzdWx0LnN1Y2NlZWQoYmlnRGVjaW1hbF8uZm9ybWF0KGJpZ0RlY2ltYWxfLm5vcm1hbGl6ZSh2YWwpKSlcbn0pLmFubm90YXRpb25zKHtcbiAgaWRlbnRpZmllcjogXCJCaWdEZWNpbWFsXCJcbn0pIHtcbiAgc3RhdGljIGFubm90YXRpb25zID0gc3VwZXIuYW5ub3RhdGlvbnM7XG59XG4vKipcbiAqIEEgc2NoZW1hIHRoYXQgdHJhbnNmb3JtcyBhIGBudW1iZXJgIGludG8gYSBgQmlnRGVjaW1hbGAuXG4gKiBXaGVuIGVuY29kaW5nLCB0aGlzIFNjaGVtYSB3aWxsIHByb2R1Y2UgaW5jb3JyZWN0IHJlc3VsdHMgaWYgdGhlIEJpZ0RlY2ltYWwgZXhjZWVkcyB0aGUgNjQtYml0IHJhbmdlIG9mIGEgbnVtYmVyLlxuICpcbiAqIEBjYXRlZ29yeSBCaWdEZWNpbWFsIHRyYW5zZm9ybWF0aW9uc1xuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY2xhc3MgQmlnRGVjaW1hbEZyb21OdW1iZXIgZXh0ZW5kcyB0cmFuc2Zvcm1PckZhaWwoTnVtYmVyJCwgQmlnRGVjaW1hbEZyb21TZWxmLCB7XG4gIHN0cmljdDogdHJ1ZSxcbiAgZGVjb2RlOiBudW0gPT4gUGFyc2VSZXN1bHQuc3VjY2VlZChiaWdEZWNpbWFsXy5mcm9tTnVtYmVyKG51bSkpLFxuICBlbmNvZGU6IHZhbCA9PiBQYXJzZVJlc3VsdC5zdWNjZWVkKGJpZ0RlY2ltYWxfLnVuc2FmZVRvTnVtYmVyKHZhbCkpXG59KS5hbm5vdGF0aW9ucyh7XG4gIGlkZW50aWZpZXI6IFwiQmlnRGVjaW1hbEZyb21OdW1iZXJcIlxufSkge1xuICBzdGF0aWMgYW5ub3RhdGlvbnMgPSBzdXBlci5hbm5vdGF0aW9ucztcbn1cbi8qKlxuICogQGNhdGVnb3J5IHR5cGUgaWRcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNvbnN0IEdyZWF0ZXJUaGFuQmlnRGVjaW1hbFR5cGVJZCA9IC8qI19fUFVSRV9fKi9TeW1ib2wuZm9yKFwiQGVmZmVjdC9zY2hlbWEvVHlwZUlkL0dyZWF0ZXJUaGFuQmlnRGVjaW1hbFwiKTtcbi8qKlxuICogQGNhdGVnb3J5IEJpZ0RlY2ltYWwgZmlsdGVyc1xuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY29uc3QgZ3JlYXRlclRoYW5CaWdEZWNpbWFsID0gKG1pbiwgYW5ub3RhdGlvbnMpID0+IHNlbGYgPT4gc2VsZi5waXBlKGZpbHRlcihhID0+IGJpZ0RlY2ltYWxfLmdyZWF0ZXJUaGFuKGEsIG1pbiksIHtcbiAgdHlwZUlkOiB7XG4gICAgaWQ6IEdyZWF0ZXJUaGFuQmlnRGVjaW1hbFR5cGVJZCxcbiAgICBhbm5vdGF0aW9uOiB7XG4gICAgICBtaW5cbiAgICB9XG4gIH0sXG4gIGRlc2NyaXB0aW9uOiBgYSBCaWdEZWNpbWFsIGdyZWF0ZXIgdGhhbiAke2JpZ0RlY2ltYWxfLmZvcm1hdChtaW4pfWAsXG4gIC4uLmFubm90YXRpb25zXG59KSk7XG4vKipcbiAqIEBjYXRlZ29yeSB0eXBlIGlkXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjb25zdCBHcmVhdGVyVGhhbk9yRXF1YWxUb0JpZ0RlY2ltYWxUeXBlSWQgPSAvKiNfX1BVUkVfXyovU3ltYm9sLmZvcihcIkBlZmZlY3Qvc2NoZW1hL1R5cGVJZC9HcmVhdGVyVGhhbk9yRXF1YWxUb0JpZ0RlY2ltYWxcIik7XG4vKipcbiAqIEBjYXRlZ29yeSBCaWdEZWNpbWFsIGZpbHRlcnNcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNvbnN0IGdyZWF0ZXJUaGFuT3JFcXVhbFRvQmlnRGVjaW1hbCA9IChtaW4sIGFubm90YXRpb25zKSA9PiBzZWxmID0+IHNlbGYucGlwZShmaWx0ZXIoYSA9PiBiaWdEZWNpbWFsXy5ncmVhdGVyVGhhbk9yRXF1YWxUbyhhLCBtaW4pLCB7XG4gIHR5cGVJZDoge1xuICAgIGlkOiBHcmVhdGVyVGhhbk9yRXF1YWxUb0JpZ0RlY2ltYWxUeXBlSWQsXG4gICAgYW5ub3RhdGlvbjoge1xuICAgICAgbWluXG4gICAgfVxuICB9LFxuICBkZXNjcmlwdGlvbjogYGEgQmlnRGVjaW1hbCBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gJHtiaWdEZWNpbWFsXy5mb3JtYXQobWluKX1gLFxuICAuLi5hbm5vdGF0aW9uc1xufSkpO1xuLyoqXG4gKiBAY2F0ZWdvcnkgdHlwZSBpZFxuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY29uc3QgTGVzc1RoYW5CaWdEZWNpbWFsVHlwZUlkID0gLyojX19QVVJFX18qL1N5bWJvbC5mb3IoXCJAZWZmZWN0L3NjaGVtYS9UeXBlSWQvTGVzc1RoYW5CaWdEZWNpbWFsXCIpO1xuLyoqXG4gKiBAY2F0ZWdvcnkgQmlnRGVjaW1hbCBmaWx0ZXJzXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjb25zdCBsZXNzVGhhbkJpZ0RlY2ltYWwgPSAobWF4LCBhbm5vdGF0aW9ucykgPT4gc2VsZiA9PiBzZWxmLnBpcGUoZmlsdGVyKGEgPT4gYmlnRGVjaW1hbF8ubGVzc1RoYW4oYSwgbWF4KSwge1xuICB0eXBlSWQ6IHtcbiAgICBpZDogTGVzc1RoYW5CaWdEZWNpbWFsVHlwZUlkLFxuICAgIGFubm90YXRpb246IHtcbiAgICAgIG1heFxuICAgIH1cbiAgfSxcbiAgZGVzY3JpcHRpb246IGBhIEJpZ0RlY2ltYWwgbGVzcyB0aGFuICR7YmlnRGVjaW1hbF8uZm9ybWF0KG1heCl9YCxcbiAgLi4uYW5ub3RhdGlvbnNcbn0pKTtcbi8qKlxuICogQGNhdGVnb3J5IHR5cGUgaWRcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNvbnN0IExlc3NUaGFuT3JFcXVhbFRvQmlnRGVjaW1hbFR5cGVJZCA9IC8qI19fUFVSRV9fKi9TeW1ib2wuZm9yKFwiQGVmZmVjdC9zY2hlbWEvVHlwZUlkL0xlc3NUaGFuT3JFcXVhbFRvQmlnRGVjaW1hbFwiKTtcbi8qKlxuICogQGNhdGVnb3J5IEJpZ0RlY2ltYWwgZmlsdGVyc1xuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY29uc3QgbGVzc1RoYW5PckVxdWFsVG9CaWdEZWNpbWFsID0gKG1heCwgYW5ub3RhdGlvbnMpID0+IHNlbGYgPT4gc2VsZi5waXBlKGZpbHRlcihhID0+IGJpZ0RlY2ltYWxfLmxlc3NUaGFuT3JFcXVhbFRvKGEsIG1heCksIHtcbiAgdHlwZUlkOiB7XG4gICAgaWQ6IExlc3NUaGFuT3JFcXVhbFRvQmlnRGVjaW1hbFR5cGVJZCxcbiAgICBhbm5vdGF0aW9uOiB7XG4gICAgICBtYXhcbiAgICB9XG4gIH0sXG4gIGRlc2NyaXB0aW9uOiBgYSBCaWdEZWNpbWFsIGxlc3MgdGhhbiBvciBlcXVhbCB0byAke2JpZ0RlY2ltYWxfLmZvcm1hdChtYXgpfWAsXG4gIC4uLmFubm90YXRpb25zXG59KSk7XG4vKipcbiAqIEBjYXRlZ29yeSB0eXBlIGlkXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjb25zdCBQb3NpdGl2ZUJpZ0RlY2ltYWxUeXBlSWQgPSAvKiNfX1BVUkVfXyovU3ltYm9sLmZvcihcIkBlZmZlY3Qvc2NoZW1hL1R5cGVJZC9Qb3NpdGl2ZUJpZ0RlY2ltYWxcIik7XG4vKipcbiAqIEBjYXRlZ29yeSBCaWdEZWNpbWFsIGZpbHRlcnNcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNvbnN0IHBvc2l0aXZlQmlnRGVjaW1hbCA9IGFubm90YXRpb25zID0+IHNlbGYgPT4gc2VsZi5waXBlKGZpbHRlcihhID0+IGJpZ0RlY2ltYWxfLmlzUG9zaXRpdmUoYSksIHtcbiAgdHlwZUlkOiB7XG4gICAgaWQ6IFBvc2l0aXZlQmlnRGVjaW1hbFR5cGVJZCxcbiAgICBhbm5vdGF0aW9uOiB7fVxuICB9LFxuICBkZXNjcmlwdGlvbjogYGEgcG9zaXRpdmUgQmlnRGVjaW1hbGAsXG4gIC4uLmFubm90YXRpb25zXG59KSk7XG4vKipcbiAqIEBjYXRlZ29yeSBCaWdEZWNpbWFsIGNvbnN0cnVjdG9yc1xuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY29uc3QgUG9zaXRpdmVCaWdEZWNpbWFsRnJvbVNlbGYgPSAvKiNfX1BVUkVfXyovQmlnRGVjaW1hbEZyb21TZWxmLnBpcGUoIC8qI19fUFVSRV9fKi9wb3NpdGl2ZUJpZ0RlY2ltYWwoe1xuICBpZGVudGlmaWVyOiBcIlBvc2l0aXZlQmlnRGVjaW1hbEZyb21TZWxmXCIsXG4gIHRpdGxlOiBcIlBvc2l0aXZlQmlnRGVjaW1hbEZyb21TZWxmXCJcbn0pKTtcbi8qKlxuICogQGNhdGVnb3J5IHR5cGUgaWRcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNvbnN0IE5vbk5lZ2F0aXZlQmlnRGVjaW1hbFR5cGVJZCA9IC8qI19fUFVSRV9fKi9TeW1ib2wuZm9yKFwiQGVmZmVjdC9zY2hlbWEvVHlwZUlkL05vbk5lZ2F0aXZlQmlnRGVjaW1hbFwiKTtcbi8qKlxuICogQGNhdGVnb3J5IEJpZ0RlY2ltYWwgZmlsdGVyc1xuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY29uc3Qgbm9uTmVnYXRpdmVCaWdEZWNpbWFsID0gYW5ub3RhdGlvbnMgPT4gc2VsZiA9PiBzZWxmLnBpcGUoZmlsdGVyKGEgPT4gYS52YWx1ZSA+PSAwbiwge1xuICB0eXBlSWQ6IHtcbiAgICBpZDogTm9uTmVnYXRpdmVCaWdEZWNpbWFsVHlwZUlkLFxuICAgIGFubm90YXRpb246IHt9XG4gIH0sXG4gIGRlc2NyaXB0aW9uOiBgYSBub24tbmVnYXRpdmUgQmlnRGVjaW1hbGAsXG4gIC4uLmFubm90YXRpb25zXG59KSk7XG4vKipcbiAqIEBjYXRlZ29yeSBCaWdEZWNpbWFsIGNvbnN0cnVjdG9yc1xuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY29uc3QgTm9uTmVnYXRpdmVCaWdEZWNpbWFsRnJvbVNlbGYgPSAvKiNfX1BVUkVfXyovQmlnRGVjaW1hbEZyb21TZWxmLnBpcGUoIC8qI19fUFVSRV9fKi9ub25OZWdhdGl2ZUJpZ0RlY2ltYWwoe1xuICBpZGVudGlmaWVyOiBcIk5vbk5lZ2F0aXZlQmlnRGVjaW1hbEZyb21TZWxmXCIsXG4gIHRpdGxlOiBcIk5vbk5lZ2F0aXZlQmlnRGVjaW1hbEZyb21TZWxmXCJcbn0pKTtcbi8qKlxuICogQGNhdGVnb3J5IHR5cGUgaWRcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNvbnN0IE5lZ2F0aXZlQmlnRGVjaW1hbFR5cGVJZCA9IC8qI19fUFVSRV9fKi9TeW1ib2wuZm9yKFwiQGVmZmVjdC9zY2hlbWEvVHlwZUlkL05lZ2F0aXZlQmlnRGVjaW1hbFwiKTtcbi8qKlxuICogQGNhdGVnb3J5IEJpZ0RlY2ltYWwgZmlsdGVyc1xuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY29uc3QgbmVnYXRpdmVCaWdEZWNpbWFsID0gYW5ub3RhdGlvbnMgPT4gc2VsZiA9PiBzZWxmLnBpcGUoZmlsdGVyKGEgPT4gYmlnRGVjaW1hbF8uaXNOZWdhdGl2ZShhKSwge1xuICB0eXBlSWQ6IHtcbiAgICBpZDogTmVnYXRpdmVCaWdEZWNpbWFsVHlwZUlkLFxuICAgIGFubm90YXRpb246IHt9XG4gIH0sXG4gIGRlc2NyaXB0aW9uOiBgYSBuZWdhdGl2ZSBCaWdEZWNpbWFsYCxcbiAgLi4uYW5ub3RhdGlvbnNcbn0pKTtcbi8qKlxuICogQGNhdGVnb3J5IEJpZ0RlY2ltYWwgY29uc3RydWN0b3JzXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjb25zdCBOZWdhdGl2ZUJpZ0RlY2ltYWxGcm9tU2VsZiA9IC8qI19fUFVSRV9fKi9CaWdEZWNpbWFsRnJvbVNlbGYucGlwZSggLyojX19QVVJFX18qL25lZ2F0aXZlQmlnRGVjaW1hbCh7XG4gIGlkZW50aWZpZXI6IFwiTmVnYXRpdmVCaWdEZWNpbWFsRnJvbVNlbGZcIixcbiAgdGl0bGU6IFwiTmVnYXRpdmVCaWdEZWNpbWFsRnJvbVNlbGZcIlxufSkpO1xuLyoqXG4gKiBAY2F0ZWdvcnkgdHlwZSBpZFxuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY29uc3QgTm9uUG9zaXRpdmVCaWdEZWNpbWFsVHlwZUlkID0gLyojX19QVVJFX18qL1N5bWJvbC5mb3IoXCJAZWZmZWN0L3NjaGVtYS9UeXBlSWQvTm9uUG9zaXRpdmVCaWdEZWNpbWFsXCIpO1xuLyoqXG4gKiBAY2F0ZWdvcnkgQmlnRGVjaW1hbCBmaWx0ZXJzXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjb25zdCBub25Qb3NpdGl2ZUJpZ0RlY2ltYWwgPSBhbm5vdGF0aW9ucyA9PiBzZWxmID0+IHNlbGYucGlwZShmaWx0ZXIoYSA9PiBhLnZhbHVlIDw9IDBuLCB7XG4gIHR5cGVJZDoge1xuICAgIGlkOiBOb25Qb3NpdGl2ZUJpZ0RlY2ltYWxUeXBlSWQsXG4gICAgYW5ub3RhdGlvbjoge31cbiAgfSxcbiAgZGVzY3JpcHRpb246IGBhIG5vbi1wb3NpdGl2ZSBCaWdEZWNpbWFsYCxcbiAgLi4uYW5ub3RhdGlvbnNcbn0pKTtcbi8qKlxuICogQGNhdGVnb3J5IEJpZ0RlY2ltYWwgY29uc3RydWN0b3JzXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjb25zdCBOb25Qb3NpdGl2ZUJpZ0RlY2ltYWxGcm9tU2VsZiA9IC8qI19fUFVSRV9fKi9CaWdEZWNpbWFsRnJvbVNlbGYucGlwZSggLyojX19QVVJFX18qL25vblBvc2l0aXZlQmlnRGVjaW1hbCh7XG4gIGlkZW50aWZpZXI6IFwiTm9uUG9zaXRpdmVCaWdEZWNpbWFsRnJvbVNlbGZcIixcbiAgdGl0bGU6IFwiTm9uUG9zaXRpdmVCaWdEZWNpbWFsRnJvbVNlbGZcIlxufSkpO1xuLyoqXG4gKiBAY2F0ZWdvcnkgdHlwZSBpZFxuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY29uc3QgQmV0d2VlbkJpZ0RlY2ltYWxUeXBlSWQgPSAvKiNfX1BVUkVfXyovU3ltYm9sLmZvcihcIkBlZmZlY3Qvc2NoZW1hL1R5cGVJZC9CZXR3ZWVuQmlnRGVjaW1hbFwiKTtcbi8qKlxuICogQGNhdGVnb3J5IEJpZ0RlY2ltYWwgZmlsdGVyc1xuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY29uc3QgYmV0d2VlbkJpZ0RlY2ltYWwgPSAobWluaW11bSwgbWF4aW11bSwgYW5ub3RhdGlvbnMpID0+IHNlbGYgPT4gc2VsZi5waXBlKGZpbHRlcihhID0+IGJpZ0RlY2ltYWxfLmJldHdlZW4oYSwge1xuICBtaW5pbXVtLFxuICBtYXhpbXVtXG59KSwge1xuICB0eXBlSWQ6IHtcbiAgICBpZDogQmV0d2VlbkJpZ0RlY2ltYWxUeXBlSWQsXG4gICAgYW5ub3RhdGlvbjoge1xuICAgICAgbWF4aW11bSxcbiAgICAgIG1pbmltdW1cbiAgICB9XG4gIH0sXG4gIGRlc2NyaXB0aW9uOiBgYSBCaWdEZWNpbWFsIGJldHdlZW4gJHtiaWdEZWNpbWFsXy5mb3JtYXQobWluaW11bSl9IGFuZCAke2JpZ0RlY2ltYWxfLmZvcm1hdChtYXhpbXVtKX1gLFxuICAuLi5hbm5vdGF0aW9uc1xufSkpO1xuLyoqXG4gKiBDbGFtcHMgYSBgQmlnRGVjaW1hbGAgYmV0d2VlbiBhIG1pbmltdW0gYW5kIGEgbWF4aW11bSB2YWx1ZS5cbiAqXG4gKiBAY2F0ZWdvcnkgQmlnRGVjaW1hbCB0cmFuc2Zvcm1hdGlvbnNcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNvbnN0IGNsYW1wQmlnRGVjaW1hbCA9IChtaW5pbXVtLCBtYXhpbXVtKSA9PiBzZWxmID0+IHRyYW5zZm9ybShzZWxmLCBzZWxmLnBpcGUodHlwZVNjaGVtYSwgYmV0d2VlbkJpZ0RlY2ltYWwobWluaW11bSwgbWF4aW11bSkpLCB7XG4gIHN0cmljdDogZmFsc2UsXG4gIGRlY29kZTogc2VsZiA9PiBiaWdEZWNpbWFsXy5jbGFtcChzZWxmLCB7XG4gICAgbWluaW11bSxcbiAgICBtYXhpbXVtXG4gIH0pLFxuICBlbmNvZGU6IGlkZW50aXR5XG59KTtcbmNvbnN0IGNodW5rQXJiaXRyYXJ5ID0gaXRlbSA9PiBmYyA9PiBmYy5hcnJheShpdGVtKGZjKSkubWFwKGNodW5rXy5mcm9tSXRlcmFibGUpO1xuY29uc3QgY2h1bmtQcmV0dHkgPSBpdGVtID0+IGMgPT4gYENodW5rKCR7Y2h1bmtfLnRvUmVhZG9ubHlBcnJheShjKS5tYXAoaXRlbSkuam9pbihcIiwgXCIpfSlgO1xuY29uc3QgY2h1bmtQYXJzZSA9IGRlY29kZVVua25vd24gPT4gKHUsIG9wdGlvbnMsIGFzdCkgPT4gY2h1bmtfLmlzQ2h1bmsodSkgPyBjaHVua18uaXNFbXB0eSh1KSA/IFBhcnNlUmVzdWx0LnN1Y2NlZWQoY2h1bmtfLmVtcHR5KCkpIDogdG9Db21wb3NpdGUoZGVjb2RlVW5rbm93bihjaHVua18udG9SZWFkb25seUFycmF5KHUpLCBvcHRpb25zKSwgY2h1bmtfLmZyb21JdGVyYWJsZSwgYXN0LCB1KSA6IFBhcnNlUmVzdWx0LmZhaWwobmV3IFBhcnNlUmVzdWx0LlR5cGUoYXN0LCB1KSk7XG4vKipcbiAqIEBjYXRlZ29yeSBDaHVua1xuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY29uc3QgQ2h1bmtGcm9tU2VsZiA9IHZhbHVlID0+IHtcbiAgcmV0dXJuIGRlY2xhcmUoW3ZhbHVlXSwge1xuICAgIGRlY29kZTogaXRlbSA9PiBjaHVua1BhcnNlKFBhcnNlUmVzdWx0LmRlY29kZVVua25vd24oQXJyYXkkKGl0ZW0pKSksXG4gICAgZW5jb2RlOiBpdGVtID0+IGNodW5rUGFyc2UoUGFyc2VSZXN1bHQuZW5jb2RlVW5rbm93bihBcnJheSQoaXRlbSkpKVxuICB9LCB7XG4gICAgZGVzY3JpcHRpb246IGBDaHVuazwke2Zvcm1hdCh2YWx1ZSl9PmAsXG4gICAgcHJldHR5OiBjaHVua1ByZXR0eSxcbiAgICBhcmJpdHJhcnk6IGNodW5rQXJiaXRyYXJ5LFxuICAgIGVxdWl2YWxlbmNlOiBjaHVua18uZ2V0RXF1aXZhbGVuY2VcbiAgfSk7XG59O1xuLyoqXG4gKiBAY2F0ZWdvcnkgQ2h1bmsgdHJhbnNmb3JtYXRpb25zXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjb25zdCBDaHVuayA9IHZhbHVlID0+IHtcbiAgY29uc3QgdmFsdWVfID0gYXNTY2hlbWEodmFsdWUpO1xuICByZXR1cm4gdHJhbnNmb3JtKEFycmF5JCh2YWx1ZV8pLCBDaHVua0Zyb21TZWxmKHR5cGVTY2hlbWEodmFsdWVfKSksIHtcbiAgICBzdHJpY3Q6IHRydWUsXG4gICAgZGVjb2RlOiBhcyA9PiBhcy5sZW5ndGggPT09IDAgPyBjaHVua18uZW1wdHkoKSA6IGNodW5rXy5mcm9tSXRlcmFibGUoYXMpLFxuICAgIGVuY29kZTogY2h1bmtfLnRvUmVhZG9ubHlBcnJheVxuICB9KTtcbn07XG5jb25zdCBub25FbXB0eUNodW5rQXJiaXRyYXJ5ID0gaXRlbSA9PiBmYyA9PiBmYXN0Q2hlY2tfLmFycmF5KGl0ZW0oZmMpLCB7XG4gIG1pbkxlbmd0aDogMVxufSkubWFwKGFzID0+IGNodW5rXy51bnNhZmVGcm9tTm9uRW1wdHlBcnJheShhcykpO1xuY29uc3Qgbm9uRW1wdHlDaHVua1ByZXR0eSA9IGl0ZW0gPT4gYyA9PiBgTm9uRW1wdHlDaHVuaygke2NodW5rXy50b1JlYWRvbmx5QXJyYXkoYykubWFwKGl0ZW0pLmpvaW4oXCIsIFwiKX0pYDtcbmNvbnN0IG5vbkVtcHR5Q2h1bmtQYXJzZSA9IGRlY29kZVVua25vd24gPT4gKHUsIG9wdGlvbnMsIGFzdCkgPT4gY2h1bmtfLmlzQ2h1bmsodSkgJiYgY2h1bmtfLmlzTm9uRW1wdHkodSkgPyB0b0NvbXBvc2l0ZShkZWNvZGVVbmtub3duKGNodW5rXy50b1JlYWRvbmx5QXJyYXkodSksIG9wdGlvbnMpLCBjaHVua18udW5zYWZlRnJvbU5vbkVtcHR5QXJyYXksIGFzdCwgdSkgOiBQYXJzZVJlc3VsdC5mYWlsKG5ldyBQYXJzZVJlc3VsdC5UeXBlKGFzdCwgdSkpO1xuLyoqXG4gKiBAY2F0ZWdvcnkgQ2h1bmtcbiAqIEBzaW5jZSAwLjY3LjIzXG4gKi9cbmV4cG9ydCBjb25zdCBOb25FbXB0eUNodW5rRnJvbVNlbGYgPSB2YWx1ZSA9PiB7XG4gIHJldHVybiBkZWNsYXJlKFt2YWx1ZV0sIHtcbiAgICBkZWNvZGU6IGl0ZW0gPT4gbm9uRW1wdHlDaHVua1BhcnNlKFBhcnNlUmVzdWx0LmRlY29kZVVua25vd24oTm9uRW1wdHlBcnJheShpdGVtKSkpLFxuICAgIGVuY29kZTogaXRlbSA9PiBub25FbXB0eUNodW5rUGFyc2UoUGFyc2VSZXN1bHQuZW5jb2RlVW5rbm93bihOb25FbXB0eUFycmF5KGl0ZW0pKSlcbiAgfSwge1xuICAgIGRlc2NyaXB0aW9uOiBgTm9uRW1wdHlDaHVuazwke2Zvcm1hdCh2YWx1ZSl9PmAsXG4gICAgcHJldHR5OiBub25FbXB0eUNodW5rUHJldHR5LFxuICAgIGFyYml0cmFyeTogbm9uRW1wdHlDaHVua0FyYml0cmFyeSxcbiAgICBlcXVpdmFsZW5jZTogY2h1bmtfLmdldEVxdWl2YWxlbmNlXG4gIH0pO1xufTtcbi8qKlxuICogQGNhdGVnb3J5IENodW5rIHRyYW5zZm9ybWF0aW9uc1xuICogQHNpbmNlIDAuNjcuMjNcbiAqL1xuZXhwb3J0IGNvbnN0IE5vbkVtcHR5Q2h1bmsgPSB2YWx1ZSA9PiB7XG4gIGNvbnN0IHZhbHVlXyA9IGFzU2NoZW1hKHZhbHVlKTtcbiAgcmV0dXJuIHRyYW5zZm9ybShOb25FbXB0eUFycmF5KHZhbHVlXyksIE5vbkVtcHR5Q2h1bmtGcm9tU2VsZih0eXBlU2NoZW1hKHZhbHVlXykpLCB7XG4gICAgc3RyaWN0OiB0cnVlLFxuICAgIGRlY29kZTogY2h1bmtfLnVuc2FmZUZyb21Ob25FbXB0eUFycmF5LFxuICAgIGVuY29kZTogY2h1bmtfLnRvUmVhZG9ubHlBcnJheVxuICB9KTtcbn07XG5jb25zdCB0b0RhdGEgPSBhID0+IEFycmF5LmlzQXJyYXkoYSkgPyBkYXRhXy5hcnJheShhKSA6IGRhdGFfLnN0cnVjdChhKTtcbmNvbnN0IGRhdGFBcmJpdHJhcnkgPSBpdGVtID0+IGZjID0+IGl0ZW0oZmMpLm1hcCh0b0RhdGEpO1xuY29uc3QgZGF0YVByZXR0eSA9IGl0ZW0gPT4gZCA9PiBgRGF0YSgke2l0ZW0oZCl9KWA7XG5jb25zdCBkYXRhUGFyc2UgPSBkZWNvZGVVbmtub3duID0+ICh1LCBvcHRpb25zLCBhc3QpID0+IEVxdWFsLmlzRXF1YWwodSkgPyB0b0NvbXBvc2l0ZShkZWNvZGVVbmtub3duKHUsIG9wdGlvbnMpLCB0b0RhdGEsIGFzdCwgdSkgOiBQYXJzZVJlc3VsdC5mYWlsKG5ldyBQYXJzZVJlc3VsdC5UeXBlKGFzdCwgdSkpO1xuLyoqXG4gKiBAY2F0ZWdvcnkgRGF0YSB0cmFuc2Zvcm1hdGlvbnNcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNvbnN0IERhdGFGcm9tU2VsZiA9IGl0ZW0gPT4gZGVjbGFyZShbaXRlbV0sIHtcbiAgZGVjb2RlOiBpdGVtID0+IGRhdGFQYXJzZShQYXJzZVJlc3VsdC5kZWNvZGVVbmtub3duKGl0ZW0pKSxcbiAgZW5jb2RlOiBpdGVtID0+IGRhdGFQYXJzZShQYXJzZVJlc3VsdC5lbmNvZGVVbmtub3duKGl0ZW0pKVxufSwge1xuICBkZXNjcmlwdGlvbjogYERhdGE8JHtmb3JtYXQoaXRlbSl9PmAsXG4gIHByZXR0eTogZGF0YVByZXR0eSxcbiAgYXJiaXRyYXJ5OiBkYXRhQXJiaXRyYXJ5XG59KTtcbi8qKlxuICogQGNhdGVnb3J5IERhdGEgdHJhbnNmb3JtYXRpb25zXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjb25zdCBEYXRhID0gaXRlbSA9PiB0cmFuc2Zvcm0oaXRlbSwgRGF0YUZyb21TZWxmKHR5cGVTY2hlbWEoaXRlbSkpLCB7XG4gIHN0cmljdDogZmFsc2UsXG4gIGRlY29kZTogdG9EYXRhLFxuICBlbmNvZGU6IGEgPT4gQXJyYXkuaXNBcnJheShhKSA/IEFycmF5LmZyb20oYSkgOiBPYmplY3QuYXNzaWduKHt9LCBhKVxufSk7XG5jb25zdCBpc0ZpZWxkID0gdSA9PiBpc1NjaGVtYSh1KSB8fCBpc1Byb3BlcnR5U2lnbmF0dXJlKHUpO1xuY29uc3QgaXNGaWVsZHMgPSBmaWVsZHMgPT4gdXRpbF8ub3duS2V5cyhmaWVsZHMpLmV2ZXJ5KGtleSA9PiBpc0ZpZWxkKGZpZWxkc1trZXldKSk7XG5jb25zdCBnZXRGaWVsZHMgPSBoYXNGaWVsZHMgPT4gXCJmaWVsZHNcIiBpbiBoYXNGaWVsZHMgPyBoYXNGaWVsZHMuZmllbGRzIDogZ2V0RmllbGRzKGhhc0ZpZWxkc1tyZWZpbmVUeXBlSWRdKTtcbmNvbnN0IGdldFNjaGVtYUZyb21GaWVsZHNPciA9IGZpZWxkc09yID0+IGlzRmllbGRzKGZpZWxkc09yKSA/IFN0cnVjdChmaWVsZHNPcikgOiBpc1NjaGVtYShmaWVsZHNPcikgPyBmaWVsZHNPciA6IFN0cnVjdChnZXRGaWVsZHMoZmllbGRzT3IpKTtcbmNvbnN0IGdldEZpZWxkc0Zyb21GaWVsZHNPciA9IGZpZWxkc09yID0+IGlzRmllbGRzKGZpZWxkc09yKSA/IGZpZWxkc09yIDogZ2V0RmllbGRzKGZpZWxkc09yKTtcbi8qKlxuICogQGNhdGVnb3J5IGNsYXNzZXNcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNvbnN0IENsYXNzID0gaWRlbnRpZmllciA9PiAoZmllbGRzT3IsIGFubm90YXRpb25zKSA9PiBtYWtlQ2xhc3Moe1xuICBraW5kOiBcIkNsYXNzXCIsXG4gIGlkZW50aWZpZXIsXG4gIHNjaGVtYTogZ2V0U2NoZW1hRnJvbUZpZWxkc09yKGZpZWxkc09yKSxcbiAgZmllbGRzOiBnZXRGaWVsZHNGcm9tRmllbGRzT3IoZmllbGRzT3IpLFxuICBCYXNlOiBkYXRhXy5DbGFzcyxcbiAgYW5ub3RhdGlvbnNcbn0pO1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IGdldENsYXNzVGFnID0gdGFnID0+IHdpdGhDb25zdHJ1Y3RvckRlZmF1bHQocHJvcGVydHlTaWduYXR1cmUoTGl0ZXJhbCh0YWcpKSwgKCkgPT4gdGFnKTtcbi8qKlxuICogQGNhdGVnb3J5IGNsYXNzZXNcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNvbnN0IFRhZ2dlZENsYXNzID0gaWRlbnRpZmllciA9PiAodGFnLCBmaWVsZHNPciwgYW5ub3RhdGlvbnMpID0+IHtcbiAgY29uc3QgZmllbGRzID0gZ2V0RmllbGRzRnJvbUZpZWxkc09yKGZpZWxkc09yKTtcbiAgY29uc3Qgc2NoZW1hID0gZ2V0U2NoZW1hRnJvbUZpZWxkc09yKGZpZWxkc09yKTtcbiAgY29uc3QgbmV3RmllbGRzID0ge1xuICAgIF90YWc6IGdldENsYXNzVGFnKHRhZylcbiAgfTtcbiAgY29uc3QgdGFnZ2VkRmllbGRzID0gZXh0ZW5kRmllbGRzKG5ld0ZpZWxkcywgZmllbGRzKTtcbiAgcmV0dXJuIGNsYXNzIFRhZ2dlZENsYXNzIGV4dGVuZHMgbWFrZUNsYXNzKHtcbiAgICBraW5kOiBcIlRhZ2dlZENsYXNzXCIsXG4gICAgaWRlbnRpZmllcjogaWRlbnRpZmllciA/PyB0YWcsXG4gICAgc2NoZW1hOiBleHRlbmQoc2NoZW1hLCBTdHJ1Y3QobmV3RmllbGRzKSksXG4gICAgZmllbGRzOiB0YWdnZWRGaWVsZHMsXG4gICAgQmFzZTogZGF0YV8uQ2xhc3MsXG4gICAgYW5ub3RhdGlvbnNcbiAgfSkge1xuICAgIHN0YXRpYyBfdGFnID0gdGFnO1xuICB9O1xufTtcbi8qKlxuICogQGNhdGVnb3J5IGNsYXNzZXNcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNvbnN0IFRhZ2dlZEVycm9yID0gaWRlbnRpZmllciA9PiAodGFnLCBmaWVsZHNPciwgYW5ub3RhdGlvbnMpID0+IHtcbiAgY2xhc3MgQmFzZSBleHRlbmRzIGRhdGFfLkVycm9yIHt9XG4gIDtcbiAgQmFzZS5wcm90b3R5cGUubmFtZSA9IHRhZztcbiAgY29uc3QgZmllbGRzID0gZ2V0RmllbGRzRnJvbUZpZWxkc09yKGZpZWxkc09yKTtcbiAgY29uc3Qgc2NoZW1hID0gZ2V0U2NoZW1hRnJvbUZpZWxkc09yKGZpZWxkc09yKTtcbiAgY29uc3QgbmV3RmllbGRzID0ge1xuICAgIF90YWc6IGdldENsYXNzVGFnKHRhZylcbiAgfTtcbiAgY29uc3QgdGFnZ2VkRmllbGRzID0gZXh0ZW5kRmllbGRzKG5ld0ZpZWxkcywgZmllbGRzKTtcbiAgcmV0dXJuIGNsYXNzIFRhZ2dlZEVycm9yQ2xhc3MgZXh0ZW5kcyBtYWtlQ2xhc3Moe1xuICAgIGtpbmQ6IFwiVGFnZ2VkRXJyb3JcIixcbiAgICBpZGVudGlmaWVyOiBpZGVudGlmaWVyID8/IHRhZyxcbiAgICBzY2hlbWE6IGV4dGVuZChzY2hlbWEsIFN0cnVjdChuZXdGaWVsZHMpKSxcbiAgICBmaWVsZHM6IHRhZ2dlZEZpZWxkcyxcbiAgICBCYXNlLFxuICAgIGFubm90YXRpb25zLFxuICAgIHRvU3RyaW5nT3ZlcnJpZGUoc2VsZikge1xuICAgICAgaWYgKFByZWRpY2F0ZS5pc1N0cmluZyhzZWxmLm1lc3NhZ2UpICYmIHNlbGYubWVzc2FnZS5sZW5ndGggPiAwKSB7XG4gICAgICAgIGxldCBtZXNzYWdlID0gYCR7c2VsZi5fdGFnfTogJHtzZWxmLm1lc3NhZ2V9YDtcbiAgICAgICAgaWYgKFByZWRpY2F0ZS5pc1N0cmluZyhzZWxmLnN0YWNrKSkge1xuICAgICAgICAgIG1lc3NhZ2UgPSBgJHttZXNzYWdlfVxcbiR7c2VsZi5zdGFjay5zcGxpdChcIlxcblwiKS5zbGljZSgxKS5qb2luKFwiXFxuXCIpfWA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgICB9XG4gICAgfVxuICB9KSB7XG4gICAgc3RhdGljIF90YWcgPSB0YWc7XG4gIH07XG59O1xuLyoqXG4gKiBAY2F0ZWdvcnkgY2xhc3Nlc1xuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY29uc3QgVGFnZ2VkUmVxdWVzdCA9IGlkZW50aWZpZXIgPT4gKHRhZywgRmFpbHVyZSwgU3VjY2VzcywgZmllbGRzLCBhbm5vdGF0aW9ucykgPT4ge1xuICBjb25zdCB0YWdnZWRGaWVsZHMgPSBleHRlbmRGaWVsZHMoe1xuICAgIF90YWc6IGdldENsYXNzVGFnKHRhZylcbiAgfSwgZmllbGRzKTtcbiAgcmV0dXJuIGNsYXNzIFRhZ2dlZFJlcXVlc3RDbGFzcyBleHRlbmRzIG1ha2VDbGFzcyh7XG4gICAga2luZDogXCJUYWdnZWRSZXF1ZXN0XCIsXG4gICAgaWRlbnRpZmllcjogaWRlbnRpZmllciA/PyB0YWcsXG4gICAgc2NoZW1hOiBTdHJ1Y3QodGFnZ2VkRmllbGRzKSxcbiAgICBmaWVsZHM6IHRhZ2dlZEZpZWxkcyxcbiAgICBCYXNlOiBSZXF1ZXN0LkNsYXNzLFxuICAgIGFubm90YXRpb25zXG4gIH0pIHtcbiAgICBzdGF0aWMgX3RhZyA9IHRhZztcbiAgICBnZXQgW3NlcmlhbGl6YWJsZV8uc3ltYm9sXSgpIHtcbiAgICAgIHJldHVybiB0aGlzLmNvbnN0cnVjdG9yO1xuICAgIH1cbiAgICBnZXQgW3NlcmlhbGl6YWJsZV8uc3ltYm9sUmVzdWx0XSgpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIEZhaWx1cmUsXG4gICAgICAgIFN1Y2Nlc3NcbiAgICAgIH07XG4gICAgfVxuICB9O1xufTtcbmNvbnN0IGV4dGVuZEZpZWxkcyA9IChhLCBiKSA9PiB7XG4gIGNvbnN0IG91dCA9IHtcbiAgICAuLi5hXG4gIH07XG4gIGZvciAoY29uc3Qga2V5IG9mIHV0aWxfLm93bktleXMoYikpIHtcbiAgICBpZiAoa2V5IGluIGEpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvcnNfLmdldEFTVER1cGxpY2F0ZVByb3BlcnR5U2lnbmF0dXJlRXJyb3JNZXNzYWdlKGtleSkpO1xuICAgIH1cbiAgICBvdXRba2V5XSA9IGJba2V5XTtcbiAgfVxuICByZXR1cm4gb3V0O1xufTtcbi8vIGRvZXMgbm90IG92ZXJ3cml0ZSBleGlzdGluZyB0aXRsZSBhbm5vdGF0aW9uXG5jb25zdCBvckVsc2VUaXRsZUFubm90YXRpb24gPSAoc2NoZW1hLCB0aXRsZSkgPT4ge1xuICBjb25zdCBhbm5vdGF0aW9uID0gQVNULmdldFRpdGxlQW5ub3RhdGlvbihzY2hlbWEuYXN0KTtcbiAgaWYgKG9wdGlvbl8uaXNOb25lKGFubm90YXRpb24pKSB7XG4gICAgcmV0dXJuIHNjaGVtYS5hbm5vdGF0aW9ucyh7XG4gICAgICB0aXRsZVxuICAgIH0pO1xuICB9XG4gIHJldHVybiBzY2hlbWE7XG59O1xuY29uc3QgZ2V0RGlzYWJsZVZhbGlkYXRpb25NYWtlT3B0aW9uID0gb3B0aW9ucyA9PiBQcmVkaWNhdGUuaXNCb29sZWFuKG9wdGlvbnMpID8gb3B0aW9ucyA6IG9wdGlvbnM/LmRpc2FibGVWYWxpZGF0aW9uID8/IGZhbHNlO1xuY29uc3QgbWFrZUNsYXNzID0gKHtcbiAgQmFzZSxcbiAgYW5ub3RhdGlvbnMsXG4gIGZpZWxkcyxcbiAgaWRlbnRpZmllcixcbiAga2luZCxcbiAgc2NoZW1hLFxuICB0b1N0cmluZ092ZXJyaWRlXG59KSA9PiB7XG4gIGNvbnN0IGNsYXNzU3ltYm9sID0gU3ltYm9sLmZvcihgQGVmZmVjdC9zY2hlbWEvJHtraW5kfS8ke2lkZW50aWZpZXJ9YCk7XG4gIGNvbnN0IHZhbGlkYXRlU2NoZW1hID0gb3JFbHNlVGl0bGVBbm5vdGF0aW9uKHNjaGVtYSwgYCR7aWRlbnRpZmllcn0gKENvbnN0cnVjdG9yKWApO1xuICBjb25zdCBlbmNvZGVkU2lkZSA9IG9yRWxzZVRpdGxlQW5ub3RhdGlvbihzY2hlbWEsIGAke2lkZW50aWZpZXJ9IChFbmNvZGVkIHNpZGUpYCk7XG4gIGNvbnN0IHR5cGVTaWRlID0gb3JFbHNlVGl0bGVBbm5vdGF0aW9uKHR5cGVTY2hlbWEoc2NoZW1hKSwgYCR7aWRlbnRpZmllcn0gKFR5cGUgc2lkZSlgKTtcbiAgY29uc3QgZmFsbGJhY2tJbnN0YW5jZU9mID0gdSA9PiBQcmVkaWNhdGUuaGFzUHJvcGVydHkodSwgY2xhc3NTeW1ib2wpICYmIFBhcnNlUmVzdWx0LmlzKHR5cGVTaWRlKSh1KTtcbiAgcmV0dXJuIGNsYXNzIGV4dGVuZHMgQmFzZSB7XG4gICAgY29uc3RydWN0b3IocHJvcHMgPSB7fSwgb3B0aW9ucyA9IGZhbHNlKSB7XG4gICAgICBwcm9wcyA9IHtcbiAgICAgICAgLi4ucHJvcHNcbiAgICAgIH07XG4gICAgICBpZiAoa2luZCAhPT0gXCJDbGFzc1wiKSB7XG4gICAgICAgIGRlbGV0ZSBwcm9wc1tcIl90YWdcIl07XG4gICAgICB9XG4gICAgICBwcm9wcyA9IGxhemlseU1lcmdlRGVmYXVsdHMoZmllbGRzLCBwcm9wcyk7XG4gICAgICBpZiAoIWdldERpc2FibGVWYWxpZGF0aW9uTWFrZU9wdGlvbihvcHRpb25zKSkge1xuICAgICAgICBwcm9wcyA9IFBhcnNlUmVzdWx0LnZhbGlkYXRlU3luYyh2YWxpZGF0ZVNjaGVtYSkocHJvcHMpO1xuICAgICAgfVxuICAgICAgc3VwZXIocHJvcHMsIHRydWUpO1xuICAgIH1cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tXG4gICAgLy8gU2NoZW1hIGludGVyZmFjZVxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS1cbiAgICBzdGF0aWMgW1R5cGVJZF0gPSB2YXJpYW5jZTtcbiAgICBzdGF0aWMgZ2V0IGFzdCgpIHtcbiAgICAgIGNvbnN0IGRlY2xhcmF0aW9uID0gZGVjbGFyZShbdHlwZVNpZGVdLCB7XG4gICAgICAgIGRlY29kZTogKCkgPT4gKGlucHV0LCBfLCBhc3QpID0+IGlucHV0IGluc3RhbmNlb2YgdGhpcyB8fCBmYWxsYmFja0luc3RhbmNlT2YoaW5wdXQpID8gUGFyc2VSZXN1bHQuc3VjY2VlZChpbnB1dCkgOiBQYXJzZVJlc3VsdC5mYWlsKG5ldyBQYXJzZVJlc3VsdC5UeXBlKGFzdCwgaW5wdXQpKSxcbiAgICAgICAgZW5jb2RlOiAoKSA9PiAoaW5wdXQsIG9wdGlvbnMpID0+IGlucHV0IGluc3RhbmNlb2YgdGhpcyA/IFBhcnNlUmVzdWx0LnN1Y2NlZWQoaW5wdXQpIDogUGFyc2VSZXN1bHQubWFwKFBhcnNlUmVzdWx0LmVuY29kZVVua25vd24odHlwZVNpZGUpKGlucHV0LCBvcHRpb25zKSwgcHJvcHMgPT4gbmV3IHRoaXMocHJvcHMsIHRydWUpKVxuICAgICAgfSwge1xuICAgICAgICBpZGVudGlmaWVyLFxuICAgICAgICB0aXRsZTogaWRlbnRpZmllcixcbiAgICAgICAgZGVzY3JpcHRpb246IGBhbiBpbnN0YW5jZSBvZiAke2lkZW50aWZpZXJ9YCxcbiAgICAgICAgcHJldHR5OiBwcmV0dHkgPT4gc2VsZiA9PiBgJHtpZGVudGlmaWVyfSgke3ByZXR0eShzZWxmKX0pYCxcbiAgICAgICAgYXJiaXRyYXJ5OiBhcmIgPT4gZmMgPT4gYXJiKGZjKS5tYXAocHJvcHMgPT4gbmV3IHRoaXMocHJvcHMpKSxcbiAgICAgICAgZXF1aXZhbGVuY2U6IGlkZW50aXR5LFxuICAgICAgICBbQVNULlN1cnJvZ2F0ZUFubm90YXRpb25JZF06IHR5cGVTaWRlLmFzdCxcbiAgICAgICAgLi4uYW5ub3RhdGlvbnNcbiAgICAgIH0pO1xuICAgICAgY29uc3QgdHJhbnNmb3JtYXRpb24gPSB0cmFuc2Zvcm0oZW5jb2RlZFNpZGUsIGRlY2xhcmF0aW9uLCB7XG4gICAgICAgIHN0cmljdDogdHJ1ZSxcbiAgICAgICAgZGVjb2RlOiBpbnB1dCA9PiBuZXcgdGhpcyhpbnB1dCwgdHJ1ZSksXG4gICAgICAgIGVuY29kZTogaWRlbnRpdHlcbiAgICAgIH0pLmFubm90YXRpb25zKHtcbiAgICAgICAgW0FTVC5TdXJyb2dhdGVBbm5vdGF0aW9uSWRdOiBzY2hlbWEuYXN0XG4gICAgICB9KTtcbiAgICAgIHJldHVybiB0cmFuc2Zvcm1hdGlvbi5hc3Q7XG4gICAgfVxuICAgIHN0YXRpYyBwaXBlKCkge1xuICAgICAgcmV0dXJuIHBpcGVBcmd1bWVudHModGhpcywgYXJndW1lbnRzKTtcbiAgICB9XG4gICAgc3RhdGljIGFubm90YXRpb25zKGFubm90YXRpb25zKSB7XG4gICAgICByZXR1cm4gbWFrZSh0aGlzLmFzdCkuYW5ub3RhdGlvbnMoYW5ub3RhdGlvbnMpO1xuICAgIH1cbiAgICBzdGF0aWMgdG9TdHJpbmcoKSB7XG4gICAgICByZXR1cm4gYCgke1N0cmluZyhlbmNvZGVkU2lkZSl9IDwtPiAke2lkZW50aWZpZXJ9KWA7XG4gICAgfVxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS1cbiAgICAvLyBDbGFzcyBpbnRlcmZhY2VcbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tXG4gICAgc3RhdGljIG1ha2UoLi4uYXJncykge1xuICAgICAgcmV0dXJuIG5ldyB0aGlzKC4uLmFyZ3MpO1xuICAgIH1cbiAgICBzdGF0aWMgZmllbGRzID0ge1xuICAgICAgLi4uZmllbGRzXG4gICAgfTtcbiAgICBzdGF0aWMgaWRlbnRpZmllciA9IGlkZW50aWZpZXI7XG4gICAgc3RhdGljIGV4dGVuZChpZGVudGlmaWVyKSB7XG4gICAgICByZXR1cm4gKG5ld0ZpZWxkc09yLCBhbm5vdGF0aW9ucykgPT4ge1xuICAgICAgICBjb25zdCBuZXdGaWVsZHMgPSBnZXRGaWVsZHNGcm9tRmllbGRzT3IobmV3RmllbGRzT3IpO1xuICAgICAgICBjb25zdCBuZXdTY2hlbWEgPSBnZXRTY2hlbWFGcm9tRmllbGRzT3IobmV3RmllbGRzT3IpO1xuICAgICAgICBjb25zdCBleHRlbmRlZEZpZWxkcyA9IGV4dGVuZEZpZWxkcyhmaWVsZHMsIG5ld0ZpZWxkcyk7XG4gICAgICAgIHJldHVybiBtYWtlQ2xhc3Moe1xuICAgICAgICAgIGtpbmQsXG4gICAgICAgICAgaWRlbnRpZmllcixcbiAgICAgICAgICBzY2hlbWE6IGV4dGVuZChzY2hlbWEsIG5ld1NjaGVtYSksXG4gICAgICAgICAgZmllbGRzOiBleHRlbmRlZEZpZWxkcyxcbiAgICAgICAgICBCYXNlOiB0aGlzLFxuICAgICAgICAgIGFubm90YXRpb25zXG4gICAgICAgIH0pO1xuICAgICAgfTtcbiAgICB9XG4gICAgc3RhdGljIHRyYW5zZm9ybU9yRmFpbChpZGVudGlmaWVyKSB7XG4gICAgICByZXR1cm4gKG5ld0ZpZWxkcywgb3B0aW9ucywgYW5ub3RhdGlvbnMpID0+IHtcbiAgICAgICAgY29uc3QgdHJhbnNmb3JtZWRGaWVsZHMgPSBleHRlbmRGaWVsZHMoZmllbGRzLCBuZXdGaWVsZHMpO1xuICAgICAgICByZXR1cm4gbWFrZUNsYXNzKHtcbiAgICAgICAgICBraW5kLFxuICAgICAgICAgIGlkZW50aWZpZXIsXG4gICAgICAgICAgc2NoZW1hOiB0cmFuc2Zvcm1PckZhaWwoc2NoZW1hLCB0eXBlU2NoZW1hKFN0cnVjdCh0cmFuc2Zvcm1lZEZpZWxkcykpLCBvcHRpb25zKSxcbiAgICAgICAgICBmaWVsZHM6IHRyYW5zZm9ybWVkRmllbGRzLFxuICAgICAgICAgIEJhc2U6IHRoaXMsXG4gICAgICAgICAgYW5ub3RhdGlvbnNcbiAgICAgICAgfSk7XG4gICAgICB9O1xuICAgIH1cbiAgICBzdGF0aWMgdHJhbnNmb3JtT3JGYWlsRnJvbShpZGVudGlmaWVyKSB7XG4gICAgICByZXR1cm4gKG5ld0ZpZWxkcywgb3B0aW9ucywgYW5ub3RhdGlvbnMpID0+IHtcbiAgICAgICAgY29uc3QgdHJhbnNmb3JtZWRGaWVsZHMgPSBleHRlbmRGaWVsZHMoZmllbGRzLCBuZXdGaWVsZHMpO1xuICAgICAgICByZXR1cm4gbWFrZUNsYXNzKHtcbiAgICAgICAgICBraW5kLFxuICAgICAgICAgIGlkZW50aWZpZXIsXG4gICAgICAgICAgc2NoZW1hOiB0cmFuc2Zvcm1PckZhaWwoZW5jb2RlZFNjaGVtYShzY2hlbWEpLCBTdHJ1Y3QodHJhbnNmb3JtZWRGaWVsZHMpLCBvcHRpb25zKSxcbiAgICAgICAgICBmaWVsZHM6IHRyYW5zZm9ybWVkRmllbGRzLFxuICAgICAgICAgIEJhc2U6IHRoaXMsXG4gICAgICAgICAgYW5ub3RhdGlvbnNcbiAgICAgICAgfSk7XG4gICAgICB9O1xuICAgIH1cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tXG4gICAgLy8gb3RoZXJcbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tXG4gICAgZ2V0IFtjbGFzc1N5bWJvbF0oKSB7XG4gICAgICByZXR1cm4gY2xhc3NTeW1ib2w7XG4gICAgfVxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgaWYgKHRvU3RyaW5nT3ZlcnJpZGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb25zdCBvdXQgPSB0b1N0cmluZ092ZXJyaWRlKHRoaXMpO1xuICAgICAgICBpZiAob3V0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICByZXR1cm4gb3V0O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gYCR7aWRlbnRpZmllcn0oeyAke3V0aWxfLm93bktleXMoZmllbGRzKS5tYXAocCA9PiBgJHt1dGlsXy5mb3JtYXRQcm9wZXJ0eUtleShwKX06ICR7dXRpbF8uZm9ybWF0VW5rbm93bih0aGlzW3BdKX1gKS5qb2luKFwiLCBcIil9IH0pYDtcbiAgICB9XG4gIH07XG59O1xuY29uc3QgRmliZXJJZE5vbmVFbmNvZGVkID0gLyojX19QVVJFX18qL1N0cnVjdCh7XG4gIF90YWc6IExpdGVyYWwoXCJOb25lXCIpXG59KS5hbm5vdGF0aW9ucyh7XG4gIGlkZW50aWZpZXI6IFwiRmliZXJJZE5vbmVFbmNvZGVkXCJcbn0pO1xuY29uc3QgRmliZXJJZFJ1bnRpbWVFbmNvZGVkID0gLyojX19QVVJFX18qL1N0cnVjdCh7XG4gIF90YWc6IExpdGVyYWwoXCJSdW50aW1lXCIpLFxuICBpZDogSW50LmFubm90YXRpb25zKHtcbiAgICB0aXRsZTogXCJpZFwiLFxuICAgIGRlc2NyaXB0aW9uOiBcImlkXCJcbiAgfSksXG4gIHN0YXJ0VGltZU1pbGxpczogSW50LmFubm90YXRpb25zKHtcbiAgICB0aXRsZTogXCJzdGFydFRpbWVNaWxsaXNcIixcbiAgICBkZXNjcmlwdGlvbjogXCJzdGFydFRpbWVNaWxsaXNcIlxuICB9KVxufSkuYW5ub3RhdGlvbnMoe1xuICBpZGVudGlmaWVyOiBcIkZpYmVySWRSdW50aW1lRW5jb2RlZFwiXG59KTtcbmNvbnN0IEZpYmVySWRDb21wb3NpdGVFbmNvZGVkID0gLyojX19QVVJFX18qL1N0cnVjdCh7XG4gIF90YWc6IExpdGVyYWwoXCJDb21wb3NpdGVcIiksXG4gIGxlZnQ6IHN1c3BlbmQoKCkgPT4gRmliZXJJZEVuY29kZWQpLFxuICByaWdodDogc3VzcGVuZCgoKSA9PiBGaWJlcklkRW5jb2RlZClcbn0pLmFubm90YXRpb25zKHtcbiAgaWRlbnRpZmllcjogXCJGaWJlcklkQ29tcG9zaXRlRW5jb2RlZFwiXG59KTtcbmNvbnN0IEZpYmVySWRFbmNvZGVkID0gLyojX19QVVJFX18qL1VuaW9uKEZpYmVySWROb25lRW5jb2RlZCwgRmliZXJJZFJ1bnRpbWVFbmNvZGVkLCBGaWJlcklkQ29tcG9zaXRlRW5jb2RlZCkuYW5ub3RhdGlvbnMoe1xuICBpZGVudGlmaWVyOiBcIkZpYmVySWRFbmNvZGVkXCJcbn0pO1xuY29uc3QgZmliZXJJZEFyYml0cmFyeSA9IGZjID0+IGZjLmxldHJlYyh0aWUgPT4gKHtcbiAgTm9uZTogZmMucmVjb3JkKHtcbiAgICBfdGFnOiBmYy5jb25zdGFudChcIk5vbmVcIilcbiAgfSksXG4gIFJ1bnRpbWU6IGZjLnJlY29yZCh7XG4gICAgX3RhZzogZmMuY29uc3RhbnQoXCJSdW50aW1lXCIpLFxuICAgIGlkOiBmYy5pbnRlZ2VyKCksXG4gICAgc3RhcnRUaW1lTWlsbGlzOiBmYy5pbnRlZ2VyKClcbiAgfSksXG4gIENvbXBvc2l0ZTogZmMucmVjb3JkKHtcbiAgICBfdGFnOiBmYy5jb25zdGFudChcIkNvbXBvc2l0ZVwiKSxcbiAgICBsZWZ0OiB0aWUoXCJGaWJlcklkXCIpLFxuICAgIHJpZ2h0OiB0aWUoXCJGaWJlcklkXCIpXG4gIH0pLFxuICBGaWJlcklkOiBmYy5vbmVvZih0aWUoXCJOb25lXCIpLCB0aWUoXCJSdW50aW1lXCIpLCB0aWUoXCJDb21wb3NpdGVcIikpXG59KSkuRmliZXJJZC5tYXAoZmliZXJJZERlY29kZSk7XG5jb25zdCBmaWJlcklkUHJldHR5ID0gZmliZXJJZCA9PiB7XG4gIHN3aXRjaCAoZmliZXJJZC5fdGFnKSB7XG4gICAgY2FzZSBcIk5vbmVcIjpcbiAgICAgIHJldHVybiBcIkZpYmVySWQubm9uZVwiO1xuICAgIGNhc2UgXCJSdW50aW1lXCI6XG4gICAgICByZXR1cm4gYEZpYmVySWQucnVudGltZSgke2ZpYmVySWQuaWR9LCAke2ZpYmVySWQuc3RhcnRUaW1lTWlsbGlzfSlgO1xuICAgIGNhc2UgXCJDb21wb3NpdGVcIjpcbiAgICAgIHJldHVybiBgRmliZXJJZC5jb21wb3NpdGUoJHtmaWJlcklkUHJldHR5KGZpYmVySWQucmlnaHQpfSwgJHtmaWJlcklkUHJldHR5KGZpYmVySWQubGVmdCl9KWA7XG4gIH1cbn07XG4vKipcbiAqIEBjYXRlZ29yeSBGaWJlcklkIGNvbnN0cnVjdG9yc1xuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY2xhc3MgRmliZXJJZEZyb21TZWxmIGV4dGVuZHMgZGVjbGFyZShmaWJlcklkXy5pc0ZpYmVySWQsIHtcbiAgaWRlbnRpZmllcjogXCJGaWJlcklkRnJvbVNlbGZcIixcbiAgcHJldHR5OiAoKSA9PiBmaWJlcklkUHJldHR5LFxuICBhcmJpdHJhcnk6ICgpID0+IGZpYmVySWRBcmJpdHJhcnlcbn0pIHtcbiAgc3RhdGljIGFubm90YXRpb25zID0gc3VwZXIuYW5ub3RhdGlvbnM7XG59XG5jb25zdCBmaWJlcklkRGVjb2RlID0gaW5wdXQgPT4ge1xuICBzd2l0Y2ggKGlucHV0Ll90YWcpIHtcbiAgICBjYXNlIFwiTm9uZVwiOlxuICAgICAgcmV0dXJuIGZpYmVySWRfLm5vbmU7XG4gICAgY2FzZSBcIlJ1bnRpbWVcIjpcbiAgICAgIHJldHVybiBmaWJlcklkXy5ydW50aW1lKGlucHV0LmlkLCBpbnB1dC5zdGFydFRpbWVNaWxsaXMpO1xuICAgIGNhc2UgXCJDb21wb3NpdGVcIjpcbiAgICAgIHJldHVybiBmaWJlcklkXy5jb21wb3NpdGUoZmliZXJJZERlY29kZShpbnB1dC5sZWZ0KSwgZmliZXJJZERlY29kZShpbnB1dC5yaWdodCkpO1xuICB9XG59O1xuY29uc3QgZmliZXJJZEVuY29kZSA9IGlucHV0ID0+IHtcbiAgc3dpdGNoIChpbnB1dC5fdGFnKSB7XG4gICAgY2FzZSBcIk5vbmVcIjpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIF90YWc6IFwiTm9uZVwiXG4gICAgICB9O1xuICAgIGNhc2UgXCJSdW50aW1lXCI6XG4gICAgICByZXR1cm4ge1xuICAgICAgICBfdGFnOiBcIlJ1bnRpbWVcIixcbiAgICAgICAgaWQ6IGlucHV0LmlkLFxuICAgICAgICBzdGFydFRpbWVNaWxsaXM6IGlucHV0LnN0YXJ0VGltZU1pbGxpc1xuICAgICAgfTtcbiAgICBjYXNlIFwiQ29tcG9zaXRlXCI6XG4gICAgICByZXR1cm4ge1xuICAgICAgICBfdGFnOiBcIkNvbXBvc2l0ZVwiLFxuICAgICAgICBsZWZ0OiBmaWJlcklkRW5jb2RlKGlucHV0LmxlZnQpLFxuICAgICAgICByaWdodDogZmliZXJJZEVuY29kZShpbnB1dC5yaWdodClcbiAgICAgIH07XG4gIH1cbn07XG4vKipcbiAqIEBjYXRlZ29yeSBGaWJlcklkIHRyYW5zZm9ybWF0aW9uc1xuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY2xhc3MgRmliZXJJZCBleHRlbmRzIHRyYW5zZm9ybShGaWJlcklkRW5jb2RlZCwgRmliZXJJZEZyb21TZWxmLCB7XG4gIHN0cmljdDogdHJ1ZSxcbiAgZGVjb2RlOiBmaWJlcklkRGVjb2RlLFxuICBlbmNvZGU6IGZpYmVySWRFbmNvZGVcbn0pLmFubm90YXRpb25zKHtcbiAgaWRlbnRpZmllcjogXCJGaWJlcklkXCJcbn0pIHtcbiAgc3RhdGljIGFubm90YXRpb25zID0gc3VwZXIuYW5ub3RhdGlvbnM7XG59XG5jb25zdCBjYXVzZURpZUVuY29kZWQgPSBkZWZlY3QgPT4gU3RydWN0KHtcbiAgX3RhZzogTGl0ZXJhbChcIkRpZVwiKSxcbiAgZGVmZWN0XG59KTtcbmNvbnN0IENhdXNlRW1wdHlFbmNvZGVkID0gLyojX19QVVJFX18qL1N0cnVjdCh7XG4gIF90YWc6IC8qI19fUFVSRV9fKi9MaXRlcmFsKFwiRW1wdHlcIilcbn0pO1xuY29uc3QgY2F1c2VGYWlsRW5jb2RlZCA9IGVycm9yID0+IFN0cnVjdCh7XG4gIF90YWc6IExpdGVyYWwoXCJGYWlsXCIpLFxuICBlcnJvclxufSk7XG5jb25zdCBDYXVzZUludGVycnVwdEVuY29kZWQgPSAvKiNfX1BVUkVfXyovU3RydWN0KHtcbiAgX3RhZzogLyojX19QVVJFX18qL0xpdGVyYWwoXCJJbnRlcnJ1cHRcIiksXG4gIGZpYmVySWQ6IEZpYmVySWRFbmNvZGVkXG59KTtcbmNvbnN0IGNhdXNlUGFyYWxsZWxFbmNvZGVkID0gY2F1c2VFbmNvZGVkID0+IFN0cnVjdCh7XG4gIF90YWc6IExpdGVyYWwoXCJQYXJhbGxlbFwiKSxcbiAgbGVmdDogY2F1c2VFbmNvZGVkLFxuICByaWdodDogY2F1c2VFbmNvZGVkXG59KTtcbmNvbnN0IGNhdXNlU2VxdWVudGlhbEVuY29kZWQgPSBjYXVzZUVuY29kZWQgPT4gU3RydWN0KHtcbiAgX3RhZzogTGl0ZXJhbChcIlNlcXVlbnRpYWxcIiksXG4gIGxlZnQ6IGNhdXNlRW5jb2RlZCxcbiAgcmlnaHQ6IGNhdXNlRW5jb2RlZFxufSk7XG5jb25zdCBjYXVzZUVuY29kZWQgPSAoZXJyb3IsIGRlZmVjdCkgPT4ge1xuICBjb25zdCByZWN1ciA9IHN1c3BlbmQoKCkgPT4gb3V0KTtcbiAgY29uc3Qgb3V0ID0gVW5pb24oQ2F1c2VFbXB0eUVuY29kZWQsIGNhdXNlRmFpbEVuY29kZWQoZXJyb3IpLCBjYXVzZURpZUVuY29kZWQoZGVmZWN0KSwgQ2F1c2VJbnRlcnJ1cHRFbmNvZGVkLCBjYXVzZVNlcXVlbnRpYWxFbmNvZGVkKHJlY3VyKSwgY2F1c2VQYXJhbGxlbEVuY29kZWQocmVjdXIpKS5hbm5vdGF0aW9ucyh7XG4gICAgZGVzY3JpcHRpb246IGBDYXVzZUVuY29kZWQ8JHtmb3JtYXQoZXJyb3IpfT5gXG4gIH0pO1xuICByZXR1cm4gb3V0O1xufTtcbmNvbnN0IGNhdXNlQXJiaXRyYXJ5ID0gKGVycm9yLCBkZWZlY3QpID0+IGZjID0+IGZjLmxldHJlYyh0aWUgPT4gKHtcbiAgRW1wdHk6IGZjLnJlY29yZCh7XG4gICAgX3RhZzogZmMuY29uc3RhbnQoXCJFbXB0eVwiKVxuICB9KSxcbiAgRmFpbDogZmMucmVjb3JkKHtcbiAgICBfdGFnOiBmYy5jb25zdGFudChcIkZhaWxcIiksXG4gICAgZXJyb3I6IGVycm9yKGZjKVxuICB9KSxcbiAgRGllOiBmYy5yZWNvcmQoe1xuICAgIF90YWc6IGZjLmNvbnN0YW50KFwiRGllXCIpLFxuICAgIGRlZmVjdDogZGVmZWN0KGZjKVxuICB9KSxcbiAgSW50ZXJydXB0OiBmYy5yZWNvcmQoe1xuICAgIF90YWc6IGZjLmNvbnN0YW50KFwiSW50ZXJydXB0XCIpLFxuICAgIGZpYmVySWQ6IGZpYmVySWRBcmJpdHJhcnkoZmMpXG4gIH0pLFxuICBTZXF1ZW50aWFsOiBmYy5yZWNvcmQoe1xuICAgIF90YWc6IGZjLmNvbnN0YW50KFwiU2VxdWVudGlhbFwiKSxcbiAgICBsZWZ0OiB0aWUoXCJDYXVzZVwiKSxcbiAgICByaWdodDogdGllKFwiQ2F1c2VcIilcbiAgfSksXG4gIFBhcmFsbGVsOiBmYy5yZWNvcmQoe1xuICAgIF90YWc6IGZjLmNvbnN0YW50KFwiUGFyYWxsZWxcIiksXG4gICAgbGVmdDogdGllKFwiQ2F1c2VcIiksXG4gICAgcmlnaHQ6IHRpZShcIkNhdXNlXCIpXG4gIH0pLFxuICBDYXVzZTogZmMub25lb2YodGllKFwiRW1wdHlcIiksIHRpZShcIkZhaWxcIiksIHRpZShcIkRpZVwiKSwgdGllKFwiSW50ZXJydXB0XCIpLCB0aWUoXCJTZXF1ZW50aWFsXCIpLCB0aWUoXCJQYXJhbGxlbFwiKSlcbn0pKS5DYXVzZS5tYXAoY2F1c2VEZWNvZGUpO1xuY29uc3QgY2F1c2VQcmV0dHkgPSBlcnJvciA9PiBjYXVzZSA9PiB7XG4gIGNvbnN0IGYgPSBjYXVzZSA9PiB7XG4gICAgc3dpdGNoIChjYXVzZS5fdGFnKSB7XG4gICAgICBjYXNlIFwiRW1wdHlcIjpcbiAgICAgICAgcmV0dXJuIFwiQ2F1c2UuZW1wdHlcIjtcbiAgICAgIGNhc2UgXCJGYWlsXCI6XG4gICAgICAgIHJldHVybiBgQ2F1c2UuZmFpbCgke2Vycm9yKGNhdXNlLmVycm9yKX0pYDtcbiAgICAgIGNhc2UgXCJEaWVcIjpcbiAgICAgICAgcmV0dXJuIGBDYXVzZS5kaWUoJHtjYXVzZV8ucHJldHR5KGNhdXNlKX0pYDtcbiAgICAgIGNhc2UgXCJJbnRlcnJ1cHRcIjpcbiAgICAgICAgcmV0dXJuIGBDYXVzZS5pbnRlcnJ1cHQoJHtmaWJlcklkUHJldHR5KGNhdXNlLmZpYmVySWQpfSlgO1xuICAgICAgY2FzZSBcIlNlcXVlbnRpYWxcIjpcbiAgICAgICAgcmV0dXJuIGBDYXVzZS5zZXF1ZW50aWFsKCR7ZihjYXVzZS5sZWZ0KX0sICR7ZihjYXVzZS5yaWdodCl9KWA7XG4gICAgICBjYXNlIFwiUGFyYWxsZWxcIjpcbiAgICAgICAgcmV0dXJuIGBDYXVzZS5wYXJhbGxlbCgke2YoY2F1c2UubGVmdCl9LCAke2YoY2F1c2UucmlnaHQpfSlgO1xuICAgIH1cbiAgfTtcbiAgcmV0dXJuIGYoY2F1c2UpO1xufTtcbmNvbnN0IGNhdXNlUGFyc2UgPSBkZWNvZGVVbmtub3duID0+ICh1LCBvcHRpb25zLCBhc3QpID0+IGNhdXNlXy5pc0NhdXNlKHUpID8gdG9Db21wb3NpdGUoZGVjb2RlVW5rbm93bihjYXVzZUVuY29kZSh1KSwgb3B0aW9ucyksIGNhdXNlRGVjb2RlLCBhc3QsIHUpIDogUGFyc2VSZXN1bHQuZmFpbChuZXcgUGFyc2VSZXN1bHQuVHlwZShhc3QsIHUpKTtcbi8qKlxuICogQGNhdGVnb3J5IENhdXNlIHRyYW5zZm9ybWF0aW9uc1xuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY29uc3QgQ2F1c2VGcm9tU2VsZiA9ICh7XG4gIGRlZmVjdCA9IFVua25vd24sXG4gIGVycm9yXG59KSA9PiB7XG4gIHJldHVybiBkZWNsYXJlKFtlcnJvciwgZGVmZWN0XSwge1xuICAgIGRlY29kZTogKGVycm9yLCBkZWZlY3QpID0+IGNhdXNlUGFyc2UoUGFyc2VSZXN1bHQuZGVjb2RlVW5rbm93bihjYXVzZUVuY29kZWQoZXJyb3IsIGRlZmVjdCkpKSxcbiAgICBlbmNvZGU6IChlcnJvciwgZGVmZWN0KSA9PiBjYXVzZVBhcnNlKFBhcnNlUmVzdWx0LmVuY29kZVVua25vd24oY2F1c2VFbmNvZGVkKGVycm9yLCBkZWZlY3QpKSlcbiAgfSwge1xuICAgIGRlc2NyaXB0aW9uOiBgQ2F1c2U8JHtmb3JtYXQoZXJyb3IpfT5gLFxuICAgIHByZXR0eTogY2F1c2VQcmV0dHksXG4gICAgYXJiaXRyYXJ5OiBjYXVzZUFyYml0cmFyeVxuICB9KTtcbn07XG5mdW5jdGlvbiBjYXVzZURlY29kZShjYXVzZSkge1xuICBzd2l0Y2ggKGNhdXNlLl90YWcpIHtcbiAgICBjYXNlIFwiRW1wdHlcIjpcbiAgICAgIHJldHVybiBjYXVzZV8uZW1wdHk7XG4gICAgY2FzZSBcIkZhaWxcIjpcbiAgICAgIHJldHVybiBjYXVzZV8uZmFpbChjYXVzZS5lcnJvcik7XG4gICAgY2FzZSBcIkRpZVwiOlxuICAgICAgcmV0dXJuIGNhdXNlXy5kaWUoY2F1c2UuZGVmZWN0KTtcbiAgICBjYXNlIFwiSW50ZXJydXB0XCI6XG4gICAgICByZXR1cm4gY2F1c2VfLmludGVycnVwdChmaWJlcklkRGVjb2RlKGNhdXNlLmZpYmVySWQpKTtcbiAgICBjYXNlIFwiU2VxdWVudGlhbFwiOlxuICAgICAgcmV0dXJuIGNhdXNlXy5zZXF1ZW50aWFsKGNhdXNlRGVjb2RlKGNhdXNlLmxlZnQpLCBjYXVzZURlY29kZShjYXVzZS5yaWdodCkpO1xuICAgIGNhc2UgXCJQYXJhbGxlbFwiOlxuICAgICAgcmV0dXJuIGNhdXNlXy5wYXJhbGxlbChjYXVzZURlY29kZShjYXVzZS5sZWZ0KSwgY2F1c2VEZWNvZGUoY2F1c2UucmlnaHQpKTtcbiAgfVxufVxuZnVuY3Rpb24gY2F1c2VFbmNvZGUoY2F1c2UpIHtcbiAgc3dpdGNoIChjYXVzZS5fdGFnKSB7XG4gICAgY2FzZSBcIkVtcHR5XCI6XG4gICAgICByZXR1cm4ge1xuICAgICAgICBfdGFnOiBcIkVtcHR5XCJcbiAgICAgIH07XG4gICAgY2FzZSBcIkZhaWxcIjpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIF90YWc6IFwiRmFpbFwiLFxuICAgICAgICBlcnJvcjogY2F1c2UuZXJyb3JcbiAgICAgIH07XG4gICAgY2FzZSBcIkRpZVwiOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgX3RhZzogXCJEaWVcIixcbiAgICAgICAgZGVmZWN0OiBjYXVzZS5kZWZlY3RcbiAgICAgIH07XG4gICAgY2FzZSBcIkludGVycnVwdFwiOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgX3RhZzogXCJJbnRlcnJ1cHRcIixcbiAgICAgICAgZmliZXJJZDogY2F1c2UuZmliZXJJZFxuICAgICAgfTtcbiAgICBjYXNlIFwiU2VxdWVudGlhbFwiOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgX3RhZzogXCJTZXF1ZW50aWFsXCIsXG4gICAgICAgIGxlZnQ6IGNhdXNlRW5jb2RlKGNhdXNlLmxlZnQpLFxuICAgICAgICByaWdodDogY2F1c2VFbmNvZGUoY2F1c2UucmlnaHQpXG4gICAgICB9O1xuICAgIGNhc2UgXCJQYXJhbGxlbFwiOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgX3RhZzogXCJQYXJhbGxlbFwiLFxuICAgICAgICBsZWZ0OiBjYXVzZUVuY29kZShjYXVzZS5sZWZ0KSxcbiAgICAgICAgcmlnaHQ6IGNhdXNlRW5jb2RlKGNhdXNlLnJpZ2h0KVxuICAgICAgfTtcbiAgfVxufVxuLyoqXG4gKiBAY2F0ZWdvcnkgQ2F1c2UgdHJhbnNmb3JtYXRpb25zXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjb25zdCBDYXVzZURlZmVjdFVua25vd24gPSAvKiNfX1BVUkVfXyovdHJhbnNmb3JtKFVua25vd24sIFVua25vd24sIHtcbiAgc3RyaWN0OiB0cnVlLFxuICBkZWNvZGU6IHUgPT4ge1xuICAgIGlmIChQcmVkaWNhdGUuaXNPYmplY3QodSkgJiYgXCJtZXNzYWdlXCIgaW4gdSAmJiB0eXBlb2YgdS5tZXNzYWdlID09PSBcInN0cmluZ1wiKSB7XG4gICAgICBjb25zdCBlcnIgPSBuZXcgRXJyb3IodS5tZXNzYWdlLCB7XG4gICAgICAgIGNhdXNlOiB1XG4gICAgICB9KTtcbiAgICAgIGlmIChcIm5hbWVcIiBpbiB1ICYmIHR5cGVvZiB1Lm5hbWUgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgZXJyLm5hbWUgPSB1Lm5hbWU7XG4gICAgICB9XG4gICAgICBlcnIuc3RhY2sgPSBcInN0YWNrXCIgaW4gdSAmJiB0eXBlb2YgdS5zdGFjayA9PT0gXCJzdHJpbmdcIiA/IHUuc3RhY2sgOiBcIlwiO1xuICAgICAgcmV0dXJuIGVycjtcbiAgICB9XG4gICAgcmV0dXJuIFN0cmluZyh1KTtcbiAgfSxcbiAgZW5jb2RlOiBkZWZlY3QgPT4ge1xuICAgIGlmIChkZWZlY3QgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbmFtZTogZGVmZWN0Lm5hbWUsXG4gICAgICAgIG1lc3NhZ2U6IGRlZmVjdC5tZXNzYWdlXG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gU3RyaW5nKGRlZmVjdCk7XG4gIH1cbn0pO1xuLyoqXG4gKiBAY2F0ZWdvcnkgQ2F1c2UgdHJhbnNmb3JtYXRpb25zXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjb25zdCBDYXVzZSA9ICh7XG4gIGRlZmVjdCA9IENhdXNlRGVmZWN0VW5rbm93bixcbiAgZXJyb3Jcbn0pID0+IHtcbiAgY29uc3QgZXJyb3JfID0gYXNTY2hlbWEoZXJyb3IpO1xuICByZXR1cm4gdHJhbnNmb3JtKGNhdXNlRW5jb2RlZChlcnJvcl8sIGRlZmVjdCksIENhdXNlRnJvbVNlbGYoe1xuICAgIGVycm9yOiB0eXBlU2NoZW1hKGVycm9yXyksXG4gICAgZGVmZWN0OiB0eXBlU2NoZW1hKGRlZmVjdClcbiAgfSksIHtcbiAgICBzdHJpY3Q6IHRydWUsXG4gICAgZGVjb2RlOiBjYXVzZURlY29kZSxcbiAgICBlbmNvZGU6IGNhdXNlRW5jb2RlXG4gIH0pO1xufTtcbmNvbnN0IGV4aXRGYWlsdXJlRW5jb2RlZCA9IChlcnJvciwgZGVmZWN0KSA9PiBTdHJ1Y3Qoe1xuICBfdGFnOiBMaXRlcmFsKFwiRmFpbHVyZVwiKSxcbiAgY2F1c2U6IGNhdXNlRW5jb2RlZChlcnJvciwgZGVmZWN0KVxufSkuYW5ub3RhdGlvbnMoe1xuICBkZXNjcmlwdGlvbjogYEZhaWx1cmVFbmNvZGVkPCR7Zm9ybWF0KGVycm9yKX0+YFxufSk7XG5jb25zdCBleGl0U3VjY2Vzc0VuY29kZWQgPSB2YWx1ZSA9PiBTdHJ1Y3Qoe1xuICBfdGFnOiBMaXRlcmFsKFwiU3VjY2Vzc1wiKSxcbiAgdmFsdWVcbn0pLmFubm90YXRpb25zKHtcbiAgZGVzY3JpcHRpb246IGBTdWNjZXNzRW5jb2RlZDwke2Zvcm1hdCh2YWx1ZSl9PmBcbn0pO1xuY29uc3QgZXhpdEVuY29kZWQgPSAodmFsdWUsIGVycm9yLCBkZWZlY3QpID0+IFVuaW9uKGV4aXRGYWlsdXJlRW5jb2RlZChlcnJvciwgZGVmZWN0KSwgZXhpdFN1Y2Nlc3NFbmNvZGVkKHZhbHVlKSkuYW5ub3RhdGlvbnMoe1xuICBkZXNjcmlwdGlvbjogYEV4aXRFbmNvZGVkPCR7Zm9ybWF0KHZhbHVlKX0sICR7Zm9ybWF0KGVycm9yKX0+YFxufSk7XG5jb25zdCBleGl0RGVjb2RlID0gaW5wdXQgPT4ge1xuICBzd2l0Y2ggKGlucHV0Ll90YWcpIHtcbiAgICBjYXNlIFwiRmFpbHVyZVwiOlxuICAgICAgcmV0dXJuIGV4aXRfLmZhaWxDYXVzZShjYXVzZURlY29kZShpbnB1dC5jYXVzZSkpO1xuICAgIGNhc2UgXCJTdWNjZXNzXCI6XG4gICAgICByZXR1cm4gZXhpdF8uc3VjY2VlZChpbnB1dC52YWx1ZSk7XG4gIH1cbn07XG5jb25zdCBleGl0QXJiaXRyYXJ5ID0gKHZhbHVlLCBlcnJvciwgZGVmZWN0KSA9PiBmYyA9PiBmYy5vbmVvZihmYy5yZWNvcmQoe1xuICBfdGFnOiBmYy5jb25zdGFudChcIkZhaWx1cmVcIiksXG4gIGNhdXNlOiBjYXVzZUFyYml0cmFyeShlcnJvciwgZGVmZWN0KShmYylcbn0pLCBmYy5yZWNvcmQoe1xuICBfdGFnOiBmYy5jb25zdGFudChcIlN1Y2Nlc3NcIiksXG4gIHZhbHVlOiB2YWx1ZShmYylcbn0pKS5tYXAoZXhpdERlY29kZSk7XG5jb25zdCBleGl0UHJldHR5ID0gKHZhbHVlLCBlcnJvcikgPT4gZXhpdCA9PiBleGl0Ll90YWcgPT09IFwiRmFpbHVyZVwiID8gYEV4aXQuZmFpbENhdXNlKCR7Y2F1c2VQcmV0dHkoZXJyb3IpKGV4aXQuY2F1c2UpfSlgIDogYEV4aXQuc3VjY2VlZCgke3ZhbHVlKGV4aXQudmFsdWUpfSlgO1xuY29uc3QgZXhpdFBhcnNlID0gKGRlY29kZVVua25vd25WYWx1ZSwgZGVjb2RlVW5rbm93bkNhdXNlKSA9PiAodSwgb3B0aW9ucywgYXN0KSA9PiBleGl0Xy5pc0V4aXQodSkgPyBleGl0Xy5tYXRjaCh1LCB7XG4gIG9uRmFpbHVyZTogY2F1c2UgPT4gdG9Db21wb3NpdGUoZGVjb2RlVW5rbm93bkNhdXNlKGNhdXNlLCBvcHRpb25zKSwgZXhpdF8uZmFpbENhdXNlLCBhc3QsIHUpLFxuICBvblN1Y2Nlc3M6IHZhbHVlID0+IHRvQ29tcG9zaXRlKGRlY29kZVVua25vd25WYWx1ZSh2YWx1ZSwgb3B0aW9ucyksIGV4aXRfLnN1Y2NlZWQsIGFzdCwgdSlcbn0pIDogUGFyc2VSZXN1bHQuZmFpbChuZXcgUGFyc2VSZXN1bHQuVHlwZShhc3QsIHUpKTtcbi8qKlxuICogQGNhdGVnb3J5IEV4aXQgdHJhbnNmb3JtYXRpb25zXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjb25zdCBFeGl0RnJvbVNlbGYgPSAoe1xuICBkZWZlY3QgPSBVbmtub3duLFxuICBmYWlsdXJlLFxuICBzdWNjZXNzXG59KSA9PiBkZWNsYXJlKFtzdWNjZXNzLCBmYWlsdXJlLCBkZWZlY3RdLCB7XG4gIGRlY29kZTogKHN1Y2Nlc3MsIGZhaWx1cmUsIGRlZmVjdCkgPT4gZXhpdFBhcnNlKFBhcnNlUmVzdWx0LmRlY29kZVVua25vd24oc3VjY2VzcyksIFBhcnNlUmVzdWx0LmRlY29kZVVua25vd24oQ2F1c2VGcm9tU2VsZih7XG4gICAgZXJyb3I6IGZhaWx1cmUsXG4gICAgZGVmZWN0XG4gIH0pKSksXG4gIGVuY29kZTogKHN1Y2Nlc3MsIGZhaWx1cmUsIGRlZmVjdCkgPT4gZXhpdFBhcnNlKFBhcnNlUmVzdWx0LmVuY29kZVVua25vd24oc3VjY2VzcyksIFBhcnNlUmVzdWx0LmVuY29kZVVua25vd24oQ2F1c2VGcm9tU2VsZih7XG4gICAgZXJyb3I6IGZhaWx1cmUsXG4gICAgZGVmZWN0XG4gIH0pKSlcbn0sIHtcbiAgZGVzY3JpcHRpb246IGBFeGl0PCR7Zm9ybWF0KHN1Y2Nlc3MpfSwgJHtmb3JtYXQoZmFpbHVyZSl9PmAsXG4gIHByZXR0eTogZXhpdFByZXR0eSxcbiAgYXJiaXRyYXJ5OiBleGl0QXJiaXRyYXJ5XG59KTtcbi8qKlxuICogQGNhdGVnb3J5IEV4aXQgdHJhbnNmb3JtYXRpb25zXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjb25zdCBFeGl0ID0gKHtcbiAgZGVmZWN0ID0gQ2F1c2VEZWZlY3RVbmtub3duLFxuICBmYWlsdXJlLFxuICBzdWNjZXNzXG59KSA9PiB7XG4gIGNvbnN0IHN1Y2Nlc3NfID0gYXNTY2hlbWEoc3VjY2Vzcyk7XG4gIGNvbnN0IGZhaWx1cmVfID0gYXNTY2hlbWEoZmFpbHVyZSk7XG4gIHJldHVybiB0cmFuc2Zvcm0oZXhpdEVuY29kZWQoc3VjY2Vzc18sIGZhaWx1cmVfLCBkZWZlY3QpLCBFeGl0RnJvbVNlbGYoe1xuICAgIGZhaWx1cmU6IHR5cGVTY2hlbWEoZmFpbHVyZV8pLFxuICAgIHN1Y2Nlc3M6IHR5cGVTY2hlbWEoc3VjY2Vzc18pLFxuICAgIGRlZmVjdDogdHlwZVNjaGVtYShkZWZlY3QpXG4gIH0pLCB7XG4gICAgc3RyaWN0OiB0cnVlLFxuICAgIGRlY29kZTogZXhpdERlY29kZSxcbiAgICBlbmNvZGU6IGV4aXQgPT4gZXhpdC5fdGFnID09PSBcIkZhaWx1cmVcIiA/IHtcbiAgICAgIF90YWc6IFwiRmFpbHVyZVwiLFxuICAgICAgY2F1c2U6IGV4aXQuY2F1c2VcbiAgICB9IDoge1xuICAgICAgX3RhZzogXCJTdWNjZXNzXCIsXG4gICAgICB2YWx1ZTogZXhpdC52YWx1ZVxuICAgIH1cbiAgfSk7XG59O1xuY29uc3QgaGFzaFNldEFyYml0cmFyeSA9IGl0ZW0gPT4gZmMgPT4gZmMuYXJyYXkoaXRlbShmYykpLm1hcChhcyA9PiBoYXNoU2V0Xy5mcm9tSXRlcmFibGUoYXMpKTtcbmNvbnN0IGhhc2hTZXRQcmV0dHkgPSBpdGVtID0+IHNldCA9PiBgSGFzaFNldCgke0FycmF5LmZyb20oc2V0KS5tYXAoYSA9PiBpdGVtKGEpKS5qb2luKFwiLCBcIil9KWA7XG5jb25zdCBoYXNoU2V0RXF1aXZhbGVuY2UgPSBpdGVtID0+IHtcbiAgY29uc3QgYXJyYXlFcXVpdmFsZW5jZSA9IGFycmF5Xy5nZXRFcXVpdmFsZW5jZShpdGVtKTtcbiAgcmV0dXJuIEVxdWl2YWxlbmNlLm1ha2UoKGEsIGIpID0+IGFycmF5RXF1aXZhbGVuY2UoQXJyYXkuZnJvbShhKSwgQXJyYXkuZnJvbShiKSkpO1xufTtcbmNvbnN0IGhhc2hTZXRQYXJzZSA9IGRlY29kZVVua25vd24gPT4gKHUsIG9wdGlvbnMsIGFzdCkgPT4gaGFzaFNldF8uaXNIYXNoU2V0KHUpID8gdG9Db21wb3NpdGUoZGVjb2RlVW5rbm93bihBcnJheS5mcm9tKHUpLCBvcHRpb25zKSwgaGFzaFNldF8uZnJvbUl0ZXJhYmxlLCBhc3QsIHUpIDogUGFyc2VSZXN1bHQuZmFpbChuZXcgUGFyc2VSZXN1bHQuVHlwZShhc3QsIHUpKTtcbi8qKlxuICogQGNhdGVnb3J5IEhhc2hTZXQgdHJhbnNmb3JtYXRpb25zXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjb25zdCBIYXNoU2V0RnJvbVNlbGYgPSB2YWx1ZSA9PiB7XG4gIHJldHVybiBkZWNsYXJlKFt2YWx1ZV0sIHtcbiAgICBkZWNvZGU6IGl0ZW0gPT4gaGFzaFNldFBhcnNlKFBhcnNlUmVzdWx0LmRlY29kZVVua25vd24oQXJyYXkkKGl0ZW0pKSksXG4gICAgZW5jb2RlOiBpdGVtID0+IGhhc2hTZXRQYXJzZShQYXJzZVJlc3VsdC5lbmNvZGVVbmtub3duKEFycmF5JChpdGVtKSkpXG4gIH0sIHtcbiAgICBkZXNjcmlwdGlvbjogYEhhc2hTZXQ8JHtmb3JtYXQodmFsdWUpfT5gLFxuICAgIHByZXR0eTogaGFzaFNldFByZXR0eSxcbiAgICBhcmJpdHJhcnk6IGhhc2hTZXRBcmJpdHJhcnksXG4gICAgZXF1aXZhbGVuY2U6IGhhc2hTZXRFcXVpdmFsZW5jZVxuICB9KTtcbn07XG4vKipcbiAqIEBjYXRlZ29yeSBIYXNoU2V0IHRyYW5zZm9ybWF0aW9uc1xuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY29uc3QgSGFzaFNldCA9IHZhbHVlID0+IHtcbiAgY29uc3QgdmFsdWVfID0gYXNTY2hlbWEodmFsdWUpO1xuICByZXR1cm4gdHJhbnNmb3JtKEFycmF5JCh2YWx1ZV8pLCBIYXNoU2V0RnJvbVNlbGYodHlwZVNjaGVtYSh2YWx1ZV8pKSwge1xuICAgIHN0cmljdDogdHJ1ZSxcbiAgICBkZWNvZGU6IGFzID0+IGhhc2hTZXRfLmZyb21JdGVyYWJsZShhcyksXG4gICAgZW5jb2RlOiBzZXQgPT4gQXJyYXkuZnJvbShzZXQpXG4gIH0pO1xufTtcbmNvbnN0IGhhc2hNYXBBcmJpdHJhcnkgPSAoa2V5LCB2YWx1ZSkgPT4gZmMgPT4gZmMuYXJyYXkoZmMudHVwbGUoa2V5KGZjKSwgdmFsdWUoZmMpKSkubWFwKGFzID0+IGhhc2hNYXBfLmZyb21JdGVyYWJsZShhcykpO1xuY29uc3QgaGFzaE1hcFByZXR0eSA9IChrZXksIHZhbHVlKSA9PiBtYXAgPT4gYEhhc2hNYXAoWyR7QXJyYXkuZnJvbShtYXApLm1hcCgoW2ssIHZdKSA9PiBgWyR7a2V5KGspfSwgJHt2YWx1ZSh2KX1dYCkuam9pbihcIiwgXCIpfV0pYDtcbmNvbnN0IGhhc2hNYXBFcXVpdmFsZW5jZSA9IChrZXksIHZhbHVlKSA9PiB7XG4gIGNvbnN0IGFycmF5RXF1aXZhbGVuY2UgPSBhcnJheV8uZ2V0RXF1aXZhbGVuY2UoRXF1aXZhbGVuY2UubWFrZSgoW2thLCB2YV0sIFtrYiwgdmJdKSA9PiBrZXkoa2EsIGtiKSAmJiB2YWx1ZSh2YSwgdmIpKSk7XG4gIHJldHVybiBFcXVpdmFsZW5jZS5tYWtlKChhLCBiKSA9PiBhcnJheUVxdWl2YWxlbmNlKEFycmF5LmZyb20oYSksIEFycmF5LmZyb20oYikpKTtcbn07XG5jb25zdCBoYXNoTWFwUGFyc2UgPSBkZWNvZGVVbmtub3duID0+ICh1LCBvcHRpb25zLCBhc3QpID0+IGhhc2hNYXBfLmlzSGFzaE1hcCh1KSA/IHRvQ29tcG9zaXRlKGRlY29kZVVua25vd24oQXJyYXkuZnJvbSh1KSwgb3B0aW9ucyksIGhhc2hNYXBfLmZyb21JdGVyYWJsZSwgYXN0LCB1KSA6IFBhcnNlUmVzdWx0LmZhaWwobmV3IFBhcnNlUmVzdWx0LlR5cGUoYXN0LCB1KSk7XG4vKipcbiAqIEBjYXRlZ29yeSBIYXNoTWFwIHRyYW5zZm9ybWF0aW9uc1xuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY29uc3QgSGFzaE1hcEZyb21TZWxmID0gKHtcbiAga2V5LFxuICB2YWx1ZVxufSkgPT4ge1xuICByZXR1cm4gZGVjbGFyZShba2V5LCB2YWx1ZV0sIHtcbiAgICBkZWNvZGU6IChrZXksIHZhbHVlKSA9PiBoYXNoTWFwUGFyc2UoUGFyc2VSZXN1bHQuZGVjb2RlVW5rbm93bihBcnJheSQoVHVwbGUoa2V5LCB2YWx1ZSkpKSksXG4gICAgZW5jb2RlOiAoa2V5LCB2YWx1ZSkgPT4gaGFzaE1hcFBhcnNlKFBhcnNlUmVzdWx0LmVuY29kZVVua25vd24oQXJyYXkkKFR1cGxlKGtleSwgdmFsdWUpKSkpXG4gIH0sIHtcbiAgICBkZXNjcmlwdGlvbjogYEhhc2hNYXA8JHtmb3JtYXQoa2V5KX0sICR7Zm9ybWF0KHZhbHVlKX0+YCxcbiAgICBwcmV0dHk6IGhhc2hNYXBQcmV0dHksXG4gICAgYXJiaXRyYXJ5OiBoYXNoTWFwQXJiaXRyYXJ5LFxuICAgIGVxdWl2YWxlbmNlOiBoYXNoTWFwRXF1aXZhbGVuY2VcbiAgfSk7XG59O1xuLyoqXG4gKiBAY2F0ZWdvcnkgSGFzaE1hcCB0cmFuc2Zvcm1hdGlvbnNcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNvbnN0IEhhc2hNYXAgPSAoe1xuICBrZXksXG4gIHZhbHVlXG59KSA9PiB7XG4gIGNvbnN0IGtleV8gPSBhc1NjaGVtYShrZXkpO1xuICBjb25zdCB2YWx1ZV8gPSBhc1NjaGVtYSh2YWx1ZSk7XG4gIHJldHVybiB0cmFuc2Zvcm0oQXJyYXkkKFR1cGxlKGtleV8sIHZhbHVlXykpLCBIYXNoTWFwRnJvbVNlbGYoe1xuICAgIGtleTogdHlwZVNjaGVtYShrZXlfKSxcbiAgICB2YWx1ZTogdHlwZVNjaGVtYSh2YWx1ZV8pXG4gIH0pLCB7XG4gICAgc3RyaWN0OiB0cnVlLFxuICAgIGRlY29kZTogYXMgPT4gaGFzaE1hcF8uZnJvbUl0ZXJhYmxlKGFzKSxcbiAgICBlbmNvZGU6IG1hcCA9PiBBcnJheS5mcm9tKG1hcClcbiAgfSk7XG59O1xuY29uc3QgbGlzdEFyYml0cmFyeSA9IGl0ZW0gPT4gZmMgPT4gZmMuYXJyYXkoaXRlbShmYykpLm1hcChhcyA9PiBsaXN0Xy5mcm9tSXRlcmFibGUoYXMpKTtcbmNvbnN0IGxpc3RQcmV0dHkgPSBpdGVtID0+IHNldCA9PiBgTGlzdCgke0FycmF5LmZyb20oc2V0KS5tYXAoYSA9PiBpdGVtKGEpKS5qb2luKFwiLCBcIil9KWA7XG5jb25zdCBsaXN0RXF1aXZhbGVuY2UgPSBpdGVtID0+IHtcbiAgY29uc3QgYXJyYXlFcXVpdmFsZW5jZSA9IGFycmF5Xy5nZXRFcXVpdmFsZW5jZShpdGVtKTtcbiAgcmV0dXJuIEVxdWl2YWxlbmNlLm1ha2UoKGEsIGIpID0+IGFycmF5RXF1aXZhbGVuY2UoQXJyYXkuZnJvbShhKSwgQXJyYXkuZnJvbShiKSkpO1xufTtcbmNvbnN0IGxpc3RQYXJzZSA9IGRlY29kZVVua25vd24gPT4gKHUsIG9wdGlvbnMsIGFzdCkgPT4gbGlzdF8uaXNMaXN0KHUpID8gdG9Db21wb3NpdGUoZGVjb2RlVW5rbm93bihBcnJheS5mcm9tKHUpLCBvcHRpb25zKSwgbGlzdF8uZnJvbUl0ZXJhYmxlLCBhc3QsIHUpIDogUGFyc2VSZXN1bHQuZmFpbChuZXcgUGFyc2VSZXN1bHQuVHlwZShhc3QsIHUpKTtcbi8qKlxuICogQGNhdGVnb3J5IExpc3QgdHJhbnNmb3JtYXRpb25zXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmV4cG9ydCBjb25zdCBMaXN0RnJvbVNlbGYgPSB2YWx1ZSA9PiB7XG4gIHJldHVybiBkZWNsYXJlKFt2YWx1ZV0sIHtcbiAgICBkZWNvZGU6IGl0ZW0gPT4gbGlzdFBhcnNlKFBhcnNlUmVzdWx0LmRlY29kZVVua25vd24oQXJyYXkkKGl0ZW0pKSksXG4gICAgZW5jb2RlOiBpdGVtID0+IGxpc3RQYXJzZShQYXJzZVJlc3VsdC5lbmNvZGVVbmtub3duKEFycmF5JChpdGVtKSkpXG4gIH0sIHtcbiAgICBkZXNjcmlwdGlvbjogYExpc3Q8JHtmb3JtYXQodmFsdWUpfT5gLFxuICAgIHByZXR0eTogbGlzdFByZXR0eSxcbiAgICBhcmJpdHJhcnk6IGxpc3RBcmJpdHJhcnksXG4gICAgZXF1aXZhbGVuY2U6IGxpc3RFcXVpdmFsZW5jZVxuICB9KTtcbn07XG4vKipcbiAqIEBjYXRlZ29yeSBMaXN0IHRyYW5zZm9ybWF0aW9uc1xuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY29uc3QgTGlzdCA9IHZhbHVlID0+IHtcbiAgY29uc3QgdmFsdWVfID0gYXNTY2hlbWEodmFsdWUpO1xuICByZXR1cm4gdHJhbnNmb3JtKEFycmF5JCh2YWx1ZV8pLCBMaXN0RnJvbVNlbGYodHlwZVNjaGVtYSh2YWx1ZV8pKSwge1xuICAgIHN0cmljdDogdHJ1ZSxcbiAgICBkZWNvZGU6IGFzID0+IGxpc3RfLmZyb21JdGVyYWJsZShhcyksXG4gICAgZW5jb2RlOiBzZXQgPT4gQXJyYXkuZnJvbShzZXQpXG4gIH0pO1xufTtcbmNvbnN0IHNvcnRlZFNldEFyYml0cmFyeSA9IChpdGVtLCBvcmQpID0+IGZjID0+IGZjLmFycmF5KGl0ZW0oZmMpKS5tYXAoYXMgPT4gc29ydGVkU2V0Xy5mcm9tSXRlcmFibGUoYXMsIG9yZCkpO1xuY29uc3Qgc29ydGVkU2V0UHJldHR5ID0gaXRlbSA9PiBzZXQgPT4gYG5ldyBTb3J0ZWRTZXQoWyR7QXJyYXkuZnJvbShzb3J0ZWRTZXRfLnZhbHVlcyhzZXQpKS5tYXAoYSA9PiBpdGVtKGEpKS5qb2luKFwiLCBcIil9XSlgO1xuY29uc3Qgc29ydGVkU2V0UGFyc2UgPSAoZGVjb2RlVW5rbm93biwgb3JkKSA9PiAodSwgb3B0aW9ucywgYXN0KSA9PiBzb3J0ZWRTZXRfLmlzU29ydGVkU2V0KHUpID8gdG9Db21wb3NpdGUoZGVjb2RlVW5rbm93bihBcnJheS5mcm9tKHNvcnRlZFNldF8udmFsdWVzKHUpKSwgb3B0aW9ucyksIGFzID0+IHNvcnRlZFNldF8uZnJvbUl0ZXJhYmxlKGFzLCBvcmQpLCBhc3QsIHUpIDogUGFyc2VSZXN1bHQuZmFpbChuZXcgUGFyc2VSZXN1bHQuVHlwZShhc3QsIHUpKTtcbi8qKlxuICogQGNhdGVnb3J5IFNvcnRlZFNldCB0cmFuc2Zvcm1hdGlvbnNcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNvbnN0IFNvcnRlZFNldEZyb21TZWxmID0gKHZhbHVlLCBvcmRBLCBvcmRJKSA9PiB7XG4gIHJldHVybiBkZWNsYXJlKFt2YWx1ZV0sIHtcbiAgICBkZWNvZGU6IGl0ZW0gPT4gc29ydGVkU2V0UGFyc2UoUGFyc2VSZXN1bHQuZGVjb2RlVW5rbm93bihBcnJheSQoaXRlbSkpLCBvcmRBKSxcbiAgICBlbmNvZGU6IGl0ZW0gPT4gc29ydGVkU2V0UGFyc2UoUGFyc2VSZXN1bHQuZW5jb2RlVW5rbm93bihBcnJheSQoaXRlbSkpLCBvcmRJKVxuICB9LCB7XG4gICAgZGVzY3JpcHRpb246IGBTb3J0ZWRTZXQ8JHtmb3JtYXQodmFsdWUpfT5gLFxuICAgIHByZXR0eTogc29ydGVkU2V0UHJldHR5LFxuICAgIGFyYml0cmFyeTogYXJiID0+IHNvcnRlZFNldEFyYml0cmFyeShhcmIsIG9yZEEpLFxuICAgIGVxdWl2YWxlbmNlOiAoKSA9PiBzb3J0ZWRTZXRfLmdldEVxdWl2YWxlbmNlKClcbiAgfSk7XG59O1xuLyoqXG4gKiBAY2F0ZWdvcnkgU29ydGVkU2V0IHRyYW5zZm9ybWF0aW9uc1xuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY29uc3QgU29ydGVkU2V0ID0gKHZhbHVlLCBvcmRBKSA9PiB7XG4gIGNvbnN0IHZhbHVlXyA9IGFzU2NoZW1hKHZhbHVlKTtcbiAgY29uc3QgdG8gPSB0eXBlU2NoZW1hKHZhbHVlXyk7XG4gIHJldHVybiB0cmFuc2Zvcm0oQXJyYXkkKHZhbHVlXyksIFNvcnRlZFNldEZyb21TZWxmKHRvLCBvcmRBLCBvcmRBKSwge1xuICAgIHN0cmljdDogdHJ1ZSxcbiAgICBkZWNvZGU6IGFzID0+IHNvcnRlZFNldF8uZnJvbUl0ZXJhYmxlKGFzLCBvcmRBKSxcbiAgICBlbmNvZGU6IHNldCA9PiBBcnJheS5mcm9tKHNvcnRlZFNldF8udmFsdWVzKHNldCkpXG4gIH0pO1xufTtcbi8qKlxuICogQ29udmVydHMgYW4gYXJiaXRyYXJ5IHZhbHVlIHRvIGEgYGJvb2xlYW5gIGJ5IHRlc3Rpbmcgd2hldGhlciBpdCBpcyB0cnV0aHkuXG4gKiBVc2VzIGAhIXZhbGAgdG8gY29lcmNlIHRoZSB2YWx1ZSB0byBhIGBib29sZWFuYC5cbiAqXG4gKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2RvY3MvR2xvc3NhcnkvVHJ1dGh5XG4gKiBAY2F0ZWdvcnkgYm9vbGVhbiBjb25zdHJ1Y3RvcnNcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNsYXNzIEJvb2xlYW5Gcm9tVW5rbm93biBleHRlbmRzIHRyYW5zZm9ybShVbmtub3duLCBCb29sZWFuJCwge1xuICBzdHJpY3Q6IHRydWUsXG4gIGRlY29kZTogUHJlZGljYXRlLmlzVHJ1dGh5LFxuICBlbmNvZGU6IGlkZW50aXR5XG59KS5hbm5vdGF0aW9ucyh7XG4gIGlkZW50aWZpZXI6IFwiQm9vbGVhbkZyb21Vbmtub3duXCJcbn0pIHtcbiAgc3RhdGljIGFubm90YXRpb25zID0gc3VwZXIuYW5ub3RhdGlvbnM7XG59XG4vKipcbiAqIEBjYXRlZ29yeSBDb25maWcgdmFsaWRhdGlvbnNcbiAqIEBzaW5jZSAwLjY3LjEyXG4gKi9cbmV4cG9ydCBjb25zdCBDb25maWcgPSAobmFtZSwgc2NoZW1hKSA9PiB7XG4gIGNvbnN0IGRlY29kZUVpdGhlcl8gPSBkZWNvZGVFaXRoZXIoc2NoZW1hKTtcbiAgcmV0dXJuIGNvbmZpZ18uc3RyaW5nKG5hbWUpLnBpcGUoY29uZmlnXy5tYXBPckZhaWwoYSA9PiBkZWNvZGVFaXRoZXJfKGEpLnBpcGUoZWl0aGVyXy5tYXBMZWZ0KGVycm9yID0+IGNvbmZpZ0Vycm9yXy5JbnZhbGlkRGF0YShbXSwgVHJlZUZvcm1hdHRlci5mb3JtYXRFcnJvclN5bmMoZXJyb3IpKSkpKSk7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U2NoZW1hLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@effect/schema/dist/esm/Schema.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@effect/schema/dist/esm/TreeFormatter.js":
/*!***************************************************************!*\
  !*** ./node_modules/@effect/schema/dist/esm/TreeFormatter.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   formatError: () => (/* binding */ formatError),\n/* harmony export */   formatErrorSync: () => (/* binding */ formatErrorSync),\n/* harmony export */   formatForbiddenMessage: () => (/* binding */ formatForbiddenMessage),\n/* harmony export */   formatIssue: () => (/* binding */ formatIssue),\n/* harmony export */   formatIssueSync: () => (/* binding */ formatIssueSync),\n/* harmony export */   formatMissingMessage: () => (/* binding */ formatMissingMessage),\n/* harmony export */   formatTypeMessage: () => (/* binding */ formatTypeMessage),\n/* harmony export */   formatUnexpectedMessage: () => (/* binding */ formatUnexpectedMessage),\n/* harmony export */   getMessage: () => (/* binding */ getMessage)\n/* harmony export */ });\n/* harmony import */ var effect_Effect__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! effect/Effect */ \"(rsc)/./node_modules/effect/dist/esm/Effect.js\");\n/* harmony import */ var effect_Option__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! effect/Option */ \"(rsc)/./node_modules/effect/dist/esm/Option.js\");\n/* harmony import */ var effect_Predicate__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! effect/Predicate */ \"(rsc)/./node_modules/effect/dist/esm/Predicate.js\");\n/* harmony import */ var _AST_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./AST.js */ \"(rsc)/./node_modules/@effect/schema/dist/esm/AST.js\");\n/* harmony import */ var _internal_util_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./internal/util.js */ \"(rsc)/./node_modules/@effect/schema/dist/esm/internal/util.js\");\n/**\n * @since 0.67.0\n */\n\n\n\n\n\nconst make = (value, forest = []) => ({\n  value,\n  forest\n});\n/**\n * @category formatting\n * @since 0.67.0\n */\nconst formatIssue = issue => effect_Effect__WEBPACK_IMPORTED_MODULE_0__.map(go(issue), tree => drawTree(tree));\n/**\n * @category formatting\n * @since 0.67.0\n */\nconst formatIssueSync = issue => effect_Effect__WEBPACK_IMPORTED_MODULE_0__.runSync(formatIssue(issue));\n/**\n * @category formatting\n * @since 0.67.0\n */\nconst formatError = error => formatIssue(error.issue);\n/**\n * @category formatting\n * @since 0.67.0\n */\nconst formatErrorSync = error => formatIssueSync(error.issue);\nconst drawTree = tree => tree.value + draw(\"\\n\", tree.forest);\nconst draw = (indentation, forest) => {\n  let r = \"\";\n  const len = forest.length;\n  let tree;\n  for (let i = 0; i < len; i++) {\n    tree = forest[i];\n    const isLast = i === len - 1;\n    r += indentation + (isLast ? \"└\" : \"├\") + \"─ \" + tree.value;\n    r += draw(indentation + (len > 1 && !isLast ? \"│  \" : \"   \"), tree.forest);\n  }\n  return r;\n};\nconst formatTransformationKind = kind => {\n  switch (kind) {\n    case \"Encoded\":\n      return \"Encoded side transformation failure\";\n    case \"Transformation\":\n      return \"Transformation process failure\";\n    case \"Type\":\n      return \"Type side transformation failure\";\n  }\n};\nconst formatRefinementKind = kind => {\n  switch (kind) {\n    case \"From\":\n      return \"From side refinement failure\";\n    case \"Predicate\":\n      return \"Predicate refinement failure\";\n  }\n};\nconst getAnnotated = issue => \"ast\" in issue ? effect_Option__WEBPACK_IMPORTED_MODULE_1__.some(issue.ast) : effect_Option__WEBPACK_IMPORTED_MODULE_1__.none();\nconst getCurrentMessage = issue => getAnnotated(issue).pipe(effect_Option__WEBPACK_IMPORTED_MODULE_1__.flatMap(_AST_js__WEBPACK_IMPORTED_MODULE_2__.getMessageAnnotation), effect_Effect__WEBPACK_IMPORTED_MODULE_0__.flatMap(annotation => {\n  const out = annotation(issue);\n  return effect_Predicate__WEBPACK_IMPORTED_MODULE_3__.isString(out) ? effect_Effect__WEBPACK_IMPORTED_MODULE_0__.succeed({\n    message: out,\n    override: false\n  }) : effect_Effect__WEBPACK_IMPORTED_MODULE_0__.isEffect(out) ? effect_Effect__WEBPACK_IMPORTED_MODULE_0__.map(out, message => ({\n    message,\n    override: false\n  })) : effect_Predicate__WEBPACK_IMPORTED_MODULE_3__.isString(out.message) ? effect_Effect__WEBPACK_IMPORTED_MODULE_0__.succeed({\n    message: out.message,\n    override: out.override\n  }) : effect_Effect__WEBPACK_IMPORTED_MODULE_0__.map(out.message, message => ({\n    message,\n    override: out.override\n  }));\n}));\nconst createParseIssueGuard = tag => issue => issue._tag === tag;\nconst isComposite = /*#__PURE__*/createParseIssueGuard(\"Composite\");\nconst isRefinement = /*#__PURE__*/createParseIssueGuard(\"Refinement\");\nconst isTransformation = /*#__PURE__*/createParseIssueGuard(\"Transformation\");\n/** @internal */\nconst getMessage = issue => getCurrentMessage(issue).pipe(effect_Effect__WEBPACK_IMPORTED_MODULE_0__.flatMap(currentMessage => {\n  const useInnerMessage = !currentMessage.override && (isComposite(issue) || isRefinement(issue) && issue.kind === \"From\" || isTransformation(issue) && issue.kind !== \"Transformation\");\n  return useInnerMessage ? isTransformation(issue) || isRefinement(issue) ? getMessage(issue.issue) : effect_Option__WEBPACK_IMPORTED_MODULE_1__.none() : effect_Effect__WEBPACK_IMPORTED_MODULE_0__.succeed(currentMessage.message);\n}));\nconst getParseIssueTitleAnnotation = issue => getAnnotated(issue).pipe(effect_Option__WEBPACK_IMPORTED_MODULE_1__.flatMap(_AST_js__WEBPACK_IMPORTED_MODULE_2__.getParseIssueTitleAnnotation), effect_Option__WEBPACK_IMPORTED_MODULE_1__.filterMap(annotation => effect_Option__WEBPACK_IMPORTED_MODULE_1__.fromNullable(annotation(issue))));\n/** @internal */\nconst formatTypeMessage = e => getMessage(e).pipe(effect_Effect__WEBPACK_IMPORTED_MODULE_0__.orElse(() => getParseIssueTitleAnnotation(e)), effect_Effect__WEBPACK_IMPORTED_MODULE_0__.catchAll(() => effect_Effect__WEBPACK_IMPORTED_MODULE_0__.succeed(e.message ?? `Expected ${String(e.ast)}, actual ${_internal_util_js__WEBPACK_IMPORTED_MODULE_4__.formatUnknown(e.actual)}`)));\nconst getParseIssueTitle = issue => effect_Option__WEBPACK_IMPORTED_MODULE_1__.getOrElse(getParseIssueTitleAnnotation(issue), () => String(issue.ast));\n/** @internal */\nconst formatForbiddenMessage = e => e.message ?? \"is forbidden\";\n/** @internal */\nconst formatUnexpectedMessage = e => e.message ?? \"is unexpected\";\n/** @internal */\nconst formatMissingMessage = e => _AST_js__WEBPACK_IMPORTED_MODULE_2__.getMissingMessageAnnotation(e.ast).pipe(effect_Effect__WEBPACK_IMPORTED_MODULE_0__.flatMap(annotation => {\n  const out = annotation();\n  return effect_Predicate__WEBPACK_IMPORTED_MODULE_3__.isString(out) ? effect_Effect__WEBPACK_IMPORTED_MODULE_0__.succeed(out) : out;\n}), effect_Effect__WEBPACK_IMPORTED_MODULE_0__.catchAll(() => effect_Effect__WEBPACK_IMPORTED_MODULE_0__.succeed(e.message ?? \"is missing\")));\nconst getTree = (issue, onFailure) => effect_Effect__WEBPACK_IMPORTED_MODULE_0__.matchEffect(getMessage(issue), {\n  onFailure,\n  onSuccess: message => effect_Effect__WEBPACK_IMPORTED_MODULE_0__.succeed(make(message))\n});\nconst go = e => {\n  switch (e._tag) {\n    case \"Type\":\n      return effect_Effect__WEBPACK_IMPORTED_MODULE_0__.map(formatTypeMessage(e), make);\n    case \"Forbidden\":\n      return effect_Effect__WEBPACK_IMPORTED_MODULE_0__.succeed(make(getParseIssueTitle(e), [make(formatForbiddenMessage(e))]));\n    case \"Unexpected\":\n      return effect_Effect__WEBPACK_IMPORTED_MODULE_0__.succeed(make(formatUnexpectedMessage(e)));\n    case \"Missing\":\n      return effect_Effect__WEBPACK_IMPORTED_MODULE_0__.map(formatMissingMessage(e), make);\n    case \"Transformation\":\n      return getTree(e, () => effect_Effect__WEBPACK_IMPORTED_MODULE_0__.map(go(e.issue), tree => make(getParseIssueTitle(e), [make(formatTransformationKind(e.kind), [tree])])));\n    case \"Refinement\":\n      return getTree(e, () => effect_Effect__WEBPACK_IMPORTED_MODULE_0__.map(go(e.issue), tree => make(getParseIssueTitle(e), [make(formatRefinementKind(e.kind), [tree])])));\n    case \"Pointer\":\n      return effect_Effect__WEBPACK_IMPORTED_MODULE_0__.map(go(e.issue), tree => make(_internal_util_js__WEBPACK_IMPORTED_MODULE_4__.formatPath(e.path), [tree]));\n    case \"Composite\":\n      {\n        const parseIssueTitle = getParseIssueTitle(e);\n        return getTree(e, () => _internal_util_js__WEBPACK_IMPORTED_MODULE_4__.isNonEmpty(e.issues) ? effect_Effect__WEBPACK_IMPORTED_MODULE_0__.map(effect_Effect__WEBPACK_IMPORTED_MODULE_0__.forEach(e.issues, go), forest => make(parseIssueTitle, forest)) : effect_Effect__WEBPACK_IMPORTED_MODULE_0__.map(go(e.issues), tree => make(parseIssueTitle, [tree])));\n      }\n  }\n};\n//# sourceMappingURL=TreeFormatter.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGVmZmVjdC9zY2hlbWEvZGlzdC9lc20vVHJlZUZvcm1hdHRlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUN3QztBQUNBO0FBQ007QUFDZDtBQUNZO0FBQzVDO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNPLDZCQUE2Qiw4Q0FBVTtBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNPLGlDQUFpQyxrREFBYztBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsU0FBUztBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtDQUErQywrQ0FBVyxjQUFjLCtDQUFXO0FBQ25GLDREQUE0RCxrREFBYyxDQUFDLHlEQUF3QixHQUFHLGtEQUFjO0FBQ3BIO0FBQ0EsU0FBUyxzREFBa0IsUUFBUSxrREFBYztBQUNqRDtBQUNBO0FBQ0EsR0FBRyxJQUFJLG1EQUFlLFFBQVEsOENBQVU7QUFDeEM7QUFDQTtBQUNBLEdBQUcsS0FBSyxzREFBa0IsZ0JBQWdCLGtEQUFjO0FBQ3hEO0FBQ0E7QUFDQSxHQUFHLElBQUksOENBQVU7QUFDakI7QUFDQTtBQUNBLEdBQUc7QUFDSCxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPLDBEQUEwRCxrREFBYztBQUMvRTtBQUNBLHNHQUFzRywrQ0FBVyxLQUFLLGtEQUFjO0FBQ3BJLENBQUM7QUFDRCx1RUFBdUUsa0RBQWMsQ0FBQyxpRUFBZ0MsR0FBRyxvREFBZ0IsZUFBZSx1REFBbUI7QUFDM0s7QUFDTyxrREFBa0QsaURBQWEseUNBQXlDLG1EQUFlLE9BQU8sa0RBQWMsMEJBQTBCLGNBQWMsV0FBVyw0REFBbUIsV0FBVztBQUNwTyxvQ0FBb0Msb0RBQWdCO0FBQ3BEO0FBQ087QUFDUDtBQUNPO0FBQ1A7QUFDTyxrQ0FBa0MsZ0VBQStCLGFBQWEsa0RBQWM7QUFDbkc7QUFDQSxTQUFTLHNEQUFrQixRQUFRLGtEQUFjO0FBQ2pELENBQUMsR0FBRyxtREFBZSxPQUFPLGtEQUFjO0FBQ3hDLHNDQUFzQyxzREFBa0I7QUFDeEQ7QUFDQSx3QkFBd0Isa0RBQWM7QUFDdEMsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLGFBQWEsOENBQVU7QUFDdkI7QUFDQSxhQUFhLGtEQUFjO0FBQzNCO0FBQ0EsYUFBYSxrREFBYztBQUMzQjtBQUNBLGFBQWEsOENBQVU7QUFDdkI7QUFDQSw4QkFBOEIsOENBQVU7QUFDeEM7QUFDQSw4QkFBOEIsOENBQVU7QUFDeEM7QUFDQSxhQUFhLDhDQUFVLDJCQUEyQix5REFBZ0I7QUFDbEU7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLHlEQUFnQixhQUFhLDhDQUFVLENBQUMsa0RBQWMsMkRBQTJELDhDQUFVO0FBQzNKO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2FzZWNvYnJhLWRldi8uL25vZGVfbW9kdWxlcy9AZWZmZWN0L3NjaGVtYS9kaXN0L2VzbS9UcmVlRm9ybWF0dGVyLmpzP2VmN2IiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAc2luY2UgMC42Ny4wXG4gKi9cbmltcG9ydCAqIGFzIEVmZmVjdCBmcm9tIFwiZWZmZWN0L0VmZmVjdFwiO1xuaW1wb3J0ICogYXMgT3B0aW9uIGZyb20gXCJlZmZlY3QvT3B0aW9uXCI7XG5pbXBvcnQgKiBhcyBQcmVkaWNhdGUgZnJvbSBcImVmZmVjdC9QcmVkaWNhdGVcIjtcbmltcG9ydCAqIGFzIEFTVCBmcm9tIFwiLi9BU1QuanNcIjtcbmltcG9ydCAqIGFzIHV0aWxfIGZyb20gXCIuL2ludGVybmFsL3V0aWwuanNcIjtcbmNvbnN0IG1ha2UgPSAodmFsdWUsIGZvcmVzdCA9IFtdKSA9PiAoe1xuICB2YWx1ZSxcbiAgZm9yZXN0XG59KTtcbi8qKlxuICogQGNhdGVnb3J5IGZvcm1hdHRpbmdcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNvbnN0IGZvcm1hdElzc3VlID0gaXNzdWUgPT4gRWZmZWN0Lm1hcChnbyhpc3N1ZSksIHRyZWUgPT4gZHJhd1RyZWUodHJlZSkpO1xuLyoqXG4gKiBAY2F0ZWdvcnkgZm9ybWF0dGluZ1xuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY29uc3QgZm9ybWF0SXNzdWVTeW5jID0gaXNzdWUgPT4gRWZmZWN0LnJ1blN5bmMoZm9ybWF0SXNzdWUoaXNzdWUpKTtcbi8qKlxuICogQGNhdGVnb3J5IGZvcm1hdHRpbmdcbiAqIEBzaW5jZSAwLjY3LjBcbiAqL1xuZXhwb3J0IGNvbnN0IGZvcm1hdEVycm9yID0gZXJyb3IgPT4gZm9ybWF0SXNzdWUoZXJyb3IuaXNzdWUpO1xuLyoqXG4gKiBAY2F0ZWdvcnkgZm9ybWF0dGluZ1xuICogQHNpbmNlIDAuNjcuMFxuICovXG5leHBvcnQgY29uc3QgZm9ybWF0RXJyb3JTeW5jID0gZXJyb3IgPT4gZm9ybWF0SXNzdWVTeW5jKGVycm9yLmlzc3VlKTtcbmNvbnN0IGRyYXdUcmVlID0gdHJlZSA9PiB0cmVlLnZhbHVlICsgZHJhdyhcIlxcblwiLCB0cmVlLmZvcmVzdCk7XG5jb25zdCBkcmF3ID0gKGluZGVudGF0aW9uLCBmb3Jlc3QpID0+IHtcbiAgbGV0IHIgPSBcIlwiO1xuICBjb25zdCBsZW4gPSBmb3Jlc3QubGVuZ3RoO1xuICBsZXQgdHJlZTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgIHRyZWUgPSBmb3Jlc3RbaV07XG4gICAgY29uc3QgaXNMYXN0ID0gaSA9PT0gbGVuIC0gMTtcbiAgICByICs9IGluZGVudGF0aW9uICsgKGlzTGFzdCA/IFwi4pSUXCIgOiBcIuKUnFwiKSArIFwi4pSAIFwiICsgdHJlZS52YWx1ZTtcbiAgICByICs9IGRyYXcoaW5kZW50YXRpb24gKyAobGVuID4gMSAmJiAhaXNMYXN0ID8gXCLilIIgIFwiIDogXCIgICBcIiksIHRyZWUuZm9yZXN0KTtcbiAgfVxuICByZXR1cm4gcjtcbn07XG5jb25zdCBmb3JtYXRUcmFuc2Zvcm1hdGlvbktpbmQgPSBraW5kID0+IHtcbiAgc3dpdGNoIChraW5kKSB7XG4gICAgY2FzZSBcIkVuY29kZWRcIjpcbiAgICAgIHJldHVybiBcIkVuY29kZWQgc2lkZSB0cmFuc2Zvcm1hdGlvbiBmYWlsdXJlXCI7XG4gICAgY2FzZSBcIlRyYW5zZm9ybWF0aW9uXCI6XG4gICAgICByZXR1cm4gXCJUcmFuc2Zvcm1hdGlvbiBwcm9jZXNzIGZhaWx1cmVcIjtcbiAgICBjYXNlIFwiVHlwZVwiOlxuICAgICAgcmV0dXJuIFwiVHlwZSBzaWRlIHRyYW5zZm9ybWF0aW9uIGZhaWx1cmVcIjtcbiAgfVxufTtcbmNvbnN0IGZvcm1hdFJlZmluZW1lbnRLaW5kID0ga2luZCA9PiB7XG4gIHN3aXRjaCAoa2luZCkge1xuICAgIGNhc2UgXCJGcm9tXCI6XG4gICAgICByZXR1cm4gXCJGcm9tIHNpZGUgcmVmaW5lbWVudCBmYWlsdXJlXCI7XG4gICAgY2FzZSBcIlByZWRpY2F0ZVwiOlxuICAgICAgcmV0dXJuIFwiUHJlZGljYXRlIHJlZmluZW1lbnQgZmFpbHVyZVwiO1xuICB9XG59O1xuY29uc3QgZ2V0QW5ub3RhdGVkID0gaXNzdWUgPT4gXCJhc3RcIiBpbiBpc3N1ZSA/IE9wdGlvbi5zb21lKGlzc3VlLmFzdCkgOiBPcHRpb24ubm9uZSgpO1xuY29uc3QgZ2V0Q3VycmVudE1lc3NhZ2UgPSBpc3N1ZSA9PiBnZXRBbm5vdGF0ZWQoaXNzdWUpLnBpcGUoT3B0aW9uLmZsYXRNYXAoQVNULmdldE1lc3NhZ2VBbm5vdGF0aW9uKSwgRWZmZWN0LmZsYXRNYXAoYW5ub3RhdGlvbiA9PiB7XG4gIGNvbnN0IG91dCA9IGFubm90YXRpb24oaXNzdWUpO1xuICByZXR1cm4gUHJlZGljYXRlLmlzU3RyaW5nKG91dCkgPyBFZmZlY3Quc3VjY2VlZCh7XG4gICAgbWVzc2FnZTogb3V0LFxuICAgIG92ZXJyaWRlOiBmYWxzZVxuICB9KSA6IEVmZmVjdC5pc0VmZmVjdChvdXQpID8gRWZmZWN0Lm1hcChvdXQsIG1lc3NhZ2UgPT4gKHtcbiAgICBtZXNzYWdlLFxuICAgIG92ZXJyaWRlOiBmYWxzZVxuICB9KSkgOiBQcmVkaWNhdGUuaXNTdHJpbmcob3V0Lm1lc3NhZ2UpID8gRWZmZWN0LnN1Y2NlZWQoe1xuICAgIG1lc3NhZ2U6IG91dC5tZXNzYWdlLFxuICAgIG92ZXJyaWRlOiBvdXQub3ZlcnJpZGVcbiAgfSkgOiBFZmZlY3QubWFwKG91dC5tZXNzYWdlLCBtZXNzYWdlID0+ICh7XG4gICAgbWVzc2FnZSxcbiAgICBvdmVycmlkZTogb3V0Lm92ZXJyaWRlXG4gIH0pKTtcbn0pKTtcbmNvbnN0IGNyZWF0ZVBhcnNlSXNzdWVHdWFyZCA9IHRhZyA9PiBpc3N1ZSA9PiBpc3N1ZS5fdGFnID09PSB0YWc7XG5jb25zdCBpc0NvbXBvc2l0ZSA9IC8qI19fUFVSRV9fKi9jcmVhdGVQYXJzZUlzc3VlR3VhcmQoXCJDb21wb3NpdGVcIik7XG5jb25zdCBpc1JlZmluZW1lbnQgPSAvKiNfX1BVUkVfXyovY3JlYXRlUGFyc2VJc3N1ZUd1YXJkKFwiUmVmaW5lbWVudFwiKTtcbmNvbnN0IGlzVHJhbnNmb3JtYXRpb24gPSAvKiNfX1BVUkVfXyovY3JlYXRlUGFyc2VJc3N1ZUd1YXJkKFwiVHJhbnNmb3JtYXRpb25cIik7XG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3QgZ2V0TWVzc2FnZSA9IGlzc3VlID0+IGdldEN1cnJlbnRNZXNzYWdlKGlzc3VlKS5waXBlKEVmZmVjdC5mbGF0TWFwKGN1cnJlbnRNZXNzYWdlID0+IHtcbiAgY29uc3QgdXNlSW5uZXJNZXNzYWdlID0gIWN1cnJlbnRNZXNzYWdlLm92ZXJyaWRlICYmIChpc0NvbXBvc2l0ZShpc3N1ZSkgfHwgaXNSZWZpbmVtZW50KGlzc3VlKSAmJiBpc3N1ZS5raW5kID09PSBcIkZyb21cIiB8fCBpc1RyYW5zZm9ybWF0aW9uKGlzc3VlKSAmJiBpc3N1ZS5raW5kICE9PSBcIlRyYW5zZm9ybWF0aW9uXCIpO1xuICByZXR1cm4gdXNlSW5uZXJNZXNzYWdlID8gaXNUcmFuc2Zvcm1hdGlvbihpc3N1ZSkgfHwgaXNSZWZpbmVtZW50KGlzc3VlKSA/IGdldE1lc3NhZ2UoaXNzdWUuaXNzdWUpIDogT3B0aW9uLm5vbmUoKSA6IEVmZmVjdC5zdWNjZWVkKGN1cnJlbnRNZXNzYWdlLm1lc3NhZ2UpO1xufSkpO1xuY29uc3QgZ2V0UGFyc2VJc3N1ZVRpdGxlQW5ub3RhdGlvbiA9IGlzc3VlID0+IGdldEFubm90YXRlZChpc3N1ZSkucGlwZShPcHRpb24uZmxhdE1hcChBU1QuZ2V0UGFyc2VJc3N1ZVRpdGxlQW5ub3RhdGlvbiksIE9wdGlvbi5maWx0ZXJNYXAoYW5ub3RhdGlvbiA9PiBPcHRpb24uZnJvbU51bGxhYmxlKGFubm90YXRpb24oaXNzdWUpKSkpO1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IGZvcm1hdFR5cGVNZXNzYWdlID0gZSA9PiBnZXRNZXNzYWdlKGUpLnBpcGUoRWZmZWN0Lm9yRWxzZSgoKSA9PiBnZXRQYXJzZUlzc3VlVGl0bGVBbm5vdGF0aW9uKGUpKSwgRWZmZWN0LmNhdGNoQWxsKCgpID0+IEVmZmVjdC5zdWNjZWVkKGUubWVzc2FnZSA/PyBgRXhwZWN0ZWQgJHtTdHJpbmcoZS5hc3QpfSwgYWN0dWFsICR7dXRpbF8uZm9ybWF0VW5rbm93bihlLmFjdHVhbCl9YCkpKTtcbmNvbnN0IGdldFBhcnNlSXNzdWVUaXRsZSA9IGlzc3VlID0+IE9wdGlvbi5nZXRPckVsc2UoZ2V0UGFyc2VJc3N1ZVRpdGxlQW5ub3RhdGlvbihpc3N1ZSksICgpID0+IFN0cmluZyhpc3N1ZS5hc3QpKTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBmb3JtYXRGb3JiaWRkZW5NZXNzYWdlID0gZSA9PiBlLm1lc3NhZ2UgPz8gXCJpcyBmb3JiaWRkZW5cIjtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBmb3JtYXRVbmV4cGVjdGVkTWVzc2FnZSA9IGUgPT4gZS5tZXNzYWdlID8/IFwiaXMgdW5leHBlY3RlZFwiO1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IGZvcm1hdE1pc3NpbmdNZXNzYWdlID0gZSA9PiBBU1QuZ2V0TWlzc2luZ01lc3NhZ2VBbm5vdGF0aW9uKGUuYXN0KS5waXBlKEVmZmVjdC5mbGF0TWFwKGFubm90YXRpb24gPT4ge1xuICBjb25zdCBvdXQgPSBhbm5vdGF0aW9uKCk7XG4gIHJldHVybiBQcmVkaWNhdGUuaXNTdHJpbmcob3V0KSA/IEVmZmVjdC5zdWNjZWVkKG91dCkgOiBvdXQ7XG59KSwgRWZmZWN0LmNhdGNoQWxsKCgpID0+IEVmZmVjdC5zdWNjZWVkKGUubWVzc2FnZSA/PyBcImlzIG1pc3NpbmdcIikpKTtcbmNvbnN0IGdldFRyZWUgPSAoaXNzdWUsIG9uRmFpbHVyZSkgPT4gRWZmZWN0Lm1hdGNoRWZmZWN0KGdldE1lc3NhZ2UoaXNzdWUpLCB7XG4gIG9uRmFpbHVyZSxcbiAgb25TdWNjZXNzOiBtZXNzYWdlID0+IEVmZmVjdC5zdWNjZWVkKG1ha2UobWVzc2FnZSkpXG59KTtcbmNvbnN0IGdvID0gZSA9PiB7XG4gIHN3aXRjaCAoZS5fdGFnKSB7XG4gICAgY2FzZSBcIlR5cGVcIjpcbiAgICAgIHJldHVybiBFZmZlY3QubWFwKGZvcm1hdFR5cGVNZXNzYWdlKGUpLCBtYWtlKTtcbiAgICBjYXNlIFwiRm9yYmlkZGVuXCI6XG4gICAgICByZXR1cm4gRWZmZWN0LnN1Y2NlZWQobWFrZShnZXRQYXJzZUlzc3VlVGl0bGUoZSksIFttYWtlKGZvcm1hdEZvcmJpZGRlbk1lc3NhZ2UoZSkpXSkpO1xuICAgIGNhc2UgXCJVbmV4cGVjdGVkXCI6XG4gICAgICByZXR1cm4gRWZmZWN0LnN1Y2NlZWQobWFrZShmb3JtYXRVbmV4cGVjdGVkTWVzc2FnZShlKSkpO1xuICAgIGNhc2UgXCJNaXNzaW5nXCI6XG4gICAgICByZXR1cm4gRWZmZWN0Lm1hcChmb3JtYXRNaXNzaW5nTWVzc2FnZShlKSwgbWFrZSk7XG4gICAgY2FzZSBcIlRyYW5zZm9ybWF0aW9uXCI6XG4gICAgICByZXR1cm4gZ2V0VHJlZShlLCAoKSA9PiBFZmZlY3QubWFwKGdvKGUuaXNzdWUpLCB0cmVlID0+IG1ha2UoZ2V0UGFyc2VJc3N1ZVRpdGxlKGUpLCBbbWFrZShmb3JtYXRUcmFuc2Zvcm1hdGlvbktpbmQoZS5raW5kKSwgW3RyZWVdKV0pKSk7XG4gICAgY2FzZSBcIlJlZmluZW1lbnRcIjpcbiAgICAgIHJldHVybiBnZXRUcmVlKGUsICgpID0+IEVmZmVjdC5tYXAoZ28oZS5pc3N1ZSksIHRyZWUgPT4gbWFrZShnZXRQYXJzZUlzc3VlVGl0bGUoZSksIFttYWtlKGZvcm1hdFJlZmluZW1lbnRLaW5kKGUua2luZCksIFt0cmVlXSldKSkpO1xuICAgIGNhc2UgXCJQb2ludGVyXCI6XG4gICAgICByZXR1cm4gRWZmZWN0Lm1hcChnbyhlLmlzc3VlKSwgdHJlZSA9PiBtYWtlKHV0aWxfLmZvcm1hdFBhdGgoZS5wYXRoKSwgW3RyZWVdKSk7XG4gICAgY2FzZSBcIkNvbXBvc2l0ZVwiOlxuICAgICAge1xuICAgICAgICBjb25zdCBwYXJzZUlzc3VlVGl0bGUgPSBnZXRQYXJzZUlzc3VlVGl0bGUoZSk7XG4gICAgICAgIHJldHVybiBnZXRUcmVlKGUsICgpID0+IHV0aWxfLmlzTm9uRW1wdHkoZS5pc3N1ZXMpID8gRWZmZWN0Lm1hcChFZmZlY3QuZm9yRWFjaChlLmlzc3VlcywgZ28pLCBmb3Jlc3QgPT4gbWFrZShwYXJzZUlzc3VlVGl0bGUsIGZvcmVzdCkpIDogRWZmZWN0Lm1hcChnbyhlLmlzc3VlcyksIHRyZWUgPT4gbWFrZShwYXJzZUlzc3VlVGl0bGUsIFt0cmVlXSkpKTtcbiAgICAgIH1cbiAgfVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRyZWVGb3JtYXR0ZXIuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@effect/schema/dist/esm/TreeFormatter.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@effect/schema/dist/esm/internal/errors.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@effect/schema/dist/esm/internal/errors.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getASTDuplicateIndexSignatureErrorMessage: () => (/* binding */ getASTDuplicateIndexSignatureErrorMessage),\n/* harmony export */   getASTDuplicatePropertySignatureErrorMessage: () => (/* binding */ getASTDuplicatePropertySignatureErrorMessage),\n/* harmony export */   getASTDuplicatePropertySignatureTransformationErrorMessage: () => (/* binding */ getASTDuplicatePropertySignatureTransformationErrorMessage),\n/* harmony export */   getASTIndexSignatureParameterErrorMessage: () => (/* binding */ getASTIndexSignatureParameterErrorMessage),\n/* harmony export */   getASTRequiredElementFollowinAnOptionalElementErrorMessage: () => (/* binding */ getASTRequiredElementFollowinAnOptionalElementErrorMessage),\n/* harmony export */   getASTUnsupportedKeySchema: () => (/* binding */ getASTUnsupportedKeySchema),\n/* harmony export */   getASTUnsupportedLiteral: () => (/* binding */ getASTUnsupportedLiteral),\n/* harmony export */   getASTUnsupportedRenameSchema: () => (/* binding */ getASTUnsupportedRenameSchema),\n/* harmony export */   getASTUnsupportedSchema: () => (/* binding */ getASTUnsupportedSchema),\n/* harmony export */   getArbitraryEmptyEnumErrorMessage: () => (/* binding */ getArbitraryEmptyEnumErrorMessage),\n/* harmony export */   getArbitraryMissingAnnotationErrorMessage: () => (/* binding */ getArbitraryMissingAnnotationErrorMessage),\n/* harmony export */   getArbitraryUnsupportedErrorMessage: () => (/* binding */ getArbitraryUnsupportedErrorMessage),\n/* harmony export */   getEquivalenceUnsupportedErrorMessage: () => (/* binding */ getEquivalenceUnsupportedErrorMessage),\n/* harmony export */   getInvalidArgumentErrorMessage: () => (/* binding */ getInvalidArgumentErrorMessage),\n/* harmony export */   getJSONSchemaMissingAnnotationErrorMessage: () => (/* binding */ getJSONSchemaMissingAnnotationErrorMessage),\n/* harmony export */   getJSONSchemaMissingIdentifierAnnotationErrorMessage: () => (/* binding */ getJSONSchemaMissingIdentifierAnnotationErrorMessage),\n/* harmony export */   getJSONSchemaUnsupportedKeyErrorMessage: () => (/* binding */ getJSONSchemaUnsupportedKeyErrorMessage),\n/* harmony export */   getJSONSchemaUnsupportedParameterErrorMessage: () => (/* binding */ getJSONSchemaUnsupportedParameterErrorMessage),\n/* harmony export */   getJSONSchemaUnsupportedPostRestElementsErrorMessage: () => (/* binding */ getJSONSchemaUnsupportedPostRestElementsErrorMessage),\n/* harmony export */   getPrettyMissingAnnotationErrorMessage: () => (/* binding */ getPrettyMissingAnnotationErrorMessage),\n/* harmony export */   getPrettyNeverErrorMessage: () => (/* binding */ getPrettyNeverErrorMessage),\n/* harmony export */   getPrettyNoMatchingSchemaErrorMessage: () => (/* binding */ getPrettyNoMatchingSchemaErrorMessage),\n/* harmony export */   getSchemaExtendErrorMessage: () => (/* binding */ getSchemaExtendErrorMessage),\n/* harmony export */   getSchemaUnsupportedLiteralSpanErrorMessage: () => (/* binding */ getSchemaUnsupportedLiteralSpanErrorMessage)\n/* harmony export */ });\n/* harmony import */ var effect_Array__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! effect/Array */ \"(rsc)/./node_modules/effect/dist/esm/Array.js\");\n/* harmony import */ var _util_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./util.js */ \"(rsc)/./node_modules/@effect/schema/dist/esm/internal/util.js\");\n\n\nconst getErrorMessage = (reason, details, path, ast) => {\n  let out = reason;\n  if (path && effect_Array__WEBPACK_IMPORTED_MODULE_0__.isNonEmptyReadonlyArray(path)) {\n    out += `\\nat path: ${_util_js__WEBPACK_IMPORTED_MODULE_1__.formatPath(path)}`;\n  }\n  if (details !== undefined) {\n    out += `\\ndetails: ${details}`;\n  }\n  if (ast) {\n    out += `\\nschema (${ast._tag}): ${ast}`;\n  }\n  return out;\n};\n// ---------------------------------------------\n// generic\n// ---------------------------------------------\n/** @internal */\nconst getInvalidArgumentErrorMessage = details => getErrorMessage(\"Invalid Argument\", details);\nconst getUnsupportedSchemaErrorMessage = (details, path, ast) => getErrorMessage(\"Unsupported schema\", details, path, ast);\nconst getMissingAnnotationErrorMessage = (details, path, ast) => getErrorMessage(\"Missing annotation\", details, path, ast);\n// ---------------------------------------------\n// Arbitrary\n// ---------------------------------------------\n/** @internal */\nconst getArbitraryUnsupportedErrorMessage = (path, ast) => getUnsupportedSchemaErrorMessage(\"Cannot build an Arbitrary for this schema\", path, ast);\n/** @internal */\nconst getArbitraryMissingAnnotationErrorMessage = (path, ast) => getMissingAnnotationErrorMessage(`Generating an Arbitrary for this schema requires an \"arbitrary\" annotation`, path, ast);\n/** @internal */\nconst getArbitraryEmptyEnumErrorMessage = path => getErrorMessage(\"Empty Enums schema\", \"Generating an Arbitrary for this schema requires at least one enum\", path);\n// ---------------------------------------------\n// Equivalence\n// ---------------------------------------------\n/** @internal */\nconst getEquivalenceUnsupportedErrorMessage = (ast, path) => getUnsupportedSchemaErrorMessage(\"Cannot build an Equivalence\", path, ast);\n// ---------------------------------------------\n// JSON Schema\n// ---------------------------------------------\n/** @internal */\nconst getJSONSchemaMissingAnnotationErrorMessage = (path, ast) => getMissingAnnotationErrorMessage(`Generating a JSON Schema for this schema requires a \"jsonSchema\" annotation`, path, ast);\n/** @internal */\nconst getJSONSchemaMissingIdentifierAnnotationErrorMessage = (path, ast) => getMissingAnnotationErrorMessage(`Generating a JSON Schema for this schema requires an \"identifier\" annotation`, path, ast);\n/** @internal */\nconst getJSONSchemaUnsupportedParameterErrorMessage = (path, parameter) => getErrorMessage(\"Unsupported index signature parameter\", undefined, path, parameter);\n/** @internal */\nconst getJSONSchemaUnsupportedPostRestElementsErrorMessage = path => getErrorMessage(\"Generating a JSON Schema for post-rest elements is not currently supported. You're welcome to contribute by submitting a Pull Request\", undefined, path);\n/** @internal */\nconst getJSONSchemaUnsupportedKeyErrorMessage = (key, path) => getErrorMessage(\"Unsupported key\", `Cannot encode ${_util_js__WEBPACK_IMPORTED_MODULE_1__.formatPropertyKey(key)} key to JSON Schema`, path);\n// ---------------------------------------------\n// Pretty\n// ---------------------------------------------\n/** @internal */\nconst getPrettyMissingAnnotationErrorMessage = (path, ast) => getMissingAnnotationErrorMessage(`Generating a Pretty for this schema requires a \"pretty\" annotation`, path, ast);\n/** @internal */\nconst getPrettyNeverErrorMessage = \"Cannot pretty print a `never` value\";\n/** @internal */\nconst getPrettyNoMatchingSchemaErrorMessage = (actual, path, ast) => getErrorMessage(\"Unexpected Error\", `Cannot find a matching schema for ${_util_js__WEBPACK_IMPORTED_MODULE_1__.formatUnknown(actual)}`, path, ast);\n// ---------------------------------------------\n// Schema\n// ---------------------------------------------\n/** @internal */\nconst getSchemaExtendErrorMessage = (x, y, path) => getErrorMessage(\"Unsupported schema or overlapping types\", `cannot extend ${x} with ${y}`, path);\n/** @internal */\nconst getSchemaUnsupportedLiteralSpanErrorMessage = ast => getErrorMessage(\"Unsupported template literal span\", undefined, undefined, ast);\n// ---------------------------------------------\n// AST\n// ---------------------------------------------\n/** @internal */\nconst getASTUnsupportedSchema = ast => getUnsupportedSchemaErrorMessage(undefined, undefined, ast);\n/** @internal */\nconst getASTUnsupportedKeySchema = ast => getErrorMessage(\"Unsupported key schema\", undefined, undefined, ast);\n/** @internal */\nconst getASTUnsupportedLiteral = literal => getErrorMessage(\"Unsupported literal\", `literal value: ${_util_js__WEBPACK_IMPORTED_MODULE_1__.formatUnknown(literal)}`);\n/** @internal */\nconst getASTDuplicateIndexSignatureErrorMessage = type => getErrorMessage(\"Duplicate index signature\", `${type} index signature`);\n/** @internal */\nconst getASTIndexSignatureParameterErrorMessage = /*#__PURE__*/getErrorMessage(\"Unsupported index signature parameter\", \"An index signature parameter type must be `string`, `symbol`, a template literal type or a refinement of the previous types\");\n/** @internal */\nconst getASTRequiredElementFollowinAnOptionalElementErrorMessage = /*#__PURE__*/getErrorMessage(\"Invalid element\", \"A required element cannot follow an optional element. ts(1257)\");\n/** @internal */\nconst getASTDuplicatePropertySignatureTransformationErrorMessage = key => getErrorMessage(\"Duplicate property signature transformation\", `Duplicate key ${_util_js__WEBPACK_IMPORTED_MODULE_1__.formatUnknown(key)}`);\n/** @internal */\nconst getASTUnsupportedRenameSchema = ast => getUnsupportedSchemaErrorMessage(undefined, undefined, ast);\n/** @internal */\nconst getASTDuplicatePropertySignatureErrorMessage = key => getErrorMessage(\"Duplicate property signature\", `Duplicate key ${_util_js__WEBPACK_IMPORTED_MODULE_1__.formatUnknown(key)}`);\n//# sourceMappingURL=errors.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGVmZmVjdC9zY2hlbWEvZGlzdC9lc20vaW50ZXJuYWwvZXJyb3JzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQXVDO0FBQ0o7QUFDbkM7QUFDQTtBQUNBLGNBQWMsaUVBQThCO0FBQzVDLHlCQUF5QixnREFBZ0IsT0FBTztBQUNoRDtBQUNBO0FBQ0EseUJBQXlCLFFBQVE7QUFDakM7QUFDQTtBQUNBLHdCQUF3QixTQUFTLEtBQUssSUFBSTtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNPO0FBQ1A7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDTztBQUNQO0FBQ087QUFDUDtBQUNPO0FBQ1A7QUFDTyxtSEFBbUgsdURBQXVCLE9BQU87QUFDeEo7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ087QUFDUDtBQUNPLDhJQUE4SSxtREFBbUIsU0FBUztBQUNqTDtBQUNBO0FBQ0E7QUFDQTtBQUNPLGdJQUFnSSxHQUFHLE9BQU8sRUFBRTtBQUNuSjtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ087QUFDUDtBQUNPLHFHQUFxRyxtREFBbUIsVUFBVTtBQUN6STtBQUNPLDBHQUEwRyxNQUFNO0FBQ3ZIO0FBQ087QUFDUDtBQUNPO0FBQ1A7QUFDTywwSkFBMEosbURBQW1CLE1BQU07QUFDMUw7QUFDTztBQUNQO0FBQ08sNkhBQTZILG1EQUFtQixNQUFNO0FBQzdKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2FzZWNvYnJhLWRldi8uL25vZGVfbW9kdWxlcy9AZWZmZWN0L3NjaGVtYS9kaXN0L2VzbS9pbnRlcm5hbC9lcnJvcnMuanM/ZDEyMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBhcnJheV8gZnJvbSBcImVmZmVjdC9BcnJheVwiO1xuaW1wb3J0ICogYXMgdXRpbF8gZnJvbSBcIi4vdXRpbC5qc1wiO1xuY29uc3QgZ2V0RXJyb3JNZXNzYWdlID0gKHJlYXNvbiwgZGV0YWlscywgcGF0aCwgYXN0KSA9PiB7XG4gIGxldCBvdXQgPSByZWFzb247XG4gIGlmIChwYXRoICYmIGFycmF5Xy5pc05vbkVtcHR5UmVhZG9ubHlBcnJheShwYXRoKSkge1xuICAgIG91dCArPSBgXFxuYXQgcGF0aDogJHt1dGlsXy5mb3JtYXRQYXRoKHBhdGgpfWA7XG4gIH1cbiAgaWYgKGRldGFpbHMgIT09IHVuZGVmaW5lZCkge1xuICAgIG91dCArPSBgXFxuZGV0YWlsczogJHtkZXRhaWxzfWA7XG4gIH1cbiAgaWYgKGFzdCkge1xuICAgIG91dCArPSBgXFxuc2NoZW1hICgke2FzdC5fdGFnfSk6ICR7YXN0fWA7XG4gIH1cbiAgcmV0dXJuIG91dDtcbn07XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIGdlbmVyaWNcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IGdldEludmFsaWRBcmd1bWVudEVycm9yTWVzc2FnZSA9IGRldGFpbHMgPT4gZ2V0RXJyb3JNZXNzYWdlKFwiSW52YWxpZCBBcmd1bWVudFwiLCBkZXRhaWxzKTtcbmNvbnN0IGdldFVuc3VwcG9ydGVkU2NoZW1hRXJyb3JNZXNzYWdlID0gKGRldGFpbHMsIHBhdGgsIGFzdCkgPT4gZ2V0RXJyb3JNZXNzYWdlKFwiVW5zdXBwb3J0ZWQgc2NoZW1hXCIsIGRldGFpbHMsIHBhdGgsIGFzdCk7XG5jb25zdCBnZXRNaXNzaW5nQW5ub3RhdGlvbkVycm9yTWVzc2FnZSA9IChkZXRhaWxzLCBwYXRoLCBhc3QpID0+IGdldEVycm9yTWVzc2FnZShcIk1pc3NpbmcgYW5ub3RhdGlvblwiLCBkZXRhaWxzLCBwYXRoLCBhc3QpO1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBBcmJpdHJhcnlcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IGdldEFyYml0cmFyeVVuc3VwcG9ydGVkRXJyb3JNZXNzYWdlID0gKHBhdGgsIGFzdCkgPT4gZ2V0VW5zdXBwb3J0ZWRTY2hlbWFFcnJvck1lc3NhZ2UoXCJDYW5ub3QgYnVpbGQgYW4gQXJiaXRyYXJ5IGZvciB0aGlzIHNjaGVtYVwiLCBwYXRoLCBhc3QpO1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IGdldEFyYml0cmFyeU1pc3NpbmdBbm5vdGF0aW9uRXJyb3JNZXNzYWdlID0gKHBhdGgsIGFzdCkgPT4gZ2V0TWlzc2luZ0Fubm90YXRpb25FcnJvck1lc3NhZ2UoYEdlbmVyYXRpbmcgYW4gQXJiaXRyYXJ5IGZvciB0aGlzIHNjaGVtYSByZXF1aXJlcyBhbiBcImFyYml0cmFyeVwiIGFubm90YXRpb25gLCBwYXRoLCBhc3QpO1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IGdldEFyYml0cmFyeUVtcHR5RW51bUVycm9yTWVzc2FnZSA9IHBhdGggPT4gZ2V0RXJyb3JNZXNzYWdlKFwiRW1wdHkgRW51bXMgc2NoZW1hXCIsIFwiR2VuZXJhdGluZyBhbiBBcmJpdHJhcnkgZm9yIHRoaXMgc2NoZW1hIHJlcXVpcmVzIGF0IGxlYXN0IG9uZSBlbnVtXCIsIHBhdGgpO1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBFcXVpdmFsZW5jZVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3QgZ2V0RXF1aXZhbGVuY2VVbnN1cHBvcnRlZEVycm9yTWVzc2FnZSA9IChhc3QsIHBhdGgpID0+IGdldFVuc3VwcG9ydGVkU2NoZW1hRXJyb3JNZXNzYWdlKFwiQ2Fubm90IGJ1aWxkIGFuIEVxdWl2YWxlbmNlXCIsIHBhdGgsIGFzdCk7XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIEpTT04gU2NoZW1hXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBnZXRKU09OU2NoZW1hTWlzc2luZ0Fubm90YXRpb25FcnJvck1lc3NhZ2UgPSAocGF0aCwgYXN0KSA9PiBnZXRNaXNzaW5nQW5ub3RhdGlvbkVycm9yTWVzc2FnZShgR2VuZXJhdGluZyBhIEpTT04gU2NoZW1hIGZvciB0aGlzIHNjaGVtYSByZXF1aXJlcyBhIFwianNvblNjaGVtYVwiIGFubm90YXRpb25gLCBwYXRoLCBhc3QpO1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IGdldEpTT05TY2hlbWFNaXNzaW5nSWRlbnRpZmllckFubm90YXRpb25FcnJvck1lc3NhZ2UgPSAocGF0aCwgYXN0KSA9PiBnZXRNaXNzaW5nQW5ub3RhdGlvbkVycm9yTWVzc2FnZShgR2VuZXJhdGluZyBhIEpTT04gU2NoZW1hIGZvciB0aGlzIHNjaGVtYSByZXF1aXJlcyBhbiBcImlkZW50aWZpZXJcIiBhbm5vdGF0aW9uYCwgcGF0aCwgYXN0KTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBnZXRKU09OU2NoZW1hVW5zdXBwb3J0ZWRQYXJhbWV0ZXJFcnJvck1lc3NhZ2UgPSAocGF0aCwgcGFyYW1ldGVyKSA9PiBnZXRFcnJvck1lc3NhZ2UoXCJVbnN1cHBvcnRlZCBpbmRleCBzaWduYXR1cmUgcGFyYW1ldGVyXCIsIHVuZGVmaW5lZCwgcGF0aCwgcGFyYW1ldGVyKTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBnZXRKU09OU2NoZW1hVW5zdXBwb3J0ZWRQb3N0UmVzdEVsZW1lbnRzRXJyb3JNZXNzYWdlID0gcGF0aCA9PiBnZXRFcnJvck1lc3NhZ2UoXCJHZW5lcmF0aW5nIGEgSlNPTiBTY2hlbWEgZm9yIHBvc3QtcmVzdCBlbGVtZW50cyBpcyBub3QgY3VycmVudGx5IHN1cHBvcnRlZC4gWW91J3JlIHdlbGNvbWUgdG8gY29udHJpYnV0ZSBieSBzdWJtaXR0aW5nIGEgUHVsbCBSZXF1ZXN0XCIsIHVuZGVmaW5lZCwgcGF0aCk7XG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3QgZ2V0SlNPTlNjaGVtYVVuc3VwcG9ydGVkS2V5RXJyb3JNZXNzYWdlID0gKGtleSwgcGF0aCkgPT4gZ2V0RXJyb3JNZXNzYWdlKFwiVW5zdXBwb3J0ZWQga2V5XCIsIGBDYW5ub3QgZW5jb2RlICR7dXRpbF8uZm9ybWF0UHJvcGVydHlLZXkoa2V5KX0ga2V5IHRvIEpTT04gU2NoZW1hYCwgcGF0aCk7XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFByZXR0eVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3QgZ2V0UHJldHR5TWlzc2luZ0Fubm90YXRpb25FcnJvck1lc3NhZ2UgPSAocGF0aCwgYXN0KSA9PiBnZXRNaXNzaW5nQW5ub3RhdGlvbkVycm9yTWVzc2FnZShgR2VuZXJhdGluZyBhIFByZXR0eSBmb3IgdGhpcyBzY2hlbWEgcmVxdWlyZXMgYSBcInByZXR0eVwiIGFubm90YXRpb25gLCBwYXRoLCBhc3QpO1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IGdldFByZXR0eU5ldmVyRXJyb3JNZXNzYWdlID0gXCJDYW5ub3QgcHJldHR5IHByaW50IGEgYG5ldmVyYCB2YWx1ZVwiO1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IGdldFByZXR0eU5vTWF0Y2hpbmdTY2hlbWFFcnJvck1lc3NhZ2UgPSAoYWN0dWFsLCBwYXRoLCBhc3QpID0+IGdldEVycm9yTWVzc2FnZShcIlVuZXhwZWN0ZWQgRXJyb3JcIiwgYENhbm5vdCBmaW5kIGEgbWF0Y2hpbmcgc2NoZW1hIGZvciAke3V0aWxfLmZvcm1hdFVua25vd24oYWN0dWFsKX1gLCBwYXRoLCBhc3QpO1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBTY2hlbWFcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IGdldFNjaGVtYUV4dGVuZEVycm9yTWVzc2FnZSA9ICh4LCB5LCBwYXRoKSA9PiBnZXRFcnJvck1lc3NhZ2UoXCJVbnN1cHBvcnRlZCBzY2hlbWEgb3Igb3ZlcmxhcHBpbmcgdHlwZXNcIiwgYGNhbm5vdCBleHRlbmQgJHt4fSB3aXRoICR7eX1gLCBwYXRoKTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBnZXRTY2hlbWFVbnN1cHBvcnRlZExpdGVyYWxTcGFuRXJyb3JNZXNzYWdlID0gYXN0ID0+IGdldEVycm9yTWVzc2FnZShcIlVuc3VwcG9ydGVkIHRlbXBsYXRlIGxpdGVyYWwgc3BhblwiLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYXN0KTtcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gQVNUXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBnZXRBU1RVbnN1cHBvcnRlZFNjaGVtYSA9IGFzdCA9PiBnZXRVbnN1cHBvcnRlZFNjaGVtYUVycm9yTWVzc2FnZSh1bmRlZmluZWQsIHVuZGVmaW5lZCwgYXN0KTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBnZXRBU1RVbnN1cHBvcnRlZEtleVNjaGVtYSA9IGFzdCA9PiBnZXRFcnJvck1lc3NhZ2UoXCJVbnN1cHBvcnRlZCBrZXkgc2NoZW1hXCIsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBhc3QpO1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IGdldEFTVFVuc3VwcG9ydGVkTGl0ZXJhbCA9IGxpdGVyYWwgPT4gZ2V0RXJyb3JNZXNzYWdlKFwiVW5zdXBwb3J0ZWQgbGl0ZXJhbFwiLCBgbGl0ZXJhbCB2YWx1ZTogJHt1dGlsXy5mb3JtYXRVbmtub3duKGxpdGVyYWwpfWApO1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IGdldEFTVER1cGxpY2F0ZUluZGV4U2lnbmF0dXJlRXJyb3JNZXNzYWdlID0gdHlwZSA9PiBnZXRFcnJvck1lc3NhZ2UoXCJEdXBsaWNhdGUgaW5kZXggc2lnbmF0dXJlXCIsIGAke3R5cGV9IGluZGV4IHNpZ25hdHVyZWApO1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IGdldEFTVEluZGV4U2lnbmF0dXJlUGFyYW1ldGVyRXJyb3JNZXNzYWdlID0gLyojX19QVVJFX18qL2dldEVycm9yTWVzc2FnZShcIlVuc3VwcG9ydGVkIGluZGV4IHNpZ25hdHVyZSBwYXJhbWV0ZXJcIiwgXCJBbiBpbmRleCBzaWduYXR1cmUgcGFyYW1ldGVyIHR5cGUgbXVzdCBiZSBgc3RyaW5nYCwgYHN5bWJvbGAsIGEgdGVtcGxhdGUgbGl0ZXJhbCB0eXBlIG9yIGEgcmVmaW5lbWVudCBvZiB0aGUgcHJldmlvdXMgdHlwZXNcIik7XG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3QgZ2V0QVNUUmVxdWlyZWRFbGVtZW50Rm9sbG93aW5Bbk9wdGlvbmFsRWxlbWVudEVycm9yTWVzc2FnZSA9IC8qI19fUFVSRV9fKi9nZXRFcnJvck1lc3NhZ2UoXCJJbnZhbGlkIGVsZW1lbnRcIiwgXCJBIHJlcXVpcmVkIGVsZW1lbnQgY2Fubm90IGZvbGxvdyBhbiBvcHRpb25hbCBlbGVtZW50LiB0cygxMjU3KVwiKTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBnZXRBU1REdXBsaWNhdGVQcm9wZXJ0eVNpZ25hdHVyZVRyYW5zZm9ybWF0aW9uRXJyb3JNZXNzYWdlID0ga2V5ID0+IGdldEVycm9yTWVzc2FnZShcIkR1cGxpY2F0ZSBwcm9wZXJ0eSBzaWduYXR1cmUgdHJhbnNmb3JtYXRpb25cIiwgYER1cGxpY2F0ZSBrZXkgJHt1dGlsXy5mb3JtYXRVbmtub3duKGtleSl9YCk7XG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3QgZ2V0QVNUVW5zdXBwb3J0ZWRSZW5hbWVTY2hlbWEgPSBhc3QgPT4gZ2V0VW5zdXBwb3J0ZWRTY2hlbWFFcnJvck1lc3NhZ2UodW5kZWZpbmVkLCB1bmRlZmluZWQsIGFzdCk7XG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3QgZ2V0QVNURHVwbGljYXRlUHJvcGVydHlTaWduYXR1cmVFcnJvck1lc3NhZ2UgPSBrZXkgPT4gZ2V0RXJyb3JNZXNzYWdlKFwiRHVwbGljYXRlIHByb3BlcnR5IHNpZ25hdHVyZVwiLCBgRHVwbGljYXRlIGtleSAke3V0aWxfLmZvcm1hdFVua25vd24oa2V5KX1gKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWVycm9ycy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@effect/schema/dist/esm/internal/errors.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@effect/schema/dist/esm/internal/filters.js":
/*!******************************************************************!*\
  !*** ./node_modules/@effect/schema/dist/esm/internal/filters.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BetweenBigintTypeId: () => (/* binding */ BetweenBigintTypeId),\n/* harmony export */   BetweenTypeId: () => (/* binding */ BetweenTypeId),\n/* harmony export */   GreaterThanBigintTypeId: () => (/* binding */ GreaterThanBigintTypeId),\n/* harmony export */   GreaterThanOrEqualToBigIntTypeId: () => (/* binding */ GreaterThanOrEqualToBigIntTypeId),\n/* harmony export */   GreaterThanOrEqualToTypeId: () => (/* binding */ GreaterThanOrEqualToTypeId),\n/* harmony export */   GreaterThanTypeId: () => (/* binding */ GreaterThanTypeId),\n/* harmony export */   IntTypeId: () => (/* binding */ IntTypeId),\n/* harmony export */   ItemsCountTypeId: () => (/* binding */ ItemsCountTypeId),\n/* harmony export */   LengthTypeId: () => (/* binding */ LengthTypeId),\n/* harmony export */   LessThanBigIntTypeId: () => (/* binding */ LessThanBigIntTypeId),\n/* harmony export */   LessThanOrEqualToBigIntTypeId: () => (/* binding */ LessThanOrEqualToBigIntTypeId),\n/* harmony export */   LessThanOrEqualToTypeId: () => (/* binding */ LessThanOrEqualToTypeId),\n/* harmony export */   LessThanTypeId: () => (/* binding */ LessThanTypeId),\n/* harmony export */   MaxItemsTypeId: () => (/* binding */ MaxItemsTypeId),\n/* harmony export */   MaxLengthTypeId: () => (/* binding */ MaxLengthTypeId),\n/* harmony export */   MinItemsTypeId: () => (/* binding */ MinItemsTypeId),\n/* harmony export */   MinLengthTypeId: () => (/* binding */ MinLengthTypeId),\n/* harmony export */   ParseJsonTypeId: () => (/* binding */ ParseJsonTypeId)\n/* harmony export */ });\n/** @internal */\nconst GreaterThanTypeId = /*#__PURE__*/Symbol.for(\"@effect/schema/TypeId/GreaterThan\");\n/** @internal */\nconst GreaterThanOrEqualToTypeId = /*#__PURE__*/Symbol.for(\"@effect/schema/TypeId/GreaterThanOrEqualTo\");\n/** @internal */\nconst LessThanTypeId = /*#__PURE__*/Symbol.for(\"@effect/schema/TypeId/LessThan\");\n/** @internal */\nconst LessThanOrEqualToTypeId = /*#__PURE__*/Symbol.for(\"@effect/schema/TypeId/LessThanOrEqualTo\");\n/** @internal */\nconst IntTypeId = /*#__PURE__*/Symbol.for(\"@effect/schema/TypeId/Int\");\n/** @internal */\nconst BetweenTypeId = /*#__PURE__*/Symbol.for(\"@effect/schema/TypeId/Between\");\n/** @internal */\nconst GreaterThanBigintTypeId = /*#__PURE__*/Symbol.for(\"@effect/schema/TypeId/GreaterThanBigint\");\n/** @internal */\nconst GreaterThanOrEqualToBigIntTypeId = /*#__PURE__*/Symbol.for(\"@effect/schema/TypeId/GreaterThanOrEqualToBigint\");\n/** @internal */\nconst LessThanBigIntTypeId = /*#__PURE__*/Symbol.for(\"@effect/schema/TypeId/LessThanBigint\");\n/** @internal */\nconst LessThanOrEqualToBigIntTypeId = /*#__PURE__*/Symbol.for(\"@effect/schema/TypeId/LessThanOrEqualToBigint\");\n/** @internal */\nconst BetweenBigintTypeId = /*#__PURE__*/Symbol.for(\"@effect/schema/TypeId/BetweenBigint\");\n/** @internal */\nconst MinLengthTypeId = /*#__PURE__*/Symbol.for(\"@effect/schema/TypeId/MinLength\");\n/** @internal */\nconst MaxLengthTypeId = /*#__PURE__*/Symbol.for(\"@effect/schema/TypeId/MaxLength\");\n/** @internal */\nconst LengthTypeId = /*#__PURE__*/Symbol.for(\"@effect/schema/TypeId/Length\");\n/** @internal */\nconst MinItemsTypeId = /*#__PURE__*/Symbol.for(\"@effect/schema/TypeId/MinItems\");\n/** @internal */\nconst MaxItemsTypeId = /*#__PURE__*/Symbol.for(\"@effect/schema/TypeId/MaxItems\");\n/** @internal */\nconst ItemsCountTypeId = /*#__PURE__*/Symbol.for(\"@effect/schema/TypeId/ItemsCount\");\n/** @internal */\nconst ParseJsonTypeId = /*#__PURE__*/Symbol.for(\"@effect/schema/TypeId/ParseJson\");\n//# sourceMappingURL=filters.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGVmZmVjdC9zY2hlbWEvZGlzdC9lc20vaW50ZXJuYWwvZmlsdGVycy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNPO0FBQ1A7QUFDTztBQUNQO0FBQ087QUFDUDtBQUNPO0FBQ1A7QUFDTztBQUNQO0FBQ087QUFDUDtBQUNPO0FBQ1A7QUFDTztBQUNQO0FBQ087QUFDUDtBQUNPO0FBQ1A7QUFDTztBQUNQO0FBQ087QUFDUDtBQUNPO0FBQ1A7QUFDTztBQUNQO0FBQ087QUFDUDtBQUNPO0FBQ1A7QUFDTztBQUNQO0FBQ087QUFDUCIsInNvdXJjZXMiOlsid2VicGFjazovL2Nhc2Vjb2JyYS1kZXYvLi9ub2RlX21vZHVsZXMvQGVmZmVjdC9zY2hlbWEvZGlzdC9lc20vaW50ZXJuYWwvZmlsdGVycy5qcz8zNGY0Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBHcmVhdGVyVGhhblR5cGVJZCA9IC8qI19fUFVSRV9fKi9TeW1ib2wuZm9yKFwiQGVmZmVjdC9zY2hlbWEvVHlwZUlkL0dyZWF0ZXJUaGFuXCIpO1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IEdyZWF0ZXJUaGFuT3JFcXVhbFRvVHlwZUlkID0gLyojX19QVVJFX18qL1N5bWJvbC5mb3IoXCJAZWZmZWN0L3NjaGVtYS9UeXBlSWQvR3JlYXRlclRoYW5PckVxdWFsVG9cIik7XG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3QgTGVzc1RoYW5UeXBlSWQgPSAvKiNfX1BVUkVfXyovU3ltYm9sLmZvcihcIkBlZmZlY3Qvc2NoZW1hL1R5cGVJZC9MZXNzVGhhblwiKTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBMZXNzVGhhbk9yRXF1YWxUb1R5cGVJZCA9IC8qI19fUFVSRV9fKi9TeW1ib2wuZm9yKFwiQGVmZmVjdC9zY2hlbWEvVHlwZUlkL0xlc3NUaGFuT3JFcXVhbFRvXCIpO1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IEludFR5cGVJZCA9IC8qI19fUFVSRV9fKi9TeW1ib2wuZm9yKFwiQGVmZmVjdC9zY2hlbWEvVHlwZUlkL0ludFwiKTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBCZXR3ZWVuVHlwZUlkID0gLyojX19QVVJFX18qL1N5bWJvbC5mb3IoXCJAZWZmZWN0L3NjaGVtYS9UeXBlSWQvQmV0d2VlblwiKTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBHcmVhdGVyVGhhbkJpZ2ludFR5cGVJZCA9IC8qI19fUFVSRV9fKi9TeW1ib2wuZm9yKFwiQGVmZmVjdC9zY2hlbWEvVHlwZUlkL0dyZWF0ZXJUaGFuQmlnaW50XCIpO1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IEdyZWF0ZXJUaGFuT3JFcXVhbFRvQmlnSW50VHlwZUlkID0gLyojX19QVVJFX18qL1N5bWJvbC5mb3IoXCJAZWZmZWN0L3NjaGVtYS9UeXBlSWQvR3JlYXRlclRoYW5PckVxdWFsVG9CaWdpbnRcIik7XG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3QgTGVzc1RoYW5CaWdJbnRUeXBlSWQgPSAvKiNfX1BVUkVfXyovU3ltYm9sLmZvcihcIkBlZmZlY3Qvc2NoZW1hL1R5cGVJZC9MZXNzVGhhbkJpZ2ludFwiKTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBMZXNzVGhhbk9yRXF1YWxUb0JpZ0ludFR5cGVJZCA9IC8qI19fUFVSRV9fKi9TeW1ib2wuZm9yKFwiQGVmZmVjdC9zY2hlbWEvVHlwZUlkL0xlc3NUaGFuT3JFcXVhbFRvQmlnaW50XCIpO1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IEJldHdlZW5CaWdpbnRUeXBlSWQgPSAvKiNfX1BVUkVfXyovU3ltYm9sLmZvcihcIkBlZmZlY3Qvc2NoZW1hL1R5cGVJZC9CZXR3ZWVuQmlnaW50XCIpO1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IE1pbkxlbmd0aFR5cGVJZCA9IC8qI19fUFVSRV9fKi9TeW1ib2wuZm9yKFwiQGVmZmVjdC9zY2hlbWEvVHlwZUlkL01pbkxlbmd0aFwiKTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBNYXhMZW5ndGhUeXBlSWQgPSAvKiNfX1BVUkVfXyovU3ltYm9sLmZvcihcIkBlZmZlY3Qvc2NoZW1hL1R5cGVJZC9NYXhMZW5ndGhcIik7XG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3QgTGVuZ3RoVHlwZUlkID0gLyojX19QVVJFX18qL1N5bWJvbC5mb3IoXCJAZWZmZWN0L3NjaGVtYS9UeXBlSWQvTGVuZ3RoXCIpO1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IE1pbkl0ZW1zVHlwZUlkID0gLyojX19QVVJFX18qL1N5bWJvbC5mb3IoXCJAZWZmZWN0L3NjaGVtYS9UeXBlSWQvTWluSXRlbXNcIik7XG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3QgTWF4SXRlbXNUeXBlSWQgPSAvKiNfX1BVUkVfXyovU3ltYm9sLmZvcihcIkBlZmZlY3Qvc2NoZW1hL1R5cGVJZC9NYXhJdGVtc1wiKTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBJdGVtc0NvdW50VHlwZUlkID0gLyojX19QVVJFX18qL1N5bWJvbC5mb3IoXCJAZWZmZWN0L3NjaGVtYS9UeXBlSWQvSXRlbXNDb3VudFwiKTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBQYXJzZUpzb25UeXBlSWQgPSAvKiNfX1BVUkVfXyovU3ltYm9sLmZvcihcIkBlZmZlY3Qvc2NoZW1hL1R5cGVJZC9QYXJzZUpzb25cIik7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1maWx0ZXJzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@effect/schema/dist/esm/internal/filters.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@effect/schema/dist/esm/internal/serializable.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@effect/schema/dist/esm/internal/serializable.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   symbol: () => (/* binding */ symbol),\n/* harmony export */   symbolResult: () => (/* binding */ symbolResult)\n/* harmony export */ });\n/** @internal */\nconst symbol = /*#__PURE__*/Symbol.for(\"@effect/schema/Serializable/symbol\");\n/** @internal */\nconst symbolResult = /*#__PURE__*/Symbol.for(\"@effect/schema/Serializable/symbolResult\");\n//# sourceMappingURL=serializable.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGVmZmVjdC9zY2hlbWEvZGlzdC9lc20vaW50ZXJuYWwvc2VyaWFsaXphYmxlLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFDTztBQUNQO0FBQ087QUFDUCIsInNvdXJjZXMiOlsid2VicGFjazovL2Nhc2Vjb2JyYS1kZXYvLi9ub2RlX21vZHVsZXMvQGVmZmVjdC9zY2hlbWEvZGlzdC9lc20vaW50ZXJuYWwvc2VyaWFsaXphYmxlLmpzPzMxNTciXSwic291cmNlc0NvbnRlbnQiOlsiLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IHN5bWJvbCA9IC8qI19fUFVSRV9fKi9TeW1ib2wuZm9yKFwiQGVmZmVjdC9zY2hlbWEvU2VyaWFsaXphYmxlL3N5bWJvbFwiKTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBzeW1ib2xSZXN1bHQgPSAvKiNfX1BVUkVfXyovU3ltYm9sLmZvcihcIkBlZmZlY3Qvc2NoZW1hL1NlcmlhbGl6YWJsZS9zeW1ib2xSZXN1bHRcIik7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zZXJpYWxpemFibGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@effect/schema/dist/esm/internal/serializable.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@effect/schema/dist/esm/internal/util.js":
/*!***************************************************************!*\
  !*** ./node_modules/@effect/schema/dist/esm/internal/util.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   formatPath: () => (/* binding */ formatPath),\n/* harmony export */   formatPathKey: () => (/* binding */ formatPathKey),\n/* harmony export */   formatPropertyKey: () => (/* binding */ formatPropertyKey),\n/* harmony export */   formatUnknown: () => (/* binding */ formatUnknown),\n/* harmony export */   getKeysForIndexSignature: () => (/* binding */ getKeysForIndexSignature),\n/* harmony export */   isNonEmpty: () => (/* binding */ isNonEmpty),\n/* harmony export */   isSingle: () => (/* binding */ isSingle),\n/* harmony export */   memoizeThunk: () => (/* binding */ memoizeThunk),\n/* harmony export */   ownKeys: () => (/* binding */ ownKeys)\n/* harmony export */ });\n/* harmony import */ var effect_Array__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! effect/Array */ \"(rsc)/./node_modules/effect/dist/esm/Array.js\");\n/* harmony import */ var effect_Predicate__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! effect/Predicate */ \"(rsc)/./node_modules/effect/dist/esm/Predicate.js\");\n\n\n/** @internal */\nconst getKeysForIndexSignature = (input, parameter) => {\n  switch (parameter._tag) {\n    case \"StringKeyword\":\n    case \"TemplateLiteral\":\n      return Object.keys(input);\n    case \"SymbolKeyword\":\n      return Object.getOwnPropertySymbols(input);\n    case \"Refinement\":\n      return getKeysForIndexSignature(input, parameter.from);\n  }\n};\n/** @internal */\nconst ownKeys = o => Object.keys(o).concat(Object.getOwnPropertySymbols(o));\n/** @internal */\nconst memoizeThunk = f => {\n  let done = false;\n  let a;\n  return () => {\n    if (done) {\n      return a;\n    }\n    a = f();\n    done = true;\n    return a;\n  };\n};\n/** @internal */\nconst formatUnknown = u => {\n  if (effect_Predicate__WEBPACK_IMPORTED_MODULE_0__.isString(u)) {\n    return JSON.stringify(u);\n  } else if (effect_Predicate__WEBPACK_IMPORTED_MODULE_0__.isNumber(u) || u == null || effect_Predicate__WEBPACK_IMPORTED_MODULE_0__.isBoolean(u) || effect_Predicate__WEBPACK_IMPORTED_MODULE_0__.isSymbol(u) || effect_Predicate__WEBPACK_IMPORTED_MODULE_0__.isDate(u)) {\n    return String(u);\n  } else if (effect_Predicate__WEBPACK_IMPORTED_MODULE_0__.isBigInt(u)) {\n    return String(u) + \"n\";\n  } else if (!effect_Array__WEBPACK_IMPORTED_MODULE_1__.isArray(u) && effect_Predicate__WEBPACK_IMPORTED_MODULE_0__.hasProperty(u, \"toString\") && effect_Predicate__WEBPACK_IMPORTED_MODULE_0__.isFunction(u[\"toString\"]) && u[\"toString\"] !== Object.prototype.toString) {\n    return u[\"toString\"]();\n  }\n  try {\n    JSON.stringify(u);\n    if (effect_Array__WEBPACK_IMPORTED_MODULE_1__.isArray(u)) {\n      return `[${u.map(formatUnknown).join(\",\")}]`;\n    } else {\n      return `{${ownKeys(u).map(k => `${effect_Predicate__WEBPACK_IMPORTED_MODULE_0__.isString(k) ? JSON.stringify(k) : String(k)}:${formatUnknown(u[k])}`).join(\",\")}}`;\n    }\n  } catch (e) {\n    return String(u);\n  }\n};\n/** @internal */\nconst formatPropertyKey = name => typeof name === \"string\" ? JSON.stringify(name) : String(name);\n/** @internal */\nconst isNonEmpty = x => Array.isArray(x);\n/** @internal */\nconst isSingle = x => !Array.isArray(x);\n/** @internal */\nconst formatPathKey = key => `[${formatPropertyKey(key)}]`;\n/** @internal */\nconst formatPath = path => isNonEmpty(path) ? path.map(formatPathKey).join(\"\") : formatPathKey(path);\n//# sourceMappingURL=util.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGVmZmVjdC9zY2hlbWEvZGlzdC9lc20vaW50ZXJuYWwvdXRpbC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUF1QztBQUNPO0FBQzlDO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUCxNQUFNLHNEQUFrQjtBQUN4QjtBQUNBLElBQUksU0FBUyxzREFBa0Isb0JBQW9CLHVEQUFtQixPQUFPLHNEQUFrQixPQUFPLG9EQUFnQjtBQUN0SDtBQUNBLElBQUksU0FBUyxzREFBa0I7QUFDL0I7QUFDQSxJQUFJLFVBQVUsaURBQWMsT0FBTyx5REFBcUIsbUJBQW1CLHdEQUFvQjtBQUMvRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsaURBQWM7QUFDdEIsaUJBQWlCLCtCQUErQjtBQUNoRCxNQUFNO0FBQ04sZUFBZSxFQUFFLHVCQUF1QixzREFBa0Isb0NBQW9DLEdBQUcsb0JBQW9CLGNBQWM7QUFDbkk7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ087QUFDUDtBQUNPO0FBQ1A7QUFDTyxpQ0FBaUMsdUJBQXVCO0FBQy9EO0FBQ087QUFDUCIsInNvdXJjZXMiOlsid2VicGFjazovL2Nhc2Vjb2JyYS1kZXYvLi9ub2RlX21vZHVsZXMvQGVmZmVjdC9zY2hlbWEvZGlzdC9lc20vaW50ZXJuYWwvdXRpbC5qcz9hOTZhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIGFycmF5XyBmcm9tIFwiZWZmZWN0L0FycmF5XCI7XG5pbXBvcnQgKiBhcyBQcmVkaWNhdGUgZnJvbSBcImVmZmVjdC9QcmVkaWNhdGVcIjtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBnZXRLZXlzRm9ySW5kZXhTaWduYXR1cmUgPSAoaW5wdXQsIHBhcmFtZXRlcikgPT4ge1xuICBzd2l0Y2ggKHBhcmFtZXRlci5fdGFnKSB7XG4gICAgY2FzZSBcIlN0cmluZ0tleXdvcmRcIjpcbiAgICBjYXNlIFwiVGVtcGxhdGVMaXRlcmFsXCI6XG4gICAgICByZXR1cm4gT2JqZWN0LmtleXMoaW5wdXQpO1xuICAgIGNhc2UgXCJTeW1ib2xLZXl3b3JkXCI6XG4gICAgICByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhpbnB1dCk7XG4gICAgY2FzZSBcIlJlZmluZW1lbnRcIjpcbiAgICAgIHJldHVybiBnZXRLZXlzRm9ySW5kZXhTaWduYXR1cmUoaW5wdXQsIHBhcmFtZXRlci5mcm9tKTtcbiAgfVxufTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBvd25LZXlzID0gbyA9PiBPYmplY3Qua2V5cyhvKS5jb25jYXQoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvKSk7XG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3QgbWVtb2l6ZVRodW5rID0gZiA9PiB7XG4gIGxldCBkb25lID0gZmFsc2U7XG4gIGxldCBhO1xuICByZXR1cm4gKCkgPT4ge1xuICAgIGlmIChkb25lKSB7XG4gICAgICByZXR1cm4gYTtcbiAgICB9XG4gICAgYSA9IGYoKTtcbiAgICBkb25lID0gdHJ1ZTtcbiAgICByZXR1cm4gYTtcbiAgfTtcbn07XG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3QgZm9ybWF0VW5rbm93biA9IHUgPT4ge1xuICBpZiAoUHJlZGljYXRlLmlzU3RyaW5nKHUpKSB7XG4gICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHUpO1xuICB9IGVsc2UgaWYgKFByZWRpY2F0ZS5pc051bWJlcih1KSB8fCB1ID09IG51bGwgfHwgUHJlZGljYXRlLmlzQm9vbGVhbih1KSB8fCBQcmVkaWNhdGUuaXNTeW1ib2wodSkgfHwgUHJlZGljYXRlLmlzRGF0ZSh1KSkge1xuICAgIHJldHVybiBTdHJpbmcodSk7XG4gIH0gZWxzZSBpZiAoUHJlZGljYXRlLmlzQmlnSW50KHUpKSB7XG4gICAgcmV0dXJuIFN0cmluZyh1KSArIFwiblwiO1xuICB9IGVsc2UgaWYgKCFhcnJheV8uaXNBcnJheSh1KSAmJiBQcmVkaWNhdGUuaGFzUHJvcGVydHkodSwgXCJ0b1N0cmluZ1wiKSAmJiBQcmVkaWNhdGUuaXNGdW5jdGlvbih1W1widG9TdHJpbmdcIl0pICYmIHVbXCJ0b1N0cmluZ1wiXSAhPT0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZykge1xuICAgIHJldHVybiB1W1widG9TdHJpbmdcIl0oKTtcbiAgfVxuICB0cnkge1xuICAgIEpTT04uc3RyaW5naWZ5KHUpO1xuICAgIGlmIChhcnJheV8uaXNBcnJheSh1KSkge1xuICAgICAgcmV0dXJuIGBbJHt1Lm1hcChmb3JtYXRVbmtub3duKS5qb2luKFwiLFwiKX1dYDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGB7JHtvd25LZXlzKHUpLm1hcChrID0+IGAke1ByZWRpY2F0ZS5pc1N0cmluZyhrKSA/IEpTT04uc3RyaW5naWZ5KGspIDogU3RyaW5nKGspfToke2Zvcm1hdFVua25vd24odVtrXSl9YCkuam9pbihcIixcIil9fWA7XG4gICAgfVxuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIFN0cmluZyh1KTtcbiAgfVxufTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBmb3JtYXRQcm9wZXJ0eUtleSA9IG5hbWUgPT4gdHlwZW9mIG5hbWUgPT09IFwic3RyaW5nXCIgPyBKU09OLnN0cmluZ2lmeShuYW1lKSA6IFN0cmluZyhuYW1lKTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBpc05vbkVtcHR5ID0geCA9PiBBcnJheS5pc0FycmF5KHgpO1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IGlzU2luZ2xlID0geCA9PiAhQXJyYXkuaXNBcnJheSh4KTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBmb3JtYXRQYXRoS2V5ID0ga2V5ID0+IGBbJHtmb3JtYXRQcm9wZXJ0eUtleShrZXkpfV1gO1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IGZvcm1hdFBhdGggPSBwYXRoID0+IGlzTm9uRW1wdHkocGF0aCkgPyBwYXRoLm1hcChmb3JtYXRQYXRoS2V5KS5qb2luKFwiXCIpIDogZm9ybWF0UGF0aEtleShwYXRoKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXV0aWwuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@effect/schema/dist/esm/internal/util.js\n");

/***/ })

};
;