"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@kinde";
exports.ids = ["vendor-chunks/@kinde"];
exports.modules = {

/***/ "(rsc)/./node_modules/@kinde/jwt-decoder/dist/jwt-decoder.js":
/*!*************************************************************!*\
  !*** ./node_modules/@kinde/jwt-decoder/dist/jwt-decoder.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TokenPart: () => (/* binding */ s),\n/* harmony export */   jwtDecoder: () => (/* binding */ c)\n/* harmony export */ });\nvar s = /* @__PURE__ */ ((e) => (e[e.header = 0] = \"header\", e[e.body = 1] = \"body\", e))(s || {});\nfunction c(e, t) {\n  if (!e)\n    return null;\n  const r = e.split(\".\");\n  if (r.length !== 3)\n    return null;\n  const n = r[\n    t ?? 1\n    /* body */\n  ].replace(/-/g, \"+\").replace(/_/g, \"/\"), o = decodeURIComponent(\n    atob(n).split(\"\").map((l) => \"%\" + (\"00\" + l.charCodeAt(0).toString(16)).slice(-2)).join(\"\")\n  );\n  return JSON.parse(o);\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGtpbmRlL2p3dC1kZWNvZGVyL2Rpc3Qvand0LWRlY29kZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSxnR0FBZ0c7QUFDaEc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2FzZWNvYnJhLWRldi8uL25vZGVfbW9kdWxlcy9Aa2luZGUvand0LWRlY29kZXIvZGlzdC9qd3QtZGVjb2Rlci5qcz8wOGI5Il0sInNvdXJjZXNDb250ZW50IjpbInZhciBzID0gLyogQF9fUFVSRV9fICovICgoZSkgPT4gKGVbZS5oZWFkZXIgPSAwXSA9IFwiaGVhZGVyXCIsIGVbZS5ib2R5ID0gMV0gPSBcImJvZHlcIiwgZSkpKHMgfHwge30pO1xuZnVuY3Rpb24gYyhlLCB0KSB7XG4gIGlmICghZSlcbiAgICByZXR1cm4gbnVsbDtcbiAgY29uc3QgciA9IGUuc3BsaXQoXCIuXCIpO1xuICBpZiAoci5sZW5ndGggIT09IDMpXG4gICAgcmV0dXJuIG51bGw7XG4gIGNvbnN0IG4gPSByW1xuICAgIHQgPz8gMVxuICAgIC8qIGJvZHkgKi9cbiAgXS5yZXBsYWNlKC8tL2csIFwiK1wiKS5yZXBsYWNlKC9fL2csIFwiL1wiKSwgbyA9IGRlY29kZVVSSUNvbXBvbmVudChcbiAgICBhdG9iKG4pLnNwbGl0KFwiXCIpLm1hcCgobCkgPT4gXCIlXCIgKyAoXCIwMFwiICsgbC5jaGFyQ29kZUF0KDApLnRvU3RyaW5nKDE2KSkuc2xpY2UoLTIpKS5qb2luKFwiXCIpXG4gICk7XG4gIHJldHVybiBKU09OLnBhcnNlKG8pO1xufVxuZXhwb3J0IHtcbiAgcyBhcyBUb2tlblBhcnQsXG4gIGMgYXMgand0RGVjb2RlclxufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@kinde/jwt-decoder/dist/jwt-decoder.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@kinde/jwt-validator/dist/jsrsasign-B2gZIJhY.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@kinde/jwt-validator/dist/jsrsasign-B2gZIJhY.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   j: () => (/* binding */ An)\n/* harmony export */ });\nvar Ue = {};\nUe.userAgent = !1;\nvar Ve = {};\n/*! CryptoJS v3.1.2 core-fix.js\n * code.google.com/p/crypto-js\n * (c) 2009-2013 by Jeff Mott. All rights reserved.\n * code.google.com/p/crypto-js/wiki/License\n * THIS IS FIX of 'core.js' to fix Hmac issue.\n * https://code.google.com/p/crypto-js/issues/detail?id=84\n * https://crypto-js.googlecode.com/svn-history/r667/branches/3.x/src/core.js\n */\nvar K = K || function(e, t) {\n  var r = {}, i = r.lib = {}, s = i.Base = /* @__PURE__ */ function() {\n    function o() {\n    }\n    return { extend: function(l) {\n      o.prototype = this;\n      var f = new o();\n      return l && f.mixIn(l), f.hasOwnProperty(\"init\") || (f.init = function() {\n        f.$super.init.apply(this, arguments);\n      }), f.init.prototype = f, f.$super = this, f;\n    }, create: function() {\n      var l = this.extend();\n      return l.init.apply(l, arguments), l;\n    }, init: function() {\n    }, mixIn: function(l) {\n      for (var f in l)\n        l.hasOwnProperty(f) && (this[f] = l[f]);\n      l.hasOwnProperty(\"toString\") && (this.toString = l.toString);\n    }, clone: function() {\n      return this.init.prototype.extend(this);\n    } };\n  }(), n = i.WordArray = s.extend({ init: function(o, l) {\n    o = this.words = o || [], l != t ? this.sigBytes = l : this.sigBytes = o.length * 4;\n  }, toString: function(o) {\n    return (o || u).stringify(this);\n  }, concat: function(o) {\n    var l = this.words, f = o.words, d = this.sigBytes, g = o.sigBytes;\n    if (this.clamp(), d % 4)\n      for (var S = 0; S < g; S++) {\n        var b = f[S >>> 2] >>> 24 - S % 4 * 8 & 255;\n        l[d + S >>> 2] |= b << 24 - (d + S) % 4 * 8;\n      }\n    else\n      for (var S = 0; S < g; S += 4)\n        l[d + S >>> 2] = f[S >>> 2];\n    return this.sigBytes += g, this;\n  }, clamp: function() {\n    var o = this.words, l = this.sigBytes;\n    o[l >>> 2] &= 4294967295 << 32 - l % 4 * 8, o.length = e.ceil(l / 4);\n  }, clone: function() {\n    var o = s.clone.call(this);\n    return o.words = this.words.slice(0), o;\n  }, random: function(o) {\n    for (var l = [], f = 0; f < o; f += 4)\n      l.push(e.random() * 4294967296 | 0);\n    return new n.init(l, o);\n  } }), h = r.enc = {}, u = h.Hex = { stringify: function(o) {\n    for (var l = o.words, f = o.sigBytes, d = [], g = 0; g < f; g++) {\n      var S = l[g >>> 2] >>> 24 - g % 4 * 8 & 255;\n      d.push((S >>> 4).toString(16)), d.push((S & 15).toString(16));\n    }\n    return d.join(\"\");\n  }, parse: function(o) {\n    for (var l = o.length, f = [], d = 0; d < l; d += 2)\n      f[d >>> 3] |= parseInt(o.substr(d, 2), 16) << 24 - d % 8 * 4;\n    return new n.init(f, l / 2);\n  } }, p = h.Latin1 = { stringify: function(o) {\n    for (var l = o.words, f = o.sigBytes, d = [], g = 0; g < f; g++) {\n      var S = l[g >>> 2] >>> 24 - g % 4 * 8 & 255;\n      d.push(String.fromCharCode(S));\n    }\n    return d.join(\"\");\n  }, parse: function(o) {\n    for (var l = o.length, f = [], d = 0; d < l; d++)\n      f[d >>> 2] |= (o.charCodeAt(d) & 255) << 24 - d % 4 * 8;\n    return new n.init(f, l);\n  } }, c = h.Utf8 = { stringify: function(o) {\n    try {\n      return decodeURIComponent(escape(p.stringify(o)));\n    } catch {\n      throw new Error(\"Malformed UTF-8 data\");\n    }\n  }, parse: function(o) {\n    return p.parse(unescape(encodeURIComponent(o)));\n  } }, y = i.BufferedBlockAlgorithm = s.extend({ reset: function() {\n    this._data = new n.init(), this._nDataBytes = 0;\n  }, _append: function(o) {\n    typeof o == \"string\" && (o = c.parse(o)), this._data.concat(o), this._nDataBytes += o.sigBytes;\n  }, _process: function(o) {\n    var l = this._data, f = l.words, d = l.sigBytes, g = this.blockSize, S = g * 4, b = d / S;\n    o ? b = e.ceil(b) : b = e.max((b | 0) - this._minBufferSize, 0);\n    var D = b * g, A = e.min(D * 4, d);\n    if (D) {\n      for (var I = 0; I < D; I += g)\n        this._doProcessBlock(f, I);\n      var m = f.splice(0, D);\n      l.sigBytes -= A;\n    }\n    return new n.init(m, A);\n  }, clone: function() {\n    var o = s.clone.call(this);\n    return o._data = this._data.clone(), o;\n  }, _minBufferSize: 0 });\n  i.Hasher = y.extend({ cfg: s.extend(), init: function(o) {\n    this.cfg = this.cfg.extend(o), this.reset();\n  }, reset: function() {\n    y.reset.call(this), this._doReset();\n  }, update: function(o) {\n    return this._append(o), this._process(), this;\n  }, finalize: function(o) {\n    o && this._append(o);\n    var l = this._doFinalize();\n    return l;\n  }, blockSize: 512 / 32, _createHelper: function(o) {\n    return function(l, f) {\n      return new o.init(f).finalize(l);\n    };\n  }, _createHmacHelper: function(o) {\n    return function(l, f) {\n      return new v.HMAC.init(o, f).finalize(l);\n    };\n  } });\n  var v = r.algo = {};\n  return r;\n}(Math);\n(function(e) {\n  var s = K, t = s.lib, r = t.Base, i = t.WordArray, s = s.x64 = {};\n  s.Word = r.extend({ init: function(n, h) {\n    this.high = n, this.low = h;\n  } }), s.WordArray = r.extend({ init: function(n, h) {\n    n = this.words = n || [], this.sigBytes = h != e ? h : 8 * n.length;\n  }, toX32: function() {\n    for (var n = this.words, h = n.length, u = [], p = 0; p < h; p++) {\n      var c = n[p];\n      u.push(c.high), u.push(c.low);\n    }\n    return i.create(u, this.sigBytes);\n  }, clone: function() {\n    for (var n = r.clone.call(this), h = n.words = this.words.slice(0), u = h.length, p = 0; p < u; p++) h[p] = h[p].clone();\n    return n;\n  } });\n})();\nK.lib.Cipher || function(e) {\n  var l = K, t = l.lib, r = t.Base, i = t.WordArray, s = t.BufferedBlockAlgorithm, n = l.enc.Base64, h = l.algo.EvpKDF, u = t.Cipher = s.extend({ cfg: r.extend(), createEncryptor: function(d, g) {\n    return this.create(this._ENC_XFORM_MODE, d, g);\n  }, createDecryptor: function(d, g) {\n    return this.create(this._DEC_XFORM_MODE, d, g);\n  }, init: function(d, g, S) {\n    this.cfg = this.cfg.extend(S), this._xformMode = d, this._key = g, this.reset();\n  }, reset: function() {\n    s.reset.call(this), this._doReset();\n  }, process: function(d) {\n    return this._append(d), this._process();\n  }, finalize: function(d) {\n    return d && this._append(d), this._doFinalize();\n  }, keySize: 4, ivSize: 4, _ENC_XFORM_MODE: 1, _DEC_XFORM_MODE: 2, _createHelper: function(d) {\n    return { encrypt: function(g, S, b) {\n      return (typeof S == \"string\" ? f : o).encrypt(d, g, S, b);\n    }, decrypt: function(g, S, b) {\n      return (typeof S == \"string\" ? f : o).decrypt(d, g, S, b);\n    } };\n  } });\n  t.StreamCipher = u.extend({ _doFinalize: function() {\n    return this._process(!0);\n  }, blockSize: 1 });\n  var v = l.mode = {}, p = function(d, g, S) {\n    var b = this._iv;\n    b ? this._iv = e : b = this._prevBlock;\n    for (var D = 0; D < S; D++) d[g + D] ^= b[D];\n  }, c = (t.BlockCipherMode = r.extend({ createEncryptor: function(d, g) {\n    return this.Encryptor.create(d, g);\n  }, createDecryptor: function(d, g) {\n    return this.Decryptor.create(d, g);\n  }, init: function(d, g) {\n    this._cipher = d, this._iv = g;\n  } })).extend();\n  c.Encryptor = c.extend({ processBlock: function(d, g) {\n    var S = this._cipher, b = S.blockSize;\n    p.call(this, d, g, b), S.encryptBlock(d, g), this._prevBlock = d.slice(g, g + b);\n  } }), c.Decryptor = c.extend({ processBlock: function(d, g) {\n    var S = this._cipher, b = S.blockSize, D = d.slice(g, g + b);\n    S.decryptBlock(\n      d,\n      g\n    ), p.call(this, d, g, b), this._prevBlock = D;\n  } }), v = v.CBC = c, c = (l.pad = {}).Pkcs7 = { pad: function(d, g) {\n    for (var S = 4 * g, S = S - d.sigBytes % S, b = S << 24 | S << 16 | S << 8 | S, D = [], A = 0; A < S; A += 4) D.push(b);\n    S = i.create(D, S), d.concat(S);\n  }, unpad: function(d) {\n    d.sigBytes -= d.words[d.sigBytes - 1 >>> 2] & 255;\n  } }, t.BlockCipher = u.extend({ cfg: u.cfg.extend({ mode: v, padding: c }), reset: function() {\n    u.reset.call(this);\n    var g = this.cfg, d = g.iv, g = g.mode;\n    if (this._xformMode == this._ENC_XFORM_MODE) var S = g.createEncryptor;\n    else S = g.createDecryptor, this._minBufferSize = 1;\n    this._mode = S.call(g, this, d && d.words);\n  }, _doProcessBlock: function(d, g) {\n    this._mode.processBlock(d, g);\n  }, _doFinalize: function() {\n    var d = this.cfg.padding;\n    if (this._xformMode == this._ENC_XFORM_MODE) {\n      d.pad(this._data, this.blockSize);\n      var g = this._process(!0);\n    } else g = this._process(!0), d.unpad(g);\n    return g;\n  }, blockSize: 4 });\n  var y = t.CipherParams = r.extend({ init: function(d) {\n    this.mixIn(d);\n  }, toString: function(d) {\n    return (d || this.formatter).stringify(this);\n  } }), v = (l.format = {}).OpenSSL = { stringify: function(d) {\n    var g = d.ciphertext;\n    return d = d.salt, (d ? i.create([1398893684, 1701076831]).concat(d).concat(g) : g).toString(n);\n  }, parse: function(d) {\n    d = n.parse(d);\n    var g = d.words;\n    if (g[0] == 1398893684 && g[1] == 1701076831) {\n      var S = i.create(g.slice(2, 4));\n      g.splice(0, 4), d.sigBytes -= 16;\n    }\n    return y.create({ ciphertext: d, salt: S });\n  } }, o = t.SerializableCipher = r.extend({ cfg: r.extend({ format: v }), encrypt: function(d, g, S, b) {\n    b = this.cfg.extend(b);\n    var D = d.createEncryptor(S, b);\n    return g = D.finalize(g), D = D.cfg, y.create({\n      ciphertext: g,\n      key: S,\n      iv: D.iv,\n      algorithm: d,\n      mode: D.mode,\n      padding: D.padding,\n      blockSize: d.blockSize,\n      formatter: b.format\n    });\n  }, decrypt: function(d, g, S, b) {\n    return b = this.cfg.extend(b), g = this._parse(g, b.format), d.createDecryptor(S, b).finalize(g.ciphertext);\n  }, _parse: function(d, g) {\n    return typeof d == \"string\" ? g.parse(d, this) : d;\n  } }), l = (l.kdf = {}).OpenSSL = { execute: function(d, g, S, b) {\n    return b || (b = i.random(8)), d = h.create({ keySize: g + S }).compute(d, b), S = i.create(d.words.slice(g), 4 * S), d.sigBytes = 4 * g, y.create({ key: d, iv: S, salt: b });\n  } }, f = t.PasswordBasedCipher = o.extend({ cfg: o.cfg.extend({ kdf: l }), encrypt: function(d, g, S, b) {\n    return b = this.cfg.extend(b), S = b.kdf.execute(S, d.keySize, d.ivSize), b.iv = S.iv, d = o.encrypt.call(this, d, g, S.key, b), d.mixIn(S), d;\n  }, decrypt: function(d, g, S, b) {\n    return b = this.cfg.extend(b), g = this._parse(g, b.format), S = b.kdf.execute(S, d.keySize, d.ivSize, g.salt), b.iv = S.iv, o.decrypt.call(this, d, g, S.key, b);\n  } });\n}();\n(function() {\n  for (var e = K, t = e.lib.BlockCipher, m = e.algo, r = [], i = [], s = [], n = [], h = [], u = [], p = [], c = [], y = [], v = [], o = [], l = 0; 256 > l; l++) o[l] = 128 > l ? l << 1 : l << 1 ^ 283;\n  for (var f = 0, d = 0, l = 0; 256 > l; l++) {\n    var g = d ^ d << 1 ^ d << 2 ^ d << 3 ^ d << 4, g = g >>> 8 ^ g & 255 ^ 99;\n    r[f] = g, i[g] = f;\n    var S = o[f], b = o[S], D = o[b], A = 257 * o[g] ^ 16843008 * g;\n    s[f] = A << 24 | A >>> 8, n[f] = A << 16 | A >>> 16, h[f] = A << 8 | A >>> 24, u[f] = A, A = 16843009 * D ^ 65537 * b ^ 257 * S ^ 16843008 * f, p[g] = A << 24 | A >>> 8, c[g] = A << 16 | A >>> 16, y[g] = A << 8 | A >>> 24, v[g] = A, f ? (f = S ^ o[o[o[D ^ S]]], d ^= o[o[d]]) : f = d = 1;\n  }\n  var I = [\n    0,\n    1,\n    2,\n    4,\n    8,\n    16,\n    32,\n    64,\n    128,\n    27,\n    54\n  ], m = m.AES = t.extend({ _doReset: function() {\n    for (var x = this._key, E = x.words, w = x.sigBytes / 4, x = 4 * ((this._nRounds = w + 6) + 1), F = this._keySchedule = [], P = 0; P < x; P++) if (P < w) F[P] = E[P];\n    else {\n      var T = F[P - 1];\n      P % w ? 6 < w && P % w == 4 && (T = r[T >>> 24] << 24 | r[T >>> 16 & 255] << 16 | r[T >>> 8 & 255] << 8 | r[T & 255]) : (T = T << 8 | T >>> 24, T = r[T >>> 24] << 24 | r[T >>> 16 & 255] << 16 | r[T >>> 8 & 255] << 8 | r[T & 255], T ^= I[P / w | 0] << 24), F[P] = F[P - w] ^ T;\n    }\n    for (E = this._invKeySchedule = [], w = 0; w < x; w++) P = x - w, T = w % 4 ? F[P] : F[P - 4], E[w] = 4 > w || 4 >= P ? T : p[r[T >>> 24]] ^ c[r[T >>> 16 & 255]] ^ y[r[T >>> 8 & 255]] ^ v[r[T & 255]];\n  }, encryptBlock: function(E, w) {\n    this._doCryptBlock(E, w, this._keySchedule, s, n, h, u, r);\n  }, decryptBlock: function(E, w) {\n    var x = E[w + 1];\n    E[w + 1] = E[w + 3], E[w + 3] = x, this._doCryptBlock(E, w, this._invKeySchedule, p, c, y, v, i), x = E[w + 1], E[w + 1] = E[w + 3], E[w + 3] = x;\n  }, _doCryptBlock: function(E, w, x, F, P, T, H, C) {\n    for (var B = this._nRounds, ne = E[w] ^ x[0], he = E[w + 1] ^ x[1], se = E[w + 2] ^ x[2], re = E[w + 3] ^ x[3], O = 4, j = 1; j < B; j++) var fe = F[ne >>> 24] ^ P[he >>> 16 & 255] ^ T[se >>> 8 & 255] ^ H[re & 255] ^ x[O++], Z = F[he >>> 24] ^ P[se >>> 16 & 255] ^ T[re >>> 8 & 255] ^ H[ne & 255] ^ x[O++], X = F[se >>> 24] ^ P[re >>> 16 & 255] ^ T[ne >>> 8 & 255] ^ H[he & 255] ^ x[O++], re = F[re >>> 24] ^ P[ne >>> 16 & 255] ^ T[he >>> 8 & 255] ^ H[se & 255] ^ x[O++], ne = fe, he = Z, se = X;\n    fe = (C[ne >>> 24] << 24 | C[he >>> 16 & 255] << 16 | C[se >>> 8 & 255] << 8 | C[re & 255]) ^ x[O++], Z = (C[he >>> 24] << 24 | C[se >>> 16 & 255] << 16 | C[re >>> 8 & 255] << 8 | C[ne & 255]) ^ x[O++], X = (C[se >>> 24] << 24 | C[re >>> 16 & 255] << 16 | C[ne >>> 8 & 255] << 8 | C[he & 255]) ^ x[O++], re = (C[re >>> 24] << 24 | C[ne >>> 16 & 255] << 16 | C[he >>> 8 & 255] << 8 | C[se & 255]) ^ x[O++], E[w] = fe, E[w + 1] = Z, E[w + 2] = X, E[w + 3] = re;\n  }, keySize: 8 });\n  e.AES = t._createHelper(m);\n})();\n(function() {\n  function e(o, l) {\n    var f = (this._lBlock >>> o ^ this._rBlock) & l;\n    this._rBlock ^= f, this._lBlock ^= f << o;\n  }\n  function t(o, l) {\n    var f = (this._rBlock >>> o ^ this._lBlock) & l;\n    this._lBlock ^= f, this._rBlock ^= f << o;\n  }\n  var r = K, s = r.lib, i = s.WordArray, s = s.BlockCipher, n = r.algo, h = [57, 49, 41, 33, 25, 17, 9, 1, 58, 50, 42, 34, 26, 18, 10, 2, 59, 51, 43, 35, 27, 19, 11, 3, 60, 52, 44, 36, 63, 55, 47, 39, 31, 23, 15, 7, 62, 54, 46, 38, 30, 22, 14, 6, 61, 53, 45, 37, 29, 21, 13, 5, 28, 20, 12, 4], u = [\n    14,\n    17,\n    11,\n    24,\n    1,\n    5,\n    3,\n    28,\n    15,\n    6,\n    21,\n    10,\n    23,\n    19,\n    12,\n    4,\n    26,\n    8,\n    16,\n    7,\n    27,\n    20,\n    13,\n    2,\n    41,\n    52,\n    31,\n    37,\n    47,\n    55,\n    30,\n    40,\n    51,\n    45,\n    33,\n    48,\n    44,\n    49,\n    39,\n    56,\n    34,\n    53,\n    46,\n    42,\n    50,\n    36,\n    29,\n    32\n  ], p = [1, 2, 4, 6, 8, 10, 12, 14, 15, 17, 19, 21, 23, 25, 27, 28], c = [{\n    0: 8421888,\n    268435456: 32768,\n    536870912: 8421378,\n    805306368: 2,\n    1073741824: 512,\n    1342177280: 8421890,\n    1610612736: 8389122,\n    1879048192: 8388608,\n    2147483648: 514,\n    2415919104: 8389120,\n    2684354560: 33280,\n    2952790016: 8421376,\n    3221225472: 32770,\n    3489660928: 8388610,\n    3758096384: 0,\n    4026531840: 33282,\n    134217728: 0,\n    402653184: 8421890,\n    671088640: 33282,\n    939524096: 32768,\n    1207959552: 8421888,\n    1476395008: 512,\n    1744830464: 8421378,\n    2013265920: 2,\n    2281701376: 8389120,\n    2550136832: 33280,\n    2818572288: 8421376,\n    3087007744: 8389122,\n    3355443200: 8388610,\n    3623878656: 32770,\n    3892314112: 514,\n    4160749568: 8388608,\n    1: 32768,\n    268435457: 2,\n    536870913: 8421888,\n    805306369: 8388608,\n    1073741825: 8421378,\n    1342177281: 33280,\n    1610612737: 512,\n    1879048193: 8389122,\n    2147483649: 8421890,\n    2415919105: 8421376,\n    2684354561: 8388610,\n    2952790017: 33282,\n    3221225473: 514,\n    3489660929: 8389120,\n    3758096385: 32770,\n    4026531841: 0,\n    134217729: 8421890,\n    402653185: 8421376,\n    671088641: 8388608,\n    939524097: 512,\n    1207959553: 32768,\n    1476395009: 8388610,\n    1744830465: 2,\n    2013265921: 33282,\n    2281701377: 32770,\n    2550136833: 8389122,\n    2818572289: 514,\n    3087007745: 8421888,\n    3355443201: 8389120,\n    3623878657: 0,\n    3892314113: 33280,\n    4160749569: 8421378\n  }, {\n    0: 1074282512,\n    16777216: 16384,\n    33554432: 524288,\n    50331648: 1074266128,\n    67108864: 1073741840,\n    83886080: 1074282496,\n    100663296: 1073758208,\n    117440512: 16,\n    134217728: 540672,\n    150994944: 1073758224,\n    167772160: 1073741824,\n    184549376: 540688,\n    201326592: 524304,\n    218103808: 0,\n    234881024: 16400,\n    251658240: 1074266112,\n    8388608: 1073758208,\n    25165824: 540688,\n    41943040: 16,\n    58720256: 1073758224,\n    75497472: 1074282512,\n    92274688: 1073741824,\n    109051904: 524288,\n    125829120: 1074266128,\n    142606336: 524304,\n    159383552: 0,\n    176160768: 16384,\n    192937984: 1074266112,\n    209715200: 1073741840,\n    226492416: 540672,\n    243269632: 1074282496,\n    260046848: 16400,\n    268435456: 0,\n    285212672: 1074266128,\n    301989888: 1073758224,\n    318767104: 1074282496,\n    335544320: 1074266112,\n    352321536: 16,\n    369098752: 540688,\n    385875968: 16384,\n    402653184: 16400,\n    419430400: 524288,\n    436207616: 524304,\n    452984832: 1073741840,\n    469762048: 540672,\n    486539264: 1073758208,\n    503316480: 1073741824,\n    520093696: 1074282512,\n    276824064: 540688,\n    293601280: 524288,\n    310378496: 1074266112,\n    327155712: 16384,\n    343932928: 1073758208,\n    360710144: 1074282512,\n    377487360: 16,\n    394264576: 1073741824,\n    411041792: 1074282496,\n    427819008: 1073741840,\n    444596224: 1073758224,\n    461373440: 524304,\n    478150656: 0,\n    494927872: 16400,\n    511705088: 1074266128,\n    528482304: 540672\n  }, {\n    0: 260,\n    1048576: 0,\n    2097152: 67109120,\n    3145728: 65796,\n    4194304: 65540,\n    5242880: 67108868,\n    6291456: 67174660,\n    7340032: 67174400,\n    8388608: 67108864,\n    9437184: 67174656,\n    10485760: 65792,\n    11534336: 67174404,\n    12582912: 67109124,\n    13631488: 65536,\n    14680064: 4,\n    15728640: 256,\n    524288: 67174656,\n    1572864: 67174404,\n    2621440: 0,\n    3670016: 67109120,\n    4718592: 67108868,\n    5767168: 65536,\n    6815744: 65540,\n    7864320: 260,\n    8912896: 4,\n    9961472: 256,\n    11010048: 67174400,\n    12058624: 65796,\n    13107200: 65792,\n    14155776: 67109124,\n    15204352: 67174660,\n    16252928: 67108864,\n    16777216: 67174656,\n    17825792: 65540,\n    18874368: 65536,\n    19922944: 67109120,\n    20971520: 256,\n    22020096: 67174660,\n    23068672: 67108868,\n    24117248: 0,\n    25165824: 67109124,\n    26214400: 67108864,\n    27262976: 4,\n    28311552: 65792,\n    29360128: 67174400,\n    30408704: 260,\n    31457280: 65796,\n    32505856: 67174404,\n    17301504: 67108864,\n    18350080: 260,\n    19398656: 67174656,\n    20447232: 0,\n    21495808: 65540,\n    22544384: 67109120,\n    23592960: 256,\n    24641536: 67174404,\n    25690112: 65536,\n    26738688: 67174660,\n    27787264: 65796,\n    28835840: 67108868,\n    29884416: 67109124,\n    30932992: 67174400,\n    31981568: 4,\n    33030144: 65792\n  }, {\n    0: 2151682048,\n    65536: 2147487808,\n    131072: 4198464,\n    196608: 2151677952,\n    262144: 0,\n    327680: 4198400,\n    393216: 2147483712,\n    458752: 4194368,\n    524288: 2147483648,\n    589824: 4194304,\n    655360: 64,\n    720896: 2147487744,\n    786432: 2151678016,\n    851968: 4160,\n    917504: 4096,\n    983040: 2151682112,\n    32768: 2147487808,\n    98304: 64,\n    163840: 2151678016,\n    229376: 2147487744,\n    294912: 4198400,\n    360448: 2151682112,\n    425984: 0,\n    491520: 2151677952,\n    557056: 4096,\n    622592: 2151682048,\n    688128: 4194304,\n    753664: 4160,\n    819200: 2147483648,\n    884736: 4194368,\n    950272: 4198464,\n    1015808: 2147483712,\n    1048576: 4194368,\n    1114112: 4198400,\n    1179648: 2147483712,\n    1245184: 0,\n    1310720: 4160,\n    1376256: 2151678016,\n    1441792: 2151682048,\n    1507328: 2147487808,\n    1572864: 2151682112,\n    1638400: 2147483648,\n    1703936: 2151677952,\n    1769472: 4198464,\n    1835008: 2147487744,\n    1900544: 4194304,\n    1966080: 64,\n    2031616: 4096,\n    1081344: 2151677952,\n    1146880: 2151682112,\n    1212416: 0,\n    1277952: 4198400,\n    1343488: 4194368,\n    1409024: 2147483648,\n    1474560: 2147487808,\n    1540096: 64,\n    1605632: 2147483712,\n    1671168: 4096,\n    1736704: 2147487744,\n    1802240: 2151678016,\n    1867776: 4160,\n    1933312: 2151682048,\n    1998848: 4194304,\n    2064384: 4198464\n  }, {\n    0: 128,\n    4096: 17039360,\n    8192: 262144,\n    12288: 536870912,\n    16384: 537133184,\n    20480: 16777344,\n    24576: 553648256,\n    28672: 262272,\n    32768: 16777216,\n    36864: 537133056,\n    40960: 536871040,\n    45056: 553910400,\n    49152: 553910272,\n    53248: 0,\n    57344: 17039488,\n    61440: 553648128,\n    2048: 17039488,\n    6144: 553648256,\n    10240: 128,\n    14336: 17039360,\n    18432: 262144,\n    22528: 537133184,\n    26624: 553910272,\n    30720: 536870912,\n    34816: 537133056,\n    38912: 0,\n    43008: 553910400,\n    47104: 16777344,\n    51200: 536871040,\n    55296: 553648128,\n    59392: 16777216,\n    63488: 262272,\n    65536: 262144,\n    69632: 128,\n    73728: 536870912,\n    77824: 553648256,\n    81920: 16777344,\n    86016: 553910272,\n    90112: 537133184,\n    94208: 16777216,\n    98304: 553910400,\n    102400: 553648128,\n    106496: 17039360,\n    110592: 537133056,\n    114688: 262272,\n    118784: 536871040,\n    122880: 0,\n    126976: 17039488,\n    67584: 553648256,\n    71680: 16777216,\n    75776: 17039360,\n    79872: 537133184,\n    83968: 536870912,\n    88064: 17039488,\n    92160: 128,\n    96256: 553910272,\n    100352: 262272,\n    104448: 553910400,\n    108544: 0,\n    112640: 553648128,\n    116736: 16777344,\n    120832: 262144,\n    124928: 537133056,\n    129024: 536871040\n  }, {\n    0: 268435464,\n    256: 8192,\n    512: 270532608,\n    768: 270540808,\n    1024: 268443648,\n    1280: 2097152,\n    1536: 2097160,\n    1792: 268435456,\n    2048: 0,\n    2304: 268443656,\n    2560: 2105344,\n    2816: 8,\n    3072: 270532616,\n    3328: 2105352,\n    3584: 8200,\n    3840: 270540800,\n    128: 270532608,\n    384: 270540808,\n    640: 8,\n    896: 2097152,\n    1152: 2105352,\n    1408: 268435464,\n    1664: 268443648,\n    1920: 8200,\n    2176: 2097160,\n    2432: 8192,\n    2688: 268443656,\n    2944: 270532616,\n    3200: 0,\n    3456: 270540800,\n    3712: 2105344,\n    3968: 268435456,\n    4096: 268443648,\n    4352: 270532616,\n    4608: 270540808,\n    4864: 8200,\n    5120: 2097152,\n    5376: 268435456,\n    5632: 268435464,\n    5888: 2105344,\n    6144: 2105352,\n    6400: 0,\n    6656: 8,\n    6912: 270532608,\n    7168: 8192,\n    7424: 268443656,\n    7680: 270540800,\n    7936: 2097160,\n    4224: 8,\n    4480: 2105344,\n    4736: 2097152,\n    4992: 268435464,\n    5248: 268443648,\n    5504: 8200,\n    5760: 270540808,\n    6016: 270532608,\n    6272: 270540800,\n    6528: 270532616,\n    6784: 8192,\n    7040: 2105352,\n    7296: 2097160,\n    7552: 0,\n    7808: 268435456,\n    8064: 268443656\n  }, {\n    0: 1048576,\n    16: 33555457,\n    32: 1024,\n    48: 1049601,\n    64: 34604033,\n    80: 0,\n    96: 1,\n    112: 34603009,\n    128: 33555456,\n    144: 1048577,\n    160: 33554433,\n    176: 34604032,\n    192: 34603008,\n    208: 1025,\n    224: 1049600,\n    240: 33554432,\n    8: 34603009,\n    24: 0,\n    40: 33555457,\n    56: 34604032,\n    72: 1048576,\n    88: 33554433,\n    104: 33554432,\n    120: 1025,\n    136: 1049601,\n    152: 33555456,\n    168: 34603008,\n    184: 1048577,\n    200: 1024,\n    216: 34604033,\n    232: 1,\n    248: 1049600,\n    256: 33554432,\n    272: 1048576,\n    288: 33555457,\n    304: 34603009,\n    320: 1048577,\n    336: 33555456,\n    352: 34604032,\n    368: 1049601,\n    384: 1025,\n    400: 34604033,\n    416: 1049600,\n    432: 1,\n    448: 0,\n    464: 34603008,\n    480: 33554433,\n    496: 1024,\n    264: 1049600,\n    280: 33555457,\n    296: 34603009,\n    312: 1,\n    328: 33554432,\n    344: 1048576,\n    360: 1025,\n    376: 34604032,\n    392: 33554433,\n    408: 34603008,\n    424: 0,\n    440: 34604033,\n    456: 1049601,\n    472: 1024,\n    488: 33555456,\n    504: 1048577\n  }, {\n    0: 134219808,\n    1: 131072,\n    2: 134217728,\n    3: 32,\n    4: 131104,\n    5: 134350880,\n    6: 134350848,\n    7: 2048,\n    8: 134348800,\n    9: 134219776,\n    10: 133120,\n    11: 134348832,\n    12: 2080,\n    13: 0,\n    14: 134217760,\n    15: 133152,\n    2147483648: 2048,\n    2147483649: 134350880,\n    2147483650: 134219808,\n    2147483651: 134217728,\n    2147483652: 134348800,\n    2147483653: 133120,\n    2147483654: 133152,\n    2147483655: 32,\n    2147483656: 134217760,\n    2147483657: 2080,\n    2147483658: 131104,\n    2147483659: 134350848,\n    2147483660: 0,\n    2147483661: 134348832,\n    2147483662: 134219776,\n    2147483663: 131072,\n    16: 133152,\n    17: 134350848,\n    18: 32,\n    19: 2048,\n    20: 134219776,\n    21: 134217760,\n    22: 134348832,\n    23: 131072,\n    24: 0,\n    25: 131104,\n    26: 134348800,\n    27: 134219808,\n    28: 134350880,\n    29: 133120,\n    30: 2080,\n    31: 134217728,\n    2147483664: 131072,\n    2147483665: 2048,\n    2147483666: 134348832,\n    2147483667: 133152,\n    2147483668: 32,\n    2147483669: 134348800,\n    2147483670: 134217728,\n    2147483671: 134219808,\n    2147483672: 134350880,\n    2147483673: 134217760,\n    2147483674: 134219776,\n    2147483675: 0,\n    2147483676: 133120,\n    2147483677: 2080,\n    2147483678: 131104,\n    2147483679: 134350848\n  }], y = [4160749569, 528482304, 33030144, 2064384, 129024, 8064, 504, 2147483679], v = n.DES = s.extend({ _doReset: function() {\n    for (var o = this._key.words, l = [], f = 0; 56 > f; f++) {\n      var d = h[f] - 1;\n      l[f] = o[d >>> 5] >>> 31 - d % 32 & 1;\n    }\n    for (o = this._subKeys = [], d = 0; 16 > d; d++) {\n      for (var g = o[d] = [], S = p[d], f = 0; 24 > f; f++) g[f / 6 | 0] |= l[(u[f] - 1 + S) % 28] << 31 - f % 6, g[4 + (f / 6 | 0)] |= l[28 + (u[f + 24] - 1 + S) % 28] << 31 - f % 6;\n      for (g[0] = g[0] << 1 | g[0] >>> 31, f = 1; 7 > f; f++) g[f] >>>= 4 * (f - 1) + 3;\n      g[7] = g[7] << 5 | g[7] >>> 27;\n    }\n    for (l = this._invSubKeys = [], f = 0; 16 > f; f++) l[f] = o[15 - f];\n  }, encryptBlock: function(o, l) {\n    this._doCryptBlock(o, l, this._subKeys);\n  }, decryptBlock: function(o, l) {\n    this._doCryptBlock(o, l, this._invSubKeys);\n  }, _doCryptBlock: function(o, l, f) {\n    this._lBlock = o[l], this._rBlock = o[l + 1], e.call(this, 4, 252645135), e.call(this, 16, 65535), t.call(this, 2, 858993459), t.call(this, 8, 16711935), e.call(this, 1, 1431655765);\n    for (var d = 0; 16 > d; d++) {\n      for (var g = f[d], S = this._lBlock, b = this._rBlock, D = 0, A = 0; 8 > A; A++) D |= c[A][((b ^ g[A]) & y[A]) >>> 0];\n      this._lBlock = b, this._rBlock = S ^ D;\n    }\n    f = this._lBlock, this._lBlock = this._rBlock, this._rBlock = f, e.call(this, 1, 1431655765), t.call(this, 8, 16711935), t.call(this, 2, 858993459), e.call(this, 16, 65535), e.call(this, 4, 252645135), o[l] = this._lBlock, o[l + 1] = this._rBlock;\n  }, keySize: 2, ivSize: 2, blockSize: 2 });\n  r.DES = s._createHelper(v), n = n.TripleDES = s.extend({ _doReset: function() {\n    var o = this._key.words;\n    this._des1 = v.createEncryptor(i.create(o.slice(0, 2))), this._des2 = v.createEncryptor(i.create(o.slice(2, 4))), this._des3 = v.createEncryptor(i.create(o.slice(4, 6)));\n  }, encryptBlock: function(o, l) {\n    this._des1.encryptBlock(o, l), this._des2.decryptBlock(o, l), this._des3.encryptBlock(o, l);\n  }, decryptBlock: function(o, l) {\n    this._des3.decryptBlock(o, l), this._des2.encryptBlock(o, l), this._des1.decryptBlock(o, l);\n  }, keySize: 6, ivSize: 2, blockSize: 2 }), r.TripleDES = s._createHelper(n);\n})();\n(function() {\n  var e = K, t = e.lib.WordArray;\n  e.enc.Base64 = { stringify: function(r) {\n    var i = r.words, s = r.sigBytes, n = this._map;\n    r.clamp(), r = [];\n    for (var h = 0; h < s; h += 3) for (var u = (i[h >>> 2] >>> 24 - 8 * (h % 4) & 255) << 16 | (i[h + 1 >>> 2] >>> 24 - 8 * ((h + 1) % 4) & 255) << 8 | i[h + 2 >>> 2] >>> 24 - 8 * ((h + 2) % 4) & 255, p = 0; 4 > p && h + 0.75 * p < s; p++) r.push(n.charAt(u >>> 6 * (3 - p) & 63));\n    if (i = n.charAt(64)) for (; r.length % 4; ) r.push(i);\n    return r.join(\"\");\n  }, parse: function(r) {\n    var i = r.length, s = this._map, n = s.charAt(64);\n    n && (n = r.indexOf(n), n != -1 && (i = n));\n    for (var n = [], h = 0, u = 0; u < i; u++) if (u % 4) {\n      var p = s.indexOf(r.charAt(u - 1)) << 2 * (u % 4), c = s.indexOf(r.charAt(u)) >>> 6 - 2 * (u % 4);\n      n[h >>> 2] |= (p | c) << 24 - 8 * (h % 4), h++;\n    }\n    return t.create(n, h);\n  }, _map: \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\" };\n})();\n(function(e) {\n  function t(v, o, l, f, d, g, S) {\n    return v = v + (o & l | ~o & f) + d + S, (v << g | v >>> 32 - g) + o;\n  }\n  function r(v, o, l, f, d, g, S) {\n    return v = v + (o & f | l & ~f) + d + S, (v << g | v >>> 32 - g) + o;\n  }\n  function i(v, o, l, f, d, g, S) {\n    return v = v + (o ^ l ^ f) + d + S, (v << g | v >>> 32 - g) + o;\n  }\n  function s(v, o, l, f, d, g, S) {\n    return v = v + (l ^ (o | ~f)) + d + S, (v << g | v >>> 32 - g) + o;\n  }\n  for (var n = K, p = n.lib, h = p.WordArray, u = p.Hasher, p = n.algo, c = [], y = 0; 64 > y; y++) c[y] = 4294967296 * e.abs(e.sin(y + 1)) | 0;\n  p = p.MD5 = u.extend({\n    _doReset: function() {\n      this._hash = new h.init([1732584193, 4023233417, 2562383102, 271733878]);\n    },\n    _doProcessBlock: function(v, o) {\n      for (var l = 0; 16 > l; l++) {\n        var f = o + l, d = v[f];\n        v[f] = (d << 8 | d >>> 24) & 16711935 | (d << 24 | d >>> 8) & 4278255360;\n      }\n      var l = this._hash.words, f = v[o + 0], d = v[o + 1], g = v[o + 2], S = v[o + 3], b = v[o + 4], D = v[o + 5], A = v[o + 6], I = v[o + 7], m = v[o + 8], E = v[o + 9], w = v[o + 10], x = v[o + 11], F = v[o + 12], P = v[o + 13], T = v[o + 14], H = v[o + 15], C = l[0], j = l[1], O = l[2], B = l[3], C = t(C, j, O, B, f, 7, c[0]), B = t(B, C, j, O, d, 12, c[1]), O = t(O, B, C, j, g, 17, c[2]), j = t(j, O, B, C, S, 22, c[3]), C = t(C, j, O, B, b, 7, c[4]), B = t(B, C, j, O, D, 12, c[5]), O = t(O, B, C, j, A, 17, c[6]), j = t(j, O, B, C, I, 22, c[7]), C = t(C, j, O, B, m, 7, c[8]), B = t(B, C, j, O, E, 12, c[9]), O = t(O, B, C, j, w, 17, c[10]), j = t(j, O, B, C, x, 22, c[11]), C = t(C, j, O, B, F, 7, c[12]), B = t(B, C, j, O, P, 12, c[13]), O = t(O, B, C, j, T, 17, c[14]), j = t(j, O, B, C, H, 22, c[15]), C = r(C, j, O, B, d, 5, c[16]), B = r(B, C, j, O, A, 9, c[17]), O = r(O, B, C, j, x, 14, c[18]), j = r(j, O, B, C, f, 20, c[19]), C = r(C, j, O, B, D, 5, c[20]), B = r(B, C, j, O, w, 9, c[21]), O = r(O, B, C, j, H, 14, c[22]), j = r(j, O, B, C, b, 20, c[23]), C = r(C, j, O, B, E, 5, c[24]), B = r(B, C, j, O, T, 9, c[25]), O = r(O, B, C, j, S, 14, c[26]), j = r(j, O, B, C, m, 20, c[27]), C = r(C, j, O, B, P, 5, c[28]), B = r(\n        B,\n        C,\n        j,\n        O,\n        g,\n        9,\n        c[29]\n      ), O = r(O, B, C, j, I, 14, c[30]), j = r(j, O, B, C, F, 20, c[31]), C = i(C, j, O, B, D, 4, c[32]), B = i(B, C, j, O, m, 11, c[33]), O = i(O, B, C, j, x, 16, c[34]), j = i(j, O, B, C, T, 23, c[35]), C = i(C, j, O, B, d, 4, c[36]), B = i(B, C, j, O, b, 11, c[37]), O = i(O, B, C, j, I, 16, c[38]), j = i(j, O, B, C, w, 23, c[39]), C = i(C, j, O, B, P, 4, c[40]), B = i(B, C, j, O, f, 11, c[41]), O = i(O, B, C, j, S, 16, c[42]), j = i(j, O, B, C, A, 23, c[43]), C = i(C, j, O, B, E, 4, c[44]), B = i(B, C, j, O, F, 11, c[45]), O = i(O, B, C, j, H, 16, c[46]), j = i(j, O, B, C, g, 23, c[47]), C = s(C, j, O, B, f, 6, c[48]), B = s(B, C, j, O, I, 10, c[49]), O = s(\n        O,\n        B,\n        C,\n        j,\n        T,\n        15,\n        c[50]\n      ), j = s(j, O, B, C, D, 21, c[51]), C = s(C, j, O, B, F, 6, c[52]), B = s(B, C, j, O, S, 10, c[53]), O = s(O, B, C, j, w, 15, c[54]), j = s(j, O, B, C, d, 21, c[55]), C = s(C, j, O, B, m, 6, c[56]), B = s(B, C, j, O, H, 10, c[57]), O = s(O, B, C, j, A, 15, c[58]), j = s(j, O, B, C, P, 21, c[59]), C = s(C, j, O, B, b, 6, c[60]), B = s(B, C, j, O, x, 10, c[61]), O = s(O, B, C, j, g, 15, c[62]), j = s(j, O, B, C, E, 21, c[63]);\n      l[0] = l[0] + C | 0, l[1] = l[1] + j | 0, l[2] = l[2] + O | 0, l[3] = l[3] + B | 0;\n    },\n    _doFinalize: function() {\n      var v = this._data, o = v.words, l = 8 * this._nDataBytes, f = 8 * v.sigBytes;\n      o[f >>> 5] |= 128 << 24 - f % 32;\n      var d = e.floor(l / 4294967296);\n      for (o[(f + 64 >>> 9 << 4) + 15] = (d << 8 | d >>> 24) & 16711935 | (d << 24 | d >>> 8) & 4278255360, o[(f + 64 >>> 9 << 4) + 14] = (l << 8 | l >>> 24) & 16711935 | (l << 24 | l >>> 8) & 4278255360, v.sigBytes = 4 * (o.length + 1), this._process(), v = this._hash, o = v.words, l = 0; 4 > l; l++) f = o[l], o[l] = (f << 8 | f >>> 24) & 16711935 | (f << 24 | f >>> 8) & 4278255360;\n      return v;\n    },\n    clone: function() {\n      var v = u.clone.call(this);\n      return v._hash = this._hash.clone(), v;\n    }\n  }), n.MD5 = u._createHelper(p), n.HmacMD5 = u._createHmacHelper(p);\n})(Math);\n(function() {\n  var e = K, s = e.lib, t = s.WordArray, r = s.Hasher, i = [], s = e.algo.SHA1 = r.extend({ _doReset: function() {\n    this._hash = new t.init([1732584193, 4023233417, 2562383102, 271733878, 3285377520]);\n  }, _doProcessBlock: function(n, h) {\n    for (var u = this._hash.words, p = u[0], c = u[1], y = u[2], v = u[3], o = u[4], l = 0; 80 > l; l++) {\n      if (16 > l) i[l] = n[h + l] | 0;\n      else {\n        var f = i[l - 3] ^ i[l - 8] ^ i[l - 14] ^ i[l - 16];\n        i[l] = f << 1 | f >>> 31;\n      }\n      f = (p << 5 | p >>> 27) + o + i[l], f = 20 > l ? f + ((c & y | ~c & v) + 1518500249) : 40 > l ? f + ((c ^ y ^ v) + 1859775393) : 60 > l ? f + ((c & y | c & v | y & v) - 1894007588) : f + ((c ^ y ^ v) - 899497514), o = v, v = y, y = c << 30 | c >>> 2, c = p, p = f;\n    }\n    u[0] = u[0] + p | 0, u[1] = u[1] + c | 0, u[2] = u[2] + y | 0, u[3] = u[3] + v | 0, u[4] = u[4] + o | 0;\n  }, _doFinalize: function() {\n    var n = this._data, h = n.words, u = 8 * this._nDataBytes, p = 8 * n.sigBytes;\n    return h[p >>> 5] |= 128 << 24 - p % 32, h[(p + 64 >>> 9 << 4) + 14] = Math.floor(u / 4294967296), h[(p + 64 >>> 9 << 4) + 15] = u, n.sigBytes = 4 * h.length, this._process(), this._hash;\n  }, clone: function() {\n    var n = r.clone.call(this);\n    return n._hash = this._hash.clone(), n;\n  } });\n  e.SHA1 = r._createHelper(s), e.HmacSHA1 = r._createHmacHelper(s);\n})();\n(function(e) {\n  for (var t = K, l = t.lib, r = l.WordArray, i = l.Hasher, l = t.algo, s = [], n = [], h = function(d) {\n    return 4294967296 * (d - (d | 0)) | 0;\n  }, u = 2, p = 0; 64 > p; ) {\n    var c;\n    e: {\n      c = u;\n      for (var y = e.sqrt(c), v = 2; v <= y; v++) if (!(c % v)) {\n        c = !1;\n        break e;\n      }\n      c = !0;\n    }\n    c && (8 > p && (s[p] = h(e.pow(u, 0.5))), n[p] = h(e.pow(u, 1 / 3)), p++), u++;\n  }\n  var o = [], l = l.SHA256 = i.extend({ _doReset: function() {\n    this._hash = new r.init(s.slice(0));\n  }, _doProcessBlock: function(f, d) {\n    for (var g = this._hash.words, S = g[0], b = g[1], D = g[2], A = g[3], I = g[4], m = g[5], E = g[6], w = g[7], x = 0; 64 > x; x++) {\n      if (16 > x) o[x] = f[d + x] | 0;\n      else {\n        var F = o[x - 15], P = o[x - 2];\n        o[x] = ((F << 25 | F >>> 7) ^ (F << 14 | F >>> 18) ^ F >>> 3) + o[x - 7] + ((P << 15 | P >>> 17) ^ (P << 13 | P >>> 19) ^ P >>> 10) + o[x - 16];\n      }\n      F = w + ((I << 26 | I >>> 6) ^ (I << 21 | I >>> 11) ^ (I << 7 | I >>> 25)) + (I & m ^ ~I & E) + n[x] + o[x], P = ((S << 30 | S >>> 2) ^ (S << 19 | S >>> 13) ^ (S << 10 | S >>> 22)) + (S & b ^ S & D ^ b & D), w = E, E = m, m = I, I = A + F | 0, A = D, D = b, b = S, S = F + P | 0;\n    }\n    g[0] = g[0] + S | 0, g[1] = g[1] + b | 0, g[2] = g[2] + D | 0, g[3] = g[3] + A | 0, g[4] = g[4] + I | 0, g[5] = g[5] + m | 0, g[6] = g[6] + E | 0, g[7] = g[7] + w | 0;\n  }, _doFinalize: function() {\n    var f = this._data, d = f.words, g = 8 * this._nDataBytes, S = 8 * f.sigBytes;\n    return d[S >>> 5] |= 128 << 24 - S % 32, d[(S + 64 >>> 9 << 4) + 14] = e.floor(g / 4294967296), d[(S + 64 >>> 9 << 4) + 15] = g, f.sigBytes = 4 * d.length, this._process(), this._hash;\n  }, clone: function() {\n    var f = i.clone.call(this);\n    return f._hash = this._hash.clone(), f;\n  } });\n  t.SHA256 = i._createHelper(l), t.HmacSHA256 = i._createHmacHelper(l);\n})(Math);\n(function() {\n  var e = K, t = e.lib.WordArray, i = e.algo, r = i.SHA256, i = i.SHA224 = r.extend({ _doReset: function() {\n    this._hash = new t.init([3238371032, 914150663, 812702999, 4144912697, 4290775857, 1750603025, 1694076839, 3204075428]);\n  }, _doFinalize: function() {\n    var s = r._doFinalize.call(this);\n    return s.sigBytes -= 4, s;\n  } });\n  e.SHA224 = r._createHelper(i), e.HmacSHA224 = r._createHmacHelper(i);\n})();\n(function() {\n  function e() {\n    return i.create.apply(i, arguments);\n  }\n  for (var t = K, r = t.lib.Hasher, n = t.x64, i = n.Word, s = n.WordArray, n = t.algo, h = [\n    e(1116352408, 3609767458),\n    e(1899447441, 602891725),\n    e(3049323471, 3964484399),\n    e(3921009573, 2173295548),\n    e(961987163, 4081628472),\n    e(1508970993, 3053834265),\n    e(2453635748, 2937671579),\n    e(2870763221, 3664609560),\n    e(3624381080, 2734883394),\n    e(310598401, 1164996542),\n    e(607225278, 1323610764),\n    e(1426881987, 3590304994),\n    e(1925078388, 4068182383),\n    e(2162078206, 991336113),\n    e(2614888103, 633803317),\n    e(3248222580, 3479774868),\n    e(3835390401, 2666613458),\n    e(4022224774, 944711139),\n    e(264347078, 2341262773),\n    e(604807628, 2007800933),\n    e(770255983, 1495990901),\n    e(1249150122, 1856431235),\n    e(1555081692, 3175218132),\n    e(1996064986, 2198950837),\n    e(2554220882, 3999719339),\n    e(2821834349, 766784016),\n    e(2952996808, 2566594879),\n    e(3210313671, 3203337956),\n    e(3336571891, 1034457026),\n    e(3584528711, 2466948901),\n    e(113926993, 3758326383),\n    e(338241895, 168717936),\n    e(666307205, 1188179964),\n    e(773529912, 1546045734),\n    e(1294757372, 1522805485),\n    e(\n      1396182291,\n      2643833823\n    ),\n    e(1695183700, 2343527390),\n    e(1986661051, 1014477480),\n    e(2177026350, 1206759142),\n    e(2456956037, 344077627),\n    e(2730485921, 1290863460),\n    e(2820302411, 3158454273),\n    e(3259730800, 3505952657),\n    e(3345764771, 106217008),\n    e(3516065817, 3606008344),\n    e(3600352804, 1432725776),\n    e(4094571909, 1467031594),\n    e(275423344, 851169720),\n    e(430227734, 3100823752),\n    e(506948616, 1363258195),\n    e(659060556, 3750685593),\n    e(883997877, 3785050280),\n    e(958139571, 3318307427),\n    e(1322822218, 3812723403),\n    e(1537002063, 2003034995),\n    e(1747873779, 3602036899),\n    e(1955562222, 1575990012),\n    e(2024104815, 1125592928),\n    e(2227730452, 2716904306),\n    e(2361852424, 442776044),\n    e(2428436474, 593698344),\n    e(2756734187, 3733110249),\n    e(3204031479, 2999351573),\n    e(3329325298, 3815920427),\n    e(3391569614, 3928383900),\n    e(3515267271, 566280711),\n    e(3940187606, 3454069534),\n    e(4118630271, 4000239992),\n    e(116418474, 1914138554),\n    e(174292421, 2731055270),\n    e(289380356, 3203993006),\n    e(460393269, 320620315),\n    e(685471733, 587496836),\n    e(852142971, 1086792851),\n    e(1017036298, 365543100),\n    e(1126000580, 2618297676),\n    e(\n      1288033470,\n      3409855158\n    ),\n    e(1501505948, 4234509866),\n    e(1607167915, 987167468),\n    e(1816402316, 1246189591)\n  ], u = [], p = 0; 80 > p; p++) u[p] = e();\n  n = n.SHA512 = r.extend({ _doReset: function() {\n    this._hash = new s.init([new i.init(1779033703, 4089235720), new i.init(3144134277, 2227873595), new i.init(1013904242, 4271175723), new i.init(2773480762, 1595750129), new i.init(1359893119, 2917565137), new i.init(2600822924, 725511199), new i.init(528734635, 4215389547), new i.init(1541459225, 327033209)]);\n  }, _doProcessBlock: function(c, y) {\n    for (var b = this._hash.words, v = b[0], o = b[1], l = b[2], f = b[3], d = b[4], g = b[5], S = b[6], b = b[7], D = v.high, A = v.low, I = o.high, m = o.low, E = l.high, w = l.low, x = f.high, F = f.low, P = d.high, T = d.low, H = g.high, C = g.low, B = S.high, O = S.low, j = b.high, fe = b.low, Z = D, X = A, re = I, ne = m, he = E, se = w, ke = x, ce = F, M = P, G = T, Q = H, ee = C, pe = B, te = O, Me = j, Ne = fe, xe = 0; 80 > xe; xe++) {\n      var Ce = u[xe];\n      if (16 > xe) var ye = Ce.high = c[y + 2 * xe] | 0, U = Ce.low = c[y + 2 * xe + 1] | 0;\n      else {\n        var ye = u[xe - 15], U = ye.high, Fe = ye.low, ye = (U >>> 1 | Fe << 31) ^ (U >>> 8 | Fe << 24) ^ U >>> 7, Fe = (Fe >>> 1 | U << 31) ^ (Fe >>> 8 | U << 24) ^ (Fe >>> 7 | U << 25), He = u[xe - 2], U = He.high, $ = He.low, He = (U >>> 19 | $ << 13) ^ (U << 3 | $ >>> 29) ^ U >>> 6, $ = ($ >>> 19 | U << 13) ^ ($ << 3 | U >>> 29) ^ ($ >>> 6 | U << 26), U = u[xe - 7], Qe = U.high, Ie = u[xe - 16], be = Ie.high, Ie = Ie.low, U = Fe + U.low, ye = ye + Qe + (U >>> 0 < Fe >>> 0 ? 1 : 0), U = U + $, ye = ye + He + (U >>> 0 < $ >>> 0 ? 1 : 0), U = U + Ie, ye = ye + be + (U >>> 0 < Ie >>> 0 ? 1 : 0);\n        Ce.high = ye, Ce.low = U;\n      }\n      var Qe = M & Q ^ ~M & pe, Ie = G & ee ^ ~G & te, Ce = Z & re ^ Z & he ^ re & he, Kt = X & ne ^ X & se ^ ne & se, Fe = (Z >>> 28 | X << 4) ^ (Z << 30 | X >>> 2) ^ (Z << 25 | X >>> 7), He = (X >>> 28 | Z << 4) ^ (X << 30 | Z >>> 2) ^ (X << 25 | Z >>> 7), $ = h[xe], Lt = $.high, ct = $.low, $ = Ne + ((G >>> 14 | M << 18) ^ (G >>> 18 | M << 14) ^ (G << 23 | M >>> 9)), be = Me + ((M >>> 14 | G << 18) ^ (M >>> 18 | G << 14) ^ (M << 23 | G >>> 9)) + ($ >>> 0 < Ne >>> 0 ? 1 : 0), $ = $ + Ie, be = be + Qe + ($ >>> 0 < Ie >>> 0 ? 1 : 0), $ = $ + ct, be = be + Lt + ($ >>> 0 < ct >>> 0 ? 1 : 0), $ = $ + U, be = be + ye + ($ >>> 0 < U >>> 0 ? 1 : 0), U = He + Kt, Ce = Fe + Ce + (U >>> 0 < He >>> 0 ? 1 : 0), Me = pe, Ne = te, pe = Q, te = ee, Q = M, ee = G, G = ce + $ | 0, M = ke + be + (G >>> 0 < ce >>> 0 ? 1 : 0) | 0, ke = he, ce = se, he = re, se = ne, re = Z, ne = X, X = $ + U | 0, Z = be + Ce + (X >>> 0 < $ >>> 0 ? 1 : 0) | 0;\n    }\n    A = v.low = A + X, v.high = D + Z + (A >>> 0 < X >>> 0 ? 1 : 0), m = o.low = m + ne, o.high = I + re + (m >>> 0 < ne >>> 0 ? 1 : 0), w = l.low = w + se, l.high = E + he + (w >>> 0 < se >>> 0 ? 1 : 0), F = f.low = F + ce, f.high = x + ke + (F >>> 0 < ce >>> 0 ? 1 : 0), T = d.low = T + G, d.high = P + M + (T >>> 0 < G >>> 0 ? 1 : 0), C = g.low = C + ee, g.high = H + Q + (C >>> 0 < ee >>> 0 ? 1 : 0), O = S.low = O + te, S.high = B + pe + (O >>> 0 < te >>> 0 ? 1 : 0), fe = b.low = fe + Ne, b.high = j + Me + (fe >>> 0 < Ne >>> 0 ? 1 : 0);\n  }, _doFinalize: function() {\n    var c = this._data, y = c.words, v = 8 * this._nDataBytes, o = 8 * c.sigBytes;\n    return y[o >>> 5] |= 128 << 24 - o % 32, y[(o + 128 >>> 10 << 5) + 30] = Math.floor(v / 4294967296), y[(o + 128 >>> 10 << 5) + 31] = v, c.sigBytes = 4 * y.length, this._process(), this._hash.toX32();\n  }, clone: function() {\n    var c = r.clone.call(this);\n    return c._hash = this._hash.clone(), c;\n  }, blockSize: 32 }), t.SHA512 = r._createHelper(n), t.HmacSHA512 = r._createHmacHelper(n);\n})();\n(function() {\n  var e = K, s = e.x64, t = s.Word, r = s.WordArray, s = e.algo, i = s.SHA512, s = s.SHA384 = i.extend({ _doReset: function() {\n    this._hash = new r.init([new t.init(3418070365, 3238371032), new t.init(1654270250, 914150663), new t.init(2438529370, 812702999), new t.init(355462360, 4144912697), new t.init(1731405415, 4290775857), new t.init(2394180231, 1750603025), new t.init(3675008525, 1694076839), new t.init(1203062813, 3204075428)]);\n  }, _doFinalize: function() {\n    var n = i._doFinalize.call(this);\n    return n.sigBytes -= 16, n;\n  } });\n  e.SHA384 = i._createHelper(s), e.HmacSHA384 = i._createHmacHelper(s);\n})();\n(function() {\n  var e = K, c = e.lib, t = c.WordArray, r = c.Hasher, c = e.algo, i = t.create([0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 7, 4, 13, 1, 10, 6, 15, 3, 12, 0, 9, 5, 2, 14, 11, 8, 3, 10, 14, 4, 9, 15, 8, 1, 2, 7, 0, 6, 13, 11, 5, 12, 1, 9, 11, 10, 0, 8, 12, 4, 13, 3, 7, 15, 14, 5, 6, 2, 4, 0, 5, 9, 7, 12, 2, 10, 14, 1, 3, 8, 11, 6, 15, 13]), s = t.create([5, 14, 7, 0, 9, 2, 11, 4, 13, 6, 15, 8, 1, 10, 3, 12, 6, 11, 3, 7, 0, 13, 5, 10, 14, 15, 8, 12, 4, 9, 1, 2, 15, 5, 1, 3, 7, 14, 6, 9, 11, 8, 12, 2, 10, 0, 4, 13, 8, 6, 4, 1, 3, 11, 15, 0, 5, 12, 2, 13, 9, 7, 10, 14, 12, 15, 10, 4, 1, 5, 8, 7, 6, 2, 13, 14, 0, 3, 9, 11]), n = t.create([\n    11,\n    14,\n    15,\n    12,\n    5,\n    8,\n    7,\n    9,\n    11,\n    13,\n    14,\n    15,\n    6,\n    7,\n    9,\n    8,\n    7,\n    6,\n    8,\n    13,\n    11,\n    9,\n    7,\n    15,\n    7,\n    12,\n    15,\n    9,\n    11,\n    7,\n    13,\n    12,\n    11,\n    13,\n    6,\n    7,\n    14,\n    9,\n    13,\n    15,\n    14,\n    8,\n    13,\n    6,\n    5,\n    12,\n    7,\n    5,\n    11,\n    12,\n    14,\n    15,\n    14,\n    15,\n    9,\n    8,\n    9,\n    14,\n    5,\n    6,\n    8,\n    6,\n    5,\n    12,\n    9,\n    15,\n    5,\n    11,\n    6,\n    8,\n    13,\n    12,\n    5,\n    12,\n    13,\n    14,\n    11,\n    8,\n    5,\n    6\n  ]), h = t.create([8, 9, 9, 11, 13, 15, 15, 5, 7, 7, 8, 11, 14, 14, 12, 6, 9, 13, 15, 7, 12, 8, 9, 11, 7, 7, 12, 7, 6, 15, 13, 11, 9, 7, 15, 11, 8, 6, 6, 14, 12, 13, 5, 14, 13, 13, 7, 5, 15, 5, 8, 11, 14, 14, 6, 14, 6, 9, 12, 9, 12, 5, 15, 8, 8, 5, 12, 9, 12, 5, 14, 6, 8, 13, 6, 5, 15, 13, 11, 11]), u = t.create([0, 1518500249, 1859775393, 2400959708, 2840853838]), p = t.create([\n    1352829926,\n    1548603684,\n    1836072691,\n    2053994217,\n    0\n  ]), c = c.RIPEMD160 = r.extend({ _doReset: function() {\n    this._hash = t.create([1732584193, 4023233417, 2562383102, 271733878, 3285377520]);\n  }, _doProcessBlock: function(y, v) {\n    for (var o = 0; 16 > o; o++) {\n      var l = v + o, f = y[l];\n      y[l] = (f << 8 | f >>> 24) & 16711935 | (f << 24 | f >>> 8) & 4278255360;\n    }\n    var l = this._hash.words, f = u.words, d = p.words, g = i.words, S = s.words, b = n.words, D = h.words, A, I, m, E, w, x, F, P, T, H;\n    x = A = l[0], F = I = l[1], P = m = l[2], T = E = l[3], H = w = l[4];\n    for (var C, o = 0; 80 > o; o += 1) C = A + y[v + g[o]] | 0, C = 16 > o ? C + ((I ^ m ^ E) + f[0]) : 32 > o ? C + ((I & m | ~I & E) + f[1]) : 48 > o ? C + (((I | ~m) ^ E) + f[2]) : 64 > o ? C + ((I & E | m & ~E) + f[3]) : C + ((I ^ (m | ~E)) + f[4]), C |= 0, C = C << b[o] | C >>> 32 - b[o], C = C + w | 0, A = w, w = E, E = m << 10 | m >>> 22, m = I, I = C, C = x + y[v + S[o]] | 0, C = 16 > o ? C + ((F ^ (P | ~T)) + d[0]) : 32 > o ? C + ((F & T | P & ~T) + d[1]) : 48 > o ? C + (((F | ~P) ^ T) + d[2]) : 64 > o ? C + ((F & P | ~F & T) + d[3]) : C + ((F ^ P ^ T) + d[4]), C |= 0, C = C << D[o] | C >>> 32 - D[o], C = C + H | 0, x = H, H = T, T = P << 10 | P >>> 22, P = F, F = C;\n    C = l[1] + m + T | 0, l[1] = l[2] + E + H | 0, l[2] = l[3] + w + x | 0, l[3] = l[4] + A + F | 0, l[4] = l[0] + I + P | 0, l[0] = C;\n  }, _doFinalize: function() {\n    var y = this._data, v = y.words, o = 8 * this._nDataBytes, l = 8 * y.sigBytes;\n    for (v[l >>> 5] |= 128 << 24 - l % 32, v[(l + 64 >>> 9 << 4) + 14] = (o << 8 | o >>> 24) & 16711935 | (o << 24 | o >>> 8) & 4278255360, y.sigBytes = 4 * (v.length + 1), this._process(), y = this._hash, v = y.words, o = 0; 5 > o; o++) l = v[o], v[o] = (l << 8 | l >>> 24) & 16711935 | (l << 24 | l >>> 8) & 4278255360;\n    return y;\n  }, clone: function() {\n    var y = r.clone.call(this);\n    return y._hash = this._hash.clone(), y;\n  } });\n  e.RIPEMD160 = r._createHelper(c), e.HmacRIPEMD160 = r._createHmacHelper(c);\n})();\n(function() {\n  var e = K, t = e.enc.Utf8;\n  e.algo.HMAC = e.lib.Base.extend({ init: function(r, i) {\n    r = this._hasher = new r.init(), typeof i == \"string\" && (i = t.parse(i));\n    var s = r.blockSize, n = 4 * s;\n    i.sigBytes > n && (i = r.finalize(i)), i.clamp();\n    for (var h = this._oKey = i.clone(), u = this._iKey = i.clone(), p = h.words, c = u.words, y = 0; y < s; y++) p[y] ^= 1549556828, c[y] ^= 909522486;\n    h.sigBytes = u.sigBytes = n, this.reset();\n  }, reset: function() {\n    var r = this._hasher;\n    r.reset(), r.update(this._iKey);\n  }, update: function(r) {\n    return this._hasher.update(r), this;\n  }, finalize: function(r) {\n    var i = this._hasher;\n    return r = i.finalize(r), i.reset(), i.finalize(this._oKey.clone().concat(r));\n  } });\n})();\n(function() {\n  var e = K, i = e.lib, t = i.Base, r = i.WordArray, i = e.algo, s = i.HMAC, n = i.PBKDF2 = t.extend({ cfg: t.extend({ keySize: 4, hasher: i.SHA1, iterations: 1 }), init: function(h) {\n    this.cfg = this.cfg.extend(h);\n  }, compute: function(h, u) {\n    for (var f = this.cfg, p = s.create(f.hasher, h), c = r.create(), y = r.create([1]), v = c.words, o = y.words, l = f.keySize, f = f.iterations; v.length < l; ) {\n      var d = p.update(u).finalize(y);\n      p.reset();\n      for (var g = d.words, S = g.length, b = d, D = 1; D < f; D++) {\n        b = p.finalize(b), p.reset();\n        for (var A = b.words, I = 0; I < S; I++) g[I] ^= A[I];\n      }\n      c.concat(d), o[0]++;\n    }\n    return c.sigBytes = 4 * l, c;\n  } });\n  e.PBKDF2 = function(h, u, p) {\n    return n.create(p).compute(h, u);\n  };\n})();\n/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/\n */\nvar Ke = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\", Et = \"=\";\nfunction _e(e) {\n  var t, r, i = \"\";\n  for (t = 0; t + 3 <= e.length; t += 3)\n    r = parseInt(e.substring(t, t + 3), 16), i += Ke.charAt(r >> 6) + Ke.charAt(r & 63);\n  for (t + 1 == e.length ? (r = parseInt(e.substring(t, t + 1), 16), i += Ke.charAt(r << 2)) : t + 2 == e.length && (r = parseInt(e.substring(t, t + 2), 16), i += Ke.charAt(r >> 2) + Ke.charAt((r & 3) << 4)); (i.length & 3) > 0; )\n    i += Et;\n  return i;\n}\nfunction it(e) {\n  var t = \"\", r, i = 0, s, n;\n  for (r = 0; r < e.length && e.charAt(r) != Et; ++r)\n    n = Ke.indexOf(e.charAt(r)), !(n < 0) && (i == 0 ? (t += De(n >> 2), s = n & 3, i = 1) : i == 1 ? (t += De(s << 2 | n >> 4), s = n & 15, i = 2) : i == 2 ? (t += De(s), t += De(n >> 2), s = n & 3, i = 3) : (t += De(s << 2 | n >> 4), t += De(n & 15), i = 0));\n  return i == 1 && (t += De(s << 2)), t;\n}\n/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/\n*/\nvar Te;\nfunction R(e, t, r) {\n  e != null && (typeof e == \"number\" ? this.fromNumber(e, t, r) : t == null && typeof e != \"string\" ? this.fromString(e, 256) : this.fromString(e, t));\n}\nfunction _() {\n  return new R(null);\n}\nfunction qt(e, t, r, i, s, n) {\n  for (; --n >= 0; ) {\n    var h = t * this[e++] + r[i] + s;\n    s = Math.floor(h / 67108864), r[i++] = h & 67108863;\n  }\n  return s;\n}\nfunction kt(e, t, r, i, s, n) {\n  for (var h = t & 32767, u = t >> 15; --n >= 0; ) {\n    var p = this[e] & 32767, c = this[e++] >> 15, y = u * p + c * h;\n    p = h * p + ((y & 32767) << 15) + r[i] + (s & 1073741823), s = (p >>> 30) + (y >>> 15) + u * c + (s >>> 30), r[i++] = p & 1073741823;\n  }\n  return s;\n}\nfunction Mt(e, t, r, i, s, n) {\n  for (var h = t & 16383, u = t >> 14; --n >= 0; ) {\n    var p = this[e] & 16383, c = this[e++] >> 14, y = u * p + c * h;\n    p = h * p + ((y & 16383) << 14) + r[i] + s, s = (p >> 28) + (y >> 14) + u * c, r[i++] = p & 268435455;\n  }\n  return s;\n}\nUe.appName == \"Microsoft Internet Explorer\" ? (R.prototype.am = kt, Te = 30) : Ue.appName != \"Netscape\" ? (R.prototype.am = qt, Te = 26) : (R.prototype.am = Mt, Te = 28);\nR.prototype.DB = Te;\nR.prototype.DM = (1 << Te) - 1;\nR.prototype.DV = 1 << Te;\nvar nt = 52;\nR.prototype.FV = Math.pow(2, nt);\nR.prototype.F1 = nt - Te;\nR.prototype.F2 = 2 * Te - nt;\nvar _t = \"0123456789abcdefghijklmnopqrstuvwxyz\", $e = new Array(), Le, me;\nLe = 48;\nfor (me = 0; me <= 9; ++me)\n  $e[Le++] = me;\nLe = 97;\nfor (me = 10; me < 36; ++me)\n  $e[Le++] = me;\nLe = 65;\nfor (me = 10; me < 36; ++me)\n  $e[Le++] = me;\nfunction De(e) {\n  return _t.charAt(e);\n}\nfunction wt(e, t) {\n  var r = $e[e.charCodeAt(t)];\n  return r ?? -1;\n}\nfunction Ut(e) {\n  for (var t = this.t - 1; t >= 0; --t)\n    e[t] = this[t];\n  e.t = this.t, e.s = this.s;\n}\nfunction zt(e) {\n  this.t = 1, this.s = e < 0 ? -1 : 0, e > 0 ? this[0] = e : e < -1 ? this[0] = e + this.DV : this.t = 0;\n}\nfunction Re(e) {\n  var t = _();\n  return t.fromInt(e), t;\n}\nfunction Gt(e, t) {\n  var r;\n  if (t == 16)\n    r = 4;\n  else if (t == 8)\n    r = 3;\n  else if (t == 256)\n    r = 8;\n  else if (t == 2)\n    r = 1;\n  else if (t == 32)\n    r = 5;\n  else if (t == 4)\n    r = 2;\n  else {\n    this.fromRadix(e, t);\n    return;\n  }\n  this.t = 0, this.s = 0;\n  for (var i = e.length, s = !1, n = 0; --i >= 0; ) {\n    var h = r == 8 ? e[i] & 255 : wt(e, i);\n    if (h < 0) {\n      e.charAt(i) == \"-\" && (s = !0);\n      continue;\n    }\n    s = !1, n == 0 ? this[this.t++] = h : n + r > this.DB ? (this[this.t - 1] |= (h & (1 << this.DB - n) - 1) << n, this[this.t++] = h >> this.DB - n) : this[this.t - 1] |= h << n, n += r, n >= this.DB && (n -= this.DB);\n  }\n  r == 8 && e[0] & 128 && (this.s = -1, n > 0 && (this[this.t - 1] |= (1 << this.DB - n) - 1 << n)), this.clamp(), s && R.ZERO.subTo(this, this);\n}\nfunction Wt() {\n  for (var e = this.s & this.DM; this.t > 0 && this[this.t - 1] == e; )\n    --this.t;\n}\nfunction Xt(e) {\n  if (this.s < 0)\n    return \"-\" + this.negate().toString(e);\n  var t;\n  if (e == 16)\n    t = 4;\n  else if (e == 8)\n    t = 3;\n  else if (e == 2)\n    t = 1;\n  else if (e == 32)\n    t = 5;\n  else if (e == 4)\n    t = 2;\n  else\n    return this.toRadix(e);\n  var r = (1 << t) - 1, i, s = !1, n = \"\", h = this.t, u = this.DB - h * this.DB % t;\n  if (h-- > 0)\n    for (u < this.DB && (i = this[h] >> u) > 0 && (s = !0, n = De(i)); h >= 0; )\n      u < t ? (i = (this[h] & (1 << u) - 1) << t - u, i |= this[--h] >> (u += this.DB - t)) : (i = this[h] >> (u -= t) & r, u <= 0 && (u += this.DB, --h)), i > 0 && (s = !0), s && (n += De(i));\n  return s ? n : \"0\";\n}\nfunction Jt() {\n  var e = _();\n  return R.ZERO.subTo(this, e), e;\n}\nfunction $t() {\n  return this.s < 0 ? this.negate() : this;\n}\nfunction Yt(e) {\n  var t = this.s - e.s;\n  if (t != 0)\n    return t;\n  var r = this.t;\n  if (t = r - e.t, t != 0)\n    return this.s < 0 ? -t : t;\n  for (; --r >= 0; )\n    if ((t = this[r] - e[r]) != 0)\n      return t;\n  return 0;\n}\nfunction Ye(e) {\n  var t = 1, r;\n  return (r = e >>> 16) != 0 && (e = r, t += 16), (r = e >> 8) != 0 && (e = r, t += 8), (r = e >> 4) != 0 && (e = r, t += 4), (r = e >> 2) != 0 && (e = r, t += 2), (r = e >> 1) != 0 && (e = r, t += 1), t;\n}\nfunction Zt() {\n  return this.t <= 0 ? 0 : this.DB * (this.t - 1) + Ye(this[this.t - 1] ^ this.s & this.DM);\n}\nfunction Qt(e, t) {\n  var r;\n  for (r = this.t - 1; r >= 0; --r)\n    t[r + e] = this[r];\n  for (r = e - 1; r >= 0; --r)\n    t[r] = 0;\n  t.t = this.t + e, t.s = this.s;\n}\nfunction er(e, t) {\n  for (var r = e; r < this.t; ++r)\n    t[r - e] = this[r];\n  t.t = Math.max(this.t - e, 0), t.s = this.s;\n}\nfunction tr(e, t) {\n  var r = e % this.DB, i = this.DB - r, s = (1 << i) - 1, n = Math.floor(e / this.DB), h = this.s << r & this.DM, u;\n  for (u = this.t - 1; u >= 0; --u)\n    t[u + n + 1] = this[u] >> i | h, h = (this[u] & s) << r;\n  for (u = n - 1; u >= 0; --u)\n    t[u] = 0;\n  t[n] = h, t.t = this.t + n + 1, t.s = this.s, t.clamp();\n}\nfunction rr(e, t) {\n  t.s = this.s;\n  var r = Math.floor(e / this.DB);\n  if (r >= this.t) {\n    t.t = 0;\n    return;\n  }\n  var i = e % this.DB, s = this.DB - i, n = (1 << i) - 1;\n  t[0] = this[r] >> i;\n  for (var h = r + 1; h < this.t; ++h)\n    t[h - r - 1] |= (this[h] & n) << s, t[h - r] = this[h] >> i;\n  i > 0 && (t[this.t - r - 1] |= (this.s & n) << s), t.t = this.t - r, t.clamp();\n}\nfunction ir(e, t) {\n  for (var r = 0, i = 0, s = Math.min(e.t, this.t); r < s; )\n    i += this[r] - e[r], t[r++] = i & this.DM, i >>= this.DB;\n  if (e.t < this.t) {\n    for (i -= e.s; r < this.t; )\n      i += this[r], t[r++] = i & this.DM, i >>= this.DB;\n    i += this.s;\n  } else {\n    for (i += this.s; r < e.t; )\n      i -= e[r], t[r++] = i & this.DM, i >>= this.DB;\n    i -= e.s;\n  }\n  t.s = i < 0 ? -1 : 0, i < -1 ? t[r++] = this.DV + i : i > 0 && (t[r++] = i), t.t = r, t.clamp();\n}\nfunction nr(e, t) {\n  var r = this.abs(), i = e.abs(), s = r.t;\n  for (t.t = s + i.t; --s >= 0; )\n    t[s] = 0;\n  for (s = 0; s < i.t; ++s)\n    t[s + r.t] = r.am(0, i[s], t, s, 0, r.t);\n  t.s = 0, t.clamp(), this.s != e.s && R.ZERO.subTo(t, t);\n}\nfunction sr(e) {\n  for (var t = this.abs(), r = e.t = 2 * t.t; --r >= 0; )\n    e[r] = 0;\n  for (r = 0; r < t.t - 1; ++r) {\n    var i = t.am(r, t[r], e, 2 * r, 0, 1);\n    (e[r + t.t] += t.am(r + 1, 2 * t[r], e, 2 * r + 1, i, t.t - r - 1)) >= t.DV && (e[r + t.t] -= t.DV, e[r + t.t + 1] = 1);\n  }\n  e.t > 0 && (e[e.t - 1] += t.am(r, t[r], e, 2 * r, 0, 1)), e.s = 0, e.clamp();\n}\nfunction ar(e, t, r) {\n  var i = e.abs();\n  if (!(i.t <= 0)) {\n    var s = this.abs();\n    if (s.t < i.t) {\n      t != null && t.fromInt(0), r != null && this.copyTo(r);\n      return;\n    }\n    r == null && (r = _());\n    var n = _(), h = this.s, u = e.s, p = this.DB - Ye(i[i.t - 1]);\n    p > 0 ? (i.lShiftTo(p, n), s.lShiftTo(p, r)) : (i.copyTo(n), s.copyTo(r));\n    var c = n.t, y = n[c - 1];\n    if (y != 0) {\n      var v = y * (1 << this.F1) + (c > 1 ? n[c - 2] >> this.F2 : 0), o = this.FV / v, l = (1 << this.F1) / v, f = 1 << this.F2, d = r.t, g = d - c, S = t ?? _();\n      for (n.dlShiftTo(g, S), r.compareTo(S) >= 0 && (r[r.t++] = 1, r.subTo(S, r)), R.ONE.dlShiftTo(c, S), S.subTo(n, n); n.t < c; )\n        n[n.t++] = 0;\n      for (; --g >= 0; ) {\n        var b = r[--d] == y ? this.DM : Math.floor(r[d] * o + (r[d - 1] + f) * l);\n        if ((r[d] += n.am(0, b, r, g, 0, c)) < b)\n          for (n.dlShiftTo(g, S), r.subTo(S, r); r[d] < --b; )\n            r.subTo(S, r);\n      }\n      t != null && (r.drShiftTo(c, t), h != u && R.ZERO.subTo(t, t)), r.t = c, r.clamp(), p > 0 && r.rShiftTo(p, r), h < 0 && R.ZERO.subTo(r, r);\n    }\n  }\n}\nfunction or(e) {\n  var t = _();\n  return this.abs().divRemTo(e, null, t), this.s < 0 && t.compareTo(R.ZERO) > 0 && e.subTo(t, t), t;\n}\nfunction Oe(e) {\n  this.m = e;\n}\nfunction ur(e) {\n  return e.s < 0 || e.compareTo(this.m) >= 0 ? e.mod(this.m) : e;\n}\nfunction hr(e) {\n  return e;\n}\nfunction fr(e) {\n  e.divRemTo(this.m, null, e);\n}\nfunction cr(e, t, r) {\n  e.multiplyTo(t, r), this.reduce(r);\n}\nfunction lr(e, t) {\n  e.squareTo(t), this.reduce(t);\n}\nOe.prototype.convert = ur;\nOe.prototype.revert = hr;\nOe.prototype.reduce = fr;\nOe.prototype.mulTo = cr;\nOe.prototype.sqrTo = lr;\nfunction dr() {\n  if (this.t < 1)\n    return 0;\n  var e = this[0];\n  if (!(e & 1))\n    return 0;\n  var t = e & 3;\n  return t = t * (2 - (e & 15) * t) & 15, t = t * (2 - (e & 255) * t) & 255, t = t * (2 - ((e & 65535) * t & 65535)) & 65535, t = t * (2 - e * t % this.DV) % this.DV, t > 0 ? this.DV - t : -t;\n}\nfunction je(e) {\n  this.m = e, this.mp = e.invDigit(), this.mpl = this.mp & 32767, this.mph = this.mp >> 15, this.um = (1 << e.DB - 15) - 1, this.mt2 = 2 * e.t;\n}\nfunction pr(e) {\n  var t = _();\n  return e.abs().dlShiftTo(this.m.t, t), t.divRemTo(this.m, null, t), e.s < 0 && t.compareTo(R.ZERO) > 0 && this.m.subTo(t, t), t;\n}\nfunction vr(e) {\n  var t = _();\n  return e.copyTo(t), this.reduce(t), t;\n}\nfunction gr(e) {\n  for (; e.t <= this.mt2; )\n    e[e.t++] = 0;\n  for (var t = 0; t < this.m.t; ++t) {\n    var r = e[t] & 32767, i = r * this.mpl + ((r * this.mph + (e[t] >> 15) * this.mpl & this.um) << 15) & e.DM;\n    for (r = t + this.m.t, e[r] += this.m.am(0, i, e, t, 0, this.m.t); e[r] >= e.DV; )\n      e[r] -= e.DV, e[++r]++;\n  }\n  e.clamp(), e.drShiftTo(this.m.t, e), e.compareTo(this.m) >= 0 && e.subTo(this.m, e);\n}\nfunction yr(e, t) {\n  e.squareTo(t), this.reduce(t);\n}\nfunction mr(e, t, r) {\n  e.multiplyTo(t, r), this.reduce(r);\n}\nje.prototype.convert = pr;\nje.prototype.revert = vr;\nje.prototype.reduce = gr;\nje.prototype.mulTo = mr;\nje.prototype.sqrTo = yr;\nfunction xr() {\n  return (this.t > 0 ? this[0] & 1 : this.s) == 0;\n}\nfunction Sr(e, t) {\n  if (e > 4294967295 || e < 1)\n    return R.ONE;\n  var r = _(), i = _(), s = t.convert(this), n = Ye(e) - 1;\n  for (s.copyTo(r); --n >= 0; )\n    if (t.sqrTo(r, i), (e & 1 << n) > 0)\n      t.mulTo(i, s, r);\n    else {\n      var h = r;\n      r = i, i = h;\n    }\n  return t.revert(r);\n}\nfunction Er(e, t) {\n  var r;\n  return e < 256 || t.isEven() ? r = new Oe(t) : r = new je(t), this.exp(e, r);\n}\nR.prototype.copyTo = Ut;\nR.prototype.fromInt = zt;\nR.prototype.fromString = Gt;\nR.prototype.clamp = Wt;\nR.prototype.dlShiftTo = Qt;\nR.prototype.drShiftTo = er;\nR.prototype.lShiftTo = tr;\nR.prototype.rShiftTo = rr;\nR.prototype.subTo = ir;\nR.prototype.multiplyTo = nr;\nR.prototype.squareTo = sr;\nR.prototype.divRemTo = ar;\nR.prototype.invDigit = dr;\nR.prototype.isEven = xr;\nR.prototype.exp = Sr;\nR.prototype.toString = Xt;\nR.prototype.negate = Jt;\nR.prototype.abs = $t;\nR.prototype.compareTo = Yt;\nR.prototype.bitLength = Zt;\nR.prototype.mod = or;\nR.prototype.modPowInt = Er;\nR.ZERO = Re(0);\nR.ONE = Re(1);\n/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/\n */\nfunction wr() {\n  var e = _();\n  return this.copyTo(e), e;\n}\nfunction Fr() {\n  if (this.s < 0) {\n    if (this.t == 1)\n      return this[0] - this.DV;\n    if (this.t == 0)\n      return -1;\n  } else {\n    if (this.t == 1)\n      return this[0];\n    if (this.t == 0)\n      return 0;\n  }\n  return (this[1] & (1 << 32 - this.DB) - 1) << this.DB | this[0];\n}\nfunction br() {\n  return this.t == 0 ? this.s : this[0] << 24 >> 24;\n}\nfunction Ar() {\n  return this.t == 0 ? this.s : this[0] << 16 >> 16;\n}\nfunction Dr(e) {\n  return Math.floor(Math.LN2 * this.DB / Math.log(e));\n}\nfunction Pr() {\n  return this.s < 0 ? -1 : this.t <= 0 || this.t == 1 && this[0] <= 0 ? 0 : 1;\n}\nfunction Ir(e) {\n  if (e == null && (e = 10), this.signum() == 0 || e < 2 || e > 36)\n    return \"0\";\n  var t = this.chunkSize(e), r = Math.pow(e, t), i = Re(r), s = _(), n = _(), h = \"\";\n  for (this.divRemTo(i, s, n); s.signum() > 0; )\n    h = (r + n.intValue()).toString(e).substr(1) + h, s.divRemTo(i, s, n);\n  return n.intValue().toString(e) + h;\n}\nfunction Cr(e, t) {\n  this.fromInt(0), t == null && (t = 10);\n  for (var r = this.chunkSize(t), i = Math.pow(t, r), s = !1, n = 0, h = 0, u = 0; u < e.length; ++u) {\n    var p = wt(e, u);\n    if (p < 0) {\n      e.charAt(u) == \"-\" && this.signum() == 0 && (s = !0);\n      continue;\n    }\n    h = t * h + p, ++n >= r && (this.dMultiply(i), this.dAddOffset(h, 0), n = 0, h = 0);\n  }\n  n > 0 && (this.dMultiply(Math.pow(t, n)), this.dAddOffset(h, 0)), s && R.ZERO.subTo(this, this);\n}\nfunction Rr(e, t, r) {\n  if (typeof t == \"number\")\n    if (e < 2)\n      this.fromInt(1);\n    else\n      for (this.fromNumber(e, r), this.testBit(e - 1) || this.bitwiseTo(R.ONE.shiftLeft(e - 1), st, this), this.isEven() && this.dAddOffset(1, 0); !this.isProbablePrime(t); )\n        this.dAddOffset(2, 0), this.bitLength() > e && this.subTo(R.ONE.shiftLeft(e - 1), this);\n  else {\n    var i = new Array(), s = e & 7;\n    i.length = (e >> 3) + 1, t.nextBytes(i), s > 0 ? i[0] &= (1 << s) - 1 : i[0] = 0, this.fromString(i, 256);\n  }\n}\nfunction Tr() {\n  var e = this.t, t = new Array();\n  t[0] = this.s;\n  var r = this.DB - e * this.DB % 8, i, s = 0;\n  if (e-- > 0)\n    for (r < this.DB && (i = this[e] >> r) != (this.s & this.DM) >> r && (t[s++] = i | this.s << this.DB - r); e >= 0; )\n      r < 8 ? (i = (this[e] & (1 << r) - 1) << 8 - r, i |= this[--e] >> (r += this.DB - 8)) : (i = this[e] >> (r -= 8) & 255, r <= 0 && (r += this.DB, --e)), i & 128 && (i |= -256), s == 0 && (this.s & 128) != (i & 128) && ++s, (s > 0 || i != this.s) && (t[s++] = i);\n  return t;\n}\nfunction Br(e) {\n  return this.compareTo(e) == 0;\n}\nfunction Nr(e) {\n  return this.compareTo(e) < 0 ? this : e;\n}\nfunction Hr(e) {\n  return this.compareTo(e) > 0 ? this : e;\n}\nfunction Or(e, t, r) {\n  var i, s, n = Math.min(e.t, this.t);\n  for (i = 0; i < n; ++i)\n    r[i] = t(this[i], e[i]);\n  if (e.t < this.t) {\n    for (s = e.s & this.DM, i = n; i < this.t; ++i)\n      r[i] = t(this[i], s);\n    r.t = this.t;\n  } else {\n    for (s = this.s & this.DM, i = n; i < e.t; ++i)\n      r[i] = t(s, e[i]);\n    r.t = e.t;\n  }\n  r.s = t(this.s, e.s), r.clamp();\n}\nfunction jr(e, t) {\n  return e & t;\n}\nfunction Vr(e) {\n  var t = _();\n  return this.bitwiseTo(e, jr, t), t;\n}\nfunction st(e, t) {\n  return e | t;\n}\nfunction Kr(e) {\n  var t = _();\n  return this.bitwiseTo(e, st, t), t;\n}\nfunction Ft(e, t) {\n  return e ^ t;\n}\nfunction Lr(e) {\n  var t = _();\n  return this.bitwiseTo(e, Ft, t), t;\n}\nfunction bt(e, t) {\n  return e & ~t;\n}\nfunction qr(e) {\n  var t = _();\n  return this.bitwiseTo(e, bt, t), t;\n}\nfunction kr() {\n  for (var e = _(), t = 0; t < this.t; ++t)\n    e[t] = this.DM & ~this[t];\n  return e.t = this.t, e.s = ~this.s, e;\n}\nfunction Mr(e) {\n  var t = _();\n  return e < 0 ? this.rShiftTo(-e, t) : this.lShiftTo(e, t), t;\n}\nfunction _r(e) {\n  var t = _();\n  return e < 0 ? this.lShiftTo(-e, t) : this.rShiftTo(e, t), t;\n}\nfunction Ur(e) {\n  if (e == 0)\n    return -1;\n  var t = 0;\n  return e & 65535 || (e >>= 16, t += 16), e & 255 || (e >>= 8, t += 8), e & 15 || (e >>= 4, t += 4), e & 3 || (e >>= 2, t += 2), e & 1 || ++t, t;\n}\nfunction zr() {\n  for (var e = 0; e < this.t; ++e)\n    if (this[e] != 0)\n      return e * this.DB + Ur(this[e]);\n  return this.s < 0 ? this.t * this.DB : -1;\n}\nfunction Gr(e) {\n  for (var t = 0; e != 0; )\n    e &= e - 1, ++t;\n  return t;\n}\nfunction Wr() {\n  for (var e = 0, t = this.s & this.DM, r = 0; r < this.t; ++r)\n    e += Gr(this[r] ^ t);\n  return e;\n}\nfunction Xr(e) {\n  var t = Math.floor(e / this.DB);\n  return t >= this.t ? this.s != 0 : (this[t] & 1 << e % this.DB) != 0;\n}\nfunction Jr(e, t) {\n  var r = R.ONE.shiftLeft(e);\n  return this.bitwiseTo(r, t, r), r;\n}\nfunction $r(e) {\n  return this.changeBit(e, st);\n}\nfunction Yr(e) {\n  return this.changeBit(e, bt);\n}\nfunction Zr(e) {\n  return this.changeBit(e, Ft);\n}\nfunction Qr(e, t) {\n  for (var r = 0, i = 0, s = Math.min(e.t, this.t); r < s; )\n    i += this[r] + e[r], t[r++] = i & this.DM, i >>= this.DB;\n  if (e.t < this.t) {\n    for (i += e.s; r < this.t; )\n      i += this[r], t[r++] = i & this.DM, i >>= this.DB;\n    i += this.s;\n  } else {\n    for (i += this.s; r < e.t; )\n      i += e[r], t[r++] = i & this.DM, i >>= this.DB;\n    i += e.s;\n  }\n  t.s = i < 0 ? -1 : 0, i > 0 ? t[r++] = i : i < -1 && (t[r++] = this.DV + i), t.t = r, t.clamp();\n}\nfunction ei(e) {\n  var t = _();\n  return this.addTo(e, t), t;\n}\nfunction ti(e) {\n  var t = _();\n  return this.subTo(e, t), t;\n}\nfunction ri(e) {\n  var t = _();\n  return this.multiplyTo(e, t), t;\n}\nfunction ii() {\n  var e = _();\n  return this.squareTo(e), e;\n}\nfunction ni(e) {\n  var t = _();\n  return this.divRemTo(e, t, null), t;\n}\nfunction si(e) {\n  var t = _();\n  return this.divRemTo(e, null, t), t;\n}\nfunction ai(e) {\n  var t = _(), r = _();\n  return this.divRemTo(e, t, r), new Array(t, r);\n}\nfunction oi(e) {\n  this[this.t] = this.am(0, e - 1, this, 0, 0, this.t), ++this.t, this.clamp();\n}\nfunction ui(e, t) {\n  if (e != 0) {\n    for (; this.t <= t; )\n      this[this.t++] = 0;\n    for (this[t] += e; this[t] >= this.DV; )\n      this[t] -= this.DV, ++t >= this.t && (this[this.t++] = 0), ++this[t];\n  }\n}\nfunction ze() {\n}\nfunction At(e) {\n  return e;\n}\nfunction hi(e, t, r) {\n  e.multiplyTo(t, r);\n}\nfunction fi(e, t) {\n  e.squareTo(t);\n}\nze.prototype.convert = At;\nze.prototype.revert = At;\nze.prototype.mulTo = hi;\nze.prototype.sqrTo = fi;\nfunction ci(e) {\n  return this.exp(e, new ze());\n}\nfunction li(e, t, r) {\n  var i = Math.min(this.t + e.t, t);\n  for (r.s = 0, r.t = i; i > 0; )\n    r[--i] = 0;\n  var s;\n  for (s = r.t - this.t; i < s; ++i)\n    r[i + this.t] = this.am(0, e[i], r, i, 0, this.t);\n  for (s = Math.min(e.t, t); i < s; ++i)\n    this.am(0, e[i], r, i, 0, t - i);\n  r.clamp();\n}\nfunction di(e, t, r) {\n  --t;\n  var i = r.t = this.t + e.t - t;\n  for (r.s = 0; --i >= 0; )\n    r[i] = 0;\n  for (i = Math.max(t - this.t, 0); i < e.t; ++i)\n    r[this.t + i - t] = this.am(t - i, e[i], r, 0, 0, this.t + i - t);\n  r.clamp(), r.drShiftTo(1, r);\n}\nfunction qe(e) {\n  this.r2 = _(), this.q3 = _(), R.ONE.dlShiftTo(2 * e.t, this.r2), this.mu = this.r2.divide(e), this.m = e;\n}\nfunction pi(e) {\n  if (e.s < 0 || e.t > 2 * this.m.t)\n    return e.mod(this.m);\n  if (e.compareTo(this.m) < 0)\n    return e;\n  var t = _();\n  return e.copyTo(t), this.reduce(t), t;\n}\nfunction vi(e) {\n  return e;\n}\nfunction gi(e) {\n  for (e.drShiftTo(this.m.t - 1, this.r2), e.t > this.m.t + 1 && (e.t = this.m.t + 1, e.clamp()), this.mu.multiplyUpperTo(this.r2, this.m.t + 1, this.q3), this.m.multiplyLowerTo(this.q3, this.m.t + 1, this.r2); e.compareTo(this.r2) < 0; )\n    e.dAddOffset(1, this.m.t + 1);\n  for (e.subTo(this.r2, e); e.compareTo(this.m) >= 0; )\n    e.subTo(this.m, e);\n}\nfunction yi(e, t) {\n  e.squareTo(t), this.reduce(t);\n}\nfunction mi(e, t, r) {\n  e.multiplyTo(t, r), this.reduce(r);\n}\nqe.prototype.convert = pi;\nqe.prototype.revert = vi;\nqe.prototype.reduce = gi;\nqe.prototype.mulTo = mi;\nqe.prototype.sqrTo = yi;\nfunction xi(e, t) {\n  var r = e.bitLength(), i, s = Re(1), n;\n  if (r <= 0)\n    return s;\n  r < 18 ? i = 1 : r < 48 ? i = 3 : r < 144 ? i = 4 : r < 768 ? i = 5 : i = 6, r < 8 ? n = new Oe(t) : t.isEven() ? n = new qe(t) : n = new je(t);\n  var h = new Array(), u = 3, p = i - 1, c = (1 << i) - 1;\n  if (h[1] = n.convert(this), i > 1) {\n    var y = _();\n    for (n.sqrTo(h[1], y); u <= c; )\n      h[u] = _(), n.mulTo(y, h[u - 2], h[u]), u += 2;\n  }\n  var v = e.t - 1, o, l = !0, f = _(), d;\n  for (r = Ye(e[v]) - 1; v >= 0; ) {\n    for (r >= p ? o = e[v] >> r - p & c : (o = (e[v] & (1 << r + 1) - 1) << p - r, v > 0 && (o |= e[v - 1] >> this.DB + r - p)), u = i; !(o & 1); )\n      o >>= 1, --u;\n    if ((r -= u) < 0 && (r += this.DB, --v), l)\n      h[o].copyTo(s), l = !1;\n    else {\n      for (; u > 1; )\n        n.sqrTo(s, f), n.sqrTo(f, s), u -= 2;\n      u > 0 ? n.sqrTo(s, f) : (d = s, s = f, f = d), n.mulTo(f, h[o], s);\n    }\n    for (; v >= 0 && !(e[v] & 1 << r); )\n      n.sqrTo(s, f), d = s, s = f, f = d, --r < 0 && (r = this.DB - 1, --v);\n  }\n  return n.revert(s);\n}\nfunction Si(e) {\n  var t = this.s < 0 ? this.negate() : this.clone(), r = e.s < 0 ? e.negate() : e.clone();\n  if (t.compareTo(r) < 0) {\n    var i = t;\n    t = r, r = i;\n  }\n  var s = t.getLowestSetBit(), n = r.getLowestSetBit();\n  if (n < 0)\n    return t;\n  for (s < n && (n = s), n > 0 && (t.rShiftTo(n, t), r.rShiftTo(n, r)); t.signum() > 0; )\n    (s = t.getLowestSetBit()) > 0 && t.rShiftTo(s, t), (s = r.getLowestSetBit()) > 0 && r.rShiftTo(s, r), t.compareTo(r) >= 0 ? (t.subTo(r, t), t.rShiftTo(1, t)) : (r.subTo(t, r), r.rShiftTo(1, r));\n  return n > 0 && r.lShiftTo(n, r), r;\n}\nfunction Ei(e) {\n  if (e <= 0)\n    return 0;\n  var t = this.DV % e, r = this.s < 0 ? e - 1 : 0;\n  if (this.t > 0)\n    if (t == 0)\n      r = this[0] % e;\n    else\n      for (var i = this.t - 1; i >= 0; --i)\n        r = (t * r + this[i]) % e;\n  return r;\n}\nfunction wi(e) {\n  var t = e.isEven();\n  if (this.isEven() && t || e.signum() == 0)\n    return R.ZERO;\n  for (var r = e.clone(), i = this.clone(), s = Re(1), n = Re(0), h = Re(0), u = Re(1); r.signum() != 0; ) {\n    for (; r.isEven(); )\n      r.rShiftTo(1, r), t ? ((!s.isEven() || !n.isEven()) && (s.addTo(this, s), n.subTo(e, n)), s.rShiftTo(1, s)) : n.isEven() || n.subTo(e, n), n.rShiftTo(1, n);\n    for (; i.isEven(); )\n      i.rShiftTo(1, i), t ? ((!h.isEven() || !u.isEven()) && (h.addTo(this, h), u.subTo(e, u)), h.rShiftTo(1, h)) : u.isEven() || u.subTo(e, u), u.rShiftTo(1, u);\n    r.compareTo(i) >= 0 ? (r.subTo(i, r), t && s.subTo(h, s), n.subTo(u, n)) : (i.subTo(r, i), t && h.subTo(s, h), u.subTo(n, u));\n  }\n  if (i.compareTo(R.ONE) != 0)\n    return R.ZERO;\n  if (u.compareTo(e) >= 0)\n    return u.subtract(e);\n  if (u.signum() < 0)\n    u.addTo(e, u);\n  else\n    return u;\n  return u.signum() < 0 ? u.add(e) : u;\n}\nvar le = [2, 3, 5, 7, 11, 13, 17, 19, 23, 29, 31, 37, 41, 43, 47, 53, 59, 61, 67, 71, 73, 79, 83, 89, 97, 101, 103, 107, 109, 113, 127, 131, 137, 139, 149, 151, 157, 163, 167, 173, 179, 181, 191, 193, 197, 199, 211, 223, 227, 229, 233, 239, 241, 251, 257, 263, 269, 271, 277, 281, 283, 293, 307, 311, 313, 317, 331, 337, 347, 349, 353, 359, 367, 373, 379, 383, 389, 397, 401, 409, 419, 421, 431, 433, 439, 443, 449, 457, 461, 463, 467, 479, 487, 491, 499, 503, 509, 521, 523, 541, 547, 557, 563, 569, 571, 577, 587, 593, 599, 601, 607, 613, 617, 619, 631, 641, 643, 647, 653, 659, 661, 673, 677, 683, 691, 701, 709, 719, 727, 733, 739, 743, 751, 757, 761, 769, 773, 787, 797, 809, 811, 821, 823, 827, 829, 839, 853, 857, 859, 863, 877, 881, 883, 887, 907, 911, 919, 929, 937, 941, 947, 953, 967, 971, 977, 983, 991, 997], Fi = (1 << 26) / le[le.length - 1];\nfunction bi(e) {\n  var t, r = this.abs();\n  if (r.t == 1 && r[0] <= le[le.length - 1]) {\n    for (t = 0; t < le.length; ++t)\n      if (r[0] == le[t])\n        return !0;\n    return !1;\n  }\n  if (r.isEven())\n    return !1;\n  for (t = 1; t < le.length; ) {\n    for (var i = le[t], s = t + 1; s < le.length && i < Fi; )\n      i *= le[s++];\n    for (i = r.modInt(i); t < s; )\n      if (i % le[t++] == 0)\n        return !1;\n  }\n  return r.millerRabin(e);\n}\nfunction Ai(e) {\n  var t = this.subtract(R.ONE), r = t.getLowestSetBit();\n  if (r <= 0)\n    return !1;\n  var i = t.shiftRight(r);\n  e = e + 1 >> 1, e > le.length && (e = le.length);\n  for (var s = _(), n = 0; n < e; ++n) {\n    s.fromInt(le[Math.floor(Math.random() * le.length)]);\n    var h = s.modPow(i, this);\n    if (h.compareTo(R.ONE) != 0 && h.compareTo(t) != 0) {\n      for (var u = 1; u++ < r && h.compareTo(t) != 0; )\n        if (h = h.modPowInt(2, this), h.compareTo(R.ONE) == 0)\n          return !1;\n      if (h.compareTo(t) != 0)\n        return !1;\n    }\n  }\n  return !0;\n}\nR.prototype.chunkSize = Dr;\nR.prototype.toRadix = Ir;\nR.prototype.fromRadix = Cr;\nR.prototype.fromNumber = Rr;\nR.prototype.bitwiseTo = Or;\nR.prototype.changeBit = Jr;\nR.prototype.addTo = Qr;\nR.prototype.dMultiply = oi;\nR.prototype.dAddOffset = ui;\nR.prototype.multiplyLowerTo = li;\nR.prototype.multiplyUpperTo = di;\nR.prototype.modInt = Ei;\nR.prototype.millerRabin = Ai;\nR.prototype.clone = wr;\nR.prototype.intValue = Fr;\nR.prototype.byteValue = br;\nR.prototype.shortValue = Ar;\nR.prototype.signum = Pr;\nR.prototype.toByteArray = Tr;\nR.prototype.equals = Br;\nR.prototype.min = Nr;\nR.prototype.max = Hr;\nR.prototype.and = Vr;\nR.prototype.or = Kr;\nR.prototype.xor = Lr;\nR.prototype.andNot = qr;\nR.prototype.not = kr;\nR.prototype.shiftLeft = Mr;\nR.prototype.shiftRight = _r;\nR.prototype.getLowestSetBit = zr;\nR.prototype.bitCount = Wr;\nR.prototype.testBit = Xr;\nR.prototype.setBit = $r;\nR.prototype.clearBit = Yr;\nR.prototype.flipBit = Zr;\nR.prototype.add = ei;\nR.prototype.subtract = ti;\nR.prototype.multiply = ri;\nR.prototype.divide = ni;\nR.prototype.remainder = si;\nR.prototype.divideAndRemainder = ai;\nR.prototype.modPow = xi;\nR.prototype.modInverse = wi;\nR.prototype.pow = ci;\nR.prototype.gcd = Si;\nR.prototype.isProbablePrime = bi;\nR.prototype.square = ii;\n/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/\n */\nfunction at() {\n  this.i = 0, this.j = 0, this.S = new Array();\n}\nfunction Di(e) {\n  var t, r, i;\n  for (t = 0; t < 256; ++t)\n    this.S[t] = t;\n  for (r = 0, t = 0; t < 256; ++t)\n    r = r + this.S[t] + e[t % e.length] & 255, i = this.S[t], this.S[t] = this.S[r], this.S[r] = i;\n  this.i = 0, this.j = 0;\n}\nfunction Pi() {\n  var e;\n  return this.i = this.i + 1 & 255, this.j = this.j + this.S[this.i] & 255, e = this.S[this.i], this.S[this.i] = this.S[this.j], this.S[this.j] = e, this.S[e + this.S[this.i] & 255];\n}\nat.prototype.init = Di;\nat.prototype.next = Pi;\nfunction Ii() {\n  return new at();\n}\nvar et = 256;\n/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/\n */\nvar We, ge, oe;\nfunction Ci(e) {\n  ge[oe++] ^= e & 255, ge[oe++] ^= e >> 8 & 255, ge[oe++] ^= e >> 16 & 255, ge[oe++] ^= e >> 24 & 255, oe >= et && (oe -= et);\n}\nfunction Dt() {\n  Ci((/* @__PURE__ */ new Date()).getTime());\n}\nif (ge == null) {\n  ge = new Array(), oe = 0;\n  var Se;\n  if (Ve !== void 0 && (Ve.crypto !== void 0 || Ve.msCrypto !== void 0)) {\n    var lt = Ve.crypto || Ve.msCrypto;\n    if (lt.getRandomValues) {\n      var dt = new Uint8Array(32);\n      for (lt.getRandomValues(dt), Se = 0; Se < 32; ++Se)\n        ge[oe++] = dt[Se];\n    } else if (Ue.appName == \"Netscape\" && Ue.appVersion < \"5\") {\n      var pt = Ve.crypto.random(32);\n      for (Se = 0; Se < pt.length; ++Se)\n        ge[oe++] = pt.charCodeAt(Se) & 255;\n    }\n  }\n  for (; oe < et; )\n    Se = Math.floor(65536 * Math.random()), ge[oe++] = Se >>> 8, ge[oe++] = Se & 255;\n  oe = 0, Dt();\n}\nfunction Ri() {\n  if (We == null) {\n    for (Dt(), We = Ii(), We.init(ge), oe = 0; oe < ge.length; ++oe)\n      ge[oe] = 0;\n    oe = 0;\n  }\n  return We.next();\n}\nfunction Ti(e) {\n  var t;\n  for (t = 0; t < e.length; ++t)\n    e[t] = Ri();\n}\nfunction Ge() {\n}\nGe.prototype.nextBytes = Ti;\n/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/\n */\nfunction ve(e, t) {\n  return new R(e, t);\n}\nfunction q() {\n  this.n = null, this.e = 0, this.d = null, this.p = null, this.q = null, this.dmp1 = null, this.dmq1 = null, this.coeff = null;\n}\nfunction Bi(e, t) {\n  if (this.isPublic = !0, this.isPrivate = !1, typeof e != \"string\")\n    this.n = e, this.e = t;\n  else if (e != null && t != null && e.length > 0 && t.length > 0)\n    this.n = ve(e, 16), this.e = parseInt(t, 16);\n  else\n    throw \"Invalid RSA public key\";\n}\nfunction Ni(e) {\n  return e.modPowInt(this.e, this.n);\n}\nq.prototype.doPublic = Ni;\nq.prototype.setPublic = Bi;\nq.prototype.type = \"RSA\";\nfunction Hi(e, t, r) {\n  if (this.isPrivate = !0, typeof e != \"string\")\n    this.n = e, this.e = t, this.d = r;\n  else if (e != null && t != null && e.length > 0 && t.length > 0)\n    this.n = ve(e, 16), this.e = parseInt(t, 16), this.d = ve(r, 16);\n  else\n    throw \"Invalid RSA private key\";\n}\nfunction Oi(e, t, r, i, s, n, h, u) {\n  if (this.isPrivate = !0, this.isPublic = !1, e == null)\n    throw \"RSASetPrivateEx N == null\";\n  if (t == null)\n    throw \"RSASetPrivateEx E == null\";\n  if (e.length == 0)\n    throw \"RSASetPrivateEx N.length == 0\";\n  if (t.length == 0)\n    throw \"RSASetPrivateEx E.length == 0\";\n  if (e != null && t != null && e.length > 0 && t.length > 0)\n    this.n = ve(e, 16), this.e = parseInt(t, 16), this.d = ve(r, 16), this.p = ve(i, 16), this.q = ve(s, 16), this.dmp1 = ve(n, 16), this.dmq1 = ve(h, 16), this.coeff = ve(u, 16);\n  else\n    throw \"Invalid RSA private key in RSASetPrivateEx\";\n}\nfunction ji(e, t) {\n  var r = new Ge(), i = e >> 1;\n  this.e = parseInt(t, 16);\n  for (var s = new R(t, 16), n = e / 2 - 100, h = R.ONE.shiftLeft(n); ; ) {\n    for (; this.p = new R(e - i, 1, r), !(this.p.subtract(R.ONE).gcd(s).compareTo(R.ONE) == 0 && this.p.isProbablePrime(10)); )\n      ;\n    for (; this.q = new R(i, 1, r), !(this.q.subtract(R.ONE).gcd(s).compareTo(R.ONE) == 0 && this.q.isProbablePrime(10)); )\n      ;\n    if (this.p.compareTo(this.q) <= 0) {\n      var u = this.p;\n      this.p = this.q, this.q = u;\n    }\n    var p = this.q.subtract(this.p).abs();\n    if (!(p.bitLength() < n || p.compareTo(h) <= 0)) {\n      var c = this.p.subtract(R.ONE), y = this.q.subtract(R.ONE), v = c.multiply(y);\n      if (v.gcd(s).compareTo(R.ONE) == 0 && (this.n = this.p.multiply(this.q), this.n.bitLength() == e)) {\n        this.d = s.modInverse(v), this.dmp1 = this.d.mod(c), this.dmq1 = this.d.mod(y), this.coeff = this.q.modInverse(this.p);\n        break;\n      }\n    }\n  }\n  this.isPrivate = !0;\n}\nfunction Vi(e) {\n  if (this.p == null || this.q == null)\n    return e.modPow(this.d, this.n);\n  for (var t = e.mod(this.p).modPow(this.dmp1, this.p), r = e.mod(this.q).modPow(this.dmq1, this.q); t.compareTo(r) < 0; )\n    t = t.add(this.p);\n  return t.subtract(r).multiply(this.coeff).mod(this.p).multiply(this.q).add(r);\n}\nq.prototype.doPrivate = Vi;\nq.prototype.setPrivate = Hi;\nq.prototype.setPrivateEx = Oi;\nq.prototype.generate = ji;\n/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/\n */\nfunction ue(e, t) {\n  this.x = t, this.q = e;\n}\nfunction Ki(e) {\n  return e == this ? !0 : this.q.equals(e.q) && this.x.equals(e.x);\n}\nfunction Li() {\n  return this.x;\n}\nfunction qi() {\n  return new ue(this.q, this.x.negate().mod(this.q));\n}\nfunction ki(e) {\n  return new ue(this.q, this.x.add(e.toBigInteger()).mod(this.q));\n}\nfunction Mi(e) {\n  return new ue(this.q, this.x.subtract(e.toBigInteger()).mod(this.q));\n}\nfunction _i(e) {\n  return new ue(this.q, this.x.multiply(e.toBigInteger()).mod(this.q));\n}\nfunction Ui() {\n  return new ue(this.q, this.x.square().mod(this.q));\n}\nfunction zi(e) {\n  return new ue(this.q, this.x.multiply(e.toBigInteger().modInverse(this.q)).mod(this.q));\n}\nue.prototype.equals = Ki;\nue.prototype.toBigInteger = Li;\nue.prototype.negate = qi;\nue.prototype.add = ki;\nue.prototype.subtract = Mi;\nue.prototype.multiply = _i;\nue.prototype.square = Ui;\nue.prototype.divide = zi;\nue.prototype.sqrt = function() {\n  return new ue(this.q, this.x.sqrt().mod(this.q));\n};\nfunction z(e, t, r, i) {\n  this.curve = e, this.x = t, this.y = r, i == null ? this.z = R.ONE : this.z = i, this.zinv = null;\n}\nfunction Gi() {\n  return this.zinv == null && (this.zinv = this.z.modInverse(this.curve.q)), this.curve.fromBigInteger(this.x.toBigInteger().multiply(this.zinv).mod(this.curve.q));\n}\nfunction Wi() {\n  return this.zinv == null && (this.zinv = this.z.modInverse(this.curve.q)), this.curve.fromBigInteger(this.y.toBigInteger().multiply(this.zinv).mod(this.curve.q));\n}\nfunction Xi(e) {\n  if (e == this)\n    return !0;\n  if (this.isInfinity())\n    return e.isInfinity();\n  if (e.isInfinity())\n    return this.isInfinity();\n  var t, r;\n  return t = e.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(e.z)).mod(this.curve.q), t.equals(R.ZERO) ? (r = e.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(e.z)).mod(this.curve.q), r.equals(R.ZERO)) : !1;\n}\nfunction Ji() {\n  return this.x == null && this.y == null ? !0 : this.z.equals(R.ZERO) && !this.y.toBigInteger().equals(R.ZERO);\n}\nfunction $i() {\n  return new z(this.curve, this.x, this.y.negate(), this.z);\n}\nfunction Yi(e) {\n  if (this.isInfinity())\n    return e;\n  if (e.isInfinity())\n    return this;\n  var t = e.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(e.z)).mod(this.curve.q), r = e.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(e.z)).mod(this.curve.q);\n  if (R.ZERO.equals(r))\n    return R.ZERO.equals(t) ? this.twice() : this.curve.getInfinity();\n  var i = new R(\"3\"), s = this.x.toBigInteger(), n = this.y.toBigInteger();\n  e.x.toBigInteger(), e.y.toBigInteger();\n  var h = r.square(), u = h.multiply(r), p = s.multiply(h), c = t.square().multiply(this.z), y = c.subtract(p.shiftLeft(1)).multiply(e.z).subtract(u).multiply(r).mod(this.curve.q), v = p.multiply(i).multiply(t).subtract(n.multiply(u)).subtract(c.multiply(t)).multiply(e.z).add(t.multiply(u)).mod(this.curve.q), o = u.multiply(this.z).multiply(e.z).mod(this.curve.q);\n  return new z(this.curve, this.curve.fromBigInteger(y), this.curve.fromBigInteger(v), o);\n}\nfunction Zi() {\n  if (this.isInfinity())\n    return this;\n  if (this.y.toBigInteger().signum() == 0)\n    return this.curve.getInfinity();\n  var e = new R(\"3\"), t = this.x.toBigInteger(), r = this.y.toBigInteger(), i = r.multiply(this.z), s = i.multiply(r).mod(this.curve.q), n = this.curve.a.toBigInteger(), h = t.square().multiply(e);\n  R.ZERO.equals(n) || (h = h.add(this.z.square().multiply(n))), h = h.mod(this.curve.q);\n  var u = h.square().subtract(t.shiftLeft(3).multiply(s)).shiftLeft(1).multiply(i).mod(this.curve.q), p = h.multiply(e).multiply(t).subtract(s.shiftLeft(1)).shiftLeft(2).multiply(s).subtract(h.square().multiply(h)).mod(this.curve.q), c = i.square().multiply(i).shiftLeft(3).mod(this.curve.q);\n  return new z(this.curve, this.curve.fromBigInteger(u), this.curve.fromBigInteger(p), c);\n}\nfunction Qi(e) {\n  if (this.isInfinity())\n    return this;\n  if (e.signum() == 0)\n    return this.curve.getInfinity();\n  var t = e, r = t.multiply(new R(\"3\")), i = this.negate(), s = this, n = this.curve.q.subtract(e), h = n.multiply(new R(\"3\")), u = new z(this.curve, this.x, this.y), p = u.negate(), c;\n  for (c = r.bitLength() - 2; c > 0; --c) {\n    s = s.twice();\n    var y = r.testBit(c), v = t.testBit(c);\n    y != v && (s = s.add(y ? this : i));\n  }\n  for (c = h.bitLength() - 2; c > 0; --c) {\n    u = u.twice();\n    var o = h.testBit(c), l = n.testBit(c);\n    o != l && (u = u.add(o ? u : p));\n  }\n  return s;\n}\nfunction en(e, t, r) {\n  var i;\n  e.bitLength() > r.bitLength() ? i = e.bitLength() - 1 : i = r.bitLength() - 1;\n  for (var s = this.curve.getInfinity(), n = this.add(t); i >= 0; )\n    s = s.twice(), e.testBit(i) ? r.testBit(i) ? s = s.add(n) : s = s.add(this) : r.testBit(i) && (s = s.add(t)), --i;\n  return s;\n}\nz.prototype.getX = Gi;\nz.prototype.getY = Wi;\nz.prototype.equals = Xi;\nz.prototype.isInfinity = Ji;\nz.prototype.negate = $i;\nz.prototype.add = Yi;\nz.prototype.twice = Zi;\nz.prototype.multiply = Qi;\nz.prototype.multiplyTwo = en;\nfunction Be(e, t, r) {\n  this.q = e, this.a = this.fromBigInteger(t), this.b = this.fromBigInteger(r), this.infinity = new z(this, null, null);\n}\nfunction tn() {\n  return this.q;\n}\nfunction rn() {\n  return this.a;\n}\nfunction nn() {\n  return this.b;\n}\nfunction sn(e) {\n  return e == this ? !0 : this.q.equals(e.q) && this.a.equals(e.a) && this.b.equals(e.b);\n}\nfunction an() {\n  return this.infinity;\n}\nfunction on(e) {\n  return new ue(this.q, e);\n}\nfunction un(e) {\n  switch (parseInt(e.substr(0, 2), 16)) {\n    case 0:\n      return this.infinity;\n    case 2:\n    case 3:\n      var t = e.substr(0, 2);\n      e.substr(2);\n      var r = this.fromBigInteger(new R(p, 16)), i = this.getA(), s = this.getB(), n = r.square().add(i).multiply(r).add(s), h = n.sqrt();\n      return t == \"03\" && (h = h.negate()), new z(this, r, h);\n    case 4:\n    case 6:\n    case 7:\n      var u = (e.length - 2) / 2, p = e.substr(2, u), c = e.substr(u + 2, u);\n      return new z(this, this.fromBigInteger(new R(p, 16)), this.fromBigInteger(new R(c, 16)));\n    default:\n      return null;\n  }\n}\nBe.prototype.getQ = tn;\nBe.prototype.getA = rn;\nBe.prototype.getB = nn;\nBe.prototype.equals = sn;\nBe.prototype.getInfinity = an;\nBe.prototype.fromBigInteger = on;\nBe.prototype.decodePointHex = un;\n/*! (c) Stefan Thomas | https://github.com/bitcoinjs/bitcoinjs-lib\n */\nue.prototype.getByteLength = function() {\n  return Math.floor((this.toBigInteger().bitLength() + 7) / 8);\n};\nz.prototype.getEncoded = function(e) {\n  var t = function(n, h) {\n    var u = n.toByteArrayUnsigned();\n    if (h < u.length)\n      u = u.slice(u.length - h);\n    else\n      for (; h > u.length; )\n        u.unshift(0);\n    return u;\n  }, r = this.getX().toBigInteger(), i = this.getY().toBigInteger(), s = t(r, 32);\n  return e ? i.isEven() ? s.unshift(2) : s.unshift(3) : (s.unshift(4), s = s.concat(t(i, 32))), s;\n};\nz.decodeFrom = function(e, t) {\n  t[0];\n  var r = t.length - 1, i = t.slice(1, 1 + r / 2), s = t.slice(1 + r / 2, 1 + r);\n  i.unshift(0), s.unshift(0);\n  var n = new R(i), h = new R(s);\n  return new z(e, e.fromBigInteger(n), e.fromBigInteger(h));\n};\nz.decodeFromHex = function(e, t) {\n  t.substr(0, 2);\n  var r = t.length - 2, i = t.substr(2, r / 2), s = t.substr(2 + r / 2, r / 2), n = new R(i, 16), h = new R(s, 16);\n  return new z(e, e.fromBigInteger(n), e.fromBigInteger(h));\n};\nz.prototype.add2D = function(e) {\n  if (this.isInfinity())\n    return e;\n  if (e.isInfinity())\n    return this;\n  if (this.x.equals(e.x))\n    return this.y.equals(e.y) ? this.twice() : this.curve.getInfinity();\n  var t = e.x.subtract(this.x), r = e.y.subtract(this.y), i = r.divide(t), s = i.square().subtract(this.x).subtract(e.x), n = i.multiply(this.x.subtract(s)).subtract(this.y);\n  return new z(this.curve, s, n);\n};\nz.prototype.twice2D = function() {\n  if (this.isInfinity())\n    return this;\n  if (this.y.toBigInteger().signum() == 0)\n    return this.curve.getInfinity();\n  var e = this.curve.fromBigInteger(R.valueOf(2)), t = this.curve.fromBigInteger(R.valueOf(3)), r = this.x.square().multiply(t).add(this.curve.a).divide(this.y.multiply(e)), i = r.square().subtract(this.x.multiply(e)), s = r.multiply(this.x.subtract(i)).subtract(this.y);\n  return new z(this.curve, i, s);\n};\nz.prototype.multiply2D = function(e) {\n  if (this.isInfinity())\n    return this;\n  if (e.signum() == 0)\n    return this.curve.getInfinity();\n  var t = e, r = t.multiply(new R(\"3\")), i = this.negate(), s = this, n;\n  for (n = r.bitLength() - 2; n > 0; --n) {\n    s = s.twice();\n    var h = r.testBit(n), u = t.testBit(n);\n    h != u && (s = s.add2D(h ? this : i));\n  }\n  return s;\n};\nz.prototype.isOnCurve = function() {\n  var e = this.getX().toBigInteger(), t = this.getY().toBigInteger(), r = this.curve.getA().toBigInteger(), i = this.curve.getB().toBigInteger(), s = this.curve.getQ(), n = t.multiply(t).mod(s), h = e.multiply(e).multiply(e).add(r.multiply(e)).add(i).mod(s);\n  return n.equals(h);\n};\nz.prototype.toString = function() {\n  return \"(\" + this.getX().toBigInteger().toString() + \",\" + this.getY().toBigInteger().toString() + \")\";\n};\nz.prototype.validate = function() {\n  var e = this.curve.getQ();\n  if (this.isInfinity())\n    throw new Error(\"Point is at infinity.\");\n  var t = this.getX().toBigInteger(), r = this.getY().toBigInteger();\n  if (t.compareTo(R.ONE) < 0 || t.compareTo(e.subtract(R.ONE)) > 0)\n    throw new Error(\"x coordinate out of bounds\");\n  if (r.compareTo(R.ONE) < 0 || r.compareTo(e.subtract(R.ONE)) > 0)\n    throw new Error(\"y coordinate out of bounds\");\n  if (!this.isOnCurve())\n    throw new Error(\"Point is not on the curve.\");\n  if (this.multiply(e).isInfinity())\n    throw new Error(\"Point is not a scalar multiple of G.\");\n  return !0;\n};\n/*! Mike Samuel (c) 2009 | code.google.com/p/json-sans-eval\n */\nvar Pt = function() {\n  var e = \"(?:-?\\\\b(?:0|[1-9][0-9]*)(?:\\\\.[0-9]+)?(?:[eE][+-]?[0-9]+)?\\\\b)\", t = '(?:[^\\\\0-\\\\x08\\\\x0a-\\\\x1f\"\\\\\\\\]|\\\\\\\\(?:[\"/\\\\\\\\bfnrt]|u[0-9A-Fa-f]{4}))', r = '(?:\"' + t + '*\")', i = new RegExp(\"(?:false|true|null|[\\\\{\\\\}\\\\[\\\\]]|\" + e + \"|\" + r + \")\", \"g\"), s = new RegExp(\"\\\\\\\\(?:([^u])|u(.{4}))\", \"g\"), n = { '\"': '\"', \"/\": \"/\", \"\\\\\": \"\\\\\", b: \"\\b\", f: \"\\f\", n: `\n`, r: \"\\r\", t: \"\t\" };\n  function h(y, v, o) {\n    return v ? n[v] : String.fromCharCode(parseInt(o, 16));\n  }\n  var u = new String(\"\"), p = \"\\\\\", c = Object.hasOwnProperty;\n  return function(y, v) {\n    var o = y.match(i), l, f = o[0], d = !1;\n    f === \"{\" ? l = {} : f === \"[\" ? l = [] : (l = [], d = !0);\n    for (var g, S = [l], b = 1 - d, D = o.length; b < D; ++b) {\n      f = o[b];\n      var A;\n      switch (f.charCodeAt(0)) {\n        default:\n          A = S[0], A[g || A.length] = +f, g = void 0;\n          break;\n        case 34:\n          if (f = f.substring(1, f.length - 1), f.indexOf(p) !== -1 && (f = f.replace(s, h)), A = S[0], !g)\n            if (A instanceof Array)\n              g = A.length;\n            else {\n              g = f || u;\n              break;\n            }\n          A[g] = f, g = void 0;\n          break;\n        case 91:\n          A = S[0], S.unshift(A[g || A.length] = []), g = void 0;\n          break;\n        case 93:\n          S.shift();\n          break;\n        case 102:\n          A = S[0], A[g || A.length] = !1, g = void 0;\n          break;\n        case 110:\n          A = S[0], A[g || A.length] = null, g = void 0;\n          break;\n        case 116:\n          A = S[0], A[g || A.length] = !0, g = void 0;\n          break;\n        case 123:\n          A = S[0], S.unshift(A[g || A.length] = {}), g = void 0;\n          break;\n        case 125:\n          S.shift();\n          break;\n      }\n    }\n    if (d) {\n      if (S.length !== 1)\n        throw new Error();\n      l = l[0];\n    } else if (S.length)\n      throw new Error();\n    if (v) {\n      var I = function(m, E) {\n        var w = m[E];\n        if (w && typeof w == \"object\") {\n          var x = null;\n          for (var F in w)\n            if (c.call(w, F) && w !== m) {\n              var P = I(w, F);\n              P !== void 0 ? w[F] = P : (x || (x = []), x.push(F));\n            }\n          if (x)\n            for (var T = x.length; --T >= 0; )\n              delete w[x[T]];\n        }\n        return v.call(m, E, w);\n      };\n      l = I({ \"\": l }, \"\");\n    }\n    return l;\n  };\n}();\n(typeof a > \"u\" || !a) && (a = {});\n(typeof a.asn1 > \"u\" || !a.asn1) && (a.asn1 = {});\na.asn1.ASN1Util = new function() {\n  this.integerToByteHex = function(e) {\n    var t = e.toString(16);\n    return t.length % 2 == 1 && (t = \"0\" + t), t;\n  }, this.bigIntToMinTwosComplementsHex = function(e) {\n    return Ze(e);\n  }, this.getPEMStringFromHex = function(e, t) {\n    return de(e, t);\n  }, this.newObject = function(e) {\n    var t = a, r = t.asn1, i = r.ASN1Object, s = r.DERBoolean, n = r.DERInteger, h = r.DERBitString, u = r.DEROctetString, p = r.DERNull, c = r.DERObjectIdentifier, y = r.DEREnumerated, v = r.DERUTF8String, o = r.DERNumericString, l = r.DERPrintableString, f = r.DERTeletexString, d = r.DERIA5String, g = r.DERUTCTime, S = r.DERGeneralizedTime, b = r.DERVisibleString, D = r.DERBMPString, A = r.DERSequence, I = r.DERSet, m = r.DERTaggedObject, E = r.ASN1Util.newObject;\n    if (e instanceof r.ASN1Object)\n      return e;\n    var w = Object.keys(e);\n    if (w.length != 1)\n      throw new Error(\"key of param shall be only one.\");\n    var x = w[0];\n    if (\":asn1:bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:visstr:bmpstr:seq:set:tag:\".indexOf(\":\" + x + \":\") == -1)\n      throw new Error(\"undefined key: \" + x);\n    if (x == \"bool\")\n      return new s(e[x]);\n    if (x == \"int\")\n      return new n(e[x]);\n    if (x == \"bitstr\")\n      return new h(e[x]);\n    if (x == \"octstr\")\n      return new u(e[x]);\n    if (x == \"null\")\n      return new p(e[x]);\n    if (x == \"oid\")\n      return new c(e[x]);\n    if (x == \"enum\")\n      return new y(e[x]);\n    if (x == \"utf8str\")\n      return new v(e[x]);\n    if (x == \"numstr\")\n      return new o(e[x]);\n    if (x == \"prnstr\")\n      return new l(e[x]);\n    if (x == \"telstr\")\n      return new f(e[x]);\n    if (x == \"ia5str\")\n      return new d(e[x]);\n    if (x == \"utctime\")\n      return new g(e[x]);\n    if (x == \"gentime\")\n      return new S(e[x]);\n    if (x == \"visstr\")\n      return new b(e[x]);\n    if (x == \"bmpstr\")\n      return new D(e[x]);\n    if (x == \"asn1\")\n      return new i(e[x]);\n    if (x == \"seq\") {\n      for (var F = e[x], P = [], T = 0; T < F.length; T++) {\n        var H = E(F[T]);\n        P.push(H);\n      }\n      return new A({ array: P });\n    }\n    if (x == \"set\") {\n      for (var F = e[x], P = [], T = 0; T < F.length; T++) {\n        var H = E(F[T]);\n        P.push(H);\n      }\n      return new I({ array: P });\n    }\n    if (x == \"tag\") {\n      var C = e[x];\n      if (Object.prototype.toString.call(C) === \"[object Array]\" && C.length == 3) {\n        var B = E(C[2]);\n        return new m({ tag: C[0], explicit: C[1], obj: B });\n      } else\n        return new m(C);\n    }\n  }, this.jsonToASN1HEX = function(e) {\n    var t = this.newObject(e);\n    return t.tohex();\n  };\n}();\na.asn1.ASN1Util.oidHexToInt = function(e) {\n  for (var s = \"\", t = parseInt(e.substr(0, 2), 16), r = Math.floor(t / 40), i = t % 40, s = r + \".\" + i, n = \"\", h = 2; h < e.length; h += 2) {\n    var u = parseInt(e.substr(h, 2), 16), p = (\"00000000\" + u.toString(2)).slice(-8);\n    if (n = n + p.substr(1, 7), p.substr(0, 1) == \"0\") {\n      var c = new R(n, 2);\n      s = s + \".\" + c.toString(10), n = \"\";\n    }\n  }\n  return s;\n};\na.asn1.ASN1Util.oidIntToHex = function(e) {\n  var t = function(u) {\n    var p = u.toString(16);\n    return p.length == 1 && (p = \"0\" + p), p;\n  }, r = function(u) {\n    var p = \"\", c = new R(u, 10), y = c.toString(2), v = 7 - y.length % 7;\n    v == 7 && (v = 0);\n    for (var o = \"\", l = 0; l < v; l++)\n      o += \"0\";\n    y = o + y;\n    for (var l = 0; l < y.length - 1; l += 7) {\n      var f = y.substr(l, 7);\n      l != y.length - 7 && (f = \"1\" + f), p += t(parseInt(f, 2));\n    }\n    return p;\n  };\n  if (!e.match(/^[0-9.]+$/))\n    throw \"malformed oid string: \" + e;\n  var i = \"\", s = e.split(\".\"), n = parseInt(s[0]) * 40 + parseInt(s[1]);\n  i += t(n), s.splice(0, 2);\n  for (var h = 0; h < s.length; h++)\n    i += r(s[h]);\n  return i;\n};\na.asn1.ASN1Object = function(e) {\n  var t = \"\";\n  this.params = null, this.getLengthHexFromValue = function() {\n    if (typeof this.hV > \"u\" || this.hV == null)\n      throw new Error(\"this.hV is null or undefined\");\n    if (this.hV.length % 2 == 1)\n      throw new Error(\"value hex must be even length: n=\" + t.length + \",v=\" + this.hV);\n    var r = this.hV.length / 2, i = r.toString(16);\n    if (i.length % 2 == 1 && (i = \"0\" + i), r < 128)\n      return i;\n    var s = i.length / 2;\n    if (s > 15)\n      throw new Error(\"ASN.1 length too long to represent by 8x: n = \" + r.toString(16));\n    var n = 128 + s;\n    return n.toString(16) + i;\n  }, this.tohex = function() {\n    return (this.hTLV == null || this.isModified) && (this.hV = this.getFreshValueHex(), this.hL = this.getLengthHexFromValue(), this.hTLV = this.hT + this.hL + this.hV, this.isModified = !1), this.hTLV;\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, this.getValueHex = function() {\n    return this.tohex(), this.hV;\n  }, this.getFreshValueHex = function() {\n    return \"\";\n  }, this.setByParam = function(r) {\n    this.params = r;\n  }, e != null && e.tlv != null && (this.hTLV = e.tlv, this.isModified = !1);\n};\na.asn1.DERAbstractString = function(e) {\n  a.asn1.DERAbstractString.superclass.constructor.call(this), this.getString = function() {\n    return this.s;\n  }, this.setString = function(t) {\n    this.hTLV = null, this.isModified = !0, this.s = t, this.hV = ht(this.s).toLowerCase();\n  }, this.setStringHex = function(t) {\n    this.hTLV = null, this.isModified = !0, this.s = null, this.hV = t;\n  }, this.getFreshValueHex = function() {\n    return this.hV;\n  }, typeof e < \"u\" && (typeof e == \"string\" ? this.setString(e) : typeof e.str < \"u\" ? this.setString(e.str) : typeof e.hex < \"u\" && this.setStringHex(e.hex));\n};\nN(a.asn1.DERAbstractString, a.asn1.ASN1Object);\na.asn1.DERAbstractTime = function(e) {\n  a.asn1.DERAbstractTime.superclass.constructor.call(this), this.localDateToUTC = function(t) {\n    var r = t.getTime() + t.getTimezoneOffset() * 6e4, i = new Date(r);\n    return i;\n  }, this.formatDate = function(t, r, i) {\n    var s = this.zeroPadding, n = this.localDateToUTC(t), h = String(n.getFullYear());\n    r == \"utc\" && (h = h.substr(2, 2));\n    var u = s(String(n.getMonth() + 1), 2), p = s(String(n.getDate()), 2), c = s(String(n.getHours()), 2), y = s(String(n.getMinutes()), 2), v = s(String(n.getSeconds()), 2), o = h + u + p + c + y + v;\n    if (i === !0) {\n      var l = n.getMilliseconds();\n      if (l != 0) {\n        var f = s(String(l), 3);\n        f = f.replace(/[0]+$/, \"\"), o = o + \".\" + f;\n      }\n    }\n    return o + \"Z\";\n  }, this.zeroPadding = function(t, r) {\n    return t.length >= r ? t : new Array(r - t.length + 1).join(\"0\") + t;\n  }, this.setByParam = function(t) {\n    this.hV = null, this.hTLV = null, this.params = t;\n  }, this.getString = function() {\n  }, this.setString = function(t) {\n    this.hTLV = null, this.isModified = !0, this.params == null && (this.params = {}), this.params.str = t;\n  }, this.setByDate = function(t) {\n    this.hTLV = null, this.isModified = !0, this.params == null && (this.params = {}), this.params.date = t;\n  }, this.setByDateValue = function(t, r, i, s, n, h) {\n    var u = new Date(Date.UTC(t, r - 1, i, s, n, h, 0));\n    this.setByDate(u);\n  }, this.getFreshValueHex = function() {\n    return this.hV;\n  };\n};\nN(a.asn1.DERAbstractTime, a.asn1.ASN1Object);\na.asn1.DERAbstractStructured = function(e) {\n  a.asn1.DERAbstractString.superclass.constructor.call(this), this.setByASN1ObjectArray = function(t) {\n    this.hTLV = null, this.isModified = !0, this.asn1Array = t;\n  }, this.appendASN1Object = function(t) {\n    this.hTLV = null, this.isModified = !0, this.asn1Array.push(t);\n  }, this.asn1Array = new Array(), typeof e < \"u\" && typeof e.array < \"u\" && (this.asn1Array = e.array);\n};\nN(a.asn1.DERAbstractStructured, a.asn1.ASN1Object);\na.asn1.DERBoolean = function(e) {\n  a.asn1.DERBoolean.superclass.constructor.call(this), this.hT = \"01\", e == !1 ? this.hTLV = \"010100\" : this.hTLV = \"0101ff\";\n};\nN(a.asn1.DERBoolean, a.asn1.ASN1Object);\na.asn1.DERInteger = function(e) {\n  a.asn1.DERInteger.superclass.constructor.call(this), this.hT = \"02\", this.params = null;\n  var t = Ze;\n  this.setByBigInteger = function(r) {\n    this.isModified = !0, this.params = { bigint: r };\n  }, this.setByInteger = function(r) {\n    this.isModified = !0, this.params = r;\n  }, this.setValueHex = function(r) {\n    this.isModified = !0, this.params = { hex: r };\n  }, this.getFreshValueHex = function() {\n    var r = this.params, i = null;\n    if (r == null)\n      throw new Error(\"value not set\");\n    if (typeof r == \"object\" && r.hex != null)\n      return this.hV = r.hex, this.hV;\n    if (typeof r == \"number\")\n      i = new R(String(r), 10);\n    else if (r.int != null)\n      i = new R(String(r.int), 10);\n    else if (r.bigint != null)\n      i = r.bigint;\n    else\n      throw new Error(\"wrong parameter\");\n    return this.hV = t(i), this.hV;\n  }, e != null && (this.params = e);\n};\nN(a.asn1.DERInteger, a.asn1.ASN1Object);\na.asn1.DERBitString = function(e) {\n  if (e !== void 0 && typeof e.obj < \"u\") {\n    var t = a.asn1.ASN1Util.newObject(e.obj);\n    e.hex = \"00\" + t.tohex();\n  }\n  a.asn1.DERBitString.superclass.constructor.call(this), this.hT = \"03\", this.setHexValueIncludingUnusedBits = function(r) {\n    this.hTLV = null, this.isModified = !0, this.hV = r;\n  }, this.setUnusedBitsAndHexValue = function(r, i) {\n    if (r < 0 || 7 < r)\n      throw \"unused bits shall be from 0 to 7: u = \" + r;\n    var s = \"0\" + r;\n    this.hTLV = null, this.isModified = !0, this.hV = s + i;\n  }, this.setByBinaryString = function(r) {\n    r = r.replace(/0+$/, \"\");\n    var i = 8 - r.length % 8;\n    i == 8 && (i = 0), r += \"0000000\".substr(0, i);\n    for (var s = \"\", n = 0; n < r.length - 1; n += 8) {\n      var h = r.substr(n, 8), u = parseInt(h, 2).toString(16);\n      u.length == 1 && (u = \"0\" + u), s += u;\n    }\n    this.hTLV = null, this.isModified = !0, this.hV = \"0\" + i + s;\n  }, this.setByBooleanArray = function(r) {\n    for (var i = \"\", s = 0; s < r.length; s++)\n      r[s] == !0 ? i += \"1\" : i += \"0\";\n    this.setByBinaryString(i);\n  }, this.newFalseArray = function(r) {\n    for (var i = new Array(r), s = 0; s < r; s++)\n      i[s] = !1;\n    return i;\n  }, this.getFreshValueHex = function() {\n    return this.hV;\n  }, typeof e < \"u\" && (typeof e == \"string\" && e.toLowerCase().match(/^[0-9a-f]+$/) ? this.setHexValueIncludingUnusedBits(e) : typeof e.hex < \"u\" ? this.setHexValueIncludingUnusedBits(e.hex) : typeof e.bin < \"u\" ? this.setByBinaryString(e.bin) : typeof e.array < \"u\" && this.setByBooleanArray(e.array));\n};\nN(a.asn1.DERBitString, a.asn1.ASN1Object);\na.asn1.DEROctetString = function(e) {\n  if (e !== void 0 && typeof e.obj < \"u\") {\n    var t = a.asn1.ASN1Util.newObject(e.obj);\n    e.hex = t.tohex();\n  }\n  a.asn1.DEROctetString.superclass.constructor.call(this, e), this.hT = \"04\";\n};\nN(a.asn1.DEROctetString, a.asn1.DERAbstractString);\na.asn1.DERNull = function() {\n  a.asn1.DERNull.superclass.constructor.call(this), this.hT = \"05\", this.hTLV = \"0500\";\n};\nN(a.asn1.DERNull, a.asn1.ASN1Object);\na.asn1.DERObjectIdentifier = function(e) {\n  a.asn1.DERObjectIdentifier.superclass.constructor.call(this), this.hT = \"06\", this.setValueHex = function(t) {\n    this.hTLV = null, this.isModified = !0, this.s = null, this.hV = t;\n  }, this.setValueOidString = function(t) {\n    var r = mn(t);\n    if (r == null)\n      throw new Error(\"malformed oid string: \" + t);\n    this.hTLV = null, this.isModified = !0, this.s = null, this.hV = r;\n  }, this.setValueName = function(t) {\n    var r = a.asn1.x509.OID.name2oid(t);\n    if (r !== \"\")\n      this.setValueOidString(r);\n    else\n      throw new Error(\"DERObjectIdentifier oidName undefined: \" + t);\n  }, this.setValueNameOrOid = function(t) {\n    t.match(/^[0-2].[0-9.]+$/) ? this.setValueOidString(t) : this.setValueName(t);\n  }, this.getFreshValueHex = function() {\n    return this.hV;\n  }, this.setByParam = function(t) {\n    typeof t == \"string\" ? this.setValueNameOrOid(t) : t.oid !== void 0 ? this.setValueNameOrOid(t.oid) : t.name !== void 0 ? this.setValueNameOrOid(t.name) : t.hex !== void 0 && this.setValueHex(t.hex);\n  }, e !== void 0 && this.setByParam(e);\n};\nN(a.asn1.DERObjectIdentifier, a.asn1.ASN1Object);\na.asn1.DEREnumerated = function(e) {\n  a.asn1.DEREnumerated.superclass.constructor.call(this), this.hT = \"0a\", this.setByBigInteger = function(t) {\n    this.hTLV = null, this.isModified = !0, this.hV = Ze(t);\n  }, this.setByInteger = function(t) {\n    var r = new R(String(t), 10);\n    this.setByBigInteger(r);\n  }, this.setValueHex = function(t) {\n    this.hV = t;\n  }, this.getFreshValueHex = function() {\n    return this.hV;\n  }, typeof e < \"u\" && (typeof e.int < \"u\" ? this.setByInteger(e.int) : typeof e == \"number\" ? this.setByInteger(e) : typeof e.hex < \"u\" && this.setValueHex(e.hex));\n};\nN(a.asn1.DEREnumerated, a.asn1.ASN1Object);\na.asn1.DERUTF8String = function(e) {\n  a.asn1.DERUTF8String.superclass.constructor.call(this, e), this.hT = \"0c\";\n};\nN(a.asn1.DERUTF8String, a.asn1.DERAbstractString);\na.asn1.DERNumericString = function(e) {\n  a.asn1.DERNumericString.superclass.constructor.call(this, e), this.hT = \"12\";\n};\nN(a.asn1.DERNumericString, a.asn1.DERAbstractString);\na.asn1.DERPrintableString = function(e) {\n  a.asn1.DERPrintableString.superclass.constructor.call(this, e), this.hT = \"13\";\n};\nN(a.asn1.DERPrintableString, a.asn1.DERAbstractString);\na.asn1.DERTeletexString = function(e) {\n  a.asn1.DERTeletexString.superclass.constructor.call(this, e), this.hT = \"14\";\n};\nN(a.asn1.DERTeletexString, a.asn1.DERAbstractString);\na.asn1.DERIA5String = function(e) {\n  a.asn1.DERIA5String.superclass.constructor.call(this, e), this.hT = \"16\";\n};\nN(a.asn1.DERIA5String, a.asn1.DERAbstractString);\na.asn1.DERVisibleString = function(e) {\n  a.asn1.DERIA5String.superclass.constructor.call(this, e), this.hT = \"1a\";\n};\nN(a.asn1.DERVisibleString, a.asn1.DERAbstractString);\na.asn1.DERBMPString = function(e) {\n  a.asn1.DERBMPString.superclass.constructor.call(this, e), this.hT = \"1e\";\n};\nN(a.asn1.DERBMPString, a.asn1.DERAbstractString);\na.asn1.DERUTCTime = function(e) {\n  a.asn1.DERUTCTime.superclass.constructor.call(this, e), this.hT = \"17\", this.params = void 0, this.getFreshValueHex = function() {\n    var t = this.params;\n    if (this.params == null && (t = { date: /* @__PURE__ */ new Date() }), typeof t == \"string\")\n      if (t.match(/^[0-9]{12}Z$/) || t.match(/^[0-9]{12}\\.[0-9]+Z$/))\n        this.hV = Ee(t);\n      else\n        throw new Error(\"malformed string for UTCTime: \" + t);\n    else if (t.str != null)\n      this.hV = Ee(t.str);\n    else if (t.date == null && t.millis == !0) {\n      var r = /* @__PURE__ */ new Date();\n      this.hV = Ee(this.formatDate(r, \"utc\", !0));\n    } else if (t.date != null && t.date instanceof Date) {\n      var i = t.millis === !0;\n      this.hV = Ee(this.formatDate(t.date, \"utc\", i));\n    } else\n      t instanceof Date && (this.hV = Ee(this.formatDate(t, \"utc\")));\n    if (this.hV == null)\n      throw new Error(\"parameter not specified properly for UTCTime\");\n    return this.hV;\n  }, e != null && this.setByParam(e);\n};\nN(a.asn1.DERUTCTime, a.asn1.DERAbstractTime);\na.asn1.DERGeneralizedTime = function(e) {\n  a.asn1.DERGeneralizedTime.superclass.constructor.call(this, e), this.hT = \"18\", this.params = e, this.getFreshValueHex = function() {\n    var t = this.params;\n    if (this.params == null && (t = { date: /* @__PURE__ */ new Date() }), typeof t == \"string\")\n      if (t.match(/^[0-9]{14}Z$/) || t.match(/^[0-9]{14}\\.[0-9]+Z$/))\n        this.hV = Ee(t);\n      else\n        throw new Error(\"malformed string for GeneralizedTime: \" + t);\n    else if (t.str != null)\n      this.hV = Ee(t.str);\n    else if (t.date == null && t.millis == !0) {\n      var r = /* @__PURE__ */ new Date();\n      this.hV = Ee(this.formatDate(r, \"gen\", !0));\n    } else if (t.date != null && t.date instanceof Date) {\n      var i = t.millis === !0;\n      this.hV = Ee(this.formatDate(t.date, \"gen\", i));\n    } else\n      t instanceof Date && (this.hV = Ee(this.formatDate(t, \"gen\")));\n    if (this.hV == null)\n      throw new Error(\"parameter not specified properly for GeneralizedTime\");\n    return this.hV;\n  }, e != null && this.setByParam(e);\n};\nN(a.asn1.DERGeneralizedTime, a.asn1.DERAbstractTime);\na.asn1.DERSequence = function(e) {\n  a.asn1.DERSequence.superclass.constructor.call(this, e), this.hT = \"30\", this.getFreshValueHex = function() {\n    for (var t = \"\", r = 0; r < this.asn1Array.length; r++) {\n      var i = this.asn1Array[r];\n      t += i.tohex();\n    }\n    return this.hV = t, this.hV;\n  };\n};\nN(a.asn1.DERSequence, a.asn1.DERAbstractStructured);\na.asn1.DERSet = function(e) {\n  a.asn1.DERSet.superclass.constructor.call(this, e), this.hT = \"31\", this.sortFlag = !0, this.getFreshValueHex = function() {\n    for (var t = new Array(), r = 0; r < this.asn1Array.length; r++) {\n      var i = this.asn1Array[r];\n      t.push(i.tohex());\n    }\n    return this.sortFlag == !0 && t.sort(), this.hV = t.join(\"\"), this.hV;\n  }, typeof e < \"u\" && typeof e.sortflag < \"u\" && e.sortflag == !1 && (this.sortFlag = !1);\n};\nN(a.asn1.DERSet, a.asn1.DERAbstractStructured);\na.asn1.DERTaggedObject = function(e) {\n  a.asn1.DERTaggedObject.superclass.constructor.call(this);\n  var t = a.asn1, r = V, i = r.getV;\n  r.isASN1HEX;\n  var s = t.ASN1Util.newObject;\n  this.hT = \"a0\", this.hV = \"\", this.isExplicit = !0, this.asn1Object = null, this.params = { tag: \"a0\", explicit: !0 }, this.setASN1Object = function(n, h, u) {\n    this.params = { tag: h, explicit: n, obj: u };\n  }, this.getFreshValueHex = function() {\n    var n = this.params;\n    if (n.explicit == null && (n.explicit = !0), n.tage != null && (n.tag = n.tage, n.explicit = !0), n.tagi != null && (n.tag = n.tagi, n.explicit = !1), n.str != null)\n      this.hV = ht(n.str);\n    else if (n.hex != null)\n      this.hV = n.hex;\n    else if (n.obj != null) {\n      var h;\n      n.obj instanceof t.ASN1Object ? h = n.obj.tohex() : typeof n.obj == \"object\" && (h = s(n.obj).tohex()), n.explicit ? this.hV = h : this.hV = i(h, 0);\n    } else\n      throw new Error(\"str, hex nor obj not specified\");\n    return n.tag == null && (n.tag = \"a0\"), this.hT = n.tag, this.hTLV = null, this.isModified = !0, this.hV;\n  }, this.setByParam = function(n) {\n    this.params = n;\n  }, e !== void 0 && this.setByParam(e);\n};\nN(a.asn1.DERTaggedObject, a.asn1.ASN1Object);\nvar V = new function() {\n}();\nV.getLblen = function(e, t) {\n  if (e.substr(t + 2, 1) != \"8\")\n    return 1;\n  var r = parseInt(e.substr(t + 3, 1));\n  return r == 0 ? -1 : 0 < r && r < 10 ? r + 1 : -2;\n};\nV.getL = function(e, t) {\n  var r = V.getLblen(e, t);\n  return r < 1 ? \"\" : e.substr(t + 2, r * 2);\n};\nV.getVblen = function(e, t) {\n  var r, i;\n  return r = V.getL(e, t), r == \"\" ? -1 : (r.substr(0, 1) === \"8\" ? i = new R(r.substr(2), 16) : i = new R(r, 16), i.intValue());\n};\nV.getVidx = function(e, t) {\n  var r = V.getLblen(e, t);\n  return r < 0 ? r : t + (r + 1) * 2;\n};\nV.getV = function(e, t) {\n  var r = V.getVidx(e, t), i = V.getVblen(e, t);\n  return e.substr(r, i * 2);\n};\nV.getTLV = function(e, t) {\n  return e.substr(t, 2) + V.getL(e, t) + V.getV(e, t);\n};\nV.getTLVblen = function(e, t) {\n  return 2 + V.getLblen(e, t) * 2 + V.getVblen(e, t) * 2;\n};\nV.getNextSiblingIdx = function(e, t) {\n  var r = V.getVidx(e, t), i = V.getVblen(e, t);\n  return r + i * 2;\n};\nV.getChildIdx = function(e, t) {\n  var r = V, i = [], s, n, h;\n  s = r.getVidx(e, t), n = r.getVblen(e, t) * 2, e.substr(t, 2) == \"03\" && (s += 2, n -= 2), h = 0;\n  for (var u = s; h <= n; ) {\n    var p = r.getTLVblen(e, u);\n    if (h += p, h <= n && i.push(u), u += p, h >= n)\n      break;\n  }\n  return i;\n};\nV.getNthChildIdx = function(e, t, r) {\n  var i = V.getChildIdx(e, t);\n  return i[r];\n};\nV.getIdxbyList = function(e, t, r, i) {\n  var s = V, n, h;\n  return r.length == 0 ? i !== void 0 && e.substr(t, 2) !== i ? -1 : t : (n = r.shift(), h = s.getChildIdx(e, t), n >= h.length ? -1 : s.getIdxbyList(e, h[n], r, i));\n};\nV.getIdxbyListEx = function(e, t, r, i) {\n  var s = V, n, h;\n  if (r.length == 0)\n    return i !== void 0 && e.substr(t, 2) !== i ? -1 : t;\n  n = r.shift(), h = s.getChildIdx(e, t);\n  for (var u = 0, p = 0; p < h.length; p++) {\n    var c = e.substr(h[p], 2);\n    if (typeof n == \"number\" && !s.isContextTag(c) && u == n || typeof n == \"string\" && s.isContextTag(c, n))\n      return s.getIdxbyListEx(e, h[p], r, i);\n    s.isContextTag(c) || u++;\n  }\n  return -1;\n};\nV.getTLVbyList = function(e, t, r, i) {\n  var s = V, n = s.getIdxbyList(e, t, r, i);\n  return n == -1 || n >= e.length ? null : s.getTLV(e, n);\n};\nV.getTLVbyListEx = function(e, t, r, i) {\n  var s = V, n = s.getIdxbyListEx(e, t, r, i);\n  return n == -1 ? null : s.getTLV(e, n);\n};\nV.getVbyList = function(e, t, r, i, s) {\n  var n = V, h, u;\n  return h = n.getIdxbyList(e, t, r, i), h == -1 || h >= e.length ? null : (u = n.getV(e, h), s === !0 && (u = u.substr(2)), u);\n};\nV.getVbyListEx = function(e, t, r, i, s) {\n  var n = V, h, u;\n  return h = n.getIdxbyListEx(e, t, r, i), h == -1 ? null : (u = n.getV(e, h), e.substr(h, 2) == \"03\" && s !== !1 && (u = u.substr(2)), u);\n};\nV.getInt = function(e, t, r) {\n  r == null && (r = -1);\n  try {\n    var i = e.substr(t, 2);\n    if (i != \"02\" && i != \"03\")\n      return r;\n    var s = V.getV(e, t);\n    return i == \"02\" ? parseInt(s, 16) : Sn(s);\n  } catch {\n    return r;\n  }\n};\nV.getOID = function(e, t, r) {\n  r == null && (r = null);\n  try {\n    if (e.substr(t, 2) != \"06\")\n      return r;\n    var i = V.getV(e, t);\n    return ft(i);\n  } catch {\n    return r;\n  }\n};\nV.getOIDName = function(e, t, r) {\n  r == null && (r = null);\n  try {\n    var i = V.getOID(e, t, r);\n    if (i == r)\n      return r;\n    var s = a.asn1.x509.OID.oid2name(i);\n    return s == \"\" ? i : s;\n  } catch {\n    return r;\n  }\n};\nV.getString = function(e, t, r) {\n  r == null && (r = null);\n  try {\n    var i = V.getV(e, t);\n    return Ae(i);\n  } catch {\n    return r;\n  }\n};\nV.hextooidstr = function(e) {\n  var t = function(v, o) {\n    return v.length >= o ? v : new Array(o - v.length + 1).join(\"0\") + v;\n  }, r = [], i = e.substr(0, 2), s = parseInt(i, 16);\n  r[0] = new String(Math.floor(s / 40)), r[1] = new String(s % 40);\n  for (var n = e.substr(2), h = [], u = 0; u < n.length / 2; u++)\n    h.push(parseInt(n.substr(u * 2, 2), 16));\n  for (var p = [], c = \"\", u = 0; u < h.length; u++)\n    h[u] & 128 ? c = c + t((h[u] & 127).toString(2), 7) : (c = c + t((h[u] & 127).toString(2), 7), p.push(new String(parseInt(c, 2))), c = \"\");\n  var y = r.join(\".\");\n  return p.length > 0 && (y = y + \".\" + p.join(\".\")), y;\n};\nV.dump = function(e, t, r, i) {\n  var s = V, n = s.getV, h = s.dump, u = s.getChildIdx, p = e;\n  e instanceof a.asn1.ASN1Object && (p = e.tohex());\n  var c = function(E, w) {\n    if (E.length <= w * 2)\n      return E;\n    var x = E.substr(0, w) + \"..(total \" + E.length / 2 + \"bytes)..\" + E.substr(E.length - w, w);\n    return x;\n  };\n  t === void 0 && (t = { ommit_long_octet: 32 }), r === void 0 && (r = 0), i === void 0 && (i = \"\");\n  var y = t.ommit_long_octet, I = p.substr(r, 2);\n  if (I == \"01\") {\n    var v = n(p, r);\n    return v == \"00\" ? i + `BOOLEAN FALSE\n` : i + `BOOLEAN TRUE\n`;\n  }\n  if (I == \"02\") {\n    var v = n(p, r);\n    return i + \"INTEGER \" + c(v, y) + `\n`;\n  }\n  if (I == \"03\") {\n    var v = n(p, r);\n    if (s.isASN1HEX(v.substr(2))) {\n      var o = i + `BITSTRING, encapsulates\n`;\n      return o = o + h(v.substr(2), t, 0, i + \"  \"), o;\n    } else\n      return i + \"BITSTRING \" + c(v, y) + `\n`;\n  }\n  if (I == \"04\") {\n    var v = n(p, r);\n    if (s.isASN1HEX(v)) {\n      var o = i + `OCTETSTRING, encapsulates\n`;\n      return o = o + h(v, t, 0, i + \"  \"), o;\n    } else\n      return i + \"OCTETSTRING \" + c(v, y) + `\n`;\n  }\n  if (I == \"05\")\n    return i + `NULL\n`;\n  if (I == \"06\") {\n    var l = n(p, r), f = a.asn1.ASN1Util.oidHexToInt(l), d = a.asn1.x509.OID.oid2name(f), g = f.replace(/\\./g, \" \");\n    return d != \"\" ? i + \"ObjectIdentifier \" + d + \" (\" + g + `)\n` : i + \"ObjectIdentifier (\" + g + `)\n`;\n  }\n  if (I == \"0a\")\n    return i + \"ENUMERATED \" + parseInt(n(p, r)) + `\n`;\n  if (I == \"0c\")\n    return i + \"UTF8String '\" + W(n(p, r)) + `'\n`;\n  if (I == \"13\")\n    return i + \"PrintableString '\" + W(n(p, r)) + `'\n`;\n  if (I == \"14\")\n    return i + \"TeletexString '\" + W(n(p, r)) + `'\n`;\n  if (I == \"16\")\n    return i + \"IA5String '\" + W(n(p, r)) + `'\n`;\n  if (I == \"17\")\n    return i + \"UTCTime \" + W(n(p, r)) + `\n`;\n  if (I == \"18\")\n    return i + \"GeneralizedTime \" + W(n(p, r)) + `\n`;\n  if (I == \"1a\")\n    return i + \"VisualString '\" + W(n(p, r)) + `'\n`;\n  if (I == \"1e\")\n    return i + \"BMPString '\" + Tt(n(p, r)) + `'\n`;\n  if (I == \"30\") {\n    if (p.substr(r, 4) == \"3000\")\n      return i + `SEQUENCE {}\n`;\n    var o = i + `SEQUENCE\n`, S = u(p, r), b = t;\n    if ((S.length == 2 || S.length == 3) && p.substr(S[0], 2) == \"06\" && p.substr(S[S.length - 1], 2) == \"04\") {\n      var d = s.oidname(n(p, S[0])), D = JSON.parse(JSON.stringify(t));\n      D.x509ExtName = d, b = D;\n    }\n    for (var A = 0; A < S.length; A++)\n      o = o + h(p, b, S[A], i + \"  \");\n    return o;\n  }\n  if (I == \"31\") {\n    for (var o = i + `SET\n`, S = u(p, r), A = 0; A < S.length; A++)\n      o = o + h(p, t, S[A], i + \"  \");\n    return o;\n  }\n  var I = parseInt(I, 16);\n  if (I & 128) {\n    var m = I & 31;\n    if (I & 32) {\n      for (var o = i + \"[\" + m + `]\n`, S = u(p, r), A = 0; A < S.length; A++)\n        o = o + h(p, t, S[A], i + \"  \");\n      return o;\n    } else {\n      var v = n(p, r);\n      if (V.isASN1HEX(v)) {\n        var o = i + \"[\" + m + `]\n`;\n        return o = o + h(v, t, 0, i + \"  \"), o;\n      } else\n        (v.substr(0, 8) == \"68747470\" || t.x509ExtName === \"subjectAltName\" && m == 2) && (v = W(v));\n      var o = i + \"[\" + m + \"] \" + v + `\n`;\n      return o;\n    }\n  }\n  return i + \"UNKNOWN(\" + I + \") \" + n(p, r) + `\n`;\n};\nV.parse = function(e) {\n  var t = V, r = t.parse, i = t.isASN1HEX, s = t.getV, n = t.getTLV, h = t.getChildIdx, u = a.asn1, p = u.ASN1Util.oidHexToInt, c = u.x509.OID.oid2name, y = W, v = Tt, o = fn, l = { \"0c\": \"utf8str\", 12: \"numstr\", 13: \"prnstr\", 14: \"telstr\", 16: \"ia5str\", 17: \"utctime\", 18: \"gentime\", \"1a\": \"visstr\", \"1e\": \"bmpstr\", 30: \"seq\", 31: \"set\" }, f = function(x) {\n    for (var F = [], P = h(x, 0), T = 0; T < P.length; T++) {\n      var H = P[T], C = n(x, H), B = r(C);\n      F.push(B);\n    }\n    return F;\n  }, d = e.substr(0, 2), g = {}, S = s(e, 0);\n  if (d == \"01\")\n    return e == \"0101ff\" ? { bool: !0 } : { bool: !1 };\n  if (d == \"02\")\n    return { int: { hex: S } };\n  if (d == \"03\")\n    try {\n      if (S.substr(0, 2) != \"00\")\n        throw \"not encap\";\n      var b = S.substr(2);\n      if (!i(b))\n        throw \"not encap\";\n      return { bitstr: { obj: r(b) } };\n    } catch {\n      var D = null;\n      return S.length <= 10 && (D = En(S)), D == null ? { bitstr: { hex: S } } : { bitstr: { bin: D } };\n    }\n  else if (d == \"04\")\n    try {\n      if (!i(S))\n        throw \"not encap\";\n      return { octstr: { obj: r(S) } };\n    } catch {\n      return { octstr: { hex: S } };\n    }\n  else {\n    if (d == \"05\")\n      return { null: \"\" };\n    if (d == \"06\") {\n      var A = p(S), I = c(A);\n      return I == \"\" ? { oid: A } : { oid: I };\n    } else {\n      if (d == \"0a\")\n        return S.length > 4 ? { enum: { hex: S } } : { enum: parseInt(S, 16) };\n      if (d == \"30\" || d == \"31\")\n        return g[l[d]] = f(e), g;\n      if (d == \"14\") {\n        var m = o(S);\n        return g[l[d]] = { str: m }, g;\n      } else if (d == \"1e\") {\n        var m = v(S);\n        return g[l[d]] = { str: m }, g;\n      } else if (\":0c:12:13:16:17:18:1a:\".indexOf(d) != -1) {\n        var m = y(S);\n        return g[l[d]] = { str: m }, g;\n      } else if (d.match(/^8[0-9]$/)) {\n        var m = y(S);\n        return m == null | m == \"\" ? { tag: { tag: d, explicit: !1, hex: S } } : m.match(/[\\x00-\\x1F\\x7F-\\x9F]/) != null || m.match(/[\\u0000-\\u001F\\u0080–\\u009F]/) != null ? { tag: { tag: d, explicit: !1, hex: S } } : { tag: { tag: d, explicit: !1, str: m } };\n      } else if (d.match(/^a[0-9]$/))\n        try {\n          if (!i(S))\n            throw new Error(\"not encap\");\n          return { tag: { tag: d, explicit: !0, obj: r(S) } };\n        } catch {\n          return { tag: { tag: d, explicit: !0, hex: S } };\n        }\n      else {\n        var E = new a.asn1.ASN1Object();\n        E.hV = S;\n        var w = E.getLengthHexFromValue();\n        return { asn1: { tlv: d + w + S } };\n      }\n    }\n  }\n};\nV.isContextTag = function(e, t) {\n  e = e.toLowerCase();\n  var r, i;\n  try {\n    r = parseInt(e, 16);\n  } catch {\n    return -1;\n  }\n  if (t === void 0)\n    return (r & 192) == 128;\n  try {\n    var s = t.match(/^\\[[0-9]+\\]$/);\n    return s == null || (i = parseInt(t.substr(1, t.length - 1), 10), i > 31) ? !1 : (r & 192) == 128 && (r & 31) == i;\n  } catch {\n    return !1;\n  }\n};\nV.isASN1HEX = function(e) {\n  var t = V;\n  if (e.length % 2 == 1)\n    return !1;\n  var r = t.getVblen(e, 0), i = e.substr(0, 2), s = t.getL(e, 0), n = e.length - i.length - s.length;\n  return n == r * 2;\n};\nV.checkStrictDER = function(e, t, r, i, s) {\n  var n = V;\n  if (r === void 0) {\n    if (typeof e != \"string\")\n      throw new Error(\"not hex string\");\n    if (e = e.toLowerCase(), !a.lang.String.isHex(e))\n      throw new Error(\"not hex string\");\n    r = e.length, i = e.length / 2, i < 128 ? s = 1 : s = Math.ceil(i.toString(16)) + 1;\n  }\n  var h = n.getL(e, t);\n  if (h.length > s * 2)\n    throw new Error(\"L of TLV too long: idx=\" + t);\n  var u = n.getVblen(e, t);\n  if (u > i)\n    throw new Error(\"value of L too long than hex: idx=\" + t);\n  var p = n.getTLV(e, t), c = p.length - 2 - n.getL(e, t).length;\n  if (c !== u * 2)\n    throw new Error(\"V string length and L's value not the same:\" + c + \"/\" + u * 2);\n  if (t === 0 && e.length != p.length)\n    throw new Error(\"total length and TLV length unmatch:\" + e.length + \"!=\" + p.length);\n  var y = e.substr(t, 2);\n  if (y === \"02\") {\n    var v = n.getVidx(e, t);\n    if (e.substr(v, 2) == \"00\" && e.charCodeAt(v + 2) < 56)\n      throw new Error(\"not least zeros for DER INTEGER\");\n  }\n  if (parseInt(y, 16) & 32) {\n    for (var o = n.getVblen(e, t), l = 0, f = n.getChildIdx(e, t), d = 0; d < f.length; d++) {\n      var g = n.getTLV(e, f[d]);\n      l += g.length, n.checkStrictDER(e, f[d], r, i, s);\n    }\n    if (o * 2 != l)\n      throw new Error(\"sum of children's TLV length and L unmatch: \" + o * 2 + \"!=\" + l);\n  }\n};\nV.oidname = function(e) {\n  var t = a.asn1;\n  a.lang.String.isHex(e) && (e = t.ASN1Util.oidHexToInt(e));\n  var r = t.x509.OID.oid2name(e);\n  return r === \"\" && (r = e), r;\n};\n(typeof a > \"u\" || !a) && (a = {});\n(typeof a.asn1 > \"u\" || !a.asn1) && (a.asn1 = {});\n(typeof a.asn1.x509 > \"u\" || !a.asn1.x509) && (a.asn1.x509 = {});\na.asn1.x509.Certificate = function(e) {\n  a.asn1.x509.Certificate.superclass.constructor.call(this);\n  var t = a, r = t.asn1, i = r.DERBitString, s = r.DERSequence, n = r.x509, h = n.TBSCertificate, u = n.AlgorithmIdentifier;\n  this.params = void 0, this.setByParam = function(p) {\n    this.params = p;\n  }, this.sign = function() {\n    var p = this.params, c = p.sigalg;\n    p.sigalg.name != null && (c = p.sigalg.name);\n    var y = p.tbsobj.tohex(), v = new a.crypto.Signature({ alg: c });\n    v.init(p.cakey), v.updateHex(y), p.sighex = v.sign();\n  }, this.getPEM = function() {\n    return de(this.tohex(), \"CERTIFICATE\");\n  }, this.tohex = function() {\n    var p = this.params;\n    if ((p.tbsobj == null || p.tbsobj == null) && (p.tbsobj = new h(p)), p.sighex == null && p.cakey != null && this.sign(), p.sighex == null)\n      throw new Error(\"sighex or cakey parameter not defined\");\n    var c = [];\n    c.push(p.tbsobj), c.push(new u({ name: p.sigalg })), c.push(new i({ hex: \"00\" + p.sighex }));\n    var y = new s({ array: c });\n    return y.tohex();\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, e != null && (this.params = e);\n};\nN(a.asn1.x509.Certificate, a.asn1.ASN1Object);\na.asn1.x509.TBSCertificate = function(e) {\n  a.asn1.x509.TBSCertificate.superclass.constructor.call(this);\n  var t = a, r = t.asn1, i = r.x509, s = r.DERTaggedObject, n = r.DERInteger, h = r.DERSequence, u = i.AlgorithmIdentifier, p = i.Time, c = i.X500Name, y = i.Extensions, v = i.SubjectPublicKeyInfo;\n  this.params = null, this.setByParam = function(o) {\n    this.params = o;\n  }, this.tohex = function() {\n    var o = [], l = this.params;\n    if (l.version != null || l.version != 1) {\n      var f = 2;\n      l.version != null && (f = l.version - 1);\n      var d = new s({ obj: new n({ int: f }) });\n      o.push(d);\n    }\n    o.push(new n(l.serial)), o.push(new u({ name: l.sigalg })), o.push(new c(l.issuer)), o.push(new h({ array: [new p(l.notbefore), new p(l.notafter)] })), o.push(new c(l.subject)), o.push(new v(k.getKey(l.sbjpubkey))), l.ext !== void 0 && l.ext.length > 0 && o.push(new s({ tag: \"a3\", obj: new y(l.ext) }));\n    var g = new a.asn1.DERSequence({ array: o });\n    return g.tohex();\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, e !== void 0 && this.setByParam(e);\n};\nN(a.asn1.x509.TBSCertificate, a.asn1.ASN1Object);\na.asn1.x509.Extensions = function(e) {\n  a.asn1.x509.Extensions.superclass.constructor.call(this);\n  var t = a, r = t.asn1, i = r.DERSequence, s = r.x509;\n  this.aParam = [], this.setByParam = function(n) {\n    this.aParam = n;\n  }, this.tohex = function() {\n    for (var n = [], h = 0; h < this.aParam.length; h++) {\n      var u = this.aParam[h], p = u.extname, c = null;\n      if (u.extn != null)\n        c = new s.PrivateExtension(u);\n      else if (p == \"subjectKeyIdentifier\")\n        c = new s.SubjectKeyIdentifier(u);\n      else if (p == \"keyUsage\")\n        c = new s.KeyUsage(u);\n      else if (p == \"subjectAltName\")\n        c = new s.SubjectAltName(u);\n      else if (p == \"issuerAltName\")\n        c = new s.IssuerAltName(u);\n      else if (p == \"basicConstraints\")\n        c = new s.BasicConstraints(u);\n      else if (p == \"nameConstraints\")\n        c = new s.NameConstraints(u);\n      else if (p == \"cRLDistributionPoints\")\n        c = new s.CRLDistributionPoints(u);\n      else if (p == \"certificatePolicies\")\n        c = new s.CertificatePolicies(u);\n      else if (p == \"policyMappings\")\n        c = new s.PolicyMappings(u);\n      else if (p == \"policyConstraints\")\n        c = new s.PolicyConstraints(u);\n      else if (p == \"inhibitAnyPolicy\")\n        c = new s.InhibitAnyPolicy(u);\n      else if (p == \"authorityKeyIdentifier\")\n        c = new s.AuthorityKeyIdentifier(u);\n      else if (p == \"extKeyUsage\")\n        c = new s.ExtKeyUsage(u);\n      else if (p == \"authorityInfoAccess\")\n        c = new s.AuthorityInfoAccess(u);\n      else if (p == \"cRLNumber\")\n        c = new s.CRLNumber(u);\n      else if (p == \"cRLReason\")\n        c = new s.CRLReason(u);\n      else if (p == \"ocspNonce\")\n        c = new s.OCSPNonce(u);\n      else if (p == \"ocspNoCheck\")\n        c = new s.OCSPNoCheck(u);\n      else if (p == \"adobeTimeStamp\")\n        c = new s.AdobeTimeStamp(u);\n      else if (p == \"subjectDirectoryAttributes\")\n        c = new s.SubjectDirectoryAttributes(u);\n      else\n        throw new Error(\"extension not supported:\" + JSON.stringify(u));\n      c != null && n.push(c);\n    }\n    var y = new i({ array: n });\n    return y.tohex();\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, e != null && this.setByParam(e);\n};\nN(a.asn1.x509.Extensions, a.asn1.ASN1Object);\na.asn1.x509.Extension = function(e) {\n  a.asn1.x509.Extension.superclass.constructor.call(this);\n  var t = a, r = t.asn1, i = r.DERObjectIdentifier, s = r.DEROctetString;\n  r.DERBitString;\n  var n = r.DERBoolean, h = r.DERSequence;\n  this.tohex = function() {\n    var u = new i({ oid: this.oid }), p = new s({ hex: this.getExtnValueHex() }), c = new Array();\n    c.push(u), this.critical && c.push(new n()), c.push(p);\n    var y = new h({ array: c });\n    return y.tohex();\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, this.critical = !1, e !== void 0 && e.critical !== void 0 && (this.critical = e.critical);\n};\nN(a.asn1.x509.Extension, a.asn1.ASN1Object);\na.asn1.x509.KeyUsage = function(e) {\n  a.asn1.x509.KeyUsage.superclass.constructor.call(this, e);\n  var t = Error, r = { digitalSignature: 0, nonRepudiation: 1, keyEncipherment: 2, dataEncipherment: 3, keyAgreement: 4, keyCertSign: 5, cRLSign: 6, encipherOnly: 7, decipherOnly: 8 };\n  this.getExtnValueHex = function() {\n    var i = this.getBinValue();\n    return this.asn1ExtnValue = new a.asn1.DERBitString({ bin: i }), this.asn1ExtnValue.tohex();\n  }, this.getBinValue = function() {\n    var i = this.params;\n    if (typeof i != \"object\" || typeof i.names != \"object\" && typeof i.bin != \"string\")\n      throw new t(\"parameter not yet set\");\n    if (i.names != null)\n      return rt(i.names, r);\n    if (i.bin != null)\n      return i.bin;\n    throw new t(\"parameter not set properly\");\n  }, this.oid = \"2.5.29.15\", e !== void 0 && (this.params = e);\n};\nN(a.asn1.x509.KeyUsage, a.asn1.x509.Extension);\na.asn1.x509.BasicConstraints = function(e) {\n  a.asn1.x509.BasicConstraints.superclass.constructor.call(this, e);\n  var t = a.asn1, r = t.DERBoolean, i = t.DERInteger, s = t.DERSequence;\n  this.getExtnValueHex = function() {\n    var n = new Array();\n    this.cA && n.push(new r()), this.pathLen > -1 && n.push(new i({ int: this.pathLen }));\n    var h = new s({ array: n });\n    return this.asn1ExtnValue = h, this.asn1ExtnValue.tohex();\n  }, this.oid = \"2.5.29.19\", this.cA = !1, this.pathLen = -1, e !== void 0 && (e.cA !== void 0 && (this.cA = e.cA), e.pathLen !== void 0 && (this.pathLen = e.pathLen));\n};\nN(a.asn1.x509.BasicConstraints, a.asn1.x509.Extension);\na.asn1.x509.CRLDistributionPoints = function(e) {\n  a.asn1.x509.CRLDistributionPoints.superclass.constructor.call(this, e);\n  var t = a, r = t.asn1, i = r.x509;\n  this.getExtnValueHex = function() {\n    return this.asn1ExtnValue.tohex();\n  }, this.setByDPArray = function(s) {\n    for (var n = [], h = 0; h < s.length; h++)\n      if (s[h] instanceof a.asn1.ASN1Object)\n        n.push(s[h]);\n      else {\n        var u = new i.DistributionPoint(s[h]);\n        n.push(u);\n      }\n    this.asn1ExtnValue = new r.DERSequence({ array: n });\n  }, this.setByOneURI = function(s) {\n    var n = new i.DistributionPoint({ fulluri: s });\n    this.setByDPArray([n]);\n  }, this.oid = \"2.5.29.31\", e !== void 0 && (e.array !== void 0 ? this.setByDPArray(e.array) : e.uri !== void 0 && this.setByOneURI(e.uri));\n};\nN(a.asn1.x509.CRLDistributionPoints, a.asn1.x509.Extension);\na.asn1.x509.DistributionPoint = function(e) {\n  a.asn1.x509.DistributionPoint.superclass.constructor.call(this);\n  var t = a, r = t.asn1, i = r.x509.DistributionPointName;\n  this.tohex = function() {\n    var s = new r.DERSequence();\n    if (this.asn1DP != null) {\n      var n = new r.DERTaggedObject({ explicit: !0, tag: \"a0\", obj: this.asn1DP });\n      s.appendASN1Object(n);\n    }\n    return this.hTLV = s.tohex(), this.hTLV;\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, e !== void 0 && (e.dpobj !== void 0 ? this.asn1DP = e.dpobj : e.dpname !== void 0 ? this.asn1DP = new i(e.dpname) : e.fulluri !== void 0 && (this.asn1DP = new i({ full: [{ uri: e.fulluri }] })));\n};\nN(a.asn1.x509.DistributionPoint, a.asn1.ASN1Object);\na.asn1.x509.DistributionPointName = function(e) {\n  a.asn1.x509.DistributionPointName.superclass.constructor.call(this);\n  var t = a, r = t.asn1, i = r.DERTaggedObject;\n  if (this.tohex = function() {\n    if (this.type != \"full\")\n      throw new Error(\"currently type shall be 'full': \" + this.type);\n    return this.asn1Obj = new i({ explicit: !1, tag: this.tag, obj: this.asn1V }), this.hTLV = this.asn1Obj.tohex(), this.hTLV;\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, e !== void 0)\n    if (r.x509.GeneralNames.prototype.isPrototypeOf(e))\n      this.type = \"full\", this.tag = \"a0\", this.asn1V = e;\n    else if (e.full !== void 0)\n      this.type = \"full\", this.tag = \"a0\", this.asn1V = new r.x509.GeneralNames(e.full);\n    else\n      throw new Error(\"This class supports GeneralNames only as argument\");\n};\nN(a.asn1.x509.DistributionPointName, a.asn1.ASN1Object);\na.asn1.x509.CertificatePolicies = function(e) {\n  a.asn1.x509.CertificatePolicies.superclass.constructor.call(this, e);\n  var t = a, r = t.asn1, i = r.x509, s = r.DERSequence, n = i.PolicyInformation;\n  this.params = null, this.getExtnValueHex = function() {\n    for (var h = [], u = 0; u < this.params.array.length; u++)\n      h.push(new n(this.params.array[u]));\n    var p = new s({ array: h });\n    return this.asn1ExtnValue = p, this.asn1ExtnValue.tohex();\n  }, this.oid = \"2.5.29.32\", e !== void 0 && (this.params = e);\n};\nN(a.asn1.x509.CertificatePolicies, a.asn1.x509.Extension);\na.asn1.x509.PolicyInformation = function(e) {\n  a.asn1.x509.PolicyInformation.superclass.constructor.call(this, e);\n  var t = a.asn1, r = t.DERSequence, i = t.DERObjectIdentifier, s = t.x509.PolicyQualifierInfo;\n  this.params = null, this.tohex = function() {\n    if (this.params.policyoid === void 0 && this.params.array === void 0)\n      throw new Error(\"parameter oid and array missing\");\n    var n = [new i(this.params.policyoid)];\n    if (this.params.array !== void 0) {\n      for (var h = [], u = 0; u < this.params.array.length; u++)\n        h.push(new s(this.params.array[u]));\n      h.length > 0 && n.push(new r({ array: h }));\n    }\n    var p = new r({ array: n });\n    return p.tohex();\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, e !== void 0 && (this.params = e);\n};\nN(a.asn1.x509.PolicyInformation, a.asn1.ASN1Object);\na.asn1.x509.PolicyQualifierInfo = function(e) {\n  a.asn1.x509.PolicyQualifierInfo.superclass.constructor.call(this, e);\n  var t = a.asn1, r = t.DERSequence, i = t.DERIA5String, s = t.DERObjectIdentifier, n = t.x509.UserNotice;\n  this.params = null, this.tohex = function() {\n    if (this.params.cps !== void 0) {\n      var h = new r({ array: [new s({ oid: \"1.3.6.1.5.5.7.2.1\" }), new i({ str: this.params.cps })] });\n      return h.tohex();\n    }\n    if (this.params.unotice != null) {\n      var h = new r({ array: [new s({ oid: \"1.3.6.1.5.5.7.2.2\" }), new n(this.params.unotice)] });\n      return h.tohex();\n    }\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, e !== void 0 && (this.params = e);\n};\nN(a.asn1.x509.PolicyQualifierInfo, a.asn1.ASN1Object);\na.asn1.x509.UserNotice = function(e) {\n  a.asn1.x509.UserNotice.superclass.constructor.call(this, e);\n  var t = a.asn1.DERSequence;\n  a.asn1.DERInteger;\n  var r = a.asn1.x509.DisplayText, i = a.asn1.x509.NoticeReference;\n  this.params = null, this.tohex = function() {\n    var s = [];\n    this.params.noticeref !== void 0 && s.push(new i(this.params.noticeref)), this.params.exptext !== void 0 && s.push(new r(this.params.exptext));\n    var n = new t({ array: s });\n    return n.tohex();\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, e !== void 0 && (this.params = e);\n};\nN(a.asn1.x509.UserNotice, a.asn1.ASN1Object);\na.asn1.x509.NoticeReference = function(e) {\n  a.asn1.x509.NoticeReference.superclass.constructor.call(this, e);\n  var t = a.asn1.DERSequence, r = a.asn1.DERInteger, i = a.asn1.x509.DisplayText;\n  this.params = null, this.tohex = function() {\n    var s = [];\n    if (this.params.org !== void 0 && s.push(new i(this.params.org)), this.params.noticenum !== void 0) {\n      for (var n = [], h = this.params.noticenum, u = 0; u < h.length; u++)\n        n.push(new r(h[u]));\n      s.push(new t({ array: n }));\n    }\n    if (s.length == 0)\n      throw new Error(\"parameter is empty\");\n    var p = new t({ array: s });\n    return p.tohex();\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, e !== void 0 && (this.params = e);\n};\nN(a.asn1.x509.NoticeReference, a.asn1.ASN1Object);\na.asn1.x509.DisplayText = function(e) {\n  a.asn1.x509.DisplayText.superclass.constructor.call(this, e), this.hT = \"0c\", e !== void 0 && (e.type === \"ia5\" ? this.hT = \"16\" : e.type === \"vis\" ? this.hT = \"1a\" : e.type === \"bmp\" && (this.hT = \"1e\"));\n};\nN(a.asn1.x509.DisplayText, a.asn1.DERAbstractString);\na.asn1.x509.PolicyMappings = function(e) {\n  a.asn1.x509.PolicyMappings.superclass.constructor.call(this, e);\n  var t = a, r = t.asn1;\n  r.x509;\n  var i = r.ASN1Util.newObject;\n  this.params = null, this.getExtnValueHex = function() {\n    for (var s = this.params, n = [], h = 0; h < s.array.length; h++) {\n      var u = s.array[h];\n      n.push({ seq: [{ oid: u[0] }, { oid: u[1] }] });\n    }\n    return this.asn1ExtnValue = i({ seq: n }), this.asn1ExtnValue.tohex();\n  }, this.oid = \"2.5.29.33\", e !== void 0 && (this.params = e);\n};\nN(a.asn1.x509.PolicyMappings, a.asn1.x509.Extension);\na.asn1.x509.PolicyConstraints = function(e) {\n  a.asn1.x509.PolicyConstraints.superclass.constructor.call(this, e);\n  var t = a, r = t.asn1;\n  r.x509;\n  var i = r.ASN1Util.newObject;\n  this.params = null, this.getExtnValueHex = function() {\n    var s = this.params, n = [];\n    return s.reqexp != null && n.push({ tag: { tagi: \"80\", obj: { int: s.reqexp } } }), s.inhibit != null && n.push({ tag: { tagi: \"81\", obj: { int: s.inhibit } } }), this.asn1ExtnValue = i({ seq: n }), this.asn1ExtnValue.tohex();\n  }, this.oid = \"2.5.29.36\", e !== void 0 && (this.params = e);\n};\nN(a.asn1.x509.PolicyConstraints, a.asn1.x509.Extension);\na.asn1.x509.InhibitAnyPolicy = function(e) {\n  a.asn1.x509.InhibitAnyPolicy.superclass.constructor.call(this, e);\n  var t = a, r = t.asn1;\n  r.x509;\n  var i = r.ASN1Util.newObject;\n  this.params = null, this.getExtnValueHex = function() {\n    return this.asn1ExtnValue = i({ int: this.params.skip }), this.asn1ExtnValue.tohex();\n  }, this.oid = \"2.5.29.54\", e !== void 0 && (this.params = e);\n};\nN(a.asn1.x509.InhibitAnyPolicy, a.asn1.x509.Extension);\na.asn1.x509.NameConstraints = function(e) {\n  a.asn1.x509.NameConstraints.superclass.constructor.call(this, e);\n  var t = a, r = t.asn1, i = r.x509, s = r.ASN1Util.newObject, n = i.GeneralSubtree;\n  this.params = null, this.getExtnValueHex = function() {\n    var h = this.params, u = [];\n    if (h.permit != null && h.permit.length != null) {\n      for (var p = [], c = 0; c < h.permit.length; c++)\n        p.push(new n(h.permit[c]));\n      u.push({ tag: { tagi: \"a0\", obj: { seq: p } } });\n    }\n    if (h.exclude != null && h.exclude.length != null) {\n      for (var y = [], c = 0; c < h.exclude.length; c++)\n        y.push(new n(h.exclude[c]));\n      u.push({ tag: { tagi: \"a1\", obj: { seq: y } } });\n    }\n    return this.asn1ExtnValue = s({ seq: u }), this.asn1ExtnValue.tohex();\n  }, this.oid = \"2.5.29.30\", e !== void 0 && (this.params = e);\n};\nN(a.asn1.x509.NameConstraints, a.asn1.x509.Extension);\na.asn1.x509.GeneralSubtree = function(e) {\n  a.asn1.x509.GeneralSubtree.superclass.constructor.call(this);\n  var t = a.asn1, r = t.x509, i = r.GeneralName, s = t.ASN1Util.newObject;\n  this.params = null, this.setByParam = function(n) {\n    this.params = n;\n  }, this.tohex = function() {\n    var n = this.params, h = [new i(n)];\n    n.min != null && h.push({ tag: { tagi: \"80\", obj: { int: n.min } } }), n.max != null && h.push({ tag: { tagi: \"81\", obj: { int: n.max } } });\n    var u = s({ seq: h });\n    return u.tohex();\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, e !== void 0 && this.setByParam(e);\n};\nN(a.asn1.x509.GeneralSubtree, a.asn1.ASN1Object);\na.asn1.x509.ExtKeyUsage = function(e) {\n  a.asn1.x509.ExtKeyUsage.superclass.constructor.call(this, e);\n  var t = a, r = t.asn1;\n  this.setPurposeArray = function(i) {\n    this.asn1ExtnValue = new r.DERSequence();\n    for (var s = 0; s < i.length; s++) {\n      var n = new r.DERObjectIdentifier(i[s]);\n      this.asn1ExtnValue.appendASN1Object(n);\n    }\n  }, this.getExtnValueHex = function() {\n    return this.asn1ExtnValue.tohex();\n  }, this.oid = \"2.5.29.37\", e !== void 0 && e.array !== void 0 && this.setPurposeArray(e.array);\n};\nN(a.asn1.x509.ExtKeyUsage, a.asn1.x509.Extension);\na.asn1.x509.AuthorityKeyIdentifier = function(e) {\n  a.asn1.x509.AuthorityKeyIdentifier.superclass.constructor.call(this, e);\n  var t = a, r = t.asn1, i = r.DERTaggedObject, s = r.x509.GeneralNames;\n  t.crypto.Util.isKey, this.asn1KID = null, this.asn1CertIssuer = null, this.asn1CertSN = null, this.getExtnValueHex = function() {\n    var n = new Array();\n    this.asn1KID && n.push(new i({ explicit: !1, tag: \"80\", obj: this.asn1KID })), this.asn1CertIssuer && n.push(new i({ explicit: !1, tag: \"a1\", obj: new s([{ dn: this.asn1CertIssuer }]) })), this.asn1CertSN && n.push(new i({ explicit: !1, tag: \"82\", obj: this.asn1CertSN }));\n    var h = new r.DERSequence({ array: n });\n    return this.asn1ExtnValue = h, this.asn1ExtnValue.tohex();\n  }, this.setKIDByParam = function(n) {\n    if (n.str !== void 0 || n.hex !== void 0)\n      this.asn1KID = new a.asn1.DEROctetString(n);\n    else if (typeof n == \"object\" && a.crypto.Util.isKey(n) || typeof n == \"string\" && n.indexOf(\"BEGIN \") != -1) {\n      var h = n;\n      typeof n == \"string\" && (h = k.getKey(n));\n      var u = k.getKeyID(h);\n      this.asn1KID = new a.asn1.DEROctetString({ hex: u });\n    }\n  }, this.setCertIssuerByParam = function(n) {\n    n.str !== void 0 || n.ldapstr !== void 0 || n.hex !== void 0 || n.certsubject !== void 0 || n.certissuer !== void 0 ? this.asn1CertIssuer = new a.asn1.x509.X500Name(n) : typeof n == \"string\" && n.indexOf(\"BEGIN \") != -1 && n.indexOf(\"CERTIFICATE\") != -1 && (this.asn1CertIssuer = new a.asn1.x509.X500Name({ certissuer: n }));\n  }, this.setCertSNByParam = function(n) {\n    if (n.str !== void 0 || n.bigint !== void 0 || n.hex !== void 0)\n      this.asn1CertSN = new a.asn1.DERInteger(n);\n    else if (typeof n == \"string\" && n.indexOf(\"BEGIN \") != -1 && n.indexOf(\"CERTIFICATE\")) {\n      var h = new L();\n      h.readCertPEM(n);\n      var u = h.getSerialNumberHex();\n      this.asn1CertSN = new a.asn1.DERInteger({ hex: u });\n    }\n  }, this.oid = \"2.5.29.35\", e !== void 0 && (e.kid !== void 0 && this.setKIDByParam(e.kid), e.issuer !== void 0 && this.setCertIssuerByParam(e.issuer), e.sn !== void 0 && this.setCertSNByParam(e.sn), e.issuersn !== void 0 && typeof e.issuersn == \"string\" && e.issuersn.indexOf(\"BEGIN \") != -1 && e.issuersn.indexOf(\"CERTIFICATE\") && (this.setCertSNByParam(e.issuersn), this.setCertIssuerByParam(e.issuersn)));\n};\nN(a.asn1.x509.AuthorityKeyIdentifier, a.asn1.x509.Extension);\na.asn1.x509.SubjectKeyIdentifier = function(e) {\n  a.asn1.x509.SubjectKeyIdentifier.superclass.constructor.call(this, e);\n  var t = a, r = t.asn1, i = r.DEROctetString;\n  this.asn1KID = null, this.getExtnValueHex = function() {\n    return this.asn1ExtnValue = this.asn1KID, this.asn1ExtnValue.tohex();\n  }, this.setKIDByParam = function(s) {\n    if (s.str !== void 0 || s.hex !== void 0)\n      this.asn1KID = new i(s);\n    else if (typeof s == \"object\" && a.crypto.Util.isKey(s) || typeof s == \"string\" && s.indexOf(\"BEGIN\") != -1) {\n      var n = s;\n      typeof s == \"string\" && (n = k.getKey(s));\n      var h = k.getKeyID(n);\n      this.asn1KID = new a.asn1.DEROctetString({ hex: h });\n    }\n  }, this.oid = \"2.5.29.14\", e !== void 0 && e.kid !== void 0 && this.setKIDByParam(e.kid);\n};\nN(a.asn1.x509.SubjectKeyIdentifier, a.asn1.x509.Extension);\na.asn1.x509.AuthorityInfoAccess = function(e) {\n  a.asn1.x509.AuthorityInfoAccess.superclass.constructor.call(this, e), this.setAccessDescriptionArray = function(t) {\n    for (var r = new Array(), i = a, s = i.asn1, n = s.DERSequence, h = s.DERObjectIdentifier, u = s.x509.GeneralName, p = 0; p < t.length; p++) {\n      var c, y = t[p];\n      if (y.ocsp !== void 0)\n        c = new n({ array: [new h({ oid: \"1.3.6.1.5.5.7.48.1\" }), new u({ uri: y.ocsp })] });\n      else if (y.caissuer !== void 0)\n        c = new n({ array: [new h({ oid: \"1.3.6.1.5.5.7.48.2\" }), new u({ uri: y.caissuer })] });\n      else\n        throw new Error(\"unknown AccessMethod parameter: \" + JSON.stringify(y));\n      r.push(c);\n    }\n    this.asn1ExtnValue = new n({ array: r });\n  }, this.getExtnValueHex = function() {\n    return this.asn1ExtnValue.tohex();\n  }, this.oid = \"1.3.6.1.5.5.7.1.1\", e !== void 0 && e.array !== void 0 && this.setAccessDescriptionArray(e.array);\n};\nN(a.asn1.x509.AuthorityInfoAccess, a.asn1.x509.Extension);\na.asn1.x509.SubjectAltName = function(e) {\n  a.asn1.x509.SubjectAltName.superclass.constructor.call(this, e), this.setNameArray = function(t) {\n    this.asn1ExtnValue = new a.asn1.x509.GeneralNames(t);\n  }, this.getExtnValueHex = function() {\n    return this.asn1ExtnValue.tohex();\n  }, this.oid = \"2.5.29.17\", e !== void 0 && e.array !== void 0 && this.setNameArray(e.array);\n};\nN(a.asn1.x509.SubjectAltName, a.asn1.x509.Extension);\na.asn1.x509.IssuerAltName = function(e) {\n  a.asn1.x509.IssuerAltName.superclass.constructor.call(this, e), this.setNameArray = function(t) {\n    this.asn1ExtnValue = new a.asn1.x509.GeneralNames(t);\n  }, this.getExtnValueHex = function() {\n    return this.asn1ExtnValue.tohex();\n  }, this.oid = \"2.5.29.18\", e !== void 0 && e.array !== void 0 && this.setNameArray(e.array);\n};\nN(a.asn1.x509.IssuerAltName, a.asn1.x509.Extension);\na.asn1.x509.SubjectDirectoryAttributes = function(e) {\n  a.asn1.x509.SubjectDirectoryAttributes.superclass.constructor.call(this, e);\n  var t = a.asn1, r = t.DERSequence, i = t.ASN1Util.newObject, s = t.x509.OID.name2oid;\n  this.params = null, this.getExtnValueHex = function() {\n    for (var n = [], h = 0; h < this.params.array.length; h++) {\n      var u = this.params.array[h];\n      if (u.attr != null && u.array != null) {\n        var p = { seq: [{ oid: u.attr }, { set: u.array }] };\n        n.push(i(p));\n        continue;\n      }\n      var c = { seq: [{ oid: \"1.2.3.4\" }, { set: [{ utf8str: \"DE\" }] }] };\n      if (u.attr == \"dateOfBirth\")\n        c.seq[0].oid = s(u.attr), c.seq[1].set[0] = { gentime: u.str };\n      else if (u.attr == \"placeOfBirth\")\n        c.seq[0].oid = s(u.attr), c.seq[1].set[0] = { utf8str: u.str };\n      else if (u.attr == \"gender\")\n        c.seq[0].oid = s(u.attr), c.seq[1].set[0] = { prnstr: u.str };\n      else if (u.attr == \"countryOfCitizenship\")\n        c.seq[0].oid = s(u.attr), c.seq[1].set[0] = { prnstr: u.str };\n      else if (u.attr == \"countryOfResidence\")\n        c.seq[0].oid = s(u.attr), c.seq[1].set[0] = { prnstr: u.str };\n      else\n        throw new Error(\"unsupported attribute: \" + u.attr);\n      n.push(new i(c));\n    }\n    var y = new r({ array: n });\n    return this.asn1ExtnValue = y, this.asn1ExtnValue.tohex();\n  }, this.oid = \"2.5.29.9\", e !== void 0 && (this.params = e);\n};\nN(a.asn1.x509.SubjectDirectoryAttributes, a.asn1.x509.Extension);\na.asn1.x509.PrivateExtension = function(e) {\n  a.asn1.x509.PrivateExtension.superclass.constructor.call(this, e);\n  var t = a, r = t.lang.String.isHex, i = t.asn1, s = i.x509.OID.name2oid, n = i.ASN1Util.newObject;\n  this.params = null, this.setByParam = function(h) {\n    this.oid = s(h.extname), this.params = h;\n  }, this.getExtnValueHex = function() {\n    if (this.params.extname == null || this.params.extn == null)\n      throw new Error(\"extname or extnhex not specified\");\n    var h = this.params.extn;\n    if (typeof h == \"string\" && r(h))\n      return h;\n    if (typeof h == \"object\")\n      try {\n        return n(h).tohex();\n      } catch {\n      }\n    throw new Error(\"unsupported extn value\");\n  }, e != null && this.setByParam(e);\n};\nN(a.asn1.x509.PrivateExtension, a.asn1.x509.Extension);\na.asn1.x509.CRL = function(e) {\n  a.asn1.x509.CRL.superclass.constructor.call(this);\n  var t = a, r = t.asn1, i = r.DERSequence, s = r.DERBitString, n = r.x509, h = n.AlgorithmIdentifier, u = n.TBSCertList;\n  this.params = void 0, this.setByParam = function(p) {\n    this.params = p;\n  }, this.sign = function() {\n    var p = new u(this.params).tohex(), c = new a.crypto.Signature({ alg: this.params.sigalg });\n    c.init(this.params.cakey), c.updateHex(p);\n    var y = c.sign();\n    this.params.sighex = y;\n  }, this.getPEM = function() {\n    return de(this.tohex(), \"X509 CRL\");\n  }, this.tohex = function() {\n    var p = this.params;\n    if (p.tbsobj == null && (p.tbsobj = new u(p)), p.sighex == null && p.cakey != null && this.sign(), p.sighex == null)\n      throw new Error(\"sighex or cakey parameter not defined\");\n    var c = [];\n    c.push(p.tbsobj), c.push(new h({ name: p.sigalg })), c.push(new s({ hex: \"00\" + p.sighex }));\n    var y = new i({ array: c });\n    return y.tohex();\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, e != null && (this.params = e);\n};\nN(a.asn1.x509.CRL, a.asn1.ASN1Object);\na.asn1.x509.TBSCertList = function(e) {\n  a.asn1.x509.TBSCertList.superclass.constructor.call(this);\n  var t = a, r = t.asn1, i = r.DERInteger, s = r.DERSequence, n = r.DERTaggedObject;\n  r.DERObjectIdentifier;\n  var h = r.x509, u = h.AlgorithmIdentifier, p = h.Time, c = h.Extensions, y = h.X500Name;\n  this.params = null, this.setByParam = function(v) {\n    this.params = v;\n  }, this.getRevCertSequence = function() {\n    for (var v = [], o = this.params.revcert, l = 0; l < o.length; l++) {\n      var f = [new i(o[l].sn), new p(o[l].date)];\n      o[l].ext != null && f.push(new c(o[l].ext)), v.push(new s({ array: f }));\n    }\n    return new s({ array: v });\n  }, this.tohex = function() {\n    var v = [], o = this.params;\n    if (o.version != null) {\n      var l = o.version - 1, f = new i({ int: l });\n      v.push(f);\n    }\n    if (v.push(new u({ name: o.sigalg })), v.push(new y(o.issuer)), v.push(new p(o.thisupdate)), o.nextupdate != null && v.push(new p(o.nextupdate)), o.revcert != null && v.push(this.getRevCertSequence()), o.ext != null) {\n      var d = new c(o.ext);\n      v.push(new n({ tag: \"a0\", explicit: !0, obj: d }));\n    }\n    var g = new s({ array: v });\n    return g.tohex();\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, e !== void 0 && this.setByParam(e);\n};\nN(a.asn1.x509.TBSCertList, a.asn1.ASN1Object);\na.asn1.x509.CRLEntry = function(e) {\n  a.asn1.x509.CRLEntry.superclass.constructor.call(this);\n  var t = a, r = t.asn1;\n  this.setCertSerial = function(i) {\n    this.sn = new r.DERInteger(i);\n  }, this.setRevocationDate = function(i) {\n    this.time = new r.x509.Time(i);\n  }, this.tohex = function() {\n    var i = new r.DERSequence({ array: [this.sn, this.time] });\n    return this.TLV = i.tohex(), this.TLV;\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, e !== void 0 && (e.time !== void 0 && this.setRevocationDate(e.time), e.sn !== void 0 && this.setCertSerial(e.sn));\n};\nN(a.asn1.x509.CRLEntry, a.asn1.ASN1Object);\na.asn1.x509.CRLNumber = function(e) {\n  a.asn1.x509.CRLNumber.superclass.constructor.call(this, e), this.params = void 0, this.getExtnValueHex = function() {\n    return this.asn1ExtnValue = new a.asn1.DERInteger(this.params.num), this.asn1ExtnValue.tohex();\n  }, this.oid = \"2.5.29.20\", e != null && (this.params = e);\n};\nN(a.asn1.x509.CRLNumber, a.asn1.x509.Extension);\na.asn1.x509.CRLReason = function(e) {\n  a.asn1.x509.CRLReason.superclass.constructor.call(this, e), this.params = void 0, this.getExtnValueHex = function() {\n    return this.asn1ExtnValue = new a.asn1.DEREnumerated(this.params.code), this.asn1ExtnValue.tohex();\n  }, this.oid = \"2.5.29.21\", e != null && (this.params = e);\n};\nN(a.asn1.x509.CRLReason, a.asn1.x509.Extension);\na.asn1.x509.OCSPNonce = function(e) {\n  a.asn1.x509.OCSPNonce.superclass.constructor.call(this, e), this.params = void 0, this.getExtnValueHex = function() {\n    return this.asn1ExtnValue = new a.asn1.DEROctetString(this.params), this.asn1ExtnValue.tohex();\n  }, this.oid = \"1.3.6.1.5.5.7.48.1.2\", e != null && (this.params = e);\n};\nN(a.asn1.x509.OCSPNonce, a.asn1.x509.Extension);\na.asn1.x509.OCSPNoCheck = function(e) {\n  a.asn1.x509.OCSPNoCheck.superclass.constructor.call(this, e), this.params = void 0, this.getExtnValueHex = function() {\n    return this.asn1ExtnValue = new a.asn1.DERNull(), this.asn1ExtnValue.tohex();\n  }, this.oid = \"1.3.6.1.5.5.7.48.1.5\", e != null && (this.params = e);\n};\nN(a.asn1.x509.OCSPNoCheck, a.asn1.x509.Extension);\na.asn1.x509.AdobeTimeStamp = function(e) {\n  a.asn1.x509.AdobeTimeStamp.superclass.constructor.call(this, e);\n  var t = a, r = t.asn1, i = r.DERInteger, s = r.DERBoolean, n = r.DERSequence, h = r.x509.GeneralName;\n  this.params = null, this.getExtnValueHex = function() {\n    var u = this.params, p = [new i(1)];\n    return p.push(new h({ uri: u.uri })), u.reqauth != null && p.push(new s(u.reqauth)), this.asn1ExtnValue = new n({ array: p }), this.asn1ExtnValue.tohex();\n  }, this.oid = \"1.2.840.113583.1.1.9.1\", e !== void 0 && this.setByParam(e);\n};\nN(a.asn1.x509.AdobeTimeStamp, a.asn1.x509.Extension);\na.asn1.x509.X500Name = function(e) {\n  a.asn1.x509.X500Name.superclass.constructor.call(this), this.asn1Array = [], this.paramArray = [], this.sRule = \"utf8\";\n  var t = a, r = t.asn1, i = r.x509, s = i.RDN;\n  this.setByString = function(n, h) {\n    h !== void 0 && (this.sRule = h);\n    var u = n.split(\"/\");\n    u.shift();\n    for (var p = [], c = 0; c < u.length; c++)\n      if (u[c].match(/^[^=]+=.+$/))\n        p.push(u[c]);\n      else {\n        var y = p.length - 1;\n        p[y] = p[y] + \"/\" + u[c];\n      }\n    for (var c = 0; c < p.length; c++)\n      this.asn1Array.push(new s({ str: p[c], rule: this.sRule }));\n  }, this.setByLdapString = function(n, h) {\n    h !== void 0 && (this.sRule = h);\n    var u = i.X500Name.ldapToCompat(n);\n    this.setByString(u, h);\n  }, this.setByObject = function(n, h) {\n    h !== void 0 && (this.sRule = h);\n    for (var u in n)\n      if (n.hasOwnProperty(u)) {\n        var p = new s({ str: u + \"=\" + n[u], rule: this.sRule });\n        this.asn1Array ? this.asn1Array.push(p) : this.asn1Array = [p];\n      }\n  }, this.setByParam = function(n) {\n    if (n.rule !== void 0 && (this.sRule = n.rule), n.array !== void 0)\n      this.paramArray = n.array;\n    else if (n.str !== void 0)\n      this.setByString(n.str);\n    else if (n.ldapstr !== void 0)\n      this.setByLdapString(n.ldapstr);\n    else if (n.hex !== void 0)\n      this.hTLV = n.hex;\n    else if (n.certissuer !== void 0) {\n      var h = new L();\n      h.readCertPEM(n.certissuer), this.hTLV = h.getIssuerHex();\n    } else if (n.certsubject !== void 0) {\n      var h = new L();\n      h.readCertPEM(n.certsubject), this.hTLV = h.getSubjectHex();\n    } else\n      typeof n == \"object\" && n.certsubject === void 0 && n.certissuer === void 0 && this.setByObject(n);\n  }, this.tohex = function() {\n    if (typeof this.hTLV == \"string\")\n      return this.hTLV;\n    if (this.asn1Array.length == 0 && this.paramArray.length > 0)\n      for (var n = 0; n < this.paramArray.length; n++) {\n        var h = { array: this.paramArray[n] };\n        this.sRule != \"utf8\" && (h.rule = this.sRule);\n        var u = new s(h);\n        this.asn1Array.push(u);\n      }\n    var p = new r.DERSequence({ array: this.asn1Array });\n    return this.hTLV = p.tohex(), this.hTLV;\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, e !== void 0 && this.setByParam(e);\n};\nN(a.asn1.x509.X500Name, a.asn1.ASN1Object);\na.asn1.x509.X500Name.compatToLDAP = function(e) {\n  if (e.substr(0, 1) !== \"/\")\n    throw \"malformed input\";\n  e = e.substr(1);\n  var t = e.split(\"/\");\n  return t.reverse(), t = t.map(function(r) {\n    return r.replace(/,/, \"\\\\,\");\n  }), t.join(\",\");\n};\na.asn1.x509.X500Name.onelineToLDAP = function(e) {\n  return a.asn1.x509.X500Name.compatToLDAP(e);\n};\na.asn1.x509.X500Name.ldapToCompat = function(e) {\n  for (var t = e.split(\",\"), r = !1, i = [], s = 0; t.length > 0; s++) {\n    var n = t.shift();\n    if (r === !0) {\n      var h = i.pop(), u = (h + \",\" + n).replace(/\\\\,/g, \",\");\n      i.push(u), r = !1;\n    } else\n      i.push(n);\n    n.substr(-1, 1) === \"\\\\\" && (r = !0);\n  }\n  return i = i.map(function(p) {\n    return p.replace(\"/\", \"\\\\/\");\n  }), i.reverse(), \"/\" + i.join(\"/\");\n};\na.asn1.x509.X500Name.ldapToOneline = function(e) {\n  return a.asn1.x509.X500Name.ldapToCompat(e);\n};\na.asn1.x509.RDN = function(e) {\n  a.asn1.x509.RDN.superclass.constructor.call(this), this.asn1Array = [], this.paramArray = [], this.sRule = \"utf8\";\n  var t = a.asn1.x509.AttributeTypeAndValue;\n  this.setByParam = function(r) {\n    r.rule !== void 0 && (this.sRule = r.rule), r.str !== void 0 && this.addByMultiValuedString(r.str), r.array !== void 0 && (this.paramArray = r.array);\n  }, this.addByString = function(r) {\n    this.asn1Array.push(new a.asn1.x509.AttributeTypeAndValue({ str: r, rule: this.sRule }));\n  }, this.addByMultiValuedString = function(r) {\n    for (var i = a.asn1.x509.RDN.parseString(r), s = 0; s < i.length; s++)\n      this.addByString(i[s]);\n  }, this.tohex = function() {\n    if (this.asn1Array.length == 0 && this.paramArray.length > 0)\n      for (var r = 0; r < this.paramArray.length; r++) {\n        var i = this.paramArray[r];\n        i.rule !== void 0 && this.sRule != \"utf8\" && (i.rule = this.sRule);\n        var s = new t(i);\n        this.asn1Array.push(s);\n      }\n    var n = new a.asn1.DERSet({ array: this.asn1Array });\n    return this.TLV = n.tohex(), this.TLV;\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, e !== void 0 && this.setByParam(e);\n};\nN(a.asn1.x509.RDN, a.asn1.ASN1Object);\na.asn1.x509.RDN.parseString = function(e) {\n  for (var t = e.split(/\\+/), r = !1, i = [], s = 0; t.length > 0; s++) {\n    var n = t.shift();\n    if (r === !0) {\n      var h = i.pop(), u = (h + \"+\" + n).replace(/\\\\\\+/g, \"+\");\n      i.push(u), r = !1;\n    } else\n      i.push(n);\n    n.substr(-1, 1) === \"\\\\\" && (r = !0);\n  }\n  for (var p = !1, c = [], s = 0; i.length > 0; s++) {\n    var n = i.shift();\n    if (p === !0) {\n      var y = c.pop();\n      if (n.match(/\"$/)) {\n        var u = (y + \"+\" + n).replace(/^([^=]+)=\"(.*)\"$/, \"$1=$2\");\n        c.push(u), p = !1;\n      } else\n        c.push(y + \"+\" + n);\n    } else\n      c.push(n);\n    n.match(/^[^=]+=\"/) && (p = !0);\n  }\n  return c;\n};\na.asn1.x509.AttributeTypeAndValue = function(e) {\n  a.asn1.x509.AttributeTypeAndValue.superclass.constructor.call(this), this.sRule = \"utf8\", this.sType = null, this.sValue = null, this.dsType = null;\n  var t = a, r = t.asn1, i = r.DERSequence, s = r.DERUTF8String, n = r.DERPrintableString, h = r.DERTeletexString, u = r.DERIA5String, p = r.DERVisibleString, c = r.DERBMPString, y = t.lang.String.isMail, v = t.lang.String.isPrintable;\n  this.setByParam = function(o) {\n    if (o.rule !== void 0 && (this.sRule = o.rule), o.ds !== void 0 && (this.dsType = o.ds), o.value === void 0 && o.str !== void 0) {\n      var l = o.str, f = l.match(/^([^=]+)=(.+)$/);\n      if (f)\n        this.sType = f[1], this.sValue = f[2];\n      else\n        throw new Error(\"malformed attrTypeAndValueStr: \" + attrTypeAndValueStr);\n    } else\n      this.sType = o.type, this.sValue = o.value;\n  }, this.setByString = function(o, l) {\n    l !== void 0 && (this.sRule = l);\n    var f = o.match(/^([^=]+)=(.+)$/);\n    if (f)\n      this.setByAttrTypeAndValueStr(f[1], f[2]);\n    else\n      throw new Error(\"malformed attrTypeAndValueStr: \" + attrTypeAndValueStr);\n  }, this._getDsType = function() {\n    var o = this.sType, l = this.sValue, f = this.sRule;\n    return f === \"prn\" ? o == \"CN\" && y(l) ? \"ia5\" : v(l) ? \"prn\" : \"utf8\" : f === \"utf8\" ? o == \"CN\" && y(l) ? \"ia5\" : o == \"C\" ? \"prn\" : \"utf8\" : \"utf8\";\n  }, this.setByAttrTypeAndValueStr = function(o, l, f) {\n    f !== void 0 && (this.sRule = f), this.sType = o, this.sValue = l;\n  }, this.getValueObj = function(o, l) {\n    if (o == \"utf8\")\n      return new s({ str: l });\n    if (o == \"prn\")\n      return new n({ str: l });\n    if (o == \"tel\")\n      return new h({ str: l });\n    if (o == \"ia5\")\n      return new u({ str: l });\n    if (o == \"vis\")\n      return new p({ str: l });\n    if (o == \"bmp\")\n      return new c({ str: l });\n    throw new Error(\"unsupported directory string type: type=\" + o + \" value=\" + l);\n  }, this.tohex = function() {\n    this.dsType == null && (this.dsType = this._getDsType());\n    var o = a.asn1.x509.OID.atype2obj(this.sType), l = this.getValueObj(this.dsType, this.sValue), f = new i({ array: [o, l] });\n    return this.TLV = f.tohex(), this.TLV;\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, e !== void 0 && this.setByParam(e);\n};\nN(a.asn1.x509.AttributeTypeAndValue, a.asn1.ASN1Object);\na.asn1.x509.SubjectPublicKeyInfo = function(e) {\n  a.asn1.x509.SubjectPublicKeyInfo.superclass.constructor.call(this);\n  var t = a, r = t.asn1, i = r.DERInteger, s = r.DERBitString, n = r.DERObjectIdentifier, h = r.DERSequence, u = r.ASN1Util.newObject, p = r.x509, c = p.AlgorithmIdentifier, y = t.crypto;\n  y.ECDSA, y.DSA, this.getASN1Object = function() {\n    if (this.asn1AlgId == null || this.asn1SubjPKey == null)\n      throw \"algId and/or subjPubKey not set\";\n    var v = new h({ array: [this.asn1AlgId, this.asn1SubjPKey] });\n    return v;\n  }, this.tohex = function() {\n    var v = this.getASN1Object();\n    return this.hTLV = v.tohex(), this.hTLV;\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, this.setPubKey = function(v) {\n    try {\n      if (v instanceof q) {\n        var o = u({ seq: [{ int: { bigint: v.n } }, { int: { int: v.e } }] }), l = o.tohex();\n        this.asn1AlgId = new c({ name: \"rsaEncryption\" }), this.asn1SubjPKey = new s({ hex: \"00\" + l });\n      }\n    } catch {\n    }\n    try {\n      if (v instanceof a.crypto.ECDSA) {\n        var f = new n({ name: v.curveName });\n        this.asn1AlgId = new c({ name: \"ecPublicKey\", asn1params: f }), this.asn1SubjPKey = new s({ hex: \"00\" + v.pubKeyHex });\n      }\n    } catch {\n    }\n    try {\n      if (v instanceof a.crypto.DSA) {\n        var f = new u({ seq: [{ int: { bigint: v.p } }, { int: { bigint: v.q } }, { int: { bigint: v.g } }] });\n        this.asn1AlgId = new c({ name: \"dsa\", asn1params: f });\n        var d = new i({ bigint: v.y });\n        this.asn1SubjPKey = new s({ hex: \"00\" + d.tohex() });\n      }\n    } catch {\n    }\n  }, e !== void 0 && this.setPubKey(e);\n};\nN(a.asn1.x509.SubjectPublicKeyInfo, a.asn1.ASN1Object);\na.asn1.x509.Time = function(e) {\n  a.asn1.x509.Time.superclass.constructor.call(this);\n  var t = a, r = t.asn1, i = r.DERUTCTime, s = r.DERGeneralizedTime;\n  this.params = null, this.type = null, this.setTimeParams = function(n) {\n    this.timeParams = n;\n  }, this.setByParam = function(n) {\n    this.params = n;\n  }, this.getType = function(n) {\n    return n.match(/^[0-9]{12}Z$/) ? \"utc\" : n.match(/^[0-9]{14}Z$/) ? \"gen\" : n.match(/^[0-9]{12}\\.[0-9]+Z$/) ? \"utc\" : n.match(/^[0-9]{14}\\.[0-9]+Z$/) ? \"gen\" : null;\n  }, this.tohex = function() {\n    var n = this.params, h = null;\n    if (typeof n == \"string\" && (n = { str: n }), n != null && n.str && (n.type == null || n.type == null) && (n.type = this.getType(n.str)), n != null && n.str ? (n.type == \"utc\" && (h = new i(n.str)), n.type == \"gen\" && (h = new s(n.str))) : this.type == \"gen\" ? h = new s() : h = new i(), h == null)\n      throw new Error(\"wrong setting for Time\");\n    return this.TLV = h.tohex(), this.TLV;\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, e != null && this.setByParam(e);\n};\na.asn1.x509.Time_bak = function(e) {\n  a.asn1.x509.Time_bak.superclass.constructor.call(this);\n  var t = a, r = t.asn1, i = r.DERUTCTime, s = r.DERGeneralizedTime;\n  this.setTimeParams = function(n) {\n    this.timeParams = n;\n  }, this.tohex = function() {\n    var n = null;\n    return this.timeParams != null ? this.type == \"utc\" ? n = new i(this.timeParams) : n = new s(this.timeParams) : this.type == \"utc\" ? n = new i() : n = new s(), this.TLV = n.tohex(), this.TLV;\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, this.type = \"utc\", e !== void 0 && (e.type !== void 0 ? this.type = e.type : e.str !== void 0 && (e.str.match(/^[0-9]{12}Z$/) && (this.type = \"utc\"), e.str.match(/^[0-9]{14}Z$/) && (this.type = \"gen\")), this.timeParams = e);\n};\nN(a.asn1.x509.Time, a.asn1.ASN1Object);\na.asn1.x509.AlgorithmIdentifier = function(e) {\n  a.asn1.x509.AlgorithmIdentifier.superclass.constructor.call(this), this.nameAlg = null, this.asn1Alg = null, this.asn1Params = null, this.paramEmpty = !1;\n  var t = a, r = t.asn1, i = r.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV;\n  if (this.tohex = function() {\n    if (this.nameAlg === null && this.asn1Alg === null)\n      throw new Error(\"algorithm not specified\");\n    if (this.nameAlg !== null) {\n      var n = null;\n      for (var h in i)\n        h === this.nameAlg && (n = i[h]);\n      if (n !== null)\n        return this.hTLV = n, this.hTLV;\n    }\n    this.nameAlg !== null && this.asn1Alg === null && (this.asn1Alg = r.x509.OID.name2obj(this.nameAlg));\n    var u = [this.asn1Alg];\n    this.asn1Params !== null && u.push(this.asn1Params);\n    var p = new r.DERSequence({ array: u });\n    return this.hTLV = p.tohex(), this.hTLV;\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, e !== void 0 && (e.name !== void 0 && (this.nameAlg = e.name), e.asn1params !== void 0 && (this.asn1Params = e.asn1params), e.paramempty !== void 0 && (this.paramEmpty = e.paramempty)), this.asn1Params === null && this.paramEmpty === !1 && this.nameAlg !== null) {\n    this.nameAlg.name !== void 0 && (this.nameAlg = this.nameAlg.name);\n    var s = this.nameAlg.toLowerCase();\n    s.substr(-7, 7) !== \"withdsa\" && s.substr(-9, 9) !== \"withecdsa\" && (this.asn1Params = new r.DERNull());\n  }\n};\nN(a.asn1.x509.AlgorithmIdentifier, a.asn1.ASN1Object);\na.asn1.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV = { SHAwithRSAandMGF1: \"300d06092a864886f70d01010a3000\", SHA256withRSAandMGF1: \"303d06092a864886f70d01010a3030a00d300b0609608648016503040201a11a301806092a864886f70d010108300b0609608648016503040201a203020120\", SHA384withRSAandMGF1: \"303d06092a864886f70d01010a3030a00d300b0609608648016503040202a11a301806092a864886f70d010108300b0609608648016503040202a203020130\", SHA512withRSAandMGF1: \"303d06092a864886f70d01010a3030a00d300b0609608648016503040203a11a301806092a864886f70d010108300b0609608648016503040203a203020140\" };\na.asn1.x509.GeneralName = function(e) {\n  a.asn1.x509.GeneralName.superclass.constructor.call(this);\n  var t = a, r = t.asn1, i = r.x509, s = i.X500Name, n = i.OtherName, h = r.DERIA5String;\n  r.DERPrintableString;\n  var u = r.DEROctetString, p = r.DERTaggedObject, c = r.ASN1Object, y = Error;\n  this.params = null, this.setByParam = function(v) {\n    this.params = v;\n  }, this.tohex = function() {\n    var v = this.params, o, f, l, f = !1;\n    if (v.other !== void 0)\n      o = \"a0\", l = new n(v.other);\n    else if (v.rfc822 !== void 0)\n      o = \"81\", l = new h({ str: v.rfc822 });\n    else if (v.dns !== void 0)\n      o = \"82\", l = new h({ str: v.dns });\n    else if (v.dn !== void 0)\n      o = \"a4\", f = !0, typeof v.dn == \"string\" ? l = new s({ str: v.dn }) : v.dn instanceof a.asn1.x509.X500Name ? l = v.dn : l = new s(v.dn);\n    else if (v.ldapdn !== void 0)\n      o = \"a4\", f = !0, l = new s({ ldapstr: v.ldapdn });\n    else if (v.certissuer !== void 0 || v.certsubj !== void 0) {\n      o = \"a4\", f = !0;\n      var d, g, S = null;\n      if (v.certsubj !== void 0 ? (d = !1, g = v.certsubj) : (d = !0, g = v.certissuer), g.match(/^[0-9A-Fa-f]+$/), g.indexOf(\"-----BEGIN \") != -1 && (S = ie(g)), S == null)\n        throw new Error(\"certsubj/certissuer not cert\");\n      var b = new L();\n      b.hex = S;\n      var D;\n      d ? D = b.getIssuerHex() : D = b.getSubjectHex(), l = new c(), l.hTLV = D;\n    } else if (v.uri !== void 0)\n      o = \"86\", l = new h({ str: v.uri });\n    else if (v.ip !== void 0) {\n      o = \"87\";\n      var A, I = v.ip;\n      try {\n        if (I.match(/^[0-9a-f]+$/)) {\n          var m = I.length;\n          if (m == 8 || m == 16 || m == 32 || m == 64)\n            A = I;\n          else\n            throw \"err\";\n        } else\n          A = Rt(I);\n      } catch (w) {\n        throw new y(\"malformed IP address: \" + v.ip + \":\" + w.message);\n      }\n      l = new u({ hex: A });\n    } else\n      throw new y(\"improper params\");\n    var E = new p({ tag: o, explicit: f, obj: l });\n    return E.tohex();\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, e !== void 0 && this.setByParam(e);\n};\nN(a.asn1.x509.GeneralName, a.asn1.ASN1Object);\na.asn1.x509.GeneralNames = function(e) {\n  a.asn1.x509.GeneralNames.superclass.constructor.call(this);\n  var t = a, r = t.asn1;\n  this.setByParamArray = function(i) {\n    for (var s = 0; s < i.length; s++) {\n      var n = new r.x509.GeneralName(i[s]);\n      this.asn1Array.push(n);\n    }\n  }, this.tohex = function() {\n    var i = new r.DERSequence({ array: this.asn1Array });\n    return i.tohex();\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, this.asn1Array = new Array(), typeof e < \"u\" && this.setByParamArray(e);\n};\nN(a.asn1.x509.GeneralNames, a.asn1.ASN1Object);\na.asn1.x509.OtherName = function(e) {\n  a.asn1.x509.OtherName.superclass.constructor.call(this);\n  var t = a, r = t.asn1, i = r.DERObjectIdentifier, s = r.DERSequence, n = r.ASN1Util.newObject;\n  this.params = null, this.setByParam = function(h) {\n    this.params = h;\n  }, this.tohex = function() {\n    var h = this.params;\n    if (h.oid == null || h.value == null)\n      throw new Error(\"oid or value not specified\");\n    var u = new i({ oid: h.oid }), p = n({ tag: { tag: \"a0\", explicit: !0, obj: h.value } }), c = new s({ array: [u, p] });\n    return c.tohex();\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, e !== void 0 && this.setByParam(e);\n};\nN(a.asn1.x509.OtherName, a.asn1.ASN1Object);\na.asn1.x509.OID = new function() {\n  var e = a.asn1.DERObjectIdentifier;\n  this.name2oidList = { \"aes128-CBC\": \"2.16.840.1.101.3.4.1.2\", \"aes256-CBC\": \"2.16.840.1.101.3.4.1.42\", sha1: \"1.3.14.3.2.26\", sha256: \"2.16.840.1.101.3.4.2.1\", sha384: \"2.16.840.1.101.3.4.2.2\", sha512: \"2.16.840.1.101.3.4.2.3\", sha224: \"2.16.840.1.101.3.4.2.4\", md5: \"1.2.840.113549.2.5\", md2: \"1.3.14.7.2.2.1\", ripemd160: \"1.3.36.3.2.1\", hmacWithSHA1: \"1.2.840.113549.2.7\", hmacWithSHA224: \"1.2.840.113549.2.8\", hmacWithSHA256: \"1.2.840.113549.2.9\", hmacWithSHA384: \"1.2.840.113549.2.10\", hmacWithSHA512: \"1.2.840.113549.2.11\", MD2withRSA: \"1.2.840.113549.1.1.2\", MD4withRSA: \"1.2.840.113549.1.1.3\", MD5withRSA: \"1.2.840.113549.1.1.4\", SHA1withRSA: \"1.2.840.113549.1.1.5\", \"pkcs1-MGF\": \"1.2.840.113549.1.1.8\", rsaPSS: \"1.2.840.113549.1.1.10\", SHA224withRSA: \"1.2.840.113549.1.1.14\", SHA256withRSA: \"1.2.840.113549.1.1.11\", SHA384withRSA: \"1.2.840.113549.1.1.12\", SHA512withRSA: \"1.2.840.113549.1.1.13\", SHA1withECDSA: \"1.2.840.10045.4.1\", SHA224withECDSA: \"1.2.840.10045.4.3.1\", SHA256withECDSA: \"1.2.840.10045.4.3.2\", SHA384withECDSA: \"1.2.840.10045.4.3.3\", SHA512withECDSA: \"1.2.840.10045.4.3.4\", dsa: \"1.2.840.10040.4.1\", SHA1withDSA: \"1.2.840.10040.4.3\", SHA224withDSA: \"2.16.840.1.101.3.4.3.1\", SHA256withDSA: \"2.16.840.1.101.3.4.3.2\", rsaEncryption: \"1.2.840.113549.1.1.1\", commonName: \"2.5.4.3\", countryName: \"2.5.4.6\", localityName: \"2.5.4.7\", stateOrProvinceName: \"2.5.4.8\", streetAddress: \"2.5.4.9\", organizationName: \"2.5.4.10\", organizationalUnitName: \"2.5.4.11\", domainComponent: \"0.9.2342.19200300.100.1.25\", userId: \"0.9.2342.19200300.100.1.1\", surname: \"2.5.4.4\", givenName: \"2.5.4.42\", title: \"2.5.4.12\", distinguishedName: \"2.5.4.49\", emailAddress: \"1.2.840.113549.1.9.1\", description: \"2.5.4.13\", businessCategory: \"2.5.4.15\", postalCode: \"2.5.4.17\", uniqueIdentifier: \"2.5.4.45\", organizationIdentifier: \"2.5.4.97\", jurisdictionOfIncorporationL: \"1.3.6.1.4.1.311.60.2.1.1\", jurisdictionOfIncorporationSP: \"1.3.6.1.4.1.311.60.2.1.2\", jurisdictionOfIncorporationC: \"1.3.6.1.4.1.311.60.2.1.3\", subjectDirectoryAttributes: \"2.5.29.9\", subjectKeyIdentifier: \"2.5.29.14\", keyUsage: \"2.5.29.15\", subjectAltName: \"2.5.29.17\", issuerAltName: \"2.5.29.18\", basicConstraints: \"2.5.29.19\", cRLNumber: \"2.5.29.20\", cRLReason: \"2.5.29.21\", nameConstraints: \"2.5.29.30\", cRLDistributionPoints: \"2.5.29.31\", certificatePolicies: \"2.5.29.32\", anyPolicy: \"2.5.29.32.0\", policyMappings: \"2.5.29.33\", authorityKeyIdentifier: \"2.5.29.35\", policyConstraints: \"2.5.29.36\", extKeyUsage: \"2.5.29.37\", inhibitAnyPolicy: \"2.5.29.54\", authorityInfoAccess: \"1.3.6.1.5.5.7.1.1\", ocsp: \"1.3.6.1.5.5.7.48.1\", ocspBasic: \"1.3.6.1.5.5.7.48.1.1\", ocspNonce: \"1.3.6.1.5.5.7.48.1.2\", ocspNoCheck: \"1.3.6.1.5.5.7.48.1.5\", caIssuers: \"1.3.6.1.5.5.7.48.2\", anyExtendedKeyUsage: \"2.5.29.37.0\", serverAuth: \"1.3.6.1.5.5.7.3.1\", clientAuth: \"1.3.6.1.5.5.7.3.2\", codeSigning: \"1.3.6.1.5.5.7.3.3\", emailProtection: \"1.3.6.1.5.5.7.3.4\", timeStamping: \"1.3.6.1.5.5.7.3.8\", ocspSigning: \"1.3.6.1.5.5.7.3.9\", smtpUTF8Mailbox: \"1.3.6.1.5.5.7.8.9\", dateOfBirth: \"1.3.6.1.5.5.7.9.1\", placeOfBirth: \"1.3.6.1.5.5.7.9.2\", gender: \"1.3.6.1.5.5.7.9.3\", countryOfCitizenship: \"1.3.6.1.5.5.7.9.4\", countryOfResidence: \"1.3.6.1.5.5.7.9.5\", ecPublicKey: \"1.2.840.10045.2.1\", \"P-256\": \"1.2.840.10045.3.1.7\", secp256r1: \"1.2.840.10045.3.1.7\", secp256k1: \"1.3.132.0.10\", secp384r1: \"1.3.132.0.34\", secp521r1: \"1.3.132.0.35\", pkcs5PBES2: \"1.2.840.113549.1.5.13\", pkcs5PBKDF2: \"1.2.840.113549.1.5.12\", \"des-EDE3-CBC\": \"1.2.840.113549.3.7\", data: \"1.2.840.113549.1.7.1\", \"signed-data\": \"1.2.840.113549.1.7.2\", \"enveloped-data\": \"1.2.840.113549.1.7.3\", \"digested-data\": \"1.2.840.113549.1.7.5\", \"encrypted-data\": \"1.2.840.113549.1.7.6\", \"authenticated-data\": \"1.2.840.113549.1.9.16.1.2\", tstinfo: \"1.2.840.113549.1.9.16.1.4\", signingCertificate: \"1.2.840.113549.1.9.16.2.12\", timeStampToken: \"1.2.840.113549.1.9.16.2.14\", signaturePolicyIdentifier: \"1.2.840.113549.1.9.16.2.15\", etsArchiveTimeStamp: \"1.2.840.113549.1.9.16.2.27\", signingCertificateV2: \"1.2.840.113549.1.9.16.2.47\", etsArchiveTimeStampV2: \"1.2.840.113549.1.9.16.2.48\", extensionRequest: \"1.2.840.113549.1.9.14\", contentType: \"1.2.840.113549.1.9.3\", messageDigest: \"1.2.840.113549.1.9.4\", signingTime: \"1.2.840.113549.1.9.5\", counterSignature: \"1.2.840.113549.1.9.6\", archiveTimeStampV3: \"0.4.0.1733.2.4\", pdfRevocationInfoArchival: \"1.2.840.113583.1.1.8\", adobeTimeStamp: \"1.2.840.113583.1.1.9.1\", smimeMailboxLegacy: \"2.23.140.1.5.1.1\", smimeMailboxMulti: \"2.23.140.1.5.1.2\", smimeMailboxStrict: \"2.23.140.1.5.1.3\", smimeOrganizationLegacy: \"2.23.140.1.5.2.1\", smimeOrganizationMulti: \"2.23.140.1.5.2.2\", smimeOrganizationStrict: \"2.23.140.1.5.2.3\", smimeSponsorLegacy: \"2.23.140.1.5.3.1\", smimeSponsorMulti: \"2.23.140.1.5.3.2\", smimeSponsorStrict: \"2.23.140.1.5.3.3\", smimeIndividualLegacy: \"2.23.140.1.5.4.1\", smimeIndividualMulti: \"2.23.140.1.5.4.2\", smimeIndividualStrict: \"2.23.140.1.5.4.3\" }, this.atype2oidList = { CN: \"2.5.4.3\", L: \"2.5.4.7\", ST: \"2.5.4.8\", O: \"2.5.4.10\", OU: \"2.5.4.11\", C: \"2.5.4.6\", STREET: \"2.5.4.9\", DC: \"0.9.2342.19200300.100.1.25\", UID: \"0.9.2342.19200300.100.1.1\", SN: \"2.5.4.4\", T: \"2.5.4.12\", GN: \"2.5.4.42\", DN: \"2.5.4.49\", E: \"1.2.840.113549.1.9.1\", description: \"2.5.4.13\", businessCategory: \"2.5.4.15\", postalCode: \"2.5.4.17\", serialNumber: \"2.5.4.5\", uniqueIdentifier: \"2.5.4.45\", organizationIdentifier: \"2.5.4.97\", jurisdictionOfIncorporationL: \"1.3.6.1.4.1.311.60.2.1.1\", jurisdictionOfIncorporationSP: \"1.3.6.1.4.1.311.60.2.1.2\", jurisdictionOfIncorporationC: \"1.3.6.1.4.1.311.60.2.1.3\" }, this.objCache = {}, this.name2obj = function(t) {\n    if (typeof this.objCache[t] < \"u\")\n      return this.objCache[t];\n    if (typeof this.name2oidList[t] > \"u\")\n      throw \"Name of ObjectIdentifier not defined: \" + t;\n    var r = this.name2oidList[t], i = new e({ oid: r });\n    return this.objCache[t] = i, i;\n  }, this.atype2obj = function(t) {\n    if (this.objCache[t] !== void 0)\n      return this.objCache[t];\n    var r;\n    if (t.match(/^\\d+\\.\\d+\\.[0-9.]+$/))\n      r = t;\n    else if (this.atype2oidList[t] !== void 0)\n      r = this.atype2oidList[t];\n    else if (this.name2oidList[t] !== void 0)\n      r = this.name2oidList[t];\n    else\n      throw new Error(\"AttributeType name undefined: \" + t);\n    var i = new e({ oid: r });\n    return this.objCache[t] = i, i;\n  }, this.registerOIDs = function(t) {\n    if (this.checkOIDs(t))\n      for (var r in t)\n        this.name2oidList[r] = t[r];\n  }, this.checkOIDs = function(t) {\n    try {\n      var r = Object.keys(t);\n      return r.length == 0 ? !1 : (r.map(function(i, s, n) {\n        var h = this[i];\n        if (!h.match(/^[0-2]\\.[0-9.]+$/))\n          throw new Error(\"value is not OID\");\n      }, t), !0);\n    } catch {\n      return !1;\n    }\n  };\n}();\na.asn1.x509.OID.oid2name = function(e) {\n  var t = a.asn1.x509.OID.name2oidList;\n  for (var r in t)\n    if (t[r] == e)\n      return r;\n  return \"\";\n};\na.asn1.x509.OID.oid2atype = function(e) {\n  var t = a.asn1.x509.OID.atype2oidList;\n  for (var r in t)\n    if (t[r] == e)\n      return r;\n  return e;\n};\na.asn1.x509.OID.name2oid = function(e) {\n  if (e.match(/^[0-9.]+$/))\n    return e;\n  var t = a.asn1.x509.OID.name2oidList;\n  return t[e] === void 0 ? \"\" : t[e];\n};\na.asn1.x509.X509Util = {};\na.asn1.x509.X509Util.newCertPEM = function(e) {\n  var t = a.asn1.x509;\n  t.TBSCertificate;\n  var r = t.Certificate, i = new r(e);\n  return i.getPEM();\n};\n(typeof a > \"u\" || !a) && (a = {});\n(typeof a.asn1 > \"u\" || !a.asn1) && (a.asn1 = {});\n(typeof a.asn1.cms > \"u\" || !a.asn1.cms) && (a.asn1.cms = {});\na.asn1.cms.Attribute = function(e) {\n  var t = Error, r = a, i = r.asn1, s = i.DERSequence, n = i.DERSet, h = i.DERObjectIdentifier;\n  this.params = null, this.typeOid = null, this.setByParam = function(u) {\n    this.params = u;\n  }, this.getValueArray = function() {\n    throw new t(\"not yet implemented abstract\");\n  }, this.tohex = function() {\n    var u = new h({ oid: this.typeOid }), p = new n({ array: this.getValueArray() }), c = new s({ array: [u, p] });\n    return c.tohex();\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  };\n};\nN(a.asn1.cms.Attribute, a.asn1.ASN1Object);\na.asn1.cms.ContentType = function(e) {\n  var t = a, r = t.asn1;\n  r.cms.ContentType.superclass.constructor.call(this), this.typeOid = \"1.2.840.113549.1.9.3\", this.getValueArray = function() {\n    var i = new r.DERObjectIdentifier(this.params.type);\n    return [i];\n  }, e != null && this.setByParam(e);\n};\nN(a.asn1.cms.ContentType, a.asn1.cms.Attribute);\na.asn1.cms.MessageDigest = function(e) {\n  var t = a, r = t.asn1, i = r.DEROctetString, s = r.cms;\n  s.MessageDigest.superclass.constructor.call(this), this.typeOid = \"1.2.840.113549.1.9.4\", this.getValueArray = function() {\n    var n = new i(this.params);\n    return [n];\n  }, e != null && this.setByParam(e);\n};\nN(a.asn1.cms.MessageDigest, a.asn1.cms.Attribute);\na.asn1.cms.SigningTime = function(e) {\n  var t = a, r = t.asn1;\n  r.cms.SigningTime.superclass.constructor.call(this), this.typeOid = \"1.2.840.113549.1.9.5\", this.getValueArray = function() {\n    var i = new r.x509.Time(this.params);\n    return [i];\n  }, e != null && this.setByParam(e);\n};\nN(a.asn1.cms.SigningTime, a.asn1.cms.Attribute);\na.asn1.cms.SigningCertificate = function(e) {\n  var t = Error, r = a, i = r.asn1, s = i.DERSequence, n = i.cms, h = n.ESSCertID;\n  r.crypto, n.SigningCertificate.superclass.constructor.call(this), this.typeOid = \"1.2.840.113549.1.9.16.2.12\", this.getValueArray = function() {\n    if (this.params == null || this.params == null || this.params.array == null)\n      throw new t(\"parameter 'array' not specified\");\n    for (var u = this.params.array, p = [], c = 0; c < u.length; c++) {\n      var y = u[c];\n      e.hasis == !1 && typeof y == \"string\" && (y.indexOf(\"-----BEGIN\") != -1 || V.isASN1HEX(y)) && (y = { cert: y }), y.hasis != !1 && e.hasis == !1 && (y.hasis = !1), p.push(new h(y));\n    }\n    var v = new s({ array: p }), o = new s({ array: [v] });\n    return [o];\n  }, e != null && this.setByParam(e);\n};\nN(a.asn1.cms.SigningCertificate, a.asn1.cms.Attribute);\na.asn1.cms.ESSCertID = function(e) {\n  a.asn1.cms.ESSCertID.superclass.constructor.call(this);\n  var t = Error, r = a, i = r.asn1, s = i.DEROctetString, n = i.DERSequence, h = i.cms.IssuerSerial;\n  this.params = null, this.getCertHash = function(u, p) {\n    if (u.hash != null)\n      return u.hash;\n    if (typeof u == \"string\" && u.indexOf(\"-----BEGIN\") == -1 && !V.isASN1HEX(u))\n      return u;\n    var c;\n    if (typeof u == \"string\")\n      c = u;\n    else if (u.cert != null)\n      c = u.cert;\n    else\n      throw new t(\"hash nor cert unspecified\");\n    var y;\n    c.indexOf(\"-----BEGIN\") != -1 ? y = ie(c) : y = c, typeof u == \"string\" && (u.indexOf(\"-----BEGIN\") != -1 ? y = ie(u) : V.isASN1HEX(u) && (y = u));\n    var v;\n    if (u.alg != null)\n      v = u.alg;\n    else if (p != null)\n      v = p;\n    else\n      throw new t(\"hash alg unspecified\");\n    return r.crypto.Util.hashHex(y, v);\n  }, this.tohex = function() {\n    var u = this.params, p = this.getCertHash(u, \"sha1\"), c = [];\n    c.push(new s({ hex: p })), (typeof u == \"string\" && u.indexOf(\"-----BEGIN\") != -1 || u.cert != null && u.hasis != !1 || u.issuer != null && u.serial != null) && c.push(new h(u));\n    var y = new n({ array: c });\n    return y.tohex();\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, e != null && this.setByParam(e);\n};\nN(a.asn1.cms.ESSCertID, a.asn1.ASN1Object);\na.asn1.cms.SigningCertificateV2 = function(e) {\n  var t = Error, r = a, i = r.asn1, s = i.DERSequence;\n  i.x509;\n  var n = i.cms, h = n.ESSCertIDv2;\n  r.crypto, n.SigningCertificateV2.superclass.constructor.call(this), this.typeOid = \"1.2.840.113549.1.9.16.2.47\", this.getValueArray = function() {\n    if (this.params == null || this.params == null || this.params.array == null)\n      throw new t(\"parameter 'array' not specified\");\n    for (var u = this.params.array, p = [], c = 0; c < u.length; c++) {\n      var y = u[c];\n      (e.alg != null || e.hasis == !1) && typeof y == \"string\" && (y.indexOf(\"-----BEGIN\") != -1 || V.isASN1HEX(y)) && (y = { cert: y }), y.alg == null && e.alg != null && (y.alg = e.alg), y.hasis != !1 && e.hasis == !1 && (y.hasis = !1), p.push(new h(y));\n    }\n    var v = new s({ array: p }), o = new s({ array: [v] });\n    return [o];\n  }, e != null && this.setByParam(e);\n};\nN(a.asn1.cms.SigningCertificateV2, a.asn1.cms.Attribute);\na.asn1.cms.ESSCertIDv2 = function(e) {\n  a.asn1.cms.ESSCertIDv2.superclass.constructor.call(this);\n  var t = a, r = t.asn1, i = r.DEROctetString, s = r.DERSequence, n = r.cms.IssuerSerial, h = r.x509.AlgorithmIdentifier;\n  this.params = null, this.tohex = function() {\n    var u = this.params, p = this.getCertHash(u, \"sha256\"), c = [];\n    u.alg != null && u.alg != \"sha256\" && c.push(new h({ name: u.alg })), c.push(new i({ hex: p })), (typeof u == \"string\" && u.indexOf(\"-----BEGIN\") != -1 || u.cert != null && u.hasis != !1 || u.issuer != null && u.serial != null) && c.push(new n(u));\n    var y = new s({ array: c });\n    return y.tohex();\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, e != null && this.setByParam(e);\n};\nN(a.asn1.cms.ESSCertIDv2, a.asn1.cms.ESSCertID);\na.asn1.cms.IssuerSerial = function(e) {\n  var t = Error, r = a, i = r.asn1, s = i.DERInteger, n = i.DERSequence, h = i.cms, u = i.x509, p = u.GeneralNames, c = L;\n  h.IssuerSerial.superclass.constructor.call(this), this.setByParam = function(y) {\n    this.params = y;\n  }, this.tohex = function() {\n    var y = this.params, v, o;\n    if (typeof y == \"string\" && y.indexOf(\"-----BEGIN\") != -1 || y.cert != null) {\n      var l;\n      y.cert != null ? l = y.cert : l = y;\n      var f = new c();\n      f.readCertPEM(l), v = f.getIssuer(), o = { hex: f.getSerialNumberHex() };\n    } else if (y.issuer != null && y.serial)\n      v = y.issuer, o = y.serial;\n    else\n      throw new t(\"cert or issuer and serial parameter not specified\");\n    var d = new p([{ dn: v }]), g = new s(o), S = new n({ array: [d, g] });\n    return S.tohex();\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, e != null && this.setByParam(e);\n};\nN(a.asn1.cms.IssuerSerial, a.asn1.ASN1Object);\na.asn1.cms.SignerIdentifier = function(e) {\n  var t = a, r = t.asn1;\n  r.DERInteger, r.DERSequence;\n  var i = r.cms, s = i.IssuerAndSerialNumber, n = i.SubjectKeyIdentifier, h = r.x509;\n  h.X500Name, i.SignerIdentifier.superclass.constructor.call(this), this.params = null, this.tohex = function() {\n    var u = this.params;\n    if (u.type == \"isssn\") {\n      var p = new s(u);\n      return p.tohex();\n    } else if (u.type == \"skid\") {\n      var c = new n(u);\n      return c.tohex();\n    } else\n      throw new Error(\"wrong property for isssn or skid\");\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, e != null && this.setByParam(e);\n};\nN(a.asn1.cms.SignerIdentifier, a.asn1.ASN1Object);\na.asn1.cms.IssuerAndSerialNumber = function(e) {\n  var t = a, r = t.asn1, i = r.DERInteger, s = r.DERSequence, n = r.cms, h = r.x509, u = h.X500Name, p = L, c = Error;\n  n.IssuerAndSerialNumber.superclass.constructor.call(this), this.params = null, this.tohex = function() {\n    var y = this.params, v, o;\n    if (typeof y == \"string\" && y.indexOf(\"-----BEGIN\") != -1 || y.cert != null) {\n      var l;\n      y.cert != null ? l = y.cert : l = y;\n      var f = new p();\n      f.readCertPEM(l), v = f.getIssuer(), o = { hex: f.getSerialNumberHex() };\n    } else if (y.issuer != null && y.serial)\n      v = y.issuer, o = y.serial;\n    else\n      throw new c(\"cert or issuer and serial parameter not specified\");\n    var d = new u(v), g = new i(o), S = new s({ array: [d, g] });\n    return S.tohex();\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, this.setByParam = function(y) {\n    this.params = y;\n  }, e != null && this.setByParam(e);\n};\nN(a.asn1.cms.IssuerAndSerialNumber, a.asn1.ASN1Object);\na.asn1.cms.SubjectKeyIdentifier = function(e) {\n  var t = a, r = t.asn1;\n  r.DERInteger, r.DERSequence;\n  var i = r.ASN1Util.newObject, s = r.cms;\n  s.IssuerAndSerialName, s.SubjectKeyIdentifier;\n  var n = r.x509;\n  n.X500Name;\n  var h = L, u = Error;\n  s.SubjectKeyIdentifier.superclass.constructor.call(this), this.tohex = function() {\n    var p = this.params;\n    if (p.cert == null && p.skid == null)\n      throw new u(\"property cert nor skid undefined\");\n    var c;\n    if (p.cert != null) {\n      var y = new h(p.cert), v = y.getExtSubjectKeyIdentifier();\n      c = v.kid.hex;\n    } else\n      p.skid != null && (c = p.skid);\n    var o = i({ tag: { tage: \"a0\", obj: { octstr: { hex: c } } } });\n    return o.tohex();\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, e != null && this.setByParam(e);\n};\nN(a.asn1.cms.SubjectKeyIdentifier, a.asn1.ASN1Object);\na.asn1.cms.AttributeList = function(e) {\n  var t = Error, r = a, i = r.asn1, s = i.DERSet, n = i.cms;\n  n.AttributeList.superclass.constructor.call(this), this.params = null, this.hTLV = null, this.setByParam = function(h) {\n    this.params = h;\n  }, this.tohex = function() {\n    var h = this.params;\n    if (this.hTLV != null)\n      return this.hTLV;\n    var u = !0;\n    h.sortflag != null && (u = h.sortflag);\n    for (var p = h.array, c = [], y = 0; y < p.length; y++) {\n      var v = p[y], o = v.attr;\n      if (o == \"contentType\")\n        c.push(new n.ContentType(v));\n      else if (o == \"messageDigest\")\n        c.push(new n.MessageDigest(v));\n      else if (o == \"signingTime\")\n        c.push(new n.SigningTime(v));\n      else if (o == \"signingCertificate\")\n        c.push(new n.SigningCertificate(v));\n      else if (o == \"signingCertificateV2\")\n        c.push(new n.SigningCertificateV2(v));\n      else if (o == \"signaturePolicyIdentifier\")\n        c.push(new a.asn1.cades.SignaturePolicyIdentifier(v));\n      else if (o == \"signatureTimeStamp\" || o == \"timeStampToken\")\n        c.push(new a.asn1.cades.SignatureTimeStamp(v));\n      else\n        throw new t(\"unknown attr: \" + o);\n    }\n    var l = new s({ array: c, sortflag: u });\n    return this.hTLV = l.tohex(), this.hTLV;\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, e != null && this.setByParam(e);\n};\nN(a.asn1.cms.AttributeList, a.asn1.ASN1Object);\na.asn1.cms.SignerInfo = function(e) {\n  var t = Error, r = a, i = r.asn1, s = i.DERInteger, n = i.DEROctetString, h = i.DERSequence, u = i.DERTaggedObject, p = i.cms, c = p.SignerIdentifier, y = p.AttributeList;\n  p.ContentType, p.EncapsulatedContentInfo, p.MessageDigest, p.SignedData;\n  var v = i.x509, o = v.AlgorithmIdentifier, l = r.crypto, f = k;\n  p.SignerInfo.superclass.constructor.call(this), this.params = null, this.sign = function() {\n    var d = this.params, g = d.sigalg, S = new y(d.sattrs).tohex(), b = f.getKey(d.signkey), D = new l.Signature({ alg: g });\n    D.init(b), D.updateHex(S);\n    var A = D.sign();\n    d.sighex = A;\n  }, this.tohex = function() {\n    var d = this.params, g = [];\n    if (g.push(new s({ int: d.version })), g.push(new c(d.id)), g.push(new o({ name: d.hashalg })), d.sattrs != null) {\n      var S = new y(d.sattrs);\n      try {\n        g.push(new u({ tag: \"a0\", explicit: !1, obj: S }));\n      } catch (D) {\n        throw new t(\"si sattr error: \" + D);\n      }\n    }\n    if (d.sigalgfield != null ? g.push(new o({ name: d.sigalgfield })) : g.push(new o({ name: d.sigalg })), d.sighex == null && d.signkey != null && this.sign(), g.push(new n({ hex: d.sighex })), d.uattrs != null) {\n      var S = new y(d.uattrs);\n      try {\n        g.push(new u({ tag: \"a1\", explicit: !1, obj: S }));\n      } catch (A) {\n        throw new t(\"si uattr error: \" + A);\n      }\n    }\n    var b = new h({ array: g });\n    return b.tohex();\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, e != null && this.setByParam(e);\n};\nN(a.asn1.cms.SignerInfo, a.asn1.ASN1Object);\na.asn1.cms.EncapsulatedContentInfo = function(e) {\n  var t = a, r = t.asn1, i = r.DERTaggedObject, s = r.DERSequence, n = r.DERObjectIdentifier, h = r.DEROctetString, u = r.cms;\n  u.EncapsulatedContentInfo.superclass.constructor.call(this), this.params = null, this.tohex = function() {\n    var p = this.params, c = [];\n    if (c.push(new n(p.type)), p.content != null && (p.content.hex != null || p.content.str != null) && p.isDetached != !0) {\n      var y = new h(p.content), v = new i({ tag: \"a0\", explicit: !0, obj: y });\n      c.push(v);\n    }\n    var o = new s({ array: c });\n    return o.tohex();\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, this.setByParam = function(p) {\n    this.params = p;\n  }, e != null && this.setByParam(e);\n};\nN(a.asn1.cms.EncapsulatedContentInfo, a.asn1.ASN1Object);\na.asn1.cms.ContentInfo = function(e) {\n  var t = a, r = t.asn1, i = r.DERTaggedObject, s = r.DERSequence, n = r.DERObjectIdentifier, h = r.x509;\n  h.OID.name2obj, a.asn1.cms.ContentInfo.superclass.constructor.call(this), this.params = null, this.tohex = function() {\n    var u = this.params, p = [];\n    p.push(new n(u.type));\n    var c = new i({ tag: \"a0\", explicit: !0, obj: u.obj });\n    p.push(c);\n    var y = new s({ array: p });\n    return y.tohex();\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, this.setByParam = function(u) {\n    this.params = u;\n  }, e != null && this.setByParam(e);\n};\nN(a.asn1.cms.ContentInfo, a.asn1.ASN1Object);\na.asn1.cms.SignedData = function(e) {\n  var t = a, r = t.asn1;\n  r.ASN1Object;\n  var i = r.DERInteger, s = r.DERSet, n = r.DERSequence;\n  r.DERTaggedObject;\n  var h = r.cms, u = h.EncapsulatedContentInfo, p = h.SignerInfo, c = h.ContentInfo, y = h.CertificateSet, v = h.RevocationInfoChoices, o = r.x509, l = o.AlgorithmIdentifier;\n  a.asn1.cms.SignedData.superclass.constructor.call(this), this.params = null, this.checkAndFixParam = function() {\n    var f = this.params;\n    this._setDigestAlgs(f), this._setContentTypeByEContent(f), this._setMessageDigestByEContent(f), this._setSignerInfoVersion(f), this._setSignedDataVersion(f);\n  }, this._setDigestAlgs = function(f) {\n    for (var d = {}, g = f.sinfos, S = 0; S < g.length; S++) {\n      var b = g[S];\n      d[b.hashalg] = 1;\n    }\n    f.hashalgs = Object.keys(d).sort();\n  }, this._setContentTypeByEContent = function(f) {\n    for (var d = f.econtent.type, g = f.sinfos, S = 0; S < g.length; S++) {\n      var b = g[S], D = this._getAttrParamByName(b, \"contentType\");\n      D.type = d;\n    }\n  }, this._setMessageDigestByEContent = function(f) {\n    var d = f.econtent;\n    f.econtent.type;\n    var g = d.content.hex;\n    g == null && d.type == \"data\" && d.content.str != null && (g = Pe(d.content.str));\n    for (var S = f.sinfos, b = 0; b < S.length; b++) {\n      var D = S[b], A = D.hashalg, I = this._getAttrParamByName(D, \"messageDigest\"), m = a.crypto.Util.hashHex(g, A);\n      I.hex = m;\n    }\n  }, this._getAttrParamByName = function(f, d) {\n    for (var g = f.sattrs.array, S = 0; S < g.length; S++)\n      if (g[S].attr == d)\n        return g[S];\n  }, this._setSignerInfoVersion = function(f) {\n    for (var d = f.sinfos, g = 0; g < d.length; g++) {\n      var S = d[g], b = 1;\n      S.id.type == \"skid\" && (b = 3), S.version = b;\n    }\n  }, this._setSignedDataVersion = function(f) {\n    var d = this._getSignedDataVersion(f);\n    f.version = d;\n  }, this._getSignedDataVersion = function(f) {\n    if (f.revinfos != null)\n      for (var d = f.revinfos, g = 0; g < d.length; g++) {\n        var S = d[g];\n        if (S.ocsp != null)\n          return 5;\n      }\n    for (var b = f.sinfos, g = 0; g < b.length; g++) {\n      var D = f.sinfos[g];\n      if (D.version == 3)\n        return 3;\n    }\n    return f.econtent.type != \"data\" ? 3 : 1;\n  }, this.tohex = function() {\n    var f = this.params;\n    this.getEncodedHexPrepare != null && this.getEncodedHexPrepare(), f.fixed != !0 && this.checkAndFixParam();\n    var d = [];\n    d.push(new i({ int: f.version }));\n    for (var g = [], S = 0; S < f.hashalgs.length; S++) {\n      var b = f.hashalgs[S];\n      g.push(new l({ name: b }));\n    }\n    d.push(new s({ array: g })), d.push(new u(f.econtent)), f.certs != null && d.push(new y(f.certs)), f.revinfos != null && d.push(new v(f.revinfos));\n    for (var D = [], S = 0; S < f.sinfos.length; S++) {\n      var A = f.sinfos[S];\n      D.push(new p(A));\n    }\n    d.push(new s({ array: D }));\n    var I = new n({ array: d });\n    return I.tohex();\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, this.getContentInfo = function() {\n    var f = new c({ type: \"signed-data\", obj: this });\n    return f;\n  }, this.getContentInfoEncodedHex = function() {\n    return this.getContentInfo().tohex();\n  }, e != null && this.setByParam(e);\n};\nN(a.asn1.cms.SignedData, a.asn1.ASN1Object);\na.asn1.cms.CertificateSet = function(e) {\n  a.asn1.cms.CertificateSet.superclass.constructor.call(this);\n  var t = Error, r = a.asn1, i = r.DERTaggedObject, s = r.DERSet, n = r.ASN1Object;\n  this.params = null, this.tohex = function() {\n    var h = this.params, u = [], p;\n    if (h instanceof Array)\n      p = h;\n    else if (h.array != null)\n      p = h.array;\n    else\n      throw new t(\"cert array not specified\");\n    for (var c = 0; c < p.length; c++) {\n      var y = p[c], v = ie(y), o = new n();\n      o.hTLV = v, u.push(o);\n    }\n    var l = { array: u };\n    h.sortflag == !1 && (l.sortflag = !1);\n    var f = new s(l), d = new i({ tag: \"a0\", explicit: !1, obj: f });\n    return d.tohex();\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, e != null && this.setByParam(e);\n};\nN(a.asn1.cms.CertificateSet, a.asn1.ASN1Object);\na.asn1.cms.RevocationInfoChoices = function(e) {\n  a.asn1.cms.RevocationInfoChoices.superclass.constructor.call(this), this.params = null, this.tohex = function() {\n    var t = this.params;\n    if (!t instanceof Array)\n      throw new Error(\"params is not array\");\n    for (var r = [], i = 0; i < t.length; i++)\n      r.push(new a.asn1.cms.RevocationInfoChoice(t[i]));\n    var s = a.asn1.ASN1Util.newObject({ tag: { tagi: \"a1\", obj: { set: r } } });\n    return s.tohex();\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, e != null && this.setByParam(e);\n};\nN(a.asn1.cms.RevocationInfoChoices, a.asn1.ASN1Object);\na.asn1.cms.RevocationInfoChoice = function(e) {\n  a.asn1.cms.RevocationInfoChoice.superclass.constructor.call(this), this.params = null, this.tohex = function() {\n    var t = this.params;\n    if (t.crl != null && typeof t.crl == \"string\") {\n      var r = t.crl;\n      return t.crl.indexOf(\"-----BEGIN\") != -1 && (r = ie(t.crl)), r;\n    } else if (t.ocsp != null) {\n      var i = a.asn1.ASN1Util.newObject({ tag: { tagi: \"a1\", obj: new a.asn1.cms.OtherRevocationFormat(t) } });\n      return i.tohex();\n    } else\n      throw new Error(\"property crl or ocsp undefined\");\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, e != null && this.setByParam(e);\n};\nN(a.asn1.cms.RevocationInfoChoice, a.asn1.ASN1Object);\na.asn1.cms.OtherRevocationFormat = function(e) {\n  a.asn1.cms.OtherRevocationFormat.superclass.constructor.call(this);\n  var t = Error, r = a, i = r.asn1, s = i.ASN1Util.newObject, n = r.lang.String.isHex;\n  this.params = null, this.tohex = function() {\n    var h = this.params;\n    if (h.ocsp == null)\n      throw new t(\"property ocsp not specified\");\n    if (!n(h.ocsp) || !V.isASN1HEX(h.ocsp))\n      throw new t(\"ocsp value not ASN.1 hex string\");\n    var u = s({ seq: [{ oid: \"1.3.6.1.5.5.7.16.2\" }, { asn1: { tlv: h.ocsp } }] });\n    return u.tohex();\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, e != null && this.setByParam(e);\n};\nN(a.asn1.cms.OtherRevocationFormat, a.asn1.ASN1Object);\na.asn1.cms.CMSUtil = new function() {\n}();\na.asn1.cms.CMSUtil.newSignedData = function(e) {\n  return new a.asn1.cms.SignedData(e);\n};\na.asn1.cms.CMSUtil.verifySignedData = function(e) {\n  var t = a, r = t.asn1, i = r.cms;\n  i.SignerInfo, i.SignedData, i.SigningTime, i.SigningCertificate, i.SigningCertificateV2;\n  var s = r.cades;\n  s.SignaturePolicyIdentifier;\n  var n = t.lang.String.isHex, h = V, u = h.getVbyList, p = h.getTLVbyList, c = h.getIdxbyList, y = h.getChildIdx, v = h.getTLV, o = h.oidname, l = t.crypto.Util.hashHex;\n  e.cms === void 0 && n(e.cms);\n  var f = e.cms, d = function(w, x) {\n    for (var F, P = 3; P < 6; P++)\n      if (F = c(w, 0, [1, 0, P]), F !== void 0) {\n        var T = w.substr(F, 2);\n        T === \"a0\" && (x.certsIdx = F), T === \"a1\" && (x.revinfosIdx = F), T === \"31\" && (x.signerinfosIdx = F);\n      }\n  }, g = function(w, x) {\n    var F = x.signerinfosIdx;\n    if (F !== void 0) {\n      var P = y(w, F);\n      x.signerInfoIdxList = P;\n      for (var T = 0; T < P.length; T++) {\n        var H = P[T], C = { idx: H };\n        S(w, C), x.signerInfos.push(C);\n      }\n    }\n  }, S = function(w, x) {\n    var F = x.idx;\n    x.signerid_issuer1 = p(w, F, [1, 0], \"30\"), x.signerid_serial1 = u(w, F, [1, 1], \"02\"), x.hashalg = o(u(w, F, [2, 0], \"06\"));\n    var P = c(w, F, [3], \"a0\");\n    x.idxSignedAttrs = P, b(w, x, P);\n    var T = y(w, F), H = T.length;\n    if (H < 6)\n      throw \"malformed SignerInfo\";\n    x.sigalg = o(u(w, F, [H - 2, 0], \"06\")), x.sigval = u(w, F, [H - 1], \"04\");\n  }, b = function(w, x, F) {\n    var P = y(w, F);\n    x.signedAttrIdxList = P;\n    for (var T = 0; T < P.length; T++) {\n      var H = P[T], C = u(w, H, [0], \"06\"), B;\n      C === \"2a864886f70d010905\" ? (B = W(u(w, H, [1, 0])), x.saSigningTime = B) : C === \"2a864886f70d010904\" && (B = u(w, H, [1, 0], \"04\"), x.saMessageDigest = B);\n    }\n  }, D = function(w, x) {\n    if (u(w, 0, [0], \"06\") !== \"2a864886f70d010702\")\n      return x;\n    x.cmsType = \"signedData\", x.econtent = u(w, 0, [1, 0, 2, 1, 0]), d(w, x), x.signerInfos = [], g(w, x);\n  }, A = function(w, x) {\n    for (var F = x.parse.signerInfos, P = F.length, T = !0, H = 0; H < P; H++) {\n      var C = F[H];\n      m(w, x, C), C.isValid || (T = !1);\n    }\n    x.isValid = T;\n  }, I = function(w, x, F, P) {\n    var T = x.parse.certsIdx, H;\n    if (x.certs === void 0) {\n      H = [], x.certkeys = [];\n      for (var C = y(w, T), B = 0; B < C.length; B++) {\n        var O = v(w, C[B]), j = new L();\n        j.readCertHex(O), H[B] = j, x.certkeys[B] = j.getPublicKey();\n      }\n      x.certs = H;\n    } else\n      H = x.certs;\n    x.cccc = H.length, x.cccci = C.length;\n    for (var B = 0; B < H.length; B++) {\n      var fe = j.getIssuerHex(), Z = j.getSerialNumberHex();\n      F.signerid_issuer1 === fe && F.signerid_serial1 === Z && (F.certkey_idx = B);\n    }\n  }, m = function(w, x, F, P) {\n    F.verifyDetail = {};\n    var T = F.verifyDetail, H = x.parse.econtent, C = F.hashalg, B = F.saMessageDigest;\n    T.validMessageDigest = !1, l(H, C) === B && (T.validMessageDigest = !0), I(w, x, F), T.validSignatureValue = !1;\n    var O = F.sigalg, j = \"31\" + v(w, F.idxSignedAttrs).substr(2);\n    F.signedattrshex = j;\n    var fe = x.certs[F.certkey_idx].getPublicKey(), Z = new a.crypto.Signature({ alg: O });\n    Z.init(fe), Z.updateHex(j);\n    var X = Z.verify(F.sigval);\n    T.validSignatureValue_isValid = X, X === !0 && (T.validSignatureValue = !0), F.isValid = !1, T.validMessageDigest && T.validSignatureValue && (F.isValid = !0);\n  }, E = { isValid: !1, parse: {} };\n  return D(f, E.parse), A(f, E), E;\n};\na.asn1.cms.CMSParser = function() {\n  var e = Error, t = L, r = new t(), i = V, s = i.getV, n = i.getTLV;\n  i.getIdxbyList;\n  var h = i.getTLVbyList, u = i.getTLVbyListEx, p = i.getVbyList, c = i.getVbyListEx, y = i.getChildIdx;\n  this.getCMSSignedData = function(v) {\n    var o = h(v, 0, [1, 0]), l = this.getSignedData(o);\n    return l;\n  }, this.getSignedData = function(v) {\n    var o = y(v, 0), l = {}, f = s(v, o[0]), d = parseInt(f, 16);\n    l.version = d;\n    var g = n(v, o[1]);\n    l.hashalgs = this.getHashAlgArray(g);\n    var S = n(v, o[2]);\n    l.econtent = this.getEContent(S);\n    var b = u(v, 0, [\"[0]\"]);\n    b != null && (l.certs = this.getCertificateSet(b)), u(v, 0, [\"[1]\"]);\n    var D = u(v, 0, [3]);\n    return l.sinfos = this.getSignerInfos(D), l;\n  }, this.getHashAlgArray = function(v) {\n    for (var o = y(v, 0), l = new t(), f = [], d = 0; d < o.length; d++) {\n      var g = n(v, o[d]), S = l.getAlgorithmIdentifierName(g);\n      f.push(S);\n    }\n    return f;\n  }, this.getEContent = function(v) {\n    var o = {}, l = p(v, 0, [0]), f = p(v, 0, [1, 0]);\n    return o.type = a.asn1.x509.OID.oid2name(V.hextooidstr(l)), o.content = { hex: f }, o;\n  }, this.getSignerInfos = function(v) {\n    for (var o = [], l = y(v, 0), f = 0; f < l.length; f++) {\n      var d = n(v, l[f]), g = this.getSignerInfo(d);\n      o.push(g);\n    }\n    return o;\n  }, this.getSignerInfo = function(v) {\n    var o = {}, l = y(v, 0), f = i.getInt(v, l[0], -1);\n    f != -1 && (o.version = f);\n    var d = n(v, l[1]), g = this.getIssuerAndSerialNumber(d);\n    o.id = g;\n    var S = n(v, l[2]), b = r.getAlgorithmIdentifierName(S);\n    o.hashalg = b;\n    var D = u(v, 0, [\"[0]\"]);\n    if (D != null) {\n      var A = this.getAttributeList(D);\n      o.sattrs = A;\n    }\n    var I = u(v, 0, [3]), m = r.getAlgorithmIdentifierName(I);\n    o.sigalg = m;\n    var E = c(v, 0, [4]);\n    o.sighex = E;\n    var w = u(v, 0, [\"[1]\"]);\n    if (w != null) {\n      var x = this.getAttributeList(w);\n      o.uattrs = x;\n    }\n    return o;\n  }, this.getSignerIdentifier = function(v) {\n    if (v.substr(0, 2) == \"30\")\n      return this.getIssuerAndSerialNumber(v);\n    throw new Error(\"SKID of signerIdentifier not supported\");\n  }, this.getIssuerAndSerialNumber = function(v) {\n    var o = { type: \"isssn\" }, l = y(v, 0), f = n(v, l[0]);\n    o.issuer = r.getX500Name(f);\n    var d = s(v, l[1]);\n    return o.serial = { hex: d }, o;\n  }, this.getAttributeList = function(v) {\n    for (var o = [], l = y(v, 0), f = 0; f < l.length; f++) {\n      var d = n(v, l[f]), g = this.getAttribute(d);\n      o.push(g);\n    }\n    return { array: o };\n  }, this.getAttribute = function(v) {\n    var o = {}, l = y(v, 0), f = i.getOID(v, l[0]), d = a.asn1.x509.OID.oid2name(f);\n    o.attr = d;\n    var g = n(v, l[1]), S = y(g, 0);\n    if (S.length == 1)\n      o.valhex = n(g, S[0]);\n    else {\n      for (var b = [], D = 0; D < S.length; D++)\n        b.push(n(g, S[D]));\n      o.valhex = b;\n    }\n    return d == \"contentType\" ? this.setContentType(o) : d == \"messageDigest\" ? this.setMessageDigest(o) : d == \"signingTime\" ? this.setSigningTime(o) : d == \"signingCertificate\" ? this.setSigningCertificate(o) : d == \"signingCertificateV2\" ? this.setSigningCertificateV2(o) : d == \"signaturePolicyIdentifier\" && this.setSignaturePolicyIdentifier(o), o;\n  }, this.setContentType = function(v) {\n    var o = i.getOIDName(v.valhex, 0, null);\n    o != null && (v.type = o, delete v.valhex);\n  }, this.setSigningTime = function(v) {\n    var o = s(v.valhex, 0), l = W(o);\n    v.str = l, delete v.valhex;\n  }, this.setMessageDigest = function(v) {\n    var o = s(v.valhex, 0);\n    v.hex = o, delete v.valhex;\n  }, this.setSigningCertificate = function(v) {\n    var o = y(v.valhex, 0);\n    if (o.length > 0) {\n      for (var l = n(v.valhex, o[0]), f = y(l, 0), d = [], g = 0; g < f.length; g++) {\n        var S = n(l, f[g]), b = this.getESSCertID(S);\n        d.push(b);\n      }\n      v.array = d;\n    }\n    if (o.length > 1) {\n      var D = n(v.valhex, o[1]);\n      v.polhex = D;\n    }\n    delete v.valhex;\n  }, this.setSignaturePolicyIdentifier = function(v) {\n    var o = y(v.valhex, 0);\n    if (o.length > 0) {\n      var l = i.getOID(v.valhex, o[0]);\n      v.oid = l;\n    }\n    if (o.length > 1) {\n      var f = new t(), d = y(v.valhex, o[1]), g = n(v.valhex, d[0]), S = f.getAlgorithmIdentifierName(g);\n      v.alg = S;\n      var b = s(v.valhex, d[1]);\n      v.hash = b;\n    }\n    delete v.valhex;\n  }, this.setSigningCertificateV2 = function(v) {\n    var o = y(v.valhex, 0);\n    if (o.length > 0) {\n      for (var l = n(v.valhex, o[0]), f = y(l, 0), d = [], g = 0; g < f.length; g++) {\n        var S = n(l, f[g]), b = this.getESSCertIDv2(S);\n        d.push(b);\n      }\n      v.array = d;\n    }\n    if (o.length > 1) {\n      var D = n(v.valhex, o[1]);\n      v.polhex = D;\n    }\n    delete v.valhex;\n  }, this.getESSCertID = function(v) {\n    var o = {}, l = y(v, 0);\n    if (l.length > 0) {\n      var f = s(v, l[0]);\n      o.hash = f;\n    }\n    if (l.length > 1) {\n      var d = n(v, l[1]), g = this.getIssuerSerial(d);\n      g.serial != null && (o.serial = g.serial), g.issuer != null && (o.issuer = g.issuer);\n    }\n    return o;\n  }, this.getESSCertIDv2 = function(v) {\n    var o = {}, l = y(v, 0);\n    if (l.length < 1 || 3 < l.length)\n      throw new e(\"wrong number of elements\");\n    var f = 0;\n    if (v.substr(l[0], 2) == \"30\") {\n      var d = n(v, l[0]);\n      o.alg = r.getAlgorithmIdentifierName(d), f++;\n    } else\n      o.alg = \"sha256\";\n    var g = s(v, l[f]);\n    if (o.hash = g, l.length > f + 1) {\n      var S = n(v, l[f + 1]), b = this.getIssuerSerial(S);\n      o.issuer = b.issuer, o.serial = b.serial;\n    }\n    return o;\n  }, this.getIssuerSerial = function(v) {\n    var o = {}, l = y(v, 0), f = n(v, l[0]), d = r.getGeneralNames(f), g = d[0].dn;\n    o.issuer = g;\n    var S = s(v, l[1]);\n    return o.serial = { hex: S }, o;\n  }, this.getCertificateSet = function(v) {\n    for (var o = y(v, 0), l = [], f = 0; f < o.length; f++) {\n      var d = n(v, o[f]);\n      if (d.substr(0, 2) == \"30\") {\n        var g = de(d, \"CERTIFICATE\");\n        l.push(g);\n      }\n    }\n    return { array: l, sortflag: !1 };\n  };\n};\n(typeof a > \"u\" || !a) && (a = {});\n(typeof a.asn1 > \"u\" || !a.asn1) && (a.asn1 = {});\n(typeof a.asn1.tsp > \"u\" || !a.asn1.tsp) && (a.asn1.tsp = {});\na.asn1.tsp.TimeStampToken = function(e) {\n  var t = a, r = t.asn1, i = r.tsp;\n  i.TimeStampToken.superclass.constructor.call(this), this.params = null, this.getEncodedHexPrepare = function() {\n    var s = new i.TSTInfo(this.params.econtent.content);\n    this.params.econtent.content.hex = s.tohex();\n  }, e != null && this.setByParam(e);\n};\nN(a.asn1.tsp.TimeStampToken, a.asn1.cms.SignedData);\na.asn1.tsp.TSTInfo = function(e) {\n  var t = a, r = t.asn1, i = r.DERSequence, s = r.DERInteger, n = r.DERBoolean, h = r.DERGeneralizedTime, u = r.DERObjectIdentifier, p = r.DERTaggedObject, c = r.tsp, y = c.MessageImprint, v = c.Accuracy;\n  r.x509.X500Name;\n  var o = r.x509.GeneralName;\n  if (c.TSTInfo.superclass.constructor.call(this), this.dVersion = new s({ int: 1 }), this.dPolicy = null, this.dMessageImprint = null, this.dSerial = null, this.dGenTime = null, this.dAccuracy = null, this.dOrdering = null, this.dNonce = null, this.dTsa = null, this.tohex = function() {\n    var l = [this.dVersion];\n    if (this.dPolicy == null)\n      throw new Error(\"policy shall be specified.\");\n    if (l.push(this.dPolicy), this.dMessageImprint == null)\n      throw new Error(\"messageImprint shall be specified.\");\n    if (l.push(this.dMessageImprint), this.dSerial == null)\n      throw new Error(\"serialNumber shall be specified.\");\n    if (l.push(this.dSerial), this.dGenTime == null)\n      throw new Error(\"genTime shall be specified.\");\n    l.push(this.dGenTime), this.dAccuracy != null && l.push(this.dAccuracy), this.dOrdering != null && l.push(this.dOrdering), this.dNonce != null && l.push(this.dNonce), this.dTsa != null && l.push(this.dTsa);\n    var f = new i({ array: l });\n    return this.hTLV = f.tohex(), this.hTLV;\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, e !== void 0) {\n    if (typeof e.policy == \"string\") {\n      if (!e.policy.match(/^[0-9.]+$/))\n        throw \"policy shall be oid like 0.1.4.134\";\n      this.dPolicy = new u({ oid: e.policy });\n    }\n    e.messageImprint !== void 0 && (this.dMessageImprint = new y(e.messageImprint)), e.serial !== void 0 && (this.dSerial = new s(e.serial)), e.genTime !== void 0 && (this.dGenTime = new h(e.genTime)), e.accuracy !== void 0 && (this.dAccuracy = new v(e.accuracy)), e.ordering !== void 0 && e.ordering == !0 && (this.dOrdering = new n()), e.nonce !== void 0 && (this.dNonce = new s(e.nonce)), e.tsa !== void 0 && (this.dTsa = new p({ tag: \"a0\", explicit: !0, obj: new o({ dn: e.tsa }) }));\n  }\n};\nN(a.asn1.tsp.TSTInfo, a.asn1.ASN1Object);\na.asn1.tsp.Accuracy = function(e) {\n  var t = a, r = t.asn1, i = r.ASN1Util.newObject;\n  r.tsp.Accuracy.superclass.constructor.call(this), this.params = null, this.tohex = function() {\n    var s = this.params, n = [];\n    return s.seconds != null && typeof s.seconds == \"number\" && n.push({ int: s.seconds }), s.millis != null && typeof s.millis == \"number\" && n.push({ tag: { tagi: \"80\", obj: { int: s.millis } } }), s.micros != null && typeof s.micros == \"number\" && n.push({ tag: { tagi: \"81\", obj: { int: s.micros } } }), i({ seq: n }).tohex();\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, e != null && this.setByParam(e);\n};\nN(a.asn1.tsp.Accuracy, a.asn1.ASN1Object);\na.asn1.tsp.MessageImprint = function(e) {\n  var t = a, r = t.asn1, i = r.DERSequence, s = r.DEROctetString, n = r.x509, h = n.AlgorithmIdentifier;\n  r.tsp.MessageImprint.superclass.constructor.call(this), this.params = null, this.tohex = function() {\n    var u = this.params, p = new h({ name: u.alg }), c = new s({ hex: u.hash }), y = new i({ array: [p, c] });\n    return y.tohex();\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, e !== void 0 && this.setByParam(e);\n};\nN(a.asn1.tsp.MessageImprint, a.asn1.ASN1Object);\na.asn1.tsp.TimeStampReq = function(e) {\n  var t = a, r = t.asn1, i = r.DERSequence, s = r.DERInteger, n = r.DERBoolean;\n  r.ASN1Object;\n  var h = r.DERObjectIdentifier, u = r.tsp, p = u.MessageImprint;\n  u.TimeStampReq.superclass.constructor.call(this), this.params = null, this.tohex = function() {\n    var c = this.params, y = [];\n    y.push(new s({ int: 1 })), c.messageImprint instanceof a.asn1.ASN1Object ? y.push(c.messageImprint) : y.push(new p(c.messageImprint)), c.policy != null && y.push(new h(c.policy)), c.nonce != null && y.push(new s(c.nonce)), c.certreq == !0 && y.push(new n());\n    var v = new i({ array: y });\n    return v.tohex();\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, e != null && this.setByParam(e);\n};\nN(a.asn1.tsp.TimeStampReq, a.asn1.ASN1Object);\na.asn1.tsp.TimeStampResp = function(e) {\n  var t = a, r = t.asn1, i = r.DERSequence;\n  r.ASN1Object;\n  var s = r.tsp, n = s.PKIStatusInfo;\n  s.TimeStampResp.superclass.constructor.call(this), this.params = null, this.tohex = function() {\n    var h = this.params, u = [];\n    if (h.econtent != null || h.tst != null)\n      if (h.statusinfo != null ? u.push(new n(h.statusinfo)) : u.push(new n(\"granted\")), h.econtent != null)\n        u.push(new s.TimeStampToken(h).getContentInfo());\n      else if (h.tst instanceof r.ASN1Object)\n        u.push(h.tst);\n      else\n        throw new Error(\"improper member tst value\");\n    else if (h.statusinfo != null)\n      u.push(new n(h.statusinfo));\n    else\n      throw new Error(\"parameter for token nor statusinfo not specified\");\n    var p = new i({ array: u });\n    return p.tohex();\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, e != null && this.setByParam(e);\n};\nN(a.asn1.tsp.TimeStampResp, a.asn1.ASN1Object);\na.asn1.tsp.PKIStatusInfo = function(e) {\n  var t = Error, r = a, i = r.asn1, s = i.DERSequence, n = i.tsp, h = n.PKIStatus, u = n.PKIFreeText, p = n.PKIFailureInfo;\n  n.PKIStatusInfo.superclass.constructor.call(this), this.params = null, this.tohex = function() {\n    var c = this.params, y = [];\n    if (typeof c == \"string\")\n      y.push(new h(c));\n    else {\n      if (c.status == null)\n        throw new t(\"property 'status' unspecified\");\n      y.push(new h(c.status)), c.statusstr != null && y.push(new u(c.statusstr)), c.failinfo != null && y.push(new p(c.failinfo));\n    }\n    var v = new s({ array: y });\n    return v.tohex();\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, e != null && this.setByParam(e);\n};\nN(a.asn1.tsp.PKIStatusInfo, a.asn1.ASN1Object);\na.asn1.tsp.PKIStatus = function(e) {\n  var t = Error, r = a, i = r.asn1, s = i.DERInteger, n = i.tsp;\n  n.PKIStatus.superclass.constructor.call(this);\n  var h = { granted: 0, grantedWithMods: 1, rejection: 2, waiting: 3, revocationWarning: 4, revocationNotification: 5 };\n  this.params = null, this.tohex = function() {\n    var u = this.params, p;\n    if (typeof u == \"string\")\n      try {\n        p = h[u];\n      } catch {\n        throw new t(\"undefined name: \" + u);\n      }\n    else if (typeof u == \"number\")\n      p = u;\n    else\n      throw new t(\"unsupported params\");\n    return new s({ int: p }).tohex();\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, e != null && this.setByParam(e);\n};\nN(a.asn1.tsp.PKIStatus, a.asn1.ASN1Object);\na.asn1.tsp.PKIFreeText = function(e) {\n  var t = Error, r = a, i = r.asn1, s = i.DERSequence, n = i.DERUTF8String, h = i.tsp;\n  h.PKIFreeText.superclass.constructor.call(this), this.params = null, this.tohex = function() {\n    var u = this.params;\n    if (!u instanceof Array)\n      throw new t(\"wrong params: not array\");\n    for (var p = [], c = 0; c < u.length; c++)\n      p.push(new n({ str: u[c] }));\n    var y = new s({ array: p });\n    return y.tohex();\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, e != null && this.setByParam(e);\n};\nN(a.asn1.tsp.PKIFreeText, a.asn1.ASN1Object);\na.asn1.tsp.PKIFailureInfo = function(e) {\n  var t = Error, r = a, i = r.asn1, s = i.DERBitString, n = i.tsp, h = n.PKIFailureInfo, u = { badAlg: 0, badRequest: 2, badDataFormat: 5, timeNotAvailable: 14, unacceptedPolicy: 15, unacceptedExtension: 16, addInfoNotAvailable: 17, systemFailure: 25 };\n  h.superclass.constructor.call(this), this.params = null, this.getBinValue = function() {\n    var p = this.params, c = 0;\n    if (typeof p == \"number\" && 0 <= p && p <= 25) {\n      c |= 1 << p;\n      for (var y = c.toString(2), v = \"\", o = y.length - 1; o >= 0; o--)\n        v += y[o];\n      return v;\n    } else {\n      if (typeof p == \"string\" && u[p] != null)\n        return rt([p], u);\n      if (typeof p == \"object\" && p.length != null)\n        return rt(p, u);\n      throw new t(\"wrong params\");\n    }\n  }, this.tohex = function() {\n    this.params;\n    var p = this.getBinValue();\n    return new s({ bin: p }).tohex();\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, e != null && this.setByParam(e);\n};\nN(a.asn1.tsp.PKIFailureInfo, a.asn1.ASN1Object);\na.asn1.tsp.AbstractTSAAdapter = function(e) {\n  this.getTSTHex = function(t, r) {\n    throw \"not implemented yet\";\n  };\n};\na.asn1.tsp.SimpleTSAAdapter = function(e) {\n  var t = a, r = t.asn1, i = r.tsp, s = t.crypto.Util.hashHex;\n  i.SimpleTSAAdapter.superclass.constructor.call(this), this.params = null, this.serial = 0, this.getTSTHex = function(n, h) {\n    var u = s(n, h);\n    this.params.econtent.content.messageImprint = { alg: h, hash: u }, this.params.econtent.content.serial = { int: this.serial++ };\n    var p = Math.floor(Math.random() * 1e9);\n    this.params.econtent.content.nonce = { int: p };\n    var c = new i.TimeStampToken(this.params);\n    return c.getContentInfoEncodedHex();\n  }, e !== void 0 && (this.params = e);\n};\nN(a.asn1.tsp.SimpleTSAAdapter, a.asn1.tsp.AbstractTSAAdapter);\na.asn1.tsp.FixedTSAAdapter = function(e) {\n  var t = a, r = t.asn1, i = r.tsp, s = t.crypto.Util.hashHex;\n  i.FixedTSAAdapter.superclass.constructor.call(this), this.params = null, this.getTSTHex = function(n, h) {\n    var u = s(n, h);\n    this.params.econtent.content.messageImprint = { alg: h, hash: u };\n    var p = new i.TimeStampToken(this.params);\n    return p.getContentInfoEncodedHex();\n  }, e !== void 0 && (this.params = e);\n};\nN(a.asn1.tsp.FixedTSAAdapter, a.asn1.tsp.AbstractTSAAdapter);\na.asn1.tsp.TSPUtil = new function() {\n}();\na.asn1.tsp.TSPUtil.newTimeStampToken = function(e) {\n  return new a.asn1.tsp.TimeStampToken(e);\n};\na.asn1.tsp.TSPUtil.parseTimeStampReq = function(e) {\n  var t = new a.asn1.tsp.TSPParser();\n  return t.getTimeStampReq(e);\n};\na.asn1.tsp.TSPUtil.parseMessageImprint = function(e) {\n  var t = new a.asn1.tsp.TSPParser();\n  return t.getMessageImprint(e);\n};\na.asn1.tsp.TSPParser = function() {\n  var e = L, t = new e(), r = V, i = r.getV, s = r.getTLV, n = r.getIdxbyList;\n  r.getTLVbyListEx;\n  var h = r.getChildIdx, u = [\"granted\", \"grantedWithMods\", \"rejection\", \"waiting\", \"revocationWarning\", \"revocationNotification\"], p = { 0: \"badAlg\", 2: \"badRequest\", 5: \"badDataFormat\", 14: \"timeNotAvailable\", 15: \"unacceptedPolicy\", 16: \"unacceptedExtension\", 17: \"addInfoNotAvailable\", 25: \"systemFailure\" };\n  this.getResponse = function(c) {\n    var y = h(c, 0);\n    if (y.length == 1)\n      return this.getPKIStatusInfo(s(c, y[0]));\n    if (y.length > 1) {\n      var v = this.getPKIStatusInfo(s(c, y[0])), o = s(c, y[1]), l = this.getToken(o);\n      return l.statusinfo = v, l;\n    }\n  }, this.getToken = function(c) {\n    var y = new a.asn1.cms.CMSParser(), v = y.getCMSSignedData(c);\n    return this.setTSTInfo(v), v;\n  }, this.setTSTInfo = function(c) {\n    var y = c.econtent;\n    if (y.type == \"tstinfo\") {\n      var v = y.content.hex, o = this.getTSTInfo(v);\n      y.content = o;\n    }\n  }, this.getTSTInfo = function(c) {\n    var y = {}, v = h(c, 0), o = i(c, v[1]);\n    y.policy = ft(o);\n    var l = s(c, v[2]);\n    y.messageImprint = this.getMessageImprint(l);\n    var f = i(c, v[3]);\n    y.serial = { hex: f };\n    var d = i(c, v[4]);\n    y.genTime = { str: W(d) };\n    var g = 0;\n    if (v.length > 5 && c.substr(v[5], 2) == \"30\") {\n      var S = s(c, v[5]);\n      y.accuracy = this.getAccuracy(S), g++;\n    }\n    if (v.length > 5 + g && c.substr(v[5 + g], 2) == \"01\") {\n      var b = i(c, v[5 + g]);\n      b == \"ff\" && (y.ordering = !0), g++;\n    }\n    if (v.length > 5 + g && c.substr(v[5 + g], 2) == \"02\") {\n      var D = i(c, v[5 + g]);\n      y.nonce = { hex: D }, g++;\n    }\n    if (v.length > 5 + g && c.substr(v[5 + g], 2) == \"a0\") {\n      var A = s(c, v[5 + g]);\n      A = \"30\" + A.substr(2), pGeneralNames = t.getGeneralNames(A);\n      var I = pGeneralNames[0].dn;\n      y.tsa = I, g++;\n    }\n    if (v.length > 5 + g && c.substr(v[5 + g], 2) == \"a1\") {\n      var m = s(c, v[5 + g]);\n      m = \"30\" + m.substr(2);\n      var E = t.getExtParamArray(m);\n      y.ext = E, g++;\n    }\n    return y;\n  }, this.getAccuracy = function(c) {\n    for (var y = {}, v = h(c, 0), o = 0; o < v.length; o++) {\n      var l = c.substr(v[o], 2), f = i(c, v[o]), d = parseInt(f, 16);\n      l == \"02\" ? y.seconds = d : l == \"80\" ? y.millis = d : l == \"81\" && (y.micros = d);\n    }\n    return y;\n  }, this.getMessageImprint = function(c) {\n    if (c.substr(0, 2) != \"30\")\n      throw new Error(\"head of messageImprint hex shall be x30\");\n    var y = {};\n    h(c, 0);\n    var v = n(c, 0, [0, 0]), o = i(c, v), l = r.hextooidstr(o), f = a.asn1.x509.OID.oid2name(l);\n    if (f == \"\")\n      throw new Error(\"hashAlg name undefined: \" + l);\n    var d = f, g = n(c, 0, [1]);\n    return y.alg = d, y.hash = i(c, g), y;\n  }, this.getPKIStatusInfo = function(c) {\n    var y = {}, v = h(c, 0), o = 0;\n    try {\n      var l = i(c, v[0]), f = parseInt(l, 16);\n      y.status = u[f];\n    } catch {\n    }\n    if (v.length > 1 && c.substr(v[1], 2) == \"30\") {\n      var d = s(c, v[1]);\n      y.statusstr = this.getPKIFreeText(d), o++;\n    }\n    if (v.length > o && c.substr(v[1 + o], 2) == \"03\") {\n      var g = s(c, v[1 + o]);\n      y.failinfo = this.getPKIFailureInfo(g);\n    }\n    return y;\n  }, this.getPKIFreeText = function(c) {\n    for (var y = [], v = h(c, 0), o = 0; o < v.length; o++)\n      y.push(r.getString(c, v[o]));\n    return y;\n  }, this.getPKIFailureInfo = function(c) {\n    var y = r.getInt(c, 0);\n    return p[y] != null ? p[y] : y;\n  }, this.getTimeStampReq = function(c) {\n    var y = {};\n    y.certreq = !1;\n    var v = h(c, 0);\n    if (v.length < 2)\n      throw new Error(\"TimeStampReq must have at least 2 items\");\n    var o = s(c, v[1]);\n    y.messageImprint = a.asn1.tsp.TSPUtil.parseMessageImprint(o);\n    for (var l = 2; l < v.length; l++) {\n      var f = v[l], d = c.substr(f, 2);\n      if (d == \"06\") {\n        var g = i(c, f);\n        y.policy = r.hextooidstr(g);\n      }\n      d == \"02\" && (y.nonce = i(c, f)), d == \"01\" && (y.certreq = !0);\n    }\n    return y;\n  };\n};\n(typeof a > \"u\" || !a) && (a = {});\n(typeof a.asn1 > \"u\" || !a.asn1) && (a.asn1 = {});\n(typeof a.asn1.cades > \"u\" || !a.asn1.cades) && (a.asn1.cades = {});\na.asn1.cades.SignaturePolicyIdentifier = function(e) {\n  var t = a, r = t.asn1, i = r.cades, s = i.SignaturePolicyId;\n  i.SignaturePolicyIdentifier.superclass.constructor.call(this), this.typeOid = \"1.2.840.113549.1.9.16.2.15\", this.params = null, this.getValueArray = function() {\n    return [new s(this.params)];\n  }, this.setByParam = function(n) {\n    this.params = n;\n  }, e != null && this.setByParam(e);\n};\nN(a.asn1.cades.SignaturePolicyIdentifier, a.asn1.cms.Attribute);\na.asn1.cades.SignaturePolicyId = function(e) {\n  var t = a, r = t.asn1, i = r.DERSequence, s = r.DERObjectIdentifier, n = r.x509;\n  n.AlgorithmIdentifier;\n  var h = r.cades, u = h.SignaturePolicyId, p = h.OtherHashAlgAndValue;\n  u.superclass.constructor.call(this), this.params = null, this.tohex = function() {\n    var c = this.params, y = [];\n    y.push(new s(c.oid)), y.push(new p(c));\n    var v = new i({ array: y });\n    return v.tohex();\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, this.setByParam = function(c) {\n    this.params = c;\n  }, e != null && this.setByParam(e);\n};\nN(a.asn1.cades.SignaturePolicyId, a.asn1.ASN1Object);\na.asn1.cades.OtherHashAlgAndValue = function(e) {\n  var t = Error, r = a, i = r.asn1, s = i.DERSequence, n = i.DEROctetString, h = i.x509, u = h.AlgorithmIdentifier, p = i.cades, c = p.OtherHashAlgAndValue;\n  c.superclass.constructor.call(this), this.params = null, this.tohex = function() {\n    var y = this.params;\n    if (y.alg == null)\n      throw new t(\"property 'alg' not specified\");\n    if (y.hash == null && y.cert == null)\n      throw new t(\"property 'hash' nor 'cert' not specified\");\n    var v = null;\n    if (y.hash != null)\n      v = y.hash;\n    else if (y.cert != null) {\n      if (typeof y.cert != \"string\")\n        throw new t(\"cert not string\");\n      var o = y.cert;\n      y.cert.indexOf(\"-----BEGIN\") != -1 && (o = ie(y.cert)), v = a.crypto.Util.hashHex(o, y.alg);\n    }\n    var l = [];\n    l.push(new u({ name: y.alg })), l.push(new n({ hex: v }));\n    var f = new s({ array: l });\n    return f.tohex();\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, e != null && this.setByParam(e);\n};\nN(a.asn1.cades.OtherHashAlgAndValue, a.asn1.ASN1Object);\na.asn1.cades.OtherHashValue = function(e) {\n  a.asn1.cades.OtherHashValue.superclass.constructor.call(this);\n  var t = Error, r = a;\n  r.lang.String.isHex;\n  var i = r.asn1, s = i.DEROctetString;\n  r.crypto.Util.hashHex, this.params = null, this.tohex = function() {\n    var n = this.params;\n    if (n.hash == null && n.cert == null)\n      throw new t(\"hash or cert not specified\");\n    var h = null;\n    if (n.hash != null)\n      h = n.hash;\n    else if (n.cert != null) {\n      if (typeof n.cert != \"string\")\n        throw new t(\"cert not string\");\n      var u = n.cert;\n      n.cert.indexOf(\"-----BEGIN\") != -1 && (u = ie(n.cert)), h = a.crypto.Util.hashHex(u, \"sha1\");\n    }\n    return new s({ hex: h }).tohex();\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, e != null && this.setByParam(e);\n};\nN(a.asn1.cades.OtherHashValue, a.asn1.ASN1Object);\na.asn1.cades.SignatureTimeStamp = function(e) {\n  var t = Error, r = a, i = r.lang.String.isHex, s = r.asn1, n = s.ASN1Object;\n  s.x509;\n  var h = s.cades;\n  h.SignatureTimeStamp.superclass.constructor.call(this), this.typeOid = \"1.2.840.113549.1.9.16.2.14\", this.params = null, this.getValueArray = function() {\n    var u = this.params;\n    if (u.tst != null)\n      if (i(u.tst)) {\n        var p = new n();\n        return p.hTLV = u.tst, [p];\n      } else {\n        if (u.tst instanceof n)\n          return [u.tst];\n        throw new t(\"params.tst has wrong value\");\n      }\n    else if (u.res != null) {\n      var c = u.res;\n      if (c instanceof n && (c = c.tohex()), typeof c != \"string\" || !i(c))\n        throw new t(\"params.res has wrong value\");\n      V.getTLVbyList(c, 0, [1]);\n      var p = new n();\n      return p.hTLV = u.tst, [p];\n    }\n  }, e != null && this.setByParam(e);\n};\nN(a.asn1.cades.SignatureTimeStamp, a.asn1.cms.Attribute);\na.asn1.cades.CompleteCertificateRefs = function(e) {\n  var t = Error, r = a, i = r.asn1, s = i.DERSequence, n = i.cades, h = n.OtherCertID, u = r.lang.String.isHex;\n  n.CompleteCertificateRefs.superclass.constructor.call(this), this.typeOid = \"1.2.840.113549.1.9.16.2.21\", this.params = null, this.getValueArray = function() {\n    for (var p = this.params, c = [], y = 0; y < p.array.length; y++) {\n      var v = p.array[y];\n      if (typeof v == \"string\")\n        if (v.indexOf(\"-----BEGIN\") != -1)\n          v = { cert: v };\n        else if (u(v))\n          v = { hash: v };\n        else\n          throw new t(\"unsupported value: \" + v);\n      p.alg != null && v.alg == null && (v.alg = p.alg), p.hasis != null && v.hasis == null && (v.hasis = p.hasis);\n      var o = new h(v);\n      c.push(o);\n    }\n    var l = new s({ array: c });\n    return [l];\n  }, e != null && this.setByParam(e);\n};\nN(a.asn1.cades.CompleteCertificateRefs, a.asn1.cms.Attribute);\na.asn1.cades.OtherCertID = function(e) {\n  var t = a, r = t.asn1, i = r.DERSequence, s = r.cms, n = s.IssuerSerial, h = r.cades, u = h.OtherHashValue, p = h.OtherHashAlgAndValue;\n  h.OtherCertID.superclass.constructor.call(this), this.params = e, this.tohex = function() {\n    var c = this.params;\n    typeof c == \"string\" && (c.indexOf(\"-----BEGIN\") != -1 ? c = { cert: c } : _isHex(c) && (c = { hash: c }));\n    var y = [], v = null;\n    if (c.alg != null ? v = new p(c) : v = new u(c), y.push(v), c.cert != null && c.hasis == !0 || c.issuer != null && c.serial != null) {\n      var o = new n(c);\n      y.push(o);\n    }\n    var l = new i({ array: y });\n    return l.tohex();\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, e != null && this.setByParam(e);\n};\nN(a.asn1.cades.OtherCertID, a.asn1.ASN1Object);\na.asn1.cades.OtherHash = function(e) {\n  var t = a, r = t.asn1;\n  r.cms;\n  var i = r.cades, s = i.OtherHashAlgAndValue, n = i.OtherHashValue;\n  t.crypto.Util.hashHex;\n  var h = t.lang.String.isHex;\n  i.OtherHash.superclass.constructor.call(this), this.params = null, this.tohex = function() {\n    var u = this.params;\n    typeof u == \"string\" && (u.indexOf(\"-----BEGIN\") != -1 ? u = { cert: u } : h(u) && (u = { hash: u }));\n    var p = null;\n    return u.alg != null ? p = new s(u) : p = new n(u), p.tohex();\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, e != null && this.setByParam(e);\n};\nN(a.asn1.cades.OtherHash, a.asn1.ASN1Object);\na.asn1.cades.CAdESUtil = new function() {\n}();\na.asn1.cades.CAdESUtil.parseSignedDataForAddingUnsigned = function(e) {\n  var t = new a.asn1.cms.CMSParser(), r = t.getCMSSignedData(e);\n  return r;\n};\na.asn1.cades.CAdESUtil.parseSignerInfoForAddingUnsigned = function(e, t, r) {\n  var i = V, s = i.getChildIdx, n = i.getTLV, h = i.getV, u = a, p = u.asn1, c = p.ASN1Object, y = p.cms, v = y.AttributeList, o = y.SignerInfo, l = {}, f = s(e, t);\n  if (f.length != 6)\n    throw \"not supported items for SignerInfo (!=6)\";\n  var d = f.shift();\n  l.version = n(e, d);\n  var g = f.shift();\n  l.si = n(e, g);\n  var S = f.shift();\n  l.digalg = n(e, S);\n  var b = f.shift();\n  l.sattrs = n(e, b);\n  var D = f.shift();\n  l.sigalg = n(e, D);\n  var A = f.shift();\n  l.sig = n(e, A), l.sigval = h(e, A);\n  var I = null;\n  return l.obj = new o(), I = new c(), I.hTLV = l.version, l.obj.dCMSVersion = I, I = new c(), I.hTLV = l.si, l.obj.dSignerIdentifier = I, I = new c(), I.hTLV = l.digalg, l.obj.dDigestAlgorithm = I, I = new c(), I.hTLV = l.sattrs, l.obj.dSignedAttrs = I, I = new c(), I.hTLV = l.sigalg, l.obj.dSigAlg = I, I = new c(), I.hTLV = l.sig, l.obj.dSig = I, l.obj.dUnsignedAttrs = new v(), l;\n};\n(typeof a.asn1.csr > \"u\" || !a.asn1.csr) && (a.asn1.csr = {});\na.asn1.csr.CertificationRequest = function(e) {\n  var t = a, r = t.asn1, i = r.DERBitString, s = r.DERSequence, n = r.csr;\n  r.x509;\n  var h = n.CertificationRequestInfo;\n  n.CertificationRequest.superclass.constructor.call(this), this.setByParam = function(u) {\n    this.params = u;\n  }, this.sign = function() {\n    var u = new h(this.params).tohex(), p = new a.crypto.Signature({ alg: this.params.sigalg });\n    p.init(this.params.sbjprvkey), p.updateHex(u);\n    var c = p.sign();\n    this.params.sighex = c;\n  }, this.getPEM = function() {\n    return de(this.tohex(), \"CERTIFICATE REQUEST\");\n  }, this.tohex = function() {\n    var u = this.params, p = new a.asn1.csr.CertificationRequestInfo(this.params), c = new a.asn1.x509.AlgorithmIdentifier({ name: u.sigalg });\n    if (u.sighex == null && u.sbjprvkey != null && this.sign(), u.sighex == null)\n      throw new Error(\"sighex or sbjprvkey parameter not defined\");\n    var y = new i({ hex: \"00\" + u.sighex }), v = new s({ array: [p, c, y] });\n    return v.tohex();\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, e !== void 0 && this.setByParam(e);\n};\nN(a.asn1.csr.CertificationRequest, a.asn1.ASN1Object);\na.asn1.csr.CertificationRequestInfo = function(e) {\n  var t = a, r = t.asn1;\n  r.DERBitString;\n  var i = r.DERSequence, s = r.DERInteger, n = r.DERUTF8String, h = r.DERTaggedObject, u = r.ASN1Util.newObject, p = r.csr, c = r.x509, y = c.X500Name, v = c.Extensions, o = c.SubjectPublicKeyInfo;\n  p.AttributeList, p.CertificationRequestInfo.superclass.constructor.call(this), this.params = null, this.setByParam = function(f) {\n    f != null && (this.params = f);\n  }, this.tohex = function() {\n    var f = this.params, d = [];\n    if (d.push(new s({ int: 0 })), d.push(new y(f.subject)), d.push(new o(k.getKey(f.sbjpubkey))), f.attrs != null) {\n      var g = l(f.attrs), S = u({ tag: { tage: \"a0\", obj: g } });\n      d.push(S);\n    } else if (f.extreq != null) {\n      var b = new v(f.extreq), S = u({ tag: { tage: \"a0\", obj: { seq: [{ oid: \"1.2.840.113549.1.9.14\" }, { set: [b] }] } } });\n      d.push(S);\n    } else\n      d.push(new h({ tag: \"a0\", explicit: !1, obj: new n({ str: \"\" }) }));\n    var D = new i({ array: d });\n    return D.tohex();\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  };\n  function l(f) {\n    for (var d = Error, g = a.asn1.x509.Extensions, S = [], b = 0; b < f.length; b++) {\n      var D = f[b], A = D.attr;\n      if (A == \"extensionRequest\") {\n        var I = new g(D.ext), m = { seq: [{ oid: \"1.2.840.113549.1.9.14\" }, { set: [I] }] };\n        S.push(m);\n      } else if (A == \"unstructuredName\") {\n        var m = { seq: [{ oid: \"1.2.840.113549.1.9.2\" }, { set: D.names }] };\n        S.push(m);\n      } else if (A == \"challengePassword\") {\n        var m = { seq: [{ oid: \"1.2.840.113549.1.9.7\" }, { set: [{ utf8str: D.password }] }] };\n        S.push(m);\n      } else\n        throw new d(\"unknown CSR attribute\");\n    }\n    return { set: S };\n  }\n  e != null && this.setByParam(e);\n};\nN(a.asn1.csr.CertificationRequestInfo, a.asn1.ASN1Object);\na.asn1.csr.AttributeList = function(e) {\n};\nN(a.asn1.csr.AttributeList, a.asn1.ASN1Object);\na.asn1.csr.CSRUtil = new function() {\n}();\na.asn1.csr.CSRUtil.newCSRPEM = function(e) {\n  var t = a.asn1.csr, r = new t.CertificationRequest(e), i = r.getPEM();\n  return i;\n};\na.asn1.csr.CSRUtil.getParam = function(e, t) {\n  var r = V, i = r.getV, s = r.getIdxbyList, n = r.getTLVbyList, h = r.getTLVbyListEx, u = r.getVbyListEx, p = function(b) {\n    var D = s(b, 0, [0, 3, 0, 0], \"06\");\n    return i(b, D) != \"2a864886f70d01090e\" ? null : n(b, 0, [0, 3, 0, 1, 0], \"30\");\n  }, c = {};\n  if (e.indexOf(\"-----BEGIN CERTIFICATE REQUEST\") == -1)\n    throw new Error(\"argument is not PEM file\");\n  var y = ie(e, \"CERTIFICATE REQUEST\");\n  t && (c.tbs = n(y, 0, [0]));\n  try {\n    var v = h(y, 0, [0, 1]);\n    if (v == \"3000\")\n      c.subject = {};\n    else {\n      var d = new L();\n      c.subject = d.getX500Name(v);\n    }\n  } catch {\n  }\n  var o = h(y, 0, [0, 2]), l = k.getKey(o, null, \"pkcs8pub\");\n  c.sbjpubkey = k.getPEM(l, \"PKCS8PUB\");\n  var f = p(y), d = new L();\n  f != null && (c.extreq = d.getExtParamArray(f));\n  try {\n    var g = h(y, 0, [1], \"30\"), d = new L();\n    c.sigalg = d.getAlgorithmIdentifierName(g);\n  } catch {\n  }\n  try {\n    var S = u(y, 0, [2]);\n    c.sighex = S;\n  } catch {\n  }\n  return c;\n};\na.asn1.csr.CSRUtil.verifySignature = function(e) {\n  try {\n    var t = null;\n    if (typeof e == \"string\" && e.indexOf(\"-----BEGIN CERTIFICATE REQUEST\") != -1 ? t = a.asn1.csr.CSRUtil.getParam(e, !0) : typeof e == \"object\" && e.sbjpubkey != null && e.sigalg != null && e.sighex != null && e.tbs != null && (t = e), t == null)\n      return !1;\n    var r = new a.crypto.Signature({ alg: t.sigalg });\n    return r.init(t.sbjpubkey), r.updateHex(t.tbs), r.verify(t.sighex);\n  } catch (i) {\n    return alert(i), !1;\n  }\n};\n(typeof a > \"u\" || !a) && (a = {});\n(typeof a.asn1 > \"u\" || !a.asn1) && (a.asn1 = {});\n(typeof a.asn1.ocsp > \"u\" || !a.asn1.ocsp) && (a.asn1.ocsp = {});\na.asn1.ocsp.DEFAULT_HASH = \"sha1\";\na.asn1.ocsp.OCSPResponse = function(e) {\n  a.asn1.ocsp.OCSPResponse.superclass.constructor.call(this), a.asn1.DEREnumerated;\n  var t = a.asn1.ASN1Util.newObject, r = a.asn1.ocsp.ResponseBytes, i = [\"successful\", \"malformedRequest\", \"internalError\", \"tryLater\", \"_not_used_\", \"sigRequired\", \"unauthorized\"];\n  this.params = null, this._getStatusCode = function() {\n    var s = this.params.resstatus;\n    return typeof s == \"number\" ? s : typeof s != \"string\" ? -1 : i.indexOf(s);\n  }, this.setByParam = function(s) {\n    this.params = s;\n  }, this.tohex = function() {\n    var s = this.params, n = this._getStatusCode();\n    if (n == -1)\n      throw new Error(\"responseStatus not supported: \" + s.resstatus);\n    if (n != 0)\n      return t({ seq: [{ enum: { int: n } }] }).tohex();\n    var h = new r(s);\n    return t({ seq: [{ enum: { int: 0 } }, { tag: { tag: \"a0\", explicit: !0, obj: h } }] }).tohex();\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, e !== void 0 && this.setByParam(e);\n};\nN(a.asn1.ocsp.OCSPResponse, a.asn1.ASN1Object);\na.asn1.ocsp.ResponseBytes = function(e) {\n  a.asn1.ocsp.ResponseBytes.superclass.constructor.call(this);\n  var t = a.asn1, r = t.DERSequence, i = t.DERObjectIdentifier, s = t.DEROctetString, n = t.ocsp.BasicOCSPResponse;\n  this.params = null, this.setByParam = function(h) {\n    this.params = h;\n  }, this.tohex = function() {\n    var h = this.params;\n    if (h.restype != \"ocspBasic\")\n      throw new Error(\"not supported responseType: \" + h.restype);\n    var u = new n(h), p = [];\n    p.push(new i({ name: \"ocspBasic\" })), p.push(new s({ hex: u.tohex() }));\n    var c = new r({ array: p });\n    return c.tohex();\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, e !== void 0 && this.setByParam(e);\n};\nN(a.asn1.ocsp.ResponseBytes, a.asn1.ASN1Object);\na.asn1.ocsp.BasicOCSPResponse = function(e) {\n  a.asn1.ocsp.BasicOCSPResponse.superclass.constructor.call(this);\n  var t = Error, r = a.asn1, i = r.ASN1Object, s = r.DERSequence;\n  r.DERGeneralizedTime;\n  var n = r.DERTaggedObject, h = r.DERBitString;\n  r.x509.Extensions;\n  var u = r.x509.AlgorithmIdentifier, p = r.ocsp;\n  p.ResponderID, _SingleResponseList = p.SingleResponseList, _ResponseData = p.ResponseData, this.params = null, this.setByParam = function(c) {\n    this.params = c;\n  }, this.sign = function() {\n    var c = this.params, y = c.tbsresp.tohex(), v = new a.crypto.Signature({ alg: c.sigalg });\n    v.init(c.reskey), v.updateHex(y), c.sighex = v.sign();\n  }, this.tohex = function() {\n    var c = this.params;\n    c.tbsresp == null && (c.tbsresp = new _ResponseData(c)), c.sighex == null && c.reskey != null && this.sign();\n    var y = [];\n    if (y.push(c.tbsresp), y.push(new u({ name: c.sigalg })), y.push(new h({ hex: \"00\" + c.sighex })), c.certs != null && c.certs.length != null) {\n      for (var v = [], o = 0; o < c.certs.length; o++) {\n        var l = c.certs[o], f = null;\n        if (V.isASN1HEX(l))\n          f = l;\n        else if (l.match(/-----BEGIN/))\n          f = ie(l);\n        else\n          throw new t(\"certs[\" + o + \"] not hex or PEM\");\n        v.push(new i({ tlv: f }));\n      }\n      var d = new s({ array: v });\n      y.push(new n({ tag: \"a0\", explicit: !0, obj: d }));\n    }\n    var g = new s({ array: y });\n    return g.tohex();\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, e !== void 0 && this.setByParam(e);\n};\nN(a.asn1.ocsp.BasicOCSPResponse, a.asn1.ASN1Object);\na.asn1.ocsp.ResponseData = function(e) {\n  a.asn1.ocsp.ResponseData.superclass.constructor.call(this);\n  var t = a.asn1, r = t.DERSequence, i = t.DERGeneralizedTime, s = t.DERTaggedObject, n = t.x509.Extensions, h = t.ocsp, u = h.ResponderID;\n  _SingleResponseList = h.SingleResponseList, this.params = null, this.tohex = function() {\n    var p = this.params;\n    p.respid != null, p.prodat != null, p.array != null;\n    var c = [];\n    if (c.push(new u(p.respid)), c.push(new i(p.prodat)), c.push(new _SingleResponseList(p.array)), p.ext != null) {\n      var y = new n(p.ext);\n      c.push(new s({ tag: \"a1\", explicit: !0, obj: y }));\n    }\n    var v = new r({ array: c });\n    return v.tohex();\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, this.setByParam = function(p) {\n    this.params = p;\n  }, e !== void 0 && this.setByParam(e);\n};\nN(a.asn1.ocsp.ResponseData, a.asn1.ASN1Object);\na.asn1.ocsp.ResponderID = function(e) {\n  a.asn1.ocsp.ResponderID.superclass.constructor.call(this);\n  var t = a, r = t.asn1, i = r.ASN1Util.newObject, s = r.x509.X500Name, n = t.lang.String.isHex, h = Error;\n  this.params = null, this.tohex = function() {\n    var u = this.params;\n    if (u.key != null) {\n      var p = null;\n      if (typeof u.key == \"string\") {\n        if (n(u.key) && (p = u.key), u.key.match(/-----BEGIN CERTIFICATE/)) {\n          var c = new L(u.key), y = c.getExtSubjectKeyIdentifier();\n          y != null && (p = y.kid.hex);\n        }\n      } else if (u.key instanceof L) {\n        var y = u.key.getExtSubjectKeyIdentifier();\n        y != null && (p = y.kid.hex);\n      }\n      if (p == null)\n        throw new h(\"wrong key member value\");\n      var v = i({ tag: { tag: \"a2\", explicit: !0, obj: { octstr: { hex: p } } } });\n      return v.tohex();\n    } else if (u.name != null) {\n      var o = null;\n      if (typeof u.name == \"string\" && u.name.match(/-----BEGIN CERTIFICATE/)) {\n        var c = new L(u.name);\n        o = c.getSubject();\n      } else\n        u.name instanceof L ? o = u.name.getSubject() : typeof u.name == \"object\" && (u.name.array != null || u.name.str != null) && (o = u.name);\n      if (o == null)\n        throw new h(\"wrong name member value\");\n      var v = i({ tag: { tag: \"a1\", explicit: !0, obj: new s(o) } });\n      return v.tohex();\n    }\n    throw new h(\"key or name not specified\");\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, this.setByParam = function(u) {\n    this.params = u;\n  }, e !== void 0 && this.setByParam(e);\n};\nN(a.asn1.ocsp.ResponderID, a.asn1.ASN1Object);\na.asn1.ocsp.SingleResponseList = function(e) {\n  a.asn1.ocsp.SingleResponseList.superclass.constructor.call(this);\n  var t = a.asn1, r = t.DERSequence, i = t.ocsp.SingleResponse;\n  this.params = null, this.tohex = function() {\n    var s = this.params;\n    if (typeof s != \"object\" || s.length == null)\n      throw new Error(\"params not specified properly\");\n    for (var n = [], h = 0; h < s.length; h++)\n      n.push(new i(s[h]));\n    var u = new r({ array: n });\n    return u.tohex();\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, this.setByParam = function(s) {\n    this.params = s;\n  }, e !== void 0 && this.setByParam(e);\n};\nN(a.asn1.ocsp.SingleResponseList, a.asn1.ASN1Object);\na.asn1.ocsp.SingleResponse = function(e) {\n  var t = Error, r = a, i = r.asn1, s = i.DERSequence, n = i.DERGeneralizedTime, h = i.DERTaggedObject, u = i.ocsp, p = u.CertID, c = u.CertStatus, y = i.x509, v = y.Extensions;\n  u.SingleResponse.superclass.constructor.call(this), this.params = null, this.tohex = function() {\n    var o = this.params, l = [];\n    if (o.certid == null)\n      throw new t(\"certid unspecified\");\n    if (o.status == null)\n      throw new t(\"status unspecified\");\n    if (o.thisupdate == null)\n      throw new t(\"thisupdate unspecified\");\n    if (l.push(new p(o.certid)), l.push(new c(o.status)), l.push(new n(o.thisupdate)), o.nextupdate != null) {\n      var f = new n(o.nextupdate);\n      l.push(new h({ tag: \"a0\", explicit: !0, obj: f }));\n    }\n    if (o.ext != null) {\n      var d = new v(o.ext);\n      l.push(new h({ tag: \"a1\", explicit: !0, obj: d }));\n    }\n    var g = new s({ array: l });\n    return g.tohex();\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, this.setByParam = function(o) {\n    this.params = o;\n  }, e !== void 0 && this.setByParam(e);\n};\nN(a.asn1.ocsp.SingleResponse, a.asn1.ASN1Object);\na.asn1.ocsp.CertID = function(e) {\n  var t = a, r = t.asn1, i = r.DEROctetString, s = r.DERInteger, n = r.DERSequence, h = r.x509, u = h.AlgorithmIdentifier, p = r.ocsp;\n  p.DEFAULT_HASH;\n  var c = t.crypto, y = c.Util.hashHex, v = L, o = V, l = o.getVbyList;\n  p.CertID.superclass.constructor.call(this), this.DEFAULT_HASH = \"sha1\", this.params = null, this.setByValue = function(f, d, g, S) {\n    S == null && (S = this.DEFAULT_HASH), this.params = { alg: S, issname: f, isskey: d, sbjsn: g };\n  }, this.setByCert = function(f, d, g) {\n    g == null && (g = this.DEFAULT_HASH), this.params = { alg: g, issuerCert: f, subjectCert: d };\n  }, this.getParamByCerts = function(f, d, g) {\n    g == null && (g = this.DEFAULT_HASH);\n    var S = new v(f), b = new v(d), D = y(S.getSubjectHex(), g), A = S.getPublicKeyHex(), I = y(l(A, 0, [1], \"03\", !0), g), m = b.getSerialNumberHex(), E = { alg: g, issname: D, isskey: I, sbjsn: m };\n    return E;\n  }, this.tohex = function() {\n    if (typeof this.params != \"object\")\n      throw new Error(\"params not set\");\n    var f = this.params, d, g, S, b;\n    if (f.alg == null ? b = this.DEFAULT_HASH : b = f.alg, f.issuerCert != null && f.subjectCert != null) {\n      var D = this.getParamByCerts(f.issuerCert, f.subjectCert, b);\n      d = D.issname, g = D.isskey, S = D.sbjsn;\n    } else if (f.issname != null && f.isskey != null && f.sbjsn != null)\n      d = f.issname, g = f.isskey, S = f.sbjsn;\n    else\n      throw new Error(\"required param members not defined\");\n    var A = new u({ name: b }), I = new i({ hex: d }), m = new i({ hex: g }), E = new s({ hex: S }), w = new n({ array: [A, I, m, E] });\n    return this.hTLV = w.tohex(), this.hTLV;\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, e !== void 0 && this.setByParam(e);\n};\nN(a.asn1.ocsp.CertID, a.asn1.ASN1Object);\na.asn1.ocsp.CertStatus = function(e) {\n  a.asn1.ocsp.CertStatus.superclass.constructor.call(this), this.params = null, this.tohex = function() {\n    var t = this.params;\n    if (t.status == \"good\")\n      return \"8000\";\n    if (t.status == \"unknown\")\n      return \"8200\";\n    if (t.status == \"revoked\") {\n      var r = [{ gentime: { str: t.time } }];\n      t.reason != null && r.push({ tag: { tag: \"a0\", explicit: !0, obj: { enum: { int: t.reason } } } });\n      var i = { tag: \"a1\", explicit: !1, obj: { seq: r } };\n      return a.asn1.ASN1Util.newObject({ tag: i }).tohex();\n    }\n    throw new Error(\"bad status\");\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, this.setByParam = function(t) {\n    this.params = t;\n  }, e !== void 0 && this.setByParam(e);\n};\nN(a.asn1.ocsp.CertStatus, a.asn1.ASN1Object);\na.asn1.ocsp.Request = function(e) {\n  var t = a, r = t.asn1, i = r.DERSequence, s = r.ocsp;\n  if (s.Request.superclass.constructor.call(this), this.dReqCert = null, this.dExt = null, this.tohex = function() {\n    var h = [];\n    if (this.dReqCert === null)\n      throw \"reqCert not set\";\n    h.push(this.dReqCert);\n    var u = new i({ array: h });\n    return this.hTLV = u.tohex(), this.hTLV;\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, typeof e < \"u\") {\n    var n = new s.CertID(e);\n    this.dReqCert = n;\n  }\n};\nN(a.asn1.ocsp.Request, a.asn1.ASN1Object);\na.asn1.ocsp.TBSRequest = function(e) {\n  var t = a, r = t.asn1, i = r.DERSequence, s = r.ocsp;\n  s.TBSRequest.superclass.constructor.call(this), this.version = 0, this.dRequestorName = null, this.dRequestList = [], this.dRequestExt = null, this.setRequestListByParam = function(n) {\n    for (var h = [], u = 0; u < n.length; u++) {\n      var p = new s.Request(n[0]);\n      h.push(p);\n    }\n    this.dRequestList = h;\n  }, this.tohex = function() {\n    var n = [];\n    if (this.version !== 0)\n      throw \"not supported version: \" + this.version;\n    if (this.dRequestorName !== null)\n      throw \"requestorName not supported\";\n    var h = new i({ array: this.dRequestList });\n    if (n.push(h), this.dRequestExt !== null)\n      throw \"requestExtensions not supported\";\n    var u = new i({ array: n });\n    return this.hTLV = u.tohex(), this.hTLV;\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, e !== void 0 && e.reqList !== void 0 && this.setRequestListByParam(e.reqList);\n};\nN(a.asn1.ocsp.TBSRequest, a.asn1.ASN1Object);\na.asn1.ocsp.OCSPRequest = function(e) {\n  var t = a, r = t.asn1, i = r.DERSequence, s = r.ocsp;\n  if (s.OCSPRequest.superclass.constructor.call(this), this.dTbsRequest = null, this.dOptionalSignature = null, this.tohex = function() {\n    var h = [];\n    if (this.dTbsRequest !== null)\n      h.push(this.dTbsRequest);\n    else\n      throw \"tbsRequest not set\";\n    if (this.dOptionalSignature !== null)\n      throw \"optionalSignature not supported\";\n    var u = new i({ array: h });\n    return this.hTLV = u.tohex(), this.hTLV;\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, e !== void 0 && e.reqList !== void 0) {\n    var n = new s.TBSRequest(e);\n    this.dTbsRequest = n;\n  }\n};\nN(a.asn1.ocsp.OCSPRequest, a.asn1.ASN1Object);\na.asn1.ocsp.OCSPUtil = {};\na.asn1.ocsp.OCSPUtil.getRequestHex = function(e, t, r) {\n  var i = a, s = i.asn1, n = s.ocsp;\n  r === void 0 && (r = n.DEFAULT_HASH);\n  var h = { alg: r, issuerCert: e, subjectCert: t }, u = new n.OCSPRequest({ reqList: [h] });\n  return u.tohex();\n};\na.asn1.ocsp.OCSPUtil.getOCSPResponseInfo = function(e) {\n  var t = V, r = t.getVbyList, i = t.getVbyListEx, s = t.getIdxbyList;\n  t.getIdxbyListEx;\n  var n = t.getV, h = {};\n  try {\n    var u = i(e, 0, [0], \"0a\");\n    h.responseStatus = parseInt(u, 16);\n  } catch {\n  }\n  if (h.responseStatus !== 0)\n    return h;\n  try {\n    var p = s(e, 0, [1, 0, 1, 0, 0, 2, 0, 1]);\n    e.substr(p, 2) === \"80\" ? h.certStatus = \"good\" : e.substr(p, 2) === \"a1\" ? (h.certStatus = \"revoked\", h.revocationTime = W(r(e, p, [0]))) : e.substr(p, 2) === \"82\" && (h.certStatus = \"unknown\");\n  } catch {\n  }\n  try {\n    var c = s(e, 0, [1, 0, 1, 0, 0, 2, 0, 2]);\n    h.thisUpdate = W(n(e, c));\n  } catch {\n  }\n  try {\n    var y = s(e, 0, [1, 0, 1, 0, 0, 2, 0, 3]);\n    e.substr(y, 2) === \"a0\" && (h.nextUpdate = W(r(e, y, [0])));\n  } catch {\n  }\n  return h;\n};\na.asn1.ocsp.OCSPParser = function() {\n  var e = Error, t = L, r = new t(), i = V, s = i.getV, n = i.getTLV, h = i.getIdxbyList, u = i.getVbyList, p = i.getTLVbyList, c = i.getVbyListEx, y = i.getTLVbyListEx, v = i.getChildIdx;\n  this.getOCSPRequest = function(o) {\n    var l = v(o, 0);\n    if (l.length != 1 && l.length != 2)\n      throw new e(\"wrong number elements: \" + l.length);\n    var f = this.getTBSRequest(n(o, l[0]));\n    return f;\n  }, this.getTBSRequest = function(o) {\n    var l = {}, f = y(o, 0, [0], \"30\");\n    l.array = this.getRequestList(f);\n    var d = y(o, 0, [\"[2]\", 0], \"30\");\n    return d != null && (l.ext = r.getExtParamArray(d)), l;\n  }, this.getRequestList = function(o) {\n    for (var l = [], f = v(o, 0), d = 0; d < f.length; d++) {\n      var o = n(o, f[d]);\n      l.push(this.getRequest(o));\n    }\n    return l;\n  }, this.getRequest = function(o) {\n    var l = v(o, 0);\n    if (l.length != 1 && l.length != 2)\n      throw new e(\"wrong number elements: \" + l.length);\n    var f = this.getCertID(n(o, l[0]));\n    if (l.length == 2) {\n      var d = h(o, 0, [1, 0]);\n      f.ext = r.getExtParamArray(n(o, d));\n    }\n    return f;\n  }, this.getCertID = function(o) {\n    var l = v(o, 0);\n    if (l.length != 4)\n      throw new e(\"wrong number elements: \" + l.length);\n    var f = new t(), d = {};\n    return d.alg = f.getAlgorithmIdentifierName(n(o, l[0])), d.issname = s(o, l[1]), d.isskey = s(o, l[2]), d.sbjsn = s(o, l[3]), d;\n  }, this.getOCSPResponse = function(o) {\n    var l = v(o, 0), f, d = s(o, l[0]), g = parseInt(d);\n    if (l.length == 1)\n      return { resstatus: g };\n    var S = p(o, 0, [1, 0]);\n    return f = this.getResponseBytes(S), f.resstatus = g, f;\n  }, this.getResponseBytes = function(o) {\n    var l = v(o, 0), f, d = p(o, 0, [1, 0]);\n    f = this.getBasicOCSPResponse(d);\n    var g = s(o, l[0]);\n    return f.restype = a.asn1.x509.OID.oid2name(ft(g)), f;\n  }, this.getBasicOCSPResponse = function(o) {\n    var l = v(o, 0), f;\n    f = this.getResponseData(n(o, l[0]));\n    var d = new L();\n    f.alg = d.getAlgorithmIdentifierName(n(o, l[1]));\n    var g = s(o, l[2]);\n    f.sighex = g.substr(2);\n    var S = c(o, 0, [\"[0]\"]);\n    if (S != null) {\n      for (var b = v(S, 0), D = [], A = 0; A < b.length; A++) {\n        var I = n(S, b[A]);\n        D.push(I);\n      }\n      f.certs = D;\n    }\n    return f;\n  }, this.getResponseData = function(o) {\n    var l = v(o, 0), f = l.length, d = {}, g = 0;\n    o.substr(l[0], 2) == \"a0\" && g++, d.respid = this.getResponderID(n(o, l[g++]));\n    var S = s(o, l[g++]);\n    if (d.prodat = W(S), d.array = this.getSingleResponseList(n(o, l[g++])), o.substr(l[f - 1], 2) == \"a1\") {\n      var b = p(o, l[f - 1], [0]), D = new L();\n      d.ext = D.getExtParamArray(b);\n    }\n    return d;\n  }, this.getResponderID = function(o) {\n    var l = {};\n    if (o.substr(0, 2) == \"a2\") {\n      var f = u(o, 0, [0]);\n      l.key = f;\n    }\n    if (o.substr(0, 2) == \"a1\") {\n      var d = p(o, 0, [0]), g = new L();\n      l.name = g.getX500Name(d);\n    }\n    return l;\n  }, this.getSingleResponseList = function(o) {\n    for (var l = v(o, 0), f = [], d = 0; d < l.length; d++) {\n      var g = this.getSingleResponse(n(o, l[d]));\n      f.push(g);\n    }\n    return f;\n  }, this.getSingleResponse = function(o) {\n    var l = v(o, 0), f = {}, d = this.getCertID(n(o, l[0]));\n    f.certid = d;\n    var g = this.getCertStatus(n(o, l[1]));\n    if (f.status = g, o.substr(l[2], 2) == \"18\") {\n      var S = s(o, l[2]);\n      f.thisupdate = W(S);\n    }\n    for (var b = 3; b < l.length; b++) {\n      if (o.substr(l[b], 2) == \"a0\") {\n        var D = u(o, l[b], [0], \"18\");\n        f.nextupdate = W(D);\n      }\n      if (o.substr(l[b], 2) == \"a1\") {\n        var A = new L(), I = p(o, 0, [b, 0]);\n        f.ext = A.getExtParamArray(I);\n      }\n    }\n    return f;\n  }, this.getCertStatus = function(o) {\n    var l = {};\n    if (o == \"8000\")\n      return { status: \"good\" };\n    if (o == \"8200\")\n      return { status: \"unknown\" };\n    if (o.substr(0, 2) == \"a1\") {\n      l.status = \"revoked\";\n      var f = u(o, 0, [0]), d = W(f);\n      l.time = d;\n    }\n    return l;\n  };\n};\nvar a;\n(typeof a > \"u\" || !a) && (a = {});\n(typeof a.lang > \"u\" || !a.lang) && (a.lang = {});\na.lang.String = function() {\n};\nfunction hn(e) {\n  for (var t = new Array(), r = 0; r < e.length; r++)\n    t[r] = e.charCodeAt(r);\n  return t;\n}\nfunction ot(e) {\n  for (var t = \"\", r = 0; r < e.length; r++) {\n    var i = e[r].toString(16);\n    i.length == 1 && (i = \"0\" + i), t = t + i;\n  }\n  return t;\n}\nfunction Ee(e) {\n  return ot(hn(e));\n}\nfunction Xe(e) {\n  return e = e.replace(/\\=/g, \"\"), e = e.replace(/\\+/g, \"-\"), e = e.replace(/\\//g, \"_\"), e;\n}\nfunction ut(e) {\n  return e.length % 4 == 2 ? e = e + \"==\" : e.length % 4 == 3 && (e = e + \"=\"), e = e.replace(/-/g, \"+\"), e = e.replace(/_/g, \"/\"), e;\n}\nfunction ae(e) {\n  return e.length % 2 == 1 && (e = \"0\" + e), Xe(_e(e));\n}\nfunction Y(e) {\n  return it(ut(e));\n}\nvar Je, we;\ntypeof Buffer == \"function\" ? (Je = function(e) {\n  return Xe(Buffer.from(e, \"utf8\").toString(\"base64\"));\n}, we = function(e) {\n  return Buffer.from(ut(e), \"base64\").toString(\"utf8\");\n}) : (Je = function(e) {\n  return ae(It(Bt(e)));\n}, we = function(e) {\n  return decodeURIComponent(Ct(Y(e)));\n});\nfunction ht(e) {\n  return It(Bt(e)).toLowerCase();\n}\nfunction W(e) {\n  try {\n    return decodeURIComponent(Ct(e));\n  } catch {\n    return null;\n  }\n}\nfunction fn(e) {\n  return W(cn(e));\n}\nfunction cn(e) {\n  for (var t = e.match(/.{1,2}/g), r = [], i = 0; i < t.length; i++) {\n    var s = parseInt(t[i], 16);\n    161 <= s && s <= 191 ? (r.push(\"c2\"), r.push(t[i])) : 192 <= s && s <= 255 ? (r.push(\"c3\"), r.push((s - 64).toString(16))) : r.push(t[i]);\n  }\n  return r.join(\"\");\n}\nfunction Ae(e) {\n  for (var t = \"\", r = 0; r < e.length - 1; r += 2)\n    t += String.fromCharCode(parseInt(e.substr(r, 2), 16));\n  return t;\n}\nfunction Pe(e) {\n  for (var t = \"\", r = 0; r < e.length; r++)\n    t += (\"0\" + e.charCodeAt(r).toString(16)).slice(-2);\n  return t;\n}\nfunction ln(e) {\n  return _e(e);\n}\nfunction dn(e, t) {\n  return e = e.replace(new RegExp(\"(.{\" + t + \"})\", \"g\"), `$1\\r\n`), e = e.replace(/\\s+$/, \"\"), e;\n}\nfunction pn(e) {\n  var t = e.replace(/[^0-9A-Za-z\\/+=]*/g, \"\"), r = it(t);\n  return r;\n}\nfunction de(e, t) {\n  return \"-----BEGIN \" + t + `-----\\r\n` + dn(ln(e), 64) + `\\r\n-----END ` + t + `-----\\r\n`;\n}\nfunction ie(e, t) {\n  if (e.indexOf(\"-----BEGIN \") == -1)\n    throw new Error(\"can't find PEM header\");\n  return t !== void 0 ? (e = e.replace(new RegExp(\"^[^]*-----BEGIN \" + t + \"-----\"), \"\"), e = e.replace(new RegExp(\"-----END \" + t + \"-----[^]*$\"), \"\")) : (e = e.replace(/^[^]*-----BEGIN [^-]+-----/, \"\"), e = e.replace(/-----END [^-]+-----[^]*$/, \"\")), pn(e);\n}\nfunction vn(e) {\n  var t, r, i, s, n, h, u, p, c, y;\n  if (e = yn(e), y = e.match(/^(\\d{4})(\\d\\d)(\\d\\d)(\\d\\d)(\\d\\d)(\\d\\d)(|\\.\\d+)Z$/), y)\n    return t = parseInt(y[1]), r = parseInt(y[2]) - 1, i = parseInt(y[3]), s = parseInt(y[4]), n = parseInt(y[5]), h = parseInt(y[6]), u = 0, p = y[7], p !== \"\" && (c = (p.substr(1) + \"00\").substr(0, 3), u = parseInt(c)), Date.UTC(t, r, i, s, n, h, u);\n  throw new Error(\"unsupported zulu format: \" + e);\n}\nfunction gn(e) {\n  return Math.round(vn(e) / 1e3);\n}\nfunction yn(e) {\n  return e.match(/^[0-9]{12}Z$/) || e.match(/^[0-9]{12}[.][0-9]*Z$/) ? e.match(/^[0-4]/) ? \"20\" + e : \"19\" + e : e;\n}\nfunction It(e) {\n  return e.replace(/%/g, \"\");\n}\nfunction Ct(e) {\n  return e.replace(/(..)/g, \"%$1\");\n}\nfunction vt(e) {\n  var t = \"malformed IPv6 address\";\n  if (!e.match(/^[0-9A-Fa-f:]+$/))\n    throw t;\n  e = e.toLowerCase();\n  var r = e.split(\":\").length - 1;\n  if (r < 2)\n    throw t;\n  var i = \":\".repeat(7 - r + 2);\n  e = e.replace(\"::\", i);\n  var s = e.split(\":\");\n  if (s.length != 8)\n    throw t;\n  for (var n = 0; n < 8; n++)\n    s[n] = (\"0000\" + s[n]).slice(-4);\n  return s.join(\"\");\n}\nfunction gt(e) {\n  if (!e.match(/^[0-9A-Fa-f]{32}$/))\n    throw new Error(\"malformed IPv6 address: \" + e);\n  e = e.toLowerCase();\n  var t = e.match(/.{1,4}/g);\n  t = t.map(function(s) {\n    return s.replace(/^0+/, \"\");\n  }), t = t.map(function(s) {\n    return s == \"\" ? \"0\" : s;\n  }), e = \":\" + t.join(\":\") + \":\";\n  var r = e.match(/:(0:){2,}/g);\n  if (r == null)\n    return e.slice(1, -1);\n  var i = r.sort().slice(-1)[0];\n  return e = e.replace(i.substr(0, i.length - 1), \":\"), e.substr(0, 2) != \"::\" && (e = e.substr(1)), e.substr(-2, 2) != \"::\" && (e = e.substr(0, e.length - 1)), e;\n}\nfunction tt(e) {\n  var t = new Error(\"malformed hex value\");\n  if (!e.match(/^([0-9A-Fa-f][0-9A-Fa-f]){1,}$/))\n    throw t;\n  if (e.length == 8) {\n    var r;\n    try {\n      return r = parseInt(e.substr(0, 2), 16) + \".\" + parseInt(e.substr(2, 2), 16) + \".\" + parseInt(e.substr(4, 2), 16) + \".\" + parseInt(e.substr(6, 2), 16), r;\n    } catch {\n      throw t;\n    }\n  } else if (e.length == 16)\n    try {\n      return tt(e.substr(0, 8)) + \"/\" + yt(e.substr(8));\n    } catch {\n      throw t;\n    }\n  else {\n    if (e.length == 32)\n      return gt(e);\n    if (e.length == 64) {\n      try {\n        return gt(e.substr(0, 32)) + \"/\" + yt(e.substr(32));\n      } catch {\n        throw t;\n      }\n      return;\n    } else\n      return e;\n  }\n}\nfunction yt(e) {\n  var t = new Error(\"malformed mask\"), r;\n  try {\n    r = new R(e, 16).toString(2);\n  } catch {\n    throw t;\n  }\n  if (!r.match(/^1*0*$/))\n    throw t;\n  return r.replace(/0+$/, \"\").length;\n}\nfunction Rt(e) {\n  var t = new Error(\"malformed IP address\");\n  if (e = e.toLowerCase(e), !e.match(/^[0-9a-f.:/]+$/))\n    throw t;\n  if (e.match(/^[0-9.]+$/)) {\n    var r = e.split(\".\");\n    if (r.length !== 4)\n      throw t;\n    var i = \"\";\n    try {\n      for (var s = 0; s < 4; s++) {\n        var n = parseInt(r[s]);\n        i += (\"0\" + n.toString(16)).slice(-2);\n      }\n      return i;\n    } catch {\n      throw t;\n    }\n  } else if (e.match(/^[0-9.]+\\/[0-9]+$/)) {\n    var h = e.split(\"/\");\n    return Rt(h[0]) + mt(parseInt(h[1]), 32);\n  } else {\n    if (e.match(/^[0-9a-f:]+$/) && e.indexOf(\":\") !== -1)\n      return vt(e);\n    if (e.match(/^[0-9a-f:]+\\/[0-9]+$/) && e.indexOf(\":\") !== -1) {\n      var h = e.split(\"/\");\n      return vt(h[0]) + mt(parseInt(h[1]), 128);\n    } else\n      throw t;\n  }\n}\nfunction mt(e, t) {\n  if (t == 32 && e == 0)\n    return \"00000000\";\n  if (t == 128 && e == 0)\n    return \"00000000000000000000000000000000\";\n  var r = Array(e + 1).join(\"1\") + Array(t - e + 1).join(\"0\");\n  return new R(r, 2).toString(16);\n}\nfunction Tt(e) {\n  function t(s) {\n    var n = parseInt(s.substr(0, 2), 16), h = parseInt(s.substr(2), 16);\n    if (n == 0 & h < 128)\n      return String.fromCharCode(h);\n    if (n < 8) {\n      var u = 192 | (n & 7) << 3 | (h & 192) >> 6, p = 128 | h & 63;\n      return W(u.toString(16) + p.toString(16));\n    }\n    var u = 224 | (n & 240) >> 4, p = 128 | (n & 15) << 2 | (h & 192) >> 6, c = 128 | h & 63;\n    return W(u.toString(16) + p.toString(16) + c.toString(16));\n  }\n  var r = e.match(/.{4}/g), i = r.map(t);\n  return i.join(\"\");\n}\nfunction Bt(e) {\n  for (var t = encodeURIComponent(e), r = \"\", i = 0; i < t.length; i++)\n    t[i] == \"%\" ? (r = r + t.substr(i, 3), i = i + 2) : r = r + \"%\" + Ee(t[i]);\n  return r;\n}\na.lang.String.isInteger = function(e) {\n  return e.match(/^[0-9]+$/) ? !0 : !!e.match(/^-[0-9]+$/);\n};\na.lang.String.isHex = function(e) {\n  return Nt(e);\n};\nfunction Nt(e) {\n  return !!(e.length % 2 == 0 && (e.match(/^[0-9a-f]+$/) || e.match(/^[0-9A-F]+$/)));\n}\na.lang.String.isBase64 = function(e) {\n  return e = e.replace(/\\s+/g, \"\"), !!(e.match(/^[0-9A-Za-z+\\/]+={0,3}$/) && e.length % 4 == 0);\n};\na.lang.String.isBase64URL = function(e) {\n  return e.match(/[+/=]/) ? !1 : (e = ut(e), a.lang.String.isBase64(e));\n};\nfunction Ht(e) {\n  return !!e.match(/^[0-9A-Za-z-_.]+$/);\n}\na.lang.String.isIntegerArray = function(e) {\n  return e = e.replace(/\\s+/g, \"\"), !!e.match(/^\\[[0-9,]+\\]$/);\n};\na.lang.String.isPrintable = function(e) {\n  return e.match(/^[0-9A-Za-z '()+,-./:=?]*$/) !== null;\n};\na.lang.String.isIA5 = function(e) {\n  return e.match(/^[\\x20-\\x21\\x23-\\x7f]*$/) !== null;\n};\na.lang.String.isMail = function(e) {\n  return e.match(/^[A-Za-z0-9]{1}[A-Za-z0-9_.-]*@{1}[A-Za-z0-9_.-]{1,}\\.[A-Za-z0-9]{1,}$/) !== null;\n};\nfunction xt(e) {\n  return e.length % 2 == 1 ? \"0\" + e : e.substr(0, 1) > \"7\" ? \"00\" + e : e;\n}\nfunction mn(e) {\n  var t = function(u) {\n    var p = u.toString(16);\n    return p.length == 1 && (p = \"0\" + p), p;\n  }, r = function(u) {\n    var p = \"\", c = parseInt(u, 10), y = c.toString(2), v = 7 - y.length % 7;\n    v == 7 && (v = 0);\n    for (var o = \"\", l = 0; l < v; l++)\n      o += \"0\";\n    y = o + y;\n    for (var l = 0; l < y.length - 1; l += 7) {\n      var f = y.substr(l, 7);\n      l != y.length - 7 && (f = \"1\" + f), p += t(parseInt(f, 2));\n    }\n    return p;\n  };\n  try {\n    if (!e.match(/^[0-9.]+$/))\n      return null;\n    var i = \"\", s = e.split(\".\"), n = parseInt(s[0], 10) * 40 + parseInt(s[1], 10);\n    i += t(n), s.splice(0, 2);\n    for (var h = 0; h < s.length; h++)\n      i += r(s[h]);\n    return i;\n  } catch {\n    return null;\n  }\n}\nfunction ft(e) {\n  if (!Nt(e))\n    return null;\n  try {\n    var t = [], r = e.substr(0, 2), i = parseInt(r, 16);\n    t[0] = new String(Math.floor(i / 40)), t[1] = new String(i % 40);\n    for (var s = e.substr(2), n = [], h = 0; h < s.length / 2; h++)\n      n.push(parseInt(s.substr(h * 2, 2), 16));\n    for (var u = [], p = \"\", h = 0; h < n.length; h++)\n      n[h] & 128 ? p = p + St((n[h] & 127).toString(2), 7) : (p = p + St((n[h] & 127).toString(2), 7), u.push(new String(parseInt(p, 2))), p = \"\");\n    var c = t.join(\".\");\n    return u.length > 0 && (c = c + \".\" + u.join(\".\")), c;\n  } catch {\n    return null;\n  }\n}\nfunction xn(e) {\n  var t = new R(String(e), 10);\n  return Ze(t);\n}\nfunction Ze(e) {\n  var t = e.toString(16);\n  if (t.substr(0, 1) != \"-\")\n    return t.length % 2 == 1 ? t = \"0\" + t : t.match(/^[0-7]/) || (t = \"00\" + t), t;\n  var r = t.substr(1), i = r.length;\n  i % 2 == 1 ? i += 1 : t.match(/^[0-7]/) || (i += 2);\n  for (var s = \"\", n = 0; n < i; n++)\n    s += \"f\";\n  var h = new R(s, 16), u = h.xor(e).add(R.ONE);\n  return t = u.toString(16).replace(/^-/, \"\"), t;\n}\nvar St = function(e, t, r) {\n  return r == null && (r = \"0\"), e.length >= t ? e : new Array(t - e.length + 1).join(r) + e;\n};\nfunction Sn(e) {\n  if (e.length % 2 != 0 || (e = e.toLowerCase(), e.match(/^[0-9a-f]+$/) == null))\n    return -1;\n  try {\n    var t = e.substr(0, 2);\n    if (t == \"00\")\n      return parseInt(e.substr(2), 16);\n    var r = parseInt(t, 16);\n    if (r > 7)\n      return -1;\n    var i = e.substr(2), s = parseInt(i, 16).toString(2);\n    s == \"0\" && (s = \"00000000\"), s = s.slice(0, 0 - r);\n    var n = parseInt(s, 2);\n    return n == NaN ? -1 : n;\n  } catch {\n    return -1;\n  }\n}\nfunction En(e) {\n  if (typeof e != \"string\" || e.length % 2 != 0 || !e.match(/^[0-9a-f]+$/))\n    return null;\n  try {\n    var t = parseInt(e.substr(0, 2), 16);\n    if (t < 0 || 7 < t)\n      return null;\n    for (var r = e.substr(2), i = \"\", s = 0; s < r.length; s += 2) {\n      var n = r.substr(s, 2), h = parseInt(n, 16).toString(2);\n      h = (\"0000000\" + h).slice(-8), i += h;\n    }\n    return i.substr(0, i.length - t);\n  } catch {\n    return null;\n  }\n}\nfunction rt(e, t) {\n  for (var r = 0, i = 0; i < e.length; i++)\n    r |= 1 << t[e[i]];\n  for (var s = r.toString(2), n = \"\", i = s.length - 1; i >= 0; i--)\n    n += s[i];\n  return n;\n}\nfunction J(e, i, r) {\n  if (typeof e == \"object\") {\n    for (var i = String(i).split(\".\"), s = 0; s < i.length && e; s++) {\n      var n = i[s];\n      n.match(/^[0-9]+$/) && (n = parseInt(n)), e = e[n];\n    }\n    return e || e === !1 ? e : r;\n  }\n}\nfunction N(e, t) {\n  var r = function() {\n  };\n  r.prototype = t.prototype, e.prototype = new r(), e.prototype.constructor = e, e.superclass = t.prototype, t.prototype.constructor == Object.prototype.constructor && (t.prototype.constructor = t);\n}\n(typeof a > \"u\" || !a) && (a = {});\n(typeof a.crypto > \"u\" || !a.crypto) && (a.crypto = {});\na.crypto.Util = new function() {\n  this.DIGESTINFOHEAD = { sha1: \"3021300906052b0e03021a05000414\", sha224: \"302d300d06096086480165030402040500041c\", sha256: \"3031300d060960864801650304020105000420\", sha384: \"3041300d060960864801650304020205000430\", sha512: \"3051300d060960864801650304020305000440\", md2: \"3020300c06082a864886f70d020205000410\", md5: \"3020300c06082a864886f70d020505000410\", ripemd160: \"3021300906052b2403020105000414\" }, this.DEFAULTPROVIDER = { md5: \"cryptojs\", sha1: \"cryptojs\", sha224: \"cryptojs\", sha256: \"cryptojs\", sha384: \"cryptojs\", sha512: \"cryptojs\", ripemd160: \"cryptojs\", hmacmd5: \"cryptojs\", hmacsha1: \"cryptojs\", hmacsha224: \"cryptojs\", hmacsha256: \"cryptojs\", hmacsha384: \"cryptojs\", hmacsha512: \"cryptojs\", hmacripemd160: \"cryptojs\", MD5withRSA: \"cryptojs/jsrsa\", SHA1withRSA: \"cryptojs/jsrsa\", SHA224withRSA: \"cryptojs/jsrsa\", SHA256withRSA: \"cryptojs/jsrsa\", SHA384withRSA: \"cryptojs/jsrsa\", SHA512withRSA: \"cryptojs/jsrsa\", RIPEMD160withRSA: \"cryptojs/jsrsa\", MD5withECDSA: \"cryptojs/jsrsa\", SHA1withECDSA: \"cryptojs/jsrsa\", SHA224withECDSA: \"cryptojs/jsrsa\", SHA256withECDSA: \"cryptojs/jsrsa\", SHA384withECDSA: \"cryptojs/jsrsa\", SHA512withECDSA: \"cryptojs/jsrsa\", RIPEMD160withECDSA: \"cryptojs/jsrsa\", SHA1withDSA: \"cryptojs/jsrsa\", SHA224withDSA: \"cryptojs/jsrsa\", SHA256withDSA: \"cryptojs/jsrsa\", MD5withRSAandMGF1: \"cryptojs/jsrsa\", SHAwithRSAandMGF1: \"cryptojs/jsrsa\", SHA1withRSAandMGF1: \"cryptojs/jsrsa\", SHA224withRSAandMGF1: \"cryptojs/jsrsa\", SHA256withRSAandMGF1: \"cryptojs/jsrsa\", SHA384withRSAandMGF1: \"cryptojs/jsrsa\", SHA512withRSAandMGF1: \"cryptojs/jsrsa\", RIPEMD160withRSAandMGF1: \"cryptojs/jsrsa\" }, this.CRYPTOJSMESSAGEDIGESTNAME = { md5: K.algo.MD5, sha1: K.algo.SHA1, sha224: K.algo.SHA224, sha256: K.algo.SHA256, sha384: K.algo.SHA384, sha512: K.algo.SHA512, ripemd160: K.algo.RIPEMD160 }, this.getDigestInfoHex = function(e, t) {\n    if (typeof this.DIGESTINFOHEAD[t] > \"u\")\n      throw \"alg not supported in Util.DIGESTINFOHEAD: \" + t;\n    return this.DIGESTINFOHEAD[t] + e;\n  }, this.getPaddedDigestInfoHex = function(e, t, r) {\n    var i = this.getDigestInfoHex(e, t), s = r / 4;\n    if (i.length + 22 > s)\n      throw \"key is too short for SigAlg: keylen=\" + r + \",\" + t;\n    for (var n = \"0001\", h = \"00\" + i, u = \"\", p = s - n.length - h.length, c = 0; c < p; c += 2)\n      u += \"ff\";\n    var y = n + u + h;\n    return y;\n  }, this.hashString = function(e, t) {\n    var r = new a.crypto.MessageDigest({ alg: t });\n    return r.digestString(e);\n  }, this.hashHex = function(e, t) {\n    var r = new a.crypto.MessageDigest({ alg: t });\n    return r.digestHex(e);\n  }, this.sha1 = function(e) {\n    return this.hashString(e, \"sha1\");\n  }, this.sha256 = function(e) {\n    return this.hashString(e, \"sha256\");\n  }, this.sha256Hex = function(e) {\n    return this.hashHex(e, \"sha256\");\n  }, this.sha512 = function(e) {\n    return this.hashString(e, \"sha512\");\n  }, this.sha512Hex = function(e) {\n    return this.hashHex(e, \"sha512\");\n  }, this.isKey = function(e) {\n    return e instanceof q || e instanceof a.crypto.DSA || e instanceof a.crypto.ECDSA;\n  };\n}();\na.crypto.Util.md5 = function(e) {\n  var t = new a.crypto.MessageDigest({ alg: \"md5\", prov: \"cryptojs\" });\n  return t.digestString(e);\n};\na.crypto.Util.ripemd160 = function(e) {\n  var t = new a.crypto.MessageDigest({ alg: \"ripemd160\", prov: \"cryptojs\" });\n  return t.digestString(e);\n};\na.crypto.Util.SECURERANDOMGEN = new Ge();\na.crypto.Util.getRandomHexOfNbytes = function(e) {\n  var t = new Array(e);\n  return a.crypto.Util.SECURERANDOMGEN.nextBytes(t), ot(t);\n};\na.crypto.Util.getRandomBigIntegerOfNbytes = function(e) {\n  return new R(a.crypto.Util.getRandomHexOfNbytes(e), 16);\n};\na.crypto.Util.getRandomHexOfNbits = function(e) {\n  var t = e % 8, r = (e - t) / 8, i = new Array(r + 1);\n  return a.crypto.Util.SECURERANDOMGEN.nextBytes(i), i[0] = (255 << t & 255 ^ 255) & i[0], ot(i);\n};\na.crypto.Util.getRandomBigIntegerOfNbits = function(e) {\n  return new R(a.crypto.Util.getRandomHexOfNbits(e), 16);\n};\na.crypto.Util.getRandomBigIntegerZeroToMax = function(e) {\n  for (var t = e.bitLength(); ; ) {\n    var r = a.crypto.Util.getRandomBigIntegerOfNbits(t);\n    if (e.compareTo(r) != -1)\n      return r;\n  }\n};\na.crypto.Util.getRandomBigIntegerMinToMax = function(e, t) {\n  var r = e.compareTo(t);\n  if (r == 1)\n    throw \"biMin is greater than biMax\";\n  if (r == 0)\n    return e;\n  var i = t.subtract(e), s = a.crypto.Util.getRandomBigIntegerZeroToMax(i);\n  return s.add(e);\n};\na.crypto.MessageDigest = function(e) {\n  this.setAlgAndProvider = function(t, r) {\n    if (t = a.crypto.MessageDigest.getCanonicalAlgName(t), t !== null && r === void 0 && (r = a.crypto.Util.DEFAULTPROVIDER[t]), \":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:\".indexOf(t) != -1 && r == \"cryptojs\") {\n      try {\n        this.md = a.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[t].create();\n      } catch (i) {\n        throw \"setAlgAndProvider hash alg set fail alg=\" + t + \"/\" + i;\n      }\n      this.updateString = function(i) {\n        this.md.update(i);\n      }, this.updateHex = function(i) {\n        var s = K.enc.Hex.parse(i);\n        this.md.update(s);\n      }, this.digest = function() {\n        var i = this.md.finalize();\n        return i.toString(K.enc.Hex);\n      }, this.digestString = function(i) {\n        return this.updateString(i), this.digest();\n      }, this.digestHex = function(i) {\n        return this.updateHex(i), this.digest();\n      };\n    }\n    if (\":sha256:\".indexOf(t) != -1 && r == \"sjcl\") {\n      try {\n        this.md = new sjcl.hash.sha256();\n      } catch (i) {\n        throw \"setAlgAndProvider hash alg set fail alg=\" + t + \"/\" + i;\n      }\n      this.updateString = function(i) {\n        this.md.update(i);\n      }, this.updateHex = function(i) {\n        var s = sjcl.codec.hex.toBits(i);\n        this.md.update(s);\n      }, this.digest = function() {\n        var i = this.md.finalize();\n        return sjcl.codec.hex.fromBits(i);\n      }, this.digestString = function(i) {\n        return this.updateString(i), this.digest();\n      }, this.digestHex = function(i) {\n        return this.updateHex(i), this.digest();\n      };\n    }\n  }, this.updateString = function(t) {\n    throw \"updateString(str) not supported for this alg/prov: \" + this.algName + \"/\" + this.provName;\n  }, this.updateHex = function(t) {\n    throw \"updateHex(hex) not supported for this alg/prov: \" + this.algName + \"/\" + this.provName;\n  }, this.digest = function() {\n    throw \"digest() not supported for this alg/prov: \" + this.algName + \"/\" + this.provName;\n  }, this.digestString = function(t) {\n    throw \"digestString(str) not supported for this alg/prov: \" + this.algName + \"/\" + this.provName;\n  }, this.digestHex = function(t) {\n    throw \"digestHex(hex) not supported for this alg/prov: \" + this.algName + \"/\" + this.provName;\n  }, e !== void 0 && e.alg !== void 0 && (this.algName = e.alg, e.prov === void 0 && (this.provName = a.crypto.Util.DEFAULTPROVIDER[this.algName]), this.setAlgAndProvider(this.algName, this.provName));\n};\na.crypto.MessageDigest.getCanonicalAlgName = function(e) {\n  return typeof e == \"string\" && (e = e.toLowerCase(), e = e.replace(/-/, \"\")), e;\n};\na.crypto.MessageDigest.getHashLength = function(e) {\n  var t = a.crypto.MessageDigest, r = t.getCanonicalAlgName(e);\n  if (t.HASHLENGTH[r] === void 0)\n    throw \"not supported algorithm: \" + e;\n  return t.HASHLENGTH[r];\n};\na.crypto.MessageDigest.HASHLENGTH = { md5: 16, sha1: 20, sha224: 28, sha256: 32, sha384: 48, sha512: 64, ripemd160: 20 };\na.crypto.Mac = function(e) {\n  this.setAlgAndProvider = function(t, r) {\n    if (t = t.toLowerCase(), t == null && (t = \"hmacsha1\"), t = t.toLowerCase(), t.substr(0, 4) != \"hmac\")\n      throw \"setAlgAndProvider unsupported HMAC alg: \" + t;\n    r === void 0 && (r = a.crypto.Util.DEFAULTPROVIDER[t]), this.algProv = t + \"/\" + r;\n    var i = t.substr(4);\n    if (\":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:\".indexOf(i) != -1 && r == \"cryptojs\") {\n      try {\n        var s = a.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[i];\n        this.mac = K.algo.HMAC.create(s, this.pass);\n      } catch (n) {\n        throw \"setAlgAndProvider hash alg set fail hashAlg=\" + i + \"/\" + n;\n      }\n      this.updateString = function(n) {\n        this.mac.update(n);\n      }, this.updateHex = function(n) {\n        var h = K.enc.Hex.parse(n);\n        this.mac.update(h);\n      }, this.doFinal = function() {\n        var n = this.mac.finalize();\n        return n.toString(K.enc.Hex);\n      }, this.doFinalString = function(n) {\n        return this.updateString(n), this.doFinal();\n      }, this.doFinalHex = function(n) {\n        return this.updateHex(n), this.doFinal();\n      };\n    }\n  }, this.updateString = function(t) {\n    throw \"updateString(str) not supported for this alg/prov: \" + this.algProv;\n  }, this.updateHex = function(t) {\n    throw \"updateHex(hex) not supported for this alg/prov: \" + this.algProv;\n  }, this.doFinal = function() {\n    throw \"digest() not supported for this alg/prov: \" + this.algProv;\n  }, this.doFinalString = function(t) {\n    throw \"digestString(str) not supported for this alg/prov: \" + this.algProv;\n  }, this.doFinalHex = function(t) {\n    throw \"digestHex(hex) not supported for this alg/prov: \" + this.algProv;\n  }, this.setPassword = function(t) {\n    if (typeof t == \"string\") {\n      var r = t;\n      (t.length % 2 == 1 || !t.match(/^[0-9A-Fa-f]+$/)) && (r = Pe(t)), this.pass = K.enc.Hex.parse(r);\n      return;\n    }\n    if (typeof t != \"object\")\n      throw \"KJUR.crypto.Mac unsupported password type: \" + t;\n    var r = null;\n    if (t.hex !== void 0) {\n      if (t.hex.length % 2 != 0 || !t.hex.match(/^[0-9A-Fa-f]+$/))\n        throw \"Mac: wrong hex password: \" + t.hex;\n      r = t.hex;\n    }\n    if (t.utf8 !== void 0 && (r = ht(t.utf8)), t.rstr !== void 0 && (r = Pe(t.rstr)), t.b64 !== void 0 && (r = it(t.b64)), t.b64u !== void 0 && (r = Y(t.b64u)), r == null)\n      throw \"KJUR.crypto.Mac unsupported password type: \" + t;\n    this.pass = K.enc.Hex.parse(r);\n  }, e !== void 0 && (e.pass !== void 0 && this.setPassword(e.pass), e.alg !== void 0 && (this.algName = e.alg, e.prov === void 0 && (this.provName = a.crypto.Util.DEFAULTPROVIDER[this.algName]), this.setAlgAndProvider(this.algName, this.provName)));\n};\na.crypto.Signature = function(e) {\n  var t = null;\n  if (this._setAlgNames = function() {\n    var r = this.algName.match(/^(.+)with(.+)$/);\n    r && (this.mdAlgName = r[1].toLowerCase(), this.pubkeyAlgName = r[2].toLowerCase(), this.pubkeyAlgName == \"rsaandmgf1\" && this.mdAlgName == \"sha\" && (this.mdAlgName = \"sha1\"));\n  }, this._zeroPaddingOfSignature = function(r, i) {\n    for (var s = \"\", n = i / 4 - r.length, h = 0; h < n; h++)\n      s = s + \"0\";\n    return s + r;\n  }, this.setAlgAndProvider = function(r, i) {\n    if (this._setAlgNames(), i != \"cryptojs/jsrsa\")\n      throw new Error(\"provider not supported: \" + i);\n    if (\":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:\".indexOf(this.mdAlgName) != -1) {\n      try {\n        this.md = new a.crypto.MessageDigest({ alg: this.mdAlgName });\n      } catch (s) {\n        throw new Error(\"setAlgAndProvider hash alg set fail alg=\" + this.mdAlgName + \"/\" + s);\n      }\n      this.init = function(s, n) {\n        var h = null;\n        try {\n          n === void 0 ? h = k.getKey(s) : h = k.getKey(s, n);\n        } catch (u) {\n          throw \"init failed:\" + u;\n        }\n        if (h.isPrivate === !0)\n          this.prvKey = h, this.state = \"SIGN\";\n        else if (h.isPublic === !0)\n          this.pubKey = h, this.state = \"VERIFY\";\n        else\n          throw \"init failed.:\" + h;\n      }, this.updateString = function(s) {\n        this.md.updateString(s);\n      }, this.updateHex = function(s) {\n        this.md.updateHex(s);\n      }, this.sign = function() {\n        if (this.sHashHex = this.md.digest(), this.prvKey === void 0 && this.ecprvhex !== void 0 && this.eccurvename !== void 0 && a.crypto.ECDSA !== void 0 && (this.prvKey = new a.crypto.ECDSA({ curve: this.eccurvename, prv: this.ecprvhex })), this.prvKey instanceof q && this.pubkeyAlgName === \"rsaandmgf1\")\n          this.hSign = this.prvKey.signWithMessageHashPSS(this.sHashHex, this.mdAlgName, this.pssSaltLen);\n        else if (this.prvKey instanceof q && this.pubkeyAlgName === \"rsa\")\n          this.hSign = this.prvKey.signWithMessageHash(this.sHashHex, this.mdAlgName);\n        else if (this.prvKey instanceof a.crypto.ECDSA)\n          this.hSign = this.prvKey.signWithMessageHash(this.sHashHex);\n        else if (this.prvKey instanceof a.crypto.DSA)\n          this.hSign = this.prvKey.signWithMessageHash(this.sHashHex);\n        else\n          throw \"Signature: unsupported private key alg: \" + this.pubkeyAlgName;\n        return this.hSign;\n      }, this.signString = function(s) {\n        return this.updateString(s), this.sign();\n      }, this.signHex = function(s) {\n        return this.updateHex(s), this.sign();\n      }, this.verify = function(s) {\n        if (this.sHashHex = this.md.digest(), this.pubKey === void 0 && this.ecpubhex !== void 0 && this.eccurvename !== void 0 && a.crypto.ECDSA !== void 0 && (this.pubKey = new a.crypto.ECDSA({ curve: this.eccurvename, pub: this.ecpubhex })), this.pubKey instanceof q && this.pubkeyAlgName === \"rsaandmgf1\")\n          return this.pubKey.verifyWithMessageHashPSS(this.sHashHex, s, this.mdAlgName, this.pssSaltLen);\n        if (this.pubKey instanceof q && this.pubkeyAlgName === \"rsa\")\n          return this.pubKey.verifyWithMessageHash(this.sHashHex, s);\n        if (a.crypto.ECDSA !== void 0 && this.pubKey instanceof a.crypto.ECDSA)\n          return this.pubKey.verifyWithMessageHash(this.sHashHex, s);\n        if (a.crypto.DSA !== void 0 && this.pubKey instanceof a.crypto.DSA)\n          return this.pubKey.verifyWithMessageHash(this.sHashHex, s);\n        throw \"Signature: unsupported public key alg: \" + this.pubkeyAlgName;\n      };\n    }\n  }, this.init = function(r, i) {\n    throw \"init(key, pass) not supported for this alg:prov=\" + this.algProvName;\n  }, this.updateString = function(r) {\n    throw \"updateString(str) not supported for this alg:prov=\" + this.algProvName;\n  }, this.updateHex = function(r) {\n    throw \"updateHex(hex) not supported for this alg:prov=\" + this.algProvName;\n  }, this.sign = function() {\n    throw \"sign() not supported for this alg:prov=\" + this.algProvName;\n  }, this.signString = function(r) {\n    throw \"digestString(str) not supported for this alg:prov=\" + this.algProvName;\n  }, this.signHex = function(r) {\n    throw \"digestHex(hex) not supported for this alg:prov=\" + this.algProvName;\n  }, this.verify = function(r) {\n    throw \"verify(hSigVal) not supported for this alg:prov=\" + this.algProvName;\n  }, this.initParams = e, e !== void 0 && (e.alg !== void 0 && (this.algName = e.alg, e.prov === void 0 ? this.provName = a.crypto.Util.DEFAULTPROVIDER[this.algName] : this.provName = e.prov, this.algProvName = this.algName + \":\" + this.provName, this.setAlgAndProvider(this.algName, this.provName), this._setAlgNames()), e.psssaltlen !== void 0 && (this.pssSaltLen = e.psssaltlen), e.prvkeypem !== void 0)) {\n    if (e.prvkeypas !== void 0)\n      throw \"both prvkeypem and prvkeypas parameters not supported\";\n    try {\n      var t = k.getKey(e.prvkeypem);\n      this.init(t);\n    } catch (r) {\n      throw \"fatal error to load pem private key: \" + r;\n    }\n  }\n};\na.crypto.Cipher = function(e) {\n};\na.crypto.Cipher.encrypt = function(e, t, r, i) {\n  if (J(i, \"enclag\") != null && (r = i.encalg), typeof r == \"string\" && r.substr(-4) == \"-CBC\") {\n    var s = t, n = e;\n    J(i, \"key\") != null && (s = i.key), J(i, \"enc\") != null && (hEnc = i.enc);\n    var h = K.enc.Hex.parse(s), u = K.enc.Hex.parse(n), p = K.enc.Hex.parse(i.iv), c;\n    if (r == \"des-EDE3-CBC\")\n      c = K.TripleDES.encrypt(u, h, { iv: p });\n    else if (r == \"aes128-CBC\" || r == \"aes256-CBC\")\n      c = K.AES.encrypt(u, h, { iv: p });\n    else\n      throw new Error(\"unsupported algorithm: \" + r);\n    return c + \"\";\n  } else\n    throw new Error(\"Cipher.encrypt: unsupported key or algorithm\");\n};\na.crypto.Cipher.decrypt = function(e, t, r, i) {\n  if (J(i, \"enclag\") != null && (r = i.encalg), typeof r == \"string\" && r.substr(-4) == \"-CBC\") {\n    var s = t, n = e;\n    J(i, \"key\") != null && (s = i.key), J(i, \"enc\") != null && (n = i.enc);\n    var h = K.enc.Hex.parse(s), u = K.enc.Hex.parse(n), p = K.enc.Hex.parse(i.iv), c;\n    if (r == \"des-EDE3-CBC\")\n      c = K.TripleDES.decrypt({ ciphertext: u }, h, { iv: p });\n    else if (r == \"aes128-CBC\" || r == \"aes256-CBC\")\n      c = K.AES.decrypt({ ciphertext: u }, h, { iv: p });\n    else\n      throw new Error(\"unsupported algorithm: \" + r);\n    return K.enc.Hex.stringify(c);\n  } else\n    throw new Error(\"Cipher.decrypt: unsupported key or algorithm\");\n};\na.crypto.OID = new function() {\n  this.oidhex2name = { \"2a864886f70d010101\": \"rsaEncryption\", \"2a8648ce3d0201\": \"ecPublicKey\", \"2a8648ce380401\": \"dsa\", \"2a8648ce3d030107\": \"secp256r1\", \"2b8104001f\": \"secp192k1\", \"2b81040021\": \"secp224r1\", \"2b8104000a\": \"secp256k1\", \"2b81040022\": \"secp384r1\", \"2b81040023\": \"secp521r1\", \"2a8648ce380403\": \"SHA1withDSA\", \"608648016503040301\": \"SHA224withDSA\", \"608648016503040302\": \"SHA256withDSA\" };\n}();\n(typeof a > \"u\" || !a) && (a = {});\n(typeof a.crypto > \"u\" || !a.crypto) && (a.crypto = {});\na.crypto.ECDSA = function(e) {\n  var t = \"secp256r1\", r = Error, i = R, s = z, n = a.crypto.ECDSA, h = a.crypto.ECParameterDB, u = n.getName, p = V, c = p.getVbyListEx, y = p.isASN1HEX, v = new Ge();\n  this.type = \"EC\", this.isPrivate = !1, this.isPublic = !1, this.getBigRandom = function(o) {\n    return new i(o.bitLength(), v).mod(o.subtract(i.ONE)).add(i.ONE);\n  }, this.setNamedCurve = function(o) {\n    this.ecparams = h.getByName(o), this.prvKeyHex = null, this.pubKeyHex = null, this.curveName = o;\n  }, this.setPrivateKeyHex = function(o) {\n    this.isPrivate = !0, this.prvKeyHex = o;\n  }, this.setPublicKeyHex = function(o) {\n    this.isPublic = !0, this.pubKeyHex = o;\n  }, this.getPublicKeyXYHex = function() {\n    var o = this.pubKeyHex;\n    if (o.substr(0, 2) !== \"04\")\n      throw \"this method supports uncompressed format(04) only\";\n    var l = this.ecparams.keycharlen;\n    if (o.length !== 2 + l * 2)\n      throw \"malformed public key hex length\";\n    var f = {};\n    return f.x = o.substr(2, l), f.y = o.substr(2 + l), f;\n  }, this.getShortNISTPCurveName = function() {\n    var o = this.curveName;\n    return o === \"secp256r1\" || o === \"NIST P-256\" || o === \"P-256\" || o === \"prime256v1\" ? \"P-256\" : o === \"secp384r1\" || o === \"NIST P-384\" || o === \"P-384\" ? \"P-384\" : o === \"secp521r1\" || o === \"NIST P-521\" || o === \"P-521\" ? \"P-521\" : null;\n  }, this.generateKeyPairHex = function() {\n    var o = this.ecparams.n, l = this.getBigRandom(o), f = this.ecparams.keycharlen, d = (\"0000000000\" + l.toString(16)).slice(-f);\n    this.setPrivateKeyHex(d);\n    var g = this.generatePublicKeyHex();\n    return { ecprvhex: d, ecpubhex: g };\n  }, this.generatePublicKeyHex = function() {\n    var o = new i(this.prvKeyHex, 16), l = this.ecparams.G.multiply(o), f = l.getX().toBigInteger(), d = l.getY().toBigInteger(), g = this.ecparams.keycharlen, S = (\"0000000000\" + f.toString(16)).slice(-g), b = (\"0000000000\" + d.toString(16)).slice(-g), D = \"04\" + S + b;\n    return this.setPublicKeyHex(D), D;\n  }, this.signWithMessageHash = function(o) {\n    return this.signHex(o, this.prvKeyHex);\n  }, this.signHex = function(o, l) {\n    var f = new i(l, 16), d = this.ecparams.n, g = new i(o.substring(0, this.ecparams.keycharlen), 16);\n    do\n      var S = this.getBigRandom(d), b = this.ecparams.G, D = b.multiply(S), A = D.getX().toBigInteger().mod(d);\n    while (A.compareTo(i.ZERO) <= 0);\n    var I = S.modInverse(d).multiply(g.add(f.multiply(A))).mod(d);\n    return n.biRSSigToASN1Sig(A, I);\n  }, this.sign = function(o, l) {\n    var f = l, d = this.ecparams.n, g = i.fromByteArrayUnsigned(o);\n    do\n      var S = this.getBigRandom(d), b = this.ecparams.G, D = b.multiply(S), A = D.getX().toBigInteger().mod(d);\n    while (A.compareTo(R.ZERO) <= 0);\n    var I = S.modInverse(d).multiply(g.add(f.multiply(A))).mod(d);\n    return this.serializeSig(A, I);\n  }, this.verifyWithMessageHash = function(o, l) {\n    return this.verifyHex(o, l, this.pubKeyHex);\n  }, this.verifyHex = function(o, l, f) {\n    try {\n      var d, g, S = n.parseSigHex(l);\n      d = S.r, g = S.s;\n      var b = s.decodeFromHex(this.ecparams.curve, f), D = new i(o.substring(0, this.ecparams.keycharlen), 16);\n      return this.verifyRaw(D, d, g, b);\n    } catch {\n      return !1;\n    }\n  }, this.verify = function(o, l, f) {\n    var d, g;\n    if (Bitcoin.Util.isArray(l)) {\n      var S = this.parseSig(l);\n      d = S.r, g = S.s;\n    } else if (typeof l == \"object\" && l.r && l.s)\n      d = l.r, g = l.s;\n    else\n      throw \"Invalid value for signature\";\n    var b;\n    if (f instanceof z)\n      b = f;\n    else if (Bitcoin.Util.isArray(f))\n      b = s.decodeFrom(this.ecparams.curve, f);\n    else\n      throw \"Invalid format for pubkey value, must be byte array or ECPointFp\";\n    var D = i.fromByteArrayUnsigned(o);\n    return this.verifyRaw(D, d, g, b);\n  }, this.verifyRaw = function(o, l, f, d) {\n    var g = this.ecparams.n, S = this.ecparams.G;\n    if (l.compareTo(i.ONE) < 0 || l.compareTo(g) >= 0 || f.compareTo(i.ONE) < 0 || f.compareTo(g) >= 0)\n      return !1;\n    var b = f.modInverse(g), D = o.multiply(b).mod(g), A = l.multiply(b).mod(g), I = S.multiply(D).add(d.multiply(A)), m = I.getX().toBigInteger().mod(g);\n    return m.equals(l);\n  }, this.serializeSig = function(o, l) {\n    var f = o.toByteArraySigned(), d = l.toByteArraySigned(), g = [];\n    return g.push(2), g.push(f.length), g = g.concat(f), g.push(2), g.push(d.length), g = g.concat(d), g.unshift(g.length), g.unshift(48), g;\n  }, this.parseSig = function(o) {\n    var l;\n    if (o[0] != 48)\n      throw new Error(\"Signature not a valid DERSequence\");\n    if (l = 2, o[l] != 2)\n      throw new Error(\"First element in signature must be a DERInteger\");\n    var f = o.slice(l + 2, l + 2 + o[l + 1]);\n    if (l += 2 + o[l + 1], o[l] != 2)\n      throw new Error(\"Second element in signature must be a DERInteger\");\n    var d = o.slice(l + 2, l + 2 + o[l + 1]);\n    l += 2 + o[l + 1];\n    var g = i.fromByteArrayUnsigned(f), S = i.fromByteArrayUnsigned(d);\n    return { r: g, s: S };\n  }, this.parseSigCompact = function(o) {\n    if (o.length !== 65)\n      throw \"Signature has the wrong length\";\n    var l = o[0] - 27;\n    if (l < 0 || l > 7)\n      throw \"Invalid signature type\";\n    var f = this.ecparams.n, d = i.fromByteArrayUnsigned(o.slice(1, 33)).mod(f), g = i.fromByteArrayUnsigned(o.slice(33, 65)).mod(f);\n    return { r: d, s: g, i: l };\n  }, this.readPKCS5PrvKeyHex = function(o) {\n    if (y(o) === !1)\n      throw new Error(\"not ASN.1 hex string\");\n    var l, f, d;\n    try {\n      l = c(o, 0, [\"[0]\", 0], \"06\"), f = c(o, 0, [1], \"04\");\n      try {\n        d = c(o, 0, [\"[1]\", 0], \"03\");\n      } catch {\n      }\n    } catch {\n      throw new Error(\"malformed PKCS#1/5 plain ECC private key\");\n    }\n    if (this.curveName = u(l), this.curveName === void 0)\n      throw \"unsupported curve name\";\n    this.setNamedCurve(this.curveName), this.setPublicKeyHex(d), this.setPrivateKeyHex(f), this.isPublic = !1;\n  }, this.readPKCS8PrvKeyHex = function(o) {\n    if (y(o) === !1)\n      throw new r(\"not ASN.1 hex string\");\n    var l, f, d, g;\n    try {\n      l = c(o, 0, [1, 0], \"06\"), f = c(o, 0, [1, 1], \"06\"), d = c(o, 0, [2, 0, 1], \"04\");\n      try {\n        g = c(o, 0, [2, 0, \"[1]\", 0], \"03\");\n      } catch {\n      }\n    } catch {\n      throw new r(\"malformed PKCS#8 plain ECC private key\");\n    }\n    if (this.curveName = u(f), this.curveName === void 0)\n      throw new r(\"unsupported curve name\");\n    this.setNamedCurve(this.curveName), this.setPublicKeyHex(g), this.setPrivateKeyHex(d), this.isPublic = !1;\n  }, this.readPKCS8PubKeyHex = function(o) {\n    if (y(o) === !1)\n      throw new r(\"not ASN.1 hex string\");\n    var l, f, d;\n    try {\n      l = c(o, 0, [0, 0], \"06\"), f = c(o, 0, [0, 1], \"06\"), d = c(o, 0, [1], \"03\");\n    } catch {\n      throw new r(\"malformed PKCS#8 ECC public key\");\n    }\n    if (this.curveName = u(f), this.curveName === null)\n      throw new r(\"unsupported curve name\");\n    this.setNamedCurve(this.curveName), this.setPublicKeyHex(d);\n  }, this.readCertPubKeyHex = function(o, l) {\n    if (y(o) === !1)\n      throw new r(\"not ASN.1 hex string\");\n    var f, d;\n    try {\n      f = c(o, 0, [0, 5, 0, 1], \"06\"), d = c(o, 0, [0, 5, 1], \"03\");\n    } catch {\n      throw new r(\"malformed X.509 certificate ECC public key\");\n    }\n    if (this.curveName = u(f), this.curveName === null)\n      throw new r(\"unsupported curve name\");\n    this.setNamedCurve(this.curveName), this.setPublicKeyHex(d);\n  }, e !== void 0 && e.curve !== void 0 && (this.curveName = e.curve), this.curveName === void 0 && (this.curveName = t), this.setNamedCurve(this.curveName), e !== void 0 && (e.prv !== void 0 && this.setPrivateKeyHex(e.prv), e.pub !== void 0 && this.setPublicKeyHex(e.pub));\n};\na.crypto.ECDSA.parseSigHex = function(e) {\n  var t = a.crypto.ECDSA.parseSigHexInHexRS(e), r = new R(t.r, 16), i = new R(t.s, 16);\n  return { r, s: i };\n};\na.crypto.ECDSA.parseSigHexInHexRS = function(e) {\n  var t = V, r = t.getChildIdx, i = t.getV;\n  if (t.checkStrictDER(e, 0), e.substr(0, 2) != \"30\")\n    throw new Error(\"signature is not a ASN.1 sequence\");\n  var s = r(e, 0);\n  if (s.length != 2)\n    throw new Error(\"signature shall have two elements\");\n  var n = s[0], h = s[1];\n  if (e.substr(n, 2) != \"02\")\n    throw new Error(\"1st item not ASN.1 integer\");\n  if (e.substr(h, 2) != \"02\")\n    throw new Error(\"2nd item not ASN.1 integer\");\n  var u = i(e, n), p = i(e, h);\n  return { r: u, s: p };\n};\na.crypto.ECDSA.asn1SigToConcatSig = function(e) {\n  var t = a.crypto.ECDSA.parseSigHexInHexRS(e), r = t.r, i = t.s;\n  if (r.length >= 130 && r.length <= 134) {\n    if (r.length % 2 != 0)\n      throw Error(\"unknown ECDSA sig r length error\");\n    if (i.length % 2 != 0)\n      throw Error(\"unknown ECDSA sig s length error\");\n    r.substr(0, 2) == \"00\" && (r = r.substr(2)), i.substr(0, 2) == \"00\" && (i = i.substr(2));\n    var s = Math.max(r.length, i.length);\n    return r = (\"000000\" + r).slice(-s), i = (\"000000\" + i).slice(-s), r + i;\n  }\n  if (r.substr(0, 2) == \"00\" && r.length % 32 == 2 && (r = r.substr(2)), i.substr(0, 2) == \"00\" && i.length % 32 == 2 && (i = i.substr(2)), r.length % 32 == 30 && (r = \"00\" + r), i.length % 32 == 30 && (i = \"00\" + i), r.length % 32 != 0)\n    throw Error(\"unknown ECDSA sig r length error\");\n  if (i.length % 32 != 0)\n    throw Error(\"unknown ECDSA sig s length error\");\n  return r + i;\n};\na.crypto.ECDSA.concatSigToASN1Sig = function(e) {\n  if (e.length % 4 != 0)\n    throw Error(\"unknown ECDSA concatinated r-s sig length error\");\n  var t = e.substr(0, e.length / 2), r = e.substr(e.length / 2);\n  return a.crypto.ECDSA.hexRSSigToASN1Sig(t, r);\n};\na.crypto.ECDSA.hexRSSigToASN1Sig = function(e, t) {\n  var r = new R(e, 16), i = new R(t, 16);\n  return a.crypto.ECDSA.biRSSigToASN1Sig(r, i);\n};\na.crypto.ECDSA.biRSSigToASN1Sig = function(e, t) {\n  var r = a.asn1, i = new r.DERInteger({ bigint: e }), s = new r.DERInteger({ bigint: t }), n = new r.DERSequence({ array: [i, s] });\n  return n.tohex();\n};\na.crypto.ECDSA.getName = function(e) {\n  return e === \"2b8104001f\" ? \"secp192k1\" : e === \"2a8648ce3d030107\" ? \"secp256r1\" : e === \"2b8104000a\" ? \"secp256k1\" : e === \"2b81040021\" ? \"secp224r1\" : e === \"2b81040022\" ? \"secp384r1\" : e === \"2b81040023\" ? \"secp521r1\" : \"|secp256r1|NIST P-256|P-256|prime256v1|\".indexOf(e) !== -1 ? \"secp256r1\" : \"|secp256k1|\".indexOf(e) !== -1 ? \"secp256k1\" : \"|secp224r1|NIST P-224|P-224|\".indexOf(e) !== -1 ? \"secp224r1\" : \"|secp384r1|NIST P-384|P-384|\".indexOf(e) !== -1 ? \"secp384r1\" : \"|secp521r1|NIST P-521|P-521|\".indexOf(e) !== -1 ? \"secp521r1\" : null;\n};\n(typeof a > \"u\" || !a) && (a = {});\n(typeof a.crypto > \"u\" || !a.crypto) && (a.crypto = {});\na.crypto.ECParameterDB = new function() {\n  var e = {}, t = {};\n  function r(i) {\n    return new R(i, 16);\n  }\n  this.getByName = function(i) {\n    var s = i;\n    if (typeof t[s] < \"u\" && (s = t[i]), typeof e[s] < \"u\")\n      return e[s];\n    throw \"unregistered EC curve name: \" + s;\n  }, this.regist = function(i, s, n, h, u, p, c, y, v, o, l, f) {\n    e[i] = {};\n    var d = r(n), g = r(h), S = r(u), b = r(p), D = r(c), A = new Be(d, g, S), I = A.decodePointHex(\"04\" + y + v);\n    e[i].name = i, e[i].keylen = s, e[i].keycharlen = Math.ceil(s / 8) * 2, e[i].curve = A, e[i].G = I, e[i].n = b, e[i].h = D, e[i].oid = l, e[i].info = f;\n    for (var m = 0; m < o.length; m++)\n      t[o[m]] = i;\n  };\n}();\na.crypto.ECParameterDB.regist(\"secp128r1\", 128, \"FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFF\", \"FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFC\", \"E87579C11079F43DD824993C2CEE5ED3\", \"FFFFFFFE0000000075A30D1B9038A115\", \"1\", \"161FF7528B899B2D0C28607CA52C5B86\", \"CF5AC8395BAFEB13C02DA292DDED7A83\", [], \"\", \"secp128r1 : SECG curve over a 128 bit prime field\");\na.crypto.ECParameterDB.regist(\"secp160k1\", 160, \"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFAC73\", \"0\", \"7\", \"0100000000000000000001B8FA16DFAB9ACA16B6B3\", \"1\", \"3B4C382CE37AA192A4019E763036F4F5DD4D7EBB\", \"938CF935318FDCED6BC28286531733C3F03C4FEE\", [], \"\", \"secp160k1 : SECG curve over a 160 bit prime field\");\na.crypto.ECParameterDB.regist(\"secp160r1\", 160, \"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFF\", \"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFC\", \"1C97BEFC54BD7A8B65ACF89F81D4D4ADC565FA45\", \"0100000000000000000001F4C8F927AED3CA752257\", \"1\", \"4A96B5688EF573284664698968C38BB913CBFC82\", \"23A628553168947D59DCC912042351377AC5FB32\", [], \"\", \"secp160r1 : SECG curve over a 160 bit prime field\");\na.crypto.ECParameterDB.regist(\"secp192k1\", 192, \"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFEE37\", \"0\", \"3\", \"FFFFFFFFFFFFFFFFFFFFFFFE26F2FC170F69466A74DEFD8D\", \"1\", \"DB4FF10EC057E9AE26B07D0280B7F4341DA5D1B1EAE06C7D\", \"9B2F2F6D9C5628A7844163D015BE86344082AA88D95E2F9D\", []);\na.crypto.ECParameterDB.regist(\"secp192r1\", 192, \"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFF\", \"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFC\", \"64210519E59C80E70FA7E9AB72243049FEB8DEECC146B9B1\", \"FFFFFFFFFFFFFFFFFFFFFFFF99DEF836146BC9B1B4D22831\", \"1\", \"188DA80EB03090F67CBF20EB43A18800F4FF0AFD82FF1012\", \"07192B95FFC8DA78631011ED6B24CDD573F977A11E794811\", []);\na.crypto.ECParameterDB.regist(\"secp224r1\", 224, \"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000000000000000000001\", \"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFE\", \"B4050A850C04B3ABF54132565044B0B7D7BFD8BA270B39432355FFB4\", \"FFFFFFFFFFFFFFFFFFFFFFFFFFFF16A2E0B8F03E13DD29455C5C2A3D\", \"1\", \"B70E0CBD6BB4BF7F321390B94A03C1D356C21122343280D6115C1D21\", \"BD376388B5F723FB4C22DFE6CD4375A05A07476444D5819985007E34\", []);\na.crypto.ECParameterDB.regist(\"secp256k1\", 256, \"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFC2F\", \"0\", \"7\", \"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141\", \"1\", \"79BE667EF9DCBBAC55A06295CE870B07029BFCDB2DCE28D959F2815B16F81798\", \"483ADA7726A3C4655DA4FBFC0E1108A8FD17B448A68554199C47D08FFB10D4B8\", []);\na.crypto.ECParameterDB.regist(\"secp256r1\", 256, \"FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFF\", \"FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFC\", \"5AC635D8AA3A93E7B3EBBD55769886BC651D06B0CC53B0F63BCE3C3E27D2604B\", \"FFFFFFFF00000000FFFFFFFFFFFFFFFFBCE6FAADA7179E84F3B9CAC2FC632551\", \"1\", \"6B17D1F2E12C4247F8BCE6E563A440F277037D812DEB33A0F4A13945D898C296\", \"4FE342E2FE1A7F9B8EE7EB4A7C0F9E162BCE33576B315ECECBB6406837BF51F5\", [\"NIST P-256\", \"P-256\", \"prime256v1\"]);\na.crypto.ECParameterDB.regist(\"secp384r1\", 384, \"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFF\", \"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFC\", \"B3312FA7E23EE7E4988E056BE3F82D19181D9C6EFE8141120314088F5013875AC656398D8A2ED19D2A85C8EDD3EC2AEF\", \"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC7634D81F4372DDF581A0DB248B0A77AECEC196ACCC52973\", \"1\", \"AA87CA22BE8B05378EB1C71EF320AD746E1D3B628BA79B9859F741E082542A385502F25DBF55296C3A545E3872760AB7\", \"3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f\", [\"NIST P-384\", \"P-384\"]);\na.crypto.ECParameterDB.regist(\"secp521r1\", 521, \"1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF\", \"1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC\", \"051953EB9618E1C9A1F929A21A0B68540EEA2DA725B99B315F3B8B489918EF109E156193951EC7E937B1652C0BD3BB1BF073573DF883D2C34F1EF451FD46B503F00\", \"1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA51868783BF2F966B7FCC0148F709A5D03BB5C9B8899C47AEBB6FB71E91386409\", \"1\", \"00C6858E06B70404E9CD9E3ECB662395B4429C648139053FB521F828AF606B4D3DBAA14B5E77EFE75928FE1DC127A2FFA8DE3348B3C1856A429BF97E7E31C2E5BD66\", \"011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650\", [\"NIST P-521\", \"P-521\"]);\n(typeof a > \"u\" || !a) && (a = {});\n(typeof a.crypto > \"u\" || !a.crypto) && (a.crypto = {});\na.crypto.DSA = function() {\n  var e = V;\n  e.getVbyList;\n  var t = e.getVbyListEx, r = e.isASN1HEX, i = R;\n  this.p = null, this.q = null, this.g = null, this.y = null, this.x = null, this.type = \"DSA\", this.isPrivate = !1, this.isPublic = !1, this.setPrivate = function(s, n, h, u, p) {\n    this.isPrivate = !0, this.p = s, this.q = n, this.g = h, this.y = u, this.x = p;\n  }, this.setPrivateHex = function(s, n, h, u, p) {\n    var c, y, v, o, l;\n    c = new R(s, 16), y = new R(n, 16), v = new R(h, 16), typeof u == \"string\" && u.length > 1 ? o = new R(u, 16) : o = null, l = new R(p, 16), this.setPrivate(c, y, v, o, l);\n  }, this.setPublic = function(s, n, h, u) {\n    this.isPublic = !0, this.p = s, this.q = n, this.g = h, this.y = u, this.x = null;\n  }, this.setPublicHex = function(s, n, h, u) {\n    var p, c, y, v;\n    p = new R(s, 16), c = new R(n, 16), y = new R(h, 16), v = new R(u, 16), this.setPublic(p, c, y, v);\n  }, this.signWithMessageHash = function(s) {\n    var n = this.p, h = this.q, u = this.g;\n    this.y;\n    var p = this.x, c = a.crypto.Util.getRandomBigIntegerMinToMax(R.ONE.add(R.ONE), h.subtract(R.ONE)), y = s.substr(0, h.bitLength() / 4), v = new R(y, 16), o = u.modPow(c, n).mod(h), l = c.modInverse(h).multiply(v.add(p.multiply(o))).mod(h), f = a.asn1.ASN1Util.jsonToASN1HEX({ seq: [{ int: { bigint: o } }, { int: { bigint: l } }] });\n    return f;\n  }, this.verifyWithMessageHash = function(s, n) {\n    var h = this.p, u = this.q, p = this.g, c = this.y, y = this.parseASN1Signature(n), v = y[0], o = y[1], l = s.substr(0, u.bitLength() / 4), f = new R(l, 16);\n    if (R.ZERO.compareTo(v) > 0 || v.compareTo(u) > 0 || R.ZERO.compareTo(o) >= 0 || o.compareTo(u) > 0)\n      throw \"invalid DSA signature\";\n    var d = o.modInverse(u), g = f.multiply(d).mod(u), S = v.multiply(d).mod(u), b = p.modPow(g, h).multiply(c.modPow(S, h)).mod(h).mod(u);\n    return b.compareTo(v) == 0;\n  }, this.parseASN1Signature = function(s) {\n    try {\n      var n = new i(t(s, 0, [0], \"02\"), 16), h = new i(t(s, 0, [1], \"02\"), 16);\n      return [n, h];\n    } catch {\n      throw new Error(\"malformed ASN.1 DSA signature\");\n    }\n  }, this.readPKCS5PrvKeyHex = function(s) {\n    var n, h, u, p, c;\n    if (r(s) === !1)\n      throw new Error(\"not ASN.1 hex string\");\n    try {\n      n = t(s, 0, [1], \"02\"), h = t(s, 0, [2], \"02\"), u = t(s, 0, [3], \"02\"), p = t(s, 0, [4], \"02\"), c = t(s, 0, [5], \"02\");\n    } catch {\n      throw new Error(\"malformed PKCS#1/5 plain DSA private key\");\n    }\n    this.setPrivateHex(n, h, u, p, c);\n  }, this.readPKCS8PrvKeyHex = function(s) {\n    var n, h, u, p;\n    if (r(s) === !1)\n      throw new Error(\"not ASN.1 hex string\");\n    try {\n      n = t(s, 0, [1, 1, 0], \"02\"), h = t(s, 0, [1, 1, 1], \"02\"), u = t(s, 0, [1, 1, 2], \"02\"), p = t(s, 0, [2, 0], \"02\");\n    } catch {\n      throw new Error(\"malformed PKCS#8 plain DSA private key\");\n    }\n    this.setPrivateHex(n, h, u, null, p);\n  }, this.readPKCS8PubKeyHex = function(s) {\n    var n, h, u, p;\n    if (r(s) === !1)\n      throw new Error(\"not ASN.1 hex string\");\n    try {\n      n = t(s, 0, [0, 1, 0], \"02\"), h = t(s, 0, [0, 1, 1], \"02\"), u = t(s, 0, [0, 1, 2], \"02\"), p = t(s, 0, [1, 0], \"02\");\n    } catch {\n      throw new Error(\"malformed PKCS#8 DSA public key\");\n    }\n    this.setPublicHex(n, h, u, p);\n  }, this.readCertPubKeyHex = function(s, n) {\n    var h, u, p, c;\n    if (r(s) === !1)\n      throw new Error(\"not ASN.1 hex string\");\n    try {\n      h = t(s, 0, [0, 5, 0, 1, 0], \"02\"), u = t(s, 0, [0, 5, 0, 1, 1], \"02\"), p = t(s, 0, [0, 5, 0, 1, 2], \"02\"), c = t(s, 0, [0, 5, 1, 0], \"02\");\n    } catch {\n      throw new Error(\"malformed X.509 certificate DSA public key\");\n    }\n    this.setPublicHex(h, u, p, c);\n  };\n};\nvar k = /* @__PURE__ */ function() {\n  var e = function(f, d, g) {\n    return i(K.AES, f, d, g);\n  }, t = function(f, d, g) {\n    return i(K.TripleDES, f, d, g);\n  }, r = function(f, d, g) {\n    return i(K.DES, f, d, g);\n  }, i = function(f, d, g, S) {\n    var b = K.enc.Hex.parse(d), D = K.enc.Hex.parse(g), A = K.enc.Hex.parse(S), I = {};\n    I.key = D, I.iv = A, I.ciphertext = b;\n    var m = f.decrypt(I, D, { iv: A });\n    return K.enc.Hex.stringify(m);\n  }, s = function(f, d, g) {\n    return u(K.AES, f, d, g);\n  }, n = function(f, d, g) {\n    return u(K.TripleDES, f, d, g);\n  }, h = function(f, d, g) {\n    return u(K.DES, f, d, g);\n  }, u = function(f, d, g, S) {\n    var b = K.enc.Hex.parse(d), D = K.enc.Hex.parse(g), A = K.enc.Hex.parse(S), I = f.encrypt(b, D, { iv: A }), m = K.enc.Hex.parse(I.toString()), E = K.enc.Base64.stringify(m);\n    return E;\n  }, p = { \"AES-256-CBC\": { proc: e, eproc: s, keylen: 32, ivlen: 16 }, \"AES-192-CBC\": { proc: e, eproc: s, keylen: 24, ivlen: 16 }, \"AES-128-CBC\": { proc: e, eproc: s, keylen: 16, ivlen: 16 }, \"DES-EDE3-CBC\": { proc: t, eproc: n, keylen: 24, ivlen: 8 }, \"DES-CBC\": { proc: r, eproc: h, keylen: 8, ivlen: 8 } }, c = function(f) {\n    var d = K.lib.WordArray.random(f), g = K.enc.Hex.stringify(d);\n    return g;\n  }, y = function(f) {\n    var d = {}, g = f.match(new RegExp(\"DEK-Info: ([^,]+),([0-9A-Fa-f]+)\", \"m\"));\n    g && (d.cipher = g[1], d.ivsalt = g[2]);\n    var S = f.match(new RegExp(\"-----BEGIN ([A-Z]+) PRIVATE KEY-----\"));\n    S && (d.type = S[1]);\n    var b = -1, D = 0;\n    f.indexOf(`\\r\n\\r\n`) != -1 && (b = f.indexOf(`\\r\n\\r\n`), D = 2), f.indexOf(`\n\n`) != -1 && (b = f.indexOf(`\n\n`), D = 1);\n    var A = f.indexOf(\"-----END\");\n    if (b != -1 && A != -1) {\n      var I = f.substring(b + D * 2, A - D);\n      I = I.replace(/\\s+/g, \"\"), d.data = I;\n    }\n    return d;\n  }, v = function(f, d, g) {\n    for (var S = g.substring(0, 16), b = K.enc.Hex.parse(S), D = K.enc.Utf8.parse(d), A = p[f].keylen + p[f].ivlen, I = \"\", m = null; ; ) {\n      var E = K.algo.MD5.create();\n      if (m != null && E.update(m), E.update(D), E.update(b), m = E.finalize(), I = I + K.enc.Hex.stringify(m), I.length >= A * 2)\n        break;\n    }\n    var w = {};\n    return w.keyhex = I.substr(0, p[f].keylen * 2), w.ivhex = I.substr(p[f].keylen * 2, p[f].ivlen * 2), w;\n  }, o = function(f, d, g, S) {\n    var b = K.enc.Base64.parse(f), D = K.enc.Hex.stringify(b), A = p[d].proc, I = A(D, g, S);\n    return I;\n  }, l = function(f, d, g, S) {\n    var b = p[d].eproc, D = b(f, g, S);\n    return D;\n  };\n  return { version: \"1.0.0\", parsePKCS5PEM: function(f) {\n    return y(f);\n  }, getKeyAndUnusedIvByPasscodeAndIvsalt: function(f, d, g) {\n    return v(f, d, g);\n  }, decryptKeyB64: function(f, d, g, S) {\n    return o(f, d, g, S);\n  }, getDecryptedKeyHex: function(f, d) {\n    var g = y(f), S = g.cipher, b = g.ivsalt, D = g.data, A = v(S, d, b), I = A.keyhex, m = o(D, S, I, b);\n    return m;\n  }, getEncryptedPKCS5PEMFromPrvKeyHex: function(f, d, g, S, b) {\n    var x = \"\";\n    if ((typeof S > \"u\" || S == null) && (S = \"AES-256-CBC\"), typeof p[S] > \"u\")\n      throw new Error(\"KEYUTIL unsupported algorithm: \" + S);\n    if (typeof b > \"u\" || b == null) {\n      var D = p[S].ivlen, A = c(D);\n      b = A.toUpperCase();\n    }\n    var I = v(S, g, b), m = I.keyhex, E = l(d, S, m, b), w = E.replace(/(.{64})/g, `$1\\r\n`), x = \"-----BEGIN \" + f + ` PRIVATE KEY-----\\r\n`;\n    return x += `Proc-Type: 4,ENCRYPTED\\r\n`, x += \"DEK-Info: \" + S + \",\" + b + `\\r\n`, x += `\\r\n`, x += w, x += `\\r\n-----END ` + f + ` PRIVATE KEY-----\\r\n`, x;\n  }, getEncryptedPKCS8PEM: function(f, d, g) {\n    var S = this.getEncryptedPKCS8Hex(f, d, g);\n    return de(S, \"ENCRYPTED PRIVATE KEY\");\n  }, getEncryptedPKCS8Hex: function(f, d, g) {\n    var S;\n    g == null || g == null ? S = {} : S = JSON.parse(JSON.stringify(g)), S.plain = f, this.initPBES2Param(S), this.encryptPBES2Param(S, d);\n    var b = this.generatePBES2ASN1Param(S);\n    return a.asn1.ASN1Util.newObject(b).tohex();\n  }, initPBES2Param: function(f) {\n    if (J(f, \"encalg\") == null && (f.encalg = \"aes256-CBC\"), J(f, \"iter\") == null && (f.iter = 2048), J(f, \"prf\") == null && (f.prf = \"hmacWithSHA256\"), J(f, \"salt\") == null && (f.salt = K.enc.Hex.stringify(K.lib.WordArray.random(8))), J(f, \"enciv\") == null) {\n      var d;\n      f.encalg == \"des-EDE3-CBC\" && (d = 8), f.encalg == \"aes128-CBC\" && (d = 16), f.encalg == \"aes256-CBC\" && (d = 16), f.enciv = K.enc.Hex.stringify(K.lib.WordArray.random(d));\n    }\n  }, encryptPBES2Param: function(f, d) {\n    var g = k.getDKFromPBES2Param(f, d);\n    try {\n      var S = a.crypto.Cipher.encrypt(f.plain, g, f.encalg, { iv: f.enciv });\n    } catch {\n      throw new Error(\"encrypt error: \" + f.plain + \" \" + g + \" \" + f.encalg + \" \" + f.enciv);\n    }\n    f.enc = S;\n  }, generatePBES2ASN1Param: function(f) {\n    var d = { seq: [{ seq: [{ oid: \"pkcs5PBES2\" }, { seq: [{ seq: [{ oid: \"pkcs5PBKDF2\" }, { seq: [{ octstr: { hex: f.salt } }, { int: { hex: xn(f.iter) } }] }] }, { seq: [{ oid: f.encalg }, { octstr: { hex: f.enciv } }] }] }] }, { octstr: { hex: f.enc } }] };\n    return f.prf != \"hmacWithSHA1\" && d.seq[0].seq[1].seq[0].seq[1].seq.push({ seq: [{ oid: f.prf }, { null: \"\" }] }), d;\n  }, parseHexOfEncryptedPKCS8: function(f) {\n    var d = V, g = d.getChildIdx, S = d.getV, b = {}, D = g(f, 0);\n    if (D.length != 2)\n      throw new Error(\"malformed format: SEQUENCE(0).items != 2: \" + D.length);\n    b.ciphertext = S(f, D[1]);\n    var A = g(f, D[0]);\n    if (A.length != 2)\n      throw new Error(\"malformed format: SEQUENCE(0.0).items != 2: \" + A.length);\n    if (S(f, A[0]) != \"2a864886f70d01050d\")\n      throw new Error(\"this only supports pkcs5PBES2\");\n    var I = g(f, A[1]);\n    if (A.length != 2)\n      throw new Error(\"malformed format: SEQUENCE(0.0.1).items != 2: \" + I.length);\n    var m = g(f, I[1]);\n    if (m.length != 2)\n      throw new Error(\"malformed format: SEQUENCE(0.0.1.1).items != 2: \" + m.length);\n    if (S(f, m[0]) != \"2a864886f70d0307\")\n      throw \"this only supports TripleDES\";\n    b.encryptionSchemeAlg = \"TripleDES\", b.encryptionSchemeIV = S(f, m[1]);\n    var E = g(f, I[0]);\n    if (E.length != 2)\n      throw new Error(\"malformed format: SEQUENCE(0.0.1.0).items != 2: \" + E.length);\n    if (S(f, E[0]) != \"2a864886f70d01050c\")\n      throw new Error(\"this only supports pkcs5PBKDF2\");\n    var w = g(f, E[1]);\n    if (w.length < 2)\n      throw new Error(\"malformed format: SEQUENCE(0.0.1.0.1).items < 2: \" + w.length);\n    b.pbkdf2Salt = S(f, w[0]);\n    var x = S(f, w[1]);\n    try {\n      b.pbkdf2Iter = parseInt(x, 16);\n    } catch {\n      throw new Error(\"malformed format pbkdf2Iter: \" + x);\n    }\n    return b;\n  }, getPBKDF2KeyHexFromParam: function(f, d) {\n    var g = K.enc.Hex.parse(f.pbkdf2Salt), S = f.pbkdf2Iter, b = K.PBKDF2(d, g, { keySize: 192 / 32, iterations: S }), D = K.enc.Hex.stringify(b);\n    return D;\n  }, _getPlainPKCS8HexFromEncryptedPKCS8PEM: function(f, d) {\n    var g = ie(f, \"ENCRYPTED PRIVATE KEY\"), S = this.parseHexOfEncryptedPKCS8(g), b = k.getPBKDF2KeyHexFromParam(S, d), D = {};\n    D.ciphertext = K.enc.Hex.parse(S.ciphertext);\n    var A = K.enc.Hex.parse(b), I = K.enc.Hex.parse(S.encryptionSchemeIV), m = K.TripleDES.decrypt(D, A, { iv: I }), E = K.enc.Hex.stringify(m);\n    return E;\n  }, parsePBES2: function(f) {\n    var d = V.parse(f);\n    if (J(d, \"seq.0.seq.0.oid\") != \"pkcs5PBES2\" || J(d, \"seq.0.seq.1.seq.0.seq.0.oid\") != \"pkcs5PBKDF2\")\n      throw new Error(\"not pkcs5PBES2 and pkcs5PBKDF2 used\");\n    var g = J(d, \"seq.0.seq.1.seq.0.seq.1.seq\");\n    if (g == null)\n      throw new Error(\"PBKDF2 parameter not found\");\n    var S = J(g, \"0.octstr.hex\"), b = J(g, \"1.int.hex\"), D = J(g, \"2.seq.0.oid\", \"hmacWithSHA1\"), A = -1;\n    try {\n      A = parseInt(b, 16);\n    } catch {\n      throw new Error(\"iter not proper value\");\n    }\n    var I = J(d, \"seq.0.seq.1.seq.1.seq.0.oid\"), m = J(d, \"seq.0.seq.1.seq.1.seq.1.octstr.hex\"), E = J(d, \"seq.1.octstr.hex\");\n    if (I == null || m == null || E == null)\n      throw new Error(\"encalg, enciv or enc is undefined\");\n    var w = { salt: S, iter: A, prf: D, encalg: I, enciv: m, enc: E };\n    return w;\n  }, getDKFromPBES2Param: function(f, d) {\n    var g = { hmacWithSHA1: K.algo.SHA1, hmacWithSHA224: K.algo.SHA224, hmacWithSHA256: K.algo.SHA256, hmacWithSHA384: K.algo.SHA384, hmacWithSHA512: K.algo.SHA512 }, S = { \"des-EDE3-CBC\": 192 / 32, \"aes128-CBC\": 128 / 32, \"aes256-CBC\": 256 / 32 }, b = g[f.prf];\n    if (b == null)\n      throw new Error(\"unsupported prf\");\n    var D = S[f.encalg];\n    if (D == null)\n      throw new Error(\"unsupported encalg\");\n    var A = K.enc.Hex.parse(f.salt), I = f.iter;\n    try {\n      var m = K.PBKDF2(d, A, { keySize: D, iterations: I, hasher: b });\n      return K.enc.Hex.stringify(m);\n    } catch (E) {\n      throw new Error(\"PBKDF2 error: \" + E + \" \" + JSON.stringify(f) + \" \" + d);\n    }\n  }, getPlainHexFromEncryptedPKCS8PEM: function(f, d) {\n    if (f.indexOf(\"BEGIN ENCRYPTED PRIVATE KEY\") == -1)\n      throw new Error(\"not Encrypted PKCS#8 PEM string\");\n    var g = ie(f), S;\n    try {\n      S = k.parsePBES2(g);\n    } catch (D) {\n      throw new Error(\"malformed PBES2 format: \" + D.message);\n    }\n    var b = k.getDKFromPBES2Param(S, d);\n    return a.crypto.Cipher.decrypt(S.enc, b, S.encalg, { iv: S.enciv });\n  }, getKeyFromEncryptedPKCS8PEM: function(f, d) {\n    var g = this.getPlainHexFromEncryptedPKCS8PEM(f, d), S = this.getKeyFromPlainPrivatePKCS8Hex(g);\n    return S;\n  }, parsePlainPrivatePKCS8Hex: function(f) {\n    var d = V, g = d.getChildIdx, S = d.getV, b = {};\n    if (b.algparam = null, f.substr(0, 2) != \"30\")\n      throw new Error(\"malformed plain PKCS8 private key(code:001)\");\n    var D = g(f, 0);\n    if (D.length < 3)\n      throw new Error(\"malformed plain PKCS8 private key(code:002)\");\n    if (f.substr(D[1], 2) != \"30\")\n      throw new Error(\"malformed PKCS8 private key(code:003)\");\n    var A = g(f, D[1]);\n    if (A.length != 2)\n      throw new Error(\"malformed PKCS8 private key(code:004)\");\n    if (f.substr(A[0], 2) != \"06\")\n      throw new Error(\"malformed PKCS8 private key(code:005)\");\n    if (b.algoid = S(f, A[0]), f.substr(A[1], 2) == \"06\" && (b.algparam = S(f, A[1])), f.substr(D[2], 2) != \"04\")\n      throw new Error(\"malformed PKCS8 private key(code:006)\");\n    return b.keyidx = d.getVidx(f, D[2]), b;\n  }, getKeyFromPlainPrivatePKCS8PEM: function(f) {\n    var d = ie(f, \"PRIVATE KEY\"), g = this.getKeyFromPlainPrivatePKCS8Hex(d);\n    return g;\n  }, getKeyFromPlainPrivatePKCS8Hex: function(f) {\n    var d = this.parsePlainPrivatePKCS8Hex(f), g;\n    if (d.algoid == \"2a864886f70d010101\")\n      g = new q();\n    else if (d.algoid == \"2a8648ce380401\")\n      g = new a.crypto.DSA();\n    else if (d.algoid == \"2a8648ce3d0201\")\n      g = new a.crypto.ECDSA();\n    else\n      throw new Error(\"unsupported private key algorithm\");\n    return g.readPKCS8PrvKeyHex(f), g;\n  }, _getKeyFromPublicPKCS8Hex: function(f) {\n    var d, g = V.getVbyList(f, 0, [0, 0], \"06\");\n    if (g === \"2a864886f70d010101\")\n      d = new q();\n    else if (g === \"2a8648ce380401\")\n      d = new a.crypto.DSA();\n    else if (g === \"2a8648ce3d0201\")\n      d = new a.crypto.ECDSA();\n    else\n      throw new Error(\"unsupported PKCS#8 public key hex\");\n    return d.readPKCS8PubKeyHex(f), d;\n  }, parsePublicRawRSAKeyHex: function(f) {\n    var d = V, g = d.getChildIdx, S = d.getV, b = {};\n    if (f.substr(0, 2) != \"30\")\n      throw new Error(\"malformed RSA key(code:001)\");\n    var D = g(f, 0);\n    if (D.length != 2)\n      throw new Error(\"malformed RSA key(code:002)\");\n    if (f.substr(D[0], 2) != \"02\")\n      throw new Error(\"malformed RSA key(code:003)\");\n    if (b.n = S(f, D[0]), f.substr(D[1], 2) != \"02\")\n      throw new Error(\"malformed RSA key(code:004)\");\n    return b.e = S(f, D[1]), b;\n  }, parsePublicPKCS8Hex: function(f) {\n    var d = V, g = d.getChildIdx, S = d.getV, b = {};\n    b.algparam = null;\n    var D = g(f, 0);\n    if (D.length != 2)\n      throw new Error(\"outer DERSequence shall have 2 elements: \" + D.length);\n    var A = D[0];\n    if (f.substr(A, 2) != \"30\")\n      throw new Error(\"malformed PKCS8 public key(code:001)\");\n    var I = g(f, A);\n    if (I.length != 2)\n      throw new Error(\"malformed PKCS8 public key(code:002)\");\n    if (f.substr(I[0], 2) != \"06\")\n      throw new Error(\"malformed PKCS8 public key(code:003)\");\n    if (b.algoid = S(f, I[0]), f.substr(I[1], 2) == \"06\" ? b.algparam = S(f, I[1]) : f.substr(I[1], 2) == \"30\" && (b.algparam = {}, b.algparam.p = d.getVbyList(f, I[1], [0], \"02\"), b.algparam.q = d.getVbyList(f, I[1], [1], \"02\"), b.algparam.g = d.getVbyList(f, I[1], [2], \"02\")), f.substr(D[1], 2) != \"03\")\n      throw new Error(\"malformed PKCS8 public key(code:004)\");\n    return b.key = S(f, D[1]).substr(2), b;\n  } };\n}();\nk.getKey = function(e, t, r) {\n  var i = V, s = i.getChildIdx;\n  i.getV;\n  var n = i.getVbyList, h = a.crypto, u = h.ECDSA, p = h.DSA, c = q, y = ie, v = k;\n  if (typeof c < \"u\" && e instanceof c || typeof u < \"u\" && e instanceof u || typeof p < \"u\" && e instanceof p)\n    return e;\n  if (e.curve !== void 0 && e.xy !== void 0 && e.d === void 0)\n    return new u({ pub: e.xy, curve: e.curve });\n  if (e.curve !== void 0 && e.d !== void 0)\n    return new u({ prv: e.d, curve: e.curve });\n  if (e.kty === void 0 && e.n !== void 0 && e.e !== void 0 && e.d === void 0) {\n    var o = new c();\n    return o.setPublic(e.n, e.e), o;\n  }\n  if (e.kty === void 0 && e.n !== void 0 && e.e !== void 0 && e.d !== void 0 && e.p !== void 0 && e.q !== void 0 && e.dp !== void 0 && e.dq !== void 0 && e.co !== void 0 && e.qi === void 0) {\n    var o = new c();\n    return o.setPrivateEx(e.n, e.e, e.d, e.p, e.q, e.dp, e.dq, e.co), o;\n  }\n  if (e.kty === void 0 && e.n !== void 0 && e.e !== void 0 && e.d !== void 0 && e.p === void 0) {\n    var o = new c();\n    return o.setPrivate(e.n, e.e, e.d), o;\n  }\n  if (e.p !== void 0 && e.q !== void 0 && e.g !== void 0 && e.y !== void 0 && e.x === void 0) {\n    var o = new p();\n    return o.setPublic(e.p, e.q, e.g, e.y), o;\n  }\n  if (e.p !== void 0 && e.q !== void 0 && e.g !== void 0 && e.y !== void 0 && e.x !== void 0) {\n    var o = new p();\n    return o.setPrivate(e.p, e.q, e.g, e.y, e.x), o;\n  }\n  if (e.kty === \"RSA\" && e.n !== void 0 && e.e !== void 0 && e.d === void 0) {\n    var o = new c();\n    return o.setPublic(Y(e.n), Y(e.e)), o;\n  }\n  if (e.kty === \"RSA\" && e.n !== void 0 && e.e !== void 0 && e.d !== void 0 && e.p !== void 0 && e.q !== void 0 && e.dp !== void 0 && e.dq !== void 0 && e.qi !== void 0) {\n    var o = new c();\n    return o.setPrivateEx(Y(e.n), Y(e.e), Y(e.d), Y(e.p), Y(e.q), Y(e.dp), Y(e.dq), Y(e.qi)), o;\n  }\n  if (e.kty === \"RSA\" && e.n !== void 0 && e.e !== void 0 && e.d !== void 0) {\n    var o = new c();\n    return o.setPrivate(Y(e.n), Y(e.e), Y(e.d)), o;\n  }\n  if (e.kty === \"EC\" && e.crv !== void 0 && e.x !== void 0 && e.y !== void 0 && e.d === void 0) {\n    var l = new u({ curve: e.crv }), f = l.ecparams.keycharlen, d = (\"0000000000\" + Y(e.x)).slice(-f), g = (\"0000000000\" + Y(e.y)).slice(-f), S = \"04\" + d + g;\n    return l.setPublicKeyHex(S), l;\n  }\n  if (e.kty === \"EC\" && e.crv !== void 0 && e.x !== void 0 && e.y !== void 0 && e.d !== void 0) {\n    var l = new u({ curve: e.crv }), f = l.ecparams.keycharlen, d = (\"0000000000\" + Y(e.x)).slice(-f), g = (\"0000000000\" + Y(e.y)).slice(-f), S = \"04\" + d + g, b = (\"0000000000\" + Y(e.d)).slice(-f);\n    return l.setPublicKeyHex(S), l.setPrivateKeyHex(b), l;\n  }\n  if (r === \"pkcs5prv\") {\n    var D = e, i = V, A, o;\n    if (A = s(D, 0), A.length === 9)\n      o = new c(), o.readPKCS5PrvKeyHex(D);\n    else if (A.length === 6)\n      o = new p(), o.readPKCS5PrvKeyHex(D);\n    else if (A.length > 2 && D.substr(A[1], 2) === \"04\")\n      o = new u(), o.readPKCS5PrvKeyHex(D);\n    else\n      throw new Error(\"unsupported PKCS#1/5 hexadecimal key\");\n    return o;\n  }\n  if (r === \"pkcs8prv\") {\n    var o = v.getKeyFromPlainPrivatePKCS8Hex(e);\n    return o;\n  }\n  if (r === \"pkcs8pub\")\n    return v._getKeyFromPublicPKCS8Hex(e);\n  if (r === \"x509pub\")\n    return L.getPublicKeyFromCertHex(e);\n  if (e.indexOf(\"-END CERTIFICATE-\", 0) != -1 || e.indexOf(\"-END X509 CERTIFICATE-\", 0) != -1 || e.indexOf(\"-END TRUSTED CERTIFICATE-\", 0) != -1)\n    return L.getPublicKeyFromCertPEM(e);\n  if (e.indexOf(\"-END PUBLIC KEY-\") != -1) {\n    var I = ie(e, \"PUBLIC KEY\");\n    return v._getKeyFromPublicPKCS8Hex(I);\n  }\n  if (e.indexOf(\"-END RSA PRIVATE KEY-\") != -1 && e.indexOf(\"4,ENCRYPTED\") == -1) {\n    var m = y(e, \"RSA PRIVATE KEY\");\n    return v.getKey(m, null, \"pkcs5prv\");\n  }\n  if (e.indexOf(\"-END DSA PRIVATE KEY-\") != -1 && e.indexOf(\"4,ENCRYPTED\") == -1) {\n    var E = y(e, \"DSA PRIVATE KEY\"), w = n(E, 0, [1], \"02\"), x = n(E, 0, [2], \"02\"), F = n(E, 0, [3], \"02\"), P = n(E, 0, [4], \"02\"), T = n(E, 0, [5], \"02\"), o = new p();\n    return o.setPrivate(new R(w, 16), new R(x, 16), new R(F, 16), new R(P, 16), new R(T, 16)), o;\n  }\n  if (e.indexOf(\"-END EC PRIVATE KEY-\") != -1 && e.indexOf(\"4,ENCRYPTED\") == -1) {\n    var m = y(e, \"EC PRIVATE KEY\");\n    return v.getKey(m, null, \"pkcs5prv\");\n  }\n  if (e.indexOf(\"-END PRIVATE KEY-\") != -1)\n    return v.getKeyFromPlainPrivatePKCS8PEM(e);\n  if (e.indexOf(\"-END RSA PRIVATE KEY-\") != -1 && e.indexOf(\"4,ENCRYPTED\") != -1) {\n    var H = v.getDecryptedKeyHex(e, t), C = new q();\n    return C.readPKCS5PrvKeyHex(H), C;\n  }\n  if (e.indexOf(\"-END EC PRIVATE KEY-\") != -1 && e.indexOf(\"4,ENCRYPTED\") != -1) {\n    var E = v.getDecryptedKeyHex(e, t), o = n(E, 0, [1], \"04\"), B = n(E, 0, [2, 0], \"06\"), O = n(E, 0, [3, 0], \"03\").substr(2), j = \"\";\n    if (a.crypto.OID.oidhex2name[B] !== void 0)\n      j = a.crypto.OID.oidhex2name[B];\n    else\n      throw new Error(\"undefined OID(hex) in KJUR.crypto.OID: \" + B);\n    var l = new u({ curve: j });\n    return l.setPublicKeyHex(O), l.setPrivateKeyHex(o), l.isPublic = !1, l;\n  }\n  if (e.indexOf(\"-END DSA PRIVATE KEY-\") != -1 && e.indexOf(\"4,ENCRYPTED\") != -1) {\n    var E = v.getDecryptedKeyHex(e, t), w = n(E, 0, [1], \"02\"), x = n(E, 0, [2], \"02\"), F = n(E, 0, [3], \"02\"), P = n(E, 0, [4], \"02\"), T = n(E, 0, [5], \"02\"), o = new p();\n    return o.setPrivate(new R(w, 16), new R(x, 16), new R(F, 16), new R(P, 16), new R(T, 16)), o;\n  }\n  if (e.indexOf(\"-END ENCRYPTED PRIVATE KEY-\") != -1)\n    return v.getKeyFromEncryptedPKCS8PEM(e, t);\n  throw new Error(\"not supported argument\");\n};\nk.generateKeypair = function(e, t) {\n  if (e == \"RSA\") {\n    var r = t, i = new q();\n    i.generate(r, \"10001\"), i.isPrivate = !0, i.isPublic = !0;\n    var s = new q(), n = i.n.toString(16), h = i.e.toString(16);\n    s.setPublic(n, h), s.isPrivate = !1, s.isPublic = !0;\n    var u = {};\n    return u.prvKeyObj = i, u.pubKeyObj = s, u;\n  } else if (e == \"EC\") {\n    var p = t, c = new a.crypto.ECDSA({ curve: p }), y = c.generateKeyPairHex(), i = new a.crypto.ECDSA({ curve: p });\n    i.setPublicKeyHex(y.ecpubhex), i.setPrivateKeyHex(y.ecprvhex), i.isPrivate = !0, i.isPublic = !1;\n    var s = new a.crypto.ECDSA({ curve: p });\n    s.setPublicKeyHex(y.ecpubhex), s.isPrivate = !1, s.isPublic = !0;\n    var u = {};\n    return u.prvKeyObj = i, u.pubKeyObj = s, u;\n  } else\n    throw new Error(\"unknown algorithm: \" + e);\n};\nk.getPEM = function(e, t, r, i, s, n) {\n  var h = a, u = h.asn1, p = u.DERObjectIdentifier, c = u.DERInteger, y = u.ASN1Util.newObject, v = u.x509, o = v.SubjectPublicKeyInfo, l = h.crypto, f = l.DSA, d = l.ECDSA, g = q;\n  function S(B) {\n    var O = y({ seq: [{ int: 0 }, { int: { bigint: B.n } }, { int: B.e }, { int: { bigint: B.d } }, { int: { bigint: B.p } }, { int: { bigint: B.q } }, { int: { bigint: B.dmp1 } }, { int: { bigint: B.dmq1 } }, { int: { bigint: B.coeff } }] });\n    return O;\n  }\n  function b(B) {\n    var O = y({ seq: [{ int: 1 }, { octstr: { hex: B.prvKeyHex } }, { tag: [\"a0\", !0, { oid: { name: B.curveName } }] }, { tag: [\"a1\", !0, { bitstr: { hex: \"00\" + B.pubKeyHex } }] }] });\n    return O;\n  }\n  function D(B) {\n    var O = y({ seq: [{ int: 0 }, { int: { bigint: B.p } }, { int: { bigint: B.q } }, { int: { bigint: B.g } }, { int: { bigint: B.y } }, { int: { bigint: B.x } }] });\n    return O;\n  }\n  if ((g !== void 0 && e instanceof g || f !== void 0 && e instanceof f || d !== void 0 && e instanceof d) && e.isPublic == !0 && (t === void 0 || t == \"PKCS8PUB\")) {\n    var A = new o(e), I = A.tohex();\n    return de(I, \"PUBLIC KEY\");\n  }\n  if (t == \"PKCS1PRV\" && g !== void 0 && e instanceof g && (r === void 0 || r == null) && e.isPrivate == !0) {\n    var A = S(e), I = A.tohex();\n    return de(I, \"RSA PRIVATE KEY\");\n  }\n  if (t == \"PKCS1PRV\" && d !== void 0 && e instanceof d && (r === void 0 || r == null) && e.isPrivate == !0) {\n    var m = new p({ name: e.curveName }), E = m.tohex(), w = b(e), x = w.tohex(), F = \"\";\n    return F += de(E, \"EC PARAMETERS\"), F += de(x, \"EC PRIVATE KEY\"), F;\n  }\n  if (t == \"PKCS1PRV\" && f !== void 0 && e instanceof f && (r === void 0 || r == null) && e.isPrivate == !0) {\n    var A = D(e), I = A.tohex();\n    return de(I, \"DSA PRIVATE KEY\");\n  }\n  if (t == \"PKCS5PRV\" && g !== void 0 && e instanceof g && r !== void 0 && r != null && e.isPrivate == !0) {\n    var A = S(e), I = A.tohex();\n    return i === void 0 && (i = \"DES-EDE3-CBC\"), this.getEncryptedPKCS5PEMFromPrvKeyHex(\"RSA\", I, r, i, n);\n  }\n  if (t == \"PKCS5PRV\" && d !== void 0 && e instanceof d && r !== void 0 && r != null && e.isPrivate == !0) {\n    var A = b(e), I = A.tohex();\n    return i === void 0 && (i = \"DES-EDE3-CBC\"), this.getEncryptedPKCS5PEMFromPrvKeyHex(\"EC\", I, r, i, n);\n  }\n  if (t == \"PKCS5PRV\" && f !== void 0 && e instanceof f && r !== void 0 && r != null && e.isPrivate == !0) {\n    var A = D(e), I = A.tohex();\n    return i === void 0 && (i = \"DES-EDE3-CBC\"), this.getEncryptedPKCS5PEMFromPrvKeyHex(\"DSA\", I, r, i, n);\n  }\n  var P = function(B, O) {\n    if (typeof O == \"string\")\n      return k.getEncryptedPKCS8PEM(B, O);\n    if (typeof O == \"object\" && J(O, \"passcode\") != null) {\n      var j = JSON.parse(JSON.stringify(O)), fe = j.passcode;\n      return delete j.passcode, k.getEncryptedPKCS8PEM(B, fe, j);\n    }\n  };\n  if (t == \"PKCS8PRV\" && g != null && e instanceof g && e.isPrivate == !0) {\n    var T = S(e), H = T.tohex(), A = y({ seq: [{ int: 0 }, { seq: [{ oid: { name: \"rsaEncryption\" } }, { null: !0 }] }, { octstr: { hex: H } }] }), I = A.tohex();\n    return r === void 0 || r == null ? de(I, \"PRIVATE KEY\") : P(I, r);\n  }\n  if (t == \"PKCS8PRV\" && d !== void 0 && e instanceof d && e.isPrivate == !0) {\n    var C = { seq: [{ int: 1 }, { octstr: { hex: e.prvKeyHex } }] };\n    typeof e.pubKeyHex == \"string\" && C.seq.push({ tag: [\"a1\", !0, { bitstr: { hex: \"00\" + e.pubKeyHex } }] });\n    var T = new y(C), H = T.tohex(), A = y({ seq: [{ int: 0 }, { seq: [{ oid: { name: \"ecPublicKey\" } }, { oid: { name: e.curveName } }] }, { octstr: { hex: H } }] }), I = A.tohex();\n    return r === void 0 || r == null ? de(I, \"PRIVATE KEY\") : P(I, r);\n  }\n  if (t == \"PKCS8PRV\" && f !== void 0 && e instanceof f && e.isPrivate == !0) {\n    var T = new c({ bigint: e.x }), H = T.tohex(), A = y({ seq: [{ int: 0 }, { seq: [{ oid: { name: \"dsa\" } }, { seq: [{ int: { bigint: e.p } }, { int: { bigint: e.q } }, { int: { bigint: e.g } }] }] }, { octstr: { hex: H } }] }), I = A.tohex();\n    return r === void 0 || r == null ? de(I, \"PRIVATE KEY\") : P(I, r);\n  }\n  throw new Error(\"unsupported object nor format\");\n};\nk.getKeyFromCSRPEM = function(e) {\n  var t = ie(e, \"CERTIFICATE REQUEST\"), r = k.getKeyFromCSRHex(t);\n  return r;\n};\nk.getKeyFromCSRHex = function(e) {\n  var t = k.parseCSRHex(e), r = k.getKey(t.p8pubkeyhex, null, \"pkcs8pub\");\n  return r;\n};\nk.parseCSRHex = function(e) {\n  var t = V, r = t.getChildIdx, i = t.getTLV, s = {}, n = e;\n  if (n.substr(0, 2) != \"30\")\n    throw new Error(\"malformed CSR(code:001)\");\n  var h = r(n, 0);\n  if (h.length < 1)\n    throw new Error(\"malformed CSR(code:002)\");\n  if (n.substr(h[0], 2) != \"30\")\n    throw new Error(\"malformed CSR(code:003)\");\n  var u = r(n, h[0]);\n  if (u.length < 3)\n    throw new Error(\"malformed CSR(code:004)\");\n  return s.p8pubkeyhex = i(n, u[2]), s;\n};\nk.getKeyID = function(e) {\n  var t = k, r = V;\n  typeof e == \"string\" && e.indexOf(\"BEGIN \") != -1 && (e = t.getKey(e));\n  var i = ie(t.getPEM(e)), s = r.getIdxbyList(i, 0, [1]), n = r.getV(i, s).substring(2);\n  return a.crypto.Util.hashHex(n, \"sha1\");\n};\nk.getJWK = function(e, t, r, i, s) {\n  var n, h = {}, u, p = a.crypto.Util.hashHex;\n  if (typeof e == \"string\")\n    n = k.getKey(e), e.indexOf(\"CERTIFICATE\") != -1 && (u = ie(e));\n  else if (typeof e == \"object\")\n    e instanceof L ? (n = e.getPublicKey(), u = e.hex) : n = e;\n  else\n    throw new Error(\"unsupported keyinfo type\");\n  if (n instanceof q && n.isPrivate)\n    h.kty = \"RSA\", h.n = ae(n.n.toString(16)), h.e = ae(n.e.toString(16)), h.d = ae(n.d.toString(16)), h.p = ae(n.p.toString(16)), h.q = ae(n.q.toString(16)), h.dp = ae(n.dmp1.toString(16)), h.dq = ae(n.dmq1.toString(16)), h.qi = ae(n.coeff.toString(16));\n  else if (n instanceof q && n.isPublic)\n    h.kty = \"RSA\", h.n = ae(n.n.toString(16)), h.e = ae(n.e.toString(16));\n  else if (n instanceof a.crypto.ECDSA && n.isPrivate) {\n    var c = n.getShortNISTPCurveName();\n    if (c !== \"P-256\" && c !== \"P-384\" && c !== \"P-521\")\n      throw new Error(\"unsupported curve name for JWT: \" + c);\n    var y = n.getPublicKeyXYHex();\n    h.kty = \"EC\", h.crv = c, h.x = ae(y.x), h.y = ae(y.y), h.d = ae(n.prvKeyHex);\n  } else if (n instanceof a.crypto.ECDSA && n.isPublic) {\n    var c = n.getShortNISTPCurveName();\n    if (c !== \"P-256\" && c !== \"P-384\" && c !== \"P-521\")\n      throw new Error(\"unsupported curve name for JWT: \" + c);\n    var y = n.getPublicKeyXYHex();\n    h.kty = \"EC\", h.crv = c, h.x = ae(y.x), h.y = ae(y.y);\n  }\n  if (h.kty == null)\n    throw new Error(\"unsupported keyinfo\");\n  return !n.isPrivate && t != !0 && (h.kid = a.jws.JWS.getJWKthumbprint(h)), u != null && r != !0 && (h.x5c = [_e(u)]), u != null && i != !0 && (h.x5t = Xe(_e(p(u, \"sha1\")))), u != null && s != !0 && (h[\"x5t#S256\"] = Xe(_e(p(u, \"sha256\")))), h;\n};\nk.getJWKFromKey = function(e) {\n  return k.getJWK(e, !0, !0, !0, !0);\n};\nq.getPosArrayOfChildrenFromHex = function(e) {\n  return V.getChildIdx(e, 0);\n};\nq.getHexValueArrayOfChildrenFromHex = function(e) {\n  var t = V, r = t.getV, o = q.getPosArrayOfChildrenFromHex(e), i = r(e, o[0]), s = r(e, o[1]), n = r(e, o[2]), h = r(e, o[3]), u = r(e, o[4]), p = r(e, o[5]), c = r(e, o[6]), y = r(e, o[7]), v = r(e, o[8]), o = new Array();\n  return o.push(i, s, n, h, u, p, c, y, v), o;\n};\nq.prototype.readPrivateKeyFromPEMString = function(e) {\n  var t = ie(e), r = q.getHexValueArrayOfChildrenFromHex(t);\n  this.setPrivateEx(r[1], r[2], r[3], r[4], r[5], r[6], r[7], r[8]);\n};\nq.prototype.readPKCS5PrvKeyHex = function(e) {\n  var t = q.getHexValueArrayOfChildrenFromHex(e);\n  this.setPrivateEx(t[1], t[2], t[3], t[4], t[5], t[6], t[7], t[8]);\n};\nq.prototype.readPKCS8PrvKeyHex = function(e) {\n  var t, r, i, s, n, h, u, p, c = V, y = c.getVbyListEx;\n  if (c.isASN1HEX(e) === !1)\n    throw new Error(\"not ASN.1 hex string\");\n  try {\n    t = y(e, 0, [2, 0, 1], \"02\"), r = y(e, 0, [2, 0, 2], \"02\"), i = y(e, 0, [2, 0, 3], \"02\"), s = y(e, 0, [2, 0, 4], \"02\"), n = y(e, 0, [2, 0, 5], \"02\"), h = y(e, 0, [2, 0, 6], \"02\"), u = y(e, 0, [2, 0, 7], \"02\"), p = y(e, 0, [2, 0, 8], \"02\");\n  } catch {\n    throw new Error(\"malformed PKCS#8 plain RSA private key\");\n  }\n  this.setPrivateEx(t, r, i, s, n, h, u, p);\n};\nq.prototype.readPKCS5PubKeyHex = function(e) {\n  var t = V, r = t.getV;\n  if (t.isASN1HEX(e) === !1)\n    throw new Error(\"keyHex is not ASN.1 hex string\");\n  var i = t.getChildIdx(e, 0);\n  if (i.length !== 2 || e.substr(i[0], 2) !== \"02\" || e.substr(i[1], 2) !== \"02\")\n    throw new Error(\"wrong hex for PKCS#5 public key\");\n  var s = r(e, i[0]), n = r(e, i[1]);\n  this.setPublic(s, n);\n};\nq.prototype.readPKCS8PubKeyHex = function(e) {\n  var t = V;\n  if (t.isASN1HEX(e) === !1)\n    throw new Error(\"not ASN.1 hex string\");\n  if (t.getTLVbyListEx(e, 0, [0, 0]) !== \"06092a864886f70d010101\")\n    throw new Error(\"not PKCS8 RSA public key\");\n  var r = t.getTLVbyListEx(e, 0, [1, 0]);\n  this.readPKCS5PubKeyHex(r);\n};\nq.prototype.readCertPubKeyHex = function(e, t) {\n  var r, i;\n  r = new L(), r.readCertHex(e), i = r.getPublicKeyHex(), this.readPKCS8PubKeyHex(i);\n};\nfunction Ot(e, t) {\n  for (var r = \"\", i = t / 4 - e.length, s = 0; s < i; s++)\n    r = r + \"0\";\n  return r + e;\n}\nq.prototype.sign = function(e, t) {\n  var r = function(s) {\n    return a.crypto.Util.hashString(s, t);\n  }, i = r(e);\n  return this.signWithMessageHash(i, t);\n};\nq.prototype.signWithMessageHash = function(e, t) {\n  var r = a.crypto.Util.getPaddedDigestInfoHex(e, t, this.n.bitLength()), i = ve(r, 16), s = this.doPrivate(i), n = s.toString(16);\n  return Ot(n, this.n.bitLength());\n};\nfunction jt(e, t, r) {\n  for (var i = \"\", s = 0; i.length < t; )\n    i += Ae(r(Pe(e + String.fromCharCode.apply(String, [(s & 4278190080) >> 24, (s & 16711680) >> 16, (s & 65280) >> 8, s & 255])))), s += 1;\n  return i;\n}\nq.prototype.signPSS = function(e, t, r) {\n  var i = function(n) {\n    return a.crypto.Util.hashHex(n, t);\n  }, s = i(Pe(e));\n  return r === void 0 && (r = -1), this.signWithMessageHashPSS(s, t, r);\n};\nq.prototype.signWithMessageHashPSS = function(e, t, r) {\n  var i = Ae(e), s = i.length, n = this.n.bitLength() - 1, h = Math.ceil(n / 8), u, p = function(g) {\n    return a.crypto.Util.hashHex(g, t);\n  };\n  if (r === -1 || r === void 0)\n    r = s;\n  else if (r === -2)\n    r = h - s - 2;\n  else if (r < -2)\n    throw new Error(\"invalid salt length\");\n  if (h < s + r + 2)\n    throw new Error(\"data too long\");\n  var c = \"\";\n  r > 0 && (c = new Array(r), new Ge().nextBytes(c), c = String.fromCharCode.apply(String, c));\n  var y = Ae(p(Pe(\"\\0\\0\\0\\0\\0\\0\\0\\0\" + i + c))), v = [];\n  for (u = 0; u < h - r - s - 2; u += 1)\n    v[u] = 0;\n  var o = String.fromCharCode.apply(String, v) + \"\u0001\" + c, l = jt(y, o.length, p), f = [];\n  for (u = 0; u < o.length; u += 1)\n    f[u] = o.charCodeAt(u) ^ l.charCodeAt(u);\n  var d = 65280 >> 8 * h - n & 255;\n  for (f[0] &= ~d, u = 0; u < s; u++)\n    f.push(y.charCodeAt(u));\n  return f.push(188), Ot(this.doPrivate(new R(f)).toString(16), this.n.bitLength());\n};\nfunction Vt(e) {\n  for (var t in a.crypto.Util.DIGESTINFOHEAD) {\n    var r = a.crypto.Util.DIGESTINFOHEAD[t], i = r.length;\n    if (e.substring(0, i) == r) {\n      var s = [t, e.substring(i)];\n      return s;\n    }\n  }\n  return [];\n}\nq.prototype.verify = function(e, t) {\n  if (t = t.toLowerCase(), t.match(/^[0-9a-f]+$/) == null)\n    return !1;\n  var r = ve(t, 16), i = this.n.bitLength();\n  if (r.bitLength() > i)\n    return !1;\n  var s = this.doPublic(r), n = s.toString(16);\n  if (n.length + 3 != i / 4)\n    return !1;\n  var h = n.replace(/^1f+00/, \"\"), u = Vt(h);\n  if (u.length == 0)\n    return !1;\n  var p = u[0], c = u[1], y = function(o) {\n    return a.crypto.Util.hashString(o, p);\n  }, v = y(e);\n  return c == v;\n};\nq.prototype.verifyWithMessageHash = function(e, t) {\n  if (t.length != Math.ceil(this.n.bitLength() / 4))\n    return !1;\n  var r = ve(t, 16);\n  if (r.bitLength() > this.n.bitLength())\n    return 0;\n  var i = this.doPublic(r), s = i.toString(16).replace(/^1f+00/, \"\"), n = Vt(s);\n  if (n.length == 0)\n    return !1;\n  n[0];\n  var h = n[1];\n  return h == e;\n};\nq.prototype.verifyPSS = function(e, t, r, i) {\n  var s = function(h) {\n    return a.crypto.Util.hashHex(h, r);\n  }, n = s(Pe(e));\n  return i === void 0 && (i = -1), this.verifyWithMessageHashPSS(n, t, r, i);\n};\nq.prototype.verifyWithMessageHashPSS = function(e, t, r, i) {\n  if (t.length != Math.ceil(this.n.bitLength() / 4))\n    return !1;\n  var s = new R(t, 16), n = function(b) {\n    return a.crypto.Util.hashHex(b, r);\n  }, h = Ae(e), u = h.length, p = this.n.bitLength() - 1, c = Math.ceil(p / 8), y;\n  if (i === -1 || i === void 0)\n    i = u;\n  else if (i === -2)\n    i = c - u - 2;\n  else if (i < -2)\n    throw new Error(\"invalid salt length\");\n  if (c < u + i + 2)\n    throw new Error(\"data too long\");\n  var v = this.doPublic(s).toByteArray();\n  for (y = 0; y < v.length; y += 1)\n    v[y] &= 255;\n  for (; v.length < c; )\n    v.unshift(0);\n  if (v[c - 1] !== 188)\n    throw new Error(\"encoded message does not end in 0xbc\");\n  v = String.fromCharCode.apply(String, v);\n  var o = v.substr(0, c - u - 1), l = v.substr(o.length, u), f = 65280 >> 8 * c - p & 255;\n  if (o.charCodeAt(0) & f)\n    throw new Error(\"bits beyond keysize not zero\");\n  var d = jt(l, o.length, n), g = [];\n  for (y = 0; y < o.length; y += 1)\n    g[y] = o.charCodeAt(y) ^ d.charCodeAt(y);\n  g[0] &= ~f;\n  var S = c - u - i - 2;\n  for (y = 0; y < S; y += 1)\n    if (g[y] !== 0)\n      throw new Error(\"leftmost octets not zero\");\n  if (g[S] !== 1)\n    throw new Error(\"0x01 marker not found\");\n  return l === Ae(n(Pe(\"\\0\\0\\0\\0\\0\\0\\0\\0\" + h + String.fromCharCode.apply(String, g.slice(-i)))));\n};\nq.SALT_LEN_HLEN = -1;\nq.SALT_LEN_MAX = -2;\nq.SALT_LEN_RECOVER = -2;\nfunction L(e) {\n  var t = V, r = t.getChildIdx, i = t.getV;\n  t.dump;\n  var s = t.parse, n = t.getTLV, h = t.getVbyList, u = t.getVbyListEx, p = t.getTLVbyList, c = t.getTLVbyListEx, y = t.getIdxbyList, v = t.getIdxbyListEx, o = t.getVidx, l = t.getInt, f = t.oidname, d = t.hextooidstr, g = ie, S, b = Error;\n  try {\n    S = a.asn1.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV;\n  } catch {\n  }\n  this.HEX2STAG = { \"0c\": \"utf8\", 13: \"prn\", 16: \"ia5\", \"1a\": \"vis\", \"1e\": \"bmp\" }, this.hex = null, this.version = 0, this.foffset = 0, this.aExtInfo = null, this.getVersion = function() {\n    if (this.hex === null || this.version !== 0)\n      return this.version;\n    var m = p(this.hex, 0, [0, 0]);\n    if (m.substr(0, 2) == \"a0\") {\n      var E = p(m, 0, [0]), w = l(E, 0);\n      if (w < 0 || 2 < w)\n        throw new Error(\"malformed version field\");\n      return this.version = w + 1, this.version;\n    } else\n      return this.version = 1, this.foffset = -1, 1;\n  }, this.getSerialNumberHex = function() {\n    return u(this.hex, 0, [0, 0], \"02\");\n  }, this.getSignatureAlgorithmField = function() {\n    var m = c(this.hex, 0, [0, 1]);\n    return this.getAlgorithmIdentifierName(m);\n  }, this.getAlgorithmIdentifierName = function(m) {\n    for (var E in S)\n      if (m === S[E])\n        return E;\n    return f(u(m, 0, [0], \"06\"));\n  }, this.getIssuer = function(m, E) {\n    return this.getX500Name(this.getIssuerHex(), m, E);\n  }, this.getIssuerHex = function() {\n    return p(this.hex, 0, [0, 3 + this.foffset], \"30\");\n  }, this.getIssuerString = function() {\n    var m = this.getIssuer();\n    return m.str;\n  }, this.getSubject = function(m, E) {\n    return this.getX500Name(this.getSubjectHex(), m, E);\n  }, this.getSubjectHex = function() {\n    return p(this.hex, 0, [0, 5 + this.foffset], \"30\");\n  }, this.getSubjectString = function() {\n    var m = this.getSubject();\n    return m.str;\n  }, this.getNotBefore = function() {\n    var m = h(this.hex, 0, [0, 4 + this.foffset, 0]);\n    return m = m.replace(/(..)/g, \"%$1\"), m = decodeURIComponent(m), m;\n  }, this.getNotAfter = function() {\n    var m = h(this.hex, 0, [0, 4 + this.foffset, 1]);\n    return m = m.replace(/(..)/g, \"%$1\"), m = decodeURIComponent(m), m;\n  }, this.getPublicKeyHex = function() {\n    return this.getSPKI();\n  }, this.getSPKI = function() {\n    return p(this.hex, 0, [0, 6 + this.foffset], \"30\");\n  }, this.getSPKIValue = function() {\n    var m = this.getSPKI();\n    return m == null ? null : h(m, 0, [1], \"03\", !0);\n  }, this.getPublicKeyIdx = function() {\n    return y(this.hex, 0, [0, 6 + this.foffset], \"30\");\n  }, this.getPublicKeyContentIdx = function() {\n    var m = this.getPublicKeyIdx();\n    return y(this.hex, m, [1, 0], \"30\");\n  }, this.getPublicKey = function() {\n    return k.getKey(this.getPublicKeyHex(), null, \"pkcs8pub\");\n  }, this.getSignatureAlgorithmName = function() {\n    var m = p(this.hex, 0, [1], \"30\");\n    return this.getAlgorithmIdentifierName(m);\n  }, this.getSignatureValueHex = function() {\n    return h(this.hex, 0, [2], \"03\", !0);\n  }, this.verifySignature = function(m) {\n    var E = this.getSignatureAlgorithmField(), w = this.getSignatureValueHex(), x = p(this.hex, 0, [0], \"30\"), F = new a.crypto.Signature({ alg: E });\n    return F.init(m), F.updateHex(x), F.verify(w);\n  }, this.parseExt = function(m) {\n    var E, w, x;\n    if (m === void 0) {\n      if (x = this.hex, this.version !== 3)\n        return -1;\n      E = y(x, 0, [0, 7, 0], \"30\"), w = r(x, E);\n    } else {\n      x = ie(m);\n      var F = y(x, 0, [0, 3, 0, 0], \"06\");\n      if (i(x, F) != \"2a864886f70d01090e\") {\n        this.aExtInfo = new Array();\n        return;\n      }\n      E = y(x, 0, [0, 3, 0, 1, 0], \"30\"), w = r(x, E), this.hex = x;\n    }\n    this.aExtInfo = new Array();\n    for (var P = 0; P < w.length; P++) {\n      var T = {};\n      T.critical = !1;\n      var H = r(x, w[P]), C = 0;\n      H.length === 3 && (T.critical = !0, C = 1), T.oid = t.hextooidstr(h(x, w[P], [0], \"06\"));\n      var B = y(x, w[P], [1 + C]);\n      T.vidx = o(x, B), this.aExtInfo.push(T);\n    }\n  }, this.getExtInfo = function(m) {\n    var E = this.aExtInfo, w = m;\n    if (m.match(/^[0-9.]+$/) || (w = a.asn1.x509.OID.name2oid(m)), w !== \"\") {\n      for (var x = 0; x < E.length; x++)\n        if (E[x].oid === w)\n          return E[x];\n    }\n  }, this.getCriticalExtV = function(m, E, w) {\n    if (E != null)\n      return [E, w];\n    var x = this.getExtInfo(m);\n    return x == null ? [null, null] : [n(this.hex, x.vidx), x.critical];\n  }, this.getExtBasicConstraints = function(m, E) {\n    if (m === void 0 && E === void 0) {\n      var w = this.getExtInfo(\"basicConstraints\");\n      if (w === void 0)\n        return;\n      m = n(this.hex, w.vidx), E = w.critical;\n    }\n    var x = { extname: \"basicConstraints\" };\n    if (E && (x.critical = !0), m === \"3000\")\n      return x;\n    if (m === \"30030101ff\")\n      return x.cA = !0, x;\n    if (m.substr(0, 12) === \"30060101ff02\") {\n      var F = i(m, 10), P = parseInt(F, 16);\n      return x.cA = !0, x.pathLen = P, x;\n    }\n    throw new Error(\"hExtV parse error: \" + m);\n  }, this.getExtNameConstraints = function(m, E) {\n    var w = this.getCriticalExtV(\"nameConstraints\", m, E);\n    if (m = w[0], E = w[1], m != null) {\n      var x = { extname: \"nameConstraints\" };\n      E && (x.critical = !0);\n      for (var F = r(m, 0), P = 0; P < F.length; P++) {\n        for (var T = [], H = r(m, F[P]), C = 0; C < H.length; C++) {\n          var B = n(m, H[C]), O = this.getGeneralSubtree(B);\n          T.push(O);\n        }\n        var j = m.substr(F[P], 2);\n        j == \"a0\" ? x.permit = T : j == \"a1\" && (x.exclude = T);\n      }\n      return x;\n    }\n  }, this.getGeneralSubtree = function(m) {\n    var E = r(m, 0), w = E.length;\n    if (w < 1 || 2 < w)\n      throw new Error(\"wrong num elements\");\n    for (var x = this.getGeneralName(n(m, E[0])), F = 1; F < w; F++) {\n      var P = m.substr(E[F], 2), T = i(m, E[F]), H = parseInt(T, 16);\n      P == \"80\" && (x.min = H), P == \"81\" && (x.max = H);\n    }\n    return x;\n  }, this.getExtKeyUsage = function(m, E) {\n    var w = this.getCriticalExtV(\"keyUsage\", m, E);\n    if (m = w[0], E = w[1], m != null) {\n      var x = { extname: \"keyUsage\" };\n      return E && (x.critical = !0), x.names = this.getExtKeyUsageString(m).split(\",\"), x;\n    }\n  }, this.getExtKeyUsageBin = function(m) {\n    if (m === void 0) {\n      var E = this.getExtInfo(\"keyUsage\");\n      if (E === void 0)\n        return \"\";\n      m = n(this.hex, E.vidx);\n    }\n    if (m.length != 8 && m.length != 10)\n      throw new Error(\"malformed key usage value: \" + m);\n    var w = \"000000000000000\" + parseInt(m.substr(6), 16).toString(2);\n    return m.length == 8 && (w = w.slice(-8)), m.length == 10 && (w = w.slice(-16)), w = w.replace(/0+$/, \"\"), w == \"\" && (w = \"0\"), w;\n  }, this.getExtKeyUsageString = function(m) {\n    for (var E = this.getExtKeyUsageBin(m), w = new Array(), x = 0; x < E.length; x++)\n      E.substr(x, 1) == \"1\" && w.push(L.KEYUSAGE_NAME[x]);\n    return w.join(\",\");\n  }, this.getExtSubjectKeyIdentifier = function(m, E) {\n    if (m === void 0 && E === void 0) {\n      var w = this.getExtInfo(\"subjectKeyIdentifier\");\n      if (w === void 0)\n        return;\n      m = n(this.hex, w.vidx), E = w.critical;\n    }\n    var x = { extname: \"subjectKeyIdentifier\" };\n    E && (x.critical = !0);\n    var F = i(m, 0);\n    return x.kid = { hex: F }, x;\n  }, this.getExtAuthorityKeyIdentifier = function(m, E) {\n    if (m === void 0 && E === void 0) {\n      var w = this.getExtInfo(\"authorityKeyIdentifier\");\n      if (w === void 0)\n        return;\n      m = n(this.hex, w.vidx), E = w.critical;\n    }\n    var x = { extname: \"authorityKeyIdentifier\" };\n    E && (x.critical = !0);\n    for (var F = r(m, 0), P = 0; P < F.length; P++) {\n      var T = m.substr(F[P], 2);\n      if (T === \"80\" && (x.kid = { hex: i(m, F[P]) }), T === \"a1\") {\n        var H = n(m, F[P]), C = this.getGeneralNames(H);\n        x.issuer = C[0].dn;\n      }\n      T === \"82\" && (x.sn = { hex: i(m, F[P]) });\n    }\n    return x;\n  }, this.getExtExtKeyUsage = function(m, E) {\n    if (m === void 0 && E === void 0) {\n      var w = this.getExtInfo(\"extKeyUsage\");\n      if (w === void 0)\n        return;\n      m = n(this.hex, w.vidx), E = w.critical;\n    }\n    var x = { extname: \"extKeyUsage\", array: [] };\n    E && (x.critical = !0);\n    for (var F = r(m, 0), P = 0; P < F.length; P++)\n      x.array.push(f(i(m, F[P])));\n    return x;\n  }, this.getExtExtKeyUsageName = function() {\n    var m = this.getExtInfo(\"extKeyUsage\");\n    if (m === void 0)\n      return m;\n    var E = new Array(), w = n(this.hex, m.vidx);\n    if (w === \"\")\n      return E;\n    for (var x = r(w, 0), F = 0; F < x.length; F++)\n      E.push(f(i(w, x[F])));\n    return E;\n  }, this.getExtSubjectAltName = function(m, E) {\n    if (m === void 0 && E === void 0) {\n      var w = this.getExtInfo(\"subjectAltName\");\n      if (w === void 0)\n        return;\n      m = n(this.hex, w.vidx), E = w.critical;\n    }\n    var x = { extname: \"subjectAltName\", array: [] };\n    return E && (x.critical = !0), x.array = this.getGeneralNames(m), x;\n  }, this.getExtIssuerAltName = function(m, E) {\n    if (m === void 0 && E === void 0) {\n      var w = this.getExtInfo(\"issuerAltName\");\n      if (w === void 0)\n        return;\n      m = n(this.hex, w.vidx), E = w.critical;\n    }\n    var x = { extname: \"issuerAltName\", array: [] };\n    return E && (x.critical = !0), x.array = this.getGeneralNames(m), x;\n  }, this.getGeneralNames = function(m) {\n    for (var E = r(m, 0), w = [], x = 0; x < E.length; x++) {\n      var F = this.getGeneralName(n(m, E[x]));\n      F !== void 0 && w.push(F);\n    }\n    return w;\n  }, this.getGeneralName = function(m) {\n    var E = m.substr(0, 2), w = i(m, 0), x = Ae(w);\n    if (E == \"81\")\n      return { rfc822: x };\n    if (E == \"82\")\n      return { dns: x };\n    if (E == \"86\")\n      return { uri: x };\n    if (E == \"87\")\n      return { ip: tt(w) };\n    if (E == \"a4\")\n      return { dn: this.getX500Name(w) };\n    if (E == \"a0\")\n      return { other: this.getOtherName(m) };\n  }, this.getExtSubjectAltName2 = function() {\n    var m, E, w, x = this.getExtInfo(\"subjectAltName\");\n    if (x === void 0)\n      return x;\n    for (var F = new Array(), P = n(this.hex, x.vidx), T = r(P, 0), H = 0; H < T.length; H++)\n      w = P.substr(T[H], 2), m = i(P, T[H]), w === \"81\" && (E = W(m), F.push([\"MAIL\", E])), w === \"82\" && (E = W(m), F.push([\"DNS\", E])), w === \"84\" && (E = L.hex2dn(m, 0), F.push([\"DN\", E])), w === \"86\" && (E = W(m), F.push([\"URI\", E])), w === \"87\" && (E = tt(m), F.push([\"IP\", E]));\n    return F;\n  }, this.getExtCRLDistributionPoints = function(m, E) {\n    if (m === void 0 && E === void 0) {\n      var w = this.getExtInfo(\"cRLDistributionPoints\");\n      if (w === void 0)\n        return;\n      m = n(this.hex, w.vidx), E = w.critical;\n    }\n    var x = { extname: \"cRLDistributionPoints\", array: [] };\n    E && (x.critical = !0);\n    for (var F = r(m, 0), P = 0; P < F.length; P++) {\n      var T = n(m, F[P]);\n      x.array.push(this.getDistributionPoint(T));\n    }\n    return x;\n  }, this.getDistributionPoint = function(m) {\n    for (var E = {}, w = r(m, 0), x = 0; x < w.length; x++) {\n      var F = m.substr(w[x], 2), P = n(m, w[x]);\n      F == \"a0\" && (E.dpname = this.getDistributionPointName(P));\n    }\n    return E;\n  }, this.getDistributionPointName = function(m) {\n    for (var E = {}, w = r(m, 0), x = 0; x < w.length; x++) {\n      var F = m.substr(w[x], 2), P = n(m, w[x]);\n      F == \"a0\" && (E.full = this.getGeneralNames(P));\n    }\n    return E;\n  }, this.getExtCRLDistributionPointsURI = function() {\n    var m = this.getExtCRLDistributionPoints();\n    if (m == null)\n      return m;\n    for (var E = m.array, w = [], x = 0; x < E.length; x++)\n      try {\n        E[x].dpname.full[0].uri != null && w.push(E[x].dpname.full[0].uri);\n      } catch {\n      }\n    return w;\n  }, this.getExtAIAInfo = function() {\n    var m = this.getExtInfo(\"authorityInfoAccess\");\n    if (m === void 0)\n      return m;\n    for (var E = { ocsp: [], caissuer: [] }, w = r(this.hex, m.vidx), x = 0; x < w.length; x++) {\n      var F = h(this.hex, w[x], [0], \"06\"), P = h(this.hex, w[x], [1], \"86\");\n      F === \"2b06010505073001\" && E.ocsp.push(W(P)), F === \"2b06010505073002\" && E.caissuer.push(W(P));\n    }\n    return E;\n  }, this.getExtAuthorityInfoAccess = function(m, E) {\n    if (m === void 0 && E === void 0) {\n      var w = this.getExtInfo(\"authorityInfoAccess\");\n      if (w === void 0)\n        return;\n      m = n(this.hex, w.vidx), E = w.critical;\n    }\n    var x = { extname: \"authorityInfoAccess\", array: [] };\n    E && (x.critical = !0);\n    for (var F = r(m, 0), P = 0; P < F.length; P++) {\n      var T = u(m, F[P], [0], \"06\"), H = h(m, F[P], [1], \"86\"), C = W(H);\n      if (T == \"2b06010505073001\")\n        x.array.push({ ocsp: C });\n      else if (T == \"2b06010505073002\")\n        x.array.push({ caissuer: C });\n      else\n        throw new Error(\"unknown method: \" + T);\n    }\n    return x;\n  }, this.getExtCertificatePolicies = function(m, E) {\n    if (m === void 0 && E === void 0) {\n      var w = this.getExtInfo(\"certificatePolicies\");\n      if (w === void 0)\n        return;\n      m = n(this.hex, w.vidx), E = w.critical;\n    }\n    var x = { extname: \"certificatePolicies\", array: [] };\n    E && (x.critical = !0);\n    for (var F = r(m, 0), P = 0; P < F.length; P++) {\n      var T = n(m, F[P]), H = this.getPolicyInformation(T);\n      x.array.push(H);\n    }\n    return x;\n  }, this.getPolicyInformation = function(m) {\n    var E = {}, w = h(m, 0, [0], \"06\");\n    E.policyoid = f(w);\n    var x = v(m, 0, [1], \"30\");\n    if (x != -1) {\n      E.array = [];\n      for (var F = r(m, x), P = 0; P < F.length; P++) {\n        var T = n(m, F[P]), H = this.getPolicyQualifierInfo(T);\n        E.array.push(H);\n      }\n    }\n    return E;\n  }, this.getOtherName = function(m) {\n    var E = {}, w = r(m, 0), x = h(m, w[0], [], \"06\"), F = h(m, w[1], []);\n    return E.oid = f(x), E.value = s(F), E;\n  }, this.getPolicyQualifierInfo = function(m) {\n    var E = {}, w = h(m, 0, [0], \"06\");\n    if (w === \"2b06010505070201\") {\n      var x = u(m, 0, [1], \"16\");\n      E.cps = Ae(x);\n    } else if (w === \"2b06010505070202\") {\n      var F = p(m, 0, [1], \"30\");\n      E.unotice = this.getUserNotice(F);\n    }\n    return E;\n  }, this.getUserNotice = function(m) {\n    var E = null;\n    try {\n      E = t.parse(m);\n      var w = this._asn1ToUnotice(E);\n      return w;\n    } catch {\n      return;\n    }\n  }, this._asn1ToUnotice = function(m) {\n    try {\n      for (var E = {}, w = J(m, \"seq\"), x = 0; x < w.length; x++) {\n        var F = this._asn1ToNoticeRef(w[x]);\n        F != null && (E.noticeref = F);\n        var P = this.asn1ToDisplayText(w[x]);\n        P != null && (E.exptext = P);\n      }\n      return Object.keys(E).length > 0 ? E : void 0;\n    } catch {\n      return;\n    }\n  }, this._asn1ToNoticeRef = function(m) {\n    try {\n      for (var E = {}, w = J(m, \"seq\"), x = 0; x < w.length; x++) {\n        var F = this._asn1ToNoticeNum(w[x]);\n        F != null && (E.noticenum = F);\n        var P = this.asn1ToDisplayText(w[x]);\n        P != null && (E.org = P);\n      }\n      return Object.keys(E).length > 0 ? E : void 0;\n    } catch {\n      return;\n    }\n  }, this._asn1ToNoticeNum = function(m) {\n    try {\n      for (var E = J(m, \"seq\"), w = [], x = 0; x < E.length; x++) {\n        var F = E[x];\n        w.push(parseInt(J(F, \"int.hex\"), 16));\n      }\n      return w;\n    } catch {\n      return;\n    }\n  }, this.getDisplayText = function(m) {\n    var E = { \"0c\": \"utf8\", 16: \"ia5\", \"1a\": \"vis\", \"1e\": \"bmp\" }, w = {};\n    return w.type = E[m.substr(0, 2)], w.str = Ae(i(m, 0)), w;\n  }, this.asn1ToDisplayText = function(m) {\n    if (m.utf8str != null)\n      return { type: \"utf8\", str: m.utf8str.str };\n    if (m.ia5str != null)\n      return { type: \"ia5\", str: m.ia5str.str };\n    if (m.visstr != null)\n      return { type: \"vis\", str: m.visstr.str };\n    if (m.bmpstr != null)\n      return { type: \"bmp\", str: m.bmpstr.str };\n    if (m.prnstr != null)\n      return { type: \"prn\", str: m.prnstr.str };\n  }, this.getExtPolicyMappings = function(m, E) {\n    var w = this.getCriticalExtV(\"policyMappings\", m, E);\n    if (m = w[0], E = w[1], m != null) {\n      var x = { extname: \"policyMappings\" };\n      E && (x.critical = !0);\n      try {\n        for (var F = s(m), P = F.seq, T = [], H = 0; H < P.length; H++) {\n          var C = P[H].seq;\n          T.push([C[0].oid, C[1].oid]);\n        }\n        x.array = T;\n      } catch {\n        throw new b(\"malformed policyMappings\");\n      }\n      return x;\n    }\n  }, this.getExtPolicyConstraints = function(m, E) {\n    var w = this.getCriticalExtV(\"policyConstraints\", m, E);\n    if (m = w[0], E = w[1], m != null) {\n      var x = { extname: \"policyConstraints\" };\n      E && (x.critical = !0);\n      var F = s(m);\n      try {\n        for (var P = F.seq, T = 0; T < P.length; T++) {\n          var H = P[T].tag;\n          H.explicit == !1 && (H.tag == \"80\" && (x.reqexp = parseInt(H.hex, 16)), H.tag == \"81\" && (x.inhibit = parseInt(H.hex, 16)));\n        }\n      } catch {\n        return new b(\"malformed policyConstraints value\");\n      }\n      return x;\n    }\n  }, this.getExtInhibitAnyPolicy = function(m, E) {\n    var w = this.getCriticalExtV(\"inhibitAnyPolicy\", m, E);\n    if (m = w[0], E = w[1], m != null) {\n      var x = { extname: \"inhibitAnyPolicy\" };\n      E && (x.critical = !0);\n      var F = l(m, 0);\n      return F == -1 ? new b(\"wrong value\") : (x.skip = F, x);\n    }\n  }, this.getExtCRLNumber = function(m, E) {\n    var w = { extname: \"cRLNumber\" };\n    if (E && (w.critical = !0), m.substr(0, 2) == \"02\")\n      return w.num = { hex: i(m, 0) }, w;\n    throw new b(\"hExtV parse error: \" + m);\n  }, this.getExtCRLReason = function(m, E) {\n    var w = { extname: \"cRLReason\" };\n    if (E && (w.critical = !0), m.substr(0, 2) == \"0a\")\n      return w.code = parseInt(i(m, 0), 16), w;\n    throw new Error(\"hExtV parse error: \" + m);\n  }, this.getExtOcspNonce = function(m, E) {\n    var w = { extname: \"ocspNonce\" };\n    E && (w.critical = !0);\n    var x = i(m, 0);\n    return w.hex = x, w;\n  }, this.getExtOcspNoCheck = function(m, E) {\n    var w = { extname: \"ocspNoCheck\" };\n    return E && (w.critical = !0), w;\n  }, this.getExtAdobeTimeStamp = function(m, E) {\n    if (m === void 0 && E === void 0) {\n      var w = this.getExtInfo(\"adobeTimeStamp\");\n      if (w === void 0)\n        return;\n      m = n(this.hex, w.vidx), E = w.critical;\n    }\n    var x = { extname: \"adobeTimeStamp\" };\n    E && (x.critical = !0);\n    var F = r(m, 0);\n    if (F.length > 1) {\n      var P = n(m, F[1]), T = this.getGeneralName(P);\n      T.uri != null && (x.uri = T.uri);\n    }\n    if (F.length > 2) {\n      var H = n(m, F[2]);\n      H == \"0101ff\" && (x.reqauth = !0), H == \"010100\" && (x.reqauth = !1);\n    }\n    return x;\n  }, this.getExtSubjectDirectoryAttributes = function(m, E) {\n    if (m === void 0 && E === void 0) {\n      var w = this.getExtInfo(\"subjectDirectoryAttributes\");\n      if (w === void 0)\n        return;\n      m = n(this.hex, w.vidx), E = w.critical;\n    }\n    var x = { extname: \"subjectDirectoryAttributes\" };\n    E && (x.critical = !0);\n    try {\n      for (var F = s(m), P = [], T = 0; T < F.seq.length; T++) {\n        var H = F.seq[T], C = J(H, \"seq.0.oid\"), B = J(H, \"seq.1.set\");\n        if (C == null || B == null)\n          throw \"error\";\n        P.push({ attr: C, array: B });\n      }\n      return x.array = P, x;\n    } catch {\n      throw new Error(\"malformed subjectDirectoryAttributes extension value\");\n    }\n  };\n  var D = function(m) {\n    var E = {};\n    try {\n      var w = m.seq[0].oid, x = a.asn1.x509.OID.name2oid(w);\n      E.type = a.asn1.x509.OID.oid2atype(x);\n      var F = m.seq[1];\n      if (F.utf8str != null)\n        E.ds = \"utf8\", E.value = F.utf8str.str;\n      else if (F.numstr != null)\n        E.ds = \"num\", E.value = F.numstr.str;\n      else if (F.telstr != null)\n        E.ds = \"tel\", E.value = F.telstr.str;\n      else if (F.prnstr != null)\n        E.ds = \"prn\", E.value = F.prnstr.str;\n      else if (F.ia5str != null)\n        E.ds = \"ia5\", E.value = F.ia5str.str;\n      else if (F.visstr != null)\n        E.ds = \"vis\", E.value = F.visstr.str;\n      else if (F.bmpstr != null)\n        E.ds = \"bmp\", E.value = F.bmpstr.str;\n      else\n        throw \"error\";\n      return E;\n    } catch {\n      throw new Erorr(\"improper ASN.1 parsed AttrTypeAndValue\");\n    }\n  }, A = function(m) {\n    try {\n      return m.set.map(function(E) {\n        return D(E);\n      });\n    } catch (E) {\n      throw new Error(\"improper ASN.1 parsed RDN: \" + E);\n    }\n  }, I = function(m) {\n    try {\n      return m.seq.map(function(E) {\n        return A(E);\n      });\n    } catch (E) {\n      throw new Error(\"improper ASN.1 parsed X500Name: \" + E);\n    }\n  };\n  this.getX500NameRule = function(m) {\n    for (var E = null, w = [], x = 0; x < m.length; x++)\n      for (var F = m[x], P = 0; P < F.length; P++)\n        w.push(F[P]);\n    for (var x = 0; x < w.length; x++) {\n      var T = w[x], H = T.ds, C = T.value, B = T.type;\n      if (H != \"prn\" && H != \"utf8\" && H != \"ia5\")\n        return \"mixed\";\n      if (H == \"ia5\") {\n        if (B != \"CN\")\n          return \"mixed\";\n        if (a.lang.String.isMail(C))\n          continue;\n        return \"mixed\";\n      }\n      if (B == \"C\") {\n        if (H == \"prn\")\n          continue;\n        return \"mixed\";\n      }\n      if (E == null)\n        E = H;\n      else if (E !== H)\n        return \"mixed\";\n    }\n    return E ?? \"prn\";\n  }, this.getAttrTypeAndValue = function(m) {\n    var E = s(m);\n    return D(E);\n  }, this.getRDN = function(m) {\n    var E = s(m);\n    return A(E);\n  }, this.getX500NameArray = function(m) {\n    var E = s(m);\n    return I(E);\n  }, this.getX500Name = function(m, E, w) {\n    var x = this.getX500NameArray(m), F = this.dnarraytostr(x), P = { str: F };\n    return P.array = x, w == !0 && (P.hex = m), E == !0 && (P.canon = this.c14nRDNArray(x)), P;\n  }, this.readCertPEM = function(m) {\n    this.readCertHex(g(m));\n  }, this.readCertHex = function(m) {\n    this.hex = m, this.getVersion();\n    try {\n      y(this.hex, 0, [0, 7], \"a3\"), this.parseExt();\n    } catch {\n    }\n  }, this.getParam = function(m) {\n    var E = {};\n    return m == null && (m = {}), E.version = this.getVersion(), E.serial = { hex: this.getSerialNumberHex() }, E.sigalg = this.getSignatureAlgorithmField(), E.issuer = this.getIssuer(m.dncanon, m.dnhex), E.notbefore = this.getNotBefore(), E.notafter = this.getNotAfter(), E.subject = this.getSubject(m.dncanon, m.dnhex), E.sbjpubkey = de(this.getPublicKeyHex(), \"PUBLIC KEY\"), this.aExtInfo != null && this.aExtInfo.length > 0 && (E.ext = this.getExtParamArray()), E.sighex = this.getSignatureValueHex(), m.tbshex == !0 && (E.tbshex = p(this.hex, 0, [0])), m.nodnarray == !0 && (delete E.issuer.array, delete E.subject.array), E;\n  }, this.getExtParamArray = function(m) {\n    if (m == null) {\n      var E = v(this.hex, 0, [0, \"[3]\"]);\n      E != -1 && (m = c(this.hex, 0, [0, \"[3]\", 0], \"30\"));\n    }\n    for (var w = [], x = r(m, 0), F = 0; F < x.length; F++) {\n      var P = n(m, x[F]), T = this.getExtParam(P);\n      T != null && w.push(T);\n    }\n    return w;\n  }, this.getExtParam = function(m) {\n    var E = r(m, 0), w = E.length;\n    if (w != 2 && w != 3)\n      throw new Error(\"wrong number elements in Extension: \" + w + \" \" + m);\n    var x = d(h(m, 0, [0], \"06\")), F = !1;\n    w == 3 && p(m, 0, [1]) == \"0101ff\" && (F = !0);\n    var P = p(m, 0, [w - 1, 0]), T = void 0;\n    if (x == \"2.5.29.14\" ? T = this.getExtSubjectKeyIdentifier(P, F) : x == \"2.5.29.15\" ? T = this.getExtKeyUsage(P, F) : x == \"2.5.29.17\" ? T = this.getExtSubjectAltName(P, F) : x == \"2.5.29.18\" ? T = this.getExtIssuerAltName(P, F) : x == \"2.5.29.19\" ? T = this.getExtBasicConstraints(P, F) : x == \"2.5.29.30\" ? T = this.getExtNameConstraints(P, F) : x == \"2.5.29.31\" ? T = this.getExtCRLDistributionPoints(P, F) : x == \"2.5.29.32\" ? T = this.getExtCertificatePolicies(P, F) : x == \"2.5.29.33\" ? T = this.getExtPolicyMappings(P, F) : x == \"2.5.29.35\" ? T = this.getExtAuthorityKeyIdentifier(P, F) : x == \"2.5.29.36\" ? T = this.getExtPolicyConstraints(P, F) : x == \"2.5.29.37\" ? T = this.getExtExtKeyUsage(P, F) : x == \"2.5.29.54\" ? T = this.getExtInhibitAnyPolicy(P, F) : x == \"1.3.6.1.5.5.7.1.1\" ? T = this.getExtAuthorityInfoAccess(P, F) : x == \"2.5.29.20\" ? T = this.getExtCRLNumber(P, F) : x == \"2.5.29.21\" ? T = this.getExtCRLReason(P, F) : x == \"2.5.29.9\" ? T = this.getExtSubjectDirectoryAttributes(P, F) : x == \"1.3.6.1.5.5.7.48.1.2\" ? T = this.getExtOcspNonce(P, F) : x == \"1.3.6.1.5.5.7.48.1.5\" ? T = this.getExtOcspNoCheck(P, F) : x == \"1.2.840.113583.1.1.9.1\" ? T = this.getExtAdobeTimeStamp(P, F) : L.EXT_PARSER[x] != null && (T = L.EXT_PARSER[x](x, F, P)), T != null)\n      return T;\n    var H = { extname: x, extn: P };\n    try {\n      H.extn = s(P);\n    } catch {\n    }\n    return F && (H.critical = !0), H;\n  }, this.findExt = function(m, E) {\n    for (var w = 0; w < m.length; w++)\n      if (m[w].extname == E)\n        return m[w];\n    return null;\n  }, this.updateExtCDPFullURI = function(m, E) {\n    var w = this.findExt(m, \"cRLDistributionPoints\");\n    if (w != null && w.array != null) {\n      for (var x = w.array, F = 0; F < x.length; F++)\n        if (x[F].dpname != null && x[F].dpname.full != null)\n          for (var P = x[F].dpname.full, T = 0; T < P.length; T++) {\n            var H = P[F];\n            H.uri != null && (H.uri = E);\n          }\n    }\n  }, this.updateExtAIAOCSP = function(m, E) {\n    var w = this.findExt(m, \"authorityInfoAccess\");\n    if (w != null && w.array != null)\n      for (var x = w.array, F = 0; F < x.length; F++)\n        x[F].ocsp != null && (x[F].ocsp = E);\n  }, this.updateExtAIACAIssuer = function(m, E) {\n    var w = this.findExt(m, \"authorityInfoAccess\");\n    if (w != null && w.array != null)\n      for (var x = w.array, F = 0; F < x.length; F++)\n        x[F].caissuer != null && (x[F].caissuer = E);\n  }, this.dnarraytostr = function(m) {\n    function E(x) {\n      return x.map(function(F) {\n        return w(F).replace(/\\+/, \"\\\\+\");\n      }).join(\"+\");\n    }\n    function w(x) {\n      return x.type + \"=\" + x.value;\n    }\n    return \"/\" + m.map(function(x) {\n      return E(x).replace(/\\//, \"\\\\/\");\n    }).join(\"/\");\n  }, this.setCanonicalizedDN = function(m) {\n    var E;\n    if (m.str != null && m.array == null) {\n      var w = new a.asn1.x509.X500Name({ str: m.str }), x = w.tohex();\n      E = this.getX500NameArray(x);\n    } else\n      E = m.array;\n    m.canon == null && (m.canon = this.c14nRDNArray(E));\n  }, this.c14nRDNArray = function(m) {\n    for (var E = [], w = 0; w < m.length; w++) {\n      for (var x = m[w], F = [], P = 0; P < x.length; P++) {\n        var T = x[P], H = T.value;\n        H = H.replace(/^\\s*/, \"\"), H = H.replace(/\\s*$/, \"\"), H = H.replace(/\\s+/g, \" \"), H = H.toLowerCase(), F.push(T.type.toLowerCase() + \"=\" + H);\n      }\n      E.push(F.join(\"+\"));\n    }\n    return \"/\" + E.join(\"/\");\n  }, this.getInfo = function() {\n    var m = function(ce) {\n      for (var M = \"\", G = \"    \", Q = `\n`, ee = ce.array, pe = 0; pe < ee.length; pe++) {\n        var te = ee[pe];\n        if (te.dn != null && (M += G + \"dn: \" + te.dn.str + Q), te.ip != null && (M += G + \"ip: \" + te.ip + Q), te.rfc822 != null && (M += G + \"rfc822: \" + te.rfc822 + Q), te.dns != null && (M += G + \"dns: \" + te.dns + Q), te.uri != null && (M += G + \"uri: \" + te.uri + Q), te.other != null) {\n          var Me = te.other.oid, Ne = JSON.stringify(te.other.value).replace(/\\\"/g, \"\");\n          M += G + \"other: \" + Me + \"=\" + Ne + Q;\n        }\n      }\n      return M = M.replace(/\\n$/, \"\"), M;\n    }, E = function(ce) {\n      for (var M = \"\", G = ce.array, Q = 0; Q < G.length; Q++) {\n        var ee = G[Q];\n        if (M += \"    policy oid: \" + ee.policyoid + `\n`, ee.array !== void 0)\n          for (var pe = 0; pe < ee.array.length; pe++) {\n            var te = ee.array[pe];\n            te.cps !== void 0 && (M += \"    cps: \" + te.cps + `\n`);\n          }\n      }\n      return M;\n    }, w = function(ce) {\n      for (var M = \"\", G = ce.array, Q = 0; Q < G.length; Q++) {\n        var ee = G[Q];\n        try {\n          ee.dpname.full[0].uri !== void 0 && (M += \"    \" + ee.dpname.full[0].uri + `\n`);\n        } catch {\n        }\n        try {\n          ee.dname.full[0].dn.hex !== void 0 && (M += \"    \" + L.hex2dn(ee.dpname.full[0].dn.hex) + `\n`);\n        } catch {\n        }\n      }\n      return M;\n    }, x = function(ce) {\n      for (var M = \"\", G = ce.array, Q = 0; Q < G.length; Q++) {\n        var ee = G[Q];\n        ee.caissuer !== void 0 && (M += \"    caissuer: \" + ee.caissuer + `\n`), ee.ocsp !== void 0 && (M += \"    ocsp: \" + ee.ocsp + `\n`);\n      }\n      return M;\n    }, F, P, T;\n    if (F = `Basic Fields\n`, F += \"  serial number: \" + this.getSerialNumberHex() + `\n`, F += \"  signature algorithm: \" + this.getSignatureAlgorithmField() + `\n`, F += \"  issuer: \" + this.getIssuerString() + `\n`, F += \"  notBefore: \" + this.getNotBefore() + `\n`, F += \"  notAfter: \" + this.getNotAfter() + `\n`, F += \"  subject: \" + this.getSubjectString() + `\n`, F += `  subject public key info: \n`, P = this.getPublicKey(), F += \"    key algorithm: \" + P.type + `\n`, P.type === \"RSA\" && (F += \"    n=\" + xt(P.n.toString(16)).substr(0, 16) + `...\n`, F += \"    e=\" + xt(P.e.toString(16)) + `\n`), T = this.aExtInfo, T != null) {\n      F += `X509v3 Extensions:\n`;\n      for (var H = 0; H < T.length; H++) {\n        var C = T[H], B = a.asn1.x509.OID.oid2name(C.oid);\n        B === \"\" && (B = C.oid);\n        var O = \"\";\n        if (C.critical === !0 && (O = \"CRITICAL\"), F += \"  \" + B + \" \" + O + `:\n`, B === \"basicConstraints\") {\n          var j = this.getExtBasicConstraints();\n          j.cA === void 0 ? F += `    {}\n` : (F += \"    cA=true\", j.pathLen !== void 0 && (F += \", pathLen=\" + j.pathLen), F += `\n`);\n        } else if (B == \"policyMappings\") {\n          var fe = this.getExtPolicyMappings().array, Z = fe.map(function(ce) {\n            var M = ce;\n            return M[0] + \":\" + M[1];\n          }).join(\", \");\n          F += \"    \" + Z + `\n`;\n        } else if (B == \"policyConstraints\") {\n          var X = this.getExtPolicyConstraints();\n          F += \"    \", X.reqexp != null && (F += \" reqexp=\" + X.reqexp), X.inhibit != null && (F += \" inhibit=\" + X.inhibit), F += `\n`;\n        } else if (B == \"inhibitAnyPolicy\") {\n          var X = this.getExtInhibitAnyPolicy();\n          F += \"    skip=\" + X.skip + `\n`;\n        } else if (B == \"keyUsage\")\n          F += \"    \" + this.getExtKeyUsageString() + `\n`;\n        else if (B == \"subjectKeyIdentifier\")\n          F += \"    \" + this.getExtSubjectKeyIdentifier().kid.hex + `\n`;\n        else if (B == \"authorityKeyIdentifier\") {\n          var re = this.getExtAuthorityKeyIdentifier();\n          re.kid !== void 0 && (F += \"    kid=\" + re.kid.hex + `\n`);\n        } else if (B == \"extKeyUsage\") {\n          var ne = this.getExtExtKeyUsage().array;\n          F += \"    \" + ne.join(\", \") + `\n`;\n        } else if (B == \"subjectAltName\") {\n          var he = m(this.getExtSubjectAltName());\n          F += he + `\n`;\n        } else if (B == \"cRLDistributionPoints\") {\n          var se = this.getExtCRLDistributionPoints();\n          F += w(se);\n        } else if (B == \"authorityInfoAccess\") {\n          var ke = this.getExtAuthorityInfoAccess();\n          F += x(ke);\n        } else\n          B == \"certificatePolicies\" && (F += E(this.getExtCertificatePolicies()));\n      }\n    }\n    return F += \"signature algorithm: \" + this.getSignatureAlgorithmName() + `\n`, F += \"signature: \" + this.getSignatureValueHex().substr(0, 16) + `...\n`, F;\n  }, typeof e == \"string\" && (e.indexOf(\"-----BEGIN\") != -1 ? this.readCertPEM(e) : a.lang.String.isHex(e) && this.readCertHex(e));\n}\nL.EXT_PARSER = {};\nL.registExtParser = function(e, t) {\n  L.EXT_PARSER[e] = t;\n};\nL.hex2dn = function(e, t) {\n  t === void 0 && (t = 0);\n  var r = new L();\n  V.getTLV(e, t);\n  var i = r.getX500Name(e);\n  return i.str;\n};\nL.hex2rdn = function(e, t) {\n  if (t === void 0 && (t = 0), e.substr(t, 2) !== \"31\")\n    throw new Error(\"malformed RDN\");\n  for (var r = new Array(), i = V.getChildIdx(e, t), s = 0; s < i.length; s++)\n    r.push(L.hex2attrTypeValue(e, i[s]));\n  return r = r.map(function(n) {\n    return n.replace(\"+\", \"\\\\+\");\n  }), r.join(\"+\");\n};\nL.hex2attrTypeValue = function(e, t) {\n  var r = V, i = r.getV;\n  if (t === void 0 && (t = 0), e.substr(t, 2) !== \"30\")\n    throw new Error(\"malformed attribute type and value\");\n  var s = r.getChildIdx(e, t);\n  s.length !== 2 || e.substr(s[0], 2);\n  var n = i(e, s[0]), h = a.asn1.ASN1Util.oidHexToInt(n), u = a.asn1.x509.OID.oid2atype(h), p = i(e, s[1]), c = Ae(p);\n  return u + \"=\" + c;\n};\nL.getPublicKeyFromCertHex = function(e) {\n  var t = new L();\n  return t.readCertHex(e), t.getPublicKey();\n};\nL.getPublicKeyFromCertPEM = function(e) {\n  var t = new L();\n  return t.readCertPEM(e), t.getPublicKey();\n};\nL.getPublicKeyInfoPropOfCertPEM = function(e) {\n  var t = V, r = t.getVbyList, i = {}, s, n;\n  return i.algparam = null, s = new L(), s.readCertPEM(e), n = s.getPublicKeyHex(), i.keyhex = r(n, 0, [1], \"03\").substr(2), i.algoid = r(n, 0, [0, 0], \"06\"), i.algoid === \"2a8648ce3d0201\" && (i.algparam = r(n, 0, [0, 1], \"06\")), i;\n};\nL.KEYUSAGE_NAME = [\"digitalSignature\", \"nonRepudiation\", \"keyEncipherment\", \"dataEncipherment\", \"keyAgreement\", \"keyCertSign\", \"cRLSign\", \"encipherOnly\", \"decipherOnly\"];\n(typeof a > \"u\" || !a) && (a = {});\n(typeof a.jws > \"u\" || !a.jws) && (a.jws = {});\na.jws.JWS = function() {\n  var e = a, t = e.jws.JWS, r = t.isSafeJSONString;\n  this.parseJWS = function(i, s) {\n    if (!(this.parsedJWS !== void 0 && (s || this.parsedJWS.sigvalH !== void 0))) {\n      var n = i.match(/^([^.]+)\\.([^.]+)\\.([^.]+)$/);\n      if (n == null)\n        throw \"JWS signature is not a form of 'Head.Payload.SigValue'.\";\n      var h = n[1], u = n[2], p = n[3], c = h + \".\" + u;\n      if (this.parsedJWS = {}, this.parsedJWS.headB64U = h, this.parsedJWS.payloadB64U = u, this.parsedJWS.sigvalB64U = p, this.parsedJWS.si = c, !s) {\n        var y = Y(p), v = ve(y, 16);\n        this.parsedJWS.sigvalH = y, this.parsedJWS.sigvalBI = v;\n      }\n      var o = we(h), l = we(u);\n      if (this.parsedJWS.headS = o, this.parsedJWS.payloadS = l, !r(o, this.parsedJWS, \"headP\"))\n        throw \"malformed JSON string for JWS Head: \" + o;\n    }\n  };\n};\na.jws.JWS.sign = function(e, t, r, i, s) {\n  var n = a, h = n.jws, u = h.JWS, p = u.readSafeJSONString, c = u.isSafeJSONString, y = n.crypto;\n  y.ECDSA;\n  var v = y.Mac, o = y.Signature, l = JSON, f, d, g;\n  if (typeof t != \"string\" && typeof t != \"object\")\n    throw \"spHeader must be JSON string or object: \" + t;\n  if (typeof t == \"object\" && (d = t, f = l.stringify(d)), typeof t == \"string\") {\n    if (f = t, !c(f))\n      throw \"JWS Head is not safe JSON string: \" + f;\n    d = p(f);\n  }\n  if (g = r, typeof r == \"object\" && (g = l.stringify(r)), (e == \"\" || e == null) && d.alg !== void 0 && (e = d.alg), e != \"\" && e != null && d.alg === void 0 && (d.alg = e, f = l.stringify(d)), e !== d.alg)\n    throw \"alg and sHeader.alg doesn't match: \" + e + \"!=\" + d.alg;\n  var S = null;\n  if (u.jwsalg2sigalg[e] === void 0)\n    throw \"unsupported alg name: \" + e;\n  S = u.jwsalg2sigalg[e];\n  var b = Je(f), D = Je(g), A = b + \".\" + D, I = \"\";\n  if (S.substr(0, 4) == \"Hmac\") {\n    if (i === void 0)\n      throw \"mac key shall be specified for HS* alg\";\n    var m = new v({ alg: S, prov: \"cryptojs\", pass: i });\n    m.updateString(A), I = m.doFinal();\n  } else if (S.indexOf(\"withECDSA\") != -1) {\n    var E = new o({ alg: S });\n    E.init(i, s), E.updateString(A);\n    var w = E.sign();\n    I = a.crypto.ECDSA.asn1SigToConcatSig(w);\n  } else if (S != \"none\") {\n    var E = new o({ alg: S });\n    E.init(i, s), E.updateString(A), I = E.sign();\n  }\n  var x = ae(I);\n  return A + \".\" + x;\n};\na.jws.JWS.verify = function(e, t, r) {\n  var i = a, s = i.jws, n = s.JWS, h = n.readSafeJSONString, u = i.crypto, p = u.ECDSA, c = u.Mac, y = u.Signature, v;\n  if (typeof q !== void 0 && (v = q), !Ht(e))\n    return !1;\n  var o = e.split(\".\");\n  if (o.length !== 3)\n    return !1;\n  var l = o[0], f = o[1], d = l + \".\" + f, g = Y(o[2]), S = h(we(o[0])), b = null, D = null;\n  if (S.alg === void 0)\n    throw \"algorithm not specified in header\";\n  if (b = S.alg, D = b.substr(0, 2), r != null && Object.prototype.toString.call(r) === \"[object Array]\" && r.length > 0) {\n    var A = \":\" + r.join(\":\") + \":\";\n    if (A.indexOf(\":\" + b + \":\") == -1)\n      throw \"algorithm '\" + b + \"' not accepted in the list\";\n  }\n  if (b != \"none\" && t === null)\n    throw \"key shall be specified to verify.\";\n  if (typeof t == \"string\" && t.indexOf(\"-----BEGIN \") != -1 && (t = k.getKey(t)), (D == \"RS\" || D == \"PS\") && !(t instanceof v))\n    throw \"key shall be a RSAKey obj for RS* and PS* algs\";\n  if (D == \"ES\" && !(t instanceof p))\n    throw \"key shall be a ECDSA obj for ES* algs\";\n  var I = null;\n  if (n.jwsalg2sigalg[S.alg] === void 0)\n    throw \"unsupported alg name: \" + b;\n  if (I = n.jwsalg2sigalg[b], I == \"none\")\n    throw \"not supported\";\n  if (I.substr(0, 4) == \"Hmac\") {\n    var m = null;\n    if (t === void 0)\n      throw \"hexadecimal key shall be specified for HMAC\";\n    var E = new c({ alg: I, pass: t });\n    return E.updateString(d), m = E.doFinal(), g == m;\n  } else if (I.indexOf(\"withECDSA\") != -1) {\n    var w = null;\n    try {\n      w = p.concatSigToASN1Sig(g);\n    } catch {\n      return !1;\n    }\n    var x = new y({ alg: I });\n    return x.init(t), x.updateString(d), x.verify(w);\n  } else {\n    var x = new y({ alg: I });\n    return x.init(t), x.updateString(d), x.verify(g);\n  }\n};\na.jws.JWS.parse = function(e) {\n  var t = e.split(\".\"), r = {}, i, s, n;\n  if (t.length != 2 && t.length != 3)\n    throw \"malformed sJWS: wrong number of '.' splitted elements\";\n  return i = t[0], s = t[1], t.length == 3 && (n = t[2]), r.headerObj = a.jws.JWS.readSafeJSONString(we(i)), r.payloadObj = a.jws.JWS.readSafeJSONString(we(s)), r.headerPP = JSON.stringify(r.headerObj, null, \"  \"), r.payloadObj == null ? r.payloadPP = we(s) : r.payloadPP = JSON.stringify(r.payloadObj, null, \"  \"), n !== void 0 && (r.sigHex = Y(n)), r;\n};\na.jws.JWS.verifyJWT = function(e, t, r) {\n  var i = a, s = i.jws, n = s.JWS, h = n.readSafeJSONString, u = n.inArray, p = n.includedArray;\n  if (!Ht(e))\n    return !1;\n  var c = e.split(\".\");\n  if (c.length != 3)\n    return !1;\n  var y = c[0], v = c[1];\n  Y(c[2]);\n  var o = h(we(y)), l = h(we(v));\n  if (o.alg === void 0)\n    return !1;\n  if (r.alg === void 0)\n    throw \"acceptField.alg shall be specified\";\n  if (!u(o.alg, r.alg) || l.iss !== void 0 && typeof r.iss == \"object\" && !u(l.iss, r.iss) || l.sub !== void 0 && typeof r.sub == \"object\" && !u(l.sub, r.sub))\n    return !1;\n  if (l.aud !== void 0 && typeof r.aud == \"object\") {\n    if (typeof l.aud == \"string\") {\n      if (!u(l.aud, r.aud))\n        return !1;\n    } else if (typeof l.aud == \"object\" && !p(l.aud, r.aud))\n      return !1;\n  }\n  var f = s.IntDate.getNow();\n  return r.verifyAt !== void 0 && typeof r.verifyAt == \"number\" && (f = r.verifyAt), (r.gracePeriod === void 0 || typeof r.gracePeriod != \"number\") && (r.gracePeriod = 0), !(l.exp !== void 0 && typeof l.exp == \"number\" && l.exp + r.gracePeriod < f || l.nbf !== void 0 && typeof l.nbf == \"number\" && f < l.nbf - r.gracePeriod || l.iat !== void 0 && typeof l.iat == \"number\" && f < l.iat - r.gracePeriod || l.jti !== void 0 && r.jti !== void 0 && l.jti !== r.jti || !n.verify(e, t, r.alg));\n};\na.jws.JWS.includedArray = function(e, t) {\n  var r = a.jws.JWS.inArray;\n  if (e === null || typeof e != \"object\" || typeof e.length != \"number\")\n    return !1;\n  for (var i = 0; i < e.length; i++)\n    if (!r(e[i], t))\n      return !1;\n  return !0;\n};\na.jws.JWS.inArray = function(e, t) {\n  if (t === null || typeof t != \"object\" || typeof t.length != \"number\")\n    return !1;\n  for (var r = 0; r < t.length; r++)\n    if (t[r] == e)\n      return !0;\n  return !1;\n};\na.jws.JWS.jwsalg2sigalg = { HS256: \"HmacSHA256\", HS384: \"HmacSHA384\", HS512: \"HmacSHA512\", RS256: \"SHA256withRSA\", RS384: \"SHA384withRSA\", RS512: \"SHA512withRSA\", ES256: \"SHA256withECDSA\", ES384: \"SHA384withECDSA\", ES512: \"SHA512withECDSA\", PS256: \"SHA256withRSAandMGF1\", PS384: \"SHA384withRSAandMGF1\", PS512: \"SHA512withRSAandMGF1\", none: \"none\" };\na.jws.JWS.isSafeJSONString = function(e, t, r) {\n  var i = null;\n  try {\n    return i = Pt(e), typeof i != \"object\" || i.constructor === Array ? 0 : (t && (t[r] = i), 1);\n  } catch {\n    return 0;\n  }\n};\na.jws.JWS.readSafeJSONString = function(e) {\n  var t = null;\n  try {\n    return t = Pt(e), typeof t != \"object\" || t.constructor === Array ? null : t;\n  } catch {\n    return null;\n  }\n};\na.jws.JWS.getEncodedSignatureValueFromJWS = function(e) {\n  var t = e.match(/^[^.]+\\.[^.]+\\.([^.]+)$/);\n  if (t == null)\n    throw \"JWS signature is not a form of 'Head.Payload.SigValue'.\";\n  return t[1];\n};\na.jws.JWS.getJWKthumbprint = function(e) {\n  if (e.kty !== \"RSA\" && e.kty !== \"EC\" && e.kty !== \"oct\")\n    throw \"unsupported algorithm for JWK Thumprint\";\n  var t = \"{\";\n  if (e.kty === \"RSA\") {\n    if (typeof e.n != \"string\" || typeof e.e != \"string\")\n      throw \"wrong n and e value for RSA key\";\n    t += '\"e\":\"' + e.e + '\",', t += '\"kty\":\"' + e.kty + '\",', t += '\"n\":\"' + e.n + '\"}';\n  } else if (e.kty === \"EC\") {\n    if (typeof e.crv != \"string\" || typeof e.x != \"string\" || typeof e.y != \"string\")\n      throw \"wrong crv, x and y value for EC key\";\n    t += '\"crv\":\"' + e.crv + '\",', t += '\"kty\":\"' + e.kty + '\",', t += '\"x\":\"' + e.x + '\",', t += '\"y\":\"' + e.y + '\"}';\n  } else if (e.kty === \"oct\") {\n    if (typeof e.k != \"string\")\n      throw \"wrong k value for oct(symmetric) key\";\n    t += '\"kty\":\"' + e.kty + '\",', t += '\"k\":\"' + e.k + '\"}';\n  }\n  var r = Pe(t), i = a.crypto.Util.hashHex(r, \"sha256\"), s = ae(i);\n  return s;\n};\na.jws.IntDate = {};\na.jws.IntDate.get = function(e) {\n  var t = a.jws.IntDate, r = t.getNow, i = t.getZulu;\n  if (e == \"now\")\n    return r();\n  if (e == \"now + 1hour\")\n    return r() + 60 * 60;\n  if (e == \"now + 1day\")\n    return r() + 60 * 60 * 24;\n  if (e == \"now + 1month\")\n    return r() + 60 * 60 * 24 * 30;\n  if (e == \"now + 1year\")\n    return r() + 60 * 60 * 24 * 365;\n  if (e.match(/Z$/))\n    return i(e);\n  if (e.match(/^[0-9]+$/))\n    return parseInt(e);\n  throw \"unsupported format: \" + e;\n};\na.jws.IntDate.getZulu = function(e) {\n  return gn(e);\n};\na.jws.IntDate.getNow = function() {\n  var e = ~~(/* @__PURE__ */ new Date() / 1e3);\n  return e;\n};\na.jws.IntDate.intDate2UTCString = function(e) {\n  var t = new Date(e * 1e3);\n  return t.toUTCString();\n};\na.jws.IntDate.intDate2Zulu = function(e) {\n  var t = new Date(e * 1e3), r = (\"0000\" + t.getUTCFullYear()).slice(-4), i = (\"00\" + (t.getUTCMonth() + 1)).slice(-2), s = (\"00\" + t.getUTCDate()).slice(-2), n = (\"00\" + t.getUTCHours()).slice(-2), h = (\"00\" + t.getUTCMinutes()).slice(-2), u = (\"00\" + t.getUTCSeconds()).slice(-2);\n  return r + i + s + n + h + u + \"Z\";\n};\n(typeof a > \"u\" || !a) && (a = {});\n(typeof a.jws > \"u\" || !a.jws) && (a.jws = {});\na.jws.JWSJS = function() {\n  var e = a, t = e.jws, r = t.JWS, i = r.readSafeJSONString;\n  this.aHeader = [], this.sPayload = \"\", this.aSignature = [], this.init = function() {\n    this.aHeader = [], this.sPayload = void 0, this.aSignature = [];\n  }, this.initWithJWS = function(s) {\n    this.init();\n    var n = s.split(\".\");\n    if (n.length != 3)\n      throw \"malformed input JWS\";\n    this.aHeader.push(n[0]), this.sPayload = n[1], this.aSignature.push(n[2]);\n  }, this.addSignature = function(s, n, h, u) {\n    if (this.sPayload === void 0 || this.sPayload === null)\n      throw \"there's no JSON-JS signature to add.\";\n    var p = this.aHeader.length;\n    if (this.aHeader.length != this.aSignature.length)\n      throw \"aHeader.length != aSignature.length\";\n    try {\n      var c = a.jws.JWS.sign(s, n, this.sPayload, h, u), y = c.split(\".\"), v = y[0], o = y[2];\n      this.aHeader.push(y[0]), this.aSignature.push(y[2]);\n    } catch (l) {\n      throw this.aHeader.length > p && this.aHeader.pop(), this.aSignature.length > p && this.aSignature.pop(), \"addSignature failed: \" + l;\n    }\n  }, this.verifyAll = function(s) {\n    if (this.aHeader.length !== s.length || this.aSignature.length !== s.length)\n      return !1;\n    for (var n = 0; n < s.length; n++) {\n      var h = s[n];\n      if (h.length !== 2)\n        return !1;\n      var u = this.verifyNth(n, h[0], h[1]);\n      if (u === !1)\n        return !1;\n    }\n    return !0;\n  }, this.verifyNth = function(s, n, h) {\n    if (this.aHeader.length <= s || this.aSignature.length <= s)\n      return !1;\n    var u = this.aHeader[s], p = this.aSignature[s], c = u + \".\" + this.sPayload + \".\" + p, y = !1;\n    try {\n      y = r.verify(c, n, h);\n    } catch {\n      return !1;\n    }\n    return y;\n  }, this.readJWSJS = function(s) {\n    if (typeof s == \"string\") {\n      var n = i(s);\n      if (n == null)\n        throw \"argument is not safe JSON object string\";\n      this.aHeader = n.headers, this.sPayload = n.payload, this.aSignature = n.signatures;\n    } else\n      try {\n        if (s.headers.length > 0)\n          this.aHeader = s.headers;\n        else\n          throw \"malformed header\";\n        if (typeof s.payload == \"string\")\n          this.sPayload = s.payload;\n        else\n          throw \"malformed signatures\";\n        if (s.signatures.length > 0)\n          this.aSignature = s.signatures;\n        else\n          throw \"malformed signatures\";\n      } catch (h) {\n        throw \"malformed JWS-JS JSON object: \" + h;\n      }\n  }, this.getJSON = function() {\n    return { headers: this.aHeader, payload: this.sPayload, signatures: this.aSignature };\n  }, this.isEmpty = function() {\n    return this.aHeader.length == 0 ? 1 : 0;\n  };\n};\na.crypto.ECDSA;\na.crypto.DSA;\na.crypto.Signature;\na.crypto.MessageDigest;\na.crypto.Mac;\nvar wn = k, Fn = we, bn = a;\na.crypto;\na.asn1;\na.jws;\na.lang;\nconst An = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({\n  __proto__: null,\n  KEYUTIL: wn,\n  KJUR: bn,\n  b64utoutf8: Fn\n}, Symbol.toStringTag, { value: \"Module\" }));\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGtpbmRlL2p3dC12YWxpZGF0b3IvZGlzdC9qc3JzYXNpZ24tQjJnWklKaFkuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksZ0JBQWdCO0FBQzVCO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsR0FBRyxpQ0FBaUM7QUFDcEM7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLHNCQUFzQixPQUFPO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLE9BQU87QUFDN0I7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsNEJBQTRCLE9BQU87QUFDbkM7QUFDQTtBQUNBLEtBQUssaUJBQWlCLGdCQUFnQjtBQUN0Qyx5REFBeUQsT0FBTztBQUNoRTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCwwQ0FBMEMsT0FBTztBQUNqRDtBQUNBO0FBQ0EsS0FBSyxtQkFBbUI7QUFDeEIseURBQXlELE9BQU87QUFDaEU7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsMENBQTBDLE9BQU87QUFDakQ7QUFDQTtBQUNBLEtBQUssaUJBQWlCO0FBQ3RCO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLEtBQUssNENBQTRDO0FBQ2pEO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLE9BQU87QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNB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O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHLHlHQUF5RztBQUM1Ryxp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QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsT0FBTztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QixPQUFPO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBEQUEwRCxRQUFRO0FBQ2xFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxjQUFjO0FBQzNCO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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Q0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUNBQXlDLFdBQVcsMEJBQTBCLFdBQVcsMkJBQTJCLGVBQWU7QUFDbkk7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQztBQUNqQyxzREFBc0Q7QUFDdEQ7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsY0FBYztBQUNsQztBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDLHNEQUFzRDtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSx3UkFBd1IsUUFBUSxPQUFPLGFBQWEsSUFBSSxPQUFPLGFBQWEsR0FBRztBQUMvVTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsOEJBQThCLE9BQU87QUFDckM7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0gsc0dBQXNHLE9BQU87QUFDN0c7QUFDQSxHQUFHLFFBQVEsaUJBQWlCLDBDQUEwQyxtQkFBbUIsMENBQTBDLG1CQUFtQiwwQ0FBMEMsb0JBQW9CLHlDQUF5QyxlQUFlLDBDQUEwQztBQUN0VDtBQUNBO0FBQ0EsR0FBRztBQUNILGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsd0lBQXdJO0FBQ3hJO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkVBQTJFLEdBQUc7QUFDOUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0Esb0NBQW9DO0FBQ3BDO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLDhEQUE4RCxhQUFhO0FBQzNFLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsY0FBYyxRQUFRLFFBQVEsbUJBQW1CLElBQUksUUFBUSxRQUFRLG9CQUFvQixJQUFJLFFBQVEsVUFBVSxlQUFlLElBQUksT0FBTyxtQkFBbUIsR0FBRyxHQUFHLElBQUksUUFBUSxlQUFlLElBQUksVUFBVSxnQkFBZ0IsR0FBRyxHQUFHLEdBQUcsSUFBSSxVQUFVLGNBQWM7QUFDaFEsK0VBQStFLFFBQVEsWUFBWSxJQUFJLFVBQVUsR0FBRztBQUNwSCxHQUFHO0FBQ0gsb0RBQW9EO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILGtGQUFrRixrQ0FBa0M7QUFDcEg7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLDJHQUEyRyxPQUFPO0FBQ2xIO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0EsR0FBRztBQUNILGNBQWMsdUpBQXVKLFFBQVEsMEVBQTBFO0FBQ3ZQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLHNDQUFzQztBQUNyRTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0EseURBQXlELGFBQWE7QUFDdEUsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0lBQWtJO0FBQ2xJO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQiwyQkFBMkI7QUFDOUM7QUFDQSxtQkFBbUIsMEJBQTBCO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixjQUFjO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixjQUFjO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLFVBQVU7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLHdDQUF3QyxVQUFVLHdEQUF3RCxVQUFVO0FBQ3BIO0FBQ0EsaUNBQWlDLFVBQVU7QUFDM0M7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsUUFBUSxRQUFRLElBQUksT0FBTyxlQUFlLElBQUksVUFBVSxJQUFJLE9BQU8sZUFBZSxJQUFJLE9BQU8sZUFBZSxJQUFJLE9BQU8sZUFBZSxJQUFJLE9BQU8sa0JBQWtCLElBQUksT0FBTyxrQkFBa0IsSUFBSSxPQUFPLG1CQUFtQixHQUFHO0FBQ2pQO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixRQUFRLFFBQVEsSUFBSSxVQUFVLG9CQUFvQixJQUFJLGtCQUFrQixPQUFPLHFCQUFxQixHQUFHLElBQUksa0JBQWtCLFVBQVUsMkJBQTJCLEdBQUcsR0FBRztBQUN4TDtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsUUFBUSxRQUFRLElBQUksT0FBTyxlQUFlLElBQUksT0FBTyxlQUFlLElBQUksT0FBTyxlQUFlLElBQUksT0FBTyxlQUFlLElBQUksT0FBTyxlQUFlLEdBQUc7QUFDcks7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixtQkFBbUI7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUNBQXlDLFFBQVEsUUFBUSxJQUFJLFFBQVEsT0FBTyx5QkFBeUIsSUFBSSxVQUFVLEdBQUcsSUFBSSxVQUFVLFVBQVUsR0FBRztBQUNqSjtBQUNBO0FBQ0E7QUFDQSxjQUFjLFFBQVEsUUFBUSxJQUFJLFVBQVUsb0JBQW9CO0FBQ2hFLG1EQUFtRCxrQkFBa0IsVUFBVSwyQkFBMkIsR0FBRztBQUM3Ryw2Q0FBNkMsUUFBUSxRQUFRLElBQUksUUFBUSxPQUFPLHVCQUF1QixJQUFJLE9BQU8scUJBQXFCLEdBQUcsSUFBSSxVQUFVLFVBQVUsR0FBRztBQUNySztBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsYUFBYSwwQkFBMEIsUUFBUSxRQUFRLElBQUksUUFBUSxPQUFPLGVBQWUsSUFBSSxRQUFRLE9BQU8sZUFBZSxJQUFJLE9BQU8sZUFBZSxJQUFJLE9BQU8sZUFBZSxHQUFHLEdBQUcsSUFBSSxVQUFVLFVBQVUsR0FBRztBQUNwTztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9EQUFvRDtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdEQUFnRCxPQUFPO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQixjQUFjO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxtQkFBbUI7QUFDakM7QUFDQTtBQUNBLGNBQWMsY0FBYztBQUM1QjtBQUNBO0FBQ0EsMEJBQTBCLE9BQU87QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLGNBQWM7QUFDNUI7QUFDQSxTQUFTLGNBQWM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsY0FBYztBQUM1QjtBQUNBO0FBQ0E7QUFDQSxjQUFjLE9BQU87QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0Esb0JBQW9CLDhEQUE4RDtBQUNsRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0Es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QTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsYUFBYTtBQUNiLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLHdCQUF3QixpQkFBaUI7QUFHeEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jYXNlY29icmEtZGV2Ly4vbm9kZV9tb2R1bGVzL0BraW5kZS9qd3QtdmFsaWRhdG9yL2Rpc3QvanNyc2FzaWduLUIyZ1pJSmhZLmpzP2U3NmMiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIFVlID0ge307XG5VZS51c2VyQWdlbnQgPSAhMTtcbnZhciBWZSA9IHt9O1xuLyohIENyeXB0b0pTIHYzLjEuMiBjb3JlLWZpeC5qc1xuICogY29kZS5nb29nbGUuY29tL3AvY3J5cHRvLWpzXG4gKiAoYykgMjAwOS0yMDEzIGJ5IEplZmYgTW90dC4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIGNvZGUuZ29vZ2xlLmNvbS9wL2NyeXB0by1qcy93aWtpL0xpY2Vuc2VcbiAqIFRISVMgSVMgRklYIG9mICdjb3JlLmpzJyB0byBmaXggSG1hYyBpc3N1ZS5cbiAqIGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvY3J5cHRvLWpzL2lzc3Vlcy9kZXRhaWw/aWQ9ODRcbiAqIGh0dHBzOi8vY3J5cHRvLWpzLmdvb2dsZWNvZGUuY29tL3N2bi1oaXN0b3J5L3I2NjcvYnJhbmNoZXMvMy54L3NyYy9jb3JlLmpzXG4gKi9cbnZhciBLID0gSyB8fCBmdW5jdGlvbihlLCB0KSB7XG4gIHZhciByID0ge30sIGkgPSByLmxpYiA9IHt9LCBzID0gaS5CYXNlID0gLyogQF9fUFVSRV9fICovIGZ1bmN0aW9uKCkge1xuICAgIGZ1bmN0aW9uIG8oKSB7XG4gICAgfVxuICAgIHJldHVybiB7IGV4dGVuZDogZnVuY3Rpb24obCkge1xuICAgICAgby5wcm90b3R5cGUgPSB0aGlzO1xuICAgICAgdmFyIGYgPSBuZXcgbygpO1xuICAgICAgcmV0dXJuIGwgJiYgZi5taXhJbihsKSwgZi5oYXNPd25Qcm9wZXJ0eShcImluaXRcIikgfHwgKGYuaW5pdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBmLiRzdXBlci5pbml0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9KSwgZi5pbml0LnByb3RvdHlwZSA9IGYsIGYuJHN1cGVyID0gdGhpcywgZjtcbiAgICB9LCBjcmVhdGU6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGwgPSB0aGlzLmV4dGVuZCgpO1xuICAgICAgcmV0dXJuIGwuaW5pdC5hcHBseShsLCBhcmd1bWVudHMpLCBsO1xuICAgIH0sIGluaXQ6IGZ1bmN0aW9uKCkge1xuICAgIH0sIG1peEluOiBmdW5jdGlvbihsKSB7XG4gICAgICBmb3IgKHZhciBmIGluIGwpXG4gICAgICAgIGwuaGFzT3duUHJvcGVydHkoZikgJiYgKHRoaXNbZl0gPSBsW2ZdKTtcbiAgICAgIGwuaGFzT3duUHJvcGVydHkoXCJ0b1N0cmluZ1wiKSAmJiAodGhpcy50b1N0cmluZyA9IGwudG9TdHJpbmcpO1xuICAgIH0sIGNsb25lOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLmluaXQucHJvdG90eXBlLmV4dGVuZCh0aGlzKTtcbiAgICB9IH07XG4gIH0oKSwgbiA9IGkuV29yZEFycmF5ID0gcy5leHRlbmQoeyBpbml0OiBmdW5jdGlvbihvLCBsKSB7XG4gICAgbyA9IHRoaXMud29yZHMgPSBvIHx8IFtdLCBsICE9IHQgPyB0aGlzLnNpZ0J5dGVzID0gbCA6IHRoaXMuc2lnQnl0ZXMgPSBvLmxlbmd0aCAqIDQ7XG4gIH0sIHRvU3RyaW5nOiBmdW5jdGlvbihvKSB7XG4gICAgcmV0dXJuIChvIHx8IHUpLnN0cmluZ2lmeSh0aGlzKTtcbiAgfSwgY29uY2F0OiBmdW5jdGlvbihvKSB7XG4gICAgdmFyIGwgPSB0aGlzLndvcmRzLCBmID0gby53b3JkcywgZCA9IHRoaXMuc2lnQnl0ZXMsIGcgPSBvLnNpZ0J5dGVzO1xuICAgIGlmICh0aGlzLmNsYW1wKCksIGQgJSA0KVxuICAgICAgZm9yICh2YXIgUyA9IDA7IFMgPCBnOyBTKyspIHtcbiAgICAgICAgdmFyIGIgPSBmW1MgPj4+IDJdID4+PiAyNCAtIFMgJSA0ICogOCAmIDI1NTtcbiAgICAgICAgbFtkICsgUyA+Pj4gMl0gfD0gYiA8PCAyNCAtIChkICsgUykgJSA0ICogODtcbiAgICAgIH1cbiAgICBlbHNlXG4gICAgICBmb3IgKHZhciBTID0gMDsgUyA8IGc7IFMgKz0gNClcbiAgICAgICAgbFtkICsgUyA+Pj4gMl0gPSBmW1MgPj4+IDJdO1xuICAgIHJldHVybiB0aGlzLnNpZ0J5dGVzICs9IGcsIHRoaXM7XG4gIH0sIGNsYW1wOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgbyA9IHRoaXMud29yZHMsIGwgPSB0aGlzLnNpZ0J5dGVzO1xuICAgIG9bbCA+Pj4gMl0gJj0gNDI5NDk2NzI5NSA8PCAzMiAtIGwgJSA0ICogOCwgby5sZW5ndGggPSBlLmNlaWwobCAvIDQpO1xuICB9LCBjbG9uZTogZnVuY3Rpb24oKSB7XG4gICAgdmFyIG8gPSBzLmNsb25lLmNhbGwodGhpcyk7XG4gICAgcmV0dXJuIG8ud29yZHMgPSB0aGlzLndvcmRzLnNsaWNlKDApLCBvO1xuICB9LCByYW5kb206IGZ1bmN0aW9uKG8pIHtcbiAgICBmb3IgKHZhciBsID0gW10sIGYgPSAwOyBmIDwgbzsgZiArPSA0KVxuICAgICAgbC5wdXNoKGUucmFuZG9tKCkgKiA0Mjk0OTY3Mjk2IHwgMCk7XG4gICAgcmV0dXJuIG5ldyBuLmluaXQobCwgbyk7XG4gIH0gfSksIGggPSByLmVuYyA9IHt9LCB1ID0gaC5IZXggPSB7IHN0cmluZ2lmeTogZnVuY3Rpb24obykge1xuICAgIGZvciAodmFyIGwgPSBvLndvcmRzLCBmID0gby5zaWdCeXRlcywgZCA9IFtdLCBnID0gMDsgZyA8IGY7IGcrKykge1xuICAgICAgdmFyIFMgPSBsW2cgPj4+IDJdID4+PiAyNCAtIGcgJSA0ICogOCAmIDI1NTtcbiAgICAgIGQucHVzaCgoUyA+Pj4gNCkudG9TdHJpbmcoMTYpKSwgZC5wdXNoKChTICYgMTUpLnRvU3RyaW5nKDE2KSk7XG4gICAgfVxuICAgIHJldHVybiBkLmpvaW4oXCJcIik7XG4gIH0sIHBhcnNlOiBmdW5jdGlvbihvKSB7XG4gICAgZm9yICh2YXIgbCA9IG8ubGVuZ3RoLCBmID0gW10sIGQgPSAwOyBkIDwgbDsgZCArPSAyKVxuICAgICAgZltkID4+PiAzXSB8PSBwYXJzZUludChvLnN1YnN0cihkLCAyKSwgMTYpIDw8IDI0IC0gZCAlIDggKiA0O1xuICAgIHJldHVybiBuZXcgbi5pbml0KGYsIGwgLyAyKTtcbiAgfSB9LCBwID0gaC5MYXRpbjEgPSB7IHN0cmluZ2lmeTogZnVuY3Rpb24obykge1xuICAgIGZvciAodmFyIGwgPSBvLndvcmRzLCBmID0gby5zaWdCeXRlcywgZCA9IFtdLCBnID0gMDsgZyA8IGY7IGcrKykge1xuICAgICAgdmFyIFMgPSBsW2cgPj4+IDJdID4+PiAyNCAtIGcgJSA0ICogOCAmIDI1NTtcbiAgICAgIGQucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlKFMpKTtcbiAgICB9XG4gICAgcmV0dXJuIGQuam9pbihcIlwiKTtcbiAgfSwgcGFyc2U6IGZ1bmN0aW9uKG8pIHtcbiAgICBmb3IgKHZhciBsID0gby5sZW5ndGgsIGYgPSBbXSwgZCA9IDA7IGQgPCBsOyBkKyspXG4gICAgICBmW2QgPj4+IDJdIHw9IChvLmNoYXJDb2RlQXQoZCkgJiAyNTUpIDw8IDI0IC0gZCAlIDQgKiA4O1xuICAgIHJldHVybiBuZXcgbi5pbml0KGYsIGwpO1xuICB9IH0sIGMgPSBoLlV0ZjggPSB7IHN0cmluZ2lmeTogZnVuY3Rpb24obykge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KGVzY2FwZShwLnN0cmluZ2lmeShvKSkpO1xuICAgIH0gY2F0Y2gge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWFsZm9ybWVkIFVURi04IGRhdGFcIik7XG4gICAgfVxuICB9LCBwYXJzZTogZnVuY3Rpb24obykge1xuICAgIHJldHVybiBwLnBhcnNlKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChvKSkpO1xuICB9IH0sIHkgPSBpLkJ1ZmZlcmVkQmxvY2tBbGdvcml0aG0gPSBzLmV4dGVuZCh7IHJlc2V0OiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLl9kYXRhID0gbmV3IG4uaW5pdCgpLCB0aGlzLl9uRGF0YUJ5dGVzID0gMDtcbiAgfSwgX2FwcGVuZDogZnVuY3Rpb24obykge1xuICAgIHR5cGVvZiBvID09IFwic3RyaW5nXCIgJiYgKG8gPSBjLnBhcnNlKG8pKSwgdGhpcy5fZGF0YS5jb25jYXQobyksIHRoaXMuX25EYXRhQnl0ZXMgKz0gby5zaWdCeXRlcztcbiAgfSwgX3Byb2Nlc3M6IGZ1bmN0aW9uKG8pIHtcbiAgICB2YXIgbCA9IHRoaXMuX2RhdGEsIGYgPSBsLndvcmRzLCBkID0gbC5zaWdCeXRlcywgZyA9IHRoaXMuYmxvY2tTaXplLCBTID0gZyAqIDQsIGIgPSBkIC8gUztcbiAgICBvID8gYiA9IGUuY2VpbChiKSA6IGIgPSBlLm1heCgoYiB8IDApIC0gdGhpcy5fbWluQnVmZmVyU2l6ZSwgMCk7XG4gICAgdmFyIEQgPSBiICogZywgQSA9IGUubWluKEQgKiA0LCBkKTtcbiAgICBpZiAoRCkge1xuICAgICAgZm9yICh2YXIgSSA9IDA7IEkgPCBEOyBJICs9IGcpXG4gICAgICAgIHRoaXMuX2RvUHJvY2Vzc0Jsb2NrKGYsIEkpO1xuICAgICAgdmFyIG0gPSBmLnNwbGljZSgwLCBEKTtcbiAgICAgIGwuc2lnQnl0ZXMgLT0gQTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBuLmluaXQobSwgQSk7XG4gIH0sIGNsb25lOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgbyA9IHMuY2xvbmUuY2FsbCh0aGlzKTtcbiAgICByZXR1cm4gby5fZGF0YSA9IHRoaXMuX2RhdGEuY2xvbmUoKSwgbztcbiAgfSwgX21pbkJ1ZmZlclNpemU6IDAgfSk7XG4gIGkuSGFzaGVyID0geS5leHRlbmQoeyBjZmc6IHMuZXh0ZW5kKCksIGluaXQ6IGZ1bmN0aW9uKG8pIHtcbiAgICB0aGlzLmNmZyA9IHRoaXMuY2ZnLmV4dGVuZChvKSwgdGhpcy5yZXNldCgpO1xuICB9LCByZXNldDogZnVuY3Rpb24oKSB7XG4gICAgeS5yZXNldC5jYWxsKHRoaXMpLCB0aGlzLl9kb1Jlc2V0KCk7XG4gIH0sIHVwZGF0ZTogZnVuY3Rpb24obykge1xuICAgIHJldHVybiB0aGlzLl9hcHBlbmQobyksIHRoaXMuX3Byb2Nlc3MoKSwgdGhpcztcbiAgfSwgZmluYWxpemU6IGZ1bmN0aW9uKG8pIHtcbiAgICBvICYmIHRoaXMuX2FwcGVuZChvKTtcbiAgICB2YXIgbCA9IHRoaXMuX2RvRmluYWxpemUoKTtcbiAgICByZXR1cm4gbDtcbiAgfSwgYmxvY2tTaXplOiA1MTIgLyAzMiwgX2NyZWF0ZUhlbHBlcjogZnVuY3Rpb24obykge1xuICAgIHJldHVybiBmdW5jdGlvbihsLCBmKSB7XG4gICAgICByZXR1cm4gbmV3IG8uaW5pdChmKS5maW5hbGl6ZShsKTtcbiAgICB9O1xuICB9LCBfY3JlYXRlSG1hY0hlbHBlcjogZnVuY3Rpb24obykge1xuICAgIHJldHVybiBmdW5jdGlvbihsLCBmKSB7XG4gICAgICByZXR1cm4gbmV3IHYuSE1BQy5pbml0KG8sIGYpLmZpbmFsaXplKGwpO1xuICAgIH07XG4gIH0gfSk7XG4gIHZhciB2ID0gci5hbGdvID0ge307XG4gIHJldHVybiByO1xufShNYXRoKTtcbihmdW5jdGlvbihlKSB7XG4gIHZhciBzID0gSywgdCA9IHMubGliLCByID0gdC5CYXNlLCBpID0gdC5Xb3JkQXJyYXksIHMgPSBzLng2NCA9IHt9O1xuICBzLldvcmQgPSByLmV4dGVuZCh7IGluaXQ6IGZ1bmN0aW9uKG4sIGgpIHtcbiAgICB0aGlzLmhpZ2ggPSBuLCB0aGlzLmxvdyA9IGg7XG4gIH0gfSksIHMuV29yZEFycmF5ID0gci5leHRlbmQoeyBpbml0OiBmdW5jdGlvbihuLCBoKSB7XG4gICAgbiA9IHRoaXMud29yZHMgPSBuIHx8IFtdLCB0aGlzLnNpZ0J5dGVzID0gaCAhPSBlID8gaCA6IDggKiBuLmxlbmd0aDtcbiAgfSwgdG9YMzI6IGZ1bmN0aW9uKCkge1xuICAgIGZvciAodmFyIG4gPSB0aGlzLndvcmRzLCBoID0gbi5sZW5ndGgsIHUgPSBbXSwgcCA9IDA7IHAgPCBoOyBwKyspIHtcbiAgICAgIHZhciBjID0gbltwXTtcbiAgICAgIHUucHVzaChjLmhpZ2gpLCB1LnB1c2goYy5sb3cpO1xuICAgIH1cbiAgICByZXR1cm4gaS5jcmVhdGUodSwgdGhpcy5zaWdCeXRlcyk7XG4gIH0sIGNsb25lOiBmdW5jdGlvbigpIHtcbiAgICBmb3IgKHZhciBuID0gci5jbG9uZS5jYWxsKHRoaXMpLCBoID0gbi53b3JkcyA9IHRoaXMud29yZHMuc2xpY2UoMCksIHUgPSBoLmxlbmd0aCwgcCA9IDA7IHAgPCB1OyBwKyspIGhbcF0gPSBoW3BdLmNsb25lKCk7XG4gICAgcmV0dXJuIG47XG4gIH0gfSk7XG59KSgpO1xuSy5saWIuQ2lwaGVyIHx8IGZ1bmN0aW9uKGUpIHtcbiAgdmFyIGwgPSBLLCB0ID0gbC5saWIsIHIgPSB0LkJhc2UsIGkgPSB0LldvcmRBcnJheSwgcyA9IHQuQnVmZmVyZWRCbG9ja0FsZ29yaXRobSwgbiA9IGwuZW5jLkJhc2U2NCwgaCA9IGwuYWxnby5FdnBLREYsIHUgPSB0LkNpcGhlciA9IHMuZXh0ZW5kKHsgY2ZnOiByLmV4dGVuZCgpLCBjcmVhdGVFbmNyeXB0b3I6IGZ1bmN0aW9uKGQsIGcpIHtcbiAgICByZXR1cm4gdGhpcy5jcmVhdGUodGhpcy5fRU5DX1hGT1JNX01PREUsIGQsIGcpO1xuICB9LCBjcmVhdGVEZWNyeXB0b3I6IGZ1bmN0aW9uKGQsIGcpIHtcbiAgICByZXR1cm4gdGhpcy5jcmVhdGUodGhpcy5fREVDX1hGT1JNX01PREUsIGQsIGcpO1xuICB9LCBpbml0OiBmdW5jdGlvbihkLCBnLCBTKSB7XG4gICAgdGhpcy5jZmcgPSB0aGlzLmNmZy5leHRlbmQoUyksIHRoaXMuX3hmb3JtTW9kZSA9IGQsIHRoaXMuX2tleSA9IGcsIHRoaXMucmVzZXQoKTtcbiAgfSwgcmVzZXQ6IGZ1bmN0aW9uKCkge1xuICAgIHMucmVzZXQuY2FsbCh0aGlzKSwgdGhpcy5fZG9SZXNldCgpO1xuICB9LCBwcm9jZXNzOiBmdW5jdGlvbihkKSB7XG4gICAgcmV0dXJuIHRoaXMuX2FwcGVuZChkKSwgdGhpcy5fcHJvY2VzcygpO1xuICB9LCBmaW5hbGl6ZTogZnVuY3Rpb24oZCkge1xuICAgIHJldHVybiBkICYmIHRoaXMuX2FwcGVuZChkKSwgdGhpcy5fZG9GaW5hbGl6ZSgpO1xuICB9LCBrZXlTaXplOiA0LCBpdlNpemU6IDQsIF9FTkNfWEZPUk1fTU9ERTogMSwgX0RFQ19YRk9STV9NT0RFOiAyLCBfY3JlYXRlSGVscGVyOiBmdW5jdGlvbihkKSB7XG4gICAgcmV0dXJuIHsgZW5jcnlwdDogZnVuY3Rpb24oZywgUywgYikge1xuICAgICAgcmV0dXJuICh0eXBlb2YgUyA9PSBcInN0cmluZ1wiID8gZiA6IG8pLmVuY3J5cHQoZCwgZywgUywgYik7XG4gICAgfSwgZGVjcnlwdDogZnVuY3Rpb24oZywgUywgYikge1xuICAgICAgcmV0dXJuICh0eXBlb2YgUyA9PSBcInN0cmluZ1wiID8gZiA6IG8pLmRlY3J5cHQoZCwgZywgUywgYik7XG4gICAgfSB9O1xuICB9IH0pO1xuICB0LlN0cmVhbUNpcGhlciA9IHUuZXh0ZW5kKHsgX2RvRmluYWxpemU6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLl9wcm9jZXNzKCEwKTtcbiAgfSwgYmxvY2tTaXplOiAxIH0pO1xuICB2YXIgdiA9IGwubW9kZSA9IHt9LCBwID0gZnVuY3Rpb24oZCwgZywgUykge1xuICAgIHZhciBiID0gdGhpcy5faXY7XG4gICAgYiA/IHRoaXMuX2l2ID0gZSA6IGIgPSB0aGlzLl9wcmV2QmxvY2s7XG4gICAgZm9yICh2YXIgRCA9IDA7IEQgPCBTOyBEKyspIGRbZyArIERdIF49IGJbRF07XG4gIH0sIGMgPSAodC5CbG9ja0NpcGhlck1vZGUgPSByLmV4dGVuZCh7IGNyZWF0ZUVuY3J5cHRvcjogZnVuY3Rpb24oZCwgZykge1xuICAgIHJldHVybiB0aGlzLkVuY3J5cHRvci5jcmVhdGUoZCwgZyk7XG4gIH0sIGNyZWF0ZURlY3J5cHRvcjogZnVuY3Rpb24oZCwgZykge1xuICAgIHJldHVybiB0aGlzLkRlY3J5cHRvci5jcmVhdGUoZCwgZyk7XG4gIH0sIGluaXQ6IGZ1bmN0aW9uKGQsIGcpIHtcbiAgICB0aGlzLl9jaXBoZXIgPSBkLCB0aGlzLl9pdiA9IGc7XG4gIH0gfSkpLmV4dGVuZCgpO1xuICBjLkVuY3J5cHRvciA9IGMuZXh0ZW5kKHsgcHJvY2Vzc0Jsb2NrOiBmdW5jdGlvbihkLCBnKSB7XG4gICAgdmFyIFMgPSB0aGlzLl9jaXBoZXIsIGIgPSBTLmJsb2NrU2l6ZTtcbiAgICBwLmNhbGwodGhpcywgZCwgZywgYiksIFMuZW5jcnlwdEJsb2NrKGQsIGcpLCB0aGlzLl9wcmV2QmxvY2sgPSBkLnNsaWNlKGcsIGcgKyBiKTtcbiAgfSB9KSwgYy5EZWNyeXB0b3IgPSBjLmV4dGVuZCh7IHByb2Nlc3NCbG9jazogZnVuY3Rpb24oZCwgZykge1xuICAgIHZhciBTID0gdGhpcy5fY2lwaGVyLCBiID0gUy5ibG9ja1NpemUsIEQgPSBkLnNsaWNlKGcsIGcgKyBiKTtcbiAgICBTLmRlY3J5cHRCbG9jayhcbiAgICAgIGQsXG4gICAgICBnXG4gICAgKSwgcC5jYWxsKHRoaXMsIGQsIGcsIGIpLCB0aGlzLl9wcmV2QmxvY2sgPSBEO1xuICB9IH0pLCB2ID0gdi5DQkMgPSBjLCBjID0gKGwucGFkID0ge30pLlBrY3M3ID0geyBwYWQ6IGZ1bmN0aW9uKGQsIGcpIHtcbiAgICBmb3IgKHZhciBTID0gNCAqIGcsIFMgPSBTIC0gZC5zaWdCeXRlcyAlIFMsIGIgPSBTIDw8IDI0IHwgUyA8PCAxNiB8IFMgPDwgOCB8IFMsIEQgPSBbXSwgQSA9IDA7IEEgPCBTOyBBICs9IDQpIEQucHVzaChiKTtcbiAgICBTID0gaS5jcmVhdGUoRCwgUyksIGQuY29uY2F0KFMpO1xuICB9LCB1bnBhZDogZnVuY3Rpb24oZCkge1xuICAgIGQuc2lnQnl0ZXMgLT0gZC53b3Jkc1tkLnNpZ0J5dGVzIC0gMSA+Pj4gMl0gJiAyNTU7XG4gIH0gfSwgdC5CbG9ja0NpcGhlciA9IHUuZXh0ZW5kKHsgY2ZnOiB1LmNmZy5leHRlbmQoeyBtb2RlOiB2LCBwYWRkaW5nOiBjIH0pLCByZXNldDogZnVuY3Rpb24oKSB7XG4gICAgdS5yZXNldC5jYWxsKHRoaXMpO1xuICAgIHZhciBnID0gdGhpcy5jZmcsIGQgPSBnLml2LCBnID0gZy5tb2RlO1xuICAgIGlmICh0aGlzLl94Zm9ybU1vZGUgPT0gdGhpcy5fRU5DX1hGT1JNX01PREUpIHZhciBTID0gZy5jcmVhdGVFbmNyeXB0b3I7XG4gICAgZWxzZSBTID0gZy5jcmVhdGVEZWNyeXB0b3IsIHRoaXMuX21pbkJ1ZmZlclNpemUgPSAxO1xuICAgIHRoaXMuX21vZGUgPSBTLmNhbGwoZywgdGhpcywgZCAmJiBkLndvcmRzKTtcbiAgfSwgX2RvUHJvY2Vzc0Jsb2NrOiBmdW5jdGlvbihkLCBnKSB7XG4gICAgdGhpcy5fbW9kZS5wcm9jZXNzQmxvY2soZCwgZyk7XG4gIH0sIF9kb0ZpbmFsaXplOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgZCA9IHRoaXMuY2ZnLnBhZGRpbmc7XG4gICAgaWYgKHRoaXMuX3hmb3JtTW9kZSA9PSB0aGlzLl9FTkNfWEZPUk1fTU9ERSkge1xuICAgICAgZC5wYWQodGhpcy5fZGF0YSwgdGhpcy5ibG9ja1NpemUpO1xuICAgICAgdmFyIGcgPSB0aGlzLl9wcm9jZXNzKCEwKTtcbiAgICB9IGVsc2UgZyA9IHRoaXMuX3Byb2Nlc3MoITApLCBkLnVucGFkKGcpO1xuICAgIHJldHVybiBnO1xuICB9LCBibG9ja1NpemU6IDQgfSk7XG4gIHZhciB5ID0gdC5DaXBoZXJQYXJhbXMgPSByLmV4dGVuZCh7IGluaXQ6IGZ1bmN0aW9uKGQpIHtcbiAgICB0aGlzLm1peEluKGQpO1xuICB9LCB0b1N0cmluZzogZnVuY3Rpb24oZCkge1xuICAgIHJldHVybiAoZCB8fCB0aGlzLmZvcm1hdHRlcikuc3RyaW5naWZ5KHRoaXMpO1xuICB9IH0pLCB2ID0gKGwuZm9ybWF0ID0ge30pLk9wZW5TU0wgPSB7IHN0cmluZ2lmeTogZnVuY3Rpb24oZCkge1xuICAgIHZhciBnID0gZC5jaXBoZXJ0ZXh0O1xuICAgIHJldHVybiBkID0gZC5zYWx0LCAoZCA/IGkuY3JlYXRlKFsxMzk4ODkzNjg0LCAxNzAxMDc2ODMxXSkuY29uY2F0KGQpLmNvbmNhdChnKSA6IGcpLnRvU3RyaW5nKG4pO1xuICB9LCBwYXJzZTogZnVuY3Rpb24oZCkge1xuICAgIGQgPSBuLnBhcnNlKGQpO1xuICAgIHZhciBnID0gZC53b3JkcztcbiAgICBpZiAoZ1swXSA9PSAxMzk4ODkzNjg0ICYmIGdbMV0gPT0gMTcwMTA3NjgzMSkge1xuICAgICAgdmFyIFMgPSBpLmNyZWF0ZShnLnNsaWNlKDIsIDQpKTtcbiAgICAgIGcuc3BsaWNlKDAsIDQpLCBkLnNpZ0J5dGVzIC09IDE2O1xuICAgIH1cbiAgICByZXR1cm4geS5jcmVhdGUoeyBjaXBoZXJ0ZXh0OiBkLCBzYWx0OiBTIH0pO1xuICB9IH0sIG8gPSB0LlNlcmlhbGl6YWJsZUNpcGhlciA9IHIuZXh0ZW5kKHsgY2ZnOiByLmV4dGVuZCh7IGZvcm1hdDogdiB9KSwgZW5jcnlwdDogZnVuY3Rpb24oZCwgZywgUywgYikge1xuICAgIGIgPSB0aGlzLmNmZy5leHRlbmQoYik7XG4gICAgdmFyIEQgPSBkLmNyZWF0ZUVuY3J5cHRvcihTLCBiKTtcbiAgICByZXR1cm4gZyA9IEQuZmluYWxpemUoZyksIEQgPSBELmNmZywgeS5jcmVhdGUoe1xuICAgICAgY2lwaGVydGV4dDogZyxcbiAgICAgIGtleTogUyxcbiAgICAgIGl2OiBELml2LFxuICAgICAgYWxnb3JpdGhtOiBkLFxuICAgICAgbW9kZTogRC5tb2RlLFxuICAgICAgcGFkZGluZzogRC5wYWRkaW5nLFxuICAgICAgYmxvY2tTaXplOiBkLmJsb2NrU2l6ZSxcbiAgICAgIGZvcm1hdHRlcjogYi5mb3JtYXRcbiAgICB9KTtcbiAgfSwgZGVjcnlwdDogZnVuY3Rpb24oZCwgZywgUywgYikge1xuICAgIHJldHVybiBiID0gdGhpcy5jZmcuZXh0ZW5kKGIpLCBnID0gdGhpcy5fcGFyc2UoZywgYi5mb3JtYXQpLCBkLmNyZWF0ZURlY3J5cHRvcihTLCBiKS5maW5hbGl6ZShnLmNpcGhlcnRleHQpO1xuICB9LCBfcGFyc2U6IGZ1bmN0aW9uKGQsIGcpIHtcbiAgICByZXR1cm4gdHlwZW9mIGQgPT0gXCJzdHJpbmdcIiA/IGcucGFyc2UoZCwgdGhpcykgOiBkO1xuICB9IH0pLCBsID0gKGwua2RmID0ge30pLk9wZW5TU0wgPSB7IGV4ZWN1dGU6IGZ1bmN0aW9uKGQsIGcsIFMsIGIpIHtcbiAgICByZXR1cm4gYiB8fCAoYiA9IGkucmFuZG9tKDgpKSwgZCA9IGguY3JlYXRlKHsga2V5U2l6ZTogZyArIFMgfSkuY29tcHV0ZShkLCBiKSwgUyA9IGkuY3JlYXRlKGQud29yZHMuc2xpY2UoZyksIDQgKiBTKSwgZC5zaWdCeXRlcyA9IDQgKiBnLCB5LmNyZWF0ZSh7IGtleTogZCwgaXY6IFMsIHNhbHQ6IGIgfSk7XG4gIH0gfSwgZiA9IHQuUGFzc3dvcmRCYXNlZENpcGhlciA9IG8uZXh0ZW5kKHsgY2ZnOiBvLmNmZy5leHRlbmQoeyBrZGY6IGwgfSksIGVuY3J5cHQ6IGZ1bmN0aW9uKGQsIGcsIFMsIGIpIHtcbiAgICByZXR1cm4gYiA9IHRoaXMuY2ZnLmV4dGVuZChiKSwgUyA9IGIua2RmLmV4ZWN1dGUoUywgZC5rZXlTaXplLCBkLml2U2l6ZSksIGIuaXYgPSBTLml2LCBkID0gby5lbmNyeXB0LmNhbGwodGhpcywgZCwgZywgUy5rZXksIGIpLCBkLm1peEluKFMpLCBkO1xuICB9LCBkZWNyeXB0OiBmdW5jdGlvbihkLCBnLCBTLCBiKSB7XG4gICAgcmV0dXJuIGIgPSB0aGlzLmNmZy5leHRlbmQoYiksIGcgPSB0aGlzLl9wYXJzZShnLCBiLmZvcm1hdCksIFMgPSBiLmtkZi5leGVjdXRlKFMsIGQua2V5U2l6ZSwgZC5pdlNpemUsIGcuc2FsdCksIGIuaXYgPSBTLml2LCBvLmRlY3J5cHQuY2FsbCh0aGlzLCBkLCBnLCBTLmtleSwgYik7XG4gIH0gfSk7XG59KCk7XG4oZnVuY3Rpb24oKSB7XG4gIGZvciAodmFyIGUgPSBLLCB0ID0gZS5saWIuQmxvY2tDaXBoZXIsIG0gPSBlLmFsZ28sIHIgPSBbXSwgaSA9IFtdLCBzID0gW10sIG4gPSBbXSwgaCA9IFtdLCB1ID0gW10sIHAgPSBbXSwgYyA9IFtdLCB5ID0gW10sIHYgPSBbXSwgbyA9IFtdLCBsID0gMDsgMjU2ID4gbDsgbCsrKSBvW2xdID0gMTI4ID4gbCA/IGwgPDwgMSA6IGwgPDwgMSBeIDI4MztcbiAgZm9yICh2YXIgZiA9IDAsIGQgPSAwLCBsID0gMDsgMjU2ID4gbDsgbCsrKSB7XG4gICAgdmFyIGcgPSBkIF4gZCA8PCAxIF4gZCA8PCAyIF4gZCA8PCAzIF4gZCA8PCA0LCBnID0gZyA+Pj4gOCBeIGcgJiAyNTUgXiA5OTtcbiAgICByW2ZdID0gZywgaVtnXSA9IGY7XG4gICAgdmFyIFMgPSBvW2ZdLCBiID0gb1tTXSwgRCA9IG9bYl0sIEEgPSAyNTcgKiBvW2ddIF4gMTY4NDMwMDggKiBnO1xuICAgIHNbZl0gPSBBIDw8IDI0IHwgQSA+Pj4gOCwgbltmXSA9IEEgPDwgMTYgfCBBID4+PiAxNiwgaFtmXSA9IEEgPDwgOCB8IEEgPj4+IDI0LCB1W2ZdID0gQSwgQSA9IDE2ODQzMDA5ICogRCBeIDY1NTM3ICogYiBeIDI1NyAqIFMgXiAxNjg0MzAwOCAqIGYsIHBbZ10gPSBBIDw8IDI0IHwgQSA+Pj4gOCwgY1tnXSA9IEEgPDwgMTYgfCBBID4+PiAxNiwgeVtnXSA9IEEgPDwgOCB8IEEgPj4+IDI0LCB2W2ddID0gQSwgZiA/IChmID0gUyBeIG9bb1tvW0QgXiBTXV1dLCBkIF49IG9bb1tkXV0pIDogZiA9IGQgPSAxO1xuICB9XG4gIHZhciBJID0gW1xuICAgIDAsXG4gICAgMSxcbiAgICAyLFxuICAgIDQsXG4gICAgOCxcbiAgICAxNixcbiAgICAzMixcbiAgICA2NCxcbiAgICAxMjgsXG4gICAgMjcsXG4gICAgNTRcbiAgXSwgbSA9IG0uQUVTID0gdC5leHRlbmQoeyBfZG9SZXNldDogZnVuY3Rpb24oKSB7XG4gICAgZm9yICh2YXIgeCA9IHRoaXMuX2tleSwgRSA9IHgud29yZHMsIHcgPSB4LnNpZ0J5dGVzIC8gNCwgeCA9IDQgKiAoKHRoaXMuX25Sb3VuZHMgPSB3ICsgNikgKyAxKSwgRiA9IHRoaXMuX2tleVNjaGVkdWxlID0gW10sIFAgPSAwOyBQIDwgeDsgUCsrKSBpZiAoUCA8IHcpIEZbUF0gPSBFW1BdO1xuICAgIGVsc2Uge1xuICAgICAgdmFyIFQgPSBGW1AgLSAxXTtcbiAgICAgIFAgJSB3ID8gNiA8IHcgJiYgUCAlIHcgPT0gNCAmJiAoVCA9IHJbVCA+Pj4gMjRdIDw8IDI0IHwgcltUID4+PiAxNiAmIDI1NV0gPDwgMTYgfCByW1QgPj4+IDggJiAyNTVdIDw8IDggfCByW1QgJiAyNTVdKSA6IChUID0gVCA8PCA4IHwgVCA+Pj4gMjQsIFQgPSByW1QgPj4+IDI0XSA8PCAyNCB8IHJbVCA+Pj4gMTYgJiAyNTVdIDw8IDE2IHwgcltUID4+PiA4ICYgMjU1XSA8PCA4IHwgcltUICYgMjU1XSwgVCBePSBJW1AgLyB3IHwgMF0gPDwgMjQpLCBGW1BdID0gRltQIC0gd10gXiBUO1xuICAgIH1cbiAgICBmb3IgKEUgPSB0aGlzLl9pbnZLZXlTY2hlZHVsZSA9IFtdLCB3ID0gMDsgdyA8IHg7IHcrKykgUCA9IHggLSB3LCBUID0gdyAlIDQgPyBGW1BdIDogRltQIC0gNF0sIEVbd10gPSA0ID4gdyB8fCA0ID49IFAgPyBUIDogcFtyW1QgPj4+IDI0XV0gXiBjW3JbVCA+Pj4gMTYgJiAyNTVdXSBeIHlbcltUID4+PiA4ICYgMjU1XV0gXiB2W3JbVCAmIDI1NV1dO1xuICB9LCBlbmNyeXB0QmxvY2s6IGZ1bmN0aW9uKEUsIHcpIHtcbiAgICB0aGlzLl9kb0NyeXB0QmxvY2soRSwgdywgdGhpcy5fa2V5U2NoZWR1bGUsIHMsIG4sIGgsIHUsIHIpO1xuICB9LCBkZWNyeXB0QmxvY2s6IGZ1bmN0aW9uKEUsIHcpIHtcbiAgICB2YXIgeCA9IEVbdyArIDFdO1xuICAgIEVbdyArIDFdID0gRVt3ICsgM10sIEVbdyArIDNdID0geCwgdGhpcy5fZG9DcnlwdEJsb2NrKEUsIHcsIHRoaXMuX2ludktleVNjaGVkdWxlLCBwLCBjLCB5LCB2LCBpKSwgeCA9IEVbdyArIDFdLCBFW3cgKyAxXSA9IEVbdyArIDNdLCBFW3cgKyAzXSA9IHg7XG4gIH0sIF9kb0NyeXB0QmxvY2s6IGZ1bmN0aW9uKEUsIHcsIHgsIEYsIFAsIFQsIEgsIEMpIHtcbiAgICBmb3IgKHZhciBCID0gdGhpcy5fblJvdW5kcywgbmUgPSBFW3ddIF4geFswXSwgaGUgPSBFW3cgKyAxXSBeIHhbMV0sIHNlID0gRVt3ICsgMl0gXiB4WzJdLCByZSA9IEVbdyArIDNdIF4geFszXSwgTyA9IDQsIGogPSAxOyBqIDwgQjsgaisrKSB2YXIgZmUgPSBGW25lID4+PiAyNF0gXiBQW2hlID4+PiAxNiAmIDI1NV0gXiBUW3NlID4+PiA4ICYgMjU1XSBeIEhbcmUgJiAyNTVdIF4geFtPKytdLCBaID0gRltoZSA+Pj4gMjRdIF4gUFtzZSA+Pj4gMTYgJiAyNTVdIF4gVFtyZSA+Pj4gOCAmIDI1NV0gXiBIW25lICYgMjU1XSBeIHhbTysrXSwgWCA9IEZbc2UgPj4+IDI0XSBeIFBbcmUgPj4+IDE2ICYgMjU1XSBeIFRbbmUgPj4+IDggJiAyNTVdIF4gSFtoZSAmIDI1NV0gXiB4W08rK10sIHJlID0gRltyZSA+Pj4gMjRdIF4gUFtuZSA+Pj4gMTYgJiAyNTVdIF4gVFtoZSA+Pj4gOCAmIDI1NV0gXiBIW3NlICYgMjU1XSBeIHhbTysrXSwgbmUgPSBmZSwgaGUgPSBaLCBzZSA9IFg7XG4gICAgZmUgPSAoQ1tuZSA+Pj4gMjRdIDw8IDI0IHwgQ1toZSA+Pj4gMTYgJiAyNTVdIDw8IDE2IHwgQ1tzZSA+Pj4gOCAmIDI1NV0gPDwgOCB8IENbcmUgJiAyNTVdKSBeIHhbTysrXSwgWiA9IChDW2hlID4+PiAyNF0gPDwgMjQgfCBDW3NlID4+PiAxNiAmIDI1NV0gPDwgMTYgfCBDW3JlID4+PiA4ICYgMjU1XSA8PCA4IHwgQ1tuZSAmIDI1NV0pIF4geFtPKytdLCBYID0gKENbc2UgPj4+IDI0XSA8PCAyNCB8IENbcmUgPj4+IDE2ICYgMjU1XSA8PCAxNiB8IENbbmUgPj4+IDggJiAyNTVdIDw8IDggfCBDW2hlICYgMjU1XSkgXiB4W08rK10sIHJlID0gKENbcmUgPj4+IDI0XSA8PCAyNCB8IENbbmUgPj4+IDE2ICYgMjU1XSA8PCAxNiB8IENbaGUgPj4+IDggJiAyNTVdIDw8IDggfCBDW3NlICYgMjU1XSkgXiB4W08rK10sIEVbd10gPSBmZSwgRVt3ICsgMV0gPSBaLCBFW3cgKyAyXSA9IFgsIEVbdyArIDNdID0gcmU7XG4gIH0sIGtleVNpemU6IDggfSk7XG4gIGUuQUVTID0gdC5fY3JlYXRlSGVscGVyKG0pO1xufSkoKTtcbihmdW5jdGlvbigpIHtcbiAgZnVuY3Rpb24gZShvLCBsKSB7XG4gICAgdmFyIGYgPSAodGhpcy5fbEJsb2NrID4+PiBvIF4gdGhpcy5fckJsb2NrKSAmIGw7XG4gICAgdGhpcy5fckJsb2NrIF49IGYsIHRoaXMuX2xCbG9jayBePSBmIDw8IG87XG4gIH1cbiAgZnVuY3Rpb24gdChvLCBsKSB7XG4gICAgdmFyIGYgPSAodGhpcy5fckJsb2NrID4+PiBvIF4gdGhpcy5fbEJsb2NrKSAmIGw7XG4gICAgdGhpcy5fbEJsb2NrIF49IGYsIHRoaXMuX3JCbG9jayBePSBmIDw8IG87XG4gIH1cbiAgdmFyIHIgPSBLLCBzID0gci5saWIsIGkgPSBzLldvcmRBcnJheSwgcyA9IHMuQmxvY2tDaXBoZXIsIG4gPSByLmFsZ28sIGggPSBbNTcsIDQ5LCA0MSwgMzMsIDI1LCAxNywgOSwgMSwgNTgsIDUwLCA0MiwgMzQsIDI2LCAxOCwgMTAsIDIsIDU5LCA1MSwgNDMsIDM1LCAyNywgMTksIDExLCAzLCA2MCwgNTIsIDQ0LCAzNiwgNjMsIDU1LCA0NywgMzksIDMxLCAyMywgMTUsIDcsIDYyLCA1NCwgNDYsIDM4LCAzMCwgMjIsIDE0LCA2LCA2MSwgNTMsIDQ1LCAzNywgMjksIDIxLCAxMywgNSwgMjgsIDIwLCAxMiwgNF0sIHUgPSBbXG4gICAgMTQsXG4gICAgMTcsXG4gICAgMTEsXG4gICAgMjQsXG4gICAgMSxcbiAgICA1LFxuICAgIDMsXG4gICAgMjgsXG4gICAgMTUsXG4gICAgNixcbiAgICAyMSxcbiAgICAxMCxcbiAgICAyMyxcbiAgICAxOSxcbiAgICAxMixcbiAgICA0LFxuICAgIDI2LFxuICAgIDgsXG4gICAgMTYsXG4gICAgNyxcbiAgICAyNyxcbiAgICAyMCxcbiAgICAxMyxcbiAgICAyLFxuICAgIDQxLFxuICAgIDUyLFxuICAgIDMxLFxuICAgIDM3LFxuICAgIDQ3LFxuICAgIDU1LFxuICAgIDMwLFxuICAgIDQwLFxuICAgIDUxLFxuICAgIDQ1LFxuICAgIDMzLFxuICAgIDQ4LFxuICAgIDQ0LFxuICAgIDQ5LFxuICAgIDM5LFxuICAgIDU2LFxuICAgIDM0LFxuICAgIDUzLFxuICAgIDQ2LFxuICAgIDQyLFxuICAgIDUwLFxuICAgIDM2LFxuICAgIDI5LFxuICAgIDMyXG4gIF0sIHAgPSBbMSwgMiwgNCwgNiwgOCwgMTAsIDEyLCAxNCwgMTUsIDE3LCAxOSwgMjEsIDIzLCAyNSwgMjcsIDI4XSwgYyA9IFt7XG4gICAgMDogODQyMTg4OCxcbiAgICAyNjg0MzU0NTY6IDMyNzY4LFxuICAgIDUzNjg3MDkxMjogODQyMTM3OCxcbiAgICA4MDUzMDYzNjg6IDIsXG4gICAgMTA3Mzc0MTgyNDogNTEyLFxuICAgIDEzNDIxNzcyODA6IDg0MjE4OTAsXG4gICAgMTYxMDYxMjczNjogODM4OTEyMixcbiAgICAxODc5MDQ4MTkyOiA4Mzg4NjA4LFxuICAgIDIxNDc0ODM2NDg6IDUxNCxcbiAgICAyNDE1OTE5MTA0OiA4Mzg5MTIwLFxuICAgIDI2ODQzNTQ1NjA6IDMzMjgwLFxuICAgIDI5NTI3OTAwMTY6IDg0MjEzNzYsXG4gICAgMzIyMTIyNTQ3MjogMzI3NzAsXG4gICAgMzQ4OTY2MDkyODogODM4ODYxMCxcbiAgICAzNzU4MDk2Mzg0OiAwLFxuICAgIDQwMjY1MzE4NDA6IDMzMjgyLFxuICAgIDEzNDIxNzcyODogMCxcbiAgICA0MDI2NTMxODQ6IDg0MjE4OTAsXG4gICAgNjcxMDg4NjQwOiAzMzI4MixcbiAgICA5Mzk1MjQwOTY6IDMyNzY4LFxuICAgIDEyMDc5NTk1NTI6IDg0MjE4ODgsXG4gICAgMTQ3NjM5NTAwODogNTEyLFxuICAgIDE3NDQ4MzA0NjQ6IDg0MjEzNzgsXG4gICAgMjAxMzI2NTkyMDogMixcbiAgICAyMjgxNzAxMzc2OiA4Mzg5MTIwLFxuICAgIDI1NTAxMzY4MzI6IDMzMjgwLFxuICAgIDI4MTg1NzIyODg6IDg0MjEzNzYsXG4gICAgMzA4NzAwNzc0NDogODM4OTEyMixcbiAgICAzMzU1NDQzMjAwOiA4Mzg4NjEwLFxuICAgIDM2MjM4Nzg2NTY6IDMyNzcwLFxuICAgIDM4OTIzMTQxMTI6IDUxNCxcbiAgICA0MTYwNzQ5NTY4OiA4Mzg4NjA4LFxuICAgIDE6IDMyNzY4LFxuICAgIDI2ODQzNTQ1NzogMixcbiAgICA1MzY4NzA5MTM6IDg0MjE4ODgsXG4gICAgODA1MzA2MzY5OiA4Mzg4NjA4LFxuICAgIDEwNzM3NDE4MjU6IDg0MjEzNzgsXG4gICAgMTM0MjE3NzI4MTogMzMyODAsXG4gICAgMTYxMDYxMjczNzogNTEyLFxuICAgIDE4NzkwNDgxOTM6IDgzODkxMjIsXG4gICAgMjE0NzQ4MzY0OTogODQyMTg5MCxcbiAgICAyNDE1OTE5MTA1OiA4NDIxMzc2LFxuICAgIDI2ODQzNTQ1NjE6IDgzODg2MTAsXG4gICAgMjk1Mjc5MDAxNzogMzMyODIsXG4gICAgMzIyMTIyNTQ3MzogNTE0LFxuICAgIDM0ODk2NjA5Mjk6IDgzODkxMjAsXG4gICAgMzc1ODA5NjM4NTogMzI3NzAsXG4gICAgNDAyNjUzMTg0MTogMCxcbiAgICAxMzQyMTc3Mjk6IDg0MjE4OTAsXG4gICAgNDAyNjUzMTg1OiA4NDIxMzc2LFxuICAgIDY3MTA4ODY0MTogODM4ODYwOCxcbiAgICA5Mzk1MjQwOTc6IDUxMixcbiAgICAxMjA3OTU5NTUzOiAzMjc2OCxcbiAgICAxNDc2Mzk1MDA5OiA4Mzg4NjEwLFxuICAgIDE3NDQ4MzA0NjU6IDIsXG4gICAgMjAxMzI2NTkyMTogMzMyODIsXG4gICAgMjI4MTcwMTM3NzogMzI3NzAsXG4gICAgMjU1MDEzNjgzMzogODM4OTEyMixcbiAgICAyODE4NTcyMjg5OiA1MTQsXG4gICAgMzA4NzAwNzc0NTogODQyMTg4OCxcbiAgICAzMzU1NDQzMjAxOiA4Mzg5MTIwLFxuICAgIDM2MjM4Nzg2NTc6IDAsXG4gICAgMzg5MjMxNDExMzogMzMyODAsXG4gICAgNDE2MDc0OTU2OTogODQyMTM3OFxuICB9LCB7XG4gICAgMDogMTA3NDI4MjUxMixcbiAgICAxNjc3NzIxNjogMTYzODQsXG4gICAgMzM1NTQ0MzI6IDUyNDI4OCxcbiAgICA1MDMzMTY0ODogMTA3NDI2NjEyOCxcbiAgICA2NzEwODg2NDogMTA3Mzc0MTg0MCxcbiAgICA4Mzg4NjA4MDogMTA3NDI4MjQ5NixcbiAgICAxMDA2NjMyOTY6IDEwNzM3NTgyMDgsXG4gICAgMTE3NDQwNTEyOiAxNixcbiAgICAxMzQyMTc3Mjg6IDU0MDY3MixcbiAgICAxNTA5OTQ5NDQ6IDEwNzM3NTgyMjQsXG4gICAgMTY3NzcyMTYwOiAxMDczNzQxODI0LFxuICAgIDE4NDU0OTM3NjogNTQwNjg4LFxuICAgIDIwMTMyNjU5MjogNTI0MzA0LFxuICAgIDIxODEwMzgwODogMCxcbiAgICAyMzQ4ODEwMjQ6IDE2NDAwLFxuICAgIDI1MTY1ODI0MDogMTA3NDI2NjExMixcbiAgICA4Mzg4NjA4OiAxMDczNzU4MjA4LFxuICAgIDI1MTY1ODI0OiA1NDA2ODgsXG4gICAgNDE5NDMwNDA6IDE2LFxuICAgIDU4NzIwMjU2OiAxMDczNzU4MjI0LFxuICAgIDc1NDk3NDcyOiAxMDc0MjgyNTEyLFxuICAgIDkyMjc0Njg4OiAxMDczNzQxODI0LFxuICAgIDEwOTA1MTkwNDogNTI0Mjg4LFxuICAgIDEyNTgyOTEyMDogMTA3NDI2NjEyOCxcbiAgICAxNDI2MDYzMzY6IDUyNDMwNCxcbiAgICAxNTkzODM1NTI6IDAsXG4gICAgMTc2MTYwNzY4OiAxNjM4NCxcbiAgICAxOTI5Mzc5ODQ6IDEwNzQyNjYxMTIsXG4gICAgMjA5NzE1MjAwOiAxMDczNzQxODQwLFxuICAgIDIyNjQ5MjQxNjogNTQwNjcyLFxuICAgIDI0MzI2OTYzMjogMTA3NDI4MjQ5NixcbiAgICAyNjAwNDY4NDg6IDE2NDAwLFxuICAgIDI2ODQzNTQ1NjogMCxcbiAgICAyODUyMTI2NzI6IDEwNzQyNjYxMjgsXG4gICAgMzAxOTg5ODg4OiAxMDczNzU4MjI0LFxuICAgIDMxODc2NzEwNDogMTA3NDI4MjQ5NixcbiAgICAzMzU1NDQzMjA6IDEwNzQyNjYxMTIsXG4gICAgMzUyMzIxNTM2OiAxNixcbiAgICAzNjkwOTg3NTI6IDU0MDY4OCxcbiAgICAzODU4NzU5Njg6IDE2Mzg0LFxuICAgIDQwMjY1MzE4NDogMTY0MDAsXG4gICAgNDE5NDMwNDAwOiA1MjQyODgsXG4gICAgNDM2MjA3NjE2OiA1MjQzMDQsXG4gICAgNDUyOTg0ODMyOiAxMDczNzQxODQwLFxuICAgIDQ2OTc2MjA0ODogNTQwNjcyLFxuICAgIDQ4NjUzOTI2NDogMTA3Mzc1ODIwOCxcbiAgICA1MDMzMTY0ODA6IDEwNzM3NDE4MjQsXG4gICAgNTIwMDkzNjk2OiAxMDc0MjgyNTEyLFxuICAgIDI3NjgyNDA2NDogNTQwNjg4LFxuICAgIDI5MzYwMTI4MDogNTI0Mjg4LFxuICAgIDMxMDM3ODQ5NjogMTA3NDI2NjExMixcbiAgICAzMjcxNTU3MTI6IDE2Mzg0LFxuICAgIDM0MzkzMjkyODogMTA3Mzc1ODIwOCxcbiAgICAzNjA3MTAxNDQ6IDEwNzQyODI1MTIsXG4gICAgMzc3NDg3MzYwOiAxNixcbiAgICAzOTQyNjQ1NzY6IDEwNzM3NDE4MjQsXG4gICAgNDExMDQxNzkyOiAxMDc0MjgyNDk2LFxuICAgIDQyNzgxOTAwODogMTA3Mzc0MTg0MCxcbiAgICA0NDQ1OTYyMjQ6IDEwNzM3NTgyMjQsXG4gICAgNDYxMzczNDQwOiA1MjQzMDQsXG4gICAgNDc4MTUwNjU2OiAwLFxuICAgIDQ5NDkyNzg3MjogMTY0MDAsXG4gICAgNTExNzA1MDg4OiAxMDc0MjY2MTI4LFxuICAgIDUyODQ4MjMwNDogNTQwNjcyXG4gIH0sIHtcbiAgICAwOiAyNjAsXG4gICAgMTA0ODU3NjogMCxcbiAgICAyMDk3MTUyOiA2NzEwOTEyMCxcbiAgICAzMTQ1NzI4OiA2NTc5NixcbiAgICA0MTk0MzA0OiA2NTU0MCxcbiAgICA1MjQyODgwOiA2NzEwODg2OCxcbiAgICA2MjkxNDU2OiA2NzE3NDY2MCxcbiAgICA3MzQwMDMyOiA2NzE3NDQwMCxcbiAgICA4Mzg4NjA4OiA2NzEwODg2NCxcbiAgICA5NDM3MTg0OiA2NzE3NDY1NixcbiAgICAxMDQ4NTc2MDogNjU3OTIsXG4gICAgMTE1MzQzMzY6IDY3MTc0NDA0LFxuICAgIDEyNTgyOTEyOiA2NzEwOTEyNCxcbiAgICAxMzYzMTQ4ODogNjU1MzYsXG4gICAgMTQ2ODAwNjQ6IDQsXG4gICAgMTU3Mjg2NDA6IDI1NixcbiAgICA1MjQyODg6IDY3MTc0NjU2LFxuICAgIDE1NzI4NjQ6IDY3MTc0NDA0LFxuICAgIDI2MjE0NDA6IDAsXG4gICAgMzY3MDAxNjogNjcxMDkxMjAsXG4gICAgNDcxODU5MjogNjcxMDg4NjgsXG4gICAgNTc2NzE2ODogNjU1MzYsXG4gICAgNjgxNTc0NDogNjU1NDAsXG4gICAgNzg2NDMyMDogMjYwLFxuICAgIDg5MTI4OTY6IDQsXG4gICAgOTk2MTQ3MjogMjU2LFxuICAgIDExMDEwMDQ4OiA2NzE3NDQwMCxcbiAgICAxMjA1ODYyNDogNjU3OTYsXG4gICAgMTMxMDcyMDA6IDY1NzkyLFxuICAgIDE0MTU1Nzc2OiA2NzEwOTEyNCxcbiAgICAxNTIwNDM1MjogNjcxNzQ2NjAsXG4gICAgMTYyNTI5Mjg6IDY3MTA4ODY0LFxuICAgIDE2Nzc3MjE2OiA2NzE3NDY1NixcbiAgICAxNzgyNTc5MjogNjU1NDAsXG4gICAgMTg4NzQzNjg6IDY1NTM2LFxuICAgIDE5OTIyOTQ0OiA2NzEwOTEyMCxcbiAgICAyMDk3MTUyMDogMjU2LFxuICAgIDIyMDIwMDk2OiA2NzE3NDY2MCxcbiAgICAyMzA2ODY3MjogNjcxMDg4NjgsXG4gICAgMjQxMTcyNDg6IDAsXG4gICAgMjUxNjU4MjQ6IDY3MTA5MTI0LFxuICAgIDI2MjE0NDAwOiA2NzEwODg2NCxcbiAgICAyNzI2Mjk3NjogNCxcbiAgICAyODMxMTU1MjogNjU3OTIsXG4gICAgMjkzNjAxMjg6IDY3MTc0NDAwLFxuICAgIDMwNDA4NzA0OiAyNjAsXG4gICAgMzE0NTcyODA6IDY1Nzk2LFxuICAgIDMyNTA1ODU2OiA2NzE3NDQwNCxcbiAgICAxNzMwMTUwNDogNjcxMDg4NjQsXG4gICAgMTgzNTAwODA6IDI2MCxcbiAgICAxOTM5ODY1NjogNjcxNzQ2NTYsXG4gICAgMjA0NDcyMzI6IDAsXG4gICAgMjE0OTU4MDg6IDY1NTQwLFxuICAgIDIyNTQ0Mzg0OiA2NzEwOTEyMCxcbiAgICAyMzU5Mjk2MDogMjU2LFxuICAgIDI0NjQxNTM2OiA2NzE3NDQwNCxcbiAgICAyNTY5MDExMjogNjU1MzYsXG4gICAgMjY3Mzg2ODg6IDY3MTc0NjYwLFxuICAgIDI3Nzg3MjY0OiA2NTc5NixcbiAgICAyODgzNTg0MDogNjcxMDg4NjgsXG4gICAgMjk4ODQ0MTY6IDY3MTA5MTI0LFxuICAgIDMwOTMyOTkyOiA2NzE3NDQwMCxcbiAgICAzMTk4MTU2ODogNCxcbiAgICAzMzAzMDE0NDogNjU3OTJcbiAgfSwge1xuICAgIDA6IDIxNTE2ODIwNDgsXG4gICAgNjU1MzY6IDIxNDc0ODc4MDgsXG4gICAgMTMxMDcyOiA0MTk4NDY0LFxuICAgIDE5NjYwODogMjE1MTY3Nzk1MixcbiAgICAyNjIxNDQ6IDAsXG4gICAgMzI3NjgwOiA0MTk4NDAwLFxuICAgIDM5MzIxNjogMjE0NzQ4MzcxMixcbiAgICA0NTg3NTI6IDQxOTQzNjgsXG4gICAgNTI0Mjg4OiAyMTQ3NDgzNjQ4LFxuICAgIDU4OTgyNDogNDE5NDMwNCxcbiAgICA2NTUzNjA6IDY0LFxuICAgIDcyMDg5NjogMjE0NzQ4Nzc0NCxcbiAgICA3ODY0MzI6IDIxNTE2NzgwMTYsXG4gICAgODUxOTY4OiA0MTYwLFxuICAgIDkxNzUwNDogNDA5NixcbiAgICA5ODMwNDA6IDIxNTE2ODIxMTIsXG4gICAgMzI3Njg6IDIxNDc0ODc4MDgsXG4gICAgOTgzMDQ6IDY0LFxuICAgIDE2Mzg0MDogMjE1MTY3ODAxNixcbiAgICAyMjkzNzY6IDIxNDc0ODc3NDQsXG4gICAgMjk0OTEyOiA0MTk4NDAwLFxuICAgIDM2MDQ0ODogMjE1MTY4MjExMixcbiAgICA0MjU5ODQ6IDAsXG4gICAgNDkxNTIwOiAyMTUxNjc3OTUyLFxuICAgIDU1NzA1NjogNDA5NixcbiAgICA2MjI1OTI6IDIxNTE2ODIwNDgsXG4gICAgNjg4MTI4OiA0MTk0MzA0LFxuICAgIDc1MzY2NDogNDE2MCxcbiAgICA4MTkyMDA6IDIxNDc0ODM2NDgsXG4gICAgODg0NzM2OiA0MTk0MzY4LFxuICAgIDk1MDI3MjogNDE5ODQ2NCxcbiAgICAxMDE1ODA4OiAyMTQ3NDgzNzEyLFxuICAgIDEwNDg1NzY6IDQxOTQzNjgsXG4gICAgMTExNDExMjogNDE5ODQwMCxcbiAgICAxMTc5NjQ4OiAyMTQ3NDgzNzEyLFxuICAgIDEyNDUxODQ6IDAsXG4gICAgMTMxMDcyMDogNDE2MCxcbiAgICAxMzc2MjU2OiAyMTUxNjc4MDE2LFxuICAgIDE0NDE3OTI6IDIxNTE2ODIwNDgsXG4gICAgMTUwNzMyODogMjE0NzQ4NzgwOCxcbiAgICAxNTcyODY0OiAyMTUxNjgyMTEyLFxuICAgIDE2Mzg0MDA6IDIxNDc0ODM2NDgsXG4gICAgMTcwMzkzNjogMjE1MTY3Nzk1MixcbiAgICAxNzY5NDcyOiA0MTk4NDY0LFxuICAgIDE4MzUwMDg6IDIxNDc0ODc3NDQsXG4gICAgMTkwMDU0NDogNDE5NDMwNCxcbiAgICAxOTY2MDgwOiA2NCxcbiAgICAyMDMxNjE2OiA0MDk2LFxuICAgIDEwODEzNDQ6IDIxNTE2Nzc5NTIsXG4gICAgMTE0Njg4MDogMjE1MTY4MjExMixcbiAgICAxMjEyNDE2OiAwLFxuICAgIDEyNzc5NTI6IDQxOTg0MDAsXG4gICAgMTM0MzQ4ODogNDE5NDM2OCxcbiAgICAxNDA5MDI0OiAyMTQ3NDgzNjQ4LFxuICAgIDE0NzQ1NjA6IDIxNDc0ODc4MDgsXG4gICAgMTU0MDA5NjogNjQsXG4gICAgMTYwNTYzMjogMjE0NzQ4MzcxMixcbiAgICAxNjcxMTY4OiA0MDk2LFxuICAgIDE3MzY3MDQ6IDIxNDc0ODc3NDQsXG4gICAgMTgwMjI0MDogMjE1MTY3ODAxNixcbiAgICAxODY3Nzc2OiA0MTYwLFxuICAgIDE5MzMzMTI6IDIxNTE2ODIwNDgsXG4gICAgMTk5ODg0ODogNDE5NDMwNCxcbiAgICAyMDY0Mzg0OiA0MTk4NDY0XG4gIH0sIHtcbiAgICAwOiAxMjgsXG4gICAgNDA5NjogMTcwMzkzNjAsXG4gICAgODE5MjogMjYyMTQ0LFxuICAgIDEyMjg4OiA1MzY4NzA5MTIsXG4gICAgMTYzODQ6IDUzNzEzMzE4NCxcbiAgICAyMDQ4MDogMTY3NzczNDQsXG4gICAgMjQ1NzY6IDU1MzY0ODI1NixcbiAgICAyODY3MjogMjYyMjcyLFxuICAgIDMyNzY4OiAxNjc3NzIxNixcbiAgICAzNjg2NDogNTM3MTMzMDU2LFxuICAgIDQwOTYwOiA1MzY4NzEwNDAsXG4gICAgNDUwNTY6IDU1MzkxMDQwMCxcbiAgICA0OTE1MjogNTUzOTEwMjcyLFxuICAgIDUzMjQ4OiAwLFxuICAgIDU3MzQ0OiAxNzAzOTQ4OCxcbiAgICA2MTQ0MDogNTUzNjQ4MTI4LFxuICAgIDIwNDg6IDE3MDM5NDg4LFxuICAgIDYxNDQ6IDU1MzY0ODI1NixcbiAgICAxMDI0MDogMTI4LFxuICAgIDE0MzM2OiAxNzAzOTM2MCxcbiAgICAxODQzMjogMjYyMTQ0LFxuICAgIDIyNTI4OiA1MzcxMzMxODQsXG4gICAgMjY2MjQ6IDU1MzkxMDI3MixcbiAgICAzMDcyMDogNTM2ODcwOTEyLFxuICAgIDM0ODE2OiA1MzcxMzMwNTYsXG4gICAgMzg5MTI6IDAsXG4gICAgNDMwMDg6IDU1MzkxMDQwMCxcbiAgICA0NzEwNDogMTY3NzczNDQsXG4gICAgNTEyMDA6IDUzNjg3MTA0MCxcbiAgICA1NTI5NjogNTUzNjQ4MTI4LFxuICAgIDU5MzkyOiAxNjc3NzIxNixcbiAgICA2MzQ4ODogMjYyMjcyLFxuICAgIDY1NTM2OiAyNjIxNDQsXG4gICAgNjk2MzI6IDEyOCxcbiAgICA3MzcyODogNTM2ODcwOTEyLFxuICAgIDc3ODI0OiA1NTM2NDgyNTYsXG4gICAgODE5MjA6IDE2Nzc3MzQ0LFxuICAgIDg2MDE2OiA1NTM5MTAyNzIsXG4gICAgOTAxMTI6IDUzNzEzMzE4NCxcbiAgICA5NDIwODogMTY3NzcyMTYsXG4gICAgOTgzMDQ6IDU1MzkxMDQwMCxcbiAgICAxMDI0MDA6IDU1MzY0ODEyOCxcbiAgICAxMDY0OTY6IDE3MDM5MzYwLFxuICAgIDExMDU5MjogNTM3MTMzMDU2LFxuICAgIDExNDY4ODogMjYyMjcyLFxuICAgIDExODc4NDogNTM2ODcxMDQwLFxuICAgIDEyMjg4MDogMCxcbiAgICAxMjY5NzY6IDE3MDM5NDg4LFxuICAgIDY3NTg0OiA1NTM2NDgyNTYsXG4gICAgNzE2ODA6IDE2Nzc3MjE2LFxuICAgIDc1Nzc2OiAxNzAzOTM2MCxcbiAgICA3OTg3MjogNTM3MTMzMTg0LFxuICAgIDgzOTY4OiA1MzY4NzA5MTIsXG4gICAgODgwNjQ6IDE3MDM5NDg4LFxuICAgIDkyMTYwOiAxMjgsXG4gICAgOTYyNTY6IDU1MzkxMDI3MixcbiAgICAxMDAzNTI6IDI2MjI3MixcbiAgICAxMDQ0NDg6IDU1MzkxMDQwMCxcbiAgICAxMDg1NDQ6IDAsXG4gICAgMTEyNjQwOiA1NTM2NDgxMjgsXG4gICAgMTE2NzM2OiAxNjc3NzM0NCxcbiAgICAxMjA4MzI6IDI2MjE0NCxcbiAgICAxMjQ5Mjg6IDUzNzEzMzA1NixcbiAgICAxMjkwMjQ6IDUzNjg3MTA0MFxuICB9LCB7XG4gICAgMDogMjY4NDM1NDY0LFxuICAgIDI1NjogODE5MixcbiAgICA1MTI6IDI3MDUzMjYwOCxcbiAgICA3Njg6IDI3MDU0MDgwOCxcbiAgICAxMDI0OiAyNjg0NDM2NDgsXG4gICAgMTI4MDogMjA5NzE1MixcbiAgICAxNTM2OiAyMDk3MTYwLFxuICAgIDE3OTI6IDI2ODQzNTQ1NixcbiAgICAyMDQ4OiAwLFxuICAgIDIzMDQ6IDI2ODQ0MzY1NixcbiAgICAyNTYwOiAyMTA1MzQ0LFxuICAgIDI4MTY6IDgsXG4gICAgMzA3MjogMjcwNTMyNjE2LFxuICAgIDMzMjg6IDIxMDUzNTIsXG4gICAgMzU4NDogODIwMCxcbiAgICAzODQwOiAyNzA1NDA4MDAsXG4gICAgMTI4OiAyNzA1MzI2MDgsXG4gICAgMzg0OiAyNzA1NDA4MDgsXG4gICAgNjQwOiA4LFxuICAgIDg5NjogMjA5NzE1MixcbiAgICAxMTUyOiAyMTA1MzUyLFxuICAgIDE0MDg6IDI2ODQzNTQ2NCxcbiAgICAxNjY0OiAyNjg0NDM2NDgsXG4gICAgMTkyMDogODIwMCxcbiAgICAyMTc2OiAyMDk3MTYwLFxuICAgIDI0MzI6IDgxOTIsXG4gICAgMjY4ODogMjY4NDQzNjU2LFxuICAgIDI5NDQ6IDI3MDUzMjYxNixcbiAgICAzMjAwOiAwLFxuICAgIDM0NTY6IDI3MDU0MDgwMCxcbiAgICAzNzEyOiAyMTA1MzQ0LFxuICAgIDM5Njg6IDI2ODQzNTQ1NixcbiAgICA0MDk2OiAyNjg0NDM2NDgsXG4gICAgNDM1MjogMjcwNTMyNjE2LFxuICAgIDQ2MDg6IDI3MDU0MDgwOCxcbiAgICA0ODY0OiA4MjAwLFxuICAgIDUxMjA6IDIwOTcxNTIsXG4gICAgNTM3NjogMjY4NDM1NDU2LFxuICAgIDU2MzI6IDI2ODQzNTQ2NCxcbiAgICA1ODg4OiAyMTA1MzQ0LFxuICAgIDYxNDQ6IDIxMDUzNTIsXG4gICAgNjQwMDogMCxcbiAgICA2NjU2OiA4LFxuICAgIDY5MTI6IDI3MDUzMjYwOCxcbiAgICA3MTY4OiA4MTkyLFxuICAgIDc0MjQ6IDI2ODQ0MzY1NixcbiAgICA3NjgwOiAyNzA1NDA4MDAsXG4gICAgNzkzNjogMjA5NzE2MCxcbiAgICA0MjI0OiA4LFxuICAgIDQ0ODA6IDIxMDUzNDQsXG4gICAgNDczNjogMjA5NzE1MixcbiAgICA0OTkyOiAyNjg0MzU0NjQsXG4gICAgNTI0ODogMjY4NDQzNjQ4LFxuICAgIDU1MDQ6IDgyMDAsXG4gICAgNTc2MDogMjcwNTQwODA4LFxuICAgIDYwMTY6IDI3MDUzMjYwOCxcbiAgICA2MjcyOiAyNzA1NDA4MDAsXG4gICAgNjUyODogMjcwNTMyNjE2LFxuICAgIDY3ODQ6IDgxOTIsXG4gICAgNzA0MDogMjEwNTM1MixcbiAgICA3Mjk2OiAyMDk3MTYwLFxuICAgIDc1NTI6IDAsXG4gICAgNzgwODogMjY4NDM1NDU2LFxuICAgIDgwNjQ6IDI2ODQ0MzY1NlxuICB9LCB7XG4gICAgMDogMTA0ODU3NixcbiAgICAxNjogMzM1NTU0NTcsXG4gICAgMzI6IDEwMjQsXG4gICAgNDg6IDEwNDk2MDEsXG4gICAgNjQ6IDM0NjA0MDMzLFxuICAgIDgwOiAwLFxuICAgIDk2OiAxLFxuICAgIDExMjogMzQ2MDMwMDksXG4gICAgMTI4OiAzMzU1NTQ1NixcbiAgICAxNDQ6IDEwNDg1NzcsXG4gICAgMTYwOiAzMzU1NDQzMyxcbiAgICAxNzY6IDM0NjA0MDMyLFxuICAgIDE5MjogMzQ2MDMwMDgsXG4gICAgMjA4OiAxMDI1LFxuICAgIDIyNDogMTA0OTYwMCxcbiAgICAyNDA6IDMzNTU0NDMyLFxuICAgIDg6IDM0NjAzMDA5LFxuICAgIDI0OiAwLFxuICAgIDQwOiAzMzU1NTQ1NyxcbiAgICA1NjogMzQ2MDQwMzIsXG4gICAgNzI6IDEwNDg1NzYsXG4gICAgODg6IDMzNTU0NDMzLFxuICAgIDEwNDogMzM1NTQ0MzIsXG4gICAgMTIwOiAxMDI1LFxuICAgIDEzNjogMTA0OTYwMSxcbiAgICAxNTI6IDMzNTU1NDU2LFxuICAgIDE2ODogMzQ2MDMwMDgsXG4gICAgMTg0OiAxMDQ4NTc3LFxuICAgIDIwMDogMTAyNCxcbiAgICAyMTY6IDM0NjA0MDMzLFxuICAgIDIzMjogMSxcbiAgICAyNDg6IDEwNDk2MDAsXG4gICAgMjU2OiAzMzU1NDQzMixcbiAgICAyNzI6IDEwNDg1NzYsXG4gICAgMjg4OiAzMzU1NTQ1NyxcbiAgICAzMDQ6IDM0NjAzMDA5LFxuICAgIDMyMDogMTA0ODU3NyxcbiAgICAzMzY6IDMzNTU1NDU2LFxuICAgIDM1MjogMzQ2MDQwMzIsXG4gICAgMzY4OiAxMDQ5NjAxLFxuICAgIDM4NDogMTAyNSxcbiAgICA0MDA6IDM0NjA0MDMzLFxuICAgIDQxNjogMTA0OTYwMCxcbiAgICA0MzI6IDEsXG4gICAgNDQ4OiAwLFxuICAgIDQ2NDogMzQ2MDMwMDgsXG4gICAgNDgwOiAzMzU1NDQzMyxcbiAgICA0OTY6IDEwMjQsXG4gICAgMjY0OiAxMDQ5NjAwLFxuICAgIDI4MDogMzM1NTU0NTcsXG4gICAgMjk2OiAzNDYwMzAwOSxcbiAgICAzMTI6IDEsXG4gICAgMzI4OiAzMzU1NDQzMixcbiAgICAzNDQ6IDEwNDg1NzYsXG4gICAgMzYwOiAxMDI1LFxuICAgIDM3NjogMzQ2MDQwMzIsXG4gICAgMzkyOiAzMzU1NDQzMyxcbiAgICA0MDg6IDM0NjAzMDA4LFxuICAgIDQyNDogMCxcbiAgICA0NDA6IDM0NjA0MDMzLFxuICAgIDQ1NjogMTA0OTYwMSxcbiAgICA0NzI6IDEwMjQsXG4gICAgNDg4OiAzMzU1NTQ1NixcbiAgICA1MDQ6IDEwNDg1NzdcbiAgfSwge1xuICAgIDA6IDEzNDIxOTgwOCxcbiAgICAxOiAxMzEwNzIsXG4gICAgMjogMTM0MjE3NzI4LFxuICAgIDM6IDMyLFxuICAgIDQ6IDEzMTEwNCxcbiAgICA1OiAxMzQzNTA4ODAsXG4gICAgNjogMTM0MzUwODQ4LFxuICAgIDc6IDIwNDgsXG4gICAgODogMTM0MzQ4ODAwLFxuICAgIDk6IDEzNDIxOTc3NixcbiAgICAxMDogMTMzMTIwLFxuICAgIDExOiAxMzQzNDg4MzIsXG4gICAgMTI6IDIwODAsXG4gICAgMTM6IDAsXG4gICAgMTQ6IDEzNDIxNzc2MCxcbiAgICAxNTogMTMzMTUyLFxuICAgIDIxNDc0ODM2NDg6IDIwNDgsXG4gICAgMjE0NzQ4MzY0OTogMTM0MzUwODgwLFxuICAgIDIxNDc0ODM2NTA6IDEzNDIxOTgwOCxcbiAgICAyMTQ3NDgzNjUxOiAxMzQyMTc3MjgsXG4gICAgMjE0NzQ4MzY1MjogMTM0MzQ4ODAwLFxuICAgIDIxNDc0ODM2NTM6IDEzMzEyMCxcbiAgICAyMTQ3NDgzNjU0OiAxMzMxNTIsXG4gICAgMjE0NzQ4MzY1NTogMzIsXG4gICAgMjE0NzQ4MzY1NjogMTM0MjE3NzYwLFxuICAgIDIxNDc0ODM2NTc6IDIwODAsXG4gICAgMjE0NzQ4MzY1ODogMTMxMTA0LFxuICAgIDIxNDc0ODM2NTk6IDEzNDM1MDg0OCxcbiAgICAyMTQ3NDgzNjYwOiAwLFxuICAgIDIxNDc0ODM2NjE6IDEzNDM0ODgzMixcbiAgICAyMTQ3NDgzNjYyOiAxMzQyMTk3NzYsXG4gICAgMjE0NzQ4MzY2MzogMTMxMDcyLFxuICAgIDE2OiAxMzMxNTIsXG4gICAgMTc6IDEzNDM1MDg0OCxcbiAgICAxODogMzIsXG4gICAgMTk6IDIwNDgsXG4gICAgMjA6IDEzNDIxOTc3NixcbiAgICAyMTogMTM0MjE3NzYwLFxuICAgIDIyOiAxMzQzNDg4MzIsXG4gICAgMjM6IDEzMTA3MixcbiAgICAyNDogMCxcbiAgICAyNTogMTMxMTA0LFxuICAgIDI2OiAxMzQzNDg4MDAsXG4gICAgMjc6IDEzNDIxOTgwOCxcbiAgICAyODogMTM0MzUwODgwLFxuICAgIDI5OiAxMzMxMjAsXG4gICAgMzA6IDIwODAsXG4gICAgMzE6IDEzNDIxNzcyOCxcbiAgICAyMTQ3NDgzNjY0OiAxMzEwNzIsXG4gICAgMjE0NzQ4MzY2NTogMjA0OCxcbiAgICAyMTQ3NDgzNjY2OiAxMzQzNDg4MzIsXG4gICAgMjE0NzQ4MzY2NzogMTMzMTUyLFxuICAgIDIxNDc0ODM2Njg6IDMyLFxuICAgIDIxNDc0ODM2Njk6IDEzNDM0ODgwMCxcbiAgICAyMTQ3NDgzNjcwOiAxMzQyMTc3MjgsXG4gICAgMjE0NzQ4MzY3MTogMTM0MjE5ODA4LFxuICAgIDIxNDc0ODM2NzI6IDEzNDM1MDg4MCxcbiAgICAyMTQ3NDgzNjczOiAxMzQyMTc3NjAsXG4gICAgMjE0NzQ4MzY3NDogMTM0MjE5Nzc2LFxuICAgIDIxNDc0ODM2NzU6IDAsXG4gICAgMjE0NzQ4MzY3NjogMTMzMTIwLFxuICAgIDIxNDc0ODM2Nzc6IDIwODAsXG4gICAgMjE0NzQ4MzY3ODogMTMxMTA0LFxuICAgIDIxNDc0ODM2Nzk6IDEzNDM1MDg0OFxuICB9XSwgeSA9IFs0MTYwNzQ5NTY5LCA1Mjg0ODIzMDQsIDMzMDMwMTQ0LCAyMDY0Mzg0LCAxMjkwMjQsIDgwNjQsIDUwNCwgMjE0NzQ4MzY3OV0sIHYgPSBuLkRFUyA9IHMuZXh0ZW5kKHsgX2RvUmVzZXQ6IGZ1bmN0aW9uKCkge1xuICAgIGZvciAodmFyIG8gPSB0aGlzLl9rZXkud29yZHMsIGwgPSBbXSwgZiA9IDA7IDU2ID4gZjsgZisrKSB7XG4gICAgICB2YXIgZCA9IGhbZl0gLSAxO1xuICAgICAgbFtmXSA9IG9bZCA+Pj4gNV0gPj4+IDMxIC0gZCAlIDMyICYgMTtcbiAgICB9XG4gICAgZm9yIChvID0gdGhpcy5fc3ViS2V5cyA9IFtdLCBkID0gMDsgMTYgPiBkOyBkKyspIHtcbiAgICAgIGZvciAodmFyIGcgPSBvW2RdID0gW10sIFMgPSBwW2RdLCBmID0gMDsgMjQgPiBmOyBmKyspIGdbZiAvIDYgfCAwXSB8PSBsWyh1W2ZdIC0gMSArIFMpICUgMjhdIDw8IDMxIC0gZiAlIDYsIGdbNCArIChmIC8gNiB8IDApXSB8PSBsWzI4ICsgKHVbZiArIDI0XSAtIDEgKyBTKSAlIDI4XSA8PCAzMSAtIGYgJSA2O1xuICAgICAgZm9yIChnWzBdID0gZ1swXSA8PCAxIHwgZ1swXSA+Pj4gMzEsIGYgPSAxOyA3ID4gZjsgZisrKSBnW2ZdID4+Pj0gNCAqIChmIC0gMSkgKyAzO1xuICAgICAgZ1s3XSA9IGdbN10gPDwgNSB8IGdbN10gPj4+IDI3O1xuICAgIH1cbiAgICBmb3IgKGwgPSB0aGlzLl9pbnZTdWJLZXlzID0gW10sIGYgPSAwOyAxNiA+IGY7IGYrKykgbFtmXSA9IG9bMTUgLSBmXTtcbiAgfSwgZW5jcnlwdEJsb2NrOiBmdW5jdGlvbihvLCBsKSB7XG4gICAgdGhpcy5fZG9DcnlwdEJsb2NrKG8sIGwsIHRoaXMuX3N1YktleXMpO1xuICB9LCBkZWNyeXB0QmxvY2s6IGZ1bmN0aW9uKG8sIGwpIHtcbiAgICB0aGlzLl9kb0NyeXB0QmxvY2sobywgbCwgdGhpcy5faW52U3ViS2V5cyk7XG4gIH0sIF9kb0NyeXB0QmxvY2s6IGZ1bmN0aW9uKG8sIGwsIGYpIHtcbiAgICB0aGlzLl9sQmxvY2sgPSBvW2xdLCB0aGlzLl9yQmxvY2sgPSBvW2wgKyAxXSwgZS5jYWxsKHRoaXMsIDQsIDI1MjY0NTEzNSksIGUuY2FsbCh0aGlzLCAxNiwgNjU1MzUpLCB0LmNhbGwodGhpcywgMiwgODU4OTkzNDU5KSwgdC5jYWxsKHRoaXMsIDgsIDE2NzExOTM1KSwgZS5jYWxsKHRoaXMsIDEsIDE0MzE2NTU3NjUpO1xuICAgIGZvciAodmFyIGQgPSAwOyAxNiA+IGQ7IGQrKykge1xuICAgICAgZm9yICh2YXIgZyA9IGZbZF0sIFMgPSB0aGlzLl9sQmxvY2ssIGIgPSB0aGlzLl9yQmxvY2ssIEQgPSAwLCBBID0gMDsgOCA+IEE7IEErKykgRCB8PSBjW0FdWygoYiBeIGdbQV0pICYgeVtBXSkgPj4+IDBdO1xuICAgICAgdGhpcy5fbEJsb2NrID0gYiwgdGhpcy5fckJsb2NrID0gUyBeIEQ7XG4gICAgfVxuICAgIGYgPSB0aGlzLl9sQmxvY2ssIHRoaXMuX2xCbG9jayA9IHRoaXMuX3JCbG9jaywgdGhpcy5fckJsb2NrID0gZiwgZS5jYWxsKHRoaXMsIDEsIDE0MzE2NTU3NjUpLCB0LmNhbGwodGhpcywgOCwgMTY3MTE5MzUpLCB0LmNhbGwodGhpcywgMiwgODU4OTkzNDU5KSwgZS5jYWxsKHRoaXMsIDE2LCA2NTUzNSksIGUuY2FsbCh0aGlzLCA0LCAyNTI2NDUxMzUpLCBvW2xdID0gdGhpcy5fbEJsb2NrLCBvW2wgKyAxXSA9IHRoaXMuX3JCbG9jaztcbiAgfSwga2V5U2l6ZTogMiwgaXZTaXplOiAyLCBibG9ja1NpemU6IDIgfSk7XG4gIHIuREVTID0gcy5fY3JlYXRlSGVscGVyKHYpLCBuID0gbi5UcmlwbGVERVMgPSBzLmV4dGVuZCh7IF9kb1Jlc2V0OiBmdW5jdGlvbigpIHtcbiAgICB2YXIgbyA9IHRoaXMuX2tleS53b3JkcztcbiAgICB0aGlzLl9kZXMxID0gdi5jcmVhdGVFbmNyeXB0b3IoaS5jcmVhdGUoby5zbGljZSgwLCAyKSkpLCB0aGlzLl9kZXMyID0gdi5jcmVhdGVFbmNyeXB0b3IoaS5jcmVhdGUoby5zbGljZSgyLCA0KSkpLCB0aGlzLl9kZXMzID0gdi5jcmVhdGVFbmNyeXB0b3IoaS5jcmVhdGUoby5zbGljZSg0LCA2KSkpO1xuICB9LCBlbmNyeXB0QmxvY2s6IGZ1bmN0aW9uKG8sIGwpIHtcbiAgICB0aGlzLl9kZXMxLmVuY3J5cHRCbG9jayhvLCBsKSwgdGhpcy5fZGVzMi5kZWNyeXB0QmxvY2sobywgbCksIHRoaXMuX2RlczMuZW5jcnlwdEJsb2NrKG8sIGwpO1xuICB9LCBkZWNyeXB0QmxvY2s6IGZ1bmN0aW9uKG8sIGwpIHtcbiAgICB0aGlzLl9kZXMzLmRlY3J5cHRCbG9jayhvLCBsKSwgdGhpcy5fZGVzMi5lbmNyeXB0QmxvY2sobywgbCksIHRoaXMuX2RlczEuZGVjcnlwdEJsb2NrKG8sIGwpO1xuICB9LCBrZXlTaXplOiA2LCBpdlNpemU6IDIsIGJsb2NrU2l6ZTogMiB9KSwgci5UcmlwbGVERVMgPSBzLl9jcmVhdGVIZWxwZXIobik7XG59KSgpO1xuKGZ1bmN0aW9uKCkge1xuICB2YXIgZSA9IEssIHQgPSBlLmxpYi5Xb3JkQXJyYXk7XG4gIGUuZW5jLkJhc2U2NCA9IHsgc3RyaW5naWZ5OiBmdW5jdGlvbihyKSB7XG4gICAgdmFyIGkgPSByLndvcmRzLCBzID0gci5zaWdCeXRlcywgbiA9IHRoaXMuX21hcDtcbiAgICByLmNsYW1wKCksIHIgPSBbXTtcbiAgICBmb3IgKHZhciBoID0gMDsgaCA8IHM7IGggKz0gMykgZm9yICh2YXIgdSA9IChpW2ggPj4+IDJdID4+PiAyNCAtIDggKiAoaCAlIDQpICYgMjU1KSA8PCAxNiB8IChpW2ggKyAxID4+PiAyXSA+Pj4gMjQgLSA4ICogKChoICsgMSkgJSA0KSAmIDI1NSkgPDwgOCB8IGlbaCArIDIgPj4+IDJdID4+PiAyNCAtIDggKiAoKGggKyAyKSAlIDQpICYgMjU1LCBwID0gMDsgNCA+IHAgJiYgaCArIDAuNzUgKiBwIDwgczsgcCsrKSByLnB1c2gobi5jaGFyQXQodSA+Pj4gNiAqICgzIC0gcCkgJiA2MykpO1xuICAgIGlmIChpID0gbi5jaGFyQXQoNjQpKSBmb3IgKDsgci5sZW5ndGggJSA0OyApIHIucHVzaChpKTtcbiAgICByZXR1cm4gci5qb2luKFwiXCIpO1xuICB9LCBwYXJzZTogZnVuY3Rpb24ocikge1xuICAgIHZhciBpID0gci5sZW5ndGgsIHMgPSB0aGlzLl9tYXAsIG4gPSBzLmNoYXJBdCg2NCk7XG4gICAgbiAmJiAobiA9IHIuaW5kZXhPZihuKSwgbiAhPSAtMSAmJiAoaSA9IG4pKTtcbiAgICBmb3IgKHZhciBuID0gW10sIGggPSAwLCB1ID0gMDsgdSA8IGk7IHUrKykgaWYgKHUgJSA0KSB7XG4gICAgICB2YXIgcCA9IHMuaW5kZXhPZihyLmNoYXJBdCh1IC0gMSkpIDw8IDIgKiAodSAlIDQpLCBjID0gcy5pbmRleE9mKHIuY2hhckF0KHUpKSA+Pj4gNiAtIDIgKiAodSAlIDQpO1xuICAgICAgbltoID4+PiAyXSB8PSAocCB8IGMpIDw8IDI0IC0gOCAqIChoICUgNCksIGgrKztcbiAgICB9XG4gICAgcmV0dXJuIHQuY3JlYXRlKG4sIGgpO1xuICB9LCBfbWFwOiBcIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky89XCIgfTtcbn0pKCk7XG4oZnVuY3Rpb24oZSkge1xuICBmdW5jdGlvbiB0KHYsIG8sIGwsIGYsIGQsIGcsIFMpIHtcbiAgICByZXR1cm4gdiA9IHYgKyAobyAmIGwgfCB+byAmIGYpICsgZCArIFMsICh2IDw8IGcgfCB2ID4+PiAzMiAtIGcpICsgbztcbiAgfVxuICBmdW5jdGlvbiByKHYsIG8sIGwsIGYsIGQsIGcsIFMpIHtcbiAgICByZXR1cm4gdiA9IHYgKyAobyAmIGYgfCBsICYgfmYpICsgZCArIFMsICh2IDw8IGcgfCB2ID4+PiAzMiAtIGcpICsgbztcbiAgfVxuICBmdW5jdGlvbiBpKHYsIG8sIGwsIGYsIGQsIGcsIFMpIHtcbiAgICByZXR1cm4gdiA9IHYgKyAobyBeIGwgXiBmKSArIGQgKyBTLCAodiA8PCBnIHwgdiA+Pj4gMzIgLSBnKSArIG87XG4gIH1cbiAgZnVuY3Rpb24gcyh2LCBvLCBsLCBmLCBkLCBnLCBTKSB7XG4gICAgcmV0dXJuIHYgPSB2ICsgKGwgXiAobyB8IH5mKSkgKyBkICsgUywgKHYgPDwgZyB8IHYgPj4+IDMyIC0gZykgKyBvO1xuICB9XG4gIGZvciAodmFyIG4gPSBLLCBwID0gbi5saWIsIGggPSBwLldvcmRBcnJheSwgdSA9IHAuSGFzaGVyLCBwID0gbi5hbGdvLCBjID0gW10sIHkgPSAwOyA2NCA+IHk7IHkrKykgY1t5XSA9IDQyOTQ5NjcyOTYgKiBlLmFicyhlLnNpbih5ICsgMSkpIHwgMDtcbiAgcCA9IHAuTUQ1ID0gdS5leHRlbmQoe1xuICAgIF9kb1Jlc2V0OiBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMuX2hhc2ggPSBuZXcgaC5pbml0KFsxNzMyNTg0MTkzLCA0MDIzMjMzNDE3LCAyNTYyMzgzMTAyLCAyNzE3MzM4NzhdKTtcbiAgICB9LFxuICAgIF9kb1Byb2Nlc3NCbG9jazogZnVuY3Rpb24odiwgbykge1xuICAgICAgZm9yICh2YXIgbCA9IDA7IDE2ID4gbDsgbCsrKSB7XG4gICAgICAgIHZhciBmID0gbyArIGwsIGQgPSB2W2ZdO1xuICAgICAgICB2W2ZdID0gKGQgPDwgOCB8IGQgPj4+IDI0KSAmIDE2NzExOTM1IHwgKGQgPDwgMjQgfCBkID4+PiA4KSAmIDQyNzgyNTUzNjA7XG4gICAgICB9XG4gICAgICB2YXIgbCA9IHRoaXMuX2hhc2gud29yZHMsIGYgPSB2W28gKyAwXSwgZCA9IHZbbyArIDFdLCBnID0gdltvICsgMl0sIFMgPSB2W28gKyAzXSwgYiA9IHZbbyArIDRdLCBEID0gdltvICsgNV0sIEEgPSB2W28gKyA2XSwgSSA9IHZbbyArIDddLCBtID0gdltvICsgOF0sIEUgPSB2W28gKyA5XSwgdyA9IHZbbyArIDEwXSwgeCA9IHZbbyArIDExXSwgRiA9IHZbbyArIDEyXSwgUCA9IHZbbyArIDEzXSwgVCA9IHZbbyArIDE0XSwgSCA9IHZbbyArIDE1XSwgQyA9IGxbMF0sIGogPSBsWzFdLCBPID0gbFsyXSwgQiA9IGxbM10sIEMgPSB0KEMsIGosIE8sIEIsIGYsIDcsIGNbMF0pLCBCID0gdChCLCBDLCBqLCBPLCBkLCAxMiwgY1sxXSksIE8gPSB0KE8sIEIsIEMsIGosIGcsIDE3LCBjWzJdKSwgaiA9IHQoaiwgTywgQiwgQywgUywgMjIsIGNbM10pLCBDID0gdChDLCBqLCBPLCBCLCBiLCA3LCBjWzRdKSwgQiA9IHQoQiwgQywgaiwgTywgRCwgMTIsIGNbNV0pLCBPID0gdChPLCBCLCBDLCBqLCBBLCAxNywgY1s2XSksIGogPSB0KGosIE8sIEIsIEMsIEksIDIyLCBjWzddKSwgQyA9IHQoQywgaiwgTywgQiwgbSwgNywgY1s4XSksIEIgPSB0KEIsIEMsIGosIE8sIEUsIDEyLCBjWzldKSwgTyA9IHQoTywgQiwgQywgaiwgdywgMTcsIGNbMTBdKSwgaiA9IHQoaiwgTywgQiwgQywgeCwgMjIsIGNbMTFdKSwgQyA9IHQoQywgaiwgTywgQiwgRiwgNywgY1sxMl0pLCBCID0gdChCLCBDLCBqLCBPLCBQLCAxMiwgY1sxM10pLCBPID0gdChPLCBCLCBDLCBqLCBULCAxNywgY1sxNF0pLCBqID0gdChqLCBPLCBCLCBDLCBILCAyMiwgY1sxNV0pLCBDID0gcihDLCBqLCBPLCBCLCBkLCA1LCBjWzE2XSksIEIgPSByKEIsIEMsIGosIE8sIEEsIDksIGNbMTddKSwgTyA9IHIoTywgQiwgQywgaiwgeCwgMTQsIGNbMThdKSwgaiA9IHIoaiwgTywgQiwgQywgZiwgMjAsIGNbMTldKSwgQyA9IHIoQywgaiwgTywgQiwgRCwgNSwgY1syMF0pLCBCID0gcihCLCBDLCBqLCBPLCB3LCA5LCBjWzIxXSksIE8gPSByKE8sIEIsIEMsIGosIEgsIDE0LCBjWzIyXSksIGogPSByKGosIE8sIEIsIEMsIGIsIDIwLCBjWzIzXSksIEMgPSByKEMsIGosIE8sIEIsIEUsIDUsIGNbMjRdKSwgQiA9IHIoQiwgQywgaiwgTywgVCwgOSwgY1syNV0pLCBPID0gcihPLCBCLCBDLCBqLCBTLCAxNCwgY1syNl0pLCBqID0gcihqLCBPLCBCLCBDLCBtLCAyMCwgY1syN10pLCBDID0gcihDLCBqLCBPLCBCLCBQLCA1LCBjWzI4XSksIEIgPSByKFxuICAgICAgICBCLFxuICAgICAgICBDLFxuICAgICAgICBqLFxuICAgICAgICBPLFxuICAgICAgICBnLFxuICAgICAgICA5LFxuICAgICAgICBjWzI5XVxuICAgICAgKSwgTyA9IHIoTywgQiwgQywgaiwgSSwgMTQsIGNbMzBdKSwgaiA9IHIoaiwgTywgQiwgQywgRiwgMjAsIGNbMzFdKSwgQyA9IGkoQywgaiwgTywgQiwgRCwgNCwgY1szMl0pLCBCID0gaShCLCBDLCBqLCBPLCBtLCAxMSwgY1szM10pLCBPID0gaShPLCBCLCBDLCBqLCB4LCAxNiwgY1szNF0pLCBqID0gaShqLCBPLCBCLCBDLCBULCAyMywgY1szNV0pLCBDID0gaShDLCBqLCBPLCBCLCBkLCA0LCBjWzM2XSksIEIgPSBpKEIsIEMsIGosIE8sIGIsIDExLCBjWzM3XSksIE8gPSBpKE8sIEIsIEMsIGosIEksIDE2LCBjWzM4XSksIGogPSBpKGosIE8sIEIsIEMsIHcsIDIzLCBjWzM5XSksIEMgPSBpKEMsIGosIE8sIEIsIFAsIDQsIGNbNDBdKSwgQiA9IGkoQiwgQywgaiwgTywgZiwgMTEsIGNbNDFdKSwgTyA9IGkoTywgQiwgQywgaiwgUywgMTYsIGNbNDJdKSwgaiA9IGkoaiwgTywgQiwgQywgQSwgMjMsIGNbNDNdKSwgQyA9IGkoQywgaiwgTywgQiwgRSwgNCwgY1s0NF0pLCBCID0gaShCLCBDLCBqLCBPLCBGLCAxMSwgY1s0NV0pLCBPID0gaShPLCBCLCBDLCBqLCBILCAxNiwgY1s0Nl0pLCBqID0gaShqLCBPLCBCLCBDLCBnLCAyMywgY1s0N10pLCBDID0gcyhDLCBqLCBPLCBCLCBmLCA2LCBjWzQ4XSksIEIgPSBzKEIsIEMsIGosIE8sIEksIDEwLCBjWzQ5XSksIE8gPSBzKFxuICAgICAgICBPLFxuICAgICAgICBCLFxuICAgICAgICBDLFxuICAgICAgICBqLFxuICAgICAgICBULFxuICAgICAgICAxNSxcbiAgICAgICAgY1s1MF1cbiAgICAgICksIGogPSBzKGosIE8sIEIsIEMsIEQsIDIxLCBjWzUxXSksIEMgPSBzKEMsIGosIE8sIEIsIEYsIDYsIGNbNTJdKSwgQiA9IHMoQiwgQywgaiwgTywgUywgMTAsIGNbNTNdKSwgTyA9IHMoTywgQiwgQywgaiwgdywgMTUsIGNbNTRdKSwgaiA9IHMoaiwgTywgQiwgQywgZCwgMjEsIGNbNTVdKSwgQyA9IHMoQywgaiwgTywgQiwgbSwgNiwgY1s1Nl0pLCBCID0gcyhCLCBDLCBqLCBPLCBILCAxMCwgY1s1N10pLCBPID0gcyhPLCBCLCBDLCBqLCBBLCAxNSwgY1s1OF0pLCBqID0gcyhqLCBPLCBCLCBDLCBQLCAyMSwgY1s1OV0pLCBDID0gcyhDLCBqLCBPLCBCLCBiLCA2LCBjWzYwXSksIEIgPSBzKEIsIEMsIGosIE8sIHgsIDEwLCBjWzYxXSksIE8gPSBzKE8sIEIsIEMsIGosIGcsIDE1LCBjWzYyXSksIGogPSBzKGosIE8sIEIsIEMsIEUsIDIxLCBjWzYzXSk7XG4gICAgICBsWzBdID0gbFswXSArIEMgfCAwLCBsWzFdID0gbFsxXSArIGogfCAwLCBsWzJdID0gbFsyXSArIE8gfCAwLCBsWzNdID0gbFszXSArIEIgfCAwO1xuICAgIH0sXG4gICAgX2RvRmluYWxpemU6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHYgPSB0aGlzLl9kYXRhLCBvID0gdi53b3JkcywgbCA9IDggKiB0aGlzLl9uRGF0YUJ5dGVzLCBmID0gOCAqIHYuc2lnQnl0ZXM7XG4gICAgICBvW2YgPj4+IDVdIHw9IDEyOCA8PCAyNCAtIGYgJSAzMjtcbiAgICAgIHZhciBkID0gZS5mbG9vcihsIC8gNDI5NDk2NzI5Nik7XG4gICAgICBmb3IgKG9bKGYgKyA2NCA+Pj4gOSA8PCA0KSArIDE1XSA9IChkIDw8IDggfCBkID4+PiAyNCkgJiAxNjcxMTkzNSB8IChkIDw8IDI0IHwgZCA+Pj4gOCkgJiA0Mjc4MjU1MzYwLCBvWyhmICsgNjQgPj4+IDkgPDwgNCkgKyAxNF0gPSAobCA8PCA4IHwgbCA+Pj4gMjQpICYgMTY3MTE5MzUgfCAobCA8PCAyNCB8IGwgPj4+IDgpICYgNDI3ODI1NTM2MCwgdi5zaWdCeXRlcyA9IDQgKiAoby5sZW5ndGggKyAxKSwgdGhpcy5fcHJvY2VzcygpLCB2ID0gdGhpcy5faGFzaCwgbyA9IHYud29yZHMsIGwgPSAwOyA0ID4gbDsgbCsrKSBmID0gb1tsXSwgb1tsXSA9IChmIDw8IDggfCBmID4+PiAyNCkgJiAxNjcxMTkzNSB8IChmIDw8IDI0IHwgZiA+Pj4gOCkgJiA0Mjc4MjU1MzYwO1xuICAgICAgcmV0dXJuIHY7XG4gICAgfSxcbiAgICBjbG9uZTogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgdiA9IHUuY2xvbmUuY2FsbCh0aGlzKTtcbiAgICAgIHJldHVybiB2Ll9oYXNoID0gdGhpcy5faGFzaC5jbG9uZSgpLCB2O1xuICAgIH1cbiAgfSksIG4uTUQ1ID0gdS5fY3JlYXRlSGVscGVyKHApLCBuLkhtYWNNRDUgPSB1Ll9jcmVhdGVIbWFjSGVscGVyKHApO1xufSkoTWF0aCk7XG4oZnVuY3Rpb24oKSB7XG4gIHZhciBlID0gSywgcyA9IGUubGliLCB0ID0gcy5Xb3JkQXJyYXksIHIgPSBzLkhhc2hlciwgaSA9IFtdLCBzID0gZS5hbGdvLlNIQTEgPSByLmV4dGVuZCh7IF9kb1Jlc2V0OiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLl9oYXNoID0gbmV3IHQuaW5pdChbMTczMjU4NDE5MywgNDAyMzIzMzQxNywgMjU2MjM4MzEwMiwgMjcxNzMzODc4LCAzMjg1Mzc3NTIwXSk7XG4gIH0sIF9kb1Byb2Nlc3NCbG9jazogZnVuY3Rpb24obiwgaCkge1xuICAgIGZvciAodmFyIHUgPSB0aGlzLl9oYXNoLndvcmRzLCBwID0gdVswXSwgYyA9IHVbMV0sIHkgPSB1WzJdLCB2ID0gdVszXSwgbyA9IHVbNF0sIGwgPSAwOyA4MCA+IGw7IGwrKykge1xuICAgICAgaWYgKDE2ID4gbCkgaVtsXSA9IG5baCArIGxdIHwgMDtcbiAgICAgIGVsc2Uge1xuICAgICAgICB2YXIgZiA9IGlbbCAtIDNdIF4gaVtsIC0gOF0gXiBpW2wgLSAxNF0gXiBpW2wgLSAxNl07XG4gICAgICAgIGlbbF0gPSBmIDw8IDEgfCBmID4+PiAzMTtcbiAgICAgIH1cbiAgICAgIGYgPSAocCA8PCA1IHwgcCA+Pj4gMjcpICsgbyArIGlbbF0sIGYgPSAyMCA+IGwgPyBmICsgKChjICYgeSB8IH5jICYgdikgKyAxNTE4NTAwMjQ5KSA6IDQwID4gbCA/IGYgKyAoKGMgXiB5IF4gdikgKyAxODU5Nzc1MzkzKSA6IDYwID4gbCA/IGYgKyAoKGMgJiB5IHwgYyAmIHYgfCB5ICYgdikgLSAxODk0MDA3NTg4KSA6IGYgKyAoKGMgXiB5IF4gdikgLSA4OTk0OTc1MTQpLCBvID0gdiwgdiA9IHksIHkgPSBjIDw8IDMwIHwgYyA+Pj4gMiwgYyA9IHAsIHAgPSBmO1xuICAgIH1cbiAgICB1WzBdID0gdVswXSArIHAgfCAwLCB1WzFdID0gdVsxXSArIGMgfCAwLCB1WzJdID0gdVsyXSArIHkgfCAwLCB1WzNdID0gdVszXSArIHYgfCAwLCB1WzRdID0gdVs0XSArIG8gfCAwO1xuICB9LCBfZG9GaW5hbGl6ZTogZnVuY3Rpb24oKSB7XG4gICAgdmFyIG4gPSB0aGlzLl9kYXRhLCBoID0gbi53b3JkcywgdSA9IDggKiB0aGlzLl9uRGF0YUJ5dGVzLCBwID0gOCAqIG4uc2lnQnl0ZXM7XG4gICAgcmV0dXJuIGhbcCA+Pj4gNV0gfD0gMTI4IDw8IDI0IC0gcCAlIDMyLCBoWyhwICsgNjQgPj4+IDkgPDwgNCkgKyAxNF0gPSBNYXRoLmZsb29yKHUgLyA0Mjk0OTY3Mjk2KSwgaFsocCArIDY0ID4+PiA5IDw8IDQpICsgMTVdID0gdSwgbi5zaWdCeXRlcyA9IDQgKiBoLmxlbmd0aCwgdGhpcy5fcHJvY2VzcygpLCB0aGlzLl9oYXNoO1xuICB9LCBjbG9uZTogZnVuY3Rpb24oKSB7XG4gICAgdmFyIG4gPSByLmNsb25lLmNhbGwodGhpcyk7XG4gICAgcmV0dXJuIG4uX2hhc2ggPSB0aGlzLl9oYXNoLmNsb25lKCksIG47XG4gIH0gfSk7XG4gIGUuU0hBMSA9IHIuX2NyZWF0ZUhlbHBlcihzKSwgZS5IbWFjU0hBMSA9IHIuX2NyZWF0ZUhtYWNIZWxwZXIocyk7XG59KSgpO1xuKGZ1bmN0aW9uKGUpIHtcbiAgZm9yICh2YXIgdCA9IEssIGwgPSB0LmxpYiwgciA9IGwuV29yZEFycmF5LCBpID0gbC5IYXNoZXIsIGwgPSB0LmFsZ28sIHMgPSBbXSwgbiA9IFtdLCBoID0gZnVuY3Rpb24oZCkge1xuICAgIHJldHVybiA0Mjk0OTY3Mjk2ICogKGQgLSAoZCB8IDApKSB8IDA7XG4gIH0sIHUgPSAyLCBwID0gMDsgNjQgPiBwOyApIHtcbiAgICB2YXIgYztcbiAgICBlOiB7XG4gICAgICBjID0gdTtcbiAgICAgIGZvciAodmFyIHkgPSBlLnNxcnQoYyksIHYgPSAyOyB2IDw9IHk7IHYrKykgaWYgKCEoYyAlIHYpKSB7XG4gICAgICAgIGMgPSAhMTtcbiAgICAgICAgYnJlYWsgZTtcbiAgICAgIH1cbiAgICAgIGMgPSAhMDtcbiAgICB9XG4gICAgYyAmJiAoOCA+IHAgJiYgKHNbcF0gPSBoKGUucG93KHUsIDAuNSkpKSwgbltwXSA9IGgoZS5wb3codSwgMSAvIDMpKSwgcCsrKSwgdSsrO1xuICB9XG4gIHZhciBvID0gW10sIGwgPSBsLlNIQTI1NiA9IGkuZXh0ZW5kKHsgX2RvUmVzZXQ6IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuX2hhc2ggPSBuZXcgci5pbml0KHMuc2xpY2UoMCkpO1xuICB9LCBfZG9Qcm9jZXNzQmxvY2s6IGZ1bmN0aW9uKGYsIGQpIHtcbiAgICBmb3IgKHZhciBnID0gdGhpcy5faGFzaC53b3JkcywgUyA9IGdbMF0sIGIgPSBnWzFdLCBEID0gZ1syXSwgQSA9IGdbM10sIEkgPSBnWzRdLCBtID0gZ1s1XSwgRSA9IGdbNl0sIHcgPSBnWzddLCB4ID0gMDsgNjQgPiB4OyB4KyspIHtcbiAgICAgIGlmICgxNiA+IHgpIG9beF0gPSBmW2QgKyB4XSB8IDA7XG4gICAgICBlbHNlIHtcbiAgICAgICAgdmFyIEYgPSBvW3ggLSAxNV0sIFAgPSBvW3ggLSAyXTtcbiAgICAgICAgb1t4XSA9ICgoRiA8PCAyNSB8IEYgPj4+IDcpIF4gKEYgPDwgMTQgfCBGID4+PiAxOCkgXiBGID4+PiAzKSArIG9beCAtIDddICsgKChQIDw8IDE1IHwgUCA+Pj4gMTcpIF4gKFAgPDwgMTMgfCBQID4+PiAxOSkgXiBQID4+PiAxMCkgKyBvW3ggLSAxNl07XG4gICAgICB9XG4gICAgICBGID0gdyArICgoSSA8PCAyNiB8IEkgPj4+IDYpIF4gKEkgPDwgMjEgfCBJID4+PiAxMSkgXiAoSSA8PCA3IHwgSSA+Pj4gMjUpKSArIChJICYgbSBeIH5JICYgRSkgKyBuW3hdICsgb1t4XSwgUCA9ICgoUyA8PCAzMCB8IFMgPj4+IDIpIF4gKFMgPDwgMTkgfCBTID4+PiAxMykgXiAoUyA8PCAxMCB8IFMgPj4+IDIyKSkgKyAoUyAmIGIgXiBTICYgRCBeIGIgJiBEKSwgdyA9IEUsIEUgPSBtLCBtID0gSSwgSSA9IEEgKyBGIHwgMCwgQSA9IEQsIEQgPSBiLCBiID0gUywgUyA9IEYgKyBQIHwgMDtcbiAgICB9XG4gICAgZ1swXSA9IGdbMF0gKyBTIHwgMCwgZ1sxXSA9IGdbMV0gKyBiIHwgMCwgZ1syXSA9IGdbMl0gKyBEIHwgMCwgZ1szXSA9IGdbM10gKyBBIHwgMCwgZ1s0XSA9IGdbNF0gKyBJIHwgMCwgZ1s1XSA9IGdbNV0gKyBtIHwgMCwgZ1s2XSA9IGdbNl0gKyBFIHwgMCwgZ1s3XSA9IGdbN10gKyB3IHwgMDtcbiAgfSwgX2RvRmluYWxpemU6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBmID0gdGhpcy5fZGF0YSwgZCA9IGYud29yZHMsIGcgPSA4ICogdGhpcy5fbkRhdGFCeXRlcywgUyA9IDggKiBmLnNpZ0J5dGVzO1xuICAgIHJldHVybiBkW1MgPj4+IDVdIHw9IDEyOCA8PCAyNCAtIFMgJSAzMiwgZFsoUyArIDY0ID4+PiA5IDw8IDQpICsgMTRdID0gZS5mbG9vcihnIC8gNDI5NDk2NzI5NiksIGRbKFMgKyA2NCA+Pj4gOSA8PCA0KSArIDE1XSA9IGcsIGYuc2lnQnl0ZXMgPSA0ICogZC5sZW5ndGgsIHRoaXMuX3Byb2Nlc3MoKSwgdGhpcy5faGFzaDtcbiAgfSwgY2xvbmU6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBmID0gaS5jbG9uZS5jYWxsKHRoaXMpO1xuICAgIHJldHVybiBmLl9oYXNoID0gdGhpcy5faGFzaC5jbG9uZSgpLCBmO1xuICB9IH0pO1xuICB0LlNIQTI1NiA9IGkuX2NyZWF0ZUhlbHBlcihsKSwgdC5IbWFjU0hBMjU2ID0gaS5fY3JlYXRlSG1hY0hlbHBlcihsKTtcbn0pKE1hdGgpO1xuKGZ1bmN0aW9uKCkge1xuICB2YXIgZSA9IEssIHQgPSBlLmxpYi5Xb3JkQXJyYXksIGkgPSBlLmFsZ28sIHIgPSBpLlNIQTI1NiwgaSA9IGkuU0hBMjI0ID0gci5leHRlbmQoeyBfZG9SZXNldDogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5faGFzaCA9IG5ldyB0LmluaXQoWzMyMzgzNzEwMzIsIDkxNDE1MDY2MywgODEyNzAyOTk5LCA0MTQ0OTEyNjk3LCA0MjkwNzc1ODU3LCAxNzUwNjAzMDI1LCAxNjk0MDc2ODM5LCAzMjA0MDc1NDI4XSk7XG4gIH0sIF9kb0ZpbmFsaXplOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgcyA9IHIuX2RvRmluYWxpemUuY2FsbCh0aGlzKTtcbiAgICByZXR1cm4gcy5zaWdCeXRlcyAtPSA0LCBzO1xuICB9IH0pO1xuICBlLlNIQTIyNCA9IHIuX2NyZWF0ZUhlbHBlcihpKSwgZS5IbWFjU0hBMjI0ID0gci5fY3JlYXRlSG1hY0hlbHBlcihpKTtcbn0pKCk7XG4oZnVuY3Rpb24oKSB7XG4gIGZ1bmN0aW9uIGUoKSB7XG4gICAgcmV0dXJuIGkuY3JlYXRlLmFwcGx5KGksIGFyZ3VtZW50cyk7XG4gIH1cbiAgZm9yICh2YXIgdCA9IEssIHIgPSB0LmxpYi5IYXNoZXIsIG4gPSB0Lng2NCwgaSA9IG4uV29yZCwgcyA9IG4uV29yZEFycmF5LCBuID0gdC5hbGdvLCBoID0gW1xuICAgIGUoMTExNjM1MjQwOCwgMzYwOTc2NzQ1OCksXG4gICAgZSgxODk5NDQ3NDQxLCA2MDI4OTE3MjUpLFxuICAgIGUoMzA0OTMyMzQ3MSwgMzk2NDQ4NDM5OSksXG4gICAgZSgzOTIxMDA5NTczLCAyMTczMjk1NTQ4KSxcbiAgICBlKDk2MTk4NzE2MywgNDA4MTYyODQ3MiksXG4gICAgZSgxNTA4OTcwOTkzLCAzMDUzODM0MjY1KSxcbiAgICBlKDI0NTM2MzU3NDgsIDI5Mzc2NzE1NzkpLFxuICAgIGUoMjg3MDc2MzIyMSwgMzY2NDYwOTU2MCksXG4gICAgZSgzNjI0MzgxMDgwLCAyNzM0ODgzMzk0KSxcbiAgICBlKDMxMDU5ODQwMSwgMTE2NDk5NjU0MiksXG4gICAgZSg2MDcyMjUyNzgsIDEzMjM2MTA3NjQpLFxuICAgIGUoMTQyNjg4MTk4NywgMzU5MDMwNDk5NCksXG4gICAgZSgxOTI1MDc4Mzg4LCA0MDY4MTgyMzgzKSxcbiAgICBlKDIxNjIwNzgyMDYsIDk5MTMzNjExMyksXG4gICAgZSgyNjE0ODg4MTAzLCA2MzM4MDMzMTcpLFxuICAgIGUoMzI0ODIyMjU4MCwgMzQ3OTc3NDg2OCksXG4gICAgZSgzODM1MzkwNDAxLCAyNjY2NjEzNDU4KSxcbiAgICBlKDQwMjIyMjQ3NzQsIDk0NDcxMTEzOSksXG4gICAgZSgyNjQzNDcwNzgsIDIzNDEyNjI3NzMpLFxuICAgIGUoNjA0ODA3NjI4LCAyMDA3ODAwOTMzKSxcbiAgICBlKDc3MDI1NTk4MywgMTQ5NTk5MDkwMSksXG4gICAgZSgxMjQ5MTUwMTIyLCAxODU2NDMxMjM1KSxcbiAgICBlKDE1NTUwODE2OTIsIDMxNzUyMTgxMzIpLFxuICAgIGUoMTk5NjA2NDk4NiwgMjE5ODk1MDgzNyksXG4gICAgZSgyNTU0MjIwODgyLCAzOTk5NzE5MzM5KSxcbiAgICBlKDI4MjE4MzQzNDksIDc2Njc4NDAxNiksXG4gICAgZSgyOTUyOTk2ODA4LCAyNTY2NTk0ODc5KSxcbiAgICBlKDMyMTAzMTM2NzEsIDMyMDMzMzc5NTYpLFxuICAgIGUoMzMzNjU3MTg5MSwgMTAzNDQ1NzAyNiksXG4gICAgZSgzNTg0NTI4NzExLCAyNDY2OTQ4OTAxKSxcbiAgICBlKDExMzkyNjk5MywgMzc1ODMyNjM4MyksXG4gICAgZSgzMzgyNDE4OTUsIDE2ODcxNzkzNiksXG4gICAgZSg2NjYzMDcyMDUsIDExODgxNzk5NjQpLFxuICAgIGUoNzczNTI5OTEyLCAxNTQ2MDQ1NzM0KSxcbiAgICBlKDEyOTQ3NTczNzIsIDE1MjI4MDU0ODUpLFxuICAgIGUoXG4gICAgICAxMzk2MTgyMjkxLFxuICAgICAgMjY0MzgzMzgyM1xuICAgICksXG4gICAgZSgxNjk1MTgzNzAwLCAyMzQzNTI3MzkwKSxcbiAgICBlKDE5ODY2NjEwNTEsIDEwMTQ0Nzc0ODApLFxuICAgIGUoMjE3NzAyNjM1MCwgMTIwNjc1OTE0MiksXG4gICAgZSgyNDU2OTU2MDM3LCAzNDQwNzc2MjcpLFxuICAgIGUoMjczMDQ4NTkyMSwgMTI5MDg2MzQ2MCksXG4gICAgZSgyODIwMzAyNDExLCAzMTU4NDU0MjczKSxcbiAgICBlKDMyNTk3MzA4MDAsIDM1MDU5NTI2NTcpLFxuICAgIGUoMzM0NTc2NDc3MSwgMTA2MjE3MDA4KSxcbiAgICBlKDM1MTYwNjU4MTcsIDM2MDYwMDgzNDQpLFxuICAgIGUoMzYwMDM1MjgwNCwgMTQzMjcyNTc3NiksXG4gICAgZSg0MDk0NTcxOTA5LCAxNDY3MDMxNTk0KSxcbiAgICBlKDI3NTQyMzM0NCwgODUxMTY5NzIwKSxcbiAgICBlKDQzMDIyNzczNCwgMzEwMDgyMzc1MiksXG4gICAgZSg1MDY5NDg2MTYsIDEzNjMyNTgxOTUpLFxuICAgIGUoNjU5MDYwNTU2LCAzNzUwNjg1NTkzKSxcbiAgICBlKDg4Mzk5Nzg3NywgMzc4NTA1MDI4MCksXG4gICAgZSg5NTgxMzk1NzEsIDMzMTgzMDc0MjcpLFxuICAgIGUoMTMyMjgyMjIxOCwgMzgxMjcyMzQwMyksXG4gICAgZSgxNTM3MDAyMDYzLCAyMDAzMDM0OTk1KSxcbiAgICBlKDE3NDc4NzM3NzksIDM2MDIwMzY4OTkpLFxuICAgIGUoMTk1NTU2MjIyMiwgMTU3NTk5MDAxMiksXG4gICAgZSgyMDI0MTA0ODE1LCAxMTI1NTkyOTI4KSxcbiAgICBlKDIyMjc3MzA0NTIsIDI3MTY5MDQzMDYpLFxuICAgIGUoMjM2MTg1MjQyNCwgNDQyNzc2MDQ0KSxcbiAgICBlKDI0Mjg0MzY0NzQsIDU5MzY5ODM0NCksXG4gICAgZSgyNzU2NzM0MTg3LCAzNzMzMTEwMjQ5KSxcbiAgICBlKDMyMDQwMzE0NzksIDI5OTkzNTE1NzMpLFxuICAgIGUoMzMyOTMyNTI5OCwgMzgxNTkyMDQyNyksXG4gICAgZSgzMzkxNTY5NjE0LCAzOTI4MzgzOTAwKSxcbiAgICBlKDM1MTUyNjcyNzEsIDU2NjI4MDcxMSksXG4gICAgZSgzOTQwMTg3NjA2LCAzNDU0MDY5NTM0KSxcbiAgICBlKDQxMTg2MzAyNzEsIDQwMDAyMzk5OTIpLFxuICAgIGUoMTE2NDE4NDc0LCAxOTE0MTM4NTU0KSxcbiAgICBlKDE3NDI5MjQyMSwgMjczMTA1NTI3MCksXG4gICAgZSgyODkzODAzNTYsIDMyMDM5OTMwMDYpLFxuICAgIGUoNDYwMzkzMjY5LCAzMjA2MjAzMTUpLFxuICAgIGUoNjg1NDcxNzMzLCA1ODc0OTY4MzYpLFxuICAgIGUoODUyMTQyOTcxLCAxMDg2NzkyODUxKSxcbiAgICBlKDEwMTcwMzYyOTgsIDM2NTU0MzEwMCksXG4gICAgZSgxMTI2MDAwNTgwLCAyNjE4Mjk3Njc2KSxcbiAgICBlKFxuICAgICAgMTI4ODAzMzQ3MCxcbiAgICAgIDM0MDk4NTUxNThcbiAgICApLFxuICAgIGUoMTUwMTUwNTk0OCwgNDIzNDUwOTg2NiksXG4gICAgZSgxNjA3MTY3OTE1LCA5ODcxNjc0NjgpLFxuICAgIGUoMTgxNjQwMjMxNiwgMTI0NjE4OTU5MSlcbiAgXSwgdSA9IFtdLCBwID0gMDsgODAgPiBwOyBwKyspIHVbcF0gPSBlKCk7XG4gIG4gPSBuLlNIQTUxMiA9IHIuZXh0ZW5kKHsgX2RvUmVzZXQ6IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuX2hhc2ggPSBuZXcgcy5pbml0KFtuZXcgaS5pbml0KDE3NzkwMzM3MDMsIDQwODkyMzU3MjApLCBuZXcgaS5pbml0KDMxNDQxMzQyNzcsIDIyMjc4NzM1OTUpLCBuZXcgaS5pbml0KDEwMTM5MDQyNDIsIDQyNzExNzU3MjMpLCBuZXcgaS5pbml0KDI3NzM0ODA3NjIsIDE1OTU3NTAxMjkpLCBuZXcgaS5pbml0KDEzNTk4OTMxMTksIDI5MTc1NjUxMzcpLCBuZXcgaS5pbml0KDI2MDA4MjI5MjQsIDcyNTUxMTE5OSksIG5ldyBpLmluaXQoNTI4NzM0NjM1LCA0MjE1Mzg5NTQ3KSwgbmV3IGkuaW5pdCgxNTQxNDU5MjI1LCAzMjcwMzMyMDkpXSk7XG4gIH0sIF9kb1Byb2Nlc3NCbG9jazogZnVuY3Rpb24oYywgeSkge1xuICAgIGZvciAodmFyIGIgPSB0aGlzLl9oYXNoLndvcmRzLCB2ID0gYlswXSwgbyA9IGJbMV0sIGwgPSBiWzJdLCBmID0gYlszXSwgZCA9IGJbNF0sIGcgPSBiWzVdLCBTID0gYls2XSwgYiA9IGJbN10sIEQgPSB2LmhpZ2gsIEEgPSB2LmxvdywgSSA9IG8uaGlnaCwgbSA9IG8ubG93LCBFID0gbC5oaWdoLCB3ID0gbC5sb3csIHggPSBmLmhpZ2gsIEYgPSBmLmxvdywgUCA9IGQuaGlnaCwgVCA9IGQubG93LCBIID0gZy5oaWdoLCBDID0gZy5sb3csIEIgPSBTLmhpZ2gsIE8gPSBTLmxvdywgaiA9IGIuaGlnaCwgZmUgPSBiLmxvdywgWiA9IEQsIFggPSBBLCByZSA9IEksIG5lID0gbSwgaGUgPSBFLCBzZSA9IHcsIGtlID0geCwgY2UgPSBGLCBNID0gUCwgRyA9IFQsIFEgPSBILCBlZSA9IEMsIHBlID0gQiwgdGUgPSBPLCBNZSA9IGosIE5lID0gZmUsIHhlID0gMDsgODAgPiB4ZTsgeGUrKykge1xuICAgICAgdmFyIENlID0gdVt4ZV07XG4gICAgICBpZiAoMTYgPiB4ZSkgdmFyIHllID0gQ2UuaGlnaCA9IGNbeSArIDIgKiB4ZV0gfCAwLCBVID0gQ2UubG93ID0gY1t5ICsgMiAqIHhlICsgMV0gfCAwO1xuICAgICAgZWxzZSB7XG4gICAgICAgIHZhciB5ZSA9IHVbeGUgLSAxNV0sIFUgPSB5ZS5oaWdoLCBGZSA9IHllLmxvdywgeWUgPSAoVSA+Pj4gMSB8IEZlIDw8IDMxKSBeIChVID4+PiA4IHwgRmUgPDwgMjQpIF4gVSA+Pj4gNywgRmUgPSAoRmUgPj4+IDEgfCBVIDw8IDMxKSBeIChGZSA+Pj4gOCB8IFUgPDwgMjQpIF4gKEZlID4+PiA3IHwgVSA8PCAyNSksIEhlID0gdVt4ZSAtIDJdLCBVID0gSGUuaGlnaCwgJCA9IEhlLmxvdywgSGUgPSAoVSA+Pj4gMTkgfCAkIDw8IDEzKSBeIChVIDw8IDMgfCAkID4+PiAyOSkgXiBVID4+PiA2LCAkID0gKCQgPj4+IDE5IHwgVSA8PCAxMykgXiAoJCA8PCAzIHwgVSA+Pj4gMjkpIF4gKCQgPj4+IDYgfCBVIDw8IDI2KSwgVSA9IHVbeGUgLSA3XSwgUWUgPSBVLmhpZ2gsIEllID0gdVt4ZSAtIDE2XSwgYmUgPSBJZS5oaWdoLCBJZSA9IEllLmxvdywgVSA9IEZlICsgVS5sb3csIHllID0geWUgKyBRZSArIChVID4+PiAwIDwgRmUgPj4+IDAgPyAxIDogMCksIFUgPSBVICsgJCwgeWUgPSB5ZSArIEhlICsgKFUgPj4+IDAgPCAkID4+PiAwID8gMSA6IDApLCBVID0gVSArIEllLCB5ZSA9IHllICsgYmUgKyAoVSA+Pj4gMCA8IEllID4+PiAwID8gMSA6IDApO1xuICAgICAgICBDZS5oaWdoID0geWUsIENlLmxvdyA9IFU7XG4gICAgICB9XG4gICAgICB2YXIgUWUgPSBNICYgUSBeIH5NICYgcGUsIEllID0gRyAmIGVlIF4gfkcgJiB0ZSwgQ2UgPSBaICYgcmUgXiBaICYgaGUgXiByZSAmIGhlLCBLdCA9IFggJiBuZSBeIFggJiBzZSBeIG5lICYgc2UsIEZlID0gKFogPj4+IDI4IHwgWCA8PCA0KSBeIChaIDw8IDMwIHwgWCA+Pj4gMikgXiAoWiA8PCAyNSB8IFggPj4+IDcpLCBIZSA9IChYID4+PiAyOCB8IFogPDwgNCkgXiAoWCA8PCAzMCB8IFogPj4+IDIpIF4gKFggPDwgMjUgfCBaID4+PiA3KSwgJCA9IGhbeGVdLCBMdCA9ICQuaGlnaCwgY3QgPSAkLmxvdywgJCA9IE5lICsgKChHID4+PiAxNCB8IE0gPDwgMTgpIF4gKEcgPj4+IDE4IHwgTSA8PCAxNCkgXiAoRyA8PCAyMyB8IE0gPj4+IDkpKSwgYmUgPSBNZSArICgoTSA+Pj4gMTQgfCBHIDw8IDE4KSBeIChNID4+PiAxOCB8IEcgPDwgMTQpIF4gKE0gPDwgMjMgfCBHID4+PiA5KSkgKyAoJCA+Pj4gMCA8IE5lID4+PiAwID8gMSA6IDApLCAkID0gJCArIEllLCBiZSA9IGJlICsgUWUgKyAoJCA+Pj4gMCA8IEllID4+PiAwID8gMSA6IDApLCAkID0gJCArIGN0LCBiZSA9IGJlICsgTHQgKyAoJCA+Pj4gMCA8IGN0ID4+PiAwID8gMSA6IDApLCAkID0gJCArIFUsIGJlID0gYmUgKyB5ZSArICgkID4+PiAwIDwgVSA+Pj4gMCA/IDEgOiAwKSwgVSA9IEhlICsgS3QsIENlID0gRmUgKyBDZSArIChVID4+PiAwIDwgSGUgPj4+IDAgPyAxIDogMCksIE1lID0gcGUsIE5lID0gdGUsIHBlID0gUSwgdGUgPSBlZSwgUSA9IE0sIGVlID0gRywgRyA9IGNlICsgJCB8IDAsIE0gPSBrZSArIGJlICsgKEcgPj4+IDAgPCBjZSA+Pj4gMCA/IDEgOiAwKSB8IDAsIGtlID0gaGUsIGNlID0gc2UsIGhlID0gcmUsIHNlID0gbmUsIHJlID0gWiwgbmUgPSBYLCBYID0gJCArIFUgfCAwLCBaID0gYmUgKyBDZSArIChYID4+PiAwIDwgJCA+Pj4gMCA/IDEgOiAwKSB8IDA7XG4gICAgfVxuICAgIEEgPSB2LmxvdyA9IEEgKyBYLCB2LmhpZ2ggPSBEICsgWiArIChBID4+PiAwIDwgWCA+Pj4gMCA/IDEgOiAwKSwgbSA9IG8ubG93ID0gbSArIG5lLCBvLmhpZ2ggPSBJICsgcmUgKyAobSA+Pj4gMCA8IG5lID4+PiAwID8gMSA6IDApLCB3ID0gbC5sb3cgPSB3ICsgc2UsIGwuaGlnaCA9IEUgKyBoZSArICh3ID4+PiAwIDwgc2UgPj4+IDAgPyAxIDogMCksIEYgPSBmLmxvdyA9IEYgKyBjZSwgZi5oaWdoID0geCArIGtlICsgKEYgPj4+IDAgPCBjZSA+Pj4gMCA/IDEgOiAwKSwgVCA9IGQubG93ID0gVCArIEcsIGQuaGlnaCA9IFAgKyBNICsgKFQgPj4+IDAgPCBHID4+PiAwID8gMSA6IDApLCBDID0gZy5sb3cgPSBDICsgZWUsIGcuaGlnaCA9IEggKyBRICsgKEMgPj4+IDAgPCBlZSA+Pj4gMCA/IDEgOiAwKSwgTyA9IFMubG93ID0gTyArIHRlLCBTLmhpZ2ggPSBCICsgcGUgKyAoTyA+Pj4gMCA8IHRlID4+PiAwID8gMSA6IDApLCBmZSA9IGIubG93ID0gZmUgKyBOZSwgYi5oaWdoID0gaiArIE1lICsgKGZlID4+PiAwIDwgTmUgPj4+IDAgPyAxIDogMCk7XG4gIH0sIF9kb0ZpbmFsaXplOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgYyA9IHRoaXMuX2RhdGEsIHkgPSBjLndvcmRzLCB2ID0gOCAqIHRoaXMuX25EYXRhQnl0ZXMsIG8gPSA4ICogYy5zaWdCeXRlcztcbiAgICByZXR1cm4geVtvID4+PiA1XSB8PSAxMjggPDwgMjQgLSBvICUgMzIsIHlbKG8gKyAxMjggPj4+IDEwIDw8IDUpICsgMzBdID0gTWF0aC5mbG9vcih2IC8gNDI5NDk2NzI5NiksIHlbKG8gKyAxMjggPj4+IDEwIDw8IDUpICsgMzFdID0gdiwgYy5zaWdCeXRlcyA9IDQgKiB5Lmxlbmd0aCwgdGhpcy5fcHJvY2VzcygpLCB0aGlzLl9oYXNoLnRvWDMyKCk7XG4gIH0sIGNsb25lOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgYyA9IHIuY2xvbmUuY2FsbCh0aGlzKTtcbiAgICByZXR1cm4gYy5faGFzaCA9IHRoaXMuX2hhc2guY2xvbmUoKSwgYztcbiAgfSwgYmxvY2tTaXplOiAzMiB9KSwgdC5TSEE1MTIgPSByLl9jcmVhdGVIZWxwZXIobiksIHQuSG1hY1NIQTUxMiA9IHIuX2NyZWF0ZUhtYWNIZWxwZXIobik7XG59KSgpO1xuKGZ1bmN0aW9uKCkge1xuICB2YXIgZSA9IEssIHMgPSBlLng2NCwgdCA9IHMuV29yZCwgciA9IHMuV29yZEFycmF5LCBzID0gZS5hbGdvLCBpID0gcy5TSEE1MTIsIHMgPSBzLlNIQTM4NCA9IGkuZXh0ZW5kKHsgX2RvUmVzZXQ6IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuX2hhc2ggPSBuZXcgci5pbml0KFtuZXcgdC5pbml0KDM0MTgwNzAzNjUsIDMyMzgzNzEwMzIpLCBuZXcgdC5pbml0KDE2NTQyNzAyNTAsIDkxNDE1MDY2MyksIG5ldyB0LmluaXQoMjQzODUyOTM3MCwgODEyNzAyOTk5KSwgbmV3IHQuaW5pdCgzNTU0NjIzNjAsIDQxNDQ5MTI2OTcpLCBuZXcgdC5pbml0KDE3MzE0MDU0MTUsIDQyOTA3NzU4NTcpLCBuZXcgdC5pbml0KDIzOTQxODAyMzEsIDE3NTA2MDMwMjUpLCBuZXcgdC5pbml0KDM2NzUwMDg1MjUsIDE2OTQwNzY4MzkpLCBuZXcgdC5pbml0KDEyMDMwNjI4MTMsIDMyMDQwNzU0MjgpXSk7XG4gIH0sIF9kb0ZpbmFsaXplOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgbiA9IGkuX2RvRmluYWxpemUuY2FsbCh0aGlzKTtcbiAgICByZXR1cm4gbi5zaWdCeXRlcyAtPSAxNiwgbjtcbiAgfSB9KTtcbiAgZS5TSEEzODQgPSBpLl9jcmVhdGVIZWxwZXIocyksIGUuSG1hY1NIQTM4NCA9IGkuX2NyZWF0ZUhtYWNIZWxwZXIocyk7XG59KSgpO1xuKGZ1bmN0aW9uKCkge1xuICB2YXIgZSA9IEssIGMgPSBlLmxpYiwgdCA9IGMuV29yZEFycmF5LCByID0gYy5IYXNoZXIsIGMgPSBlLmFsZ28sIGkgPSB0LmNyZWF0ZShbMCwgMSwgMiwgMywgNCwgNSwgNiwgNywgOCwgOSwgMTAsIDExLCAxMiwgMTMsIDE0LCAxNSwgNywgNCwgMTMsIDEsIDEwLCA2LCAxNSwgMywgMTIsIDAsIDksIDUsIDIsIDE0LCAxMSwgOCwgMywgMTAsIDE0LCA0LCA5LCAxNSwgOCwgMSwgMiwgNywgMCwgNiwgMTMsIDExLCA1LCAxMiwgMSwgOSwgMTEsIDEwLCAwLCA4LCAxMiwgNCwgMTMsIDMsIDcsIDE1LCAxNCwgNSwgNiwgMiwgNCwgMCwgNSwgOSwgNywgMTIsIDIsIDEwLCAxNCwgMSwgMywgOCwgMTEsIDYsIDE1LCAxM10pLCBzID0gdC5jcmVhdGUoWzUsIDE0LCA3LCAwLCA5LCAyLCAxMSwgNCwgMTMsIDYsIDE1LCA4LCAxLCAxMCwgMywgMTIsIDYsIDExLCAzLCA3LCAwLCAxMywgNSwgMTAsIDE0LCAxNSwgOCwgMTIsIDQsIDksIDEsIDIsIDE1LCA1LCAxLCAzLCA3LCAxNCwgNiwgOSwgMTEsIDgsIDEyLCAyLCAxMCwgMCwgNCwgMTMsIDgsIDYsIDQsIDEsIDMsIDExLCAxNSwgMCwgNSwgMTIsIDIsIDEzLCA5LCA3LCAxMCwgMTQsIDEyLCAxNSwgMTAsIDQsIDEsIDUsIDgsIDcsIDYsIDIsIDEzLCAxNCwgMCwgMywgOSwgMTFdKSwgbiA9IHQuY3JlYXRlKFtcbiAgICAxMSxcbiAgICAxNCxcbiAgICAxNSxcbiAgICAxMixcbiAgICA1LFxuICAgIDgsXG4gICAgNyxcbiAgICA5LFxuICAgIDExLFxuICAgIDEzLFxuICAgIDE0LFxuICAgIDE1LFxuICAgIDYsXG4gICAgNyxcbiAgICA5LFxuICAgIDgsXG4gICAgNyxcbiAgICA2LFxuICAgIDgsXG4gICAgMTMsXG4gICAgMTEsXG4gICAgOSxcbiAgICA3LFxuICAgIDE1LFxuICAgIDcsXG4gICAgMTIsXG4gICAgMTUsXG4gICAgOSxcbiAgICAxMSxcbiAgICA3LFxuICAgIDEzLFxuICAgIDEyLFxuICAgIDExLFxuICAgIDEzLFxuICAgIDYsXG4gICAgNyxcbiAgICAxNCxcbiAgICA5LFxuICAgIDEzLFxuICAgIDE1LFxuICAgIDE0LFxuICAgIDgsXG4gICAgMTMsXG4gICAgNixcbiAgICA1LFxuICAgIDEyLFxuICAgIDcsXG4gICAgNSxcbiAgICAxMSxcbiAgICAxMixcbiAgICAxNCxcbiAgICAxNSxcbiAgICAxNCxcbiAgICAxNSxcbiAgICA5LFxuICAgIDgsXG4gICAgOSxcbiAgICAxNCxcbiAgICA1LFxuICAgIDYsXG4gICAgOCxcbiAgICA2LFxuICAgIDUsXG4gICAgMTIsXG4gICAgOSxcbiAgICAxNSxcbiAgICA1LFxuICAgIDExLFxuICAgIDYsXG4gICAgOCxcbiAgICAxMyxcbiAgICAxMixcbiAgICA1LFxuICAgIDEyLFxuICAgIDEzLFxuICAgIDE0LFxuICAgIDExLFxuICAgIDgsXG4gICAgNSxcbiAgICA2XG4gIF0pLCBoID0gdC5jcmVhdGUoWzgsIDksIDksIDExLCAxMywgMTUsIDE1LCA1LCA3LCA3LCA4LCAxMSwgMTQsIDE0LCAxMiwgNiwgOSwgMTMsIDE1LCA3LCAxMiwgOCwgOSwgMTEsIDcsIDcsIDEyLCA3LCA2LCAxNSwgMTMsIDExLCA5LCA3LCAxNSwgMTEsIDgsIDYsIDYsIDE0LCAxMiwgMTMsIDUsIDE0LCAxMywgMTMsIDcsIDUsIDE1LCA1LCA4LCAxMSwgMTQsIDE0LCA2LCAxNCwgNiwgOSwgMTIsIDksIDEyLCA1LCAxNSwgOCwgOCwgNSwgMTIsIDksIDEyLCA1LCAxNCwgNiwgOCwgMTMsIDYsIDUsIDE1LCAxMywgMTEsIDExXSksIHUgPSB0LmNyZWF0ZShbMCwgMTUxODUwMDI0OSwgMTg1OTc3NTM5MywgMjQwMDk1OTcwOCwgMjg0MDg1MzgzOF0pLCBwID0gdC5jcmVhdGUoW1xuICAgIDEzNTI4Mjk5MjYsXG4gICAgMTU0ODYwMzY4NCxcbiAgICAxODM2MDcyNjkxLFxuICAgIDIwNTM5OTQyMTcsXG4gICAgMFxuICBdKSwgYyA9IGMuUklQRU1EMTYwID0gci5leHRlbmQoeyBfZG9SZXNldDogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5faGFzaCA9IHQuY3JlYXRlKFsxNzMyNTg0MTkzLCA0MDIzMjMzNDE3LCAyNTYyMzgzMTAyLCAyNzE3MzM4NzgsIDMyODUzNzc1MjBdKTtcbiAgfSwgX2RvUHJvY2Vzc0Jsb2NrOiBmdW5jdGlvbih5LCB2KSB7XG4gICAgZm9yICh2YXIgbyA9IDA7IDE2ID4gbzsgbysrKSB7XG4gICAgICB2YXIgbCA9IHYgKyBvLCBmID0geVtsXTtcbiAgICAgIHlbbF0gPSAoZiA8PCA4IHwgZiA+Pj4gMjQpICYgMTY3MTE5MzUgfCAoZiA8PCAyNCB8IGYgPj4+IDgpICYgNDI3ODI1NTM2MDtcbiAgICB9XG4gICAgdmFyIGwgPSB0aGlzLl9oYXNoLndvcmRzLCBmID0gdS53b3JkcywgZCA9IHAud29yZHMsIGcgPSBpLndvcmRzLCBTID0gcy53b3JkcywgYiA9IG4ud29yZHMsIEQgPSBoLndvcmRzLCBBLCBJLCBtLCBFLCB3LCB4LCBGLCBQLCBULCBIO1xuICAgIHggPSBBID0gbFswXSwgRiA9IEkgPSBsWzFdLCBQID0gbSA9IGxbMl0sIFQgPSBFID0gbFszXSwgSCA9IHcgPSBsWzRdO1xuICAgIGZvciAodmFyIEMsIG8gPSAwOyA4MCA+IG87IG8gKz0gMSkgQyA9IEEgKyB5W3YgKyBnW29dXSB8IDAsIEMgPSAxNiA+IG8gPyBDICsgKChJIF4gbSBeIEUpICsgZlswXSkgOiAzMiA+IG8gPyBDICsgKChJICYgbSB8IH5JICYgRSkgKyBmWzFdKSA6IDQ4ID4gbyA/IEMgKyAoKChJIHwgfm0pIF4gRSkgKyBmWzJdKSA6IDY0ID4gbyA/IEMgKyAoKEkgJiBFIHwgbSAmIH5FKSArIGZbM10pIDogQyArICgoSSBeIChtIHwgfkUpKSArIGZbNF0pLCBDIHw9IDAsIEMgPSBDIDw8IGJbb10gfCBDID4+PiAzMiAtIGJbb10sIEMgPSBDICsgdyB8IDAsIEEgPSB3LCB3ID0gRSwgRSA9IG0gPDwgMTAgfCBtID4+PiAyMiwgbSA9IEksIEkgPSBDLCBDID0geCArIHlbdiArIFNbb11dIHwgMCwgQyA9IDE2ID4gbyA/IEMgKyAoKEYgXiAoUCB8IH5UKSkgKyBkWzBdKSA6IDMyID4gbyA/IEMgKyAoKEYgJiBUIHwgUCAmIH5UKSArIGRbMV0pIDogNDggPiBvID8gQyArICgoKEYgfCB+UCkgXiBUKSArIGRbMl0pIDogNjQgPiBvID8gQyArICgoRiAmIFAgfCB+RiAmIFQpICsgZFszXSkgOiBDICsgKChGIF4gUCBeIFQpICsgZFs0XSksIEMgfD0gMCwgQyA9IEMgPDwgRFtvXSB8IEMgPj4+IDMyIC0gRFtvXSwgQyA9IEMgKyBIIHwgMCwgeCA9IEgsIEggPSBULCBUID0gUCA8PCAxMCB8IFAgPj4+IDIyLCBQID0gRiwgRiA9IEM7XG4gICAgQyA9IGxbMV0gKyBtICsgVCB8IDAsIGxbMV0gPSBsWzJdICsgRSArIEggfCAwLCBsWzJdID0gbFszXSArIHcgKyB4IHwgMCwgbFszXSA9IGxbNF0gKyBBICsgRiB8IDAsIGxbNF0gPSBsWzBdICsgSSArIFAgfCAwLCBsWzBdID0gQztcbiAgfSwgX2RvRmluYWxpemU6IGZ1bmN0aW9uKCkge1xuICAgIHZhciB5ID0gdGhpcy5fZGF0YSwgdiA9IHkud29yZHMsIG8gPSA4ICogdGhpcy5fbkRhdGFCeXRlcywgbCA9IDggKiB5LnNpZ0J5dGVzO1xuICAgIGZvciAodltsID4+PiA1XSB8PSAxMjggPDwgMjQgLSBsICUgMzIsIHZbKGwgKyA2NCA+Pj4gOSA8PCA0KSArIDE0XSA9IChvIDw8IDggfCBvID4+PiAyNCkgJiAxNjcxMTkzNSB8IChvIDw8IDI0IHwgbyA+Pj4gOCkgJiA0Mjc4MjU1MzYwLCB5LnNpZ0J5dGVzID0gNCAqICh2Lmxlbmd0aCArIDEpLCB0aGlzLl9wcm9jZXNzKCksIHkgPSB0aGlzLl9oYXNoLCB2ID0geS53b3JkcywgbyA9IDA7IDUgPiBvOyBvKyspIGwgPSB2W29dLCB2W29dID0gKGwgPDwgOCB8IGwgPj4+IDI0KSAmIDE2NzExOTM1IHwgKGwgPDwgMjQgfCBsID4+PiA4KSAmIDQyNzgyNTUzNjA7XG4gICAgcmV0dXJuIHk7XG4gIH0sIGNsb25lOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgeSA9IHIuY2xvbmUuY2FsbCh0aGlzKTtcbiAgICByZXR1cm4geS5faGFzaCA9IHRoaXMuX2hhc2guY2xvbmUoKSwgeTtcbiAgfSB9KTtcbiAgZS5SSVBFTUQxNjAgPSByLl9jcmVhdGVIZWxwZXIoYyksIGUuSG1hY1JJUEVNRDE2MCA9IHIuX2NyZWF0ZUhtYWNIZWxwZXIoYyk7XG59KSgpO1xuKGZ1bmN0aW9uKCkge1xuICB2YXIgZSA9IEssIHQgPSBlLmVuYy5VdGY4O1xuICBlLmFsZ28uSE1BQyA9IGUubGliLkJhc2UuZXh0ZW5kKHsgaW5pdDogZnVuY3Rpb24ociwgaSkge1xuICAgIHIgPSB0aGlzLl9oYXNoZXIgPSBuZXcgci5pbml0KCksIHR5cGVvZiBpID09IFwic3RyaW5nXCIgJiYgKGkgPSB0LnBhcnNlKGkpKTtcbiAgICB2YXIgcyA9IHIuYmxvY2tTaXplLCBuID0gNCAqIHM7XG4gICAgaS5zaWdCeXRlcyA+IG4gJiYgKGkgPSByLmZpbmFsaXplKGkpKSwgaS5jbGFtcCgpO1xuICAgIGZvciAodmFyIGggPSB0aGlzLl9vS2V5ID0gaS5jbG9uZSgpLCB1ID0gdGhpcy5faUtleSA9IGkuY2xvbmUoKSwgcCA9IGgud29yZHMsIGMgPSB1LndvcmRzLCB5ID0gMDsgeSA8IHM7IHkrKykgcFt5XSBePSAxNTQ5NTU2ODI4LCBjW3ldIF49IDkwOTUyMjQ4NjtcbiAgICBoLnNpZ0J5dGVzID0gdS5zaWdCeXRlcyA9IG4sIHRoaXMucmVzZXQoKTtcbiAgfSwgcmVzZXQ6IGZ1bmN0aW9uKCkge1xuICAgIHZhciByID0gdGhpcy5faGFzaGVyO1xuICAgIHIucmVzZXQoKSwgci51cGRhdGUodGhpcy5faUtleSk7XG4gIH0sIHVwZGF0ZTogZnVuY3Rpb24ocikge1xuICAgIHJldHVybiB0aGlzLl9oYXNoZXIudXBkYXRlKHIpLCB0aGlzO1xuICB9LCBmaW5hbGl6ZTogZnVuY3Rpb24ocikge1xuICAgIHZhciBpID0gdGhpcy5faGFzaGVyO1xuICAgIHJldHVybiByID0gaS5maW5hbGl6ZShyKSwgaS5yZXNldCgpLCBpLmZpbmFsaXplKHRoaXMuX29LZXkuY2xvbmUoKS5jb25jYXQocikpO1xuICB9IH0pO1xufSkoKTtcbihmdW5jdGlvbigpIHtcbiAgdmFyIGUgPSBLLCBpID0gZS5saWIsIHQgPSBpLkJhc2UsIHIgPSBpLldvcmRBcnJheSwgaSA9IGUuYWxnbywgcyA9IGkuSE1BQywgbiA9IGkuUEJLREYyID0gdC5leHRlbmQoeyBjZmc6IHQuZXh0ZW5kKHsga2V5U2l6ZTogNCwgaGFzaGVyOiBpLlNIQTEsIGl0ZXJhdGlvbnM6IDEgfSksIGluaXQ6IGZ1bmN0aW9uKGgpIHtcbiAgICB0aGlzLmNmZyA9IHRoaXMuY2ZnLmV4dGVuZChoKTtcbiAgfSwgY29tcHV0ZTogZnVuY3Rpb24oaCwgdSkge1xuICAgIGZvciAodmFyIGYgPSB0aGlzLmNmZywgcCA9IHMuY3JlYXRlKGYuaGFzaGVyLCBoKSwgYyA9IHIuY3JlYXRlKCksIHkgPSByLmNyZWF0ZShbMV0pLCB2ID0gYy53b3JkcywgbyA9IHkud29yZHMsIGwgPSBmLmtleVNpemUsIGYgPSBmLml0ZXJhdGlvbnM7IHYubGVuZ3RoIDwgbDsgKSB7XG4gICAgICB2YXIgZCA9IHAudXBkYXRlKHUpLmZpbmFsaXplKHkpO1xuICAgICAgcC5yZXNldCgpO1xuICAgICAgZm9yICh2YXIgZyA9IGQud29yZHMsIFMgPSBnLmxlbmd0aCwgYiA9IGQsIEQgPSAxOyBEIDwgZjsgRCsrKSB7XG4gICAgICAgIGIgPSBwLmZpbmFsaXplKGIpLCBwLnJlc2V0KCk7XG4gICAgICAgIGZvciAodmFyIEEgPSBiLndvcmRzLCBJID0gMDsgSSA8IFM7IEkrKykgZ1tJXSBePSBBW0ldO1xuICAgICAgfVxuICAgICAgYy5jb25jYXQoZCksIG9bMF0rKztcbiAgICB9XG4gICAgcmV0dXJuIGMuc2lnQnl0ZXMgPSA0ICogbCwgYztcbiAgfSB9KTtcbiAgZS5QQktERjIgPSBmdW5jdGlvbihoLCB1LCBwKSB7XG4gICAgcmV0dXJuIG4uY3JlYXRlKHApLmNvbXB1dGUoaCwgdSk7XG4gIH07XG59KSgpO1xuLyohIChjKSBUb20gV3UgfCBodHRwOi8vd3d3LWNzLXN0dWRlbnRzLnN0YW5mb3JkLmVkdS9+dGp3L2pzYm4vXG4gKi9cbnZhciBLZSA9IFwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrL1wiLCBFdCA9IFwiPVwiO1xuZnVuY3Rpb24gX2UoZSkge1xuICB2YXIgdCwgciwgaSA9IFwiXCI7XG4gIGZvciAodCA9IDA7IHQgKyAzIDw9IGUubGVuZ3RoOyB0ICs9IDMpXG4gICAgciA9IHBhcnNlSW50KGUuc3Vic3RyaW5nKHQsIHQgKyAzKSwgMTYpLCBpICs9IEtlLmNoYXJBdChyID4+IDYpICsgS2UuY2hhckF0KHIgJiA2Myk7XG4gIGZvciAodCArIDEgPT0gZS5sZW5ndGggPyAociA9IHBhcnNlSW50KGUuc3Vic3RyaW5nKHQsIHQgKyAxKSwgMTYpLCBpICs9IEtlLmNoYXJBdChyIDw8IDIpKSA6IHQgKyAyID09IGUubGVuZ3RoICYmIChyID0gcGFyc2VJbnQoZS5zdWJzdHJpbmcodCwgdCArIDIpLCAxNiksIGkgKz0gS2UuY2hhckF0KHIgPj4gMikgKyBLZS5jaGFyQXQoKHIgJiAzKSA8PCA0KSk7IChpLmxlbmd0aCAmIDMpID4gMDsgKVxuICAgIGkgKz0gRXQ7XG4gIHJldHVybiBpO1xufVxuZnVuY3Rpb24gaXQoZSkge1xuICB2YXIgdCA9IFwiXCIsIHIsIGkgPSAwLCBzLCBuO1xuICBmb3IgKHIgPSAwOyByIDwgZS5sZW5ndGggJiYgZS5jaGFyQXQocikgIT0gRXQ7ICsrcilcbiAgICBuID0gS2UuaW5kZXhPZihlLmNoYXJBdChyKSksICEobiA8IDApICYmIChpID09IDAgPyAodCArPSBEZShuID4+IDIpLCBzID0gbiAmIDMsIGkgPSAxKSA6IGkgPT0gMSA/ICh0ICs9IERlKHMgPDwgMiB8IG4gPj4gNCksIHMgPSBuICYgMTUsIGkgPSAyKSA6IGkgPT0gMiA/ICh0ICs9IERlKHMpLCB0ICs9IERlKG4gPj4gMiksIHMgPSBuICYgMywgaSA9IDMpIDogKHQgKz0gRGUocyA8PCAyIHwgbiA+PiA0KSwgdCArPSBEZShuICYgMTUpLCBpID0gMCkpO1xuICByZXR1cm4gaSA9PSAxICYmICh0ICs9IERlKHMgPDwgMikpLCB0O1xufVxuLyohIChjKSBUb20gV3UgfCBodHRwOi8vd3d3LWNzLXN0dWRlbnRzLnN0YW5mb3JkLmVkdS9+dGp3L2pzYm4vXG4qL1xudmFyIFRlO1xuZnVuY3Rpb24gUihlLCB0LCByKSB7XG4gIGUgIT0gbnVsbCAmJiAodHlwZW9mIGUgPT0gXCJudW1iZXJcIiA/IHRoaXMuZnJvbU51bWJlcihlLCB0LCByKSA6IHQgPT0gbnVsbCAmJiB0eXBlb2YgZSAhPSBcInN0cmluZ1wiID8gdGhpcy5mcm9tU3RyaW5nKGUsIDI1NikgOiB0aGlzLmZyb21TdHJpbmcoZSwgdCkpO1xufVxuZnVuY3Rpb24gXygpIHtcbiAgcmV0dXJuIG5ldyBSKG51bGwpO1xufVxuZnVuY3Rpb24gcXQoZSwgdCwgciwgaSwgcywgbikge1xuICBmb3IgKDsgLS1uID49IDA7ICkge1xuICAgIHZhciBoID0gdCAqIHRoaXNbZSsrXSArIHJbaV0gKyBzO1xuICAgIHMgPSBNYXRoLmZsb29yKGggLyA2NzEwODg2NCksIHJbaSsrXSA9IGggJiA2NzEwODg2MztcbiAgfVxuICByZXR1cm4gcztcbn1cbmZ1bmN0aW9uIGt0KGUsIHQsIHIsIGksIHMsIG4pIHtcbiAgZm9yICh2YXIgaCA9IHQgJiAzMjc2NywgdSA9IHQgPj4gMTU7IC0tbiA+PSAwOyApIHtcbiAgICB2YXIgcCA9IHRoaXNbZV0gJiAzMjc2NywgYyA9IHRoaXNbZSsrXSA+PiAxNSwgeSA9IHUgKiBwICsgYyAqIGg7XG4gICAgcCA9IGggKiBwICsgKCh5ICYgMzI3NjcpIDw8IDE1KSArIHJbaV0gKyAocyAmIDEwNzM3NDE4MjMpLCBzID0gKHAgPj4+IDMwKSArICh5ID4+PiAxNSkgKyB1ICogYyArIChzID4+PiAzMCksIHJbaSsrXSA9IHAgJiAxMDczNzQxODIzO1xuICB9XG4gIHJldHVybiBzO1xufVxuZnVuY3Rpb24gTXQoZSwgdCwgciwgaSwgcywgbikge1xuICBmb3IgKHZhciBoID0gdCAmIDE2MzgzLCB1ID0gdCA+PiAxNDsgLS1uID49IDA7ICkge1xuICAgIHZhciBwID0gdGhpc1tlXSAmIDE2MzgzLCBjID0gdGhpc1tlKytdID4+IDE0LCB5ID0gdSAqIHAgKyBjICogaDtcbiAgICBwID0gaCAqIHAgKyAoKHkgJiAxNjM4MykgPDwgMTQpICsgcltpXSArIHMsIHMgPSAocCA+PiAyOCkgKyAoeSA+PiAxNCkgKyB1ICogYywgcltpKytdID0gcCAmIDI2ODQzNTQ1NTtcbiAgfVxuICByZXR1cm4gcztcbn1cblVlLmFwcE5hbWUgPT0gXCJNaWNyb3NvZnQgSW50ZXJuZXQgRXhwbG9yZXJcIiA/IChSLnByb3RvdHlwZS5hbSA9IGt0LCBUZSA9IDMwKSA6IFVlLmFwcE5hbWUgIT0gXCJOZXRzY2FwZVwiID8gKFIucHJvdG90eXBlLmFtID0gcXQsIFRlID0gMjYpIDogKFIucHJvdG90eXBlLmFtID0gTXQsIFRlID0gMjgpO1xuUi5wcm90b3R5cGUuREIgPSBUZTtcblIucHJvdG90eXBlLkRNID0gKDEgPDwgVGUpIC0gMTtcblIucHJvdG90eXBlLkRWID0gMSA8PCBUZTtcbnZhciBudCA9IDUyO1xuUi5wcm90b3R5cGUuRlYgPSBNYXRoLnBvdygyLCBudCk7XG5SLnByb3RvdHlwZS5GMSA9IG50IC0gVGU7XG5SLnByb3RvdHlwZS5GMiA9IDIgKiBUZSAtIG50O1xudmFyIF90ID0gXCIwMTIzNDU2Nzg5YWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXpcIiwgJGUgPSBuZXcgQXJyYXkoKSwgTGUsIG1lO1xuTGUgPSA0ODtcbmZvciAobWUgPSAwOyBtZSA8PSA5OyArK21lKVxuICAkZVtMZSsrXSA9IG1lO1xuTGUgPSA5NztcbmZvciAobWUgPSAxMDsgbWUgPCAzNjsgKyttZSlcbiAgJGVbTGUrK10gPSBtZTtcbkxlID0gNjU7XG5mb3IgKG1lID0gMTA7IG1lIDwgMzY7ICsrbWUpXG4gICRlW0xlKytdID0gbWU7XG5mdW5jdGlvbiBEZShlKSB7XG4gIHJldHVybiBfdC5jaGFyQXQoZSk7XG59XG5mdW5jdGlvbiB3dChlLCB0KSB7XG4gIHZhciByID0gJGVbZS5jaGFyQ29kZUF0KHQpXTtcbiAgcmV0dXJuIHIgPz8gLTE7XG59XG5mdW5jdGlvbiBVdChlKSB7XG4gIGZvciAodmFyIHQgPSB0aGlzLnQgLSAxOyB0ID49IDA7IC0tdClcbiAgICBlW3RdID0gdGhpc1t0XTtcbiAgZS50ID0gdGhpcy50LCBlLnMgPSB0aGlzLnM7XG59XG5mdW5jdGlvbiB6dChlKSB7XG4gIHRoaXMudCA9IDEsIHRoaXMucyA9IGUgPCAwID8gLTEgOiAwLCBlID4gMCA/IHRoaXNbMF0gPSBlIDogZSA8IC0xID8gdGhpc1swXSA9IGUgKyB0aGlzLkRWIDogdGhpcy50ID0gMDtcbn1cbmZ1bmN0aW9uIFJlKGUpIHtcbiAgdmFyIHQgPSBfKCk7XG4gIHJldHVybiB0LmZyb21JbnQoZSksIHQ7XG59XG5mdW5jdGlvbiBHdChlLCB0KSB7XG4gIHZhciByO1xuICBpZiAodCA9PSAxNilcbiAgICByID0gNDtcbiAgZWxzZSBpZiAodCA9PSA4KVxuICAgIHIgPSAzO1xuICBlbHNlIGlmICh0ID09IDI1NilcbiAgICByID0gODtcbiAgZWxzZSBpZiAodCA9PSAyKVxuICAgIHIgPSAxO1xuICBlbHNlIGlmICh0ID09IDMyKVxuICAgIHIgPSA1O1xuICBlbHNlIGlmICh0ID09IDQpXG4gICAgciA9IDI7XG4gIGVsc2Uge1xuICAgIHRoaXMuZnJvbVJhZGl4KGUsIHQpO1xuICAgIHJldHVybjtcbiAgfVxuICB0aGlzLnQgPSAwLCB0aGlzLnMgPSAwO1xuICBmb3IgKHZhciBpID0gZS5sZW5ndGgsIHMgPSAhMSwgbiA9IDA7IC0taSA+PSAwOyApIHtcbiAgICB2YXIgaCA9IHIgPT0gOCA/IGVbaV0gJiAyNTUgOiB3dChlLCBpKTtcbiAgICBpZiAoaCA8IDApIHtcbiAgICAgIGUuY2hhckF0KGkpID09IFwiLVwiICYmIChzID0gITApO1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIHMgPSAhMSwgbiA9PSAwID8gdGhpc1t0aGlzLnQrK10gPSBoIDogbiArIHIgPiB0aGlzLkRCID8gKHRoaXNbdGhpcy50IC0gMV0gfD0gKGggJiAoMSA8PCB0aGlzLkRCIC0gbikgLSAxKSA8PCBuLCB0aGlzW3RoaXMudCsrXSA9IGggPj4gdGhpcy5EQiAtIG4pIDogdGhpc1t0aGlzLnQgLSAxXSB8PSBoIDw8IG4sIG4gKz0gciwgbiA+PSB0aGlzLkRCICYmIChuIC09IHRoaXMuREIpO1xuICB9XG4gIHIgPT0gOCAmJiBlWzBdICYgMTI4ICYmICh0aGlzLnMgPSAtMSwgbiA+IDAgJiYgKHRoaXNbdGhpcy50IC0gMV0gfD0gKDEgPDwgdGhpcy5EQiAtIG4pIC0gMSA8PCBuKSksIHRoaXMuY2xhbXAoKSwgcyAmJiBSLlpFUk8uc3ViVG8odGhpcywgdGhpcyk7XG59XG5mdW5jdGlvbiBXdCgpIHtcbiAgZm9yICh2YXIgZSA9IHRoaXMucyAmIHRoaXMuRE07IHRoaXMudCA+IDAgJiYgdGhpc1t0aGlzLnQgLSAxXSA9PSBlOyApXG4gICAgLS10aGlzLnQ7XG59XG5mdW5jdGlvbiBYdChlKSB7XG4gIGlmICh0aGlzLnMgPCAwKVxuICAgIHJldHVybiBcIi1cIiArIHRoaXMubmVnYXRlKCkudG9TdHJpbmcoZSk7XG4gIHZhciB0O1xuICBpZiAoZSA9PSAxNilcbiAgICB0ID0gNDtcbiAgZWxzZSBpZiAoZSA9PSA4KVxuICAgIHQgPSAzO1xuICBlbHNlIGlmIChlID09IDIpXG4gICAgdCA9IDE7XG4gIGVsc2UgaWYgKGUgPT0gMzIpXG4gICAgdCA9IDU7XG4gIGVsc2UgaWYgKGUgPT0gNClcbiAgICB0ID0gMjtcbiAgZWxzZVxuICAgIHJldHVybiB0aGlzLnRvUmFkaXgoZSk7XG4gIHZhciByID0gKDEgPDwgdCkgLSAxLCBpLCBzID0gITEsIG4gPSBcIlwiLCBoID0gdGhpcy50LCB1ID0gdGhpcy5EQiAtIGggKiB0aGlzLkRCICUgdDtcbiAgaWYgKGgtLSA+IDApXG4gICAgZm9yICh1IDwgdGhpcy5EQiAmJiAoaSA9IHRoaXNbaF0gPj4gdSkgPiAwICYmIChzID0gITAsIG4gPSBEZShpKSk7IGggPj0gMDsgKVxuICAgICAgdSA8IHQgPyAoaSA9ICh0aGlzW2hdICYgKDEgPDwgdSkgLSAxKSA8PCB0IC0gdSwgaSB8PSB0aGlzWy0taF0gPj4gKHUgKz0gdGhpcy5EQiAtIHQpKSA6IChpID0gdGhpc1toXSA+PiAodSAtPSB0KSAmIHIsIHUgPD0gMCAmJiAodSArPSB0aGlzLkRCLCAtLWgpKSwgaSA+IDAgJiYgKHMgPSAhMCksIHMgJiYgKG4gKz0gRGUoaSkpO1xuICByZXR1cm4gcyA/IG4gOiBcIjBcIjtcbn1cbmZ1bmN0aW9uIEp0KCkge1xuICB2YXIgZSA9IF8oKTtcbiAgcmV0dXJuIFIuWkVSTy5zdWJUbyh0aGlzLCBlKSwgZTtcbn1cbmZ1bmN0aW9uICR0KCkge1xuICByZXR1cm4gdGhpcy5zIDwgMCA/IHRoaXMubmVnYXRlKCkgOiB0aGlzO1xufVxuZnVuY3Rpb24gWXQoZSkge1xuICB2YXIgdCA9IHRoaXMucyAtIGUucztcbiAgaWYgKHQgIT0gMClcbiAgICByZXR1cm4gdDtcbiAgdmFyIHIgPSB0aGlzLnQ7XG4gIGlmICh0ID0gciAtIGUudCwgdCAhPSAwKVxuICAgIHJldHVybiB0aGlzLnMgPCAwID8gLXQgOiB0O1xuICBmb3IgKDsgLS1yID49IDA7IClcbiAgICBpZiAoKHQgPSB0aGlzW3JdIC0gZVtyXSkgIT0gMClcbiAgICAgIHJldHVybiB0O1xuICByZXR1cm4gMDtcbn1cbmZ1bmN0aW9uIFllKGUpIHtcbiAgdmFyIHQgPSAxLCByO1xuICByZXR1cm4gKHIgPSBlID4+PiAxNikgIT0gMCAmJiAoZSA9IHIsIHQgKz0gMTYpLCAociA9IGUgPj4gOCkgIT0gMCAmJiAoZSA9IHIsIHQgKz0gOCksIChyID0gZSA+PiA0KSAhPSAwICYmIChlID0gciwgdCArPSA0KSwgKHIgPSBlID4+IDIpICE9IDAgJiYgKGUgPSByLCB0ICs9IDIpLCAociA9IGUgPj4gMSkgIT0gMCAmJiAoZSA9IHIsIHQgKz0gMSksIHQ7XG59XG5mdW5jdGlvbiBadCgpIHtcbiAgcmV0dXJuIHRoaXMudCA8PSAwID8gMCA6IHRoaXMuREIgKiAodGhpcy50IC0gMSkgKyBZZSh0aGlzW3RoaXMudCAtIDFdIF4gdGhpcy5zICYgdGhpcy5ETSk7XG59XG5mdW5jdGlvbiBRdChlLCB0KSB7XG4gIHZhciByO1xuICBmb3IgKHIgPSB0aGlzLnQgLSAxOyByID49IDA7IC0tcilcbiAgICB0W3IgKyBlXSA9IHRoaXNbcl07XG4gIGZvciAociA9IGUgLSAxOyByID49IDA7IC0tcilcbiAgICB0W3JdID0gMDtcbiAgdC50ID0gdGhpcy50ICsgZSwgdC5zID0gdGhpcy5zO1xufVxuZnVuY3Rpb24gZXIoZSwgdCkge1xuICBmb3IgKHZhciByID0gZTsgciA8IHRoaXMudDsgKytyKVxuICAgIHRbciAtIGVdID0gdGhpc1tyXTtcbiAgdC50ID0gTWF0aC5tYXgodGhpcy50IC0gZSwgMCksIHQucyA9IHRoaXMucztcbn1cbmZ1bmN0aW9uIHRyKGUsIHQpIHtcbiAgdmFyIHIgPSBlICUgdGhpcy5EQiwgaSA9IHRoaXMuREIgLSByLCBzID0gKDEgPDwgaSkgLSAxLCBuID0gTWF0aC5mbG9vcihlIC8gdGhpcy5EQiksIGggPSB0aGlzLnMgPDwgciAmIHRoaXMuRE0sIHU7XG4gIGZvciAodSA9IHRoaXMudCAtIDE7IHUgPj0gMDsgLS11KVxuICAgIHRbdSArIG4gKyAxXSA9IHRoaXNbdV0gPj4gaSB8IGgsIGggPSAodGhpc1t1XSAmIHMpIDw8IHI7XG4gIGZvciAodSA9IG4gLSAxOyB1ID49IDA7IC0tdSlcbiAgICB0W3VdID0gMDtcbiAgdFtuXSA9IGgsIHQudCA9IHRoaXMudCArIG4gKyAxLCB0LnMgPSB0aGlzLnMsIHQuY2xhbXAoKTtcbn1cbmZ1bmN0aW9uIHJyKGUsIHQpIHtcbiAgdC5zID0gdGhpcy5zO1xuICB2YXIgciA9IE1hdGguZmxvb3IoZSAvIHRoaXMuREIpO1xuICBpZiAociA+PSB0aGlzLnQpIHtcbiAgICB0LnQgPSAwO1xuICAgIHJldHVybjtcbiAgfVxuICB2YXIgaSA9IGUgJSB0aGlzLkRCLCBzID0gdGhpcy5EQiAtIGksIG4gPSAoMSA8PCBpKSAtIDE7XG4gIHRbMF0gPSB0aGlzW3JdID4+IGk7XG4gIGZvciAodmFyIGggPSByICsgMTsgaCA8IHRoaXMudDsgKytoKVxuICAgIHRbaCAtIHIgLSAxXSB8PSAodGhpc1toXSAmIG4pIDw8IHMsIHRbaCAtIHJdID0gdGhpc1toXSA+PiBpO1xuICBpID4gMCAmJiAodFt0aGlzLnQgLSByIC0gMV0gfD0gKHRoaXMucyAmIG4pIDw8IHMpLCB0LnQgPSB0aGlzLnQgLSByLCB0LmNsYW1wKCk7XG59XG5mdW5jdGlvbiBpcihlLCB0KSB7XG4gIGZvciAodmFyIHIgPSAwLCBpID0gMCwgcyA9IE1hdGgubWluKGUudCwgdGhpcy50KTsgciA8IHM7IClcbiAgICBpICs9IHRoaXNbcl0gLSBlW3JdLCB0W3IrK10gPSBpICYgdGhpcy5ETSwgaSA+Pj0gdGhpcy5EQjtcbiAgaWYgKGUudCA8IHRoaXMudCkge1xuICAgIGZvciAoaSAtPSBlLnM7IHIgPCB0aGlzLnQ7IClcbiAgICAgIGkgKz0gdGhpc1tyXSwgdFtyKytdID0gaSAmIHRoaXMuRE0sIGkgPj49IHRoaXMuREI7XG4gICAgaSArPSB0aGlzLnM7XG4gIH0gZWxzZSB7XG4gICAgZm9yIChpICs9IHRoaXMuczsgciA8IGUudDsgKVxuICAgICAgaSAtPSBlW3JdLCB0W3IrK10gPSBpICYgdGhpcy5ETSwgaSA+Pj0gdGhpcy5EQjtcbiAgICBpIC09IGUucztcbiAgfVxuICB0LnMgPSBpIDwgMCA/IC0xIDogMCwgaSA8IC0xID8gdFtyKytdID0gdGhpcy5EViArIGkgOiBpID4gMCAmJiAodFtyKytdID0gaSksIHQudCA9IHIsIHQuY2xhbXAoKTtcbn1cbmZ1bmN0aW9uIG5yKGUsIHQpIHtcbiAgdmFyIHIgPSB0aGlzLmFicygpLCBpID0gZS5hYnMoKSwgcyA9IHIudDtcbiAgZm9yICh0LnQgPSBzICsgaS50OyAtLXMgPj0gMDsgKVxuICAgIHRbc10gPSAwO1xuICBmb3IgKHMgPSAwOyBzIDwgaS50OyArK3MpXG4gICAgdFtzICsgci50XSA9IHIuYW0oMCwgaVtzXSwgdCwgcywgMCwgci50KTtcbiAgdC5zID0gMCwgdC5jbGFtcCgpLCB0aGlzLnMgIT0gZS5zICYmIFIuWkVSTy5zdWJUbyh0LCB0KTtcbn1cbmZ1bmN0aW9uIHNyKGUpIHtcbiAgZm9yICh2YXIgdCA9IHRoaXMuYWJzKCksIHIgPSBlLnQgPSAyICogdC50OyAtLXIgPj0gMDsgKVxuICAgIGVbcl0gPSAwO1xuICBmb3IgKHIgPSAwOyByIDwgdC50IC0gMTsgKytyKSB7XG4gICAgdmFyIGkgPSB0LmFtKHIsIHRbcl0sIGUsIDIgKiByLCAwLCAxKTtcbiAgICAoZVtyICsgdC50XSArPSB0LmFtKHIgKyAxLCAyICogdFtyXSwgZSwgMiAqIHIgKyAxLCBpLCB0LnQgLSByIC0gMSkpID49IHQuRFYgJiYgKGVbciArIHQudF0gLT0gdC5EViwgZVtyICsgdC50ICsgMV0gPSAxKTtcbiAgfVxuICBlLnQgPiAwICYmIChlW2UudCAtIDFdICs9IHQuYW0ociwgdFtyXSwgZSwgMiAqIHIsIDAsIDEpKSwgZS5zID0gMCwgZS5jbGFtcCgpO1xufVxuZnVuY3Rpb24gYXIoZSwgdCwgcikge1xuICB2YXIgaSA9IGUuYWJzKCk7XG4gIGlmICghKGkudCA8PSAwKSkge1xuICAgIHZhciBzID0gdGhpcy5hYnMoKTtcbiAgICBpZiAocy50IDwgaS50KSB7XG4gICAgICB0ICE9IG51bGwgJiYgdC5mcm9tSW50KDApLCByICE9IG51bGwgJiYgdGhpcy5jb3B5VG8ocik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHIgPT0gbnVsbCAmJiAociA9IF8oKSk7XG4gICAgdmFyIG4gPSBfKCksIGggPSB0aGlzLnMsIHUgPSBlLnMsIHAgPSB0aGlzLkRCIC0gWWUoaVtpLnQgLSAxXSk7XG4gICAgcCA+IDAgPyAoaS5sU2hpZnRUbyhwLCBuKSwgcy5sU2hpZnRUbyhwLCByKSkgOiAoaS5jb3B5VG8obiksIHMuY29weVRvKHIpKTtcbiAgICB2YXIgYyA9IG4udCwgeSA9IG5bYyAtIDFdO1xuICAgIGlmICh5ICE9IDApIHtcbiAgICAgIHZhciB2ID0geSAqICgxIDw8IHRoaXMuRjEpICsgKGMgPiAxID8gbltjIC0gMl0gPj4gdGhpcy5GMiA6IDApLCBvID0gdGhpcy5GViAvIHYsIGwgPSAoMSA8PCB0aGlzLkYxKSAvIHYsIGYgPSAxIDw8IHRoaXMuRjIsIGQgPSByLnQsIGcgPSBkIC0gYywgUyA9IHQgPz8gXygpO1xuICAgICAgZm9yIChuLmRsU2hpZnRUbyhnLCBTKSwgci5jb21wYXJlVG8oUykgPj0gMCAmJiAocltyLnQrK10gPSAxLCByLnN1YlRvKFMsIHIpKSwgUi5PTkUuZGxTaGlmdFRvKGMsIFMpLCBTLnN1YlRvKG4sIG4pOyBuLnQgPCBjOyApXG4gICAgICAgIG5bbi50KytdID0gMDtcbiAgICAgIGZvciAoOyAtLWcgPj0gMDsgKSB7XG4gICAgICAgIHZhciBiID0gclstLWRdID09IHkgPyB0aGlzLkRNIDogTWF0aC5mbG9vcihyW2RdICogbyArIChyW2QgLSAxXSArIGYpICogbCk7XG4gICAgICAgIGlmICgocltkXSArPSBuLmFtKDAsIGIsIHIsIGcsIDAsIGMpKSA8IGIpXG4gICAgICAgICAgZm9yIChuLmRsU2hpZnRUbyhnLCBTKSwgci5zdWJUbyhTLCByKTsgcltkXSA8IC0tYjsgKVxuICAgICAgICAgICAgci5zdWJUbyhTLCByKTtcbiAgICAgIH1cbiAgICAgIHQgIT0gbnVsbCAmJiAoci5kclNoaWZ0VG8oYywgdCksIGggIT0gdSAmJiBSLlpFUk8uc3ViVG8odCwgdCkpLCByLnQgPSBjLCByLmNsYW1wKCksIHAgPiAwICYmIHIuclNoaWZ0VG8ocCwgciksIGggPCAwICYmIFIuWkVSTy5zdWJUbyhyLCByKTtcbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIG9yKGUpIHtcbiAgdmFyIHQgPSBfKCk7XG4gIHJldHVybiB0aGlzLmFicygpLmRpdlJlbVRvKGUsIG51bGwsIHQpLCB0aGlzLnMgPCAwICYmIHQuY29tcGFyZVRvKFIuWkVSTykgPiAwICYmIGUuc3ViVG8odCwgdCksIHQ7XG59XG5mdW5jdGlvbiBPZShlKSB7XG4gIHRoaXMubSA9IGU7XG59XG5mdW5jdGlvbiB1cihlKSB7XG4gIHJldHVybiBlLnMgPCAwIHx8IGUuY29tcGFyZVRvKHRoaXMubSkgPj0gMCA/IGUubW9kKHRoaXMubSkgOiBlO1xufVxuZnVuY3Rpb24gaHIoZSkge1xuICByZXR1cm4gZTtcbn1cbmZ1bmN0aW9uIGZyKGUpIHtcbiAgZS5kaXZSZW1Ubyh0aGlzLm0sIG51bGwsIGUpO1xufVxuZnVuY3Rpb24gY3IoZSwgdCwgcikge1xuICBlLm11bHRpcGx5VG8odCwgciksIHRoaXMucmVkdWNlKHIpO1xufVxuZnVuY3Rpb24gbHIoZSwgdCkge1xuICBlLnNxdWFyZVRvKHQpLCB0aGlzLnJlZHVjZSh0KTtcbn1cbk9lLnByb3RvdHlwZS5jb252ZXJ0ID0gdXI7XG5PZS5wcm90b3R5cGUucmV2ZXJ0ID0gaHI7XG5PZS5wcm90b3R5cGUucmVkdWNlID0gZnI7XG5PZS5wcm90b3R5cGUubXVsVG8gPSBjcjtcbk9lLnByb3RvdHlwZS5zcXJUbyA9IGxyO1xuZnVuY3Rpb24gZHIoKSB7XG4gIGlmICh0aGlzLnQgPCAxKVxuICAgIHJldHVybiAwO1xuICB2YXIgZSA9IHRoaXNbMF07XG4gIGlmICghKGUgJiAxKSlcbiAgICByZXR1cm4gMDtcbiAgdmFyIHQgPSBlICYgMztcbiAgcmV0dXJuIHQgPSB0ICogKDIgLSAoZSAmIDE1KSAqIHQpICYgMTUsIHQgPSB0ICogKDIgLSAoZSAmIDI1NSkgKiB0KSAmIDI1NSwgdCA9IHQgKiAoMiAtICgoZSAmIDY1NTM1KSAqIHQgJiA2NTUzNSkpICYgNjU1MzUsIHQgPSB0ICogKDIgLSBlICogdCAlIHRoaXMuRFYpICUgdGhpcy5EViwgdCA+IDAgPyB0aGlzLkRWIC0gdCA6IC10O1xufVxuZnVuY3Rpb24gamUoZSkge1xuICB0aGlzLm0gPSBlLCB0aGlzLm1wID0gZS5pbnZEaWdpdCgpLCB0aGlzLm1wbCA9IHRoaXMubXAgJiAzMjc2NywgdGhpcy5tcGggPSB0aGlzLm1wID4+IDE1LCB0aGlzLnVtID0gKDEgPDwgZS5EQiAtIDE1KSAtIDEsIHRoaXMubXQyID0gMiAqIGUudDtcbn1cbmZ1bmN0aW9uIHByKGUpIHtcbiAgdmFyIHQgPSBfKCk7XG4gIHJldHVybiBlLmFicygpLmRsU2hpZnRUbyh0aGlzLm0udCwgdCksIHQuZGl2UmVtVG8odGhpcy5tLCBudWxsLCB0KSwgZS5zIDwgMCAmJiB0LmNvbXBhcmVUbyhSLlpFUk8pID4gMCAmJiB0aGlzLm0uc3ViVG8odCwgdCksIHQ7XG59XG5mdW5jdGlvbiB2cihlKSB7XG4gIHZhciB0ID0gXygpO1xuICByZXR1cm4gZS5jb3B5VG8odCksIHRoaXMucmVkdWNlKHQpLCB0O1xufVxuZnVuY3Rpb24gZ3IoZSkge1xuICBmb3IgKDsgZS50IDw9IHRoaXMubXQyOyApXG4gICAgZVtlLnQrK10gPSAwO1xuICBmb3IgKHZhciB0ID0gMDsgdCA8IHRoaXMubS50OyArK3QpIHtcbiAgICB2YXIgciA9IGVbdF0gJiAzMjc2NywgaSA9IHIgKiB0aGlzLm1wbCArICgociAqIHRoaXMubXBoICsgKGVbdF0gPj4gMTUpICogdGhpcy5tcGwgJiB0aGlzLnVtKSA8PCAxNSkgJiBlLkRNO1xuICAgIGZvciAociA9IHQgKyB0aGlzLm0udCwgZVtyXSArPSB0aGlzLm0uYW0oMCwgaSwgZSwgdCwgMCwgdGhpcy5tLnQpOyBlW3JdID49IGUuRFY7IClcbiAgICAgIGVbcl0gLT0gZS5EViwgZVsrK3JdKys7XG4gIH1cbiAgZS5jbGFtcCgpLCBlLmRyU2hpZnRUbyh0aGlzLm0udCwgZSksIGUuY29tcGFyZVRvKHRoaXMubSkgPj0gMCAmJiBlLnN1YlRvKHRoaXMubSwgZSk7XG59XG5mdW5jdGlvbiB5cihlLCB0KSB7XG4gIGUuc3F1YXJlVG8odCksIHRoaXMucmVkdWNlKHQpO1xufVxuZnVuY3Rpb24gbXIoZSwgdCwgcikge1xuICBlLm11bHRpcGx5VG8odCwgciksIHRoaXMucmVkdWNlKHIpO1xufVxuamUucHJvdG90eXBlLmNvbnZlcnQgPSBwcjtcbmplLnByb3RvdHlwZS5yZXZlcnQgPSB2cjtcbmplLnByb3RvdHlwZS5yZWR1Y2UgPSBncjtcbmplLnByb3RvdHlwZS5tdWxUbyA9IG1yO1xuamUucHJvdG90eXBlLnNxclRvID0geXI7XG5mdW5jdGlvbiB4cigpIHtcbiAgcmV0dXJuICh0aGlzLnQgPiAwID8gdGhpc1swXSAmIDEgOiB0aGlzLnMpID09IDA7XG59XG5mdW5jdGlvbiBTcihlLCB0KSB7XG4gIGlmIChlID4gNDI5NDk2NzI5NSB8fCBlIDwgMSlcbiAgICByZXR1cm4gUi5PTkU7XG4gIHZhciByID0gXygpLCBpID0gXygpLCBzID0gdC5jb252ZXJ0KHRoaXMpLCBuID0gWWUoZSkgLSAxO1xuICBmb3IgKHMuY29weVRvKHIpOyAtLW4gPj0gMDsgKVxuICAgIGlmICh0LnNxclRvKHIsIGkpLCAoZSAmIDEgPDwgbikgPiAwKVxuICAgICAgdC5tdWxUbyhpLCBzLCByKTtcbiAgICBlbHNlIHtcbiAgICAgIHZhciBoID0gcjtcbiAgICAgIHIgPSBpLCBpID0gaDtcbiAgICB9XG4gIHJldHVybiB0LnJldmVydChyKTtcbn1cbmZ1bmN0aW9uIEVyKGUsIHQpIHtcbiAgdmFyIHI7XG4gIHJldHVybiBlIDwgMjU2IHx8IHQuaXNFdmVuKCkgPyByID0gbmV3IE9lKHQpIDogciA9IG5ldyBqZSh0KSwgdGhpcy5leHAoZSwgcik7XG59XG5SLnByb3RvdHlwZS5jb3B5VG8gPSBVdDtcblIucHJvdG90eXBlLmZyb21JbnQgPSB6dDtcblIucHJvdG90eXBlLmZyb21TdHJpbmcgPSBHdDtcblIucHJvdG90eXBlLmNsYW1wID0gV3Q7XG5SLnByb3RvdHlwZS5kbFNoaWZ0VG8gPSBRdDtcblIucHJvdG90eXBlLmRyU2hpZnRUbyA9IGVyO1xuUi5wcm90b3R5cGUubFNoaWZ0VG8gPSB0cjtcblIucHJvdG90eXBlLnJTaGlmdFRvID0gcnI7XG5SLnByb3RvdHlwZS5zdWJUbyA9IGlyO1xuUi5wcm90b3R5cGUubXVsdGlwbHlUbyA9IG5yO1xuUi5wcm90b3R5cGUuc3F1YXJlVG8gPSBzcjtcblIucHJvdG90eXBlLmRpdlJlbVRvID0gYXI7XG5SLnByb3RvdHlwZS5pbnZEaWdpdCA9IGRyO1xuUi5wcm90b3R5cGUuaXNFdmVuID0geHI7XG5SLnByb3RvdHlwZS5leHAgPSBTcjtcblIucHJvdG90eXBlLnRvU3RyaW5nID0gWHQ7XG5SLnByb3RvdHlwZS5uZWdhdGUgPSBKdDtcblIucHJvdG90eXBlLmFicyA9ICR0O1xuUi5wcm90b3R5cGUuY29tcGFyZVRvID0gWXQ7XG5SLnByb3RvdHlwZS5iaXRMZW5ndGggPSBadDtcblIucHJvdG90eXBlLm1vZCA9IG9yO1xuUi5wcm90b3R5cGUubW9kUG93SW50ID0gRXI7XG5SLlpFUk8gPSBSZSgwKTtcblIuT05FID0gUmUoMSk7XG4vKiEgKGMpIFRvbSBXdSB8IGh0dHA6Ly93d3ctY3Mtc3R1ZGVudHMuc3RhbmZvcmQuZWR1L350ancvanNibi9cbiAqL1xuZnVuY3Rpb24gd3IoKSB7XG4gIHZhciBlID0gXygpO1xuICByZXR1cm4gdGhpcy5jb3B5VG8oZSksIGU7XG59XG5mdW5jdGlvbiBGcigpIHtcbiAgaWYgKHRoaXMucyA8IDApIHtcbiAgICBpZiAodGhpcy50ID09IDEpXG4gICAgICByZXR1cm4gdGhpc1swXSAtIHRoaXMuRFY7XG4gICAgaWYgKHRoaXMudCA9PSAwKVxuICAgICAgcmV0dXJuIC0xO1xuICB9IGVsc2Uge1xuICAgIGlmICh0aGlzLnQgPT0gMSlcbiAgICAgIHJldHVybiB0aGlzWzBdO1xuICAgIGlmICh0aGlzLnQgPT0gMClcbiAgICAgIHJldHVybiAwO1xuICB9XG4gIHJldHVybiAodGhpc1sxXSAmICgxIDw8IDMyIC0gdGhpcy5EQikgLSAxKSA8PCB0aGlzLkRCIHwgdGhpc1swXTtcbn1cbmZ1bmN0aW9uIGJyKCkge1xuICByZXR1cm4gdGhpcy50ID09IDAgPyB0aGlzLnMgOiB0aGlzWzBdIDw8IDI0ID4+IDI0O1xufVxuZnVuY3Rpb24gQXIoKSB7XG4gIHJldHVybiB0aGlzLnQgPT0gMCA/IHRoaXMucyA6IHRoaXNbMF0gPDwgMTYgPj4gMTY7XG59XG5mdW5jdGlvbiBEcihlKSB7XG4gIHJldHVybiBNYXRoLmZsb29yKE1hdGguTE4yICogdGhpcy5EQiAvIE1hdGgubG9nKGUpKTtcbn1cbmZ1bmN0aW9uIFByKCkge1xuICByZXR1cm4gdGhpcy5zIDwgMCA/IC0xIDogdGhpcy50IDw9IDAgfHwgdGhpcy50ID09IDEgJiYgdGhpc1swXSA8PSAwID8gMCA6IDE7XG59XG5mdW5jdGlvbiBJcihlKSB7XG4gIGlmIChlID09IG51bGwgJiYgKGUgPSAxMCksIHRoaXMuc2lnbnVtKCkgPT0gMCB8fCBlIDwgMiB8fCBlID4gMzYpXG4gICAgcmV0dXJuIFwiMFwiO1xuICB2YXIgdCA9IHRoaXMuY2h1bmtTaXplKGUpLCByID0gTWF0aC5wb3coZSwgdCksIGkgPSBSZShyKSwgcyA9IF8oKSwgbiA9IF8oKSwgaCA9IFwiXCI7XG4gIGZvciAodGhpcy5kaXZSZW1UbyhpLCBzLCBuKTsgcy5zaWdudW0oKSA+IDA7IClcbiAgICBoID0gKHIgKyBuLmludFZhbHVlKCkpLnRvU3RyaW5nKGUpLnN1YnN0cigxKSArIGgsIHMuZGl2UmVtVG8oaSwgcywgbik7XG4gIHJldHVybiBuLmludFZhbHVlKCkudG9TdHJpbmcoZSkgKyBoO1xufVxuZnVuY3Rpb24gQ3IoZSwgdCkge1xuICB0aGlzLmZyb21JbnQoMCksIHQgPT0gbnVsbCAmJiAodCA9IDEwKTtcbiAgZm9yICh2YXIgciA9IHRoaXMuY2h1bmtTaXplKHQpLCBpID0gTWF0aC5wb3codCwgciksIHMgPSAhMSwgbiA9IDAsIGggPSAwLCB1ID0gMDsgdSA8IGUubGVuZ3RoOyArK3UpIHtcbiAgICB2YXIgcCA9IHd0KGUsIHUpO1xuICAgIGlmIChwIDwgMCkge1xuICAgICAgZS5jaGFyQXQodSkgPT0gXCItXCIgJiYgdGhpcy5zaWdudW0oKSA9PSAwICYmIChzID0gITApO1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGggPSB0ICogaCArIHAsICsrbiA+PSByICYmICh0aGlzLmRNdWx0aXBseShpKSwgdGhpcy5kQWRkT2Zmc2V0KGgsIDApLCBuID0gMCwgaCA9IDApO1xuICB9XG4gIG4gPiAwICYmICh0aGlzLmRNdWx0aXBseShNYXRoLnBvdyh0LCBuKSksIHRoaXMuZEFkZE9mZnNldChoLCAwKSksIHMgJiYgUi5aRVJPLnN1YlRvKHRoaXMsIHRoaXMpO1xufVxuZnVuY3Rpb24gUnIoZSwgdCwgcikge1xuICBpZiAodHlwZW9mIHQgPT0gXCJudW1iZXJcIilcbiAgICBpZiAoZSA8IDIpXG4gICAgICB0aGlzLmZyb21JbnQoMSk7XG4gICAgZWxzZVxuICAgICAgZm9yICh0aGlzLmZyb21OdW1iZXIoZSwgciksIHRoaXMudGVzdEJpdChlIC0gMSkgfHwgdGhpcy5iaXR3aXNlVG8oUi5PTkUuc2hpZnRMZWZ0KGUgLSAxKSwgc3QsIHRoaXMpLCB0aGlzLmlzRXZlbigpICYmIHRoaXMuZEFkZE9mZnNldCgxLCAwKTsgIXRoaXMuaXNQcm9iYWJsZVByaW1lKHQpOyApXG4gICAgICAgIHRoaXMuZEFkZE9mZnNldCgyLCAwKSwgdGhpcy5iaXRMZW5ndGgoKSA+IGUgJiYgdGhpcy5zdWJUbyhSLk9ORS5zaGlmdExlZnQoZSAtIDEpLCB0aGlzKTtcbiAgZWxzZSB7XG4gICAgdmFyIGkgPSBuZXcgQXJyYXkoKSwgcyA9IGUgJiA3O1xuICAgIGkubGVuZ3RoID0gKGUgPj4gMykgKyAxLCB0Lm5leHRCeXRlcyhpKSwgcyA+IDAgPyBpWzBdICY9ICgxIDw8IHMpIC0gMSA6IGlbMF0gPSAwLCB0aGlzLmZyb21TdHJpbmcoaSwgMjU2KTtcbiAgfVxufVxuZnVuY3Rpb24gVHIoKSB7XG4gIHZhciBlID0gdGhpcy50LCB0ID0gbmV3IEFycmF5KCk7XG4gIHRbMF0gPSB0aGlzLnM7XG4gIHZhciByID0gdGhpcy5EQiAtIGUgKiB0aGlzLkRCICUgOCwgaSwgcyA9IDA7XG4gIGlmIChlLS0gPiAwKVxuICAgIGZvciAociA8IHRoaXMuREIgJiYgKGkgPSB0aGlzW2VdID4+IHIpICE9ICh0aGlzLnMgJiB0aGlzLkRNKSA+PiByICYmICh0W3MrK10gPSBpIHwgdGhpcy5zIDw8IHRoaXMuREIgLSByKTsgZSA+PSAwOyApXG4gICAgICByIDwgOCA/IChpID0gKHRoaXNbZV0gJiAoMSA8PCByKSAtIDEpIDw8IDggLSByLCBpIHw9IHRoaXNbLS1lXSA+PiAociArPSB0aGlzLkRCIC0gOCkpIDogKGkgPSB0aGlzW2VdID4+IChyIC09IDgpICYgMjU1LCByIDw9IDAgJiYgKHIgKz0gdGhpcy5EQiwgLS1lKSksIGkgJiAxMjggJiYgKGkgfD0gLTI1NiksIHMgPT0gMCAmJiAodGhpcy5zICYgMTI4KSAhPSAoaSAmIDEyOCkgJiYgKytzLCAocyA+IDAgfHwgaSAhPSB0aGlzLnMpICYmICh0W3MrK10gPSBpKTtcbiAgcmV0dXJuIHQ7XG59XG5mdW5jdGlvbiBCcihlKSB7XG4gIHJldHVybiB0aGlzLmNvbXBhcmVUbyhlKSA9PSAwO1xufVxuZnVuY3Rpb24gTnIoZSkge1xuICByZXR1cm4gdGhpcy5jb21wYXJlVG8oZSkgPCAwID8gdGhpcyA6IGU7XG59XG5mdW5jdGlvbiBIcihlKSB7XG4gIHJldHVybiB0aGlzLmNvbXBhcmVUbyhlKSA+IDAgPyB0aGlzIDogZTtcbn1cbmZ1bmN0aW9uIE9yKGUsIHQsIHIpIHtcbiAgdmFyIGksIHMsIG4gPSBNYXRoLm1pbihlLnQsIHRoaXMudCk7XG4gIGZvciAoaSA9IDA7IGkgPCBuOyArK2kpXG4gICAgcltpXSA9IHQodGhpc1tpXSwgZVtpXSk7XG4gIGlmIChlLnQgPCB0aGlzLnQpIHtcbiAgICBmb3IgKHMgPSBlLnMgJiB0aGlzLkRNLCBpID0gbjsgaSA8IHRoaXMudDsgKytpKVxuICAgICAgcltpXSA9IHQodGhpc1tpXSwgcyk7XG4gICAgci50ID0gdGhpcy50O1xuICB9IGVsc2Uge1xuICAgIGZvciAocyA9IHRoaXMucyAmIHRoaXMuRE0sIGkgPSBuOyBpIDwgZS50OyArK2kpXG4gICAgICByW2ldID0gdChzLCBlW2ldKTtcbiAgICByLnQgPSBlLnQ7XG4gIH1cbiAgci5zID0gdCh0aGlzLnMsIGUucyksIHIuY2xhbXAoKTtcbn1cbmZ1bmN0aW9uIGpyKGUsIHQpIHtcbiAgcmV0dXJuIGUgJiB0O1xufVxuZnVuY3Rpb24gVnIoZSkge1xuICB2YXIgdCA9IF8oKTtcbiAgcmV0dXJuIHRoaXMuYml0d2lzZVRvKGUsIGpyLCB0KSwgdDtcbn1cbmZ1bmN0aW9uIHN0KGUsIHQpIHtcbiAgcmV0dXJuIGUgfCB0O1xufVxuZnVuY3Rpb24gS3IoZSkge1xuICB2YXIgdCA9IF8oKTtcbiAgcmV0dXJuIHRoaXMuYml0d2lzZVRvKGUsIHN0LCB0KSwgdDtcbn1cbmZ1bmN0aW9uIEZ0KGUsIHQpIHtcbiAgcmV0dXJuIGUgXiB0O1xufVxuZnVuY3Rpb24gTHIoZSkge1xuICB2YXIgdCA9IF8oKTtcbiAgcmV0dXJuIHRoaXMuYml0d2lzZVRvKGUsIEZ0LCB0KSwgdDtcbn1cbmZ1bmN0aW9uIGJ0KGUsIHQpIHtcbiAgcmV0dXJuIGUgJiB+dDtcbn1cbmZ1bmN0aW9uIHFyKGUpIHtcbiAgdmFyIHQgPSBfKCk7XG4gIHJldHVybiB0aGlzLmJpdHdpc2VUbyhlLCBidCwgdCksIHQ7XG59XG5mdW5jdGlvbiBrcigpIHtcbiAgZm9yICh2YXIgZSA9IF8oKSwgdCA9IDA7IHQgPCB0aGlzLnQ7ICsrdClcbiAgICBlW3RdID0gdGhpcy5ETSAmIH50aGlzW3RdO1xuICByZXR1cm4gZS50ID0gdGhpcy50LCBlLnMgPSB+dGhpcy5zLCBlO1xufVxuZnVuY3Rpb24gTXIoZSkge1xuICB2YXIgdCA9IF8oKTtcbiAgcmV0dXJuIGUgPCAwID8gdGhpcy5yU2hpZnRUbygtZSwgdCkgOiB0aGlzLmxTaGlmdFRvKGUsIHQpLCB0O1xufVxuZnVuY3Rpb24gX3IoZSkge1xuICB2YXIgdCA9IF8oKTtcbiAgcmV0dXJuIGUgPCAwID8gdGhpcy5sU2hpZnRUbygtZSwgdCkgOiB0aGlzLnJTaGlmdFRvKGUsIHQpLCB0O1xufVxuZnVuY3Rpb24gVXIoZSkge1xuICBpZiAoZSA9PSAwKVxuICAgIHJldHVybiAtMTtcbiAgdmFyIHQgPSAwO1xuICByZXR1cm4gZSAmIDY1NTM1IHx8IChlID4+PSAxNiwgdCArPSAxNiksIGUgJiAyNTUgfHwgKGUgPj49IDgsIHQgKz0gOCksIGUgJiAxNSB8fCAoZSA+Pj0gNCwgdCArPSA0KSwgZSAmIDMgfHwgKGUgPj49IDIsIHQgKz0gMiksIGUgJiAxIHx8ICsrdCwgdDtcbn1cbmZ1bmN0aW9uIHpyKCkge1xuICBmb3IgKHZhciBlID0gMDsgZSA8IHRoaXMudDsgKytlKVxuICAgIGlmICh0aGlzW2VdICE9IDApXG4gICAgICByZXR1cm4gZSAqIHRoaXMuREIgKyBVcih0aGlzW2VdKTtcbiAgcmV0dXJuIHRoaXMucyA8IDAgPyB0aGlzLnQgKiB0aGlzLkRCIDogLTE7XG59XG5mdW5jdGlvbiBHcihlKSB7XG4gIGZvciAodmFyIHQgPSAwOyBlICE9IDA7IClcbiAgICBlICY9IGUgLSAxLCArK3Q7XG4gIHJldHVybiB0O1xufVxuZnVuY3Rpb24gV3IoKSB7XG4gIGZvciAodmFyIGUgPSAwLCB0ID0gdGhpcy5zICYgdGhpcy5ETSwgciA9IDA7IHIgPCB0aGlzLnQ7ICsrcilcbiAgICBlICs9IEdyKHRoaXNbcl0gXiB0KTtcbiAgcmV0dXJuIGU7XG59XG5mdW5jdGlvbiBYcihlKSB7XG4gIHZhciB0ID0gTWF0aC5mbG9vcihlIC8gdGhpcy5EQik7XG4gIHJldHVybiB0ID49IHRoaXMudCA/IHRoaXMucyAhPSAwIDogKHRoaXNbdF0gJiAxIDw8IGUgJSB0aGlzLkRCKSAhPSAwO1xufVxuZnVuY3Rpb24gSnIoZSwgdCkge1xuICB2YXIgciA9IFIuT05FLnNoaWZ0TGVmdChlKTtcbiAgcmV0dXJuIHRoaXMuYml0d2lzZVRvKHIsIHQsIHIpLCByO1xufVxuZnVuY3Rpb24gJHIoZSkge1xuICByZXR1cm4gdGhpcy5jaGFuZ2VCaXQoZSwgc3QpO1xufVxuZnVuY3Rpb24gWXIoZSkge1xuICByZXR1cm4gdGhpcy5jaGFuZ2VCaXQoZSwgYnQpO1xufVxuZnVuY3Rpb24gWnIoZSkge1xuICByZXR1cm4gdGhpcy5jaGFuZ2VCaXQoZSwgRnQpO1xufVxuZnVuY3Rpb24gUXIoZSwgdCkge1xuICBmb3IgKHZhciByID0gMCwgaSA9IDAsIHMgPSBNYXRoLm1pbihlLnQsIHRoaXMudCk7IHIgPCBzOyApXG4gICAgaSArPSB0aGlzW3JdICsgZVtyXSwgdFtyKytdID0gaSAmIHRoaXMuRE0sIGkgPj49IHRoaXMuREI7XG4gIGlmIChlLnQgPCB0aGlzLnQpIHtcbiAgICBmb3IgKGkgKz0gZS5zOyByIDwgdGhpcy50OyApXG4gICAgICBpICs9IHRoaXNbcl0sIHRbcisrXSA9IGkgJiB0aGlzLkRNLCBpID4+PSB0aGlzLkRCO1xuICAgIGkgKz0gdGhpcy5zO1xuICB9IGVsc2Uge1xuICAgIGZvciAoaSArPSB0aGlzLnM7IHIgPCBlLnQ7IClcbiAgICAgIGkgKz0gZVtyXSwgdFtyKytdID0gaSAmIHRoaXMuRE0sIGkgPj49IHRoaXMuREI7XG4gICAgaSArPSBlLnM7XG4gIH1cbiAgdC5zID0gaSA8IDAgPyAtMSA6IDAsIGkgPiAwID8gdFtyKytdID0gaSA6IGkgPCAtMSAmJiAodFtyKytdID0gdGhpcy5EViArIGkpLCB0LnQgPSByLCB0LmNsYW1wKCk7XG59XG5mdW5jdGlvbiBlaShlKSB7XG4gIHZhciB0ID0gXygpO1xuICByZXR1cm4gdGhpcy5hZGRUbyhlLCB0KSwgdDtcbn1cbmZ1bmN0aW9uIHRpKGUpIHtcbiAgdmFyIHQgPSBfKCk7XG4gIHJldHVybiB0aGlzLnN1YlRvKGUsIHQpLCB0O1xufVxuZnVuY3Rpb24gcmkoZSkge1xuICB2YXIgdCA9IF8oKTtcbiAgcmV0dXJuIHRoaXMubXVsdGlwbHlUbyhlLCB0KSwgdDtcbn1cbmZ1bmN0aW9uIGlpKCkge1xuICB2YXIgZSA9IF8oKTtcbiAgcmV0dXJuIHRoaXMuc3F1YXJlVG8oZSksIGU7XG59XG5mdW5jdGlvbiBuaShlKSB7XG4gIHZhciB0ID0gXygpO1xuICByZXR1cm4gdGhpcy5kaXZSZW1UbyhlLCB0LCBudWxsKSwgdDtcbn1cbmZ1bmN0aW9uIHNpKGUpIHtcbiAgdmFyIHQgPSBfKCk7XG4gIHJldHVybiB0aGlzLmRpdlJlbVRvKGUsIG51bGwsIHQpLCB0O1xufVxuZnVuY3Rpb24gYWkoZSkge1xuICB2YXIgdCA9IF8oKSwgciA9IF8oKTtcbiAgcmV0dXJuIHRoaXMuZGl2UmVtVG8oZSwgdCwgciksIG5ldyBBcnJheSh0LCByKTtcbn1cbmZ1bmN0aW9uIG9pKGUpIHtcbiAgdGhpc1t0aGlzLnRdID0gdGhpcy5hbSgwLCBlIC0gMSwgdGhpcywgMCwgMCwgdGhpcy50KSwgKyt0aGlzLnQsIHRoaXMuY2xhbXAoKTtcbn1cbmZ1bmN0aW9uIHVpKGUsIHQpIHtcbiAgaWYgKGUgIT0gMCkge1xuICAgIGZvciAoOyB0aGlzLnQgPD0gdDsgKVxuICAgICAgdGhpc1t0aGlzLnQrK10gPSAwO1xuICAgIGZvciAodGhpc1t0XSArPSBlOyB0aGlzW3RdID49IHRoaXMuRFY7IClcbiAgICAgIHRoaXNbdF0gLT0gdGhpcy5EViwgKyt0ID49IHRoaXMudCAmJiAodGhpc1t0aGlzLnQrK10gPSAwKSwgKyt0aGlzW3RdO1xuICB9XG59XG5mdW5jdGlvbiB6ZSgpIHtcbn1cbmZ1bmN0aW9uIEF0KGUpIHtcbiAgcmV0dXJuIGU7XG59XG5mdW5jdGlvbiBoaShlLCB0LCByKSB7XG4gIGUubXVsdGlwbHlUbyh0LCByKTtcbn1cbmZ1bmN0aW9uIGZpKGUsIHQpIHtcbiAgZS5zcXVhcmVUbyh0KTtcbn1cbnplLnByb3RvdHlwZS5jb252ZXJ0ID0gQXQ7XG56ZS5wcm90b3R5cGUucmV2ZXJ0ID0gQXQ7XG56ZS5wcm90b3R5cGUubXVsVG8gPSBoaTtcbnplLnByb3RvdHlwZS5zcXJUbyA9IGZpO1xuZnVuY3Rpb24gY2koZSkge1xuICByZXR1cm4gdGhpcy5leHAoZSwgbmV3IHplKCkpO1xufVxuZnVuY3Rpb24gbGkoZSwgdCwgcikge1xuICB2YXIgaSA9IE1hdGgubWluKHRoaXMudCArIGUudCwgdCk7XG4gIGZvciAoci5zID0gMCwgci50ID0gaTsgaSA+IDA7IClcbiAgICByWy0taV0gPSAwO1xuICB2YXIgcztcbiAgZm9yIChzID0gci50IC0gdGhpcy50OyBpIDwgczsgKytpKVxuICAgIHJbaSArIHRoaXMudF0gPSB0aGlzLmFtKDAsIGVbaV0sIHIsIGksIDAsIHRoaXMudCk7XG4gIGZvciAocyA9IE1hdGgubWluKGUudCwgdCk7IGkgPCBzOyArK2kpXG4gICAgdGhpcy5hbSgwLCBlW2ldLCByLCBpLCAwLCB0IC0gaSk7XG4gIHIuY2xhbXAoKTtcbn1cbmZ1bmN0aW9uIGRpKGUsIHQsIHIpIHtcbiAgLS10O1xuICB2YXIgaSA9IHIudCA9IHRoaXMudCArIGUudCAtIHQ7XG4gIGZvciAoci5zID0gMDsgLS1pID49IDA7IClcbiAgICByW2ldID0gMDtcbiAgZm9yIChpID0gTWF0aC5tYXgodCAtIHRoaXMudCwgMCk7IGkgPCBlLnQ7ICsraSlcbiAgICByW3RoaXMudCArIGkgLSB0XSA9IHRoaXMuYW0odCAtIGksIGVbaV0sIHIsIDAsIDAsIHRoaXMudCArIGkgLSB0KTtcbiAgci5jbGFtcCgpLCByLmRyU2hpZnRUbygxLCByKTtcbn1cbmZ1bmN0aW9uIHFlKGUpIHtcbiAgdGhpcy5yMiA9IF8oKSwgdGhpcy5xMyA9IF8oKSwgUi5PTkUuZGxTaGlmdFRvKDIgKiBlLnQsIHRoaXMucjIpLCB0aGlzLm11ID0gdGhpcy5yMi5kaXZpZGUoZSksIHRoaXMubSA9IGU7XG59XG5mdW5jdGlvbiBwaShlKSB7XG4gIGlmIChlLnMgPCAwIHx8IGUudCA+IDIgKiB0aGlzLm0udClcbiAgICByZXR1cm4gZS5tb2QodGhpcy5tKTtcbiAgaWYgKGUuY29tcGFyZVRvKHRoaXMubSkgPCAwKVxuICAgIHJldHVybiBlO1xuICB2YXIgdCA9IF8oKTtcbiAgcmV0dXJuIGUuY29weVRvKHQpLCB0aGlzLnJlZHVjZSh0KSwgdDtcbn1cbmZ1bmN0aW9uIHZpKGUpIHtcbiAgcmV0dXJuIGU7XG59XG5mdW5jdGlvbiBnaShlKSB7XG4gIGZvciAoZS5kclNoaWZ0VG8odGhpcy5tLnQgLSAxLCB0aGlzLnIyKSwgZS50ID4gdGhpcy5tLnQgKyAxICYmIChlLnQgPSB0aGlzLm0udCArIDEsIGUuY2xhbXAoKSksIHRoaXMubXUubXVsdGlwbHlVcHBlclRvKHRoaXMucjIsIHRoaXMubS50ICsgMSwgdGhpcy5xMyksIHRoaXMubS5tdWx0aXBseUxvd2VyVG8odGhpcy5xMywgdGhpcy5tLnQgKyAxLCB0aGlzLnIyKTsgZS5jb21wYXJlVG8odGhpcy5yMikgPCAwOyApXG4gICAgZS5kQWRkT2Zmc2V0KDEsIHRoaXMubS50ICsgMSk7XG4gIGZvciAoZS5zdWJUbyh0aGlzLnIyLCBlKTsgZS5jb21wYXJlVG8odGhpcy5tKSA+PSAwOyApXG4gICAgZS5zdWJUbyh0aGlzLm0sIGUpO1xufVxuZnVuY3Rpb24geWkoZSwgdCkge1xuICBlLnNxdWFyZVRvKHQpLCB0aGlzLnJlZHVjZSh0KTtcbn1cbmZ1bmN0aW9uIG1pKGUsIHQsIHIpIHtcbiAgZS5tdWx0aXBseVRvKHQsIHIpLCB0aGlzLnJlZHVjZShyKTtcbn1cbnFlLnByb3RvdHlwZS5jb252ZXJ0ID0gcGk7XG5xZS5wcm90b3R5cGUucmV2ZXJ0ID0gdmk7XG5xZS5wcm90b3R5cGUucmVkdWNlID0gZ2k7XG5xZS5wcm90b3R5cGUubXVsVG8gPSBtaTtcbnFlLnByb3RvdHlwZS5zcXJUbyA9IHlpO1xuZnVuY3Rpb24geGkoZSwgdCkge1xuICB2YXIgciA9IGUuYml0TGVuZ3RoKCksIGksIHMgPSBSZSgxKSwgbjtcbiAgaWYgKHIgPD0gMClcbiAgICByZXR1cm4gcztcbiAgciA8IDE4ID8gaSA9IDEgOiByIDwgNDggPyBpID0gMyA6IHIgPCAxNDQgPyBpID0gNCA6IHIgPCA3NjggPyBpID0gNSA6IGkgPSA2LCByIDwgOCA/IG4gPSBuZXcgT2UodCkgOiB0LmlzRXZlbigpID8gbiA9IG5ldyBxZSh0KSA6IG4gPSBuZXcgamUodCk7XG4gIHZhciBoID0gbmV3IEFycmF5KCksIHUgPSAzLCBwID0gaSAtIDEsIGMgPSAoMSA8PCBpKSAtIDE7XG4gIGlmIChoWzFdID0gbi5jb252ZXJ0KHRoaXMpLCBpID4gMSkge1xuICAgIHZhciB5ID0gXygpO1xuICAgIGZvciAobi5zcXJUbyhoWzFdLCB5KTsgdSA8PSBjOyApXG4gICAgICBoW3VdID0gXygpLCBuLm11bFRvKHksIGhbdSAtIDJdLCBoW3VdKSwgdSArPSAyO1xuICB9XG4gIHZhciB2ID0gZS50IC0gMSwgbywgbCA9ICEwLCBmID0gXygpLCBkO1xuICBmb3IgKHIgPSBZZShlW3ZdKSAtIDE7IHYgPj0gMDsgKSB7XG4gICAgZm9yIChyID49IHAgPyBvID0gZVt2XSA+PiByIC0gcCAmIGMgOiAobyA9IChlW3ZdICYgKDEgPDwgciArIDEpIC0gMSkgPDwgcCAtIHIsIHYgPiAwICYmIChvIHw9IGVbdiAtIDFdID4+IHRoaXMuREIgKyByIC0gcCkpLCB1ID0gaTsgIShvICYgMSk7IClcbiAgICAgIG8gPj49IDEsIC0tdTtcbiAgICBpZiAoKHIgLT0gdSkgPCAwICYmIChyICs9IHRoaXMuREIsIC0tdiksIGwpXG4gICAgICBoW29dLmNvcHlUbyhzKSwgbCA9ICExO1xuICAgIGVsc2Uge1xuICAgICAgZm9yICg7IHUgPiAxOyApXG4gICAgICAgIG4uc3FyVG8ocywgZiksIG4uc3FyVG8oZiwgcyksIHUgLT0gMjtcbiAgICAgIHUgPiAwID8gbi5zcXJUbyhzLCBmKSA6IChkID0gcywgcyA9IGYsIGYgPSBkKSwgbi5tdWxUbyhmLCBoW29dLCBzKTtcbiAgICB9XG4gICAgZm9yICg7IHYgPj0gMCAmJiAhKGVbdl0gJiAxIDw8IHIpOyApXG4gICAgICBuLnNxclRvKHMsIGYpLCBkID0gcywgcyA9IGYsIGYgPSBkLCAtLXIgPCAwICYmIChyID0gdGhpcy5EQiAtIDEsIC0tdik7XG4gIH1cbiAgcmV0dXJuIG4ucmV2ZXJ0KHMpO1xufVxuZnVuY3Rpb24gU2koZSkge1xuICB2YXIgdCA9IHRoaXMucyA8IDAgPyB0aGlzLm5lZ2F0ZSgpIDogdGhpcy5jbG9uZSgpLCByID0gZS5zIDwgMCA/IGUubmVnYXRlKCkgOiBlLmNsb25lKCk7XG4gIGlmICh0LmNvbXBhcmVUbyhyKSA8IDApIHtcbiAgICB2YXIgaSA9IHQ7XG4gICAgdCA9IHIsIHIgPSBpO1xuICB9XG4gIHZhciBzID0gdC5nZXRMb3dlc3RTZXRCaXQoKSwgbiA9IHIuZ2V0TG93ZXN0U2V0Qml0KCk7XG4gIGlmIChuIDwgMClcbiAgICByZXR1cm4gdDtcbiAgZm9yIChzIDwgbiAmJiAobiA9IHMpLCBuID4gMCAmJiAodC5yU2hpZnRUbyhuLCB0KSwgci5yU2hpZnRUbyhuLCByKSk7IHQuc2lnbnVtKCkgPiAwOyApXG4gICAgKHMgPSB0LmdldExvd2VzdFNldEJpdCgpKSA+IDAgJiYgdC5yU2hpZnRUbyhzLCB0KSwgKHMgPSByLmdldExvd2VzdFNldEJpdCgpKSA+IDAgJiYgci5yU2hpZnRUbyhzLCByKSwgdC5jb21wYXJlVG8ocikgPj0gMCA/ICh0LnN1YlRvKHIsIHQpLCB0LnJTaGlmdFRvKDEsIHQpKSA6IChyLnN1YlRvKHQsIHIpLCByLnJTaGlmdFRvKDEsIHIpKTtcbiAgcmV0dXJuIG4gPiAwICYmIHIubFNoaWZ0VG8obiwgciksIHI7XG59XG5mdW5jdGlvbiBFaShlKSB7XG4gIGlmIChlIDw9IDApXG4gICAgcmV0dXJuIDA7XG4gIHZhciB0ID0gdGhpcy5EViAlIGUsIHIgPSB0aGlzLnMgPCAwID8gZSAtIDEgOiAwO1xuICBpZiAodGhpcy50ID4gMClcbiAgICBpZiAodCA9PSAwKVxuICAgICAgciA9IHRoaXNbMF0gJSBlO1xuICAgIGVsc2VcbiAgICAgIGZvciAodmFyIGkgPSB0aGlzLnQgLSAxOyBpID49IDA7IC0taSlcbiAgICAgICAgciA9ICh0ICogciArIHRoaXNbaV0pICUgZTtcbiAgcmV0dXJuIHI7XG59XG5mdW5jdGlvbiB3aShlKSB7XG4gIHZhciB0ID0gZS5pc0V2ZW4oKTtcbiAgaWYgKHRoaXMuaXNFdmVuKCkgJiYgdCB8fCBlLnNpZ251bSgpID09IDApXG4gICAgcmV0dXJuIFIuWkVSTztcbiAgZm9yICh2YXIgciA9IGUuY2xvbmUoKSwgaSA9IHRoaXMuY2xvbmUoKSwgcyA9IFJlKDEpLCBuID0gUmUoMCksIGggPSBSZSgwKSwgdSA9IFJlKDEpOyByLnNpZ251bSgpICE9IDA7ICkge1xuICAgIGZvciAoOyByLmlzRXZlbigpOyApXG4gICAgICByLnJTaGlmdFRvKDEsIHIpLCB0ID8gKCghcy5pc0V2ZW4oKSB8fCAhbi5pc0V2ZW4oKSkgJiYgKHMuYWRkVG8odGhpcywgcyksIG4uc3ViVG8oZSwgbikpLCBzLnJTaGlmdFRvKDEsIHMpKSA6IG4uaXNFdmVuKCkgfHwgbi5zdWJUbyhlLCBuKSwgbi5yU2hpZnRUbygxLCBuKTtcbiAgICBmb3IgKDsgaS5pc0V2ZW4oKTsgKVxuICAgICAgaS5yU2hpZnRUbygxLCBpKSwgdCA/ICgoIWguaXNFdmVuKCkgfHwgIXUuaXNFdmVuKCkpICYmIChoLmFkZFRvKHRoaXMsIGgpLCB1LnN1YlRvKGUsIHUpKSwgaC5yU2hpZnRUbygxLCBoKSkgOiB1LmlzRXZlbigpIHx8IHUuc3ViVG8oZSwgdSksIHUuclNoaWZ0VG8oMSwgdSk7XG4gICAgci5jb21wYXJlVG8oaSkgPj0gMCA/IChyLnN1YlRvKGksIHIpLCB0ICYmIHMuc3ViVG8oaCwgcyksIG4uc3ViVG8odSwgbikpIDogKGkuc3ViVG8ociwgaSksIHQgJiYgaC5zdWJUbyhzLCBoKSwgdS5zdWJUbyhuLCB1KSk7XG4gIH1cbiAgaWYgKGkuY29tcGFyZVRvKFIuT05FKSAhPSAwKVxuICAgIHJldHVybiBSLlpFUk87XG4gIGlmICh1LmNvbXBhcmVUbyhlKSA+PSAwKVxuICAgIHJldHVybiB1LnN1YnRyYWN0KGUpO1xuICBpZiAodS5zaWdudW0oKSA8IDApXG4gICAgdS5hZGRUbyhlLCB1KTtcbiAgZWxzZVxuICAgIHJldHVybiB1O1xuICByZXR1cm4gdS5zaWdudW0oKSA8IDAgPyB1LmFkZChlKSA6IHU7XG59XG52YXIgbGUgPSBbMiwgMywgNSwgNywgMTEsIDEzLCAxNywgMTksIDIzLCAyOSwgMzEsIDM3LCA0MSwgNDMsIDQ3LCA1MywgNTksIDYxLCA2NywgNzEsIDczLCA3OSwgODMsIDg5LCA5NywgMTAxLCAxMDMsIDEwNywgMTA5LCAxMTMsIDEyNywgMTMxLCAxMzcsIDEzOSwgMTQ5LCAxNTEsIDE1NywgMTYzLCAxNjcsIDE3MywgMTc5LCAxODEsIDE5MSwgMTkzLCAxOTcsIDE5OSwgMjExLCAyMjMsIDIyNywgMjI5LCAyMzMsIDIzOSwgMjQxLCAyNTEsIDI1NywgMjYzLCAyNjksIDI3MSwgMjc3LCAyODEsIDI4MywgMjkzLCAzMDcsIDMxMSwgMzEzLCAzMTcsIDMzMSwgMzM3LCAzNDcsIDM0OSwgMzUzLCAzNTksIDM2NywgMzczLCAzNzksIDM4MywgMzg5LCAzOTcsIDQwMSwgNDA5LCA0MTksIDQyMSwgNDMxLCA0MzMsIDQzOSwgNDQzLCA0NDksIDQ1NywgNDYxLCA0NjMsIDQ2NywgNDc5LCA0ODcsIDQ5MSwgNDk5LCA1MDMsIDUwOSwgNTIxLCA1MjMsIDU0MSwgNTQ3LCA1NTcsIDU2MywgNTY5LCA1NzEsIDU3NywgNTg3LCA1OTMsIDU5OSwgNjAxLCA2MDcsIDYxMywgNjE3LCA2MTksIDYzMSwgNjQxLCA2NDMsIDY0NywgNjUzLCA2NTksIDY2MSwgNjczLCA2NzcsIDY4MywgNjkxLCA3MDEsIDcwOSwgNzE5LCA3MjcsIDczMywgNzM5LCA3NDMsIDc1MSwgNzU3LCA3NjEsIDc2OSwgNzczLCA3ODcsIDc5NywgODA5LCA4MTEsIDgyMSwgODIzLCA4MjcsIDgyOSwgODM5LCA4NTMsIDg1NywgODU5LCA4NjMsIDg3NywgODgxLCA4ODMsIDg4NywgOTA3LCA5MTEsIDkxOSwgOTI5LCA5MzcsIDk0MSwgOTQ3LCA5NTMsIDk2NywgOTcxLCA5NzcsIDk4MywgOTkxLCA5OTddLCBGaSA9ICgxIDw8IDI2KSAvIGxlW2xlLmxlbmd0aCAtIDFdO1xuZnVuY3Rpb24gYmkoZSkge1xuICB2YXIgdCwgciA9IHRoaXMuYWJzKCk7XG4gIGlmIChyLnQgPT0gMSAmJiByWzBdIDw9IGxlW2xlLmxlbmd0aCAtIDFdKSB7XG4gICAgZm9yICh0ID0gMDsgdCA8IGxlLmxlbmd0aDsgKyt0KVxuICAgICAgaWYgKHJbMF0gPT0gbGVbdF0pXG4gICAgICAgIHJldHVybiAhMDtcbiAgICByZXR1cm4gITE7XG4gIH1cbiAgaWYgKHIuaXNFdmVuKCkpXG4gICAgcmV0dXJuICExO1xuICBmb3IgKHQgPSAxOyB0IDwgbGUubGVuZ3RoOyApIHtcbiAgICBmb3IgKHZhciBpID0gbGVbdF0sIHMgPSB0ICsgMTsgcyA8IGxlLmxlbmd0aCAmJiBpIDwgRmk7IClcbiAgICAgIGkgKj0gbGVbcysrXTtcbiAgICBmb3IgKGkgPSByLm1vZEludChpKTsgdCA8IHM7IClcbiAgICAgIGlmIChpICUgbGVbdCsrXSA9PSAwKVxuICAgICAgICByZXR1cm4gITE7XG4gIH1cbiAgcmV0dXJuIHIubWlsbGVyUmFiaW4oZSk7XG59XG5mdW5jdGlvbiBBaShlKSB7XG4gIHZhciB0ID0gdGhpcy5zdWJ0cmFjdChSLk9ORSksIHIgPSB0LmdldExvd2VzdFNldEJpdCgpO1xuICBpZiAociA8PSAwKVxuICAgIHJldHVybiAhMTtcbiAgdmFyIGkgPSB0LnNoaWZ0UmlnaHQocik7XG4gIGUgPSBlICsgMSA+PiAxLCBlID4gbGUubGVuZ3RoICYmIChlID0gbGUubGVuZ3RoKTtcbiAgZm9yICh2YXIgcyA9IF8oKSwgbiA9IDA7IG4gPCBlOyArK24pIHtcbiAgICBzLmZyb21JbnQobGVbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogbGUubGVuZ3RoKV0pO1xuICAgIHZhciBoID0gcy5tb2RQb3coaSwgdGhpcyk7XG4gICAgaWYgKGguY29tcGFyZVRvKFIuT05FKSAhPSAwICYmIGguY29tcGFyZVRvKHQpICE9IDApIHtcbiAgICAgIGZvciAodmFyIHUgPSAxOyB1KysgPCByICYmIGguY29tcGFyZVRvKHQpICE9IDA7IClcbiAgICAgICAgaWYgKGggPSBoLm1vZFBvd0ludCgyLCB0aGlzKSwgaC5jb21wYXJlVG8oUi5PTkUpID09IDApXG4gICAgICAgICAgcmV0dXJuICExO1xuICAgICAgaWYgKGguY29tcGFyZVRvKHQpICE9IDApXG4gICAgICAgIHJldHVybiAhMTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuICEwO1xufVxuUi5wcm90b3R5cGUuY2h1bmtTaXplID0gRHI7XG5SLnByb3RvdHlwZS50b1JhZGl4ID0gSXI7XG5SLnByb3RvdHlwZS5mcm9tUmFkaXggPSBDcjtcblIucHJvdG90eXBlLmZyb21OdW1iZXIgPSBScjtcblIucHJvdG90eXBlLmJpdHdpc2VUbyA9IE9yO1xuUi5wcm90b3R5cGUuY2hhbmdlQml0ID0gSnI7XG5SLnByb3RvdHlwZS5hZGRUbyA9IFFyO1xuUi5wcm90b3R5cGUuZE11bHRpcGx5ID0gb2k7XG5SLnByb3RvdHlwZS5kQWRkT2Zmc2V0ID0gdWk7XG5SLnByb3RvdHlwZS5tdWx0aXBseUxvd2VyVG8gPSBsaTtcblIucHJvdG90eXBlLm11bHRpcGx5VXBwZXJUbyA9IGRpO1xuUi5wcm90b3R5cGUubW9kSW50ID0gRWk7XG5SLnByb3RvdHlwZS5taWxsZXJSYWJpbiA9IEFpO1xuUi5wcm90b3R5cGUuY2xvbmUgPSB3cjtcblIucHJvdG90eXBlLmludFZhbHVlID0gRnI7XG5SLnByb3RvdHlwZS5ieXRlVmFsdWUgPSBicjtcblIucHJvdG90eXBlLnNob3J0VmFsdWUgPSBBcjtcblIucHJvdG90eXBlLnNpZ251bSA9IFByO1xuUi5wcm90b3R5cGUudG9CeXRlQXJyYXkgPSBUcjtcblIucHJvdG90eXBlLmVxdWFscyA9IEJyO1xuUi5wcm90b3R5cGUubWluID0gTnI7XG5SLnByb3RvdHlwZS5tYXggPSBIcjtcblIucHJvdG90eXBlLmFuZCA9IFZyO1xuUi5wcm90b3R5cGUub3IgPSBLcjtcblIucHJvdG90eXBlLnhvciA9IExyO1xuUi5wcm90b3R5cGUuYW5kTm90ID0gcXI7XG5SLnByb3RvdHlwZS5ub3QgPSBrcjtcblIucHJvdG90eXBlLnNoaWZ0TGVmdCA9IE1yO1xuUi5wcm90b3R5cGUuc2hpZnRSaWdodCA9IF9yO1xuUi5wcm90b3R5cGUuZ2V0TG93ZXN0U2V0Qml0ID0genI7XG5SLnByb3RvdHlwZS5iaXRDb3VudCA9IFdyO1xuUi5wcm90b3R5cGUudGVzdEJpdCA9IFhyO1xuUi5wcm90b3R5cGUuc2V0Qml0ID0gJHI7XG5SLnByb3RvdHlwZS5jbGVhckJpdCA9IFlyO1xuUi5wcm90b3R5cGUuZmxpcEJpdCA9IFpyO1xuUi5wcm90b3R5cGUuYWRkID0gZWk7XG5SLnByb3RvdHlwZS5zdWJ0cmFjdCA9IHRpO1xuUi5wcm90b3R5cGUubXVsdGlwbHkgPSByaTtcblIucHJvdG90eXBlLmRpdmlkZSA9IG5pO1xuUi5wcm90b3R5cGUucmVtYWluZGVyID0gc2k7XG5SLnByb3RvdHlwZS5kaXZpZGVBbmRSZW1haW5kZXIgPSBhaTtcblIucHJvdG90eXBlLm1vZFBvdyA9IHhpO1xuUi5wcm90b3R5cGUubW9kSW52ZXJzZSA9IHdpO1xuUi5wcm90b3R5cGUucG93ID0gY2k7XG5SLnByb3RvdHlwZS5nY2QgPSBTaTtcblIucHJvdG90eXBlLmlzUHJvYmFibGVQcmltZSA9IGJpO1xuUi5wcm90b3R5cGUuc3F1YXJlID0gaWk7XG4vKiEgKGMpIFRvbSBXdSB8IGh0dHA6Ly93d3ctY3Mtc3R1ZGVudHMuc3RhbmZvcmQuZWR1L350ancvanNibi9cbiAqL1xuZnVuY3Rpb24gYXQoKSB7XG4gIHRoaXMuaSA9IDAsIHRoaXMuaiA9IDAsIHRoaXMuUyA9IG5ldyBBcnJheSgpO1xufVxuZnVuY3Rpb24gRGkoZSkge1xuICB2YXIgdCwgciwgaTtcbiAgZm9yICh0ID0gMDsgdCA8IDI1NjsgKyt0KVxuICAgIHRoaXMuU1t0XSA9IHQ7XG4gIGZvciAociA9IDAsIHQgPSAwOyB0IDwgMjU2OyArK3QpXG4gICAgciA9IHIgKyB0aGlzLlNbdF0gKyBlW3QgJSBlLmxlbmd0aF0gJiAyNTUsIGkgPSB0aGlzLlNbdF0sIHRoaXMuU1t0XSA9IHRoaXMuU1tyXSwgdGhpcy5TW3JdID0gaTtcbiAgdGhpcy5pID0gMCwgdGhpcy5qID0gMDtcbn1cbmZ1bmN0aW9uIFBpKCkge1xuICB2YXIgZTtcbiAgcmV0dXJuIHRoaXMuaSA9IHRoaXMuaSArIDEgJiAyNTUsIHRoaXMuaiA9IHRoaXMuaiArIHRoaXMuU1t0aGlzLmldICYgMjU1LCBlID0gdGhpcy5TW3RoaXMuaV0sIHRoaXMuU1t0aGlzLmldID0gdGhpcy5TW3RoaXMual0sIHRoaXMuU1t0aGlzLmpdID0gZSwgdGhpcy5TW2UgKyB0aGlzLlNbdGhpcy5pXSAmIDI1NV07XG59XG5hdC5wcm90b3R5cGUuaW5pdCA9IERpO1xuYXQucHJvdG90eXBlLm5leHQgPSBQaTtcbmZ1bmN0aW9uIElpKCkge1xuICByZXR1cm4gbmV3IGF0KCk7XG59XG52YXIgZXQgPSAyNTY7XG4vKiEgKGMpIFRvbSBXdSB8IGh0dHA6Ly93d3ctY3Mtc3R1ZGVudHMuc3RhbmZvcmQuZWR1L350ancvanNibi9cbiAqL1xudmFyIFdlLCBnZSwgb2U7XG5mdW5jdGlvbiBDaShlKSB7XG4gIGdlW29lKytdIF49IGUgJiAyNTUsIGdlW29lKytdIF49IGUgPj4gOCAmIDI1NSwgZ2Vbb2UrK10gXj0gZSA+PiAxNiAmIDI1NSwgZ2Vbb2UrK10gXj0gZSA+PiAyNCAmIDI1NSwgb2UgPj0gZXQgJiYgKG9lIC09IGV0KTtcbn1cbmZ1bmN0aW9uIER0KCkge1xuICBDaSgoLyogQF9fUFVSRV9fICovIG5ldyBEYXRlKCkpLmdldFRpbWUoKSk7XG59XG5pZiAoZ2UgPT0gbnVsbCkge1xuICBnZSA9IG5ldyBBcnJheSgpLCBvZSA9IDA7XG4gIHZhciBTZTtcbiAgaWYgKFZlICE9PSB2b2lkIDAgJiYgKFZlLmNyeXB0byAhPT0gdm9pZCAwIHx8IFZlLm1zQ3J5cHRvICE9PSB2b2lkIDApKSB7XG4gICAgdmFyIGx0ID0gVmUuY3J5cHRvIHx8IFZlLm1zQ3J5cHRvO1xuICAgIGlmIChsdC5nZXRSYW5kb21WYWx1ZXMpIHtcbiAgICAgIHZhciBkdCA9IG5ldyBVaW50OEFycmF5KDMyKTtcbiAgICAgIGZvciAobHQuZ2V0UmFuZG9tVmFsdWVzKGR0KSwgU2UgPSAwOyBTZSA8IDMyOyArK1NlKVxuICAgICAgICBnZVtvZSsrXSA9IGR0W1NlXTtcbiAgICB9IGVsc2UgaWYgKFVlLmFwcE5hbWUgPT0gXCJOZXRzY2FwZVwiICYmIFVlLmFwcFZlcnNpb24gPCBcIjVcIikge1xuICAgICAgdmFyIHB0ID0gVmUuY3J5cHRvLnJhbmRvbSgzMik7XG4gICAgICBmb3IgKFNlID0gMDsgU2UgPCBwdC5sZW5ndGg7ICsrU2UpXG4gICAgICAgIGdlW29lKytdID0gcHQuY2hhckNvZGVBdChTZSkgJiAyNTU7XG4gICAgfVxuICB9XG4gIGZvciAoOyBvZSA8IGV0OyApXG4gICAgU2UgPSBNYXRoLmZsb29yKDY1NTM2ICogTWF0aC5yYW5kb20oKSksIGdlW29lKytdID0gU2UgPj4+IDgsIGdlW29lKytdID0gU2UgJiAyNTU7XG4gIG9lID0gMCwgRHQoKTtcbn1cbmZ1bmN0aW9uIFJpKCkge1xuICBpZiAoV2UgPT0gbnVsbCkge1xuICAgIGZvciAoRHQoKSwgV2UgPSBJaSgpLCBXZS5pbml0KGdlKSwgb2UgPSAwOyBvZSA8IGdlLmxlbmd0aDsgKytvZSlcbiAgICAgIGdlW29lXSA9IDA7XG4gICAgb2UgPSAwO1xuICB9XG4gIHJldHVybiBXZS5uZXh0KCk7XG59XG5mdW5jdGlvbiBUaShlKSB7XG4gIHZhciB0O1xuICBmb3IgKHQgPSAwOyB0IDwgZS5sZW5ndGg7ICsrdClcbiAgICBlW3RdID0gUmkoKTtcbn1cbmZ1bmN0aW9uIEdlKCkge1xufVxuR2UucHJvdG90eXBlLm5leHRCeXRlcyA9IFRpO1xuLyohIChjKSBUb20gV3UgfCBodHRwOi8vd3d3LWNzLXN0dWRlbnRzLnN0YW5mb3JkLmVkdS9+dGp3L2pzYm4vXG4gKi9cbmZ1bmN0aW9uIHZlKGUsIHQpIHtcbiAgcmV0dXJuIG5ldyBSKGUsIHQpO1xufVxuZnVuY3Rpb24gcSgpIHtcbiAgdGhpcy5uID0gbnVsbCwgdGhpcy5lID0gMCwgdGhpcy5kID0gbnVsbCwgdGhpcy5wID0gbnVsbCwgdGhpcy5xID0gbnVsbCwgdGhpcy5kbXAxID0gbnVsbCwgdGhpcy5kbXExID0gbnVsbCwgdGhpcy5jb2VmZiA9IG51bGw7XG59XG5mdW5jdGlvbiBCaShlLCB0KSB7XG4gIGlmICh0aGlzLmlzUHVibGljID0gITAsIHRoaXMuaXNQcml2YXRlID0gITEsIHR5cGVvZiBlICE9IFwic3RyaW5nXCIpXG4gICAgdGhpcy5uID0gZSwgdGhpcy5lID0gdDtcbiAgZWxzZSBpZiAoZSAhPSBudWxsICYmIHQgIT0gbnVsbCAmJiBlLmxlbmd0aCA+IDAgJiYgdC5sZW5ndGggPiAwKVxuICAgIHRoaXMubiA9IHZlKGUsIDE2KSwgdGhpcy5lID0gcGFyc2VJbnQodCwgMTYpO1xuICBlbHNlXG4gICAgdGhyb3cgXCJJbnZhbGlkIFJTQSBwdWJsaWMga2V5XCI7XG59XG5mdW5jdGlvbiBOaShlKSB7XG4gIHJldHVybiBlLm1vZFBvd0ludCh0aGlzLmUsIHRoaXMubik7XG59XG5xLnByb3RvdHlwZS5kb1B1YmxpYyA9IE5pO1xucS5wcm90b3R5cGUuc2V0UHVibGljID0gQmk7XG5xLnByb3RvdHlwZS50eXBlID0gXCJSU0FcIjtcbmZ1bmN0aW9uIEhpKGUsIHQsIHIpIHtcbiAgaWYgKHRoaXMuaXNQcml2YXRlID0gITAsIHR5cGVvZiBlICE9IFwic3RyaW5nXCIpXG4gICAgdGhpcy5uID0gZSwgdGhpcy5lID0gdCwgdGhpcy5kID0gcjtcbiAgZWxzZSBpZiAoZSAhPSBudWxsICYmIHQgIT0gbnVsbCAmJiBlLmxlbmd0aCA+IDAgJiYgdC5sZW5ndGggPiAwKVxuICAgIHRoaXMubiA9IHZlKGUsIDE2KSwgdGhpcy5lID0gcGFyc2VJbnQodCwgMTYpLCB0aGlzLmQgPSB2ZShyLCAxNik7XG4gIGVsc2VcbiAgICB0aHJvdyBcIkludmFsaWQgUlNBIHByaXZhdGUga2V5XCI7XG59XG5mdW5jdGlvbiBPaShlLCB0LCByLCBpLCBzLCBuLCBoLCB1KSB7XG4gIGlmICh0aGlzLmlzUHJpdmF0ZSA9ICEwLCB0aGlzLmlzUHVibGljID0gITEsIGUgPT0gbnVsbClcbiAgICB0aHJvdyBcIlJTQVNldFByaXZhdGVFeCBOID09IG51bGxcIjtcbiAgaWYgKHQgPT0gbnVsbClcbiAgICB0aHJvdyBcIlJTQVNldFByaXZhdGVFeCBFID09IG51bGxcIjtcbiAgaWYgKGUubGVuZ3RoID09IDApXG4gICAgdGhyb3cgXCJSU0FTZXRQcml2YXRlRXggTi5sZW5ndGggPT0gMFwiO1xuICBpZiAodC5sZW5ndGggPT0gMClcbiAgICB0aHJvdyBcIlJTQVNldFByaXZhdGVFeCBFLmxlbmd0aCA9PSAwXCI7XG4gIGlmIChlICE9IG51bGwgJiYgdCAhPSBudWxsICYmIGUubGVuZ3RoID4gMCAmJiB0Lmxlbmd0aCA+IDApXG4gICAgdGhpcy5uID0gdmUoZSwgMTYpLCB0aGlzLmUgPSBwYXJzZUludCh0LCAxNiksIHRoaXMuZCA9IHZlKHIsIDE2KSwgdGhpcy5wID0gdmUoaSwgMTYpLCB0aGlzLnEgPSB2ZShzLCAxNiksIHRoaXMuZG1wMSA9IHZlKG4sIDE2KSwgdGhpcy5kbXExID0gdmUoaCwgMTYpLCB0aGlzLmNvZWZmID0gdmUodSwgMTYpO1xuICBlbHNlXG4gICAgdGhyb3cgXCJJbnZhbGlkIFJTQSBwcml2YXRlIGtleSBpbiBSU0FTZXRQcml2YXRlRXhcIjtcbn1cbmZ1bmN0aW9uIGppKGUsIHQpIHtcbiAgdmFyIHIgPSBuZXcgR2UoKSwgaSA9IGUgPj4gMTtcbiAgdGhpcy5lID0gcGFyc2VJbnQodCwgMTYpO1xuICBmb3IgKHZhciBzID0gbmV3IFIodCwgMTYpLCBuID0gZSAvIDIgLSAxMDAsIGggPSBSLk9ORS5zaGlmdExlZnQobik7IDsgKSB7XG4gICAgZm9yICg7IHRoaXMucCA9IG5ldyBSKGUgLSBpLCAxLCByKSwgISh0aGlzLnAuc3VidHJhY3QoUi5PTkUpLmdjZChzKS5jb21wYXJlVG8oUi5PTkUpID09IDAgJiYgdGhpcy5wLmlzUHJvYmFibGVQcmltZSgxMCkpOyApXG4gICAgICA7XG4gICAgZm9yICg7IHRoaXMucSA9IG5ldyBSKGksIDEsIHIpLCAhKHRoaXMucS5zdWJ0cmFjdChSLk9ORSkuZ2NkKHMpLmNvbXBhcmVUbyhSLk9ORSkgPT0gMCAmJiB0aGlzLnEuaXNQcm9iYWJsZVByaW1lKDEwKSk7IClcbiAgICAgIDtcbiAgICBpZiAodGhpcy5wLmNvbXBhcmVUbyh0aGlzLnEpIDw9IDApIHtcbiAgICAgIHZhciB1ID0gdGhpcy5wO1xuICAgICAgdGhpcy5wID0gdGhpcy5xLCB0aGlzLnEgPSB1O1xuICAgIH1cbiAgICB2YXIgcCA9IHRoaXMucS5zdWJ0cmFjdCh0aGlzLnApLmFicygpO1xuICAgIGlmICghKHAuYml0TGVuZ3RoKCkgPCBuIHx8IHAuY29tcGFyZVRvKGgpIDw9IDApKSB7XG4gICAgICB2YXIgYyA9IHRoaXMucC5zdWJ0cmFjdChSLk9ORSksIHkgPSB0aGlzLnEuc3VidHJhY3QoUi5PTkUpLCB2ID0gYy5tdWx0aXBseSh5KTtcbiAgICAgIGlmICh2LmdjZChzKS5jb21wYXJlVG8oUi5PTkUpID09IDAgJiYgKHRoaXMubiA9IHRoaXMucC5tdWx0aXBseSh0aGlzLnEpLCB0aGlzLm4uYml0TGVuZ3RoKCkgPT0gZSkpIHtcbiAgICAgICAgdGhpcy5kID0gcy5tb2RJbnZlcnNlKHYpLCB0aGlzLmRtcDEgPSB0aGlzLmQubW9kKGMpLCB0aGlzLmRtcTEgPSB0aGlzLmQubW9kKHkpLCB0aGlzLmNvZWZmID0gdGhpcy5xLm1vZEludmVyc2UodGhpcy5wKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHRoaXMuaXNQcml2YXRlID0gITA7XG59XG5mdW5jdGlvbiBWaShlKSB7XG4gIGlmICh0aGlzLnAgPT0gbnVsbCB8fCB0aGlzLnEgPT0gbnVsbClcbiAgICByZXR1cm4gZS5tb2RQb3codGhpcy5kLCB0aGlzLm4pO1xuICBmb3IgKHZhciB0ID0gZS5tb2QodGhpcy5wKS5tb2RQb3codGhpcy5kbXAxLCB0aGlzLnApLCByID0gZS5tb2QodGhpcy5xKS5tb2RQb3codGhpcy5kbXExLCB0aGlzLnEpOyB0LmNvbXBhcmVUbyhyKSA8IDA7IClcbiAgICB0ID0gdC5hZGQodGhpcy5wKTtcbiAgcmV0dXJuIHQuc3VidHJhY3QocikubXVsdGlwbHkodGhpcy5jb2VmZikubW9kKHRoaXMucCkubXVsdGlwbHkodGhpcy5xKS5hZGQocik7XG59XG5xLnByb3RvdHlwZS5kb1ByaXZhdGUgPSBWaTtcbnEucHJvdG90eXBlLnNldFByaXZhdGUgPSBIaTtcbnEucHJvdG90eXBlLnNldFByaXZhdGVFeCA9IE9pO1xucS5wcm90b3R5cGUuZ2VuZXJhdGUgPSBqaTtcbi8qISAoYykgVG9tIFd1IHwgaHR0cDovL3d3dy1jcy1zdHVkZW50cy5zdGFuZm9yZC5lZHUvfnRqdy9qc2JuL1xuICovXG5mdW5jdGlvbiB1ZShlLCB0KSB7XG4gIHRoaXMueCA9IHQsIHRoaXMucSA9IGU7XG59XG5mdW5jdGlvbiBLaShlKSB7XG4gIHJldHVybiBlID09IHRoaXMgPyAhMCA6IHRoaXMucS5lcXVhbHMoZS5xKSAmJiB0aGlzLnguZXF1YWxzKGUueCk7XG59XG5mdW5jdGlvbiBMaSgpIHtcbiAgcmV0dXJuIHRoaXMueDtcbn1cbmZ1bmN0aW9uIHFpKCkge1xuICByZXR1cm4gbmV3IHVlKHRoaXMucSwgdGhpcy54Lm5lZ2F0ZSgpLm1vZCh0aGlzLnEpKTtcbn1cbmZ1bmN0aW9uIGtpKGUpIHtcbiAgcmV0dXJuIG5ldyB1ZSh0aGlzLnEsIHRoaXMueC5hZGQoZS50b0JpZ0ludGVnZXIoKSkubW9kKHRoaXMucSkpO1xufVxuZnVuY3Rpb24gTWkoZSkge1xuICByZXR1cm4gbmV3IHVlKHRoaXMucSwgdGhpcy54LnN1YnRyYWN0KGUudG9CaWdJbnRlZ2VyKCkpLm1vZCh0aGlzLnEpKTtcbn1cbmZ1bmN0aW9uIF9pKGUpIHtcbiAgcmV0dXJuIG5ldyB1ZSh0aGlzLnEsIHRoaXMueC5tdWx0aXBseShlLnRvQmlnSW50ZWdlcigpKS5tb2QodGhpcy5xKSk7XG59XG5mdW5jdGlvbiBVaSgpIHtcbiAgcmV0dXJuIG5ldyB1ZSh0aGlzLnEsIHRoaXMueC5zcXVhcmUoKS5tb2QodGhpcy5xKSk7XG59XG5mdW5jdGlvbiB6aShlKSB7XG4gIHJldHVybiBuZXcgdWUodGhpcy5xLCB0aGlzLngubXVsdGlwbHkoZS50b0JpZ0ludGVnZXIoKS5tb2RJbnZlcnNlKHRoaXMucSkpLm1vZCh0aGlzLnEpKTtcbn1cbnVlLnByb3RvdHlwZS5lcXVhbHMgPSBLaTtcbnVlLnByb3RvdHlwZS50b0JpZ0ludGVnZXIgPSBMaTtcbnVlLnByb3RvdHlwZS5uZWdhdGUgPSBxaTtcbnVlLnByb3RvdHlwZS5hZGQgPSBraTtcbnVlLnByb3RvdHlwZS5zdWJ0cmFjdCA9IE1pO1xudWUucHJvdG90eXBlLm11bHRpcGx5ID0gX2k7XG51ZS5wcm90b3R5cGUuc3F1YXJlID0gVWk7XG51ZS5wcm90b3R5cGUuZGl2aWRlID0gemk7XG51ZS5wcm90b3R5cGUuc3FydCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbmV3IHVlKHRoaXMucSwgdGhpcy54LnNxcnQoKS5tb2QodGhpcy5xKSk7XG59O1xuZnVuY3Rpb24geihlLCB0LCByLCBpKSB7XG4gIHRoaXMuY3VydmUgPSBlLCB0aGlzLnggPSB0LCB0aGlzLnkgPSByLCBpID09IG51bGwgPyB0aGlzLnogPSBSLk9ORSA6IHRoaXMueiA9IGksIHRoaXMuemludiA9IG51bGw7XG59XG5mdW5jdGlvbiBHaSgpIHtcbiAgcmV0dXJuIHRoaXMuemludiA9PSBudWxsICYmICh0aGlzLnppbnYgPSB0aGlzLnoubW9kSW52ZXJzZSh0aGlzLmN1cnZlLnEpKSwgdGhpcy5jdXJ2ZS5mcm9tQmlnSW50ZWdlcih0aGlzLngudG9CaWdJbnRlZ2VyKCkubXVsdGlwbHkodGhpcy56aW52KS5tb2QodGhpcy5jdXJ2ZS5xKSk7XG59XG5mdW5jdGlvbiBXaSgpIHtcbiAgcmV0dXJuIHRoaXMuemludiA9PSBudWxsICYmICh0aGlzLnppbnYgPSB0aGlzLnoubW9kSW52ZXJzZSh0aGlzLmN1cnZlLnEpKSwgdGhpcy5jdXJ2ZS5mcm9tQmlnSW50ZWdlcih0aGlzLnkudG9CaWdJbnRlZ2VyKCkubXVsdGlwbHkodGhpcy56aW52KS5tb2QodGhpcy5jdXJ2ZS5xKSk7XG59XG5mdW5jdGlvbiBYaShlKSB7XG4gIGlmIChlID09IHRoaXMpXG4gICAgcmV0dXJuICEwO1xuICBpZiAodGhpcy5pc0luZmluaXR5KCkpXG4gICAgcmV0dXJuIGUuaXNJbmZpbml0eSgpO1xuICBpZiAoZS5pc0luZmluaXR5KCkpXG4gICAgcmV0dXJuIHRoaXMuaXNJbmZpbml0eSgpO1xuICB2YXIgdCwgcjtcbiAgcmV0dXJuIHQgPSBlLnkudG9CaWdJbnRlZ2VyKCkubXVsdGlwbHkodGhpcy56KS5zdWJ0cmFjdCh0aGlzLnkudG9CaWdJbnRlZ2VyKCkubXVsdGlwbHkoZS56KSkubW9kKHRoaXMuY3VydmUucSksIHQuZXF1YWxzKFIuWkVSTykgPyAociA9IGUueC50b0JpZ0ludGVnZXIoKS5tdWx0aXBseSh0aGlzLnopLnN1YnRyYWN0KHRoaXMueC50b0JpZ0ludGVnZXIoKS5tdWx0aXBseShlLnopKS5tb2QodGhpcy5jdXJ2ZS5xKSwgci5lcXVhbHMoUi5aRVJPKSkgOiAhMTtcbn1cbmZ1bmN0aW9uIEppKCkge1xuICByZXR1cm4gdGhpcy54ID09IG51bGwgJiYgdGhpcy55ID09IG51bGwgPyAhMCA6IHRoaXMuei5lcXVhbHMoUi5aRVJPKSAmJiAhdGhpcy55LnRvQmlnSW50ZWdlcigpLmVxdWFscyhSLlpFUk8pO1xufVxuZnVuY3Rpb24gJGkoKSB7XG4gIHJldHVybiBuZXcgeih0aGlzLmN1cnZlLCB0aGlzLngsIHRoaXMueS5uZWdhdGUoKSwgdGhpcy56KTtcbn1cbmZ1bmN0aW9uIFlpKGUpIHtcbiAgaWYgKHRoaXMuaXNJbmZpbml0eSgpKVxuICAgIHJldHVybiBlO1xuICBpZiAoZS5pc0luZmluaXR5KCkpXG4gICAgcmV0dXJuIHRoaXM7XG4gIHZhciB0ID0gZS55LnRvQmlnSW50ZWdlcigpLm11bHRpcGx5KHRoaXMueikuc3VidHJhY3QodGhpcy55LnRvQmlnSW50ZWdlcigpLm11bHRpcGx5KGUueikpLm1vZCh0aGlzLmN1cnZlLnEpLCByID0gZS54LnRvQmlnSW50ZWdlcigpLm11bHRpcGx5KHRoaXMueikuc3VidHJhY3QodGhpcy54LnRvQmlnSW50ZWdlcigpLm11bHRpcGx5KGUueikpLm1vZCh0aGlzLmN1cnZlLnEpO1xuICBpZiAoUi5aRVJPLmVxdWFscyhyKSlcbiAgICByZXR1cm4gUi5aRVJPLmVxdWFscyh0KSA/IHRoaXMudHdpY2UoKSA6IHRoaXMuY3VydmUuZ2V0SW5maW5pdHkoKTtcbiAgdmFyIGkgPSBuZXcgUihcIjNcIiksIHMgPSB0aGlzLngudG9CaWdJbnRlZ2VyKCksIG4gPSB0aGlzLnkudG9CaWdJbnRlZ2VyKCk7XG4gIGUueC50b0JpZ0ludGVnZXIoKSwgZS55LnRvQmlnSW50ZWdlcigpO1xuICB2YXIgaCA9IHIuc3F1YXJlKCksIHUgPSBoLm11bHRpcGx5KHIpLCBwID0gcy5tdWx0aXBseShoKSwgYyA9IHQuc3F1YXJlKCkubXVsdGlwbHkodGhpcy56KSwgeSA9IGMuc3VidHJhY3QocC5zaGlmdExlZnQoMSkpLm11bHRpcGx5KGUueikuc3VidHJhY3QodSkubXVsdGlwbHkocikubW9kKHRoaXMuY3VydmUucSksIHYgPSBwLm11bHRpcGx5KGkpLm11bHRpcGx5KHQpLnN1YnRyYWN0KG4ubXVsdGlwbHkodSkpLnN1YnRyYWN0KGMubXVsdGlwbHkodCkpLm11bHRpcGx5KGUueikuYWRkKHQubXVsdGlwbHkodSkpLm1vZCh0aGlzLmN1cnZlLnEpLCBvID0gdS5tdWx0aXBseSh0aGlzLnopLm11bHRpcGx5KGUueikubW9kKHRoaXMuY3VydmUucSk7XG4gIHJldHVybiBuZXcgeih0aGlzLmN1cnZlLCB0aGlzLmN1cnZlLmZyb21CaWdJbnRlZ2VyKHkpLCB0aGlzLmN1cnZlLmZyb21CaWdJbnRlZ2VyKHYpLCBvKTtcbn1cbmZ1bmN0aW9uIFppKCkge1xuICBpZiAodGhpcy5pc0luZmluaXR5KCkpXG4gICAgcmV0dXJuIHRoaXM7XG4gIGlmICh0aGlzLnkudG9CaWdJbnRlZ2VyKCkuc2lnbnVtKCkgPT0gMClcbiAgICByZXR1cm4gdGhpcy5jdXJ2ZS5nZXRJbmZpbml0eSgpO1xuICB2YXIgZSA9IG5ldyBSKFwiM1wiKSwgdCA9IHRoaXMueC50b0JpZ0ludGVnZXIoKSwgciA9IHRoaXMueS50b0JpZ0ludGVnZXIoKSwgaSA9IHIubXVsdGlwbHkodGhpcy56KSwgcyA9IGkubXVsdGlwbHkocikubW9kKHRoaXMuY3VydmUucSksIG4gPSB0aGlzLmN1cnZlLmEudG9CaWdJbnRlZ2VyKCksIGggPSB0LnNxdWFyZSgpLm11bHRpcGx5KGUpO1xuICBSLlpFUk8uZXF1YWxzKG4pIHx8IChoID0gaC5hZGQodGhpcy56LnNxdWFyZSgpLm11bHRpcGx5KG4pKSksIGggPSBoLm1vZCh0aGlzLmN1cnZlLnEpO1xuICB2YXIgdSA9IGguc3F1YXJlKCkuc3VidHJhY3QodC5zaGlmdExlZnQoMykubXVsdGlwbHkocykpLnNoaWZ0TGVmdCgxKS5tdWx0aXBseShpKS5tb2QodGhpcy5jdXJ2ZS5xKSwgcCA9IGgubXVsdGlwbHkoZSkubXVsdGlwbHkodCkuc3VidHJhY3Qocy5zaGlmdExlZnQoMSkpLnNoaWZ0TGVmdCgyKS5tdWx0aXBseShzKS5zdWJ0cmFjdChoLnNxdWFyZSgpLm11bHRpcGx5KGgpKS5tb2QodGhpcy5jdXJ2ZS5xKSwgYyA9IGkuc3F1YXJlKCkubXVsdGlwbHkoaSkuc2hpZnRMZWZ0KDMpLm1vZCh0aGlzLmN1cnZlLnEpO1xuICByZXR1cm4gbmV3IHoodGhpcy5jdXJ2ZSwgdGhpcy5jdXJ2ZS5mcm9tQmlnSW50ZWdlcih1KSwgdGhpcy5jdXJ2ZS5mcm9tQmlnSW50ZWdlcihwKSwgYyk7XG59XG5mdW5jdGlvbiBRaShlKSB7XG4gIGlmICh0aGlzLmlzSW5maW5pdHkoKSlcbiAgICByZXR1cm4gdGhpcztcbiAgaWYgKGUuc2lnbnVtKCkgPT0gMClcbiAgICByZXR1cm4gdGhpcy5jdXJ2ZS5nZXRJbmZpbml0eSgpO1xuICB2YXIgdCA9IGUsIHIgPSB0Lm11bHRpcGx5KG5ldyBSKFwiM1wiKSksIGkgPSB0aGlzLm5lZ2F0ZSgpLCBzID0gdGhpcywgbiA9IHRoaXMuY3VydmUucS5zdWJ0cmFjdChlKSwgaCA9IG4ubXVsdGlwbHkobmV3IFIoXCIzXCIpKSwgdSA9IG5ldyB6KHRoaXMuY3VydmUsIHRoaXMueCwgdGhpcy55KSwgcCA9IHUubmVnYXRlKCksIGM7XG4gIGZvciAoYyA9IHIuYml0TGVuZ3RoKCkgLSAyOyBjID4gMDsgLS1jKSB7XG4gICAgcyA9IHMudHdpY2UoKTtcbiAgICB2YXIgeSA9IHIudGVzdEJpdChjKSwgdiA9IHQudGVzdEJpdChjKTtcbiAgICB5ICE9IHYgJiYgKHMgPSBzLmFkZCh5ID8gdGhpcyA6IGkpKTtcbiAgfVxuICBmb3IgKGMgPSBoLmJpdExlbmd0aCgpIC0gMjsgYyA+IDA7IC0tYykge1xuICAgIHUgPSB1LnR3aWNlKCk7XG4gICAgdmFyIG8gPSBoLnRlc3RCaXQoYyksIGwgPSBuLnRlc3RCaXQoYyk7XG4gICAgbyAhPSBsICYmICh1ID0gdS5hZGQobyA/IHUgOiBwKSk7XG4gIH1cbiAgcmV0dXJuIHM7XG59XG5mdW5jdGlvbiBlbihlLCB0LCByKSB7XG4gIHZhciBpO1xuICBlLmJpdExlbmd0aCgpID4gci5iaXRMZW5ndGgoKSA/IGkgPSBlLmJpdExlbmd0aCgpIC0gMSA6IGkgPSByLmJpdExlbmd0aCgpIC0gMTtcbiAgZm9yICh2YXIgcyA9IHRoaXMuY3VydmUuZ2V0SW5maW5pdHkoKSwgbiA9IHRoaXMuYWRkKHQpOyBpID49IDA7IClcbiAgICBzID0gcy50d2ljZSgpLCBlLnRlc3RCaXQoaSkgPyByLnRlc3RCaXQoaSkgPyBzID0gcy5hZGQobikgOiBzID0gcy5hZGQodGhpcykgOiByLnRlc3RCaXQoaSkgJiYgKHMgPSBzLmFkZCh0KSksIC0taTtcbiAgcmV0dXJuIHM7XG59XG56LnByb3RvdHlwZS5nZXRYID0gR2k7XG56LnByb3RvdHlwZS5nZXRZID0gV2k7XG56LnByb3RvdHlwZS5lcXVhbHMgPSBYaTtcbnoucHJvdG90eXBlLmlzSW5maW5pdHkgPSBKaTtcbnoucHJvdG90eXBlLm5lZ2F0ZSA9ICRpO1xuei5wcm90b3R5cGUuYWRkID0gWWk7XG56LnByb3RvdHlwZS50d2ljZSA9IFppO1xuei5wcm90b3R5cGUubXVsdGlwbHkgPSBRaTtcbnoucHJvdG90eXBlLm11bHRpcGx5VHdvID0gZW47XG5mdW5jdGlvbiBCZShlLCB0LCByKSB7XG4gIHRoaXMucSA9IGUsIHRoaXMuYSA9IHRoaXMuZnJvbUJpZ0ludGVnZXIodCksIHRoaXMuYiA9IHRoaXMuZnJvbUJpZ0ludGVnZXIociksIHRoaXMuaW5maW5pdHkgPSBuZXcgeih0aGlzLCBudWxsLCBudWxsKTtcbn1cbmZ1bmN0aW9uIHRuKCkge1xuICByZXR1cm4gdGhpcy5xO1xufVxuZnVuY3Rpb24gcm4oKSB7XG4gIHJldHVybiB0aGlzLmE7XG59XG5mdW5jdGlvbiBubigpIHtcbiAgcmV0dXJuIHRoaXMuYjtcbn1cbmZ1bmN0aW9uIHNuKGUpIHtcbiAgcmV0dXJuIGUgPT0gdGhpcyA/ICEwIDogdGhpcy5xLmVxdWFscyhlLnEpICYmIHRoaXMuYS5lcXVhbHMoZS5hKSAmJiB0aGlzLmIuZXF1YWxzKGUuYik7XG59XG5mdW5jdGlvbiBhbigpIHtcbiAgcmV0dXJuIHRoaXMuaW5maW5pdHk7XG59XG5mdW5jdGlvbiBvbihlKSB7XG4gIHJldHVybiBuZXcgdWUodGhpcy5xLCBlKTtcbn1cbmZ1bmN0aW9uIHVuKGUpIHtcbiAgc3dpdGNoIChwYXJzZUludChlLnN1YnN0cigwLCAyKSwgMTYpKSB7XG4gICAgY2FzZSAwOlxuICAgICAgcmV0dXJuIHRoaXMuaW5maW5pdHk7XG4gICAgY2FzZSAyOlxuICAgIGNhc2UgMzpcbiAgICAgIHZhciB0ID0gZS5zdWJzdHIoMCwgMik7XG4gICAgICBlLnN1YnN0cigyKTtcbiAgICAgIHZhciByID0gdGhpcy5mcm9tQmlnSW50ZWdlcihuZXcgUihwLCAxNikpLCBpID0gdGhpcy5nZXRBKCksIHMgPSB0aGlzLmdldEIoKSwgbiA9IHIuc3F1YXJlKCkuYWRkKGkpLm11bHRpcGx5KHIpLmFkZChzKSwgaCA9IG4uc3FydCgpO1xuICAgICAgcmV0dXJuIHQgPT0gXCIwM1wiICYmIChoID0gaC5uZWdhdGUoKSksIG5ldyB6KHRoaXMsIHIsIGgpO1xuICAgIGNhc2UgNDpcbiAgICBjYXNlIDY6XG4gICAgY2FzZSA3OlxuICAgICAgdmFyIHUgPSAoZS5sZW5ndGggLSAyKSAvIDIsIHAgPSBlLnN1YnN0cigyLCB1KSwgYyA9IGUuc3Vic3RyKHUgKyAyLCB1KTtcbiAgICAgIHJldHVybiBuZXcgeih0aGlzLCB0aGlzLmZyb21CaWdJbnRlZ2VyKG5ldyBSKHAsIDE2KSksIHRoaXMuZnJvbUJpZ0ludGVnZXIobmV3IFIoYywgMTYpKSk7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBudWxsO1xuICB9XG59XG5CZS5wcm90b3R5cGUuZ2V0USA9IHRuO1xuQmUucHJvdG90eXBlLmdldEEgPSBybjtcbkJlLnByb3RvdHlwZS5nZXRCID0gbm47XG5CZS5wcm90b3R5cGUuZXF1YWxzID0gc247XG5CZS5wcm90b3R5cGUuZ2V0SW5maW5pdHkgPSBhbjtcbkJlLnByb3RvdHlwZS5mcm9tQmlnSW50ZWdlciA9IG9uO1xuQmUucHJvdG90eXBlLmRlY29kZVBvaW50SGV4ID0gdW47XG4vKiEgKGMpIFN0ZWZhbiBUaG9tYXMgfCBodHRwczovL2dpdGh1Yi5jb20vYml0Y29pbmpzL2JpdGNvaW5qcy1saWJcbiAqL1xudWUucHJvdG90eXBlLmdldEJ5dGVMZW5ndGggPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIE1hdGguZmxvb3IoKHRoaXMudG9CaWdJbnRlZ2VyKCkuYml0TGVuZ3RoKCkgKyA3KSAvIDgpO1xufTtcbnoucHJvdG90eXBlLmdldEVuY29kZWQgPSBmdW5jdGlvbihlKSB7XG4gIHZhciB0ID0gZnVuY3Rpb24obiwgaCkge1xuICAgIHZhciB1ID0gbi50b0J5dGVBcnJheVVuc2lnbmVkKCk7XG4gICAgaWYgKGggPCB1Lmxlbmd0aClcbiAgICAgIHUgPSB1LnNsaWNlKHUubGVuZ3RoIC0gaCk7XG4gICAgZWxzZVxuICAgICAgZm9yICg7IGggPiB1Lmxlbmd0aDsgKVxuICAgICAgICB1LnVuc2hpZnQoMCk7XG4gICAgcmV0dXJuIHU7XG4gIH0sIHIgPSB0aGlzLmdldFgoKS50b0JpZ0ludGVnZXIoKSwgaSA9IHRoaXMuZ2V0WSgpLnRvQmlnSW50ZWdlcigpLCBzID0gdChyLCAzMik7XG4gIHJldHVybiBlID8gaS5pc0V2ZW4oKSA/IHMudW5zaGlmdCgyKSA6IHMudW5zaGlmdCgzKSA6IChzLnVuc2hpZnQoNCksIHMgPSBzLmNvbmNhdCh0KGksIDMyKSkpLCBzO1xufTtcbnouZGVjb2RlRnJvbSA9IGZ1bmN0aW9uKGUsIHQpIHtcbiAgdFswXTtcbiAgdmFyIHIgPSB0Lmxlbmd0aCAtIDEsIGkgPSB0LnNsaWNlKDEsIDEgKyByIC8gMiksIHMgPSB0LnNsaWNlKDEgKyByIC8gMiwgMSArIHIpO1xuICBpLnVuc2hpZnQoMCksIHMudW5zaGlmdCgwKTtcbiAgdmFyIG4gPSBuZXcgUihpKSwgaCA9IG5ldyBSKHMpO1xuICByZXR1cm4gbmV3IHooZSwgZS5mcm9tQmlnSW50ZWdlcihuKSwgZS5mcm9tQmlnSW50ZWdlcihoKSk7XG59O1xuei5kZWNvZGVGcm9tSGV4ID0gZnVuY3Rpb24oZSwgdCkge1xuICB0LnN1YnN0cigwLCAyKTtcbiAgdmFyIHIgPSB0Lmxlbmd0aCAtIDIsIGkgPSB0LnN1YnN0cigyLCByIC8gMiksIHMgPSB0LnN1YnN0cigyICsgciAvIDIsIHIgLyAyKSwgbiA9IG5ldyBSKGksIDE2KSwgaCA9IG5ldyBSKHMsIDE2KTtcbiAgcmV0dXJuIG5ldyB6KGUsIGUuZnJvbUJpZ0ludGVnZXIobiksIGUuZnJvbUJpZ0ludGVnZXIoaCkpO1xufTtcbnoucHJvdG90eXBlLmFkZDJEID0gZnVuY3Rpb24oZSkge1xuICBpZiAodGhpcy5pc0luZmluaXR5KCkpXG4gICAgcmV0dXJuIGU7XG4gIGlmIChlLmlzSW5maW5pdHkoKSlcbiAgICByZXR1cm4gdGhpcztcbiAgaWYgKHRoaXMueC5lcXVhbHMoZS54KSlcbiAgICByZXR1cm4gdGhpcy55LmVxdWFscyhlLnkpID8gdGhpcy50d2ljZSgpIDogdGhpcy5jdXJ2ZS5nZXRJbmZpbml0eSgpO1xuICB2YXIgdCA9IGUueC5zdWJ0cmFjdCh0aGlzLngpLCByID0gZS55LnN1YnRyYWN0KHRoaXMueSksIGkgPSByLmRpdmlkZSh0KSwgcyA9IGkuc3F1YXJlKCkuc3VidHJhY3QodGhpcy54KS5zdWJ0cmFjdChlLngpLCBuID0gaS5tdWx0aXBseSh0aGlzLnguc3VidHJhY3QocykpLnN1YnRyYWN0KHRoaXMueSk7XG4gIHJldHVybiBuZXcgeih0aGlzLmN1cnZlLCBzLCBuKTtcbn07XG56LnByb3RvdHlwZS50d2ljZTJEID0gZnVuY3Rpb24oKSB7XG4gIGlmICh0aGlzLmlzSW5maW5pdHkoKSlcbiAgICByZXR1cm4gdGhpcztcbiAgaWYgKHRoaXMueS50b0JpZ0ludGVnZXIoKS5zaWdudW0oKSA9PSAwKVxuICAgIHJldHVybiB0aGlzLmN1cnZlLmdldEluZmluaXR5KCk7XG4gIHZhciBlID0gdGhpcy5jdXJ2ZS5mcm9tQmlnSW50ZWdlcihSLnZhbHVlT2YoMikpLCB0ID0gdGhpcy5jdXJ2ZS5mcm9tQmlnSW50ZWdlcihSLnZhbHVlT2YoMykpLCByID0gdGhpcy54LnNxdWFyZSgpLm11bHRpcGx5KHQpLmFkZCh0aGlzLmN1cnZlLmEpLmRpdmlkZSh0aGlzLnkubXVsdGlwbHkoZSkpLCBpID0gci5zcXVhcmUoKS5zdWJ0cmFjdCh0aGlzLngubXVsdGlwbHkoZSkpLCBzID0gci5tdWx0aXBseSh0aGlzLnguc3VidHJhY3QoaSkpLnN1YnRyYWN0KHRoaXMueSk7XG4gIHJldHVybiBuZXcgeih0aGlzLmN1cnZlLCBpLCBzKTtcbn07XG56LnByb3RvdHlwZS5tdWx0aXBseTJEID0gZnVuY3Rpb24oZSkge1xuICBpZiAodGhpcy5pc0luZmluaXR5KCkpXG4gICAgcmV0dXJuIHRoaXM7XG4gIGlmIChlLnNpZ251bSgpID09IDApXG4gICAgcmV0dXJuIHRoaXMuY3VydmUuZ2V0SW5maW5pdHkoKTtcbiAgdmFyIHQgPSBlLCByID0gdC5tdWx0aXBseShuZXcgUihcIjNcIikpLCBpID0gdGhpcy5uZWdhdGUoKSwgcyA9IHRoaXMsIG47XG4gIGZvciAobiA9IHIuYml0TGVuZ3RoKCkgLSAyOyBuID4gMDsgLS1uKSB7XG4gICAgcyA9IHMudHdpY2UoKTtcbiAgICB2YXIgaCA9IHIudGVzdEJpdChuKSwgdSA9IHQudGVzdEJpdChuKTtcbiAgICBoICE9IHUgJiYgKHMgPSBzLmFkZDJEKGggPyB0aGlzIDogaSkpO1xuICB9XG4gIHJldHVybiBzO1xufTtcbnoucHJvdG90eXBlLmlzT25DdXJ2ZSA9IGZ1bmN0aW9uKCkge1xuICB2YXIgZSA9IHRoaXMuZ2V0WCgpLnRvQmlnSW50ZWdlcigpLCB0ID0gdGhpcy5nZXRZKCkudG9CaWdJbnRlZ2VyKCksIHIgPSB0aGlzLmN1cnZlLmdldEEoKS50b0JpZ0ludGVnZXIoKSwgaSA9IHRoaXMuY3VydmUuZ2V0QigpLnRvQmlnSW50ZWdlcigpLCBzID0gdGhpcy5jdXJ2ZS5nZXRRKCksIG4gPSB0Lm11bHRpcGx5KHQpLm1vZChzKSwgaCA9IGUubXVsdGlwbHkoZSkubXVsdGlwbHkoZSkuYWRkKHIubXVsdGlwbHkoZSkpLmFkZChpKS5tb2Qocyk7XG4gIHJldHVybiBuLmVxdWFscyhoKTtcbn07XG56LnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gXCIoXCIgKyB0aGlzLmdldFgoKS50b0JpZ0ludGVnZXIoKS50b1N0cmluZygpICsgXCIsXCIgKyB0aGlzLmdldFkoKS50b0JpZ0ludGVnZXIoKS50b1N0cmluZygpICsgXCIpXCI7XG59O1xuei5wcm90b3R5cGUudmFsaWRhdGUgPSBmdW5jdGlvbigpIHtcbiAgdmFyIGUgPSB0aGlzLmN1cnZlLmdldFEoKTtcbiAgaWYgKHRoaXMuaXNJbmZpbml0eSgpKVxuICAgIHRocm93IG5ldyBFcnJvcihcIlBvaW50IGlzIGF0IGluZmluaXR5LlwiKTtcbiAgdmFyIHQgPSB0aGlzLmdldFgoKS50b0JpZ0ludGVnZXIoKSwgciA9IHRoaXMuZ2V0WSgpLnRvQmlnSW50ZWdlcigpO1xuICBpZiAodC5jb21wYXJlVG8oUi5PTkUpIDwgMCB8fCB0LmNvbXBhcmVUbyhlLnN1YnRyYWN0KFIuT05FKSkgPiAwKVxuICAgIHRocm93IG5ldyBFcnJvcihcInggY29vcmRpbmF0ZSBvdXQgb2YgYm91bmRzXCIpO1xuICBpZiAoci5jb21wYXJlVG8oUi5PTkUpIDwgMCB8fCByLmNvbXBhcmVUbyhlLnN1YnRyYWN0KFIuT05FKSkgPiAwKVxuICAgIHRocm93IG5ldyBFcnJvcihcInkgY29vcmRpbmF0ZSBvdXQgb2YgYm91bmRzXCIpO1xuICBpZiAoIXRoaXMuaXNPbkN1cnZlKCkpXG4gICAgdGhyb3cgbmV3IEVycm9yKFwiUG9pbnQgaXMgbm90IG9uIHRoZSBjdXJ2ZS5cIik7XG4gIGlmICh0aGlzLm11bHRpcGx5KGUpLmlzSW5maW5pdHkoKSlcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJQb2ludCBpcyBub3QgYSBzY2FsYXIgbXVsdGlwbGUgb2YgRy5cIik7XG4gIHJldHVybiAhMDtcbn07XG4vKiEgTWlrZSBTYW11ZWwgKGMpIDIwMDkgfCBjb2RlLmdvb2dsZS5jb20vcC9qc29uLXNhbnMtZXZhbFxuICovXG52YXIgUHQgPSBmdW5jdGlvbigpIHtcbiAgdmFyIGUgPSBcIig/Oi0/XFxcXGIoPzowfFsxLTldWzAtOV0qKSg/OlxcXFwuWzAtOV0rKT8oPzpbZUVdWystXT9bMC05XSspP1xcXFxiKVwiLCB0ID0gJyg/OlteXFxcXDAtXFxcXHgwOFxcXFx4MGEtXFxcXHgxZlwiXFxcXFxcXFxdfFxcXFxcXFxcKD86W1wiL1xcXFxcXFxcYmZucnRdfHVbMC05QS1GYS1mXXs0fSkpJywgciA9ICcoPzpcIicgKyB0ICsgJypcIiknLCBpID0gbmV3IFJlZ0V4cChcIig/OmZhbHNlfHRydWV8bnVsbHxbXFxcXHtcXFxcfVxcXFxbXFxcXF1dfFwiICsgZSArIFwifFwiICsgciArIFwiKVwiLCBcImdcIiksIHMgPSBuZXcgUmVnRXhwKFwiXFxcXFxcXFwoPzooW151XSl8dSguezR9KSlcIiwgXCJnXCIpLCBuID0geyAnXCInOiAnXCInLCBcIi9cIjogXCIvXCIsIFwiXFxcXFwiOiBcIlxcXFxcIiwgYjogXCJcXGJcIiwgZjogXCJcXGZcIiwgbjogYFxuYCwgcjogXCJcXHJcIiwgdDogXCJcdFwiIH07XG4gIGZ1bmN0aW9uIGgoeSwgdiwgbykge1xuICAgIHJldHVybiB2ID8gblt2XSA6IFN0cmluZy5mcm9tQ2hhckNvZGUocGFyc2VJbnQobywgMTYpKTtcbiAgfVxuICB2YXIgdSA9IG5ldyBTdHJpbmcoXCJcIiksIHAgPSBcIlxcXFxcIiwgYyA9IE9iamVjdC5oYXNPd25Qcm9wZXJ0eTtcbiAgcmV0dXJuIGZ1bmN0aW9uKHksIHYpIHtcbiAgICB2YXIgbyA9IHkubWF0Y2goaSksIGwsIGYgPSBvWzBdLCBkID0gITE7XG4gICAgZiA9PT0gXCJ7XCIgPyBsID0ge30gOiBmID09PSBcIltcIiA/IGwgPSBbXSA6IChsID0gW10sIGQgPSAhMCk7XG4gICAgZm9yICh2YXIgZywgUyA9IFtsXSwgYiA9IDEgLSBkLCBEID0gby5sZW5ndGg7IGIgPCBEOyArK2IpIHtcbiAgICAgIGYgPSBvW2JdO1xuICAgICAgdmFyIEE7XG4gICAgICBzd2l0Y2ggKGYuY2hhckNvZGVBdCgwKSkge1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIEEgPSBTWzBdLCBBW2cgfHwgQS5sZW5ndGhdID0gK2YsIGcgPSB2b2lkIDA7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMzQ6XG4gICAgICAgICAgaWYgKGYgPSBmLnN1YnN0cmluZygxLCBmLmxlbmd0aCAtIDEpLCBmLmluZGV4T2YocCkgIT09IC0xICYmIChmID0gZi5yZXBsYWNlKHMsIGgpKSwgQSA9IFNbMF0sICFnKVxuICAgICAgICAgICAgaWYgKEEgaW5zdGFuY2VvZiBBcnJheSlcbiAgICAgICAgICAgICAgZyA9IEEubGVuZ3RoO1xuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgIGcgPSBmIHx8IHU7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIEFbZ10gPSBmLCBnID0gdm9pZCAwO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDkxOlxuICAgICAgICAgIEEgPSBTWzBdLCBTLnVuc2hpZnQoQVtnIHx8IEEubGVuZ3RoXSA9IFtdKSwgZyA9IHZvaWQgMDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSA5MzpcbiAgICAgICAgICBTLnNoaWZ0KCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTAyOlxuICAgICAgICAgIEEgPSBTWzBdLCBBW2cgfHwgQS5sZW5ndGhdID0gITEsIGcgPSB2b2lkIDA7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTEwOlxuICAgICAgICAgIEEgPSBTWzBdLCBBW2cgfHwgQS5sZW5ndGhdID0gbnVsbCwgZyA9IHZvaWQgMDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxMTY6XG4gICAgICAgICAgQSA9IFNbMF0sIEFbZyB8fCBBLmxlbmd0aF0gPSAhMCwgZyA9IHZvaWQgMDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxMjM6XG4gICAgICAgICAgQSA9IFNbMF0sIFMudW5zaGlmdChBW2cgfHwgQS5sZW5ndGhdID0ge30pLCBnID0gdm9pZCAwO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDEyNTpcbiAgICAgICAgICBTLnNoaWZ0KCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChkKSB7XG4gICAgICBpZiAoUy5sZW5ndGggIT09IDEpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcigpO1xuICAgICAgbCA9IGxbMF07XG4gICAgfSBlbHNlIGlmIChTLmxlbmd0aClcbiAgICAgIHRocm93IG5ldyBFcnJvcigpO1xuICAgIGlmICh2KSB7XG4gICAgICB2YXIgSSA9IGZ1bmN0aW9uKG0sIEUpIHtcbiAgICAgICAgdmFyIHcgPSBtW0VdO1xuICAgICAgICBpZiAodyAmJiB0eXBlb2YgdyA9PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgdmFyIHggPSBudWxsO1xuICAgICAgICAgIGZvciAodmFyIEYgaW4gdylcbiAgICAgICAgICAgIGlmIChjLmNhbGwodywgRikgJiYgdyAhPT0gbSkge1xuICAgICAgICAgICAgICB2YXIgUCA9IEkodywgRik7XG4gICAgICAgICAgICAgIFAgIT09IHZvaWQgMCA/IHdbRl0gPSBQIDogKHggfHwgKHggPSBbXSksIHgucHVzaChGKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHgpXG4gICAgICAgICAgICBmb3IgKHZhciBUID0geC5sZW5ndGg7IC0tVCA+PSAwOyApXG4gICAgICAgICAgICAgIGRlbGV0ZSB3W3hbVF1dO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2LmNhbGwobSwgRSwgdyk7XG4gICAgICB9O1xuICAgICAgbCA9IEkoeyBcIlwiOiBsIH0sIFwiXCIpO1xuICAgIH1cbiAgICByZXR1cm4gbDtcbiAgfTtcbn0oKTtcbih0eXBlb2YgYSA+IFwidVwiIHx8ICFhKSAmJiAoYSA9IHt9KTtcbih0eXBlb2YgYS5hc24xID4gXCJ1XCIgfHwgIWEuYXNuMSkgJiYgKGEuYXNuMSA9IHt9KTtcbmEuYXNuMS5BU04xVXRpbCA9IG5ldyBmdW5jdGlvbigpIHtcbiAgdGhpcy5pbnRlZ2VyVG9CeXRlSGV4ID0gZnVuY3Rpb24oZSkge1xuICAgIHZhciB0ID0gZS50b1N0cmluZygxNik7XG4gICAgcmV0dXJuIHQubGVuZ3RoICUgMiA9PSAxICYmICh0ID0gXCIwXCIgKyB0KSwgdDtcbiAgfSwgdGhpcy5iaWdJbnRUb01pblR3b3NDb21wbGVtZW50c0hleCA9IGZ1bmN0aW9uKGUpIHtcbiAgICByZXR1cm4gWmUoZSk7XG4gIH0sIHRoaXMuZ2V0UEVNU3RyaW5nRnJvbUhleCA9IGZ1bmN0aW9uKGUsIHQpIHtcbiAgICByZXR1cm4gZGUoZSwgdCk7XG4gIH0sIHRoaXMubmV3T2JqZWN0ID0gZnVuY3Rpb24oZSkge1xuICAgIHZhciB0ID0gYSwgciA9IHQuYXNuMSwgaSA9IHIuQVNOMU9iamVjdCwgcyA9IHIuREVSQm9vbGVhbiwgbiA9IHIuREVSSW50ZWdlciwgaCA9IHIuREVSQml0U3RyaW5nLCB1ID0gci5ERVJPY3RldFN0cmluZywgcCA9IHIuREVSTnVsbCwgYyA9IHIuREVST2JqZWN0SWRlbnRpZmllciwgeSA9IHIuREVSRW51bWVyYXRlZCwgdiA9IHIuREVSVVRGOFN0cmluZywgbyA9IHIuREVSTnVtZXJpY1N0cmluZywgbCA9IHIuREVSUHJpbnRhYmxlU3RyaW5nLCBmID0gci5ERVJUZWxldGV4U3RyaW5nLCBkID0gci5ERVJJQTVTdHJpbmcsIGcgPSByLkRFUlVUQ1RpbWUsIFMgPSByLkRFUkdlbmVyYWxpemVkVGltZSwgYiA9IHIuREVSVmlzaWJsZVN0cmluZywgRCA9IHIuREVSQk1QU3RyaW5nLCBBID0gci5ERVJTZXF1ZW5jZSwgSSA9IHIuREVSU2V0LCBtID0gci5ERVJUYWdnZWRPYmplY3QsIEUgPSByLkFTTjFVdGlsLm5ld09iamVjdDtcbiAgICBpZiAoZSBpbnN0YW5jZW9mIHIuQVNOMU9iamVjdClcbiAgICAgIHJldHVybiBlO1xuICAgIHZhciB3ID0gT2JqZWN0LmtleXMoZSk7XG4gICAgaWYgKHcubGVuZ3RoICE9IDEpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJrZXkgb2YgcGFyYW0gc2hhbGwgYmUgb25seSBvbmUuXCIpO1xuICAgIHZhciB4ID0gd1swXTtcbiAgICBpZiAoXCI6YXNuMTpib29sOmludDpiaXRzdHI6b2N0c3RyOm51bGw6b2lkOmVudW06dXRmOHN0cjpudW1zdHI6cHJuc3RyOnRlbHN0cjppYTVzdHI6dXRjdGltZTpnZW50aW1lOnZpc3N0cjpibXBzdHI6c2VxOnNldDp0YWc6XCIuaW5kZXhPZihcIjpcIiArIHggKyBcIjpcIikgPT0gLTEpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJ1bmRlZmluZWQga2V5OiBcIiArIHgpO1xuICAgIGlmICh4ID09IFwiYm9vbFwiKVxuICAgICAgcmV0dXJuIG5ldyBzKGVbeF0pO1xuICAgIGlmICh4ID09IFwiaW50XCIpXG4gICAgICByZXR1cm4gbmV3IG4oZVt4XSk7XG4gICAgaWYgKHggPT0gXCJiaXRzdHJcIilcbiAgICAgIHJldHVybiBuZXcgaChlW3hdKTtcbiAgICBpZiAoeCA9PSBcIm9jdHN0clwiKVxuICAgICAgcmV0dXJuIG5ldyB1KGVbeF0pO1xuICAgIGlmICh4ID09IFwibnVsbFwiKVxuICAgICAgcmV0dXJuIG5ldyBwKGVbeF0pO1xuICAgIGlmICh4ID09IFwib2lkXCIpXG4gICAgICByZXR1cm4gbmV3IGMoZVt4XSk7XG4gICAgaWYgKHggPT0gXCJlbnVtXCIpXG4gICAgICByZXR1cm4gbmV3IHkoZVt4XSk7XG4gICAgaWYgKHggPT0gXCJ1dGY4c3RyXCIpXG4gICAgICByZXR1cm4gbmV3IHYoZVt4XSk7XG4gICAgaWYgKHggPT0gXCJudW1zdHJcIilcbiAgICAgIHJldHVybiBuZXcgbyhlW3hdKTtcbiAgICBpZiAoeCA9PSBcInBybnN0clwiKVxuICAgICAgcmV0dXJuIG5ldyBsKGVbeF0pO1xuICAgIGlmICh4ID09IFwidGVsc3RyXCIpXG4gICAgICByZXR1cm4gbmV3IGYoZVt4XSk7XG4gICAgaWYgKHggPT0gXCJpYTVzdHJcIilcbiAgICAgIHJldHVybiBuZXcgZChlW3hdKTtcbiAgICBpZiAoeCA9PSBcInV0Y3RpbWVcIilcbiAgICAgIHJldHVybiBuZXcgZyhlW3hdKTtcbiAgICBpZiAoeCA9PSBcImdlbnRpbWVcIilcbiAgICAgIHJldHVybiBuZXcgUyhlW3hdKTtcbiAgICBpZiAoeCA9PSBcInZpc3N0clwiKVxuICAgICAgcmV0dXJuIG5ldyBiKGVbeF0pO1xuICAgIGlmICh4ID09IFwiYm1wc3RyXCIpXG4gICAgICByZXR1cm4gbmV3IEQoZVt4XSk7XG4gICAgaWYgKHggPT0gXCJhc24xXCIpXG4gICAgICByZXR1cm4gbmV3IGkoZVt4XSk7XG4gICAgaWYgKHggPT0gXCJzZXFcIikge1xuICAgICAgZm9yICh2YXIgRiA9IGVbeF0sIFAgPSBbXSwgVCA9IDA7IFQgPCBGLmxlbmd0aDsgVCsrKSB7XG4gICAgICAgIHZhciBIID0gRShGW1RdKTtcbiAgICAgICAgUC5wdXNoKEgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5ldyBBKHsgYXJyYXk6IFAgfSk7XG4gICAgfVxuICAgIGlmICh4ID09IFwic2V0XCIpIHtcbiAgICAgIGZvciAodmFyIEYgPSBlW3hdLCBQID0gW10sIFQgPSAwOyBUIDwgRi5sZW5ndGg7IFQrKykge1xuICAgICAgICB2YXIgSCA9IEUoRltUXSk7XG4gICAgICAgIFAucHVzaChIKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXcgSSh7IGFycmF5OiBQIH0pO1xuICAgIH1cbiAgICBpZiAoeCA9PSBcInRhZ1wiKSB7XG4gICAgICB2YXIgQyA9IGVbeF07XG4gICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKEMpID09PSBcIltvYmplY3QgQXJyYXldXCIgJiYgQy5sZW5ndGggPT0gMykge1xuICAgICAgICB2YXIgQiA9IEUoQ1syXSk7XG4gICAgICAgIHJldHVybiBuZXcgbSh7IHRhZzogQ1swXSwgZXhwbGljaXQ6IENbMV0sIG9iajogQiB9KTtcbiAgICAgIH0gZWxzZVxuICAgICAgICByZXR1cm4gbmV3IG0oQyk7XG4gICAgfVxuICB9LCB0aGlzLmpzb25Ub0FTTjFIRVggPSBmdW5jdGlvbihlKSB7XG4gICAgdmFyIHQgPSB0aGlzLm5ld09iamVjdChlKTtcbiAgICByZXR1cm4gdC50b2hleCgpO1xuICB9O1xufSgpO1xuYS5hc24xLkFTTjFVdGlsLm9pZEhleFRvSW50ID0gZnVuY3Rpb24oZSkge1xuICBmb3IgKHZhciBzID0gXCJcIiwgdCA9IHBhcnNlSW50KGUuc3Vic3RyKDAsIDIpLCAxNiksIHIgPSBNYXRoLmZsb29yKHQgLyA0MCksIGkgPSB0ICUgNDAsIHMgPSByICsgXCIuXCIgKyBpLCBuID0gXCJcIiwgaCA9IDI7IGggPCBlLmxlbmd0aDsgaCArPSAyKSB7XG4gICAgdmFyIHUgPSBwYXJzZUludChlLnN1YnN0cihoLCAyKSwgMTYpLCBwID0gKFwiMDAwMDAwMDBcIiArIHUudG9TdHJpbmcoMikpLnNsaWNlKC04KTtcbiAgICBpZiAobiA9IG4gKyBwLnN1YnN0cigxLCA3KSwgcC5zdWJzdHIoMCwgMSkgPT0gXCIwXCIpIHtcbiAgICAgIHZhciBjID0gbmV3IFIobiwgMik7XG4gICAgICBzID0gcyArIFwiLlwiICsgYy50b1N0cmluZygxMCksIG4gPSBcIlwiO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcztcbn07XG5hLmFzbjEuQVNOMVV0aWwub2lkSW50VG9IZXggPSBmdW5jdGlvbihlKSB7XG4gIHZhciB0ID0gZnVuY3Rpb24odSkge1xuICAgIHZhciBwID0gdS50b1N0cmluZygxNik7XG4gICAgcmV0dXJuIHAubGVuZ3RoID09IDEgJiYgKHAgPSBcIjBcIiArIHApLCBwO1xuICB9LCByID0gZnVuY3Rpb24odSkge1xuICAgIHZhciBwID0gXCJcIiwgYyA9IG5ldyBSKHUsIDEwKSwgeSA9IGMudG9TdHJpbmcoMiksIHYgPSA3IC0geS5sZW5ndGggJSA3O1xuICAgIHYgPT0gNyAmJiAodiA9IDApO1xuICAgIGZvciAodmFyIG8gPSBcIlwiLCBsID0gMDsgbCA8IHY7IGwrKylcbiAgICAgIG8gKz0gXCIwXCI7XG4gICAgeSA9IG8gKyB5O1xuICAgIGZvciAodmFyIGwgPSAwOyBsIDwgeS5sZW5ndGggLSAxOyBsICs9IDcpIHtcbiAgICAgIHZhciBmID0geS5zdWJzdHIobCwgNyk7XG4gICAgICBsICE9IHkubGVuZ3RoIC0gNyAmJiAoZiA9IFwiMVwiICsgZiksIHAgKz0gdChwYXJzZUludChmLCAyKSk7XG4gICAgfVxuICAgIHJldHVybiBwO1xuICB9O1xuICBpZiAoIWUubWF0Y2goL15bMC05Ll0rJC8pKVxuICAgIHRocm93IFwibWFsZm9ybWVkIG9pZCBzdHJpbmc6IFwiICsgZTtcbiAgdmFyIGkgPSBcIlwiLCBzID0gZS5zcGxpdChcIi5cIiksIG4gPSBwYXJzZUludChzWzBdKSAqIDQwICsgcGFyc2VJbnQoc1sxXSk7XG4gIGkgKz0gdChuKSwgcy5zcGxpY2UoMCwgMik7XG4gIGZvciAodmFyIGggPSAwOyBoIDwgcy5sZW5ndGg7IGgrKylcbiAgICBpICs9IHIoc1toXSk7XG4gIHJldHVybiBpO1xufTtcbmEuYXNuMS5BU04xT2JqZWN0ID0gZnVuY3Rpb24oZSkge1xuICB2YXIgdCA9IFwiXCI7XG4gIHRoaXMucGFyYW1zID0gbnVsbCwgdGhpcy5nZXRMZW5ndGhIZXhGcm9tVmFsdWUgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAodHlwZW9mIHRoaXMuaFYgPiBcInVcIiB8fCB0aGlzLmhWID09IG51bGwpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJ0aGlzLmhWIGlzIG51bGwgb3IgdW5kZWZpbmVkXCIpO1xuICAgIGlmICh0aGlzLmhWLmxlbmd0aCAlIDIgPT0gMSlcbiAgICAgIHRocm93IG5ldyBFcnJvcihcInZhbHVlIGhleCBtdXN0IGJlIGV2ZW4gbGVuZ3RoOiBuPVwiICsgdC5sZW5ndGggKyBcIix2PVwiICsgdGhpcy5oVik7XG4gICAgdmFyIHIgPSB0aGlzLmhWLmxlbmd0aCAvIDIsIGkgPSByLnRvU3RyaW5nKDE2KTtcbiAgICBpZiAoaS5sZW5ndGggJSAyID09IDEgJiYgKGkgPSBcIjBcIiArIGkpLCByIDwgMTI4KVxuICAgICAgcmV0dXJuIGk7XG4gICAgdmFyIHMgPSBpLmxlbmd0aCAvIDI7XG4gICAgaWYgKHMgPiAxNSlcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkFTTi4xIGxlbmd0aCB0b28gbG9uZyB0byByZXByZXNlbnQgYnkgOHg6IG4gPSBcIiArIHIudG9TdHJpbmcoMTYpKTtcbiAgICB2YXIgbiA9IDEyOCArIHM7XG4gICAgcmV0dXJuIG4udG9TdHJpbmcoMTYpICsgaTtcbiAgfSwgdGhpcy50b2hleCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiAodGhpcy5oVExWID09IG51bGwgfHwgdGhpcy5pc01vZGlmaWVkKSAmJiAodGhpcy5oViA9IHRoaXMuZ2V0RnJlc2hWYWx1ZUhleCgpLCB0aGlzLmhMID0gdGhpcy5nZXRMZW5ndGhIZXhGcm9tVmFsdWUoKSwgdGhpcy5oVExWID0gdGhpcy5oVCArIHRoaXMuaEwgKyB0aGlzLmhWLCB0aGlzLmlzTW9kaWZpZWQgPSAhMSksIHRoaXMuaFRMVjtcbiAgfSwgdGhpcy5nZXRFbmNvZGVkSGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMudG9oZXgoKTtcbiAgfSwgdGhpcy5nZXRWYWx1ZUhleCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLnRvaGV4KCksIHRoaXMuaFY7XG4gIH0sIHRoaXMuZ2V0RnJlc2hWYWx1ZUhleCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBcIlwiO1xuICB9LCB0aGlzLnNldEJ5UGFyYW0gPSBmdW5jdGlvbihyKSB7XG4gICAgdGhpcy5wYXJhbXMgPSByO1xuICB9LCBlICE9IG51bGwgJiYgZS50bHYgIT0gbnVsbCAmJiAodGhpcy5oVExWID0gZS50bHYsIHRoaXMuaXNNb2RpZmllZCA9ICExKTtcbn07XG5hLmFzbjEuREVSQWJzdHJhY3RTdHJpbmcgPSBmdW5jdGlvbihlKSB7XG4gIGEuYXNuMS5ERVJBYnN0cmFjdFN0cmluZy5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyksIHRoaXMuZ2V0U3RyaW5nID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMucztcbiAgfSwgdGhpcy5zZXRTdHJpbmcgPSBmdW5jdGlvbih0KSB7XG4gICAgdGhpcy5oVExWID0gbnVsbCwgdGhpcy5pc01vZGlmaWVkID0gITAsIHRoaXMucyA9IHQsIHRoaXMuaFYgPSBodCh0aGlzLnMpLnRvTG93ZXJDYXNlKCk7XG4gIH0sIHRoaXMuc2V0U3RyaW5nSGV4ID0gZnVuY3Rpb24odCkge1xuICAgIHRoaXMuaFRMViA9IG51bGwsIHRoaXMuaXNNb2RpZmllZCA9ICEwLCB0aGlzLnMgPSBudWxsLCB0aGlzLmhWID0gdDtcbiAgfSwgdGhpcy5nZXRGcmVzaFZhbHVlSGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuaFY7XG4gIH0sIHR5cGVvZiBlIDwgXCJ1XCIgJiYgKHR5cGVvZiBlID09IFwic3RyaW5nXCIgPyB0aGlzLnNldFN0cmluZyhlKSA6IHR5cGVvZiBlLnN0ciA8IFwidVwiID8gdGhpcy5zZXRTdHJpbmcoZS5zdHIpIDogdHlwZW9mIGUuaGV4IDwgXCJ1XCIgJiYgdGhpcy5zZXRTdHJpbmdIZXgoZS5oZXgpKTtcbn07XG5OKGEuYXNuMS5ERVJBYnN0cmFjdFN0cmluZywgYS5hc24xLkFTTjFPYmplY3QpO1xuYS5hc24xLkRFUkFic3RyYWN0VGltZSA9IGZ1bmN0aW9uKGUpIHtcbiAgYS5hc24xLkRFUkFic3RyYWN0VGltZS5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyksIHRoaXMubG9jYWxEYXRlVG9VVEMgPSBmdW5jdGlvbih0KSB7XG4gICAgdmFyIHIgPSB0LmdldFRpbWUoKSArIHQuZ2V0VGltZXpvbmVPZmZzZXQoKSAqIDZlNCwgaSA9IG5ldyBEYXRlKHIpO1xuICAgIHJldHVybiBpO1xuICB9LCB0aGlzLmZvcm1hdERhdGUgPSBmdW5jdGlvbih0LCByLCBpKSB7XG4gICAgdmFyIHMgPSB0aGlzLnplcm9QYWRkaW5nLCBuID0gdGhpcy5sb2NhbERhdGVUb1VUQyh0KSwgaCA9IFN0cmluZyhuLmdldEZ1bGxZZWFyKCkpO1xuICAgIHIgPT0gXCJ1dGNcIiAmJiAoaCA9IGguc3Vic3RyKDIsIDIpKTtcbiAgICB2YXIgdSA9IHMoU3RyaW5nKG4uZ2V0TW9udGgoKSArIDEpLCAyKSwgcCA9IHMoU3RyaW5nKG4uZ2V0RGF0ZSgpKSwgMiksIGMgPSBzKFN0cmluZyhuLmdldEhvdXJzKCkpLCAyKSwgeSA9IHMoU3RyaW5nKG4uZ2V0TWludXRlcygpKSwgMiksIHYgPSBzKFN0cmluZyhuLmdldFNlY29uZHMoKSksIDIpLCBvID0gaCArIHUgKyBwICsgYyArIHkgKyB2O1xuICAgIGlmIChpID09PSAhMCkge1xuICAgICAgdmFyIGwgPSBuLmdldE1pbGxpc2Vjb25kcygpO1xuICAgICAgaWYgKGwgIT0gMCkge1xuICAgICAgICB2YXIgZiA9IHMoU3RyaW5nKGwpLCAzKTtcbiAgICAgICAgZiA9IGYucmVwbGFjZSgvWzBdKyQvLCBcIlwiKSwgbyA9IG8gKyBcIi5cIiArIGY7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBvICsgXCJaXCI7XG4gIH0sIHRoaXMuemVyb1BhZGRpbmcgPSBmdW5jdGlvbih0LCByKSB7XG4gICAgcmV0dXJuIHQubGVuZ3RoID49IHIgPyB0IDogbmV3IEFycmF5KHIgLSB0Lmxlbmd0aCArIDEpLmpvaW4oXCIwXCIpICsgdDtcbiAgfSwgdGhpcy5zZXRCeVBhcmFtID0gZnVuY3Rpb24odCkge1xuICAgIHRoaXMuaFYgPSBudWxsLCB0aGlzLmhUTFYgPSBudWxsLCB0aGlzLnBhcmFtcyA9IHQ7XG4gIH0sIHRoaXMuZ2V0U3RyaW5nID0gZnVuY3Rpb24oKSB7XG4gIH0sIHRoaXMuc2V0U3RyaW5nID0gZnVuY3Rpb24odCkge1xuICAgIHRoaXMuaFRMViA9IG51bGwsIHRoaXMuaXNNb2RpZmllZCA9ICEwLCB0aGlzLnBhcmFtcyA9PSBudWxsICYmICh0aGlzLnBhcmFtcyA9IHt9KSwgdGhpcy5wYXJhbXMuc3RyID0gdDtcbiAgfSwgdGhpcy5zZXRCeURhdGUgPSBmdW5jdGlvbih0KSB7XG4gICAgdGhpcy5oVExWID0gbnVsbCwgdGhpcy5pc01vZGlmaWVkID0gITAsIHRoaXMucGFyYW1zID09IG51bGwgJiYgKHRoaXMucGFyYW1zID0ge30pLCB0aGlzLnBhcmFtcy5kYXRlID0gdDtcbiAgfSwgdGhpcy5zZXRCeURhdGVWYWx1ZSA9IGZ1bmN0aW9uKHQsIHIsIGksIHMsIG4sIGgpIHtcbiAgICB2YXIgdSA9IG5ldyBEYXRlKERhdGUuVVRDKHQsIHIgLSAxLCBpLCBzLCBuLCBoLCAwKSk7XG4gICAgdGhpcy5zZXRCeURhdGUodSk7XG4gIH0sIHRoaXMuZ2V0RnJlc2hWYWx1ZUhleCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLmhWO1xuICB9O1xufTtcbk4oYS5hc24xLkRFUkFic3RyYWN0VGltZSwgYS5hc24xLkFTTjFPYmplY3QpO1xuYS5hc24xLkRFUkFic3RyYWN0U3RydWN0dXJlZCA9IGZ1bmN0aW9uKGUpIHtcbiAgYS5hc24xLkRFUkFic3RyYWN0U3RyaW5nLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzKSwgdGhpcy5zZXRCeUFTTjFPYmplY3RBcnJheSA9IGZ1bmN0aW9uKHQpIHtcbiAgICB0aGlzLmhUTFYgPSBudWxsLCB0aGlzLmlzTW9kaWZpZWQgPSAhMCwgdGhpcy5hc24xQXJyYXkgPSB0O1xuICB9LCB0aGlzLmFwcGVuZEFTTjFPYmplY3QgPSBmdW5jdGlvbih0KSB7XG4gICAgdGhpcy5oVExWID0gbnVsbCwgdGhpcy5pc01vZGlmaWVkID0gITAsIHRoaXMuYXNuMUFycmF5LnB1c2godCk7XG4gIH0sIHRoaXMuYXNuMUFycmF5ID0gbmV3IEFycmF5KCksIHR5cGVvZiBlIDwgXCJ1XCIgJiYgdHlwZW9mIGUuYXJyYXkgPCBcInVcIiAmJiAodGhpcy5hc24xQXJyYXkgPSBlLmFycmF5KTtcbn07XG5OKGEuYXNuMS5ERVJBYnN0cmFjdFN0cnVjdHVyZWQsIGEuYXNuMS5BU04xT2JqZWN0KTtcbmEuYXNuMS5ERVJCb29sZWFuID0gZnVuY3Rpb24oZSkge1xuICBhLmFzbjEuREVSQm9vbGVhbi5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyksIHRoaXMuaFQgPSBcIjAxXCIsIGUgPT0gITEgPyB0aGlzLmhUTFYgPSBcIjAxMDEwMFwiIDogdGhpcy5oVExWID0gXCIwMTAxZmZcIjtcbn07XG5OKGEuYXNuMS5ERVJCb29sZWFuLCBhLmFzbjEuQVNOMU9iamVjdCk7XG5hLmFzbjEuREVSSW50ZWdlciA9IGZ1bmN0aW9uKGUpIHtcbiAgYS5hc24xLkRFUkludGVnZXIuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpLCB0aGlzLmhUID0gXCIwMlwiLCB0aGlzLnBhcmFtcyA9IG51bGw7XG4gIHZhciB0ID0gWmU7XG4gIHRoaXMuc2V0QnlCaWdJbnRlZ2VyID0gZnVuY3Rpb24ocikge1xuICAgIHRoaXMuaXNNb2RpZmllZCA9ICEwLCB0aGlzLnBhcmFtcyA9IHsgYmlnaW50OiByIH07XG4gIH0sIHRoaXMuc2V0QnlJbnRlZ2VyID0gZnVuY3Rpb24ocikge1xuICAgIHRoaXMuaXNNb2RpZmllZCA9ICEwLCB0aGlzLnBhcmFtcyA9IHI7XG4gIH0sIHRoaXMuc2V0VmFsdWVIZXggPSBmdW5jdGlvbihyKSB7XG4gICAgdGhpcy5pc01vZGlmaWVkID0gITAsIHRoaXMucGFyYW1zID0geyBoZXg6IHIgfTtcbiAgfSwgdGhpcy5nZXRGcmVzaFZhbHVlSGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHIgPSB0aGlzLnBhcmFtcywgaSA9IG51bGw7XG4gICAgaWYgKHIgPT0gbnVsbClcbiAgICAgIHRocm93IG5ldyBFcnJvcihcInZhbHVlIG5vdCBzZXRcIik7XG4gICAgaWYgKHR5cGVvZiByID09IFwib2JqZWN0XCIgJiYgci5oZXggIT0gbnVsbClcbiAgICAgIHJldHVybiB0aGlzLmhWID0gci5oZXgsIHRoaXMuaFY7XG4gICAgaWYgKHR5cGVvZiByID09IFwibnVtYmVyXCIpXG4gICAgICBpID0gbmV3IFIoU3RyaW5nKHIpLCAxMCk7XG4gICAgZWxzZSBpZiAoci5pbnQgIT0gbnVsbClcbiAgICAgIGkgPSBuZXcgUihTdHJpbmcoci5pbnQpLCAxMCk7XG4gICAgZWxzZSBpZiAoci5iaWdpbnQgIT0gbnVsbClcbiAgICAgIGkgPSByLmJpZ2ludDtcbiAgICBlbHNlXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJ3cm9uZyBwYXJhbWV0ZXJcIik7XG4gICAgcmV0dXJuIHRoaXMuaFYgPSB0KGkpLCB0aGlzLmhWO1xuICB9LCBlICE9IG51bGwgJiYgKHRoaXMucGFyYW1zID0gZSk7XG59O1xuTihhLmFzbjEuREVSSW50ZWdlciwgYS5hc24xLkFTTjFPYmplY3QpO1xuYS5hc24xLkRFUkJpdFN0cmluZyA9IGZ1bmN0aW9uKGUpIHtcbiAgaWYgKGUgIT09IHZvaWQgMCAmJiB0eXBlb2YgZS5vYmogPCBcInVcIikge1xuICAgIHZhciB0ID0gYS5hc24xLkFTTjFVdGlsLm5ld09iamVjdChlLm9iaik7XG4gICAgZS5oZXggPSBcIjAwXCIgKyB0LnRvaGV4KCk7XG4gIH1cbiAgYS5hc24xLkRFUkJpdFN0cmluZy5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyksIHRoaXMuaFQgPSBcIjAzXCIsIHRoaXMuc2V0SGV4VmFsdWVJbmNsdWRpbmdVbnVzZWRCaXRzID0gZnVuY3Rpb24ocikge1xuICAgIHRoaXMuaFRMViA9IG51bGwsIHRoaXMuaXNNb2RpZmllZCA9ICEwLCB0aGlzLmhWID0gcjtcbiAgfSwgdGhpcy5zZXRVbnVzZWRCaXRzQW5kSGV4VmFsdWUgPSBmdW5jdGlvbihyLCBpKSB7XG4gICAgaWYgKHIgPCAwIHx8IDcgPCByKVxuICAgICAgdGhyb3cgXCJ1bnVzZWQgYml0cyBzaGFsbCBiZSBmcm9tIDAgdG8gNzogdSA9IFwiICsgcjtcbiAgICB2YXIgcyA9IFwiMFwiICsgcjtcbiAgICB0aGlzLmhUTFYgPSBudWxsLCB0aGlzLmlzTW9kaWZpZWQgPSAhMCwgdGhpcy5oViA9IHMgKyBpO1xuICB9LCB0aGlzLnNldEJ5QmluYXJ5U3RyaW5nID0gZnVuY3Rpb24ocikge1xuICAgIHIgPSByLnJlcGxhY2UoLzArJC8sIFwiXCIpO1xuICAgIHZhciBpID0gOCAtIHIubGVuZ3RoICUgODtcbiAgICBpID09IDggJiYgKGkgPSAwKSwgciArPSBcIjAwMDAwMDBcIi5zdWJzdHIoMCwgaSk7XG4gICAgZm9yICh2YXIgcyA9IFwiXCIsIG4gPSAwOyBuIDwgci5sZW5ndGggLSAxOyBuICs9IDgpIHtcbiAgICAgIHZhciBoID0gci5zdWJzdHIobiwgOCksIHUgPSBwYXJzZUludChoLCAyKS50b1N0cmluZygxNik7XG4gICAgICB1Lmxlbmd0aCA9PSAxICYmICh1ID0gXCIwXCIgKyB1KSwgcyArPSB1O1xuICAgIH1cbiAgICB0aGlzLmhUTFYgPSBudWxsLCB0aGlzLmlzTW9kaWZpZWQgPSAhMCwgdGhpcy5oViA9IFwiMFwiICsgaSArIHM7XG4gIH0sIHRoaXMuc2V0QnlCb29sZWFuQXJyYXkgPSBmdW5jdGlvbihyKSB7XG4gICAgZm9yICh2YXIgaSA9IFwiXCIsIHMgPSAwOyBzIDwgci5sZW5ndGg7IHMrKylcbiAgICAgIHJbc10gPT0gITAgPyBpICs9IFwiMVwiIDogaSArPSBcIjBcIjtcbiAgICB0aGlzLnNldEJ5QmluYXJ5U3RyaW5nKGkpO1xuICB9LCB0aGlzLm5ld0ZhbHNlQXJyYXkgPSBmdW5jdGlvbihyKSB7XG4gICAgZm9yICh2YXIgaSA9IG5ldyBBcnJheShyKSwgcyA9IDA7IHMgPCByOyBzKyspXG4gICAgICBpW3NdID0gITE7XG4gICAgcmV0dXJuIGk7XG4gIH0sIHRoaXMuZ2V0RnJlc2hWYWx1ZUhleCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLmhWO1xuICB9LCB0eXBlb2YgZSA8IFwidVwiICYmICh0eXBlb2YgZSA9PSBcInN0cmluZ1wiICYmIGUudG9Mb3dlckNhc2UoKS5tYXRjaCgvXlswLTlhLWZdKyQvKSA/IHRoaXMuc2V0SGV4VmFsdWVJbmNsdWRpbmdVbnVzZWRCaXRzKGUpIDogdHlwZW9mIGUuaGV4IDwgXCJ1XCIgPyB0aGlzLnNldEhleFZhbHVlSW5jbHVkaW5nVW51c2VkQml0cyhlLmhleCkgOiB0eXBlb2YgZS5iaW4gPCBcInVcIiA/IHRoaXMuc2V0QnlCaW5hcnlTdHJpbmcoZS5iaW4pIDogdHlwZW9mIGUuYXJyYXkgPCBcInVcIiAmJiB0aGlzLnNldEJ5Qm9vbGVhbkFycmF5KGUuYXJyYXkpKTtcbn07XG5OKGEuYXNuMS5ERVJCaXRTdHJpbmcsIGEuYXNuMS5BU04xT2JqZWN0KTtcbmEuYXNuMS5ERVJPY3RldFN0cmluZyA9IGZ1bmN0aW9uKGUpIHtcbiAgaWYgKGUgIT09IHZvaWQgMCAmJiB0eXBlb2YgZS5vYmogPCBcInVcIikge1xuICAgIHZhciB0ID0gYS5hc24xLkFTTjFVdGlsLm5ld09iamVjdChlLm9iaik7XG4gICAgZS5oZXggPSB0LnRvaGV4KCk7XG4gIH1cbiAgYS5hc24xLkRFUk9jdGV0U3RyaW5nLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzLCBlKSwgdGhpcy5oVCA9IFwiMDRcIjtcbn07XG5OKGEuYXNuMS5ERVJPY3RldFN0cmluZywgYS5hc24xLkRFUkFic3RyYWN0U3RyaW5nKTtcbmEuYXNuMS5ERVJOdWxsID0gZnVuY3Rpb24oKSB7XG4gIGEuYXNuMS5ERVJOdWxsLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzKSwgdGhpcy5oVCA9IFwiMDVcIiwgdGhpcy5oVExWID0gXCIwNTAwXCI7XG59O1xuTihhLmFzbjEuREVSTnVsbCwgYS5hc24xLkFTTjFPYmplY3QpO1xuYS5hc24xLkRFUk9iamVjdElkZW50aWZpZXIgPSBmdW5jdGlvbihlKSB7XG4gIGEuYXNuMS5ERVJPYmplY3RJZGVudGlmaWVyLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzKSwgdGhpcy5oVCA9IFwiMDZcIiwgdGhpcy5zZXRWYWx1ZUhleCA9IGZ1bmN0aW9uKHQpIHtcbiAgICB0aGlzLmhUTFYgPSBudWxsLCB0aGlzLmlzTW9kaWZpZWQgPSAhMCwgdGhpcy5zID0gbnVsbCwgdGhpcy5oViA9IHQ7XG4gIH0sIHRoaXMuc2V0VmFsdWVPaWRTdHJpbmcgPSBmdW5jdGlvbih0KSB7XG4gICAgdmFyIHIgPSBtbih0KTtcbiAgICBpZiAociA9PSBudWxsKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwibWFsZm9ybWVkIG9pZCBzdHJpbmc6IFwiICsgdCk7XG4gICAgdGhpcy5oVExWID0gbnVsbCwgdGhpcy5pc01vZGlmaWVkID0gITAsIHRoaXMucyA9IG51bGwsIHRoaXMuaFYgPSByO1xuICB9LCB0aGlzLnNldFZhbHVlTmFtZSA9IGZ1bmN0aW9uKHQpIHtcbiAgICB2YXIgciA9IGEuYXNuMS54NTA5Lk9JRC5uYW1lMm9pZCh0KTtcbiAgICBpZiAociAhPT0gXCJcIilcbiAgICAgIHRoaXMuc2V0VmFsdWVPaWRTdHJpbmcocik7XG4gICAgZWxzZVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiREVST2JqZWN0SWRlbnRpZmllciBvaWROYW1lIHVuZGVmaW5lZDogXCIgKyB0KTtcbiAgfSwgdGhpcy5zZXRWYWx1ZU5hbWVPck9pZCA9IGZ1bmN0aW9uKHQpIHtcbiAgICB0Lm1hdGNoKC9eWzAtMl0uWzAtOS5dKyQvKSA/IHRoaXMuc2V0VmFsdWVPaWRTdHJpbmcodCkgOiB0aGlzLnNldFZhbHVlTmFtZSh0KTtcbiAgfSwgdGhpcy5nZXRGcmVzaFZhbHVlSGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuaFY7XG4gIH0sIHRoaXMuc2V0QnlQYXJhbSA9IGZ1bmN0aW9uKHQpIHtcbiAgICB0eXBlb2YgdCA9PSBcInN0cmluZ1wiID8gdGhpcy5zZXRWYWx1ZU5hbWVPck9pZCh0KSA6IHQub2lkICE9PSB2b2lkIDAgPyB0aGlzLnNldFZhbHVlTmFtZU9yT2lkKHQub2lkKSA6IHQubmFtZSAhPT0gdm9pZCAwID8gdGhpcy5zZXRWYWx1ZU5hbWVPck9pZCh0Lm5hbWUpIDogdC5oZXggIT09IHZvaWQgMCAmJiB0aGlzLnNldFZhbHVlSGV4KHQuaGV4KTtcbiAgfSwgZSAhPT0gdm9pZCAwICYmIHRoaXMuc2V0QnlQYXJhbShlKTtcbn07XG5OKGEuYXNuMS5ERVJPYmplY3RJZGVudGlmaWVyLCBhLmFzbjEuQVNOMU9iamVjdCk7XG5hLmFzbjEuREVSRW51bWVyYXRlZCA9IGZ1bmN0aW9uKGUpIHtcbiAgYS5hc24xLkRFUkVudW1lcmF0ZWQuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpLCB0aGlzLmhUID0gXCIwYVwiLCB0aGlzLnNldEJ5QmlnSW50ZWdlciA9IGZ1bmN0aW9uKHQpIHtcbiAgICB0aGlzLmhUTFYgPSBudWxsLCB0aGlzLmlzTW9kaWZpZWQgPSAhMCwgdGhpcy5oViA9IFplKHQpO1xuICB9LCB0aGlzLnNldEJ5SW50ZWdlciA9IGZ1bmN0aW9uKHQpIHtcbiAgICB2YXIgciA9IG5ldyBSKFN0cmluZyh0KSwgMTApO1xuICAgIHRoaXMuc2V0QnlCaWdJbnRlZ2VyKHIpO1xuICB9LCB0aGlzLnNldFZhbHVlSGV4ID0gZnVuY3Rpb24odCkge1xuICAgIHRoaXMuaFYgPSB0O1xuICB9LCB0aGlzLmdldEZyZXNoVmFsdWVIZXggPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5oVjtcbiAgfSwgdHlwZW9mIGUgPCBcInVcIiAmJiAodHlwZW9mIGUuaW50IDwgXCJ1XCIgPyB0aGlzLnNldEJ5SW50ZWdlcihlLmludCkgOiB0eXBlb2YgZSA9PSBcIm51bWJlclwiID8gdGhpcy5zZXRCeUludGVnZXIoZSkgOiB0eXBlb2YgZS5oZXggPCBcInVcIiAmJiB0aGlzLnNldFZhbHVlSGV4KGUuaGV4KSk7XG59O1xuTihhLmFzbjEuREVSRW51bWVyYXRlZCwgYS5hc24xLkFTTjFPYmplY3QpO1xuYS5hc24xLkRFUlVURjhTdHJpbmcgPSBmdW5jdGlvbihlKSB7XG4gIGEuYXNuMS5ERVJVVEY4U3RyaW5nLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzLCBlKSwgdGhpcy5oVCA9IFwiMGNcIjtcbn07XG5OKGEuYXNuMS5ERVJVVEY4U3RyaW5nLCBhLmFzbjEuREVSQWJzdHJhY3RTdHJpbmcpO1xuYS5hc24xLkRFUk51bWVyaWNTdHJpbmcgPSBmdW5jdGlvbihlKSB7XG4gIGEuYXNuMS5ERVJOdW1lcmljU3RyaW5nLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzLCBlKSwgdGhpcy5oVCA9IFwiMTJcIjtcbn07XG5OKGEuYXNuMS5ERVJOdW1lcmljU3RyaW5nLCBhLmFzbjEuREVSQWJzdHJhY3RTdHJpbmcpO1xuYS5hc24xLkRFUlByaW50YWJsZVN0cmluZyA9IGZ1bmN0aW9uKGUpIHtcbiAgYS5hc24xLkRFUlByaW50YWJsZVN0cmluZy5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcywgZSksIHRoaXMuaFQgPSBcIjEzXCI7XG59O1xuTihhLmFzbjEuREVSUHJpbnRhYmxlU3RyaW5nLCBhLmFzbjEuREVSQWJzdHJhY3RTdHJpbmcpO1xuYS5hc24xLkRFUlRlbGV0ZXhTdHJpbmcgPSBmdW5jdGlvbihlKSB7XG4gIGEuYXNuMS5ERVJUZWxldGV4U3RyaW5nLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzLCBlKSwgdGhpcy5oVCA9IFwiMTRcIjtcbn07XG5OKGEuYXNuMS5ERVJUZWxldGV4U3RyaW5nLCBhLmFzbjEuREVSQWJzdHJhY3RTdHJpbmcpO1xuYS5hc24xLkRFUklBNVN0cmluZyA9IGZ1bmN0aW9uKGUpIHtcbiAgYS5hc24xLkRFUklBNVN0cmluZy5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcywgZSksIHRoaXMuaFQgPSBcIjE2XCI7XG59O1xuTihhLmFzbjEuREVSSUE1U3RyaW5nLCBhLmFzbjEuREVSQWJzdHJhY3RTdHJpbmcpO1xuYS5hc24xLkRFUlZpc2libGVTdHJpbmcgPSBmdW5jdGlvbihlKSB7XG4gIGEuYXNuMS5ERVJJQTVTdHJpbmcuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsIGUpLCB0aGlzLmhUID0gXCIxYVwiO1xufTtcbk4oYS5hc24xLkRFUlZpc2libGVTdHJpbmcsIGEuYXNuMS5ERVJBYnN0cmFjdFN0cmluZyk7XG5hLmFzbjEuREVSQk1QU3RyaW5nID0gZnVuY3Rpb24oZSkge1xuICBhLmFzbjEuREVSQk1QU3RyaW5nLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzLCBlKSwgdGhpcy5oVCA9IFwiMWVcIjtcbn07XG5OKGEuYXNuMS5ERVJCTVBTdHJpbmcsIGEuYXNuMS5ERVJBYnN0cmFjdFN0cmluZyk7XG5hLmFzbjEuREVSVVRDVGltZSA9IGZ1bmN0aW9uKGUpIHtcbiAgYS5hc24xLkRFUlVUQ1RpbWUuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsIGUpLCB0aGlzLmhUID0gXCIxN1wiLCB0aGlzLnBhcmFtcyA9IHZvaWQgMCwgdGhpcy5nZXRGcmVzaFZhbHVlSGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHQgPSB0aGlzLnBhcmFtcztcbiAgICBpZiAodGhpcy5wYXJhbXMgPT0gbnVsbCAmJiAodCA9IHsgZGF0ZTogLyogQF9fUFVSRV9fICovIG5ldyBEYXRlKCkgfSksIHR5cGVvZiB0ID09IFwic3RyaW5nXCIpXG4gICAgICBpZiAodC5tYXRjaCgvXlswLTldezEyfVokLykgfHwgdC5tYXRjaCgvXlswLTldezEyfVxcLlswLTldK1okLykpXG4gICAgICAgIHRoaXMuaFYgPSBFZSh0KTtcbiAgICAgIGVsc2VcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibWFsZm9ybWVkIHN0cmluZyBmb3IgVVRDVGltZTogXCIgKyB0KTtcbiAgICBlbHNlIGlmICh0LnN0ciAhPSBudWxsKVxuICAgICAgdGhpcy5oViA9IEVlKHQuc3RyKTtcbiAgICBlbHNlIGlmICh0LmRhdGUgPT0gbnVsbCAmJiB0Lm1pbGxpcyA9PSAhMCkge1xuICAgICAgdmFyIHIgPSAvKiBAX19QVVJFX18gKi8gbmV3IERhdGUoKTtcbiAgICAgIHRoaXMuaFYgPSBFZSh0aGlzLmZvcm1hdERhdGUociwgXCJ1dGNcIiwgITApKTtcbiAgICB9IGVsc2UgaWYgKHQuZGF0ZSAhPSBudWxsICYmIHQuZGF0ZSBpbnN0YW5jZW9mIERhdGUpIHtcbiAgICAgIHZhciBpID0gdC5taWxsaXMgPT09ICEwO1xuICAgICAgdGhpcy5oViA9IEVlKHRoaXMuZm9ybWF0RGF0ZSh0LmRhdGUsIFwidXRjXCIsIGkpKTtcbiAgICB9IGVsc2VcbiAgICAgIHQgaW5zdGFuY2VvZiBEYXRlICYmICh0aGlzLmhWID0gRWUodGhpcy5mb3JtYXREYXRlKHQsIFwidXRjXCIpKSk7XG4gICAgaWYgKHRoaXMuaFYgPT0gbnVsbClcbiAgICAgIHRocm93IG5ldyBFcnJvcihcInBhcmFtZXRlciBub3Qgc3BlY2lmaWVkIHByb3Blcmx5IGZvciBVVENUaW1lXCIpO1xuICAgIHJldHVybiB0aGlzLmhWO1xuICB9LCBlICE9IG51bGwgJiYgdGhpcy5zZXRCeVBhcmFtKGUpO1xufTtcbk4oYS5hc24xLkRFUlVUQ1RpbWUsIGEuYXNuMS5ERVJBYnN0cmFjdFRpbWUpO1xuYS5hc24xLkRFUkdlbmVyYWxpemVkVGltZSA9IGZ1bmN0aW9uKGUpIHtcbiAgYS5hc24xLkRFUkdlbmVyYWxpemVkVGltZS5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcywgZSksIHRoaXMuaFQgPSBcIjE4XCIsIHRoaXMucGFyYW1zID0gZSwgdGhpcy5nZXRGcmVzaFZhbHVlSGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHQgPSB0aGlzLnBhcmFtcztcbiAgICBpZiAodGhpcy5wYXJhbXMgPT0gbnVsbCAmJiAodCA9IHsgZGF0ZTogLyogQF9fUFVSRV9fICovIG5ldyBEYXRlKCkgfSksIHR5cGVvZiB0ID09IFwic3RyaW5nXCIpXG4gICAgICBpZiAodC5tYXRjaCgvXlswLTldezE0fVokLykgfHwgdC5tYXRjaCgvXlswLTldezE0fVxcLlswLTldK1okLykpXG4gICAgICAgIHRoaXMuaFYgPSBFZSh0KTtcbiAgICAgIGVsc2VcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibWFsZm9ybWVkIHN0cmluZyBmb3IgR2VuZXJhbGl6ZWRUaW1lOiBcIiArIHQpO1xuICAgIGVsc2UgaWYgKHQuc3RyICE9IG51bGwpXG4gICAgICB0aGlzLmhWID0gRWUodC5zdHIpO1xuICAgIGVsc2UgaWYgKHQuZGF0ZSA9PSBudWxsICYmIHQubWlsbGlzID09ICEwKSB7XG4gICAgICB2YXIgciA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgRGF0ZSgpO1xuICAgICAgdGhpcy5oViA9IEVlKHRoaXMuZm9ybWF0RGF0ZShyLCBcImdlblwiLCAhMCkpO1xuICAgIH0gZWxzZSBpZiAodC5kYXRlICE9IG51bGwgJiYgdC5kYXRlIGluc3RhbmNlb2YgRGF0ZSkge1xuICAgICAgdmFyIGkgPSB0Lm1pbGxpcyA9PT0gITA7XG4gICAgICB0aGlzLmhWID0gRWUodGhpcy5mb3JtYXREYXRlKHQuZGF0ZSwgXCJnZW5cIiwgaSkpO1xuICAgIH0gZWxzZVxuICAgICAgdCBpbnN0YW5jZW9mIERhdGUgJiYgKHRoaXMuaFYgPSBFZSh0aGlzLmZvcm1hdERhdGUodCwgXCJnZW5cIikpKTtcbiAgICBpZiAodGhpcy5oViA9PSBudWxsKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwicGFyYW1ldGVyIG5vdCBzcGVjaWZpZWQgcHJvcGVybHkgZm9yIEdlbmVyYWxpemVkVGltZVwiKTtcbiAgICByZXR1cm4gdGhpcy5oVjtcbiAgfSwgZSAhPSBudWxsICYmIHRoaXMuc2V0QnlQYXJhbShlKTtcbn07XG5OKGEuYXNuMS5ERVJHZW5lcmFsaXplZFRpbWUsIGEuYXNuMS5ERVJBYnN0cmFjdFRpbWUpO1xuYS5hc24xLkRFUlNlcXVlbmNlID0gZnVuY3Rpb24oZSkge1xuICBhLmFzbjEuREVSU2VxdWVuY2Uuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsIGUpLCB0aGlzLmhUID0gXCIzMFwiLCB0aGlzLmdldEZyZXNoVmFsdWVIZXggPSBmdW5jdGlvbigpIHtcbiAgICBmb3IgKHZhciB0ID0gXCJcIiwgciA9IDA7IHIgPCB0aGlzLmFzbjFBcnJheS5sZW5ndGg7IHIrKykge1xuICAgICAgdmFyIGkgPSB0aGlzLmFzbjFBcnJheVtyXTtcbiAgICAgIHQgKz0gaS50b2hleCgpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5oViA9IHQsIHRoaXMuaFY7XG4gIH07XG59O1xuTihhLmFzbjEuREVSU2VxdWVuY2UsIGEuYXNuMS5ERVJBYnN0cmFjdFN0cnVjdHVyZWQpO1xuYS5hc24xLkRFUlNldCA9IGZ1bmN0aW9uKGUpIHtcbiAgYS5hc24xLkRFUlNldC5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcywgZSksIHRoaXMuaFQgPSBcIjMxXCIsIHRoaXMuc29ydEZsYWcgPSAhMCwgdGhpcy5nZXRGcmVzaFZhbHVlSGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgZm9yICh2YXIgdCA9IG5ldyBBcnJheSgpLCByID0gMDsgciA8IHRoaXMuYXNuMUFycmF5Lmxlbmd0aDsgcisrKSB7XG4gICAgICB2YXIgaSA9IHRoaXMuYXNuMUFycmF5W3JdO1xuICAgICAgdC5wdXNoKGkudG9oZXgoKSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnNvcnRGbGFnID09ICEwICYmIHQuc29ydCgpLCB0aGlzLmhWID0gdC5qb2luKFwiXCIpLCB0aGlzLmhWO1xuICB9LCB0eXBlb2YgZSA8IFwidVwiICYmIHR5cGVvZiBlLnNvcnRmbGFnIDwgXCJ1XCIgJiYgZS5zb3J0ZmxhZyA9PSAhMSAmJiAodGhpcy5zb3J0RmxhZyA9ICExKTtcbn07XG5OKGEuYXNuMS5ERVJTZXQsIGEuYXNuMS5ERVJBYnN0cmFjdFN0cnVjdHVyZWQpO1xuYS5hc24xLkRFUlRhZ2dlZE9iamVjdCA9IGZ1bmN0aW9uKGUpIHtcbiAgYS5hc24xLkRFUlRhZ2dlZE9iamVjdC5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyk7XG4gIHZhciB0ID0gYS5hc24xLCByID0gViwgaSA9IHIuZ2V0VjtcbiAgci5pc0FTTjFIRVg7XG4gIHZhciBzID0gdC5BU04xVXRpbC5uZXdPYmplY3Q7XG4gIHRoaXMuaFQgPSBcImEwXCIsIHRoaXMuaFYgPSBcIlwiLCB0aGlzLmlzRXhwbGljaXQgPSAhMCwgdGhpcy5hc24xT2JqZWN0ID0gbnVsbCwgdGhpcy5wYXJhbXMgPSB7IHRhZzogXCJhMFwiLCBleHBsaWNpdDogITAgfSwgdGhpcy5zZXRBU04xT2JqZWN0ID0gZnVuY3Rpb24obiwgaCwgdSkge1xuICAgIHRoaXMucGFyYW1zID0geyB0YWc6IGgsIGV4cGxpY2l0OiBuLCBvYmo6IHUgfTtcbiAgfSwgdGhpcy5nZXRGcmVzaFZhbHVlSGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIG4gPSB0aGlzLnBhcmFtcztcbiAgICBpZiAobi5leHBsaWNpdCA9PSBudWxsICYmIChuLmV4cGxpY2l0ID0gITApLCBuLnRhZ2UgIT0gbnVsbCAmJiAobi50YWcgPSBuLnRhZ2UsIG4uZXhwbGljaXQgPSAhMCksIG4udGFnaSAhPSBudWxsICYmIChuLnRhZyA9IG4udGFnaSwgbi5leHBsaWNpdCA9ICExKSwgbi5zdHIgIT0gbnVsbClcbiAgICAgIHRoaXMuaFYgPSBodChuLnN0cik7XG4gICAgZWxzZSBpZiAobi5oZXggIT0gbnVsbClcbiAgICAgIHRoaXMuaFYgPSBuLmhleDtcbiAgICBlbHNlIGlmIChuLm9iaiAhPSBudWxsKSB7XG4gICAgICB2YXIgaDtcbiAgICAgIG4ub2JqIGluc3RhbmNlb2YgdC5BU04xT2JqZWN0ID8gaCA9IG4ub2JqLnRvaGV4KCkgOiB0eXBlb2Ygbi5vYmogPT0gXCJvYmplY3RcIiAmJiAoaCA9IHMobi5vYmopLnRvaGV4KCkpLCBuLmV4cGxpY2l0ID8gdGhpcy5oViA9IGggOiB0aGlzLmhWID0gaShoLCAwKTtcbiAgICB9IGVsc2VcbiAgICAgIHRocm93IG5ldyBFcnJvcihcInN0ciwgaGV4IG5vciBvYmogbm90IHNwZWNpZmllZFwiKTtcbiAgICByZXR1cm4gbi50YWcgPT0gbnVsbCAmJiAobi50YWcgPSBcImEwXCIpLCB0aGlzLmhUID0gbi50YWcsIHRoaXMuaFRMViA9IG51bGwsIHRoaXMuaXNNb2RpZmllZCA9ICEwLCB0aGlzLmhWO1xuICB9LCB0aGlzLnNldEJ5UGFyYW0gPSBmdW5jdGlvbihuKSB7XG4gICAgdGhpcy5wYXJhbXMgPSBuO1xuICB9LCBlICE9PSB2b2lkIDAgJiYgdGhpcy5zZXRCeVBhcmFtKGUpO1xufTtcbk4oYS5hc24xLkRFUlRhZ2dlZE9iamVjdCwgYS5hc24xLkFTTjFPYmplY3QpO1xudmFyIFYgPSBuZXcgZnVuY3Rpb24oKSB7XG59KCk7XG5WLmdldExibGVuID0gZnVuY3Rpb24oZSwgdCkge1xuICBpZiAoZS5zdWJzdHIodCArIDIsIDEpICE9IFwiOFwiKVxuICAgIHJldHVybiAxO1xuICB2YXIgciA9IHBhcnNlSW50KGUuc3Vic3RyKHQgKyAzLCAxKSk7XG4gIHJldHVybiByID09IDAgPyAtMSA6IDAgPCByICYmIHIgPCAxMCA/IHIgKyAxIDogLTI7XG59O1xuVi5nZXRMID0gZnVuY3Rpb24oZSwgdCkge1xuICB2YXIgciA9IFYuZ2V0TGJsZW4oZSwgdCk7XG4gIHJldHVybiByIDwgMSA/IFwiXCIgOiBlLnN1YnN0cih0ICsgMiwgciAqIDIpO1xufTtcblYuZ2V0VmJsZW4gPSBmdW5jdGlvbihlLCB0KSB7XG4gIHZhciByLCBpO1xuICByZXR1cm4gciA9IFYuZ2V0TChlLCB0KSwgciA9PSBcIlwiID8gLTEgOiAoci5zdWJzdHIoMCwgMSkgPT09IFwiOFwiID8gaSA9IG5ldyBSKHIuc3Vic3RyKDIpLCAxNikgOiBpID0gbmV3IFIociwgMTYpLCBpLmludFZhbHVlKCkpO1xufTtcblYuZ2V0VmlkeCA9IGZ1bmN0aW9uKGUsIHQpIHtcbiAgdmFyIHIgPSBWLmdldExibGVuKGUsIHQpO1xuICByZXR1cm4gciA8IDAgPyByIDogdCArIChyICsgMSkgKiAyO1xufTtcblYuZ2V0ViA9IGZ1bmN0aW9uKGUsIHQpIHtcbiAgdmFyIHIgPSBWLmdldFZpZHgoZSwgdCksIGkgPSBWLmdldFZibGVuKGUsIHQpO1xuICByZXR1cm4gZS5zdWJzdHIociwgaSAqIDIpO1xufTtcblYuZ2V0VExWID0gZnVuY3Rpb24oZSwgdCkge1xuICByZXR1cm4gZS5zdWJzdHIodCwgMikgKyBWLmdldEwoZSwgdCkgKyBWLmdldFYoZSwgdCk7XG59O1xuVi5nZXRUTFZibGVuID0gZnVuY3Rpb24oZSwgdCkge1xuICByZXR1cm4gMiArIFYuZ2V0TGJsZW4oZSwgdCkgKiAyICsgVi5nZXRWYmxlbihlLCB0KSAqIDI7XG59O1xuVi5nZXROZXh0U2libGluZ0lkeCA9IGZ1bmN0aW9uKGUsIHQpIHtcbiAgdmFyIHIgPSBWLmdldFZpZHgoZSwgdCksIGkgPSBWLmdldFZibGVuKGUsIHQpO1xuICByZXR1cm4gciArIGkgKiAyO1xufTtcblYuZ2V0Q2hpbGRJZHggPSBmdW5jdGlvbihlLCB0KSB7XG4gIHZhciByID0gViwgaSA9IFtdLCBzLCBuLCBoO1xuICBzID0gci5nZXRWaWR4KGUsIHQpLCBuID0gci5nZXRWYmxlbihlLCB0KSAqIDIsIGUuc3Vic3RyKHQsIDIpID09IFwiMDNcIiAmJiAocyArPSAyLCBuIC09IDIpLCBoID0gMDtcbiAgZm9yICh2YXIgdSA9IHM7IGggPD0gbjsgKSB7XG4gICAgdmFyIHAgPSByLmdldFRMVmJsZW4oZSwgdSk7XG4gICAgaWYgKGggKz0gcCwgaCA8PSBuICYmIGkucHVzaCh1KSwgdSArPSBwLCBoID49IG4pXG4gICAgICBicmVhaztcbiAgfVxuICByZXR1cm4gaTtcbn07XG5WLmdldE50aENoaWxkSWR4ID0gZnVuY3Rpb24oZSwgdCwgcikge1xuICB2YXIgaSA9IFYuZ2V0Q2hpbGRJZHgoZSwgdCk7XG4gIHJldHVybiBpW3JdO1xufTtcblYuZ2V0SWR4YnlMaXN0ID0gZnVuY3Rpb24oZSwgdCwgciwgaSkge1xuICB2YXIgcyA9IFYsIG4sIGg7XG4gIHJldHVybiByLmxlbmd0aCA9PSAwID8gaSAhPT0gdm9pZCAwICYmIGUuc3Vic3RyKHQsIDIpICE9PSBpID8gLTEgOiB0IDogKG4gPSByLnNoaWZ0KCksIGggPSBzLmdldENoaWxkSWR4KGUsIHQpLCBuID49IGgubGVuZ3RoID8gLTEgOiBzLmdldElkeGJ5TGlzdChlLCBoW25dLCByLCBpKSk7XG59O1xuVi5nZXRJZHhieUxpc3RFeCA9IGZ1bmN0aW9uKGUsIHQsIHIsIGkpIHtcbiAgdmFyIHMgPSBWLCBuLCBoO1xuICBpZiAoci5sZW5ndGggPT0gMClcbiAgICByZXR1cm4gaSAhPT0gdm9pZCAwICYmIGUuc3Vic3RyKHQsIDIpICE9PSBpID8gLTEgOiB0O1xuICBuID0gci5zaGlmdCgpLCBoID0gcy5nZXRDaGlsZElkeChlLCB0KTtcbiAgZm9yICh2YXIgdSA9IDAsIHAgPSAwOyBwIDwgaC5sZW5ndGg7IHArKykge1xuICAgIHZhciBjID0gZS5zdWJzdHIoaFtwXSwgMik7XG4gICAgaWYgKHR5cGVvZiBuID09IFwibnVtYmVyXCIgJiYgIXMuaXNDb250ZXh0VGFnKGMpICYmIHUgPT0gbiB8fCB0eXBlb2YgbiA9PSBcInN0cmluZ1wiICYmIHMuaXNDb250ZXh0VGFnKGMsIG4pKVxuICAgICAgcmV0dXJuIHMuZ2V0SWR4YnlMaXN0RXgoZSwgaFtwXSwgciwgaSk7XG4gICAgcy5pc0NvbnRleHRUYWcoYykgfHwgdSsrO1xuICB9XG4gIHJldHVybiAtMTtcbn07XG5WLmdldFRMVmJ5TGlzdCA9IGZ1bmN0aW9uKGUsIHQsIHIsIGkpIHtcbiAgdmFyIHMgPSBWLCBuID0gcy5nZXRJZHhieUxpc3QoZSwgdCwgciwgaSk7XG4gIHJldHVybiBuID09IC0xIHx8IG4gPj0gZS5sZW5ndGggPyBudWxsIDogcy5nZXRUTFYoZSwgbik7XG59O1xuVi5nZXRUTFZieUxpc3RFeCA9IGZ1bmN0aW9uKGUsIHQsIHIsIGkpIHtcbiAgdmFyIHMgPSBWLCBuID0gcy5nZXRJZHhieUxpc3RFeChlLCB0LCByLCBpKTtcbiAgcmV0dXJuIG4gPT0gLTEgPyBudWxsIDogcy5nZXRUTFYoZSwgbik7XG59O1xuVi5nZXRWYnlMaXN0ID0gZnVuY3Rpb24oZSwgdCwgciwgaSwgcykge1xuICB2YXIgbiA9IFYsIGgsIHU7XG4gIHJldHVybiBoID0gbi5nZXRJZHhieUxpc3QoZSwgdCwgciwgaSksIGggPT0gLTEgfHwgaCA+PSBlLmxlbmd0aCA/IG51bGwgOiAodSA9IG4uZ2V0VihlLCBoKSwgcyA9PT0gITAgJiYgKHUgPSB1LnN1YnN0cigyKSksIHUpO1xufTtcblYuZ2V0VmJ5TGlzdEV4ID0gZnVuY3Rpb24oZSwgdCwgciwgaSwgcykge1xuICB2YXIgbiA9IFYsIGgsIHU7XG4gIHJldHVybiBoID0gbi5nZXRJZHhieUxpc3RFeChlLCB0LCByLCBpKSwgaCA9PSAtMSA/IG51bGwgOiAodSA9IG4uZ2V0VihlLCBoKSwgZS5zdWJzdHIoaCwgMikgPT0gXCIwM1wiICYmIHMgIT09ICExICYmICh1ID0gdS5zdWJzdHIoMikpLCB1KTtcbn07XG5WLmdldEludCA9IGZ1bmN0aW9uKGUsIHQsIHIpIHtcbiAgciA9PSBudWxsICYmIChyID0gLTEpO1xuICB0cnkge1xuICAgIHZhciBpID0gZS5zdWJzdHIodCwgMik7XG4gICAgaWYgKGkgIT0gXCIwMlwiICYmIGkgIT0gXCIwM1wiKVxuICAgICAgcmV0dXJuIHI7XG4gICAgdmFyIHMgPSBWLmdldFYoZSwgdCk7XG4gICAgcmV0dXJuIGkgPT0gXCIwMlwiID8gcGFyc2VJbnQocywgMTYpIDogU24ocyk7XG4gIH0gY2F0Y2gge1xuICAgIHJldHVybiByO1xuICB9XG59O1xuVi5nZXRPSUQgPSBmdW5jdGlvbihlLCB0LCByKSB7XG4gIHIgPT0gbnVsbCAmJiAociA9IG51bGwpO1xuICB0cnkge1xuICAgIGlmIChlLnN1YnN0cih0LCAyKSAhPSBcIjA2XCIpXG4gICAgICByZXR1cm4gcjtcbiAgICB2YXIgaSA9IFYuZ2V0VihlLCB0KTtcbiAgICByZXR1cm4gZnQoaSk7XG4gIH0gY2F0Y2gge1xuICAgIHJldHVybiByO1xuICB9XG59O1xuVi5nZXRPSUROYW1lID0gZnVuY3Rpb24oZSwgdCwgcikge1xuICByID09IG51bGwgJiYgKHIgPSBudWxsKTtcbiAgdHJ5IHtcbiAgICB2YXIgaSA9IFYuZ2V0T0lEKGUsIHQsIHIpO1xuICAgIGlmIChpID09IHIpXG4gICAgICByZXR1cm4gcjtcbiAgICB2YXIgcyA9IGEuYXNuMS54NTA5Lk9JRC5vaWQybmFtZShpKTtcbiAgICByZXR1cm4gcyA9PSBcIlwiID8gaSA6IHM7XG4gIH0gY2F0Y2gge1xuICAgIHJldHVybiByO1xuICB9XG59O1xuVi5nZXRTdHJpbmcgPSBmdW5jdGlvbihlLCB0LCByKSB7XG4gIHIgPT0gbnVsbCAmJiAociA9IG51bGwpO1xuICB0cnkge1xuICAgIHZhciBpID0gVi5nZXRWKGUsIHQpO1xuICAgIHJldHVybiBBZShpKTtcbiAgfSBjYXRjaCB7XG4gICAgcmV0dXJuIHI7XG4gIH1cbn07XG5WLmhleHRvb2lkc3RyID0gZnVuY3Rpb24oZSkge1xuICB2YXIgdCA9IGZ1bmN0aW9uKHYsIG8pIHtcbiAgICByZXR1cm4gdi5sZW5ndGggPj0gbyA/IHYgOiBuZXcgQXJyYXkobyAtIHYubGVuZ3RoICsgMSkuam9pbihcIjBcIikgKyB2O1xuICB9LCByID0gW10sIGkgPSBlLnN1YnN0cigwLCAyKSwgcyA9IHBhcnNlSW50KGksIDE2KTtcbiAgclswXSA9IG5ldyBTdHJpbmcoTWF0aC5mbG9vcihzIC8gNDApKSwgclsxXSA9IG5ldyBTdHJpbmcocyAlIDQwKTtcbiAgZm9yICh2YXIgbiA9IGUuc3Vic3RyKDIpLCBoID0gW10sIHUgPSAwOyB1IDwgbi5sZW5ndGggLyAyOyB1KyspXG4gICAgaC5wdXNoKHBhcnNlSW50KG4uc3Vic3RyKHUgKiAyLCAyKSwgMTYpKTtcbiAgZm9yICh2YXIgcCA9IFtdLCBjID0gXCJcIiwgdSA9IDA7IHUgPCBoLmxlbmd0aDsgdSsrKVxuICAgIGhbdV0gJiAxMjggPyBjID0gYyArIHQoKGhbdV0gJiAxMjcpLnRvU3RyaW5nKDIpLCA3KSA6IChjID0gYyArIHQoKGhbdV0gJiAxMjcpLnRvU3RyaW5nKDIpLCA3KSwgcC5wdXNoKG5ldyBTdHJpbmcocGFyc2VJbnQoYywgMikpKSwgYyA9IFwiXCIpO1xuICB2YXIgeSA9IHIuam9pbihcIi5cIik7XG4gIHJldHVybiBwLmxlbmd0aCA+IDAgJiYgKHkgPSB5ICsgXCIuXCIgKyBwLmpvaW4oXCIuXCIpKSwgeTtcbn07XG5WLmR1bXAgPSBmdW5jdGlvbihlLCB0LCByLCBpKSB7XG4gIHZhciBzID0gViwgbiA9IHMuZ2V0ViwgaCA9IHMuZHVtcCwgdSA9IHMuZ2V0Q2hpbGRJZHgsIHAgPSBlO1xuICBlIGluc3RhbmNlb2YgYS5hc24xLkFTTjFPYmplY3QgJiYgKHAgPSBlLnRvaGV4KCkpO1xuICB2YXIgYyA9IGZ1bmN0aW9uKEUsIHcpIHtcbiAgICBpZiAoRS5sZW5ndGggPD0gdyAqIDIpXG4gICAgICByZXR1cm4gRTtcbiAgICB2YXIgeCA9IEUuc3Vic3RyKDAsIHcpICsgXCIuLih0b3RhbCBcIiArIEUubGVuZ3RoIC8gMiArIFwiYnl0ZXMpLi5cIiArIEUuc3Vic3RyKEUubGVuZ3RoIC0gdywgdyk7XG4gICAgcmV0dXJuIHg7XG4gIH07XG4gIHQgPT09IHZvaWQgMCAmJiAodCA9IHsgb21taXRfbG9uZ19vY3RldDogMzIgfSksIHIgPT09IHZvaWQgMCAmJiAociA9IDApLCBpID09PSB2b2lkIDAgJiYgKGkgPSBcIlwiKTtcbiAgdmFyIHkgPSB0Lm9tbWl0X2xvbmdfb2N0ZXQsIEkgPSBwLnN1YnN0cihyLCAyKTtcbiAgaWYgKEkgPT0gXCIwMVwiKSB7XG4gICAgdmFyIHYgPSBuKHAsIHIpO1xuICAgIHJldHVybiB2ID09IFwiMDBcIiA/IGkgKyBgQk9PTEVBTiBGQUxTRVxuYCA6IGkgKyBgQk9PTEVBTiBUUlVFXG5gO1xuICB9XG4gIGlmIChJID09IFwiMDJcIikge1xuICAgIHZhciB2ID0gbihwLCByKTtcbiAgICByZXR1cm4gaSArIFwiSU5URUdFUiBcIiArIGModiwgeSkgKyBgXG5gO1xuICB9XG4gIGlmIChJID09IFwiMDNcIikge1xuICAgIHZhciB2ID0gbihwLCByKTtcbiAgICBpZiAocy5pc0FTTjFIRVgodi5zdWJzdHIoMikpKSB7XG4gICAgICB2YXIgbyA9IGkgKyBgQklUU1RSSU5HLCBlbmNhcHN1bGF0ZXNcbmA7XG4gICAgICByZXR1cm4gbyA9IG8gKyBoKHYuc3Vic3RyKDIpLCB0LCAwLCBpICsgXCIgIFwiKSwgbztcbiAgICB9IGVsc2VcbiAgICAgIHJldHVybiBpICsgXCJCSVRTVFJJTkcgXCIgKyBjKHYsIHkpICsgYFxuYDtcbiAgfVxuICBpZiAoSSA9PSBcIjA0XCIpIHtcbiAgICB2YXIgdiA9IG4ocCwgcik7XG4gICAgaWYgKHMuaXNBU04xSEVYKHYpKSB7XG4gICAgICB2YXIgbyA9IGkgKyBgT0NURVRTVFJJTkcsIGVuY2Fwc3VsYXRlc1xuYDtcbiAgICAgIHJldHVybiBvID0gbyArIGgodiwgdCwgMCwgaSArIFwiICBcIiksIG87XG4gICAgfSBlbHNlXG4gICAgICByZXR1cm4gaSArIFwiT0NURVRTVFJJTkcgXCIgKyBjKHYsIHkpICsgYFxuYDtcbiAgfVxuICBpZiAoSSA9PSBcIjA1XCIpXG4gICAgcmV0dXJuIGkgKyBgTlVMTFxuYDtcbiAgaWYgKEkgPT0gXCIwNlwiKSB7XG4gICAgdmFyIGwgPSBuKHAsIHIpLCBmID0gYS5hc24xLkFTTjFVdGlsLm9pZEhleFRvSW50KGwpLCBkID0gYS5hc24xLng1MDkuT0lELm9pZDJuYW1lKGYpLCBnID0gZi5yZXBsYWNlKC9cXC4vZywgXCIgXCIpO1xuICAgIHJldHVybiBkICE9IFwiXCIgPyBpICsgXCJPYmplY3RJZGVudGlmaWVyIFwiICsgZCArIFwiIChcIiArIGcgKyBgKVxuYCA6IGkgKyBcIk9iamVjdElkZW50aWZpZXIgKFwiICsgZyArIGApXG5gO1xuICB9XG4gIGlmIChJID09IFwiMGFcIilcbiAgICByZXR1cm4gaSArIFwiRU5VTUVSQVRFRCBcIiArIHBhcnNlSW50KG4ocCwgcikpICsgYFxuYDtcbiAgaWYgKEkgPT0gXCIwY1wiKVxuICAgIHJldHVybiBpICsgXCJVVEY4U3RyaW5nICdcIiArIFcobihwLCByKSkgKyBgJ1xuYDtcbiAgaWYgKEkgPT0gXCIxM1wiKVxuICAgIHJldHVybiBpICsgXCJQcmludGFibGVTdHJpbmcgJ1wiICsgVyhuKHAsIHIpKSArIGAnXG5gO1xuICBpZiAoSSA9PSBcIjE0XCIpXG4gICAgcmV0dXJuIGkgKyBcIlRlbGV0ZXhTdHJpbmcgJ1wiICsgVyhuKHAsIHIpKSArIGAnXG5gO1xuICBpZiAoSSA9PSBcIjE2XCIpXG4gICAgcmV0dXJuIGkgKyBcIklBNVN0cmluZyAnXCIgKyBXKG4ocCwgcikpICsgYCdcbmA7XG4gIGlmIChJID09IFwiMTdcIilcbiAgICByZXR1cm4gaSArIFwiVVRDVGltZSBcIiArIFcobihwLCByKSkgKyBgXG5gO1xuICBpZiAoSSA9PSBcIjE4XCIpXG4gICAgcmV0dXJuIGkgKyBcIkdlbmVyYWxpemVkVGltZSBcIiArIFcobihwLCByKSkgKyBgXG5gO1xuICBpZiAoSSA9PSBcIjFhXCIpXG4gICAgcmV0dXJuIGkgKyBcIlZpc3VhbFN0cmluZyAnXCIgKyBXKG4ocCwgcikpICsgYCdcbmA7XG4gIGlmIChJID09IFwiMWVcIilcbiAgICByZXR1cm4gaSArIFwiQk1QU3RyaW5nICdcIiArIFR0KG4ocCwgcikpICsgYCdcbmA7XG4gIGlmIChJID09IFwiMzBcIikge1xuICAgIGlmIChwLnN1YnN0cihyLCA0KSA9PSBcIjMwMDBcIilcbiAgICAgIHJldHVybiBpICsgYFNFUVVFTkNFIHt9XG5gO1xuICAgIHZhciBvID0gaSArIGBTRVFVRU5DRVxuYCwgUyA9IHUocCwgciksIGIgPSB0O1xuICAgIGlmICgoUy5sZW5ndGggPT0gMiB8fCBTLmxlbmd0aCA9PSAzKSAmJiBwLnN1YnN0cihTWzBdLCAyKSA9PSBcIjA2XCIgJiYgcC5zdWJzdHIoU1tTLmxlbmd0aCAtIDFdLCAyKSA9PSBcIjA0XCIpIHtcbiAgICAgIHZhciBkID0gcy5vaWRuYW1lKG4ocCwgU1swXSkpLCBEID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0KSk7XG4gICAgICBELng1MDlFeHROYW1lID0gZCwgYiA9IEQ7XG4gICAgfVxuICAgIGZvciAodmFyIEEgPSAwOyBBIDwgUy5sZW5ndGg7IEErKylcbiAgICAgIG8gPSBvICsgaChwLCBiLCBTW0FdLCBpICsgXCIgIFwiKTtcbiAgICByZXR1cm4gbztcbiAgfVxuICBpZiAoSSA9PSBcIjMxXCIpIHtcbiAgICBmb3IgKHZhciBvID0gaSArIGBTRVRcbmAsIFMgPSB1KHAsIHIpLCBBID0gMDsgQSA8IFMubGVuZ3RoOyBBKyspXG4gICAgICBvID0gbyArIGgocCwgdCwgU1tBXSwgaSArIFwiICBcIik7XG4gICAgcmV0dXJuIG87XG4gIH1cbiAgdmFyIEkgPSBwYXJzZUludChJLCAxNik7XG4gIGlmIChJICYgMTI4KSB7XG4gICAgdmFyIG0gPSBJICYgMzE7XG4gICAgaWYgKEkgJiAzMikge1xuICAgICAgZm9yICh2YXIgbyA9IGkgKyBcIltcIiArIG0gKyBgXVxuYCwgUyA9IHUocCwgciksIEEgPSAwOyBBIDwgUy5sZW5ndGg7IEErKylcbiAgICAgICAgbyA9IG8gKyBoKHAsIHQsIFNbQV0sIGkgKyBcIiAgXCIpO1xuICAgICAgcmV0dXJuIG87XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciB2ID0gbihwLCByKTtcbiAgICAgIGlmIChWLmlzQVNOMUhFWCh2KSkge1xuICAgICAgICB2YXIgbyA9IGkgKyBcIltcIiArIG0gKyBgXVxuYDtcbiAgICAgICAgcmV0dXJuIG8gPSBvICsgaCh2LCB0LCAwLCBpICsgXCIgIFwiKSwgbztcbiAgICAgIH0gZWxzZVxuICAgICAgICAodi5zdWJzdHIoMCwgOCkgPT0gXCI2ODc0NzQ3MFwiIHx8IHQueDUwOUV4dE5hbWUgPT09IFwic3ViamVjdEFsdE5hbWVcIiAmJiBtID09IDIpICYmICh2ID0gVyh2KSk7XG4gICAgICB2YXIgbyA9IGkgKyBcIltcIiArIG0gKyBcIl0gXCIgKyB2ICsgYFxuYDtcbiAgICAgIHJldHVybiBvO1xuICAgIH1cbiAgfVxuICByZXR1cm4gaSArIFwiVU5LTk9XTihcIiArIEkgKyBcIikgXCIgKyBuKHAsIHIpICsgYFxuYDtcbn07XG5WLnBhcnNlID0gZnVuY3Rpb24oZSkge1xuICB2YXIgdCA9IFYsIHIgPSB0LnBhcnNlLCBpID0gdC5pc0FTTjFIRVgsIHMgPSB0LmdldFYsIG4gPSB0LmdldFRMViwgaCA9IHQuZ2V0Q2hpbGRJZHgsIHUgPSBhLmFzbjEsIHAgPSB1LkFTTjFVdGlsLm9pZEhleFRvSW50LCBjID0gdS54NTA5Lk9JRC5vaWQybmFtZSwgeSA9IFcsIHYgPSBUdCwgbyA9IGZuLCBsID0geyBcIjBjXCI6IFwidXRmOHN0clwiLCAxMjogXCJudW1zdHJcIiwgMTM6IFwicHJuc3RyXCIsIDE0OiBcInRlbHN0clwiLCAxNjogXCJpYTVzdHJcIiwgMTc6IFwidXRjdGltZVwiLCAxODogXCJnZW50aW1lXCIsIFwiMWFcIjogXCJ2aXNzdHJcIiwgXCIxZVwiOiBcImJtcHN0clwiLCAzMDogXCJzZXFcIiwgMzE6IFwic2V0XCIgfSwgZiA9IGZ1bmN0aW9uKHgpIHtcbiAgICBmb3IgKHZhciBGID0gW10sIFAgPSBoKHgsIDApLCBUID0gMDsgVCA8IFAubGVuZ3RoOyBUKyspIHtcbiAgICAgIHZhciBIID0gUFtUXSwgQyA9IG4oeCwgSCksIEIgPSByKEMpO1xuICAgICAgRi5wdXNoKEIpO1xuICAgIH1cbiAgICByZXR1cm4gRjtcbiAgfSwgZCA9IGUuc3Vic3RyKDAsIDIpLCBnID0ge30sIFMgPSBzKGUsIDApO1xuICBpZiAoZCA9PSBcIjAxXCIpXG4gICAgcmV0dXJuIGUgPT0gXCIwMTAxZmZcIiA/IHsgYm9vbDogITAgfSA6IHsgYm9vbDogITEgfTtcbiAgaWYgKGQgPT0gXCIwMlwiKVxuICAgIHJldHVybiB7IGludDogeyBoZXg6IFMgfSB9O1xuICBpZiAoZCA9PSBcIjAzXCIpXG4gICAgdHJ5IHtcbiAgICAgIGlmIChTLnN1YnN0cigwLCAyKSAhPSBcIjAwXCIpXG4gICAgICAgIHRocm93IFwibm90IGVuY2FwXCI7XG4gICAgICB2YXIgYiA9IFMuc3Vic3RyKDIpO1xuICAgICAgaWYgKCFpKGIpKVxuICAgICAgICB0aHJvdyBcIm5vdCBlbmNhcFwiO1xuICAgICAgcmV0dXJuIHsgYml0c3RyOiB7IG9iajogcihiKSB9IH07XG4gICAgfSBjYXRjaCB7XG4gICAgICB2YXIgRCA9IG51bGw7XG4gICAgICByZXR1cm4gUy5sZW5ndGggPD0gMTAgJiYgKEQgPSBFbihTKSksIEQgPT0gbnVsbCA/IHsgYml0c3RyOiB7IGhleDogUyB9IH0gOiB7IGJpdHN0cjogeyBiaW46IEQgfSB9O1xuICAgIH1cbiAgZWxzZSBpZiAoZCA9PSBcIjA0XCIpXG4gICAgdHJ5IHtcbiAgICAgIGlmICghaShTKSlcbiAgICAgICAgdGhyb3cgXCJub3QgZW5jYXBcIjtcbiAgICAgIHJldHVybiB7IG9jdHN0cjogeyBvYmo6IHIoUykgfSB9O1xuICAgIH0gY2F0Y2gge1xuICAgICAgcmV0dXJuIHsgb2N0c3RyOiB7IGhleDogUyB9IH07XG4gICAgfVxuICBlbHNlIHtcbiAgICBpZiAoZCA9PSBcIjA1XCIpXG4gICAgICByZXR1cm4geyBudWxsOiBcIlwiIH07XG4gICAgaWYgKGQgPT0gXCIwNlwiKSB7XG4gICAgICB2YXIgQSA9IHAoUyksIEkgPSBjKEEpO1xuICAgICAgcmV0dXJuIEkgPT0gXCJcIiA/IHsgb2lkOiBBIH0gOiB7IG9pZDogSSB9O1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoZCA9PSBcIjBhXCIpXG4gICAgICAgIHJldHVybiBTLmxlbmd0aCA+IDQgPyB7IGVudW06IHsgaGV4OiBTIH0gfSA6IHsgZW51bTogcGFyc2VJbnQoUywgMTYpIH07XG4gICAgICBpZiAoZCA9PSBcIjMwXCIgfHwgZCA9PSBcIjMxXCIpXG4gICAgICAgIHJldHVybiBnW2xbZF1dID0gZihlKSwgZztcbiAgICAgIGlmIChkID09IFwiMTRcIikge1xuICAgICAgICB2YXIgbSA9IG8oUyk7XG4gICAgICAgIHJldHVybiBnW2xbZF1dID0geyBzdHI6IG0gfSwgZztcbiAgICAgIH0gZWxzZSBpZiAoZCA9PSBcIjFlXCIpIHtcbiAgICAgICAgdmFyIG0gPSB2KFMpO1xuICAgICAgICByZXR1cm4gZ1tsW2RdXSA9IHsgc3RyOiBtIH0sIGc7XG4gICAgICB9IGVsc2UgaWYgKFwiOjBjOjEyOjEzOjE2OjE3OjE4OjFhOlwiLmluZGV4T2YoZCkgIT0gLTEpIHtcbiAgICAgICAgdmFyIG0gPSB5KFMpO1xuICAgICAgICByZXR1cm4gZ1tsW2RdXSA9IHsgc3RyOiBtIH0sIGc7XG4gICAgICB9IGVsc2UgaWYgKGQubWF0Y2goL144WzAtOV0kLykpIHtcbiAgICAgICAgdmFyIG0gPSB5KFMpO1xuICAgICAgICByZXR1cm4gbSA9PSBudWxsIHwgbSA9PSBcIlwiID8geyB0YWc6IHsgdGFnOiBkLCBleHBsaWNpdDogITEsIGhleDogUyB9IH0gOiBtLm1hdGNoKC9bXFx4MDAtXFx4MUZcXHg3Ri1cXHg5Rl0vKSAhPSBudWxsIHx8IG0ubWF0Y2goL1tcXHUwMDAwLVxcdTAwMUZcXHUwMDgw4oCTXFx1MDA5Rl0vKSAhPSBudWxsID8geyB0YWc6IHsgdGFnOiBkLCBleHBsaWNpdDogITEsIGhleDogUyB9IH0gOiB7IHRhZzogeyB0YWc6IGQsIGV4cGxpY2l0OiAhMSwgc3RyOiBtIH0gfTtcbiAgICAgIH0gZWxzZSBpZiAoZC5tYXRjaCgvXmFbMC05XSQvKSlcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBpZiAoIWkoUykpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJub3QgZW5jYXBcIik7XG4gICAgICAgICAgcmV0dXJuIHsgdGFnOiB7IHRhZzogZCwgZXhwbGljaXQ6ICEwLCBvYmo6IHIoUykgfSB9O1xuICAgICAgICB9IGNhdGNoIHtcbiAgICAgICAgICByZXR1cm4geyB0YWc6IHsgdGFnOiBkLCBleHBsaWNpdDogITAsIGhleDogUyB9IH07XG4gICAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICB2YXIgRSA9IG5ldyBhLmFzbjEuQVNOMU9iamVjdCgpO1xuICAgICAgICBFLmhWID0gUztcbiAgICAgICAgdmFyIHcgPSBFLmdldExlbmd0aEhleEZyb21WYWx1ZSgpO1xuICAgICAgICByZXR1cm4geyBhc24xOiB7IHRsdjogZCArIHcgKyBTIH0gfTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn07XG5WLmlzQ29udGV4dFRhZyA9IGZ1bmN0aW9uKGUsIHQpIHtcbiAgZSA9IGUudG9Mb3dlckNhc2UoKTtcbiAgdmFyIHIsIGk7XG4gIHRyeSB7XG4gICAgciA9IHBhcnNlSW50KGUsIDE2KTtcbiAgfSBjYXRjaCB7XG4gICAgcmV0dXJuIC0xO1xuICB9XG4gIGlmICh0ID09PSB2b2lkIDApXG4gICAgcmV0dXJuIChyICYgMTkyKSA9PSAxMjg7XG4gIHRyeSB7XG4gICAgdmFyIHMgPSB0Lm1hdGNoKC9eXFxbWzAtOV0rXFxdJC8pO1xuICAgIHJldHVybiBzID09IG51bGwgfHwgKGkgPSBwYXJzZUludCh0LnN1YnN0cigxLCB0Lmxlbmd0aCAtIDEpLCAxMCksIGkgPiAzMSkgPyAhMSA6IChyICYgMTkyKSA9PSAxMjggJiYgKHIgJiAzMSkgPT0gaTtcbiAgfSBjYXRjaCB7XG4gICAgcmV0dXJuICExO1xuICB9XG59O1xuVi5pc0FTTjFIRVggPSBmdW5jdGlvbihlKSB7XG4gIHZhciB0ID0gVjtcbiAgaWYgKGUubGVuZ3RoICUgMiA9PSAxKVxuICAgIHJldHVybiAhMTtcbiAgdmFyIHIgPSB0LmdldFZibGVuKGUsIDApLCBpID0gZS5zdWJzdHIoMCwgMiksIHMgPSB0LmdldEwoZSwgMCksIG4gPSBlLmxlbmd0aCAtIGkubGVuZ3RoIC0gcy5sZW5ndGg7XG4gIHJldHVybiBuID09IHIgKiAyO1xufTtcblYuY2hlY2tTdHJpY3RERVIgPSBmdW5jdGlvbihlLCB0LCByLCBpLCBzKSB7XG4gIHZhciBuID0gVjtcbiAgaWYgKHIgPT09IHZvaWQgMCkge1xuICAgIGlmICh0eXBlb2YgZSAhPSBcInN0cmluZ1wiKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwibm90IGhleCBzdHJpbmdcIik7XG4gICAgaWYgKGUgPSBlLnRvTG93ZXJDYXNlKCksICFhLmxhbmcuU3RyaW5nLmlzSGV4KGUpKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwibm90IGhleCBzdHJpbmdcIik7XG4gICAgciA9IGUubGVuZ3RoLCBpID0gZS5sZW5ndGggLyAyLCBpIDwgMTI4ID8gcyA9IDEgOiBzID0gTWF0aC5jZWlsKGkudG9TdHJpbmcoMTYpKSArIDE7XG4gIH1cbiAgdmFyIGggPSBuLmdldEwoZSwgdCk7XG4gIGlmIChoLmxlbmd0aCA+IHMgKiAyKVxuICAgIHRocm93IG5ldyBFcnJvcihcIkwgb2YgVExWIHRvbyBsb25nOiBpZHg9XCIgKyB0KTtcbiAgdmFyIHUgPSBuLmdldFZibGVuKGUsIHQpO1xuICBpZiAodSA+IGkpXG4gICAgdGhyb3cgbmV3IEVycm9yKFwidmFsdWUgb2YgTCB0b28gbG9uZyB0aGFuIGhleDogaWR4PVwiICsgdCk7XG4gIHZhciBwID0gbi5nZXRUTFYoZSwgdCksIGMgPSBwLmxlbmd0aCAtIDIgLSBuLmdldEwoZSwgdCkubGVuZ3RoO1xuICBpZiAoYyAhPT0gdSAqIDIpXG4gICAgdGhyb3cgbmV3IEVycm9yKFwiViBzdHJpbmcgbGVuZ3RoIGFuZCBMJ3MgdmFsdWUgbm90IHRoZSBzYW1lOlwiICsgYyArIFwiL1wiICsgdSAqIDIpO1xuICBpZiAodCA9PT0gMCAmJiBlLmxlbmd0aCAhPSBwLmxlbmd0aClcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJ0b3RhbCBsZW5ndGggYW5kIFRMViBsZW5ndGggdW5tYXRjaDpcIiArIGUubGVuZ3RoICsgXCIhPVwiICsgcC5sZW5ndGgpO1xuICB2YXIgeSA9IGUuc3Vic3RyKHQsIDIpO1xuICBpZiAoeSA9PT0gXCIwMlwiKSB7XG4gICAgdmFyIHYgPSBuLmdldFZpZHgoZSwgdCk7XG4gICAgaWYgKGUuc3Vic3RyKHYsIDIpID09IFwiMDBcIiAmJiBlLmNoYXJDb2RlQXQodiArIDIpIDwgNTYpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJub3QgbGVhc3QgemVyb3MgZm9yIERFUiBJTlRFR0VSXCIpO1xuICB9XG4gIGlmIChwYXJzZUludCh5LCAxNikgJiAzMikge1xuICAgIGZvciAodmFyIG8gPSBuLmdldFZibGVuKGUsIHQpLCBsID0gMCwgZiA9IG4uZ2V0Q2hpbGRJZHgoZSwgdCksIGQgPSAwOyBkIDwgZi5sZW5ndGg7IGQrKykge1xuICAgICAgdmFyIGcgPSBuLmdldFRMVihlLCBmW2RdKTtcbiAgICAgIGwgKz0gZy5sZW5ndGgsIG4uY2hlY2tTdHJpY3RERVIoZSwgZltkXSwgciwgaSwgcyk7XG4gICAgfVxuICAgIGlmIChvICogMiAhPSBsKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwic3VtIG9mIGNoaWxkcmVuJ3MgVExWIGxlbmd0aCBhbmQgTCB1bm1hdGNoOiBcIiArIG8gKiAyICsgXCIhPVwiICsgbCk7XG4gIH1cbn07XG5WLm9pZG5hbWUgPSBmdW5jdGlvbihlKSB7XG4gIHZhciB0ID0gYS5hc24xO1xuICBhLmxhbmcuU3RyaW5nLmlzSGV4KGUpICYmIChlID0gdC5BU04xVXRpbC5vaWRIZXhUb0ludChlKSk7XG4gIHZhciByID0gdC54NTA5Lk9JRC5vaWQybmFtZShlKTtcbiAgcmV0dXJuIHIgPT09IFwiXCIgJiYgKHIgPSBlKSwgcjtcbn07XG4odHlwZW9mIGEgPiBcInVcIiB8fCAhYSkgJiYgKGEgPSB7fSk7XG4odHlwZW9mIGEuYXNuMSA+IFwidVwiIHx8ICFhLmFzbjEpICYmIChhLmFzbjEgPSB7fSk7XG4odHlwZW9mIGEuYXNuMS54NTA5ID4gXCJ1XCIgfHwgIWEuYXNuMS54NTA5KSAmJiAoYS5hc24xLng1MDkgPSB7fSk7XG5hLmFzbjEueDUwOS5DZXJ0aWZpY2F0ZSA9IGZ1bmN0aW9uKGUpIHtcbiAgYS5hc24xLng1MDkuQ2VydGlmaWNhdGUuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpO1xuICB2YXIgdCA9IGEsIHIgPSB0LmFzbjEsIGkgPSByLkRFUkJpdFN0cmluZywgcyA9IHIuREVSU2VxdWVuY2UsIG4gPSByLng1MDksIGggPSBuLlRCU0NlcnRpZmljYXRlLCB1ID0gbi5BbGdvcml0aG1JZGVudGlmaWVyO1xuICB0aGlzLnBhcmFtcyA9IHZvaWQgMCwgdGhpcy5zZXRCeVBhcmFtID0gZnVuY3Rpb24ocCkge1xuICAgIHRoaXMucGFyYW1zID0gcDtcbiAgfSwgdGhpcy5zaWduID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHAgPSB0aGlzLnBhcmFtcywgYyA9IHAuc2lnYWxnO1xuICAgIHAuc2lnYWxnLm5hbWUgIT0gbnVsbCAmJiAoYyA9IHAuc2lnYWxnLm5hbWUpO1xuICAgIHZhciB5ID0gcC50YnNvYmoudG9oZXgoKSwgdiA9IG5ldyBhLmNyeXB0by5TaWduYXR1cmUoeyBhbGc6IGMgfSk7XG4gICAgdi5pbml0KHAuY2FrZXkpLCB2LnVwZGF0ZUhleCh5KSwgcC5zaWdoZXggPSB2LnNpZ24oKTtcbiAgfSwgdGhpcy5nZXRQRU0gPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gZGUodGhpcy50b2hleCgpLCBcIkNFUlRJRklDQVRFXCIpO1xuICB9LCB0aGlzLnRvaGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHAgPSB0aGlzLnBhcmFtcztcbiAgICBpZiAoKHAudGJzb2JqID09IG51bGwgfHwgcC50YnNvYmogPT0gbnVsbCkgJiYgKHAudGJzb2JqID0gbmV3IGgocCkpLCBwLnNpZ2hleCA9PSBudWxsICYmIHAuY2FrZXkgIT0gbnVsbCAmJiB0aGlzLnNpZ24oKSwgcC5zaWdoZXggPT0gbnVsbClcbiAgICAgIHRocm93IG5ldyBFcnJvcihcInNpZ2hleCBvciBjYWtleSBwYXJhbWV0ZXIgbm90IGRlZmluZWRcIik7XG4gICAgdmFyIGMgPSBbXTtcbiAgICBjLnB1c2gocC50YnNvYmopLCBjLnB1c2gobmV3IHUoeyBuYW1lOiBwLnNpZ2FsZyB9KSksIGMucHVzaChuZXcgaSh7IGhleDogXCIwMFwiICsgcC5zaWdoZXggfSkpO1xuICAgIHZhciB5ID0gbmV3IHMoeyBhcnJheTogYyB9KTtcbiAgICByZXR1cm4geS50b2hleCgpO1xuICB9LCB0aGlzLmdldEVuY29kZWRIZXggPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy50b2hleCgpO1xuICB9LCBlICE9IG51bGwgJiYgKHRoaXMucGFyYW1zID0gZSk7XG59O1xuTihhLmFzbjEueDUwOS5DZXJ0aWZpY2F0ZSwgYS5hc24xLkFTTjFPYmplY3QpO1xuYS5hc24xLng1MDkuVEJTQ2VydGlmaWNhdGUgPSBmdW5jdGlvbihlKSB7XG4gIGEuYXNuMS54NTA5LlRCU0NlcnRpZmljYXRlLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzKTtcbiAgdmFyIHQgPSBhLCByID0gdC5hc24xLCBpID0gci54NTA5LCBzID0gci5ERVJUYWdnZWRPYmplY3QsIG4gPSByLkRFUkludGVnZXIsIGggPSByLkRFUlNlcXVlbmNlLCB1ID0gaS5BbGdvcml0aG1JZGVudGlmaWVyLCBwID0gaS5UaW1lLCBjID0gaS5YNTAwTmFtZSwgeSA9IGkuRXh0ZW5zaW9ucywgdiA9IGkuU3ViamVjdFB1YmxpY0tleUluZm87XG4gIHRoaXMucGFyYW1zID0gbnVsbCwgdGhpcy5zZXRCeVBhcmFtID0gZnVuY3Rpb24obykge1xuICAgIHRoaXMucGFyYW1zID0gbztcbiAgfSwgdGhpcy50b2hleCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBvID0gW10sIGwgPSB0aGlzLnBhcmFtcztcbiAgICBpZiAobC52ZXJzaW9uICE9IG51bGwgfHwgbC52ZXJzaW9uICE9IDEpIHtcbiAgICAgIHZhciBmID0gMjtcbiAgICAgIGwudmVyc2lvbiAhPSBudWxsICYmIChmID0gbC52ZXJzaW9uIC0gMSk7XG4gICAgICB2YXIgZCA9IG5ldyBzKHsgb2JqOiBuZXcgbih7IGludDogZiB9KSB9KTtcbiAgICAgIG8ucHVzaChkKTtcbiAgICB9XG4gICAgby5wdXNoKG5ldyBuKGwuc2VyaWFsKSksIG8ucHVzaChuZXcgdSh7IG5hbWU6IGwuc2lnYWxnIH0pKSwgby5wdXNoKG5ldyBjKGwuaXNzdWVyKSksIG8ucHVzaChuZXcgaCh7IGFycmF5OiBbbmV3IHAobC5ub3RiZWZvcmUpLCBuZXcgcChsLm5vdGFmdGVyKV0gfSkpLCBvLnB1c2gobmV3IGMobC5zdWJqZWN0KSksIG8ucHVzaChuZXcgdihrLmdldEtleShsLnNianB1YmtleSkpKSwgbC5leHQgIT09IHZvaWQgMCAmJiBsLmV4dC5sZW5ndGggPiAwICYmIG8ucHVzaChuZXcgcyh7IHRhZzogXCJhM1wiLCBvYmo6IG5ldyB5KGwuZXh0KSB9KSk7XG4gICAgdmFyIGcgPSBuZXcgYS5hc24xLkRFUlNlcXVlbmNlKHsgYXJyYXk6IG8gfSk7XG4gICAgcmV0dXJuIGcudG9oZXgoKTtcbiAgfSwgdGhpcy5nZXRFbmNvZGVkSGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMudG9oZXgoKTtcbiAgfSwgZSAhPT0gdm9pZCAwICYmIHRoaXMuc2V0QnlQYXJhbShlKTtcbn07XG5OKGEuYXNuMS54NTA5LlRCU0NlcnRpZmljYXRlLCBhLmFzbjEuQVNOMU9iamVjdCk7XG5hLmFzbjEueDUwOS5FeHRlbnNpb25zID0gZnVuY3Rpb24oZSkge1xuICBhLmFzbjEueDUwOS5FeHRlbnNpb25zLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzKTtcbiAgdmFyIHQgPSBhLCByID0gdC5hc24xLCBpID0gci5ERVJTZXF1ZW5jZSwgcyA9IHIueDUwOTtcbiAgdGhpcy5hUGFyYW0gPSBbXSwgdGhpcy5zZXRCeVBhcmFtID0gZnVuY3Rpb24obikge1xuICAgIHRoaXMuYVBhcmFtID0gbjtcbiAgfSwgdGhpcy50b2hleCA9IGZ1bmN0aW9uKCkge1xuICAgIGZvciAodmFyIG4gPSBbXSwgaCA9IDA7IGggPCB0aGlzLmFQYXJhbS5sZW5ndGg7IGgrKykge1xuICAgICAgdmFyIHUgPSB0aGlzLmFQYXJhbVtoXSwgcCA9IHUuZXh0bmFtZSwgYyA9IG51bGw7XG4gICAgICBpZiAodS5leHRuICE9IG51bGwpXG4gICAgICAgIGMgPSBuZXcgcy5Qcml2YXRlRXh0ZW5zaW9uKHUpO1xuICAgICAgZWxzZSBpZiAocCA9PSBcInN1YmplY3RLZXlJZGVudGlmaWVyXCIpXG4gICAgICAgIGMgPSBuZXcgcy5TdWJqZWN0S2V5SWRlbnRpZmllcih1KTtcbiAgICAgIGVsc2UgaWYgKHAgPT0gXCJrZXlVc2FnZVwiKVxuICAgICAgICBjID0gbmV3IHMuS2V5VXNhZ2UodSk7XG4gICAgICBlbHNlIGlmIChwID09IFwic3ViamVjdEFsdE5hbWVcIilcbiAgICAgICAgYyA9IG5ldyBzLlN1YmplY3RBbHROYW1lKHUpO1xuICAgICAgZWxzZSBpZiAocCA9PSBcImlzc3VlckFsdE5hbWVcIilcbiAgICAgICAgYyA9IG5ldyBzLklzc3VlckFsdE5hbWUodSk7XG4gICAgICBlbHNlIGlmIChwID09IFwiYmFzaWNDb25zdHJhaW50c1wiKVxuICAgICAgICBjID0gbmV3IHMuQmFzaWNDb25zdHJhaW50cyh1KTtcbiAgICAgIGVsc2UgaWYgKHAgPT0gXCJuYW1lQ29uc3RyYWludHNcIilcbiAgICAgICAgYyA9IG5ldyBzLk5hbWVDb25zdHJhaW50cyh1KTtcbiAgICAgIGVsc2UgaWYgKHAgPT0gXCJjUkxEaXN0cmlidXRpb25Qb2ludHNcIilcbiAgICAgICAgYyA9IG5ldyBzLkNSTERpc3RyaWJ1dGlvblBvaW50cyh1KTtcbiAgICAgIGVsc2UgaWYgKHAgPT0gXCJjZXJ0aWZpY2F0ZVBvbGljaWVzXCIpXG4gICAgICAgIGMgPSBuZXcgcy5DZXJ0aWZpY2F0ZVBvbGljaWVzKHUpO1xuICAgICAgZWxzZSBpZiAocCA9PSBcInBvbGljeU1hcHBpbmdzXCIpXG4gICAgICAgIGMgPSBuZXcgcy5Qb2xpY3lNYXBwaW5ncyh1KTtcbiAgICAgIGVsc2UgaWYgKHAgPT0gXCJwb2xpY3lDb25zdHJhaW50c1wiKVxuICAgICAgICBjID0gbmV3IHMuUG9saWN5Q29uc3RyYWludHModSk7XG4gICAgICBlbHNlIGlmIChwID09IFwiaW5oaWJpdEFueVBvbGljeVwiKVxuICAgICAgICBjID0gbmV3IHMuSW5oaWJpdEFueVBvbGljeSh1KTtcbiAgICAgIGVsc2UgaWYgKHAgPT0gXCJhdXRob3JpdHlLZXlJZGVudGlmaWVyXCIpXG4gICAgICAgIGMgPSBuZXcgcy5BdXRob3JpdHlLZXlJZGVudGlmaWVyKHUpO1xuICAgICAgZWxzZSBpZiAocCA9PSBcImV4dEtleVVzYWdlXCIpXG4gICAgICAgIGMgPSBuZXcgcy5FeHRLZXlVc2FnZSh1KTtcbiAgICAgIGVsc2UgaWYgKHAgPT0gXCJhdXRob3JpdHlJbmZvQWNjZXNzXCIpXG4gICAgICAgIGMgPSBuZXcgcy5BdXRob3JpdHlJbmZvQWNjZXNzKHUpO1xuICAgICAgZWxzZSBpZiAocCA9PSBcImNSTE51bWJlclwiKVxuICAgICAgICBjID0gbmV3IHMuQ1JMTnVtYmVyKHUpO1xuICAgICAgZWxzZSBpZiAocCA9PSBcImNSTFJlYXNvblwiKVxuICAgICAgICBjID0gbmV3IHMuQ1JMUmVhc29uKHUpO1xuICAgICAgZWxzZSBpZiAocCA9PSBcIm9jc3BOb25jZVwiKVxuICAgICAgICBjID0gbmV3IHMuT0NTUE5vbmNlKHUpO1xuICAgICAgZWxzZSBpZiAocCA9PSBcIm9jc3BOb0NoZWNrXCIpXG4gICAgICAgIGMgPSBuZXcgcy5PQ1NQTm9DaGVjayh1KTtcbiAgICAgIGVsc2UgaWYgKHAgPT0gXCJhZG9iZVRpbWVTdGFtcFwiKVxuICAgICAgICBjID0gbmV3IHMuQWRvYmVUaW1lU3RhbXAodSk7XG4gICAgICBlbHNlIGlmIChwID09IFwic3ViamVjdERpcmVjdG9yeUF0dHJpYnV0ZXNcIilcbiAgICAgICAgYyA9IG5ldyBzLlN1YmplY3REaXJlY3RvcnlBdHRyaWJ1dGVzKHUpO1xuICAgICAgZWxzZVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJleHRlbnNpb24gbm90IHN1cHBvcnRlZDpcIiArIEpTT04uc3RyaW5naWZ5KHUpKTtcbiAgICAgIGMgIT0gbnVsbCAmJiBuLnB1c2goYyk7XG4gICAgfVxuICAgIHZhciB5ID0gbmV3IGkoeyBhcnJheTogbiB9KTtcbiAgICByZXR1cm4geS50b2hleCgpO1xuICB9LCB0aGlzLmdldEVuY29kZWRIZXggPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy50b2hleCgpO1xuICB9LCBlICE9IG51bGwgJiYgdGhpcy5zZXRCeVBhcmFtKGUpO1xufTtcbk4oYS5hc24xLng1MDkuRXh0ZW5zaW9ucywgYS5hc24xLkFTTjFPYmplY3QpO1xuYS5hc24xLng1MDkuRXh0ZW5zaW9uID0gZnVuY3Rpb24oZSkge1xuICBhLmFzbjEueDUwOS5FeHRlbnNpb24uc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpO1xuICB2YXIgdCA9IGEsIHIgPSB0LmFzbjEsIGkgPSByLkRFUk9iamVjdElkZW50aWZpZXIsIHMgPSByLkRFUk9jdGV0U3RyaW5nO1xuICByLkRFUkJpdFN0cmluZztcbiAgdmFyIG4gPSByLkRFUkJvb2xlYW4sIGggPSByLkRFUlNlcXVlbmNlO1xuICB0aGlzLnRvaGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHUgPSBuZXcgaSh7IG9pZDogdGhpcy5vaWQgfSksIHAgPSBuZXcgcyh7IGhleDogdGhpcy5nZXRFeHRuVmFsdWVIZXgoKSB9KSwgYyA9IG5ldyBBcnJheSgpO1xuICAgIGMucHVzaCh1KSwgdGhpcy5jcml0aWNhbCAmJiBjLnB1c2gobmV3IG4oKSksIGMucHVzaChwKTtcbiAgICB2YXIgeSA9IG5ldyBoKHsgYXJyYXk6IGMgfSk7XG4gICAgcmV0dXJuIHkudG9oZXgoKTtcbiAgfSwgdGhpcy5nZXRFbmNvZGVkSGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMudG9oZXgoKTtcbiAgfSwgdGhpcy5jcml0aWNhbCA9ICExLCBlICE9PSB2b2lkIDAgJiYgZS5jcml0aWNhbCAhPT0gdm9pZCAwICYmICh0aGlzLmNyaXRpY2FsID0gZS5jcml0aWNhbCk7XG59O1xuTihhLmFzbjEueDUwOS5FeHRlbnNpb24sIGEuYXNuMS5BU04xT2JqZWN0KTtcbmEuYXNuMS54NTA5LktleVVzYWdlID0gZnVuY3Rpb24oZSkge1xuICBhLmFzbjEueDUwOS5LZXlVc2FnZS5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcywgZSk7XG4gIHZhciB0ID0gRXJyb3IsIHIgPSB7IGRpZ2l0YWxTaWduYXR1cmU6IDAsIG5vblJlcHVkaWF0aW9uOiAxLCBrZXlFbmNpcGhlcm1lbnQ6IDIsIGRhdGFFbmNpcGhlcm1lbnQ6IDMsIGtleUFncmVlbWVudDogNCwga2V5Q2VydFNpZ246IDUsIGNSTFNpZ246IDYsIGVuY2lwaGVyT25seTogNywgZGVjaXBoZXJPbmx5OiA4IH07XG4gIHRoaXMuZ2V0RXh0blZhbHVlSGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGkgPSB0aGlzLmdldEJpblZhbHVlKCk7XG4gICAgcmV0dXJuIHRoaXMuYXNuMUV4dG5WYWx1ZSA9IG5ldyBhLmFzbjEuREVSQml0U3RyaW5nKHsgYmluOiBpIH0pLCB0aGlzLmFzbjFFeHRuVmFsdWUudG9oZXgoKTtcbiAgfSwgdGhpcy5nZXRCaW5WYWx1ZSA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBpID0gdGhpcy5wYXJhbXM7XG4gICAgaWYgKHR5cGVvZiBpICE9IFwib2JqZWN0XCIgfHwgdHlwZW9mIGkubmFtZXMgIT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgaS5iaW4gIT0gXCJzdHJpbmdcIilcbiAgICAgIHRocm93IG5ldyB0KFwicGFyYW1ldGVyIG5vdCB5ZXQgc2V0XCIpO1xuICAgIGlmIChpLm5hbWVzICE9IG51bGwpXG4gICAgICByZXR1cm4gcnQoaS5uYW1lcywgcik7XG4gICAgaWYgKGkuYmluICE9IG51bGwpXG4gICAgICByZXR1cm4gaS5iaW47XG4gICAgdGhyb3cgbmV3IHQoXCJwYXJhbWV0ZXIgbm90IHNldCBwcm9wZXJseVwiKTtcbiAgfSwgdGhpcy5vaWQgPSBcIjIuNS4yOS4xNVwiLCBlICE9PSB2b2lkIDAgJiYgKHRoaXMucGFyYW1zID0gZSk7XG59O1xuTihhLmFzbjEueDUwOS5LZXlVc2FnZSwgYS5hc24xLng1MDkuRXh0ZW5zaW9uKTtcbmEuYXNuMS54NTA5LkJhc2ljQ29uc3RyYWludHMgPSBmdW5jdGlvbihlKSB7XG4gIGEuYXNuMS54NTA5LkJhc2ljQ29uc3RyYWludHMuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsIGUpO1xuICB2YXIgdCA9IGEuYXNuMSwgciA9IHQuREVSQm9vbGVhbiwgaSA9IHQuREVSSW50ZWdlciwgcyA9IHQuREVSU2VxdWVuY2U7XG4gIHRoaXMuZ2V0RXh0blZhbHVlSGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIG4gPSBuZXcgQXJyYXkoKTtcbiAgICB0aGlzLmNBICYmIG4ucHVzaChuZXcgcigpKSwgdGhpcy5wYXRoTGVuID4gLTEgJiYgbi5wdXNoKG5ldyBpKHsgaW50OiB0aGlzLnBhdGhMZW4gfSkpO1xuICAgIHZhciBoID0gbmV3IHMoeyBhcnJheTogbiB9KTtcbiAgICByZXR1cm4gdGhpcy5hc24xRXh0blZhbHVlID0gaCwgdGhpcy5hc24xRXh0blZhbHVlLnRvaGV4KCk7XG4gIH0sIHRoaXMub2lkID0gXCIyLjUuMjkuMTlcIiwgdGhpcy5jQSA9ICExLCB0aGlzLnBhdGhMZW4gPSAtMSwgZSAhPT0gdm9pZCAwICYmIChlLmNBICE9PSB2b2lkIDAgJiYgKHRoaXMuY0EgPSBlLmNBKSwgZS5wYXRoTGVuICE9PSB2b2lkIDAgJiYgKHRoaXMucGF0aExlbiA9IGUucGF0aExlbikpO1xufTtcbk4oYS5hc24xLng1MDkuQmFzaWNDb25zdHJhaW50cywgYS5hc24xLng1MDkuRXh0ZW5zaW9uKTtcbmEuYXNuMS54NTA5LkNSTERpc3RyaWJ1dGlvblBvaW50cyA9IGZ1bmN0aW9uKGUpIHtcbiAgYS5hc24xLng1MDkuQ1JMRGlzdHJpYnV0aW9uUG9pbnRzLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzLCBlKTtcbiAgdmFyIHQgPSBhLCByID0gdC5hc24xLCBpID0gci54NTA5O1xuICB0aGlzLmdldEV4dG5WYWx1ZUhleCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLmFzbjFFeHRuVmFsdWUudG9oZXgoKTtcbiAgfSwgdGhpcy5zZXRCeURQQXJyYXkgPSBmdW5jdGlvbihzKSB7XG4gICAgZm9yICh2YXIgbiA9IFtdLCBoID0gMDsgaCA8IHMubGVuZ3RoOyBoKyspXG4gICAgICBpZiAoc1toXSBpbnN0YW5jZW9mIGEuYXNuMS5BU04xT2JqZWN0KVxuICAgICAgICBuLnB1c2goc1toXSk7XG4gICAgICBlbHNlIHtcbiAgICAgICAgdmFyIHUgPSBuZXcgaS5EaXN0cmlidXRpb25Qb2ludChzW2hdKTtcbiAgICAgICAgbi5wdXNoKHUpO1xuICAgICAgfVxuICAgIHRoaXMuYXNuMUV4dG5WYWx1ZSA9IG5ldyByLkRFUlNlcXVlbmNlKHsgYXJyYXk6IG4gfSk7XG4gIH0sIHRoaXMuc2V0QnlPbmVVUkkgPSBmdW5jdGlvbihzKSB7XG4gICAgdmFyIG4gPSBuZXcgaS5EaXN0cmlidXRpb25Qb2ludCh7IGZ1bGx1cmk6IHMgfSk7XG4gICAgdGhpcy5zZXRCeURQQXJyYXkoW25dKTtcbiAgfSwgdGhpcy5vaWQgPSBcIjIuNS4yOS4zMVwiLCBlICE9PSB2b2lkIDAgJiYgKGUuYXJyYXkgIT09IHZvaWQgMCA/IHRoaXMuc2V0QnlEUEFycmF5KGUuYXJyYXkpIDogZS51cmkgIT09IHZvaWQgMCAmJiB0aGlzLnNldEJ5T25lVVJJKGUudXJpKSk7XG59O1xuTihhLmFzbjEueDUwOS5DUkxEaXN0cmlidXRpb25Qb2ludHMsIGEuYXNuMS54NTA5LkV4dGVuc2lvbik7XG5hLmFzbjEueDUwOS5EaXN0cmlidXRpb25Qb2ludCA9IGZ1bmN0aW9uKGUpIHtcbiAgYS5hc24xLng1MDkuRGlzdHJpYnV0aW9uUG9pbnQuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpO1xuICB2YXIgdCA9IGEsIHIgPSB0LmFzbjEsIGkgPSByLng1MDkuRGlzdHJpYnV0aW9uUG9pbnROYW1lO1xuICB0aGlzLnRvaGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHMgPSBuZXcgci5ERVJTZXF1ZW5jZSgpO1xuICAgIGlmICh0aGlzLmFzbjFEUCAhPSBudWxsKSB7XG4gICAgICB2YXIgbiA9IG5ldyByLkRFUlRhZ2dlZE9iamVjdCh7IGV4cGxpY2l0OiAhMCwgdGFnOiBcImEwXCIsIG9iajogdGhpcy5hc24xRFAgfSk7XG4gICAgICBzLmFwcGVuZEFTTjFPYmplY3Qobik7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmhUTFYgPSBzLnRvaGV4KCksIHRoaXMuaFRMVjtcbiAgfSwgdGhpcy5nZXRFbmNvZGVkSGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMudG9oZXgoKTtcbiAgfSwgZSAhPT0gdm9pZCAwICYmIChlLmRwb2JqICE9PSB2b2lkIDAgPyB0aGlzLmFzbjFEUCA9IGUuZHBvYmogOiBlLmRwbmFtZSAhPT0gdm9pZCAwID8gdGhpcy5hc24xRFAgPSBuZXcgaShlLmRwbmFtZSkgOiBlLmZ1bGx1cmkgIT09IHZvaWQgMCAmJiAodGhpcy5hc24xRFAgPSBuZXcgaSh7IGZ1bGw6IFt7IHVyaTogZS5mdWxsdXJpIH1dIH0pKSk7XG59O1xuTihhLmFzbjEueDUwOS5EaXN0cmlidXRpb25Qb2ludCwgYS5hc24xLkFTTjFPYmplY3QpO1xuYS5hc24xLng1MDkuRGlzdHJpYnV0aW9uUG9pbnROYW1lID0gZnVuY3Rpb24oZSkge1xuICBhLmFzbjEueDUwOS5EaXN0cmlidXRpb25Qb2ludE5hbWUuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpO1xuICB2YXIgdCA9IGEsIHIgPSB0LmFzbjEsIGkgPSByLkRFUlRhZ2dlZE9iamVjdDtcbiAgaWYgKHRoaXMudG9oZXggPSBmdW5jdGlvbigpIHtcbiAgICBpZiAodGhpcy50eXBlICE9IFwiZnVsbFwiKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiY3VycmVudGx5IHR5cGUgc2hhbGwgYmUgJ2Z1bGwnOiBcIiArIHRoaXMudHlwZSk7XG4gICAgcmV0dXJuIHRoaXMuYXNuMU9iaiA9IG5ldyBpKHsgZXhwbGljaXQ6ICExLCB0YWc6IHRoaXMudGFnLCBvYmo6IHRoaXMuYXNuMVYgfSksIHRoaXMuaFRMViA9IHRoaXMuYXNuMU9iai50b2hleCgpLCB0aGlzLmhUTFY7XG4gIH0sIHRoaXMuZ2V0RW5jb2RlZEhleCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLnRvaGV4KCk7XG4gIH0sIGUgIT09IHZvaWQgMClcbiAgICBpZiAoci54NTA5LkdlbmVyYWxOYW1lcy5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihlKSlcbiAgICAgIHRoaXMudHlwZSA9IFwiZnVsbFwiLCB0aGlzLnRhZyA9IFwiYTBcIiwgdGhpcy5hc24xViA9IGU7XG4gICAgZWxzZSBpZiAoZS5mdWxsICE9PSB2b2lkIDApXG4gICAgICB0aGlzLnR5cGUgPSBcImZ1bGxcIiwgdGhpcy50YWcgPSBcImEwXCIsIHRoaXMuYXNuMVYgPSBuZXcgci54NTA5LkdlbmVyYWxOYW1lcyhlLmZ1bGwpO1xuICAgIGVsc2VcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlRoaXMgY2xhc3Mgc3VwcG9ydHMgR2VuZXJhbE5hbWVzIG9ubHkgYXMgYXJndW1lbnRcIik7XG59O1xuTihhLmFzbjEueDUwOS5EaXN0cmlidXRpb25Qb2ludE5hbWUsIGEuYXNuMS5BU04xT2JqZWN0KTtcbmEuYXNuMS54NTA5LkNlcnRpZmljYXRlUG9saWNpZXMgPSBmdW5jdGlvbihlKSB7XG4gIGEuYXNuMS54NTA5LkNlcnRpZmljYXRlUG9saWNpZXMuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsIGUpO1xuICB2YXIgdCA9IGEsIHIgPSB0LmFzbjEsIGkgPSByLng1MDksIHMgPSByLkRFUlNlcXVlbmNlLCBuID0gaS5Qb2xpY3lJbmZvcm1hdGlvbjtcbiAgdGhpcy5wYXJhbXMgPSBudWxsLCB0aGlzLmdldEV4dG5WYWx1ZUhleCA9IGZ1bmN0aW9uKCkge1xuICAgIGZvciAodmFyIGggPSBbXSwgdSA9IDA7IHUgPCB0aGlzLnBhcmFtcy5hcnJheS5sZW5ndGg7IHUrKylcbiAgICAgIGgucHVzaChuZXcgbih0aGlzLnBhcmFtcy5hcnJheVt1XSkpO1xuICAgIHZhciBwID0gbmV3IHMoeyBhcnJheTogaCB9KTtcbiAgICByZXR1cm4gdGhpcy5hc24xRXh0blZhbHVlID0gcCwgdGhpcy5hc24xRXh0blZhbHVlLnRvaGV4KCk7XG4gIH0sIHRoaXMub2lkID0gXCIyLjUuMjkuMzJcIiwgZSAhPT0gdm9pZCAwICYmICh0aGlzLnBhcmFtcyA9IGUpO1xufTtcbk4oYS5hc24xLng1MDkuQ2VydGlmaWNhdGVQb2xpY2llcywgYS5hc24xLng1MDkuRXh0ZW5zaW9uKTtcbmEuYXNuMS54NTA5LlBvbGljeUluZm9ybWF0aW9uID0gZnVuY3Rpb24oZSkge1xuICBhLmFzbjEueDUwOS5Qb2xpY3lJbmZvcm1hdGlvbi5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcywgZSk7XG4gIHZhciB0ID0gYS5hc24xLCByID0gdC5ERVJTZXF1ZW5jZSwgaSA9IHQuREVST2JqZWN0SWRlbnRpZmllciwgcyA9IHQueDUwOS5Qb2xpY3lRdWFsaWZpZXJJbmZvO1xuICB0aGlzLnBhcmFtcyA9IG51bGwsIHRoaXMudG9oZXggPSBmdW5jdGlvbigpIHtcbiAgICBpZiAodGhpcy5wYXJhbXMucG9saWN5b2lkID09PSB2b2lkIDAgJiYgdGhpcy5wYXJhbXMuYXJyYXkgPT09IHZvaWQgMClcbiAgICAgIHRocm93IG5ldyBFcnJvcihcInBhcmFtZXRlciBvaWQgYW5kIGFycmF5IG1pc3NpbmdcIik7XG4gICAgdmFyIG4gPSBbbmV3IGkodGhpcy5wYXJhbXMucG9saWN5b2lkKV07XG4gICAgaWYgKHRoaXMucGFyYW1zLmFycmF5ICE9PSB2b2lkIDApIHtcbiAgICAgIGZvciAodmFyIGggPSBbXSwgdSA9IDA7IHUgPCB0aGlzLnBhcmFtcy5hcnJheS5sZW5ndGg7IHUrKylcbiAgICAgICAgaC5wdXNoKG5ldyBzKHRoaXMucGFyYW1zLmFycmF5W3VdKSk7XG4gICAgICBoLmxlbmd0aCA+IDAgJiYgbi5wdXNoKG5ldyByKHsgYXJyYXk6IGggfSkpO1xuICAgIH1cbiAgICB2YXIgcCA9IG5ldyByKHsgYXJyYXk6IG4gfSk7XG4gICAgcmV0dXJuIHAudG9oZXgoKTtcbiAgfSwgdGhpcy5nZXRFbmNvZGVkSGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMudG9oZXgoKTtcbiAgfSwgZSAhPT0gdm9pZCAwICYmICh0aGlzLnBhcmFtcyA9IGUpO1xufTtcbk4oYS5hc24xLng1MDkuUG9saWN5SW5mb3JtYXRpb24sIGEuYXNuMS5BU04xT2JqZWN0KTtcbmEuYXNuMS54NTA5LlBvbGljeVF1YWxpZmllckluZm8gPSBmdW5jdGlvbihlKSB7XG4gIGEuYXNuMS54NTA5LlBvbGljeVF1YWxpZmllckluZm8uc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsIGUpO1xuICB2YXIgdCA9IGEuYXNuMSwgciA9IHQuREVSU2VxdWVuY2UsIGkgPSB0LkRFUklBNVN0cmluZywgcyA9IHQuREVST2JqZWN0SWRlbnRpZmllciwgbiA9IHQueDUwOS5Vc2VyTm90aWNlO1xuICB0aGlzLnBhcmFtcyA9IG51bGwsIHRoaXMudG9oZXggPSBmdW5jdGlvbigpIHtcbiAgICBpZiAodGhpcy5wYXJhbXMuY3BzICE9PSB2b2lkIDApIHtcbiAgICAgIHZhciBoID0gbmV3IHIoeyBhcnJheTogW25ldyBzKHsgb2lkOiBcIjEuMy42LjEuNS41LjcuMi4xXCIgfSksIG5ldyBpKHsgc3RyOiB0aGlzLnBhcmFtcy5jcHMgfSldIH0pO1xuICAgICAgcmV0dXJuIGgudG9oZXgoKTtcbiAgICB9XG4gICAgaWYgKHRoaXMucGFyYW1zLnVub3RpY2UgIT0gbnVsbCkge1xuICAgICAgdmFyIGggPSBuZXcgcih7IGFycmF5OiBbbmV3IHMoeyBvaWQ6IFwiMS4zLjYuMS41LjUuNy4yLjJcIiB9KSwgbmV3IG4odGhpcy5wYXJhbXMudW5vdGljZSldIH0pO1xuICAgICAgcmV0dXJuIGgudG9oZXgoKTtcbiAgICB9XG4gIH0sIHRoaXMuZ2V0RW5jb2RlZEhleCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLnRvaGV4KCk7XG4gIH0sIGUgIT09IHZvaWQgMCAmJiAodGhpcy5wYXJhbXMgPSBlKTtcbn07XG5OKGEuYXNuMS54NTA5LlBvbGljeVF1YWxpZmllckluZm8sIGEuYXNuMS5BU04xT2JqZWN0KTtcbmEuYXNuMS54NTA5LlVzZXJOb3RpY2UgPSBmdW5jdGlvbihlKSB7XG4gIGEuYXNuMS54NTA5LlVzZXJOb3RpY2Uuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsIGUpO1xuICB2YXIgdCA9IGEuYXNuMS5ERVJTZXF1ZW5jZTtcbiAgYS5hc24xLkRFUkludGVnZXI7XG4gIHZhciByID0gYS5hc24xLng1MDkuRGlzcGxheVRleHQsIGkgPSBhLmFzbjEueDUwOS5Ob3RpY2VSZWZlcmVuY2U7XG4gIHRoaXMucGFyYW1zID0gbnVsbCwgdGhpcy50b2hleCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBzID0gW107XG4gICAgdGhpcy5wYXJhbXMubm90aWNlcmVmICE9PSB2b2lkIDAgJiYgcy5wdXNoKG5ldyBpKHRoaXMucGFyYW1zLm5vdGljZXJlZikpLCB0aGlzLnBhcmFtcy5leHB0ZXh0ICE9PSB2b2lkIDAgJiYgcy5wdXNoKG5ldyByKHRoaXMucGFyYW1zLmV4cHRleHQpKTtcbiAgICB2YXIgbiA9IG5ldyB0KHsgYXJyYXk6IHMgfSk7XG4gICAgcmV0dXJuIG4udG9oZXgoKTtcbiAgfSwgdGhpcy5nZXRFbmNvZGVkSGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMudG9oZXgoKTtcbiAgfSwgZSAhPT0gdm9pZCAwICYmICh0aGlzLnBhcmFtcyA9IGUpO1xufTtcbk4oYS5hc24xLng1MDkuVXNlck5vdGljZSwgYS5hc24xLkFTTjFPYmplY3QpO1xuYS5hc24xLng1MDkuTm90aWNlUmVmZXJlbmNlID0gZnVuY3Rpb24oZSkge1xuICBhLmFzbjEueDUwOS5Ob3RpY2VSZWZlcmVuY2Uuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsIGUpO1xuICB2YXIgdCA9IGEuYXNuMS5ERVJTZXF1ZW5jZSwgciA9IGEuYXNuMS5ERVJJbnRlZ2VyLCBpID0gYS5hc24xLng1MDkuRGlzcGxheVRleHQ7XG4gIHRoaXMucGFyYW1zID0gbnVsbCwgdGhpcy50b2hleCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBzID0gW107XG4gICAgaWYgKHRoaXMucGFyYW1zLm9yZyAhPT0gdm9pZCAwICYmIHMucHVzaChuZXcgaSh0aGlzLnBhcmFtcy5vcmcpKSwgdGhpcy5wYXJhbXMubm90aWNlbnVtICE9PSB2b2lkIDApIHtcbiAgICAgIGZvciAodmFyIG4gPSBbXSwgaCA9IHRoaXMucGFyYW1zLm5vdGljZW51bSwgdSA9IDA7IHUgPCBoLmxlbmd0aDsgdSsrKVxuICAgICAgICBuLnB1c2gobmV3IHIoaFt1XSkpO1xuICAgICAgcy5wdXNoKG5ldyB0KHsgYXJyYXk6IG4gfSkpO1xuICAgIH1cbiAgICBpZiAocy5sZW5ndGggPT0gMClcbiAgICAgIHRocm93IG5ldyBFcnJvcihcInBhcmFtZXRlciBpcyBlbXB0eVwiKTtcbiAgICB2YXIgcCA9IG5ldyB0KHsgYXJyYXk6IHMgfSk7XG4gICAgcmV0dXJuIHAudG9oZXgoKTtcbiAgfSwgdGhpcy5nZXRFbmNvZGVkSGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMudG9oZXgoKTtcbiAgfSwgZSAhPT0gdm9pZCAwICYmICh0aGlzLnBhcmFtcyA9IGUpO1xufTtcbk4oYS5hc24xLng1MDkuTm90aWNlUmVmZXJlbmNlLCBhLmFzbjEuQVNOMU9iamVjdCk7XG5hLmFzbjEueDUwOS5EaXNwbGF5VGV4dCA9IGZ1bmN0aW9uKGUpIHtcbiAgYS5hc24xLng1MDkuRGlzcGxheVRleHQuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsIGUpLCB0aGlzLmhUID0gXCIwY1wiLCBlICE9PSB2b2lkIDAgJiYgKGUudHlwZSA9PT0gXCJpYTVcIiA/IHRoaXMuaFQgPSBcIjE2XCIgOiBlLnR5cGUgPT09IFwidmlzXCIgPyB0aGlzLmhUID0gXCIxYVwiIDogZS50eXBlID09PSBcImJtcFwiICYmICh0aGlzLmhUID0gXCIxZVwiKSk7XG59O1xuTihhLmFzbjEueDUwOS5EaXNwbGF5VGV4dCwgYS5hc24xLkRFUkFic3RyYWN0U3RyaW5nKTtcbmEuYXNuMS54NTA5LlBvbGljeU1hcHBpbmdzID0gZnVuY3Rpb24oZSkge1xuICBhLmFzbjEueDUwOS5Qb2xpY3lNYXBwaW5ncy5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcywgZSk7XG4gIHZhciB0ID0gYSwgciA9IHQuYXNuMTtcbiAgci54NTA5O1xuICB2YXIgaSA9IHIuQVNOMVV0aWwubmV3T2JqZWN0O1xuICB0aGlzLnBhcmFtcyA9IG51bGwsIHRoaXMuZ2V0RXh0blZhbHVlSGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgZm9yICh2YXIgcyA9IHRoaXMucGFyYW1zLCBuID0gW10sIGggPSAwOyBoIDwgcy5hcnJheS5sZW5ndGg7IGgrKykge1xuICAgICAgdmFyIHUgPSBzLmFycmF5W2hdO1xuICAgICAgbi5wdXNoKHsgc2VxOiBbeyBvaWQ6IHVbMF0gfSwgeyBvaWQ6IHVbMV0gfV0gfSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmFzbjFFeHRuVmFsdWUgPSBpKHsgc2VxOiBuIH0pLCB0aGlzLmFzbjFFeHRuVmFsdWUudG9oZXgoKTtcbiAgfSwgdGhpcy5vaWQgPSBcIjIuNS4yOS4zM1wiLCBlICE9PSB2b2lkIDAgJiYgKHRoaXMucGFyYW1zID0gZSk7XG59O1xuTihhLmFzbjEueDUwOS5Qb2xpY3lNYXBwaW5ncywgYS5hc24xLng1MDkuRXh0ZW5zaW9uKTtcbmEuYXNuMS54NTA5LlBvbGljeUNvbnN0cmFpbnRzID0gZnVuY3Rpb24oZSkge1xuICBhLmFzbjEueDUwOS5Qb2xpY3lDb25zdHJhaW50cy5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcywgZSk7XG4gIHZhciB0ID0gYSwgciA9IHQuYXNuMTtcbiAgci54NTA5O1xuICB2YXIgaSA9IHIuQVNOMVV0aWwubmV3T2JqZWN0O1xuICB0aGlzLnBhcmFtcyA9IG51bGwsIHRoaXMuZ2V0RXh0blZhbHVlSGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHMgPSB0aGlzLnBhcmFtcywgbiA9IFtdO1xuICAgIHJldHVybiBzLnJlcWV4cCAhPSBudWxsICYmIG4ucHVzaCh7IHRhZzogeyB0YWdpOiBcIjgwXCIsIG9iajogeyBpbnQ6IHMucmVxZXhwIH0gfSB9KSwgcy5pbmhpYml0ICE9IG51bGwgJiYgbi5wdXNoKHsgdGFnOiB7IHRhZ2k6IFwiODFcIiwgb2JqOiB7IGludDogcy5pbmhpYml0IH0gfSB9KSwgdGhpcy5hc24xRXh0blZhbHVlID0gaSh7IHNlcTogbiB9KSwgdGhpcy5hc24xRXh0blZhbHVlLnRvaGV4KCk7XG4gIH0sIHRoaXMub2lkID0gXCIyLjUuMjkuMzZcIiwgZSAhPT0gdm9pZCAwICYmICh0aGlzLnBhcmFtcyA9IGUpO1xufTtcbk4oYS5hc24xLng1MDkuUG9saWN5Q29uc3RyYWludHMsIGEuYXNuMS54NTA5LkV4dGVuc2lvbik7XG5hLmFzbjEueDUwOS5JbmhpYml0QW55UG9saWN5ID0gZnVuY3Rpb24oZSkge1xuICBhLmFzbjEueDUwOS5JbmhpYml0QW55UG9saWN5LnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzLCBlKTtcbiAgdmFyIHQgPSBhLCByID0gdC5hc24xO1xuICByLng1MDk7XG4gIHZhciBpID0gci5BU04xVXRpbC5uZXdPYmplY3Q7XG4gIHRoaXMucGFyYW1zID0gbnVsbCwgdGhpcy5nZXRFeHRuVmFsdWVIZXggPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5hc24xRXh0blZhbHVlID0gaSh7IGludDogdGhpcy5wYXJhbXMuc2tpcCB9KSwgdGhpcy5hc24xRXh0blZhbHVlLnRvaGV4KCk7XG4gIH0sIHRoaXMub2lkID0gXCIyLjUuMjkuNTRcIiwgZSAhPT0gdm9pZCAwICYmICh0aGlzLnBhcmFtcyA9IGUpO1xufTtcbk4oYS5hc24xLng1MDkuSW5oaWJpdEFueVBvbGljeSwgYS5hc24xLng1MDkuRXh0ZW5zaW9uKTtcbmEuYXNuMS54NTA5Lk5hbWVDb25zdHJhaW50cyA9IGZ1bmN0aW9uKGUpIHtcbiAgYS5hc24xLng1MDkuTmFtZUNvbnN0cmFpbnRzLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzLCBlKTtcbiAgdmFyIHQgPSBhLCByID0gdC5hc24xLCBpID0gci54NTA5LCBzID0gci5BU04xVXRpbC5uZXdPYmplY3QsIG4gPSBpLkdlbmVyYWxTdWJ0cmVlO1xuICB0aGlzLnBhcmFtcyA9IG51bGwsIHRoaXMuZ2V0RXh0blZhbHVlSGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGggPSB0aGlzLnBhcmFtcywgdSA9IFtdO1xuICAgIGlmIChoLnBlcm1pdCAhPSBudWxsICYmIGgucGVybWl0Lmxlbmd0aCAhPSBudWxsKSB7XG4gICAgICBmb3IgKHZhciBwID0gW10sIGMgPSAwOyBjIDwgaC5wZXJtaXQubGVuZ3RoOyBjKyspXG4gICAgICAgIHAucHVzaChuZXcgbihoLnBlcm1pdFtjXSkpO1xuICAgICAgdS5wdXNoKHsgdGFnOiB7IHRhZ2k6IFwiYTBcIiwgb2JqOiB7IHNlcTogcCB9IH0gfSk7XG4gICAgfVxuICAgIGlmIChoLmV4Y2x1ZGUgIT0gbnVsbCAmJiBoLmV4Y2x1ZGUubGVuZ3RoICE9IG51bGwpIHtcbiAgICAgIGZvciAodmFyIHkgPSBbXSwgYyA9IDA7IGMgPCBoLmV4Y2x1ZGUubGVuZ3RoOyBjKyspXG4gICAgICAgIHkucHVzaChuZXcgbihoLmV4Y2x1ZGVbY10pKTtcbiAgICAgIHUucHVzaCh7IHRhZzogeyB0YWdpOiBcImExXCIsIG9iajogeyBzZXE6IHkgfSB9IH0pO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5hc24xRXh0blZhbHVlID0gcyh7IHNlcTogdSB9KSwgdGhpcy5hc24xRXh0blZhbHVlLnRvaGV4KCk7XG4gIH0sIHRoaXMub2lkID0gXCIyLjUuMjkuMzBcIiwgZSAhPT0gdm9pZCAwICYmICh0aGlzLnBhcmFtcyA9IGUpO1xufTtcbk4oYS5hc24xLng1MDkuTmFtZUNvbnN0cmFpbnRzLCBhLmFzbjEueDUwOS5FeHRlbnNpb24pO1xuYS5hc24xLng1MDkuR2VuZXJhbFN1YnRyZWUgPSBmdW5jdGlvbihlKSB7XG4gIGEuYXNuMS54NTA5LkdlbmVyYWxTdWJ0cmVlLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzKTtcbiAgdmFyIHQgPSBhLmFzbjEsIHIgPSB0Lng1MDksIGkgPSByLkdlbmVyYWxOYW1lLCBzID0gdC5BU04xVXRpbC5uZXdPYmplY3Q7XG4gIHRoaXMucGFyYW1zID0gbnVsbCwgdGhpcy5zZXRCeVBhcmFtID0gZnVuY3Rpb24obikge1xuICAgIHRoaXMucGFyYW1zID0gbjtcbiAgfSwgdGhpcy50b2hleCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBuID0gdGhpcy5wYXJhbXMsIGggPSBbbmV3IGkobildO1xuICAgIG4ubWluICE9IG51bGwgJiYgaC5wdXNoKHsgdGFnOiB7IHRhZ2k6IFwiODBcIiwgb2JqOiB7IGludDogbi5taW4gfSB9IH0pLCBuLm1heCAhPSBudWxsICYmIGgucHVzaCh7IHRhZzogeyB0YWdpOiBcIjgxXCIsIG9iajogeyBpbnQ6IG4ubWF4IH0gfSB9KTtcbiAgICB2YXIgdSA9IHMoeyBzZXE6IGggfSk7XG4gICAgcmV0dXJuIHUudG9oZXgoKTtcbiAgfSwgdGhpcy5nZXRFbmNvZGVkSGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMudG9oZXgoKTtcbiAgfSwgZSAhPT0gdm9pZCAwICYmIHRoaXMuc2V0QnlQYXJhbShlKTtcbn07XG5OKGEuYXNuMS54NTA5LkdlbmVyYWxTdWJ0cmVlLCBhLmFzbjEuQVNOMU9iamVjdCk7XG5hLmFzbjEueDUwOS5FeHRLZXlVc2FnZSA9IGZ1bmN0aW9uKGUpIHtcbiAgYS5hc24xLng1MDkuRXh0S2V5VXNhZ2Uuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsIGUpO1xuICB2YXIgdCA9IGEsIHIgPSB0LmFzbjE7XG4gIHRoaXMuc2V0UHVycG9zZUFycmF5ID0gZnVuY3Rpb24oaSkge1xuICAgIHRoaXMuYXNuMUV4dG5WYWx1ZSA9IG5ldyByLkRFUlNlcXVlbmNlKCk7XG4gICAgZm9yICh2YXIgcyA9IDA7IHMgPCBpLmxlbmd0aDsgcysrKSB7XG4gICAgICB2YXIgbiA9IG5ldyByLkRFUk9iamVjdElkZW50aWZpZXIoaVtzXSk7XG4gICAgICB0aGlzLmFzbjFFeHRuVmFsdWUuYXBwZW5kQVNOMU9iamVjdChuKTtcbiAgICB9XG4gIH0sIHRoaXMuZ2V0RXh0blZhbHVlSGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuYXNuMUV4dG5WYWx1ZS50b2hleCgpO1xuICB9LCB0aGlzLm9pZCA9IFwiMi41LjI5LjM3XCIsIGUgIT09IHZvaWQgMCAmJiBlLmFycmF5ICE9PSB2b2lkIDAgJiYgdGhpcy5zZXRQdXJwb3NlQXJyYXkoZS5hcnJheSk7XG59O1xuTihhLmFzbjEueDUwOS5FeHRLZXlVc2FnZSwgYS5hc24xLng1MDkuRXh0ZW5zaW9uKTtcbmEuYXNuMS54NTA5LkF1dGhvcml0eUtleUlkZW50aWZpZXIgPSBmdW5jdGlvbihlKSB7XG4gIGEuYXNuMS54NTA5LkF1dGhvcml0eUtleUlkZW50aWZpZXIuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsIGUpO1xuICB2YXIgdCA9IGEsIHIgPSB0LmFzbjEsIGkgPSByLkRFUlRhZ2dlZE9iamVjdCwgcyA9IHIueDUwOS5HZW5lcmFsTmFtZXM7XG4gIHQuY3J5cHRvLlV0aWwuaXNLZXksIHRoaXMuYXNuMUtJRCA9IG51bGwsIHRoaXMuYXNuMUNlcnRJc3N1ZXIgPSBudWxsLCB0aGlzLmFzbjFDZXJ0U04gPSBudWxsLCB0aGlzLmdldEV4dG5WYWx1ZUhleCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBuID0gbmV3IEFycmF5KCk7XG4gICAgdGhpcy5hc24xS0lEICYmIG4ucHVzaChuZXcgaSh7IGV4cGxpY2l0OiAhMSwgdGFnOiBcIjgwXCIsIG9iajogdGhpcy5hc24xS0lEIH0pKSwgdGhpcy5hc24xQ2VydElzc3VlciAmJiBuLnB1c2gobmV3IGkoeyBleHBsaWNpdDogITEsIHRhZzogXCJhMVwiLCBvYmo6IG5ldyBzKFt7IGRuOiB0aGlzLmFzbjFDZXJ0SXNzdWVyIH1dKSB9KSksIHRoaXMuYXNuMUNlcnRTTiAmJiBuLnB1c2gobmV3IGkoeyBleHBsaWNpdDogITEsIHRhZzogXCI4MlwiLCBvYmo6IHRoaXMuYXNuMUNlcnRTTiB9KSk7XG4gICAgdmFyIGggPSBuZXcgci5ERVJTZXF1ZW5jZSh7IGFycmF5OiBuIH0pO1xuICAgIHJldHVybiB0aGlzLmFzbjFFeHRuVmFsdWUgPSBoLCB0aGlzLmFzbjFFeHRuVmFsdWUudG9oZXgoKTtcbiAgfSwgdGhpcy5zZXRLSURCeVBhcmFtID0gZnVuY3Rpb24obikge1xuICAgIGlmIChuLnN0ciAhPT0gdm9pZCAwIHx8IG4uaGV4ICE9PSB2b2lkIDApXG4gICAgICB0aGlzLmFzbjFLSUQgPSBuZXcgYS5hc24xLkRFUk9jdGV0U3RyaW5nKG4pO1xuICAgIGVsc2UgaWYgKHR5cGVvZiBuID09IFwib2JqZWN0XCIgJiYgYS5jcnlwdG8uVXRpbC5pc0tleShuKSB8fCB0eXBlb2YgbiA9PSBcInN0cmluZ1wiICYmIG4uaW5kZXhPZihcIkJFR0lOIFwiKSAhPSAtMSkge1xuICAgICAgdmFyIGggPSBuO1xuICAgICAgdHlwZW9mIG4gPT0gXCJzdHJpbmdcIiAmJiAoaCA9IGsuZ2V0S2V5KG4pKTtcbiAgICAgIHZhciB1ID0gay5nZXRLZXlJRChoKTtcbiAgICAgIHRoaXMuYXNuMUtJRCA9IG5ldyBhLmFzbjEuREVST2N0ZXRTdHJpbmcoeyBoZXg6IHUgfSk7XG4gICAgfVxuICB9LCB0aGlzLnNldENlcnRJc3N1ZXJCeVBhcmFtID0gZnVuY3Rpb24obikge1xuICAgIG4uc3RyICE9PSB2b2lkIDAgfHwgbi5sZGFwc3RyICE9PSB2b2lkIDAgfHwgbi5oZXggIT09IHZvaWQgMCB8fCBuLmNlcnRzdWJqZWN0ICE9PSB2b2lkIDAgfHwgbi5jZXJ0aXNzdWVyICE9PSB2b2lkIDAgPyB0aGlzLmFzbjFDZXJ0SXNzdWVyID0gbmV3IGEuYXNuMS54NTA5Llg1MDBOYW1lKG4pIDogdHlwZW9mIG4gPT0gXCJzdHJpbmdcIiAmJiBuLmluZGV4T2YoXCJCRUdJTiBcIikgIT0gLTEgJiYgbi5pbmRleE9mKFwiQ0VSVElGSUNBVEVcIikgIT0gLTEgJiYgKHRoaXMuYXNuMUNlcnRJc3N1ZXIgPSBuZXcgYS5hc24xLng1MDkuWDUwME5hbWUoeyBjZXJ0aXNzdWVyOiBuIH0pKTtcbiAgfSwgdGhpcy5zZXRDZXJ0U05CeVBhcmFtID0gZnVuY3Rpb24obikge1xuICAgIGlmIChuLnN0ciAhPT0gdm9pZCAwIHx8IG4uYmlnaW50ICE9PSB2b2lkIDAgfHwgbi5oZXggIT09IHZvaWQgMClcbiAgICAgIHRoaXMuYXNuMUNlcnRTTiA9IG5ldyBhLmFzbjEuREVSSW50ZWdlcihuKTtcbiAgICBlbHNlIGlmICh0eXBlb2YgbiA9PSBcInN0cmluZ1wiICYmIG4uaW5kZXhPZihcIkJFR0lOIFwiKSAhPSAtMSAmJiBuLmluZGV4T2YoXCJDRVJUSUZJQ0FURVwiKSkge1xuICAgICAgdmFyIGggPSBuZXcgTCgpO1xuICAgICAgaC5yZWFkQ2VydFBFTShuKTtcbiAgICAgIHZhciB1ID0gaC5nZXRTZXJpYWxOdW1iZXJIZXgoKTtcbiAgICAgIHRoaXMuYXNuMUNlcnRTTiA9IG5ldyBhLmFzbjEuREVSSW50ZWdlcih7IGhleDogdSB9KTtcbiAgICB9XG4gIH0sIHRoaXMub2lkID0gXCIyLjUuMjkuMzVcIiwgZSAhPT0gdm9pZCAwICYmIChlLmtpZCAhPT0gdm9pZCAwICYmIHRoaXMuc2V0S0lEQnlQYXJhbShlLmtpZCksIGUuaXNzdWVyICE9PSB2b2lkIDAgJiYgdGhpcy5zZXRDZXJ0SXNzdWVyQnlQYXJhbShlLmlzc3VlciksIGUuc24gIT09IHZvaWQgMCAmJiB0aGlzLnNldENlcnRTTkJ5UGFyYW0oZS5zbiksIGUuaXNzdWVyc24gIT09IHZvaWQgMCAmJiB0eXBlb2YgZS5pc3N1ZXJzbiA9PSBcInN0cmluZ1wiICYmIGUuaXNzdWVyc24uaW5kZXhPZihcIkJFR0lOIFwiKSAhPSAtMSAmJiBlLmlzc3VlcnNuLmluZGV4T2YoXCJDRVJUSUZJQ0FURVwiKSAmJiAodGhpcy5zZXRDZXJ0U05CeVBhcmFtKGUuaXNzdWVyc24pLCB0aGlzLnNldENlcnRJc3N1ZXJCeVBhcmFtKGUuaXNzdWVyc24pKSk7XG59O1xuTihhLmFzbjEueDUwOS5BdXRob3JpdHlLZXlJZGVudGlmaWVyLCBhLmFzbjEueDUwOS5FeHRlbnNpb24pO1xuYS5hc24xLng1MDkuU3ViamVjdEtleUlkZW50aWZpZXIgPSBmdW5jdGlvbihlKSB7XG4gIGEuYXNuMS54NTA5LlN1YmplY3RLZXlJZGVudGlmaWVyLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzLCBlKTtcbiAgdmFyIHQgPSBhLCByID0gdC5hc24xLCBpID0gci5ERVJPY3RldFN0cmluZztcbiAgdGhpcy5hc24xS0lEID0gbnVsbCwgdGhpcy5nZXRFeHRuVmFsdWVIZXggPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5hc24xRXh0blZhbHVlID0gdGhpcy5hc24xS0lELCB0aGlzLmFzbjFFeHRuVmFsdWUudG9oZXgoKTtcbiAgfSwgdGhpcy5zZXRLSURCeVBhcmFtID0gZnVuY3Rpb24ocykge1xuICAgIGlmIChzLnN0ciAhPT0gdm9pZCAwIHx8IHMuaGV4ICE9PSB2b2lkIDApXG4gICAgICB0aGlzLmFzbjFLSUQgPSBuZXcgaShzKTtcbiAgICBlbHNlIGlmICh0eXBlb2YgcyA9PSBcIm9iamVjdFwiICYmIGEuY3J5cHRvLlV0aWwuaXNLZXkocykgfHwgdHlwZW9mIHMgPT0gXCJzdHJpbmdcIiAmJiBzLmluZGV4T2YoXCJCRUdJTlwiKSAhPSAtMSkge1xuICAgICAgdmFyIG4gPSBzO1xuICAgICAgdHlwZW9mIHMgPT0gXCJzdHJpbmdcIiAmJiAobiA9IGsuZ2V0S2V5KHMpKTtcbiAgICAgIHZhciBoID0gay5nZXRLZXlJRChuKTtcbiAgICAgIHRoaXMuYXNuMUtJRCA9IG5ldyBhLmFzbjEuREVST2N0ZXRTdHJpbmcoeyBoZXg6IGggfSk7XG4gICAgfVxuICB9LCB0aGlzLm9pZCA9IFwiMi41LjI5LjE0XCIsIGUgIT09IHZvaWQgMCAmJiBlLmtpZCAhPT0gdm9pZCAwICYmIHRoaXMuc2V0S0lEQnlQYXJhbShlLmtpZCk7XG59O1xuTihhLmFzbjEueDUwOS5TdWJqZWN0S2V5SWRlbnRpZmllciwgYS5hc24xLng1MDkuRXh0ZW5zaW9uKTtcbmEuYXNuMS54NTA5LkF1dGhvcml0eUluZm9BY2Nlc3MgPSBmdW5jdGlvbihlKSB7XG4gIGEuYXNuMS54NTA5LkF1dGhvcml0eUluZm9BY2Nlc3Muc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsIGUpLCB0aGlzLnNldEFjY2Vzc0Rlc2NyaXB0aW9uQXJyYXkgPSBmdW5jdGlvbih0KSB7XG4gICAgZm9yICh2YXIgciA9IG5ldyBBcnJheSgpLCBpID0gYSwgcyA9IGkuYXNuMSwgbiA9IHMuREVSU2VxdWVuY2UsIGggPSBzLkRFUk9iamVjdElkZW50aWZpZXIsIHUgPSBzLng1MDkuR2VuZXJhbE5hbWUsIHAgPSAwOyBwIDwgdC5sZW5ndGg7IHArKykge1xuICAgICAgdmFyIGMsIHkgPSB0W3BdO1xuICAgICAgaWYgKHkub2NzcCAhPT0gdm9pZCAwKVxuICAgICAgICBjID0gbmV3IG4oeyBhcnJheTogW25ldyBoKHsgb2lkOiBcIjEuMy42LjEuNS41LjcuNDguMVwiIH0pLCBuZXcgdSh7IHVyaTogeS5vY3NwIH0pXSB9KTtcbiAgICAgIGVsc2UgaWYgKHkuY2Fpc3N1ZXIgIT09IHZvaWQgMClcbiAgICAgICAgYyA9IG5ldyBuKHsgYXJyYXk6IFtuZXcgaCh7IG9pZDogXCIxLjMuNi4xLjUuNS43LjQ4LjJcIiB9KSwgbmV3IHUoeyB1cmk6IHkuY2Fpc3N1ZXIgfSldIH0pO1xuICAgICAgZWxzZVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJ1bmtub3duIEFjY2Vzc01ldGhvZCBwYXJhbWV0ZXI6IFwiICsgSlNPTi5zdHJpbmdpZnkoeSkpO1xuICAgICAgci5wdXNoKGMpO1xuICAgIH1cbiAgICB0aGlzLmFzbjFFeHRuVmFsdWUgPSBuZXcgbih7IGFycmF5OiByIH0pO1xuICB9LCB0aGlzLmdldEV4dG5WYWx1ZUhleCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLmFzbjFFeHRuVmFsdWUudG9oZXgoKTtcbiAgfSwgdGhpcy5vaWQgPSBcIjEuMy42LjEuNS41LjcuMS4xXCIsIGUgIT09IHZvaWQgMCAmJiBlLmFycmF5ICE9PSB2b2lkIDAgJiYgdGhpcy5zZXRBY2Nlc3NEZXNjcmlwdGlvbkFycmF5KGUuYXJyYXkpO1xufTtcbk4oYS5hc24xLng1MDkuQXV0aG9yaXR5SW5mb0FjY2VzcywgYS5hc24xLng1MDkuRXh0ZW5zaW9uKTtcbmEuYXNuMS54NTA5LlN1YmplY3RBbHROYW1lID0gZnVuY3Rpb24oZSkge1xuICBhLmFzbjEueDUwOS5TdWJqZWN0QWx0TmFtZS5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcywgZSksIHRoaXMuc2V0TmFtZUFycmF5ID0gZnVuY3Rpb24odCkge1xuICAgIHRoaXMuYXNuMUV4dG5WYWx1ZSA9IG5ldyBhLmFzbjEueDUwOS5HZW5lcmFsTmFtZXModCk7XG4gIH0sIHRoaXMuZ2V0RXh0blZhbHVlSGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuYXNuMUV4dG5WYWx1ZS50b2hleCgpO1xuICB9LCB0aGlzLm9pZCA9IFwiMi41LjI5LjE3XCIsIGUgIT09IHZvaWQgMCAmJiBlLmFycmF5ICE9PSB2b2lkIDAgJiYgdGhpcy5zZXROYW1lQXJyYXkoZS5hcnJheSk7XG59O1xuTihhLmFzbjEueDUwOS5TdWJqZWN0QWx0TmFtZSwgYS5hc24xLng1MDkuRXh0ZW5zaW9uKTtcbmEuYXNuMS54NTA5Lklzc3VlckFsdE5hbWUgPSBmdW5jdGlvbihlKSB7XG4gIGEuYXNuMS54NTA5Lklzc3VlckFsdE5hbWUuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsIGUpLCB0aGlzLnNldE5hbWVBcnJheSA9IGZ1bmN0aW9uKHQpIHtcbiAgICB0aGlzLmFzbjFFeHRuVmFsdWUgPSBuZXcgYS5hc24xLng1MDkuR2VuZXJhbE5hbWVzKHQpO1xuICB9LCB0aGlzLmdldEV4dG5WYWx1ZUhleCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLmFzbjFFeHRuVmFsdWUudG9oZXgoKTtcbiAgfSwgdGhpcy5vaWQgPSBcIjIuNS4yOS4xOFwiLCBlICE9PSB2b2lkIDAgJiYgZS5hcnJheSAhPT0gdm9pZCAwICYmIHRoaXMuc2V0TmFtZUFycmF5KGUuYXJyYXkpO1xufTtcbk4oYS5hc24xLng1MDkuSXNzdWVyQWx0TmFtZSwgYS5hc24xLng1MDkuRXh0ZW5zaW9uKTtcbmEuYXNuMS54NTA5LlN1YmplY3REaXJlY3RvcnlBdHRyaWJ1dGVzID0gZnVuY3Rpb24oZSkge1xuICBhLmFzbjEueDUwOS5TdWJqZWN0RGlyZWN0b3J5QXR0cmlidXRlcy5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcywgZSk7XG4gIHZhciB0ID0gYS5hc24xLCByID0gdC5ERVJTZXF1ZW5jZSwgaSA9IHQuQVNOMVV0aWwubmV3T2JqZWN0LCBzID0gdC54NTA5Lk9JRC5uYW1lMm9pZDtcbiAgdGhpcy5wYXJhbXMgPSBudWxsLCB0aGlzLmdldEV4dG5WYWx1ZUhleCA9IGZ1bmN0aW9uKCkge1xuICAgIGZvciAodmFyIG4gPSBbXSwgaCA9IDA7IGggPCB0aGlzLnBhcmFtcy5hcnJheS5sZW5ndGg7IGgrKykge1xuICAgICAgdmFyIHUgPSB0aGlzLnBhcmFtcy5hcnJheVtoXTtcbiAgICAgIGlmICh1LmF0dHIgIT0gbnVsbCAmJiB1LmFycmF5ICE9IG51bGwpIHtcbiAgICAgICAgdmFyIHAgPSB7IHNlcTogW3sgb2lkOiB1LmF0dHIgfSwgeyBzZXQ6IHUuYXJyYXkgfV0gfTtcbiAgICAgICAgbi5wdXNoKGkocCkpO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIHZhciBjID0geyBzZXE6IFt7IG9pZDogXCIxLjIuMy40XCIgfSwgeyBzZXQ6IFt7IHV0ZjhzdHI6IFwiREVcIiB9XSB9XSB9O1xuICAgICAgaWYgKHUuYXR0ciA9PSBcImRhdGVPZkJpcnRoXCIpXG4gICAgICAgIGMuc2VxWzBdLm9pZCA9IHModS5hdHRyKSwgYy5zZXFbMV0uc2V0WzBdID0geyBnZW50aW1lOiB1LnN0ciB9O1xuICAgICAgZWxzZSBpZiAodS5hdHRyID09IFwicGxhY2VPZkJpcnRoXCIpXG4gICAgICAgIGMuc2VxWzBdLm9pZCA9IHModS5hdHRyKSwgYy5zZXFbMV0uc2V0WzBdID0geyB1dGY4c3RyOiB1LnN0ciB9O1xuICAgICAgZWxzZSBpZiAodS5hdHRyID09IFwiZ2VuZGVyXCIpXG4gICAgICAgIGMuc2VxWzBdLm9pZCA9IHModS5hdHRyKSwgYy5zZXFbMV0uc2V0WzBdID0geyBwcm5zdHI6IHUuc3RyIH07XG4gICAgICBlbHNlIGlmICh1LmF0dHIgPT0gXCJjb3VudHJ5T2ZDaXRpemVuc2hpcFwiKVxuICAgICAgICBjLnNlcVswXS5vaWQgPSBzKHUuYXR0ciksIGMuc2VxWzFdLnNldFswXSA9IHsgcHJuc3RyOiB1LnN0ciB9O1xuICAgICAgZWxzZSBpZiAodS5hdHRyID09IFwiY291bnRyeU9mUmVzaWRlbmNlXCIpXG4gICAgICAgIGMuc2VxWzBdLm9pZCA9IHModS5hdHRyKSwgYy5zZXFbMV0uc2V0WzBdID0geyBwcm5zdHI6IHUuc3RyIH07XG4gICAgICBlbHNlXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcInVuc3VwcG9ydGVkIGF0dHJpYnV0ZTogXCIgKyB1LmF0dHIpO1xuICAgICAgbi5wdXNoKG5ldyBpKGMpKTtcbiAgICB9XG4gICAgdmFyIHkgPSBuZXcgcih7IGFycmF5OiBuIH0pO1xuICAgIHJldHVybiB0aGlzLmFzbjFFeHRuVmFsdWUgPSB5LCB0aGlzLmFzbjFFeHRuVmFsdWUudG9oZXgoKTtcbiAgfSwgdGhpcy5vaWQgPSBcIjIuNS4yOS45XCIsIGUgIT09IHZvaWQgMCAmJiAodGhpcy5wYXJhbXMgPSBlKTtcbn07XG5OKGEuYXNuMS54NTA5LlN1YmplY3REaXJlY3RvcnlBdHRyaWJ1dGVzLCBhLmFzbjEueDUwOS5FeHRlbnNpb24pO1xuYS5hc24xLng1MDkuUHJpdmF0ZUV4dGVuc2lvbiA9IGZ1bmN0aW9uKGUpIHtcbiAgYS5hc24xLng1MDkuUHJpdmF0ZUV4dGVuc2lvbi5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcywgZSk7XG4gIHZhciB0ID0gYSwgciA9IHQubGFuZy5TdHJpbmcuaXNIZXgsIGkgPSB0LmFzbjEsIHMgPSBpLng1MDkuT0lELm5hbWUyb2lkLCBuID0gaS5BU04xVXRpbC5uZXdPYmplY3Q7XG4gIHRoaXMucGFyYW1zID0gbnVsbCwgdGhpcy5zZXRCeVBhcmFtID0gZnVuY3Rpb24oaCkge1xuICAgIHRoaXMub2lkID0gcyhoLmV4dG5hbWUpLCB0aGlzLnBhcmFtcyA9IGg7XG4gIH0sIHRoaXMuZ2V0RXh0blZhbHVlSGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKHRoaXMucGFyYW1zLmV4dG5hbWUgPT0gbnVsbCB8fCB0aGlzLnBhcmFtcy5leHRuID09IG51bGwpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJleHRuYW1lIG9yIGV4dG5oZXggbm90IHNwZWNpZmllZFwiKTtcbiAgICB2YXIgaCA9IHRoaXMucGFyYW1zLmV4dG47XG4gICAgaWYgKHR5cGVvZiBoID09IFwic3RyaW5nXCIgJiYgcihoKSlcbiAgICAgIHJldHVybiBoO1xuICAgIGlmICh0eXBlb2YgaCA9PSBcIm9iamVjdFwiKVxuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIG4oaCkudG9oZXgoKTtcbiAgICAgIH0gY2F0Y2gge1xuICAgICAgfVxuICAgIHRocm93IG5ldyBFcnJvcihcInVuc3VwcG9ydGVkIGV4dG4gdmFsdWVcIik7XG4gIH0sIGUgIT0gbnVsbCAmJiB0aGlzLnNldEJ5UGFyYW0oZSk7XG59O1xuTihhLmFzbjEueDUwOS5Qcml2YXRlRXh0ZW5zaW9uLCBhLmFzbjEueDUwOS5FeHRlbnNpb24pO1xuYS5hc24xLng1MDkuQ1JMID0gZnVuY3Rpb24oZSkge1xuICBhLmFzbjEueDUwOS5DUkwuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpO1xuICB2YXIgdCA9IGEsIHIgPSB0LmFzbjEsIGkgPSByLkRFUlNlcXVlbmNlLCBzID0gci5ERVJCaXRTdHJpbmcsIG4gPSByLng1MDksIGggPSBuLkFsZ29yaXRobUlkZW50aWZpZXIsIHUgPSBuLlRCU0NlcnRMaXN0O1xuICB0aGlzLnBhcmFtcyA9IHZvaWQgMCwgdGhpcy5zZXRCeVBhcmFtID0gZnVuY3Rpb24ocCkge1xuICAgIHRoaXMucGFyYW1zID0gcDtcbiAgfSwgdGhpcy5zaWduID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHAgPSBuZXcgdSh0aGlzLnBhcmFtcykudG9oZXgoKSwgYyA9IG5ldyBhLmNyeXB0by5TaWduYXR1cmUoeyBhbGc6IHRoaXMucGFyYW1zLnNpZ2FsZyB9KTtcbiAgICBjLmluaXQodGhpcy5wYXJhbXMuY2FrZXkpLCBjLnVwZGF0ZUhleChwKTtcbiAgICB2YXIgeSA9IGMuc2lnbigpO1xuICAgIHRoaXMucGFyYW1zLnNpZ2hleCA9IHk7XG4gIH0sIHRoaXMuZ2V0UEVNID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGRlKHRoaXMudG9oZXgoKSwgXCJYNTA5IENSTFwiKTtcbiAgfSwgdGhpcy50b2hleCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBwID0gdGhpcy5wYXJhbXM7XG4gICAgaWYgKHAudGJzb2JqID09IG51bGwgJiYgKHAudGJzb2JqID0gbmV3IHUocCkpLCBwLnNpZ2hleCA9PSBudWxsICYmIHAuY2FrZXkgIT0gbnVsbCAmJiB0aGlzLnNpZ24oKSwgcC5zaWdoZXggPT0gbnVsbClcbiAgICAgIHRocm93IG5ldyBFcnJvcihcInNpZ2hleCBvciBjYWtleSBwYXJhbWV0ZXIgbm90IGRlZmluZWRcIik7XG4gICAgdmFyIGMgPSBbXTtcbiAgICBjLnB1c2gocC50YnNvYmopLCBjLnB1c2gobmV3IGgoeyBuYW1lOiBwLnNpZ2FsZyB9KSksIGMucHVzaChuZXcgcyh7IGhleDogXCIwMFwiICsgcC5zaWdoZXggfSkpO1xuICAgIHZhciB5ID0gbmV3IGkoeyBhcnJheTogYyB9KTtcbiAgICByZXR1cm4geS50b2hleCgpO1xuICB9LCB0aGlzLmdldEVuY29kZWRIZXggPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy50b2hleCgpO1xuICB9LCBlICE9IG51bGwgJiYgKHRoaXMucGFyYW1zID0gZSk7XG59O1xuTihhLmFzbjEueDUwOS5DUkwsIGEuYXNuMS5BU04xT2JqZWN0KTtcbmEuYXNuMS54NTA5LlRCU0NlcnRMaXN0ID0gZnVuY3Rpb24oZSkge1xuICBhLmFzbjEueDUwOS5UQlNDZXJ0TGlzdC5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyk7XG4gIHZhciB0ID0gYSwgciA9IHQuYXNuMSwgaSA9IHIuREVSSW50ZWdlciwgcyA9IHIuREVSU2VxdWVuY2UsIG4gPSByLkRFUlRhZ2dlZE9iamVjdDtcbiAgci5ERVJPYmplY3RJZGVudGlmaWVyO1xuICB2YXIgaCA9IHIueDUwOSwgdSA9IGguQWxnb3JpdGhtSWRlbnRpZmllciwgcCA9IGguVGltZSwgYyA9IGguRXh0ZW5zaW9ucywgeSA9IGguWDUwME5hbWU7XG4gIHRoaXMucGFyYW1zID0gbnVsbCwgdGhpcy5zZXRCeVBhcmFtID0gZnVuY3Rpb24odikge1xuICAgIHRoaXMucGFyYW1zID0gdjtcbiAgfSwgdGhpcy5nZXRSZXZDZXJ0U2VxdWVuY2UgPSBmdW5jdGlvbigpIHtcbiAgICBmb3IgKHZhciB2ID0gW10sIG8gPSB0aGlzLnBhcmFtcy5yZXZjZXJ0LCBsID0gMDsgbCA8IG8ubGVuZ3RoOyBsKyspIHtcbiAgICAgIHZhciBmID0gW25ldyBpKG9bbF0uc24pLCBuZXcgcChvW2xdLmRhdGUpXTtcbiAgICAgIG9bbF0uZXh0ICE9IG51bGwgJiYgZi5wdXNoKG5ldyBjKG9bbF0uZXh0KSksIHYucHVzaChuZXcgcyh7IGFycmF5OiBmIH0pKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBzKHsgYXJyYXk6IHYgfSk7XG4gIH0sIHRoaXMudG9oZXggPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgdiA9IFtdLCBvID0gdGhpcy5wYXJhbXM7XG4gICAgaWYgKG8udmVyc2lvbiAhPSBudWxsKSB7XG4gICAgICB2YXIgbCA9IG8udmVyc2lvbiAtIDEsIGYgPSBuZXcgaSh7IGludDogbCB9KTtcbiAgICAgIHYucHVzaChmKTtcbiAgICB9XG4gICAgaWYgKHYucHVzaChuZXcgdSh7IG5hbWU6IG8uc2lnYWxnIH0pKSwgdi5wdXNoKG5ldyB5KG8uaXNzdWVyKSksIHYucHVzaChuZXcgcChvLnRoaXN1cGRhdGUpKSwgby5uZXh0dXBkYXRlICE9IG51bGwgJiYgdi5wdXNoKG5ldyBwKG8ubmV4dHVwZGF0ZSkpLCBvLnJldmNlcnQgIT0gbnVsbCAmJiB2LnB1c2godGhpcy5nZXRSZXZDZXJ0U2VxdWVuY2UoKSksIG8uZXh0ICE9IG51bGwpIHtcbiAgICAgIHZhciBkID0gbmV3IGMoby5leHQpO1xuICAgICAgdi5wdXNoKG5ldyBuKHsgdGFnOiBcImEwXCIsIGV4cGxpY2l0OiAhMCwgb2JqOiBkIH0pKTtcbiAgICB9XG4gICAgdmFyIGcgPSBuZXcgcyh7IGFycmF5OiB2IH0pO1xuICAgIHJldHVybiBnLnRvaGV4KCk7XG4gIH0sIHRoaXMuZ2V0RW5jb2RlZEhleCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLnRvaGV4KCk7XG4gIH0sIGUgIT09IHZvaWQgMCAmJiB0aGlzLnNldEJ5UGFyYW0oZSk7XG59O1xuTihhLmFzbjEueDUwOS5UQlNDZXJ0TGlzdCwgYS5hc24xLkFTTjFPYmplY3QpO1xuYS5hc24xLng1MDkuQ1JMRW50cnkgPSBmdW5jdGlvbihlKSB7XG4gIGEuYXNuMS54NTA5LkNSTEVudHJ5LnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzKTtcbiAgdmFyIHQgPSBhLCByID0gdC5hc24xO1xuICB0aGlzLnNldENlcnRTZXJpYWwgPSBmdW5jdGlvbihpKSB7XG4gICAgdGhpcy5zbiA9IG5ldyByLkRFUkludGVnZXIoaSk7XG4gIH0sIHRoaXMuc2V0UmV2b2NhdGlvbkRhdGUgPSBmdW5jdGlvbihpKSB7XG4gICAgdGhpcy50aW1lID0gbmV3IHIueDUwOS5UaW1lKGkpO1xuICB9LCB0aGlzLnRvaGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGkgPSBuZXcgci5ERVJTZXF1ZW5jZSh7IGFycmF5OiBbdGhpcy5zbiwgdGhpcy50aW1lXSB9KTtcbiAgICByZXR1cm4gdGhpcy5UTFYgPSBpLnRvaGV4KCksIHRoaXMuVExWO1xuICB9LCB0aGlzLmdldEVuY29kZWRIZXggPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy50b2hleCgpO1xuICB9LCBlICE9PSB2b2lkIDAgJiYgKGUudGltZSAhPT0gdm9pZCAwICYmIHRoaXMuc2V0UmV2b2NhdGlvbkRhdGUoZS50aW1lKSwgZS5zbiAhPT0gdm9pZCAwICYmIHRoaXMuc2V0Q2VydFNlcmlhbChlLnNuKSk7XG59O1xuTihhLmFzbjEueDUwOS5DUkxFbnRyeSwgYS5hc24xLkFTTjFPYmplY3QpO1xuYS5hc24xLng1MDkuQ1JMTnVtYmVyID0gZnVuY3Rpb24oZSkge1xuICBhLmFzbjEueDUwOS5DUkxOdW1iZXIuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsIGUpLCB0aGlzLnBhcmFtcyA9IHZvaWQgMCwgdGhpcy5nZXRFeHRuVmFsdWVIZXggPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5hc24xRXh0blZhbHVlID0gbmV3IGEuYXNuMS5ERVJJbnRlZ2VyKHRoaXMucGFyYW1zLm51bSksIHRoaXMuYXNuMUV4dG5WYWx1ZS50b2hleCgpO1xuICB9LCB0aGlzLm9pZCA9IFwiMi41LjI5LjIwXCIsIGUgIT0gbnVsbCAmJiAodGhpcy5wYXJhbXMgPSBlKTtcbn07XG5OKGEuYXNuMS54NTA5LkNSTE51bWJlciwgYS5hc24xLng1MDkuRXh0ZW5zaW9uKTtcbmEuYXNuMS54NTA5LkNSTFJlYXNvbiA9IGZ1bmN0aW9uKGUpIHtcbiAgYS5hc24xLng1MDkuQ1JMUmVhc29uLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzLCBlKSwgdGhpcy5wYXJhbXMgPSB2b2lkIDAsIHRoaXMuZ2V0RXh0blZhbHVlSGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuYXNuMUV4dG5WYWx1ZSA9IG5ldyBhLmFzbjEuREVSRW51bWVyYXRlZCh0aGlzLnBhcmFtcy5jb2RlKSwgdGhpcy5hc24xRXh0blZhbHVlLnRvaGV4KCk7XG4gIH0sIHRoaXMub2lkID0gXCIyLjUuMjkuMjFcIiwgZSAhPSBudWxsICYmICh0aGlzLnBhcmFtcyA9IGUpO1xufTtcbk4oYS5hc24xLng1MDkuQ1JMUmVhc29uLCBhLmFzbjEueDUwOS5FeHRlbnNpb24pO1xuYS5hc24xLng1MDkuT0NTUE5vbmNlID0gZnVuY3Rpb24oZSkge1xuICBhLmFzbjEueDUwOS5PQ1NQTm9uY2Uuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsIGUpLCB0aGlzLnBhcmFtcyA9IHZvaWQgMCwgdGhpcy5nZXRFeHRuVmFsdWVIZXggPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5hc24xRXh0blZhbHVlID0gbmV3IGEuYXNuMS5ERVJPY3RldFN0cmluZyh0aGlzLnBhcmFtcyksIHRoaXMuYXNuMUV4dG5WYWx1ZS50b2hleCgpO1xuICB9LCB0aGlzLm9pZCA9IFwiMS4zLjYuMS41LjUuNy40OC4xLjJcIiwgZSAhPSBudWxsICYmICh0aGlzLnBhcmFtcyA9IGUpO1xufTtcbk4oYS5hc24xLng1MDkuT0NTUE5vbmNlLCBhLmFzbjEueDUwOS5FeHRlbnNpb24pO1xuYS5hc24xLng1MDkuT0NTUE5vQ2hlY2sgPSBmdW5jdGlvbihlKSB7XG4gIGEuYXNuMS54NTA5Lk9DU1BOb0NoZWNrLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzLCBlKSwgdGhpcy5wYXJhbXMgPSB2b2lkIDAsIHRoaXMuZ2V0RXh0blZhbHVlSGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuYXNuMUV4dG5WYWx1ZSA9IG5ldyBhLmFzbjEuREVSTnVsbCgpLCB0aGlzLmFzbjFFeHRuVmFsdWUudG9oZXgoKTtcbiAgfSwgdGhpcy5vaWQgPSBcIjEuMy42LjEuNS41LjcuNDguMS41XCIsIGUgIT0gbnVsbCAmJiAodGhpcy5wYXJhbXMgPSBlKTtcbn07XG5OKGEuYXNuMS54NTA5Lk9DU1BOb0NoZWNrLCBhLmFzbjEueDUwOS5FeHRlbnNpb24pO1xuYS5hc24xLng1MDkuQWRvYmVUaW1lU3RhbXAgPSBmdW5jdGlvbihlKSB7XG4gIGEuYXNuMS54NTA5LkFkb2JlVGltZVN0YW1wLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzLCBlKTtcbiAgdmFyIHQgPSBhLCByID0gdC5hc24xLCBpID0gci5ERVJJbnRlZ2VyLCBzID0gci5ERVJCb29sZWFuLCBuID0gci5ERVJTZXF1ZW5jZSwgaCA9IHIueDUwOS5HZW5lcmFsTmFtZTtcbiAgdGhpcy5wYXJhbXMgPSBudWxsLCB0aGlzLmdldEV4dG5WYWx1ZUhleCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciB1ID0gdGhpcy5wYXJhbXMsIHAgPSBbbmV3IGkoMSldO1xuICAgIHJldHVybiBwLnB1c2gobmV3IGgoeyB1cmk6IHUudXJpIH0pKSwgdS5yZXFhdXRoICE9IG51bGwgJiYgcC5wdXNoKG5ldyBzKHUucmVxYXV0aCkpLCB0aGlzLmFzbjFFeHRuVmFsdWUgPSBuZXcgbih7IGFycmF5OiBwIH0pLCB0aGlzLmFzbjFFeHRuVmFsdWUudG9oZXgoKTtcbiAgfSwgdGhpcy5vaWQgPSBcIjEuMi44NDAuMTEzNTgzLjEuMS45LjFcIiwgZSAhPT0gdm9pZCAwICYmIHRoaXMuc2V0QnlQYXJhbShlKTtcbn07XG5OKGEuYXNuMS54NTA5LkFkb2JlVGltZVN0YW1wLCBhLmFzbjEueDUwOS5FeHRlbnNpb24pO1xuYS5hc24xLng1MDkuWDUwME5hbWUgPSBmdW5jdGlvbihlKSB7XG4gIGEuYXNuMS54NTA5Llg1MDBOYW1lLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzKSwgdGhpcy5hc24xQXJyYXkgPSBbXSwgdGhpcy5wYXJhbUFycmF5ID0gW10sIHRoaXMuc1J1bGUgPSBcInV0ZjhcIjtcbiAgdmFyIHQgPSBhLCByID0gdC5hc24xLCBpID0gci54NTA5LCBzID0gaS5SRE47XG4gIHRoaXMuc2V0QnlTdHJpbmcgPSBmdW5jdGlvbihuLCBoKSB7XG4gICAgaCAhPT0gdm9pZCAwICYmICh0aGlzLnNSdWxlID0gaCk7XG4gICAgdmFyIHUgPSBuLnNwbGl0KFwiL1wiKTtcbiAgICB1LnNoaWZ0KCk7XG4gICAgZm9yICh2YXIgcCA9IFtdLCBjID0gMDsgYyA8IHUubGVuZ3RoOyBjKyspXG4gICAgICBpZiAodVtjXS5tYXRjaCgvXltePV0rPS4rJC8pKVxuICAgICAgICBwLnB1c2godVtjXSk7XG4gICAgICBlbHNlIHtcbiAgICAgICAgdmFyIHkgPSBwLmxlbmd0aCAtIDE7XG4gICAgICAgIHBbeV0gPSBwW3ldICsgXCIvXCIgKyB1W2NdO1xuICAgICAgfVxuICAgIGZvciAodmFyIGMgPSAwOyBjIDwgcC5sZW5ndGg7IGMrKylcbiAgICAgIHRoaXMuYXNuMUFycmF5LnB1c2gobmV3IHMoeyBzdHI6IHBbY10sIHJ1bGU6IHRoaXMuc1J1bGUgfSkpO1xuICB9LCB0aGlzLnNldEJ5TGRhcFN0cmluZyA9IGZ1bmN0aW9uKG4sIGgpIHtcbiAgICBoICE9PSB2b2lkIDAgJiYgKHRoaXMuc1J1bGUgPSBoKTtcbiAgICB2YXIgdSA9IGkuWDUwME5hbWUubGRhcFRvQ29tcGF0KG4pO1xuICAgIHRoaXMuc2V0QnlTdHJpbmcodSwgaCk7XG4gIH0sIHRoaXMuc2V0QnlPYmplY3QgPSBmdW5jdGlvbihuLCBoKSB7XG4gICAgaCAhPT0gdm9pZCAwICYmICh0aGlzLnNSdWxlID0gaCk7XG4gICAgZm9yICh2YXIgdSBpbiBuKVxuICAgICAgaWYgKG4uaGFzT3duUHJvcGVydHkodSkpIHtcbiAgICAgICAgdmFyIHAgPSBuZXcgcyh7IHN0cjogdSArIFwiPVwiICsgblt1XSwgcnVsZTogdGhpcy5zUnVsZSB9KTtcbiAgICAgICAgdGhpcy5hc24xQXJyYXkgPyB0aGlzLmFzbjFBcnJheS5wdXNoKHApIDogdGhpcy5hc24xQXJyYXkgPSBbcF07XG4gICAgICB9XG4gIH0sIHRoaXMuc2V0QnlQYXJhbSA9IGZ1bmN0aW9uKG4pIHtcbiAgICBpZiAobi5ydWxlICE9PSB2b2lkIDAgJiYgKHRoaXMuc1J1bGUgPSBuLnJ1bGUpLCBuLmFycmF5ICE9PSB2b2lkIDApXG4gICAgICB0aGlzLnBhcmFtQXJyYXkgPSBuLmFycmF5O1xuICAgIGVsc2UgaWYgKG4uc3RyICE9PSB2b2lkIDApXG4gICAgICB0aGlzLnNldEJ5U3RyaW5nKG4uc3RyKTtcbiAgICBlbHNlIGlmIChuLmxkYXBzdHIgIT09IHZvaWQgMClcbiAgICAgIHRoaXMuc2V0QnlMZGFwU3RyaW5nKG4ubGRhcHN0cik7XG4gICAgZWxzZSBpZiAobi5oZXggIT09IHZvaWQgMClcbiAgICAgIHRoaXMuaFRMViA9IG4uaGV4O1xuICAgIGVsc2UgaWYgKG4uY2VydGlzc3VlciAhPT0gdm9pZCAwKSB7XG4gICAgICB2YXIgaCA9IG5ldyBMKCk7XG4gICAgICBoLnJlYWRDZXJ0UEVNKG4uY2VydGlzc3VlciksIHRoaXMuaFRMViA9IGguZ2V0SXNzdWVySGV4KCk7XG4gICAgfSBlbHNlIGlmIChuLmNlcnRzdWJqZWN0ICE9PSB2b2lkIDApIHtcbiAgICAgIHZhciBoID0gbmV3IEwoKTtcbiAgICAgIGgucmVhZENlcnRQRU0obi5jZXJ0c3ViamVjdCksIHRoaXMuaFRMViA9IGguZ2V0U3ViamVjdEhleCgpO1xuICAgIH0gZWxzZVxuICAgICAgdHlwZW9mIG4gPT0gXCJvYmplY3RcIiAmJiBuLmNlcnRzdWJqZWN0ID09PSB2b2lkIDAgJiYgbi5jZXJ0aXNzdWVyID09PSB2b2lkIDAgJiYgdGhpcy5zZXRCeU9iamVjdChuKTtcbiAgfSwgdGhpcy50b2hleCA9IGZ1bmN0aW9uKCkge1xuICAgIGlmICh0eXBlb2YgdGhpcy5oVExWID09IFwic3RyaW5nXCIpXG4gICAgICByZXR1cm4gdGhpcy5oVExWO1xuICAgIGlmICh0aGlzLmFzbjFBcnJheS5sZW5ndGggPT0gMCAmJiB0aGlzLnBhcmFtQXJyYXkubGVuZ3RoID4gMClcbiAgICAgIGZvciAodmFyIG4gPSAwOyBuIDwgdGhpcy5wYXJhbUFycmF5Lmxlbmd0aDsgbisrKSB7XG4gICAgICAgIHZhciBoID0geyBhcnJheTogdGhpcy5wYXJhbUFycmF5W25dIH07XG4gICAgICAgIHRoaXMuc1J1bGUgIT0gXCJ1dGY4XCIgJiYgKGgucnVsZSA9IHRoaXMuc1J1bGUpO1xuICAgICAgICB2YXIgdSA9IG5ldyBzKGgpO1xuICAgICAgICB0aGlzLmFzbjFBcnJheS5wdXNoKHUpO1xuICAgICAgfVxuICAgIHZhciBwID0gbmV3IHIuREVSU2VxdWVuY2UoeyBhcnJheTogdGhpcy5hc24xQXJyYXkgfSk7XG4gICAgcmV0dXJuIHRoaXMuaFRMViA9IHAudG9oZXgoKSwgdGhpcy5oVExWO1xuICB9LCB0aGlzLmdldEVuY29kZWRIZXggPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy50b2hleCgpO1xuICB9LCBlICE9PSB2b2lkIDAgJiYgdGhpcy5zZXRCeVBhcmFtKGUpO1xufTtcbk4oYS5hc24xLng1MDkuWDUwME5hbWUsIGEuYXNuMS5BU04xT2JqZWN0KTtcbmEuYXNuMS54NTA5Llg1MDBOYW1lLmNvbXBhdFRvTERBUCA9IGZ1bmN0aW9uKGUpIHtcbiAgaWYgKGUuc3Vic3RyKDAsIDEpICE9PSBcIi9cIilcbiAgICB0aHJvdyBcIm1hbGZvcm1lZCBpbnB1dFwiO1xuICBlID0gZS5zdWJzdHIoMSk7XG4gIHZhciB0ID0gZS5zcGxpdChcIi9cIik7XG4gIHJldHVybiB0LnJldmVyc2UoKSwgdCA9IHQubWFwKGZ1bmN0aW9uKHIpIHtcbiAgICByZXR1cm4gci5yZXBsYWNlKC8sLywgXCJcXFxcLFwiKTtcbiAgfSksIHQuam9pbihcIixcIik7XG59O1xuYS5hc24xLng1MDkuWDUwME5hbWUub25lbGluZVRvTERBUCA9IGZ1bmN0aW9uKGUpIHtcbiAgcmV0dXJuIGEuYXNuMS54NTA5Llg1MDBOYW1lLmNvbXBhdFRvTERBUChlKTtcbn07XG5hLmFzbjEueDUwOS5YNTAwTmFtZS5sZGFwVG9Db21wYXQgPSBmdW5jdGlvbihlKSB7XG4gIGZvciAodmFyIHQgPSBlLnNwbGl0KFwiLFwiKSwgciA9ICExLCBpID0gW10sIHMgPSAwOyB0Lmxlbmd0aCA+IDA7IHMrKykge1xuICAgIHZhciBuID0gdC5zaGlmdCgpO1xuICAgIGlmIChyID09PSAhMCkge1xuICAgICAgdmFyIGggPSBpLnBvcCgpLCB1ID0gKGggKyBcIixcIiArIG4pLnJlcGxhY2UoL1xcXFwsL2csIFwiLFwiKTtcbiAgICAgIGkucHVzaCh1KSwgciA9ICExO1xuICAgIH0gZWxzZVxuICAgICAgaS5wdXNoKG4pO1xuICAgIG4uc3Vic3RyKC0xLCAxKSA9PT0gXCJcXFxcXCIgJiYgKHIgPSAhMCk7XG4gIH1cbiAgcmV0dXJuIGkgPSBpLm1hcChmdW5jdGlvbihwKSB7XG4gICAgcmV0dXJuIHAucmVwbGFjZShcIi9cIiwgXCJcXFxcL1wiKTtcbiAgfSksIGkucmV2ZXJzZSgpLCBcIi9cIiArIGkuam9pbihcIi9cIik7XG59O1xuYS5hc24xLng1MDkuWDUwME5hbWUubGRhcFRvT25lbGluZSA9IGZ1bmN0aW9uKGUpIHtcbiAgcmV0dXJuIGEuYXNuMS54NTA5Llg1MDBOYW1lLmxkYXBUb0NvbXBhdChlKTtcbn07XG5hLmFzbjEueDUwOS5SRE4gPSBmdW5jdGlvbihlKSB7XG4gIGEuYXNuMS54NTA5LlJETi5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyksIHRoaXMuYXNuMUFycmF5ID0gW10sIHRoaXMucGFyYW1BcnJheSA9IFtdLCB0aGlzLnNSdWxlID0gXCJ1dGY4XCI7XG4gIHZhciB0ID0gYS5hc24xLng1MDkuQXR0cmlidXRlVHlwZUFuZFZhbHVlO1xuICB0aGlzLnNldEJ5UGFyYW0gPSBmdW5jdGlvbihyKSB7XG4gICAgci5ydWxlICE9PSB2b2lkIDAgJiYgKHRoaXMuc1J1bGUgPSByLnJ1bGUpLCByLnN0ciAhPT0gdm9pZCAwICYmIHRoaXMuYWRkQnlNdWx0aVZhbHVlZFN0cmluZyhyLnN0ciksIHIuYXJyYXkgIT09IHZvaWQgMCAmJiAodGhpcy5wYXJhbUFycmF5ID0gci5hcnJheSk7XG4gIH0sIHRoaXMuYWRkQnlTdHJpbmcgPSBmdW5jdGlvbihyKSB7XG4gICAgdGhpcy5hc24xQXJyYXkucHVzaChuZXcgYS5hc24xLng1MDkuQXR0cmlidXRlVHlwZUFuZFZhbHVlKHsgc3RyOiByLCBydWxlOiB0aGlzLnNSdWxlIH0pKTtcbiAgfSwgdGhpcy5hZGRCeU11bHRpVmFsdWVkU3RyaW5nID0gZnVuY3Rpb24ocikge1xuICAgIGZvciAodmFyIGkgPSBhLmFzbjEueDUwOS5SRE4ucGFyc2VTdHJpbmcociksIHMgPSAwOyBzIDwgaS5sZW5ndGg7IHMrKylcbiAgICAgIHRoaXMuYWRkQnlTdHJpbmcoaVtzXSk7XG4gIH0sIHRoaXMudG9oZXggPSBmdW5jdGlvbigpIHtcbiAgICBpZiAodGhpcy5hc24xQXJyYXkubGVuZ3RoID09IDAgJiYgdGhpcy5wYXJhbUFycmF5Lmxlbmd0aCA+IDApXG4gICAgICBmb3IgKHZhciByID0gMDsgciA8IHRoaXMucGFyYW1BcnJheS5sZW5ndGg7IHIrKykge1xuICAgICAgICB2YXIgaSA9IHRoaXMucGFyYW1BcnJheVtyXTtcbiAgICAgICAgaS5ydWxlICE9PSB2b2lkIDAgJiYgdGhpcy5zUnVsZSAhPSBcInV0ZjhcIiAmJiAoaS5ydWxlID0gdGhpcy5zUnVsZSk7XG4gICAgICAgIHZhciBzID0gbmV3IHQoaSk7XG4gICAgICAgIHRoaXMuYXNuMUFycmF5LnB1c2gocyk7XG4gICAgICB9XG4gICAgdmFyIG4gPSBuZXcgYS5hc24xLkRFUlNldCh7IGFycmF5OiB0aGlzLmFzbjFBcnJheSB9KTtcbiAgICByZXR1cm4gdGhpcy5UTFYgPSBuLnRvaGV4KCksIHRoaXMuVExWO1xuICB9LCB0aGlzLmdldEVuY29kZWRIZXggPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy50b2hleCgpO1xuICB9LCBlICE9PSB2b2lkIDAgJiYgdGhpcy5zZXRCeVBhcmFtKGUpO1xufTtcbk4oYS5hc24xLng1MDkuUkROLCBhLmFzbjEuQVNOMU9iamVjdCk7XG5hLmFzbjEueDUwOS5SRE4ucGFyc2VTdHJpbmcgPSBmdW5jdGlvbihlKSB7XG4gIGZvciAodmFyIHQgPSBlLnNwbGl0KC9cXCsvKSwgciA9ICExLCBpID0gW10sIHMgPSAwOyB0Lmxlbmd0aCA+IDA7IHMrKykge1xuICAgIHZhciBuID0gdC5zaGlmdCgpO1xuICAgIGlmIChyID09PSAhMCkge1xuICAgICAgdmFyIGggPSBpLnBvcCgpLCB1ID0gKGggKyBcIitcIiArIG4pLnJlcGxhY2UoL1xcXFxcXCsvZywgXCIrXCIpO1xuICAgICAgaS5wdXNoKHUpLCByID0gITE7XG4gICAgfSBlbHNlXG4gICAgICBpLnB1c2gobik7XG4gICAgbi5zdWJzdHIoLTEsIDEpID09PSBcIlxcXFxcIiAmJiAociA9ICEwKTtcbiAgfVxuICBmb3IgKHZhciBwID0gITEsIGMgPSBbXSwgcyA9IDA7IGkubGVuZ3RoID4gMDsgcysrKSB7XG4gICAgdmFyIG4gPSBpLnNoaWZ0KCk7XG4gICAgaWYgKHAgPT09ICEwKSB7XG4gICAgICB2YXIgeSA9IGMucG9wKCk7XG4gICAgICBpZiAobi5tYXRjaCgvXCIkLykpIHtcbiAgICAgICAgdmFyIHUgPSAoeSArIFwiK1wiICsgbikucmVwbGFjZSgvXihbXj1dKyk9XCIoLiopXCIkLywgXCIkMT0kMlwiKTtcbiAgICAgICAgYy5wdXNoKHUpLCBwID0gITE7XG4gICAgICB9IGVsc2VcbiAgICAgICAgYy5wdXNoKHkgKyBcIitcIiArIG4pO1xuICAgIH0gZWxzZVxuICAgICAgYy5wdXNoKG4pO1xuICAgIG4ubWF0Y2goL15bXj1dKz1cIi8pICYmIChwID0gITApO1xuICB9XG4gIHJldHVybiBjO1xufTtcbmEuYXNuMS54NTA5LkF0dHJpYnV0ZVR5cGVBbmRWYWx1ZSA9IGZ1bmN0aW9uKGUpIHtcbiAgYS5hc24xLng1MDkuQXR0cmlidXRlVHlwZUFuZFZhbHVlLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzKSwgdGhpcy5zUnVsZSA9IFwidXRmOFwiLCB0aGlzLnNUeXBlID0gbnVsbCwgdGhpcy5zVmFsdWUgPSBudWxsLCB0aGlzLmRzVHlwZSA9IG51bGw7XG4gIHZhciB0ID0gYSwgciA9IHQuYXNuMSwgaSA9IHIuREVSU2VxdWVuY2UsIHMgPSByLkRFUlVURjhTdHJpbmcsIG4gPSByLkRFUlByaW50YWJsZVN0cmluZywgaCA9IHIuREVSVGVsZXRleFN0cmluZywgdSA9IHIuREVSSUE1U3RyaW5nLCBwID0gci5ERVJWaXNpYmxlU3RyaW5nLCBjID0gci5ERVJCTVBTdHJpbmcsIHkgPSB0LmxhbmcuU3RyaW5nLmlzTWFpbCwgdiA9IHQubGFuZy5TdHJpbmcuaXNQcmludGFibGU7XG4gIHRoaXMuc2V0QnlQYXJhbSA9IGZ1bmN0aW9uKG8pIHtcbiAgICBpZiAoby5ydWxlICE9PSB2b2lkIDAgJiYgKHRoaXMuc1J1bGUgPSBvLnJ1bGUpLCBvLmRzICE9PSB2b2lkIDAgJiYgKHRoaXMuZHNUeXBlID0gby5kcyksIG8udmFsdWUgPT09IHZvaWQgMCAmJiBvLnN0ciAhPT0gdm9pZCAwKSB7XG4gICAgICB2YXIgbCA9IG8uc3RyLCBmID0gbC5tYXRjaCgvXihbXj1dKyk9KC4rKSQvKTtcbiAgICAgIGlmIChmKVxuICAgICAgICB0aGlzLnNUeXBlID0gZlsxXSwgdGhpcy5zVmFsdWUgPSBmWzJdO1xuICAgICAgZWxzZVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJtYWxmb3JtZWQgYXR0clR5cGVBbmRWYWx1ZVN0cjogXCIgKyBhdHRyVHlwZUFuZFZhbHVlU3RyKTtcbiAgICB9IGVsc2VcbiAgICAgIHRoaXMuc1R5cGUgPSBvLnR5cGUsIHRoaXMuc1ZhbHVlID0gby52YWx1ZTtcbiAgfSwgdGhpcy5zZXRCeVN0cmluZyA9IGZ1bmN0aW9uKG8sIGwpIHtcbiAgICBsICE9PSB2b2lkIDAgJiYgKHRoaXMuc1J1bGUgPSBsKTtcbiAgICB2YXIgZiA9IG8ubWF0Y2goL14oW149XSspPSguKykkLyk7XG4gICAgaWYgKGYpXG4gICAgICB0aGlzLnNldEJ5QXR0clR5cGVBbmRWYWx1ZVN0cihmWzFdLCBmWzJdKTtcbiAgICBlbHNlXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJtYWxmb3JtZWQgYXR0clR5cGVBbmRWYWx1ZVN0cjogXCIgKyBhdHRyVHlwZUFuZFZhbHVlU3RyKTtcbiAgfSwgdGhpcy5fZ2V0RHNUeXBlID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIG8gPSB0aGlzLnNUeXBlLCBsID0gdGhpcy5zVmFsdWUsIGYgPSB0aGlzLnNSdWxlO1xuICAgIHJldHVybiBmID09PSBcInByblwiID8gbyA9PSBcIkNOXCIgJiYgeShsKSA/IFwiaWE1XCIgOiB2KGwpID8gXCJwcm5cIiA6IFwidXRmOFwiIDogZiA9PT0gXCJ1dGY4XCIgPyBvID09IFwiQ05cIiAmJiB5KGwpID8gXCJpYTVcIiA6IG8gPT0gXCJDXCIgPyBcInByblwiIDogXCJ1dGY4XCIgOiBcInV0ZjhcIjtcbiAgfSwgdGhpcy5zZXRCeUF0dHJUeXBlQW5kVmFsdWVTdHIgPSBmdW5jdGlvbihvLCBsLCBmKSB7XG4gICAgZiAhPT0gdm9pZCAwICYmICh0aGlzLnNSdWxlID0gZiksIHRoaXMuc1R5cGUgPSBvLCB0aGlzLnNWYWx1ZSA9IGw7XG4gIH0sIHRoaXMuZ2V0VmFsdWVPYmogPSBmdW5jdGlvbihvLCBsKSB7XG4gICAgaWYgKG8gPT0gXCJ1dGY4XCIpXG4gICAgICByZXR1cm4gbmV3IHMoeyBzdHI6IGwgfSk7XG4gICAgaWYgKG8gPT0gXCJwcm5cIilcbiAgICAgIHJldHVybiBuZXcgbih7IHN0cjogbCB9KTtcbiAgICBpZiAobyA9PSBcInRlbFwiKVxuICAgICAgcmV0dXJuIG5ldyBoKHsgc3RyOiBsIH0pO1xuICAgIGlmIChvID09IFwiaWE1XCIpXG4gICAgICByZXR1cm4gbmV3IHUoeyBzdHI6IGwgfSk7XG4gICAgaWYgKG8gPT0gXCJ2aXNcIilcbiAgICAgIHJldHVybiBuZXcgcCh7IHN0cjogbCB9KTtcbiAgICBpZiAobyA9PSBcImJtcFwiKVxuICAgICAgcmV0dXJuIG5ldyBjKHsgc3RyOiBsIH0pO1xuICAgIHRocm93IG5ldyBFcnJvcihcInVuc3VwcG9ydGVkIGRpcmVjdG9yeSBzdHJpbmcgdHlwZTogdHlwZT1cIiArIG8gKyBcIiB2YWx1ZT1cIiArIGwpO1xuICB9LCB0aGlzLnRvaGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5kc1R5cGUgPT0gbnVsbCAmJiAodGhpcy5kc1R5cGUgPSB0aGlzLl9nZXREc1R5cGUoKSk7XG4gICAgdmFyIG8gPSBhLmFzbjEueDUwOS5PSUQuYXR5cGUyb2JqKHRoaXMuc1R5cGUpLCBsID0gdGhpcy5nZXRWYWx1ZU9iaih0aGlzLmRzVHlwZSwgdGhpcy5zVmFsdWUpLCBmID0gbmV3IGkoeyBhcnJheTogW28sIGxdIH0pO1xuICAgIHJldHVybiB0aGlzLlRMViA9IGYudG9oZXgoKSwgdGhpcy5UTFY7XG4gIH0sIHRoaXMuZ2V0RW5jb2RlZEhleCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLnRvaGV4KCk7XG4gIH0sIGUgIT09IHZvaWQgMCAmJiB0aGlzLnNldEJ5UGFyYW0oZSk7XG59O1xuTihhLmFzbjEueDUwOS5BdHRyaWJ1dGVUeXBlQW5kVmFsdWUsIGEuYXNuMS5BU04xT2JqZWN0KTtcbmEuYXNuMS54NTA5LlN1YmplY3RQdWJsaWNLZXlJbmZvID0gZnVuY3Rpb24oZSkge1xuICBhLmFzbjEueDUwOS5TdWJqZWN0UHVibGljS2V5SW5mby5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyk7XG4gIHZhciB0ID0gYSwgciA9IHQuYXNuMSwgaSA9IHIuREVSSW50ZWdlciwgcyA9IHIuREVSQml0U3RyaW5nLCBuID0gci5ERVJPYmplY3RJZGVudGlmaWVyLCBoID0gci5ERVJTZXF1ZW5jZSwgdSA9IHIuQVNOMVV0aWwubmV3T2JqZWN0LCBwID0gci54NTA5LCBjID0gcC5BbGdvcml0aG1JZGVudGlmaWVyLCB5ID0gdC5jcnlwdG87XG4gIHkuRUNEU0EsIHkuRFNBLCB0aGlzLmdldEFTTjFPYmplY3QgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAodGhpcy5hc24xQWxnSWQgPT0gbnVsbCB8fCB0aGlzLmFzbjFTdWJqUEtleSA9PSBudWxsKVxuICAgICAgdGhyb3cgXCJhbGdJZCBhbmQvb3Igc3VialB1YktleSBub3Qgc2V0XCI7XG4gICAgdmFyIHYgPSBuZXcgaCh7IGFycmF5OiBbdGhpcy5hc24xQWxnSWQsIHRoaXMuYXNuMVN1YmpQS2V5XSB9KTtcbiAgICByZXR1cm4gdjtcbiAgfSwgdGhpcy50b2hleCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciB2ID0gdGhpcy5nZXRBU04xT2JqZWN0KCk7XG4gICAgcmV0dXJuIHRoaXMuaFRMViA9IHYudG9oZXgoKSwgdGhpcy5oVExWO1xuICB9LCB0aGlzLmdldEVuY29kZWRIZXggPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy50b2hleCgpO1xuICB9LCB0aGlzLnNldFB1YktleSA9IGZ1bmN0aW9uKHYpIHtcbiAgICB0cnkge1xuICAgICAgaWYgKHYgaW5zdGFuY2VvZiBxKSB7XG4gICAgICAgIHZhciBvID0gdSh7IHNlcTogW3sgaW50OiB7IGJpZ2ludDogdi5uIH0gfSwgeyBpbnQ6IHsgaW50OiB2LmUgfSB9XSB9KSwgbCA9IG8udG9oZXgoKTtcbiAgICAgICAgdGhpcy5hc24xQWxnSWQgPSBuZXcgYyh7IG5hbWU6IFwicnNhRW5jcnlwdGlvblwiIH0pLCB0aGlzLmFzbjFTdWJqUEtleSA9IG5ldyBzKHsgaGV4OiBcIjAwXCIgKyBsIH0pO1xuICAgICAgfVxuICAgIH0gY2F0Y2gge1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgaWYgKHYgaW5zdGFuY2VvZiBhLmNyeXB0by5FQ0RTQSkge1xuICAgICAgICB2YXIgZiA9IG5ldyBuKHsgbmFtZTogdi5jdXJ2ZU5hbWUgfSk7XG4gICAgICAgIHRoaXMuYXNuMUFsZ0lkID0gbmV3IGMoeyBuYW1lOiBcImVjUHVibGljS2V5XCIsIGFzbjFwYXJhbXM6IGYgfSksIHRoaXMuYXNuMVN1YmpQS2V5ID0gbmV3IHMoeyBoZXg6IFwiMDBcIiArIHYucHViS2V5SGV4IH0pO1xuICAgICAgfVxuICAgIH0gY2F0Y2gge1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgaWYgKHYgaW5zdGFuY2VvZiBhLmNyeXB0by5EU0EpIHtcbiAgICAgICAgdmFyIGYgPSBuZXcgdSh7IHNlcTogW3sgaW50OiB7IGJpZ2ludDogdi5wIH0gfSwgeyBpbnQ6IHsgYmlnaW50OiB2LnEgfSB9LCB7IGludDogeyBiaWdpbnQ6IHYuZyB9IH1dIH0pO1xuICAgICAgICB0aGlzLmFzbjFBbGdJZCA9IG5ldyBjKHsgbmFtZTogXCJkc2FcIiwgYXNuMXBhcmFtczogZiB9KTtcbiAgICAgICAgdmFyIGQgPSBuZXcgaSh7IGJpZ2ludDogdi55IH0pO1xuICAgICAgICB0aGlzLmFzbjFTdWJqUEtleSA9IG5ldyBzKHsgaGV4OiBcIjAwXCIgKyBkLnRvaGV4KCkgfSk7XG4gICAgICB9XG4gICAgfSBjYXRjaCB7XG4gICAgfVxuICB9LCBlICE9PSB2b2lkIDAgJiYgdGhpcy5zZXRQdWJLZXkoZSk7XG59O1xuTihhLmFzbjEueDUwOS5TdWJqZWN0UHVibGljS2V5SW5mbywgYS5hc24xLkFTTjFPYmplY3QpO1xuYS5hc24xLng1MDkuVGltZSA9IGZ1bmN0aW9uKGUpIHtcbiAgYS5hc24xLng1MDkuVGltZS5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyk7XG4gIHZhciB0ID0gYSwgciA9IHQuYXNuMSwgaSA9IHIuREVSVVRDVGltZSwgcyA9IHIuREVSR2VuZXJhbGl6ZWRUaW1lO1xuICB0aGlzLnBhcmFtcyA9IG51bGwsIHRoaXMudHlwZSA9IG51bGwsIHRoaXMuc2V0VGltZVBhcmFtcyA9IGZ1bmN0aW9uKG4pIHtcbiAgICB0aGlzLnRpbWVQYXJhbXMgPSBuO1xuICB9LCB0aGlzLnNldEJ5UGFyYW0gPSBmdW5jdGlvbihuKSB7XG4gICAgdGhpcy5wYXJhbXMgPSBuO1xuICB9LCB0aGlzLmdldFR5cGUgPSBmdW5jdGlvbihuKSB7XG4gICAgcmV0dXJuIG4ubWF0Y2goL15bMC05XXsxMn1aJC8pID8gXCJ1dGNcIiA6IG4ubWF0Y2goL15bMC05XXsxNH1aJC8pID8gXCJnZW5cIiA6IG4ubWF0Y2goL15bMC05XXsxMn1cXC5bMC05XStaJC8pID8gXCJ1dGNcIiA6IG4ubWF0Y2goL15bMC05XXsxNH1cXC5bMC05XStaJC8pID8gXCJnZW5cIiA6IG51bGw7XG4gIH0sIHRoaXMudG9oZXggPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgbiA9IHRoaXMucGFyYW1zLCBoID0gbnVsbDtcbiAgICBpZiAodHlwZW9mIG4gPT0gXCJzdHJpbmdcIiAmJiAobiA9IHsgc3RyOiBuIH0pLCBuICE9IG51bGwgJiYgbi5zdHIgJiYgKG4udHlwZSA9PSBudWxsIHx8IG4udHlwZSA9PSBudWxsKSAmJiAobi50eXBlID0gdGhpcy5nZXRUeXBlKG4uc3RyKSksIG4gIT0gbnVsbCAmJiBuLnN0ciA/IChuLnR5cGUgPT0gXCJ1dGNcIiAmJiAoaCA9IG5ldyBpKG4uc3RyKSksIG4udHlwZSA9PSBcImdlblwiICYmIChoID0gbmV3IHMobi5zdHIpKSkgOiB0aGlzLnR5cGUgPT0gXCJnZW5cIiA/IGggPSBuZXcgcygpIDogaCA9IG5ldyBpKCksIGggPT0gbnVsbClcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIndyb25nIHNldHRpbmcgZm9yIFRpbWVcIik7XG4gICAgcmV0dXJuIHRoaXMuVExWID0gaC50b2hleCgpLCB0aGlzLlRMVjtcbiAgfSwgdGhpcy5nZXRFbmNvZGVkSGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMudG9oZXgoKTtcbiAgfSwgZSAhPSBudWxsICYmIHRoaXMuc2V0QnlQYXJhbShlKTtcbn07XG5hLmFzbjEueDUwOS5UaW1lX2JhayA9IGZ1bmN0aW9uKGUpIHtcbiAgYS5hc24xLng1MDkuVGltZV9iYWsuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpO1xuICB2YXIgdCA9IGEsIHIgPSB0LmFzbjEsIGkgPSByLkRFUlVUQ1RpbWUsIHMgPSByLkRFUkdlbmVyYWxpemVkVGltZTtcbiAgdGhpcy5zZXRUaW1lUGFyYW1zID0gZnVuY3Rpb24obikge1xuICAgIHRoaXMudGltZVBhcmFtcyA9IG47XG4gIH0sIHRoaXMudG9oZXggPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgbiA9IG51bGw7XG4gICAgcmV0dXJuIHRoaXMudGltZVBhcmFtcyAhPSBudWxsID8gdGhpcy50eXBlID09IFwidXRjXCIgPyBuID0gbmV3IGkodGhpcy50aW1lUGFyYW1zKSA6IG4gPSBuZXcgcyh0aGlzLnRpbWVQYXJhbXMpIDogdGhpcy50eXBlID09IFwidXRjXCIgPyBuID0gbmV3IGkoKSA6IG4gPSBuZXcgcygpLCB0aGlzLlRMViA9IG4udG9oZXgoKSwgdGhpcy5UTFY7XG4gIH0sIHRoaXMuZ2V0RW5jb2RlZEhleCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLnRvaGV4KCk7XG4gIH0sIHRoaXMudHlwZSA9IFwidXRjXCIsIGUgIT09IHZvaWQgMCAmJiAoZS50eXBlICE9PSB2b2lkIDAgPyB0aGlzLnR5cGUgPSBlLnR5cGUgOiBlLnN0ciAhPT0gdm9pZCAwICYmIChlLnN0ci5tYXRjaCgvXlswLTldezEyfVokLykgJiYgKHRoaXMudHlwZSA9IFwidXRjXCIpLCBlLnN0ci5tYXRjaCgvXlswLTldezE0fVokLykgJiYgKHRoaXMudHlwZSA9IFwiZ2VuXCIpKSwgdGhpcy50aW1lUGFyYW1zID0gZSk7XG59O1xuTihhLmFzbjEueDUwOS5UaW1lLCBhLmFzbjEuQVNOMU9iamVjdCk7XG5hLmFzbjEueDUwOS5BbGdvcml0aG1JZGVudGlmaWVyID0gZnVuY3Rpb24oZSkge1xuICBhLmFzbjEueDUwOS5BbGdvcml0aG1JZGVudGlmaWVyLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzKSwgdGhpcy5uYW1lQWxnID0gbnVsbCwgdGhpcy5hc24xQWxnID0gbnVsbCwgdGhpcy5hc24xUGFyYW1zID0gbnVsbCwgdGhpcy5wYXJhbUVtcHR5ID0gITE7XG4gIHZhciB0ID0gYSwgciA9IHQuYXNuMSwgaSA9IHIueDUwOS5BbGdvcml0aG1JZGVudGlmaWVyLlBTU05BTUUyQVNOMVRMVjtcbiAgaWYgKHRoaXMudG9oZXggPSBmdW5jdGlvbigpIHtcbiAgICBpZiAodGhpcy5uYW1lQWxnID09PSBudWxsICYmIHRoaXMuYXNuMUFsZyA9PT0gbnVsbClcbiAgICAgIHRocm93IG5ldyBFcnJvcihcImFsZ29yaXRobSBub3Qgc3BlY2lmaWVkXCIpO1xuICAgIGlmICh0aGlzLm5hbWVBbGcgIT09IG51bGwpIHtcbiAgICAgIHZhciBuID0gbnVsbDtcbiAgICAgIGZvciAodmFyIGggaW4gaSlcbiAgICAgICAgaCA9PT0gdGhpcy5uYW1lQWxnICYmIChuID0gaVtoXSk7XG4gICAgICBpZiAobiAhPT0gbnVsbClcbiAgICAgICAgcmV0dXJuIHRoaXMuaFRMViA9IG4sIHRoaXMuaFRMVjtcbiAgICB9XG4gICAgdGhpcy5uYW1lQWxnICE9PSBudWxsICYmIHRoaXMuYXNuMUFsZyA9PT0gbnVsbCAmJiAodGhpcy5hc24xQWxnID0gci54NTA5Lk9JRC5uYW1lMm9iaih0aGlzLm5hbWVBbGcpKTtcbiAgICB2YXIgdSA9IFt0aGlzLmFzbjFBbGddO1xuICAgIHRoaXMuYXNuMVBhcmFtcyAhPT0gbnVsbCAmJiB1LnB1c2godGhpcy5hc24xUGFyYW1zKTtcbiAgICB2YXIgcCA9IG5ldyByLkRFUlNlcXVlbmNlKHsgYXJyYXk6IHUgfSk7XG4gICAgcmV0dXJuIHRoaXMuaFRMViA9IHAudG9oZXgoKSwgdGhpcy5oVExWO1xuICB9LCB0aGlzLmdldEVuY29kZWRIZXggPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy50b2hleCgpO1xuICB9LCBlICE9PSB2b2lkIDAgJiYgKGUubmFtZSAhPT0gdm9pZCAwICYmICh0aGlzLm5hbWVBbGcgPSBlLm5hbWUpLCBlLmFzbjFwYXJhbXMgIT09IHZvaWQgMCAmJiAodGhpcy5hc24xUGFyYW1zID0gZS5hc24xcGFyYW1zKSwgZS5wYXJhbWVtcHR5ICE9PSB2b2lkIDAgJiYgKHRoaXMucGFyYW1FbXB0eSA9IGUucGFyYW1lbXB0eSkpLCB0aGlzLmFzbjFQYXJhbXMgPT09IG51bGwgJiYgdGhpcy5wYXJhbUVtcHR5ID09PSAhMSAmJiB0aGlzLm5hbWVBbGcgIT09IG51bGwpIHtcbiAgICB0aGlzLm5hbWVBbGcubmFtZSAhPT0gdm9pZCAwICYmICh0aGlzLm5hbWVBbGcgPSB0aGlzLm5hbWVBbGcubmFtZSk7XG4gICAgdmFyIHMgPSB0aGlzLm5hbWVBbGcudG9Mb3dlckNhc2UoKTtcbiAgICBzLnN1YnN0cigtNywgNykgIT09IFwid2l0aGRzYVwiICYmIHMuc3Vic3RyKC05LCA5KSAhPT0gXCJ3aXRoZWNkc2FcIiAmJiAodGhpcy5hc24xUGFyYW1zID0gbmV3IHIuREVSTnVsbCgpKTtcbiAgfVxufTtcbk4oYS5hc24xLng1MDkuQWxnb3JpdGhtSWRlbnRpZmllciwgYS5hc24xLkFTTjFPYmplY3QpO1xuYS5hc24xLng1MDkuQWxnb3JpdGhtSWRlbnRpZmllci5QU1NOQU1FMkFTTjFUTFYgPSB7IFNIQXdpdGhSU0FhbmRNR0YxOiBcIjMwMGQwNjA5MmE4NjQ4ODZmNzBkMDEwMTBhMzAwMFwiLCBTSEEyNTZ3aXRoUlNBYW5kTUdGMTogXCIzMDNkMDYwOTJhODY0ODg2ZjcwZDAxMDEwYTMwMzBhMDBkMzAwYjA2MDk2MDg2NDgwMTY1MDMwNDAyMDFhMTFhMzAxODA2MDkyYTg2NDg4NmY3MGQwMTAxMDgzMDBiMDYwOTYwODY0ODAxNjUwMzA0MDIwMWEyMDMwMjAxMjBcIiwgU0hBMzg0d2l0aFJTQWFuZE1HRjE6IFwiMzAzZDA2MDkyYTg2NDg4NmY3MGQwMTAxMGEzMDMwYTAwZDMwMGIwNjA5NjA4NjQ4MDE2NTAzMDQwMjAyYTExYTMwMTgwNjA5MmE4NjQ4ODZmNzBkMDEwMTA4MzAwYjA2MDk2MDg2NDgwMTY1MDMwNDAyMDJhMjAzMDIwMTMwXCIsIFNIQTUxMndpdGhSU0FhbmRNR0YxOiBcIjMwM2QwNjA5MmE4NjQ4ODZmNzBkMDEwMTBhMzAzMGEwMGQzMDBiMDYwOTYwODY0ODAxNjUwMzA0MDIwM2ExMWEzMDE4MDYwOTJhODY0ODg2ZjcwZDAxMDEwODMwMGIwNjA5NjA4NjQ4MDE2NTAzMDQwMjAzYTIwMzAyMDE0MFwiIH07XG5hLmFzbjEueDUwOS5HZW5lcmFsTmFtZSA9IGZ1bmN0aW9uKGUpIHtcbiAgYS5hc24xLng1MDkuR2VuZXJhbE5hbWUuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpO1xuICB2YXIgdCA9IGEsIHIgPSB0LmFzbjEsIGkgPSByLng1MDksIHMgPSBpLlg1MDBOYW1lLCBuID0gaS5PdGhlck5hbWUsIGggPSByLkRFUklBNVN0cmluZztcbiAgci5ERVJQcmludGFibGVTdHJpbmc7XG4gIHZhciB1ID0gci5ERVJPY3RldFN0cmluZywgcCA9IHIuREVSVGFnZ2VkT2JqZWN0LCBjID0gci5BU04xT2JqZWN0LCB5ID0gRXJyb3I7XG4gIHRoaXMucGFyYW1zID0gbnVsbCwgdGhpcy5zZXRCeVBhcmFtID0gZnVuY3Rpb24odikge1xuICAgIHRoaXMucGFyYW1zID0gdjtcbiAgfSwgdGhpcy50b2hleCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciB2ID0gdGhpcy5wYXJhbXMsIG8sIGYsIGwsIGYgPSAhMTtcbiAgICBpZiAodi5vdGhlciAhPT0gdm9pZCAwKVxuICAgICAgbyA9IFwiYTBcIiwgbCA9IG5ldyBuKHYub3RoZXIpO1xuICAgIGVsc2UgaWYgKHYucmZjODIyICE9PSB2b2lkIDApXG4gICAgICBvID0gXCI4MVwiLCBsID0gbmV3IGgoeyBzdHI6IHYucmZjODIyIH0pO1xuICAgIGVsc2UgaWYgKHYuZG5zICE9PSB2b2lkIDApXG4gICAgICBvID0gXCI4MlwiLCBsID0gbmV3IGgoeyBzdHI6IHYuZG5zIH0pO1xuICAgIGVsc2UgaWYgKHYuZG4gIT09IHZvaWQgMClcbiAgICAgIG8gPSBcImE0XCIsIGYgPSAhMCwgdHlwZW9mIHYuZG4gPT0gXCJzdHJpbmdcIiA/IGwgPSBuZXcgcyh7IHN0cjogdi5kbiB9KSA6IHYuZG4gaW5zdGFuY2VvZiBhLmFzbjEueDUwOS5YNTAwTmFtZSA/IGwgPSB2LmRuIDogbCA9IG5ldyBzKHYuZG4pO1xuICAgIGVsc2UgaWYgKHYubGRhcGRuICE9PSB2b2lkIDApXG4gICAgICBvID0gXCJhNFwiLCBmID0gITAsIGwgPSBuZXcgcyh7IGxkYXBzdHI6IHYubGRhcGRuIH0pO1xuICAgIGVsc2UgaWYgKHYuY2VydGlzc3VlciAhPT0gdm9pZCAwIHx8IHYuY2VydHN1YmogIT09IHZvaWQgMCkge1xuICAgICAgbyA9IFwiYTRcIiwgZiA9ICEwO1xuICAgICAgdmFyIGQsIGcsIFMgPSBudWxsO1xuICAgICAgaWYgKHYuY2VydHN1YmogIT09IHZvaWQgMCA/IChkID0gITEsIGcgPSB2LmNlcnRzdWJqKSA6IChkID0gITAsIGcgPSB2LmNlcnRpc3N1ZXIpLCBnLm1hdGNoKC9eWzAtOUEtRmEtZl0rJC8pLCBnLmluZGV4T2YoXCItLS0tLUJFR0lOIFwiKSAhPSAtMSAmJiAoUyA9IGllKGcpKSwgUyA9PSBudWxsKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJjZXJ0c3Viai9jZXJ0aXNzdWVyIG5vdCBjZXJ0XCIpO1xuICAgICAgdmFyIGIgPSBuZXcgTCgpO1xuICAgICAgYi5oZXggPSBTO1xuICAgICAgdmFyIEQ7XG4gICAgICBkID8gRCA9IGIuZ2V0SXNzdWVySGV4KCkgOiBEID0gYi5nZXRTdWJqZWN0SGV4KCksIGwgPSBuZXcgYygpLCBsLmhUTFYgPSBEO1xuICAgIH0gZWxzZSBpZiAodi51cmkgIT09IHZvaWQgMClcbiAgICAgIG8gPSBcIjg2XCIsIGwgPSBuZXcgaCh7IHN0cjogdi51cmkgfSk7XG4gICAgZWxzZSBpZiAodi5pcCAhPT0gdm9pZCAwKSB7XG4gICAgICBvID0gXCI4N1wiO1xuICAgICAgdmFyIEEsIEkgPSB2LmlwO1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKEkubWF0Y2goL15bMC05YS1mXSskLykpIHtcbiAgICAgICAgICB2YXIgbSA9IEkubGVuZ3RoO1xuICAgICAgICAgIGlmIChtID09IDggfHwgbSA9PSAxNiB8fCBtID09IDMyIHx8IG0gPT0gNjQpXG4gICAgICAgICAgICBBID0gSTtcbiAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB0aHJvdyBcImVyclwiO1xuICAgICAgICB9IGVsc2VcbiAgICAgICAgICBBID0gUnQoSSk7XG4gICAgICB9IGNhdGNoICh3KSB7XG4gICAgICAgIHRocm93IG5ldyB5KFwibWFsZm9ybWVkIElQIGFkZHJlc3M6IFwiICsgdi5pcCArIFwiOlwiICsgdy5tZXNzYWdlKTtcbiAgICAgIH1cbiAgICAgIGwgPSBuZXcgdSh7IGhleDogQSB9KTtcbiAgICB9IGVsc2VcbiAgICAgIHRocm93IG5ldyB5KFwiaW1wcm9wZXIgcGFyYW1zXCIpO1xuICAgIHZhciBFID0gbmV3IHAoeyB0YWc6IG8sIGV4cGxpY2l0OiBmLCBvYmo6IGwgfSk7XG4gICAgcmV0dXJuIEUudG9oZXgoKTtcbiAgfSwgdGhpcy5nZXRFbmNvZGVkSGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMudG9oZXgoKTtcbiAgfSwgZSAhPT0gdm9pZCAwICYmIHRoaXMuc2V0QnlQYXJhbShlKTtcbn07XG5OKGEuYXNuMS54NTA5LkdlbmVyYWxOYW1lLCBhLmFzbjEuQVNOMU9iamVjdCk7XG5hLmFzbjEueDUwOS5HZW5lcmFsTmFtZXMgPSBmdW5jdGlvbihlKSB7XG4gIGEuYXNuMS54NTA5LkdlbmVyYWxOYW1lcy5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyk7XG4gIHZhciB0ID0gYSwgciA9IHQuYXNuMTtcbiAgdGhpcy5zZXRCeVBhcmFtQXJyYXkgPSBmdW5jdGlvbihpKSB7XG4gICAgZm9yICh2YXIgcyA9IDA7IHMgPCBpLmxlbmd0aDsgcysrKSB7XG4gICAgICB2YXIgbiA9IG5ldyByLng1MDkuR2VuZXJhbE5hbWUoaVtzXSk7XG4gICAgICB0aGlzLmFzbjFBcnJheS5wdXNoKG4pO1xuICAgIH1cbiAgfSwgdGhpcy50b2hleCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBpID0gbmV3IHIuREVSU2VxdWVuY2UoeyBhcnJheTogdGhpcy5hc24xQXJyYXkgfSk7XG4gICAgcmV0dXJuIGkudG9oZXgoKTtcbiAgfSwgdGhpcy5nZXRFbmNvZGVkSGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMudG9oZXgoKTtcbiAgfSwgdGhpcy5hc24xQXJyYXkgPSBuZXcgQXJyYXkoKSwgdHlwZW9mIGUgPCBcInVcIiAmJiB0aGlzLnNldEJ5UGFyYW1BcnJheShlKTtcbn07XG5OKGEuYXNuMS54NTA5LkdlbmVyYWxOYW1lcywgYS5hc24xLkFTTjFPYmplY3QpO1xuYS5hc24xLng1MDkuT3RoZXJOYW1lID0gZnVuY3Rpb24oZSkge1xuICBhLmFzbjEueDUwOS5PdGhlck5hbWUuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpO1xuICB2YXIgdCA9IGEsIHIgPSB0LmFzbjEsIGkgPSByLkRFUk9iamVjdElkZW50aWZpZXIsIHMgPSByLkRFUlNlcXVlbmNlLCBuID0gci5BU04xVXRpbC5uZXdPYmplY3Q7XG4gIHRoaXMucGFyYW1zID0gbnVsbCwgdGhpcy5zZXRCeVBhcmFtID0gZnVuY3Rpb24oaCkge1xuICAgIHRoaXMucGFyYW1zID0gaDtcbiAgfSwgdGhpcy50b2hleCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBoID0gdGhpcy5wYXJhbXM7XG4gICAgaWYgKGgub2lkID09IG51bGwgfHwgaC52YWx1ZSA9PSBudWxsKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwib2lkIG9yIHZhbHVlIG5vdCBzcGVjaWZpZWRcIik7XG4gICAgdmFyIHUgPSBuZXcgaSh7IG9pZDogaC5vaWQgfSksIHAgPSBuKHsgdGFnOiB7IHRhZzogXCJhMFwiLCBleHBsaWNpdDogITAsIG9iajogaC52YWx1ZSB9IH0pLCBjID0gbmV3IHMoeyBhcnJheTogW3UsIHBdIH0pO1xuICAgIHJldHVybiBjLnRvaGV4KCk7XG4gIH0sIHRoaXMuZ2V0RW5jb2RlZEhleCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLnRvaGV4KCk7XG4gIH0sIGUgIT09IHZvaWQgMCAmJiB0aGlzLnNldEJ5UGFyYW0oZSk7XG59O1xuTihhLmFzbjEueDUwOS5PdGhlck5hbWUsIGEuYXNuMS5BU04xT2JqZWN0KTtcbmEuYXNuMS54NTA5Lk9JRCA9IG5ldyBmdW5jdGlvbigpIHtcbiAgdmFyIGUgPSBhLmFzbjEuREVST2JqZWN0SWRlbnRpZmllcjtcbiAgdGhpcy5uYW1lMm9pZExpc3QgPSB7IFwiYWVzMTI4LUNCQ1wiOiBcIjIuMTYuODQwLjEuMTAxLjMuNC4xLjJcIiwgXCJhZXMyNTYtQ0JDXCI6IFwiMi4xNi44NDAuMS4xMDEuMy40LjEuNDJcIiwgc2hhMTogXCIxLjMuMTQuMy4yLjI2XCIsIHNoYTI1NjogXCIyLjE2Ljg0MC4xLjEwMS4zLjQuMi4xXCIsIHNoYTM4NDogXCIyLjE2Ljg0MC4xLjEwMS4zLjQuMi4yXCIsIHNoYTUxMjogXCIyLjE2Ljg0MC4xLjEwMS4zLjQuMi4zXCIsIHNoYTIyNDogXCIyLjE2Ljg0MC4xLjEwMS4zLjQuMi40XCIsIG1kNTogXCIxLjIuODQwLjExMzU0OS4yLjVcIiwgbWQyOiBcIjEuMy4xNC43LjIuMi4xXCIsIHJpcGVtZDE2MDogXCIxLjMuMzYuMy4yLjFcIiwgaG1hY1dpdGhTSEExOiBcIjEuMi44NDAuMTEzNTQ5LjIuN1wiLCBobWFjV2l0aFNIQTIyNDogXCIxLjIuODQwLjExMzU0OS4yLjhcIiwgaG1hY1dpdGhTSEEyNTY6IFwiMS4yLjg0MC4xMTM1NDkuMi45XCIsIGhtYWNXaXRoU0hBMzg0OiBcIjEuMi44NDAuMTEzNTQ5LjIuMTBcIiwgaG1hY1dpdGhTSEE1MTI6IFwiMS4yLjg0MC4xMTM1NDkuMi4xMVwiLCBNRDJ3aXRoUlNBOiBcIjEuMi44NDAuMTEzNTQ5LjEuMS4yXCIsIE1ENHdpdGhSU0E6IFwiMS4yLjg0MC4xMTM1NDkuMS4xLjNcIiwgTUQ1d2l0aFJTQTogXCIxLjIuODQwLjExMzU0OS4xLjEuNFwiLCBTSEExd2l0aFJTQTogXCIxLjIuODQwLjExMzU0OS4xLjEuNVwiLCBcInBrY3MxLU1HRlwiOiBcIjEuMi44NDAuMTEzNTQ5LjEuMS44XCIsIHJzYVBTUzogXCIxLjIuODQwLjExMzU0OS4xLjEuMTBcIiwgU0hBMjI0d2l0aFJTQTogXCIxLjIuODQwLjExMzU0OS4xLjEuMTRcIiwgU0hBMjU2d2l0aFJTQTogXCIxLjIuODQwLjExMzU0OS4xLjEuMTFcIiwgU0hBMzg0d2l0aFJTQTogXCIxLjIuODQwLjExMzU0OS4xLjEuMTJcIiwgU0hBNTEyd2l0aFJTQTogXCIxLjIuODQwLjExMzU0OS4xLjEuMTNcIiwgU0hBMXdpdGhFQ0RTQTogXCIxLjIuODQwLjEwMDQ1LjQuMVwiLCBTSEEyMjR3aXRoRUNEU0E6IFwiMS4yLjg0MC4xMDA0NS40LjMuMVwiLCBTSEEyNTZ3aXRoRUNEU0E6IFwiMS4yLjg0MC4xMDA0NS40LjMuMlwiLCBTSEEzODR3aXRoRUNEU0E6IFwiMS4yLjg0MC4xMDA0NS40LjMuM1wiLCBTSEE1MTJ3aXRoRUNEU0E6IFwiMS4yLjg0MC4xMDA0NS40LjMuNFwiLCBkc2E6IFwiMS4yLjg0MC4xMDA0MC40LjFcIiwgU0hBMXdpdGhEU0E6IFwiMS4yLjg0MC4xMDA0MC40LjNcIiwgU0hBMjI0d2l0aERTQTogXCIyLjE2Ljg0MC4xLjEwMS4zLjQuMy4xXCIsIFNIQTI1NndpdGhEU0E6IFwiMi4xNi44NDAuMS4xMDEuMy40LjMuMlwiLCByc2FFbmNyeXB0aW9uOiBcIjEuMi44NDAuMTEzNTQ5LjEuMS4xXCIsIGNvbW1vbk5hbWU6IFwiMi41LjQuM1wiLCBjb3VudHJ5TmFtZTogXCIyLjUuNC42XCIsIGxvY2FsaXR5TmFtZTogXCIyLjUuNC43XCIsIHN0YXRlT3JQcm92aW5jZU5hbWU6IFwiMi41LjQuOFwiLCBzdHJlZXRBZGRyZXNzOiBcIjIuNS40LjlcIiwgb3JnYW5pemF0aW9uTmFtZTogXCIyLjUuNC4xMFwiLCBvcmdhbml6YXRpb25hbFVuaXROYW1lOiBcIjIuNS40LjExXCIsIGRvbWFpbkNvbXBvbmVudDogXCIwLjkuMjM0Mi4xOTIwMDMwMC4xMDAuMS4yNVwiLCB1c2VySWQ6IFwiMC45LjIzNDIuMTkyMDAzMDAuMTAwLjEuMVwiLCBzdXJuYW1lOiBcIjIuNS40LjRcIiwgZ2l2ZW5OYW1lOiBcIjIuNS40LjQyXCIsIHRpdGxlOiBcIjIuNS40LjEyXCIsIGRpc3Rpbmd1aXNoZWROYW1lOiBcIjIuNS40LjQ5XCIsIGVtYWlsQWRkcmVzczogXCIxLjIuODQwLjExMzU0OS4xLjkuMVwiLCBkZXNjcmlwdGlvbjogXCIyLjUuNC4xM1wiLCBidXNpbmVzc0NhdGVnb3J5OiBcIjIuNS40LjE1XCIsIHBvc3RhbENvZGU6IFwiMi41LjQuMTdcIiwgdW5pcXVlSWRlbnRpZmllcjogXCIyLjUuNC40NVwiLCBvcmdhbml6YXRpb25JZGVudGlmaWVyOiBcIjIuNS40Ljk3XCIsIGp1cmlzZGljdGlvbk9mSW5jb3Jwb3JhdGlvbkw6IFwiMS4zLjYuMS40LjEuMzExLjYwLjIuMS4xXCIsIGp1cmlzZGljdGlvbk9mSW5jb3Jwb3JhdGlvblNQOiBcIjEuMy42LjEuNC4xLjMxMS42MC4yLjEuMlwiLCBqdXJpc2RpY3Rpb25PZkluY29ycG9yYXRpb25DOiBcIjEuMy42LjEuNC4xLjMxMS42MC4yLjEuM1wiLCBzdWJqZWN0RGlyZWN0b3J5QXR0cmlidXRlczogXCIyLjUuMjkuOVwiLCBzdWJqZWN0S2V5SWRlbnRpZmllcjogXCIyLjUuMjkuMTRcIiwga2V5VXNhZ2U6IFwiMi41LjI5LjE1XCIsIHN1YmplY3RBbHROYW1lOiBcIjIuNS4yOS4xN1wiLCBpc3N1ZXJBbHROYW1lOiBcIjIuNS4yOS4xOFwiLCBiYXNpY0NvbnN0cmFpbnRzOiBcIjIuNS4yOS4xOVwiLCBjUkxOdW1iZXI6IFwiMi41LjI5LjIwXCIsIGNSTFJlYXNvbjogXCIyLjUuMjkuMjFcIiwgbmFtZUNvbnN0cmFpbnRzOiBcIjIuNS4yOS4zMFwiLCBjUkxEaXN0cmlidXRpb25Qb2ludHM6IFwiMi41LjI5LjMxXCIsIGNlcnRpZmljYXRlUG9saWNpZXM6IFwiMi41LjI5LjMyXCIsIGFueVBvbGljeTogXCIyLjUuMjkuMzIuMFwiLCBwb2xpY3lNYXBwaW5nczogXCIyLjUuMjkuMzNcIiwgYXV0aG9yaXR5S2V5SWRlbnRpZmllcjogXCIyLjUuMjkuMzVcIiwgcG9saWN5Q29uc3RyYWludHM6IFwiMi41LjI5LjM2XCIsIGV4dEtleVVzYWdlOiBcIjIuNS4yOS4zN1wiLCBpbmhpYml0QW55UG9saWN5OiBcIjIuNS4yOS41NFwiLCBhdXRob3JpdHlJbmZvQWNjZXNzOiBcIjEuMy42LjEuNS41LjcuMS4xXCIsIG9jc3A6IFwiMS4zLjYuMS41LjUuNy40OC4xXCIsIG9jc3BCYXNpYzogXCIxLjMuNi4xLjUuNS43LjQ4LjEuMVwiLCBvY3NwTm9uY2U6IFwiMS4zLjYuMS41LjUuNy40OC4xLjJcIiwgb2NzcE5vQ2hlY2s6IFwiMS4zLjYuMS41LjUuNy40OC4xLjVcIiwgY2FJc3N1ZXJzOiBcIjEuMy42LjEuNS41LjcuNDguMlwiLCBhbnlFeHRlbmRlZEtleVVzYWdlOiBcIjIuNS4yOS4zNy4wXCIsIHNlcnZlckF1dGg6IFwiMS4zLjYuMS41LjUuNy4zLjFcIiwgY2xpZW50QXV0aDogXCIxLjMuNi4xLjUuNS43LjMuMlwiLCBjb2RlU2lnbmluZzogXCIxLjMuNi4xLjUuNS43LjMuM1wiLCBlbWFpbFByb3RlY3Rpb246IFwiMS4zLjYuMS41LjUuNy4zLjRcIiwgdGltZVN0YW1waW5nOiBcIjEuMy42LjEuNS41LjcuMy44XCIsIG9jc3BTaWduaW5nOiBcIjEuMy42LjEuNS41LjcuMy45XCIsIHNtdHBVVEY4TWFpbGJveDogXCIxLjMuNi4xLjUuNS43LjguOVwiLCBkYXRlT2ZCaXJ0aDogXCIxLjMuNi4xLjUuNS43LjkuMVwiLCBwbGFjZU9mQmlydGg6IFwiMS4zLjYuMS41LjUuNy45LjJcIiwgZ2VuZGVyOiBcIjEuMy42LjEuNS41LjcuOS4zXCIsIGNvdW50cnlPZkNpdGl6ZW5zaGlwOiBcIjEuMy42LjEuNS41LjcuOS40XCIsIGNvdW50cnlPZlJlc2lkZW5jZTogXCIxLjMuNi4xLjUuNS43LjkuNVwiLCBlY1B1YmxpY0tleTogXCIxLjIuODQwLjEwMDQ1LjIuMVwiLCBcIlAtMjU2XCI6IFwiMS4yLjg0MC4xMDA0NS4zLjEuN1wiLCBzZWNwMjU2cjE6IFwiMS4yLjg0MC4xMDA0NS4zLjEuN1wiLCBzZWNwMjU2azE6IFwiMS4zLjEzMi4wLjEwXCIsIHNlY3AzODRyMTogXCIxLjMuMTMyLjAuMzRcIiwgc2VjcDUyMXIxOiBcIjEuMy4xMzIuMC4zNVwiLCBwa2NzNVBCRVMyOiBcIjEuMi44NDAuMTEzNTQ5LjEuNS4xM1wiLCBwa2NzNVBCS0RGMjogXCIxLjIuODQwLjExMzU0OS4xLjUuMTJcIiwgXCJkZXMtRURFMy1DQkNcIjogXCIxLjIuODQwLjExMzU0OS4zLjdcIiwgZGF0YTogXCIxLjIuODQwLjExMzU0OS4xLjcuMVwiLCBcInNpZ25lZC1kYXRhXCI6IFwiMS4yLjg0MC4xMTM1NDkuMS43LjJcIiwgXCJlbnZlbG9wZWQtZGF0YVwiOiBcIjEuMi44NDAuMTEzNTQ5LjEuNy4zXCIsIFwiZGlnZXN0ZWQtZGF0YVwiOiBcIjEuMi44NDAuMTEzNTQ5LjEuNy41XCIsIFwiZW5jcnlwdGVkLWRhdGFcIjogXCIxLjIuODQwLjExMzU0OS4xLjcuNlwiLCBcImF1dGhlbnRpY2F0ZWQtZGF0YVwiOiBcIjEuMi44NDAuMTEzNTQ5LjEuOS4xNi4xLjJcIiwgdHN0aW5mbzogXCIxLjIuODQwLjExMzU0OS4xLjkuMTYuMS40XCIsIHNpZ25pbmdDZXJ0aWZpY2F0ZTogXCIxLjIuODQwLjExMzU0OS4xLjkuMTYuMi4xMlwiLCB0aW1lU3RhbXBUb2tlbjogXCIxLjIuODQwLjExMzU0OS4xLjkuMTYuMi4xNFwiLCBzaWduYXR1cmVQb2xpY3lJZGVudGlmaWVyOiBcIjEuMi44NDAuMTEzNTQ5LjEuOS4xNi4yLjE1XCIsIGV0c0FyY2hpdmVUaW1lU3RhbXA6IFwiMS4yLjg0MC4xMTM1NDkuMS45LjE2LjIuMjdcIiwgc2lnbmluZ0NlcnRpZmljYXRlVjI6IFwiMS4yLjg0MC4xMTM1NDkuMS45LjE2LjIuNDdcIiwgZXRzQXJjaGl2ZVRpbWVTdGFtcFYyOiBcIjEuMi44NDAuMTEzNTQ5LjEuOS4xNi4yLjQ4XCIsIGV4dGVuc2lvblJlcXVlc3Q6IFwiMS4yLjg0MC4xMTM1NDkuMS45LjE0XCIsIGNvbnRlbnRUeXBlOiBcIjEuMi44NDAuMTEzNTQ5LjEuOS4zXCIsIG1lc3NhZ2VEaWdlc3Q6IFwiMS4yLjg0MC4xMTM1NDkuMS45LjRcIiwgc2lnbmluZ1RpbWU6IFwiMS4yLjg0MC4xMTM1NDkuMS45LjVcIiwgY291bnRlclNpZ25hdHVyZTogXCIxLjIuODQwLjExMzU0OS4xLjkuNlwiLCBhcmNoaXZlVGltZVN0YW1wVjM6IFwiMC40LjAuMTczMy4yLjRcIiwgcGRmUmV2b2NhdGlvbkluZm9BcmNoaXZhbDogXCIxLjIuODQwLjExMzU4My4xLjEuOFwiLCBhZG9iZVRpbWVTdGFtcDogXCIxLjIuODQwLjExMzU4My4xLjEuOS4xXCIsIHNtaW1lTWFpbGJveExlZ2FjeTogXCIyLjIzLjE0MC4xLjUuMS4xXCIsIHNtaW1lTWFpbGJveE11bHRpOiBcIjIuMjMuMTQwLjEuNS4xLjJcIiwgc21pbWVNYWlsYm94U3RyaWN0OiBcIjIuMjMuMTQwLjEuNS4xLjNcIiwgc21pbWVPcmdhbml6YXRpb25MZWdhY3k6IFwiMi4yMy4xNDAuMS41LjIuMVwiLCBzbWltZU9yZ2FuaXphdGlvbk11bHRpOiBcIjIuMjMuMTQwLjEuNS4yLjJcIiwgc21pbWVPcmdhbml6YXRpb25TdHJpY3Q6IFwiMi4yMy4xNDAuMS41LjIuM1wiLCBzbWltZVNwb25zb3JMZWdhY3k6IFwiMi4yMy4xNDAuMS41LjMuMVwiLCBzbWltZVNwb25zb3JNdWx0aTogXCIyLjIzLjE0MC4xLjUuMy4yXCIsIHNtaW1lU3BvbnNvclN0cmljdDogXCIyLjIzLjE0MC4xLjUuMy4zXCIsIHNtaW1lSW5kaXZpZHVhbExlZ2FjeTogXCIyLjIzLjE0MC4xLjUuNC4xXCIsIHNtaW1lSW5kaXZpZHVhbE11bHRpOiBcIjIuMjMuMTQwLjEuNS40LjJcIiwgc21pbWVJbmRpdmlkdWFsU3RyaWN0OiBcIjIuMjMuMTQwLjEuNS40LjNcIiB9LCB0aGlzLmF0eXBlMm9pZExpc3QgPSB7IENOOiBcIjIuNS40LjNcIiwgTDogXCIyLjUuNC43XCIsIFNUOiBcIjIuNS40LjhcIiwgTzogXCIyLjUuNC4xMFwiLCBPVTogXCIyLjUuNC4xMVwiLCBDOiBcIjIuNS40LjZcIiwgU1RSRUVUOiBcIjIuNS40LjlcIiwgREM6IFwiMC45LjIzNDIuMTkyMDAzMDAuMTAwLjEuMjVcIiwgVUlEOiBcIjAuOS4yMzQyLjE5MjAwMzAwLjEwMC4xLjFcIiwgU046IFwiMi41LjQuNFwiLCBUOiBcIjIuNS40LjEyXCIsIEdOOiBcIjIuNS40LjQyXCIsIEROOiBcIjIuNS40LjQ5XCIsIEU6IFwiMS4yLjg0MC4xMTM1NDkuMS45LjFcIiwgZGVzY3JpcHRpb246IFwiMi41LjQuMTNcIiwgYnVzaW5lc3NDYXRlZ29yeTogXCIyLjUuNC4xNVwiLCBwb3N0YWxDb2RlOiBcIjIuNS40LjE3XCIsIHNlcmlhbE51bWJlcjogXCIyLjUuNC41XCIsIHVuaXF1ZUlkZW50aWZpZXI6IFwiMi41LjQuNDVcIiwgb3JnYW5pemF0aW9uSWRlbnRpZmllcjogXCIyLjUuNC45N1wiLCBqdXJpc2RpY3Rpb25PZkluY29ycG9yYXRpb25MOiBcIjEuMy42LjEuNC4xLjMxMS42MC4yLjEuMVwiLCBqdXJpc2RpY3Rpb25PZkluY29ycG9yYXRpb25TUDogXCIxLjMuNi4xLjQuMS4zMTEuNjAuMi4xLjJcIiwganVyaXNkaWN0aW9uT2ZJbmNvcnBvcmF0aW9uQzogXCIxLjMuNi4xLjQuMS4zMTEuNjAuMi4xLjNcIiB9LCB0aGlzLm9iakNhY2hlID0ge30sIHRoaXMubmFtZTJvYmogPSBmdW5jdGlvbih0KSB7XG4gICAgaWYgKHR5cGVvZiB0aGlzLm9iakNhY2hlW3RdIDwgXCJ1XCIpXG4gICAgICByZXR1cm4gdGhpcy5vYmpDYWNoZVt0XTtcbiAgICBpZiAodHlwZW9mIHRoaXMubmFtZTJvaWRMaXN0W3RdID4gXCJ1XCIpXG4gICAgICB0aHJvdyBcIk5hbWUgb2YgT2JqZWN0SWRlbnRpZmllciBub3QgZGVmaW5lZDogXCIgKyB0O1xuICAgIHZhciByID0gdGhpcy5uYW1lMm9pZExpc3RbdF0sIGkgPSBuZXcgZSh7IG9pZDogciB9KTtcbiAgICByZXR1cm4gdGhpcy5vYmpDYWNoZVt0XSA9IGksIGk7XG4gIH0sIHRoaXMuYXR5cGUyb2JqID0gZnVuY3Rpb24odCkge1xuICAgIGlmICh0aGlzLm9iakNhY2hlW3RdICE9PSB2b2lkIDApXG4gICAgICByZXR1cm4gdGhpcy5vYmpDYWNoZVt0XTtcbiAgICB2YXIgcjtcbiAgICBpZiAodC5tYXRjaCgvXlxcZCtcXC5cXGQrXFwuWzAtOS5dKyQvKSlcbiAgICAgIHIgPSB0O1xuICAgIGVsc2UgaWYgKHRoaXMuYXR5cGUyb2lkTGlzdFt0XSAhPT0gdm9pZCAwKVxuICAgICAgciA9IHRoaXMuYXR5cGUyb2lkTGlzdFt0XTtcbiAgICBlbHNlIGlmICh0aGlzLm5hbWUyb2lkTGlzdFt0XSAhPT0gdm9pZCAwKVxuICAgICAgciA9IHRoaXMubmFtZTJvaWRMaXN0W3RdO1xuICAgIGVsc2VcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkF0dHJpYnV0ZVR5cGUgbmFtZSB1bmRlZmluZWQ6IFwiICsgdCk7XG4gICAgdmFyIGkgPSBuZXcgZSh7IG9pZDogciB9KTtcbiAgICByZXR1cm4gdGhpcy5vYmpDYWNoZVt0XSA9IGksIGk7XG4gIH0sIHRoaXMucmVnaXN0ZXJPSURzID0gZnVuY3Rpb24odCkge1xuICAgIGlmICh0aGlzLmNoZWNrT0lEcyh0KSlcbiAgICAgIGZvciAodmFyIHIgaW4gdClcbiAgICAgICAgdGhpcy5uYW1lMm9pZExpc3Rbcl0gPSB0W3JdO1xuICB9LCB0aGlzLmNoZWNrT0lEcyA9IGZ1bmN0aW9uKHQpIHtcbiAgICB0cnkge1xuICAgICAgdmFyIHIgPSBPYmplY3Qua2V5cyh0KTtcbiAgICAgIHJldHVybiByLmxlbmd0aCA9PSAwID8gITEgOiAoci5tYXAoZnVuY3Rpb24oaSwgcywgbikge1xuICAgICAgICB2YXIgaCA9IHRoaXNbaV07XG4gICAgICAgIGlmICghaC5tYXRjaCgvXlswLTJdXFwuWzAtOS5dKyQvKSlcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJ2YWx1ZSBpcyBub3QgT0lEXCIpO1xuICAgICAgfSwgdCksICEwKTtcbiAgICB9IGNhdGNoIHtcbiAgICAgIHJldHVybiAhMTtcbiAgICB9XG4gIH07XG59KCk7XG5hLmFzbjEueDUwOS5PSUQub2lkMm5hbWUgPSBmdW5jdGlvbihlKSB7XG4gIHZhciB0ID0gYS5hc24xLng1MDkuT0lELm5hbWUyb2lkTGlzdDtcbiAgZm9yICh2YXIgciBpbiB0KVxuICAgIGlmICh0W3JdID09IGUpXG4gICAgICByZXR1cm4gcjtcbiAgcmV0dXJuIFwiXCI7XG59O1xuYS5hc24xLng1MDkuT0lELm9pZDJhdHlwZSA9IGZ1bmN0aW9uKGUpIHtcbiAgdmFyIHQgPSBhLmFzbjEueDUwOS5PSUQuYXR5cGUyb2lkTGlzdDtcbiAgZm9yICh2YXIgciBpbiB0KVxuICAgIGlmICh0W3JdID09IGUpXG4gICAgICByZXR1cm4gcjtcbiAgcmV0dXJuIGU7XG59O1xuYS5hc24xLng1MDkuT0lELm5hbWUyb2lkID0gZnVuY3Rpb24oZSkge1xuICBpZiAoZS5tYXRjaCgvXlswLTkuXSskLykpXG4gICAgcmV0dXJuIGU7XG4gIHZhciB0ID0gYS5hc24xLng1MDkuT0lELm5hbWUyb2lkTGlzdDtcbiAgcmV0dXJuIHRbZV0gPT09IHZvaWQgMCA/IFwiXCIgOiB0W2VdO1xufTtcbmEuYXNuMS54NTA5Llg1MDlVdGlsID0ge307XG5hLmFzbjEueDUwOS5YNTA5VXRpbC5uZXdDZXJ0UEVNID0gZnVuY3Rpb24oZSkge1xuICB2YXIgdCA9IGEuYXNuMS54NTA5O1xuICB0LlRCU0NlcnRpZmljYXRlO1xuICB2YXIgciA9IHQuQ2VydGlmaWNhdGUsIGkgPSBuZXcgcihlKTtcbiAgcmV0dXJuIGkuZ2V0UEVNKCk7XG59O1xuKHR5cGVvZiBhID4gXCJ1XCIgfHwgIWEpICYmIChhID0ge30pO1xuKHR5cGVvZiBhLmFzbjEgPiBcInVcIiB8fCAhYS5hc24xKSAmJiAoYS5hc24xID0ge30pO1xuKHR5cGVvZiBhLmFzbjEuY21zID4gXCJ1XCIgfHwgIWEuYXNuMS5jbXMpICYmIChhLmFzbjEuY21zID0ge30pO1xuYS5hc24xLmNtcy5BdHRyaWJ1dGUgPSBmdW5jdGlvbihlKSB7XG4gIHZhciB0ID0gRXJyb3IsIHIgPSBhLCBpID0gci5hc24xLCBzID0gaS5ERVJTZXF1ZW5jZSwgbiA9IGkuREVSU2V0LCBoID0gaS5ERVJPYmplY3RJZGVudGlmaWVyO1xuICB0aGlzLnBhcmFtcyA9IG51bGwsIHRoaXMudHlwZU9pZCA9IG51bGwsIHRoaXMuc2V0QnlQYXJhbSA9IGZ1bmN0aW9uKHUpIHtcbiAgICB0aGlzLnBhcmFtcyA9IHU7XG4gIH0sIHRoaXMuZ2V0VmFsdWVBcnJheSA9IGZ1bmN0aW9uKCkge1xuICAgIHRocm93IG5ldyB0KFwibm90IHlldCBpbXBsZW1lbnRlZCBhYnN0cmFjdFwiKTtcbiAgfSwgdGhpcy50b2hleCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciB1ID0gbmV3IGgoeyBvaWQ6IHRoaXMudHlwZU9pZCB9KSwgcCA9IG5ldyBuKHsgYXJyYXk6IHRoaXMuZ2V0VmFsdWVBcnJheSgpIH0pLCBjID0gbmV3IHMoeyBhcnJheTogW3UsIHBdIH0pO1xuICAgIHJldHVybiBjLnRvaGV4KCk7XG4gIH0sIHRoaXMuZ2V0RW5jb2RlZEhleCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLnRvaGV4KCk7XG4gIH07XG59O1xuTihhLmFzbjEuY21zLkF0dHJpYnV0ZSwgYS5hc24xLkFTTjFPYmplY3QpO1xuYS5hc24xLmNtcy5Db250ZW50VHlwZSA9IGZ1bmN0aW9uKGUpIHtcbiAgdmFyIHQgPSBhLCByID0gdC5hc24xO1xuICByLmNtcy5Db250ZW50VHlwZS5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyksIHRoaXMudHlwZU9pZCA9IFwiMS4yLjg0MC4xMTM1NDkuMS45LjNcIiwgdGhpcy5nZXRWYWx1ZUFycmF5ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGkgPSBuZXcgci5ERVJPYmplY3RJZGVudGlmaWVyKHRoaXMucGFyYW1zLnR5cGUpO1xuICAgIHJldHVybiBbaV07XG4gIH0sIGUgIT0gbnVsbCAmJiB0aGlzLnNldEJ5UGFyYW0oZSk7XG59O1xuTihhLmFzbjEuY21zLkNvbnRlbnRUeXBlLCBhLmFzbjEuY21zLkF0dHJpYnV0ZSk7XG5hLmFzbjEuY21zLk1lc3NhZ2VEaWdlc3QgPSBmdW5jdGlvbihlKSB7XG4gIHZhciB0ID0gYSwgciA9IHQuYXNuMSwgaSA9IHIuREVST2N0ZXRTdHJpbmcsIHMgPSByLmNtcztcbiAgcy5NZXNzYWdlRGlnZXN0LnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzKSwgdGhpcy50eXBlT2lkID0gXCIxLjIuODQwLjExMzU0OS4xLjkuNFwiLCB0aGlzLmdldFZhbHVlQXJyYXkgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgbiA9IG5ldyBpKHRoaXMucGFyYW1zKTtcbiAgICByZXR1cm4gW25dO1xuICB9LCBlICE9IG51bGwgJiYgdGhpcy5zZXRCeVBhcmFtKGUpO1xufTtcbk4oYS5hc24xLmNtcy5NZXNzYWdlRGlnZXN0LCBhLmFzbjEuY21zLkF0dHJpYnV0ZSk7XG5hLmFzbjEuY21zLlNpZ25pbmdUaW1lID0gZnVuY3Rpb24oZSkge1xuICB2YXIgdCA9IGEsIHIgPSB0LmFzbjE7XG4gIHIuY21zLlNpZ25pbmdUaW1lLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzKSwgdGhpcy50eXBlT2lkID0gXCIxLjIuODQwLjExMzU0OS4xLjkuNVwiLCB0aGlzLmdldFZhbHVlQXJyYXkgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgaSA9IG5ldyByLng1MDkuVGltZSh0aGlzLnBhcmFtcyk7XG4gICAgcmV0dXJuIFtpXTtcbiAgfSwgZSAhPSBudWxsICYmIHRoaXMuc2V0QnlQYXJhbShlKTtcbn07XG5OKGEuYXNuMS5jbXMuU2lnbmluZ1RpbWUsIGEuYXNuMS5jbXMuQXR0cmlidXRlKTtcbmEuYXNuMS5jbXMuU2lnbmluZ0NlcnRpZmljYXRlID0gZnVuY3Rpb24oZSkge1xuICB2YXIgdCA9IEVycm9yLCByID0gYSwgaSA9IHIuYXNuMSwgcyA9IGkuREVSU2VxdWVuY2UsIG4gPSBpLmNtcywgaCA9IG4uRVNTQ2VydElEO1xuICByLmNyeXB0bywgbi5TaWduaW5nQ2VydGlmaWNhdGUuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpLCB0aGlzLnR5cGVPaWQgPSBcIjEuMi44NDAuMTEzNTQ5LjEuOS4xNi4yLjEyXCIsIHRoaXMuZ2V0VmFsdWVBcnJheSA9IGZ1bmN0aW9uKCkge1xuICAgIGlmICh0aGlzLnBhcmFtcyA9PSBudWxsIHx8IHRoaXMucGFyYW1zID09IG51bGwgfHwgdGhpcy5wYXJhbXMuYXJyYXkgPT0gbnVsbClcbiAgICAgIHRocm93IG5ldyB0KFwicGFyYW1ldGVyICdhcnJheScgbm90IHNwZWNpZmllZFwiKTtcbiAgICBmb3IgKHZhciB1ID0gdGhpcy5wYXJhbXMuYXJyYXksIHAgPSBbXSwgYyA9IDA7IGMgPCB1Lmxlbmd0aDsgYysrKSB7XG4gICAgICB2YXIgeSA9IHVbY107XG4gICAgICBlLmhhc2lzID09ICExICYmIHR5cGVvZiB5ID09IFwic3RyaW5nXCIgJiYgKHkuaW5kZXhPZihcIi0tLS0tQkVHSU5cIikgIT0gLTEgfHwgVi5pc0FTTjFIRVgoeSkpICYmICh5ID0geyBjZXJ0OiB5IH0pLCB5Lmhhc2lzICE9ICExICYmIGUuaGFzaXMgPT0gITEgJiYgKHkuaGFzaXMgPSAhMSksIHAucHVzaChuZXcgaCh5KSk7XG4gICAgfVxuICAgIHZhciB2ID0gbmV3IHMoeyBhcnJheTogcCB9KSwgbyA9IG5ldyBzKHsgYXJyYXk6IFt2XSB9KTtcbiAgICByZXR1cm4gW29dO1xuICB9LCBlICE9IG51bGwgJiYgdGhpcy5zZXRCeVBhcmFtKGUpO1xufTtcbk4oYS5hc24xLmNtcy5TaWduaW5nQ2VydGlmaWNhdGUsIGEuYXNuMS5jbXMuQXR0cmlidXRlKTtcbmEuYXNuMS5jbXMuRVNTQ2VydElEID0gZnVuY3Rpb24oZSkge1xuICBhLmFzbjEuY21zLkVTU0NlcnRJRC5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyk7XG4gIHZhciB0ID0gRXJyb3IsIHIgPSBhLCBpID0gci5hc24xLCBzID0gaS5ERVJPY3RldFN0cmluZywgbiA9IGkuREVSU2VxdWVuY2UsIGggPSBpLmNtcy5Jc3N1ZXJTZXJpYWw7XG4gIHRoaXMucGFyYW1zID0gbnVsbCwgdGhpcy5nZXRDZXJ0SGFzaCA9IGZ1bmN0aW9uKHUsIHApIHtcbiAgICBpZiAodS5oYXNoICE9IG51bGwpXG4gICAgICByZXR1cm4gdS5oYXNoO1xuICAgIGlmICh0eXBlb2YgdSA9PSBcInN0cmluZ1wiICYmIHUuaW5kZXhPZihcIi0tLS0tQkVHSU5cIikgPT0gLTEgJiYgIVYuaXNBU04xSEVYKHUpKVxuICAgICAgcmV0dXJuIHU7XG4gICAgdmFyIGM7XG4gICAgaWYgKHR5cGVvZiB1ID09IFwic3RyaW5nXCIpXG4gICAgICBjID0gdTtcbiAgICBlbHNlIGlmICh1LmNlcnQgIT0gbnVsbClcbiAgICAgIGMgPSB1LmNlcnQ7XG4gICAgZWxzZVxuICAgICAgdGhyb3cgbmV3IHQoXCJoYXNoIG5vciBjZXJ0IHVuc3BlY2lmaWVkXCIpO1xuICAgIHZhciB5O1xuICAgIGMuaW5kZXhPZihcIi0tLS0tQkVHSU5cIikgIT0gLTEgPyB5ID0gaWUoYykgOiB5ID0gYywgdHlwZW9mIHUgPT0gXCJzdHJpbmdcIiAmJiAodS5pbmRleE9mKFwiLS0tLS1CRUdJTlwiKSAhPSAtMSA/IHkgPSBpZSh1KSA6IFYuaXNBU04xSEVYKHUpICYmICh5ID0gdSkpO1xuICAgIHZhciB2O1xuICAgIGlmICh1LmFsZyAhPSBudWxsKVxuICAgICAgdiA9IHUuYWxnO1xuICAgIGVsc2UgaWYgKHAgIT0gbnVsbClcbiAgICAgIHYgPSBwO1xuICAgIGVsc2VcbiAgICAgIHRocm93IG5ldyB0KFwiaGFzaCBhbGcgdW5zcGVjaWZpZWRcIik7XG4gICAgcmV0dXJuIHIuY3J5cHRvLlV0aWwuaGFzaEhleCh5LCB2KTtcbiAgfSwgdGhpcy50b2hleCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciB1ID0gdGhpcy5wYXJhbXMsIHAgPSB0aGlzLmdldENlcnRIYXNoKHUsIFwic2hhMVwiKSwgYyA9IFtdO1xuICAgIGMucHVzaChuZXcgcyh7IGhleDogcCB9KSksICh0eXBlb2YgdSA9PSBcInN0cmluZ1wiICYmIHUuaW5kZXhPZihcIi0tLS0tQkVHSU5cIikgIT0gLTEgfHwgdS5jZXJ0ICE9IG51bGwgJiYgdS5oYXNpcyAhPSAhMSB8fCB1Lmlzc3VlciAhPSBudWxsICYmIHUuc2VyaWFsICE9IG51bGwpICYmIGMucHVzaChuZXcgaCh1KSk7XG4gICAgdmFyIHkgPSBuZXcgbih7IGFycmF5OiBjIH0pO1xuICAgIHJldHVybiB5LnRvaGV4KCk7XG4gIH0sIHRoaXMuZ2V0RW5jb2RlZEhleCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLnRvaGV4KCk7XG4gIH0sIGUgIT0gbnVsbCAmJiB0aGlzLnNldEJ5UGFyYW0oZSk7XG59O1xuTihhLmFzbjEuY21zLkVTU0NlcnRJRCwgYS5hc24xLkFTTjFPYmplY3QpO1xuYS5hc24xLmNtcy5TaWduaW5nQ2VydGlmaWNhdGVWMiA9IGZ1bmN0aW9uKGUpIHtcbiAgdmFyIHQgPSBFcnJvciwgciA9IGEsIGkgPSByLmFzbjEsIHMgPSBpLkRFUlNlcXVlbmNlO1xuICBpLng1MDk7XG4gIHZhciBuID0gaS5jbXMsIGggPSBuLkVTU0NlcnRJRHYyO1xuICByLmNyeXB0bywgbi5TaWduaW5nQ2VydGlmaWNhdGVWMi5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyksIHRoaXMudHlwZU9pZCA9IFwiMS4yLjg0MC4xMTM1NDkuMS45LjE2LjIuNDdcIiwgdGhpcy5nZXRWYWx1ZUFycmF5ID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKHRoaXMucGFyYW1zID09IG51bGwgfHwgdGhpcy5wYXJhbXMgPT0gbnVsbCB8fCB0aGlzLnBhcmFtcy5hcnJheSA9PSBudWxsKVxuICAgICAgdGhyb3cgbmV3IHQoXCJwYXJhbWV0ZXIgJ2FycmF5JyBub3Qgc3BlY2lmaWVkXCIpO1xuICAgIGZvciAodmFyIHUgPSB0aGlzLnBhcmFtcy5hcnJheSwgcCA9IFtdLCBjID0gMDsgYyA8IHUubGVuZ3RoOyBjKyspIHtcbiAgICAgIHZhciB5ID0gdVtjXTtcbiAgICAgIChlLmFsZyAhPSBudWxsIHx8IGUuaGFzaXMgPT0gITEpICYmIHR5cGVvZiB5ID09IFwic3RyaW5nXCIgJiYgKHkuaW5kZXhPZihcIi0tLS0tQkVHSU5cIikgIT0gLTEgfHwgVi5pc0FTTjFIRVgoeSkpICYmICh5ID0geyBjZXJ0OiB5IH0pLCB5LmFsZyA9PSBudWxsICYmIGUuYWxnICE9IG51bGwgJiYgKHkuYWxnID0gZS5hbGcpLCB5Lmhhc2lzICE9ICExICYmIGUuaGFzaXMgPT0gITEgJiYgKHkuaGFzaXMgPSAhMSksIHAucHVzaChuZXcgaCh5KSk7XG4gICAgfVxuICAgIHZhciB2ID0gbmV3IHMoeyBhcnJheTogcCB9KSwgbyA9IG5ldyBzKHsgYXJyYXk6IFt2XSB9KTtcbiAgICByZXR1cm4gW29dO1xuICB9LCBlICE9IG51bGwgJiYgdGhpcy5zZXRCeVBhcmFtKGUpO1xufTtcbk4oYS5hc24xLmNtcy5TaWduaW5nQ2VydGlmaWNhdGVWMiwgYS5hc24xLmNtcy5BdHRyaWJ1dGUpO1xuYS5hc24xLmNtcy5FU1NDZXJ0SUR2MiA9IGZ1bmN0aW9uKGUpIHtcbiAgYS5hc24xLmNtcy5FU1NDZXJ0SUR2Mi5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyk7XG4gIHZhciB0ID0gYSwgciA9IHQuYXNuMSwgaSA9IHIuREVST2N0ZXRTdHJpbmcsIHMgPSByLkRFUlNlcXVlbmNlLCBuID0gci5jbXMuSXNzdWVyU2VyaWFsLCBoID0gci54NTA5LkFsZ29yaXRobUlkZW50aWZpZXI7XG4gIHRoaXMucGFyYW1zID0gbnVsbCwgdGhpcy50b2hleCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciB1ID0gdGhpcy5wYXJhbXMsIHAgPSB0aGlzLmdldENlcnRIYXNoKHUsIFwic2hhMjU2XCIpLCBjID0gW107XG4gICAgdS5hbGcgIT0gbnVsbCAmJiB1LmFsZyAhPSBcInNoYTI1NlwiICYmIGMucHVzaChuZXcgaCh7IG5hbWU6IHUuYWxnIH0pKSwgYy5wdXNoKG5ldyBpKHsgaGV4OiBwIH0pKSwgKHR5cGVvZiB1ID09IFwic3RyaW5nXCIgJiYgdS5pbmRleE9mKFwiLS0tLS1CRUdJTlwiKSAhPSAtMSB8fCB1LmNlcnQgIT0gbnVsbCAmJiB1Lmhhc2lzICE9ICExIHx8IHUuaXNzdWVyICE9IG51bGwgJiYgdS5zZXJpYWwgIT0gbnVsbCkgJiYgYy5wdXNoKG5ldyBuKHUpKTtcbiAgICB2YXIgeSA9IG5ldyBzKHsgYXJyYXk6IGMgfSk7XG4gICAgcmV0dXJuIHkudG9oZXgoKTtcbiAgfSwgdGhpcy5nZXRFbmNvZGVkSGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMudG9oZXgoKTtcbiAgfSwgZSAhPSBudWxsICYmIHRoaXMuc2V0QnlQYXJhbShlKTtcbn07XG5OKGEuYXNuMS5jbXMuRVNTQ2VydElEdjIsIGEuYXNuMS5jbXMuRVNTQ2VydElEKTtcbmEuYXNuMS5jbXMuSXNzdWVyU2VyaWFsID0gZnVuY3Rpb24oZSkge1xuICB2YXIgdCA9IEVycm9yLCByID0gYSwgaSA9IHIuYXNuMSwgcyA9IGkuREVSSW50ZWdlciwgbiA9IGkuREVSU2VxdWVuY2UsIGggPSBpLmNtcywgdSA9IGkueDUwOSwgcCA9IHUuR2VuZXJhbE5hbWVzLCBjID0gTDtcbiAgaC5Jc3N1ZXJTZXJpYWwuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpLCB0aGlzLnNldEJ5UGFyYW0gPSBmdW5jdGlvbih5KSB7XG4gICAgdGhpcy5wYXJhbXMgPSB5O1xuICB9LCB0aGlzLnRvaGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHkgPSB0aGlzLnBhcmFtcywgdiwgbztcbiAgICBpZiAodHlwZW9mIHkgPT0gXCJzdHJpbmdcIiAmJiB5LmluZGV4T2YoXCItLS0tLUJFR0lOXCIpICE9IC0xIHx8IHkuY2VydCAhPSBudWxsKSB7XG4gICAgICB2YXIgbDtcbiAgICAgIHkuY2VydCAhPSBudWxsID8gbCA9IHkuY2VydCA6IGwgPSB5O1xuICAgICAgdmFyIGYgPSBuZXcgYygpO1xuICAgICAgZi5yZWFkQ2VydFBFTShsKSwgdiA9IGYuZ2V0SXNzdWVyKCksIG8gPSB7IGhleDogZi5nZXRTZXJpYWxOdW1iZXJIZXgoKSB9O1xuICAgIH0gZWxzZSBpZiAoeS5pc3N1ZXIgIT0gbnVsbCAmJiB5LnNlcmlhbClcbiAgICAgIHYgPSB5Lmlzc3VlciwgbyA9IHkuc2VyaWFsO1xuICAgIGVsc2VcbiAgICAgIHRocm93IG5ldyB0KFwiY2VydCBvciBpc3N1ZXIgYW5kIHNlcmlhbCBwYXJhbWV0ZXIgbm90IHNwZWNpZmllZFwiKTtcbiAgICB2YXIgZCA9IG5ldyBwKFt7IGRuOiB2IH1dKSwgZyA9IG5ldyBzKG8pLCBTID0gbmV3IG4oeyBhcnJheTogW2QsIGddIH0pO1xuICAgIHJldHVybiBTLnRvaGV4KCk7XG4gIH0sIHRoaXMuZ2V0RW5jb2RlZEhleCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLnRvaGV4KCk7XG4gIH0sIGUgIT0gbnVsbCAmJiB0aGlzLnNldEJ5UGFyYW0oZSk7XG59O1xuTihhLmFzbjEuY21zLklzc3VlclNlcmlhbCwgYS5hc24xLkFTTjFPYmplY3QpO1xuYS5hc24xLmNtcy5TaWduZXJJZGVudGlmaWVyID0gZnVuY3Rpb24oZSkge1xuICB2YXIgdCA9IGEsIHIgPSB0LmFzbjE7XG4gIHIuREVSSW50ZWdlciwgci5ERVJTZXF1ZW5jZTtcbiAgdmFyIGkgPSByLmNtcywgcyA9IGkuSXNzdWVyQW5kU2VyaWFsTnVtYmVyLCBuID0gaS5TdWJqZWN0S2V5SWRlbnRpZmllciwgaCA9IHIueDUwOTtcbiAgaC5YNTAwTmFtZSwgaS5TaWduZXJJZGVudGlmaWVyLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzKSwgdGhpcy5wYXJhbXMgPSBudWxsLCB0aGlzLnRvaGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHUgPSB0aGlzLnBhcmFtcztcbiAgICBpZiAodS50eXBlID09IFwiaXNzc25cIikge1xuICAgICAgdmFyIHAgPSBuZXcgcyh1KTtcbiAgICAgIHJldHVybiBwLnRvaGV4KCk7XG4gICAgfSBlbHNlIGlmICh1LnR5cGUgPT0gXCJza2lkXCIpIHtcbiAgICAgIHZhciBjID0gbmV3IG4odSk7XG4gICAgICByZXR1cm4gYy50b2hleCgpO1xuICAgIH0gZWxzZVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwid3JvbmcgcHJvcGVydHkgZm9yIGlzc3NuIG9yIHNraWRcIik7XG4gIH0sIHRoaXMuZ2V0RW5jb2RlZEhleCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLnRvaGV4KCk7XG4gIH0sIGUgIT0gbnVsbCAmJiB0aGlzLnNldEJ5UGFyYW0oZSk7XG59O1xuTihhLmFzbjEuY21zLlNpZ25lcklkZW50aWZpZXIsIGEuYXNuMS5BU04xT2JqZWN0KTtcbmEuYXNuMS5jbXMuSXNzdWVyQW5kU2VyaWFsTnVtYmVyID0gZnVuY3Rpb24oZSkge1xuICB2YXIgdCA9IGEsIHIgPSB0LmFzbjEsIGkgPSByLkRFUkludGVnZXIsIHMgPSByLkRFUlNlcXVlbmNlLCBuID0gci5jbXMsIGggPSByLng1MDksIHUgPSBoLlg1MDBOYW1lLCBwID0gTCwgYyA9IEVycm9yO1xuICBuLklzc3VlckFuZFNlcmlhbE51bWJlci5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyksIHRoaXMucGFyYW1zID0gbnVsbCwgdGhpcy50b2hleCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciB5ID0gdGhpcy5wYXJhbXMsIHYsIG87XG4gICAgaWYgKHR5cGVvZiB5ID09IFwic3RyaW5nXCIgJiYgeS5pbmRleE9mKFwiLS0tLS1CRUdJTlwiKSAhPSAtMSB8fCB5LmNlcnQgIT0gbnVsbCkge1xuICAgICAgdmFyIGw7XG4gICAgICB5LmNlcnQgIT0gbnVsbCA/IGwgPSB5LmNlcnQgOiBsID0geTtcbiAgICAgIHZhciBmID0gbmV3IHAoKTtcbiAgICAgIGYucmVhZENlcnRQRU0obCksIHYgPSBmLmdldElzc3VlcigpLCBvID0geyBoZXg6IGYuZ2V0U2VyaWFsTnVtYmVySGV4KCkgfTtcbiAgICB9IGVsc2UgaWYgKHkuaXNzdWVyICE9IG51bGwgJiYgeS5zZXJpYWwpXG4gICAgICB2ID0geS5pc3N1ZXIsIG8gPSB5LnNlcmlhbDtcbiAgICBlbHNlXG4gICAgICB0aHJvdyBuZXcgYyhcImNlcnQgb3IgaXNzdWVyIGFuZCBzZXJpYWwgcGFyYW1ldGVyIG5vdCBzcGVjaWZpZWRcIik7XG4gICAgdmFyIGQgPSBuZXcgdSh2KSwgZyA9IG5ldyBpKG8pLCBTID0gbmV3IHMoeyBhcnJheTogW2QsIGddIH0pO1xuICAgIHJldHVybiBTLnRvaGV4KCk7XG4gIH0sIHRoaXMuZ2V0RW5jb2RlZEhleCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLnRvaGV4KCk7XG4gIH0sIHRoaXMuc2V0QnlQYXJhbSA9IGZ1bmN0aW9uKHkpIHtcbiAgICB0aGlzLnBhcmFtcyA9IHk7XG4gIH0sIGUgIT0gbnVsbCAmJiB0aGlzLnNldEJ5UGFyYW0oZSk7XG59O1xuTihhLmFzbjEuY21zLklzc3VlckFuZFNlcmlhbE51bWJlciwgYS5hc24xLkFTTjFPYmplY3QpO1xuYS5hc24xLmNtcy5TdWJqZWN0S2V5SWRlbnRpZmllciA9IGZ1bmN0aW9uKGUpIHtcbiAgdmFyIHQgPSBhLCByID0gdC5hc24xO1xuICByLkRFUkludGVnZXIsIHIuREVSU2VxdWVuY2U7XG4gIHZhciBpID0gci5BU04xVXRpbC5uZXdPYmplY3QsIHMgPSByLmNtcztcbiAgcy5Jc3N1ZXJBbmRTZXJpYWxOYW1lLCBzLlN1YmplY3RLZXlJZGVudGlmaWVyO1xuICB2YXIgbiA9IHIueDUwOTtcbiAgbi5YNTAwTmFtZTtcbiAgdmFyIGggPSBMLCB1ID0gRXJyb3I7XG4gIHMuU3ViamVjdEtleUlkZW50aWZpZXIuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpLCB0aGlzLnRvaGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHAgPSB0aGlzLnBhcmFtcztcbiAgICBpZiAocC5jZXJ0ID09IG51bGwgJiYgcC5za2lkID09IG51bGwpXG4gICAgICB0aHJvdyBuZXcgdShcInByb3BlcnR5IGNlcnQgbm9yIHNraWQgdW5kZWZpbmVkXCIpO1xuICAgIHZhciBjO1xuICAgIGlmIChwLmNlcnQgIT0gbnVsbCkge1xuICAgICAgdmFyIHkgPSBuZXcgaChwLmNlcnQpLCB2ID0geS5nZXRFeHRTdWJqZWN0S2V5SWRlbnRpZmllcigpO1xuICAgICAgYyA9IHYua2lkLmhleDtcbiAgICB9IGVsc2VcbiAgICAgIHAuc2tpZCAhPSBudWxsICYmIChjID0gcC5za2lkKTtcbiAgICB2YXIgbyA9IGkoeyB0YWc6IHsgdGFnZTogXCJhMFwiLCBvYmo6IHsgb2N0c3RyOiB7IGhleDogYyB9IH0gfSB9KTtcbiAgICByZXR1cm4gby50b2hleCgpO1xuICB9LCB0aGlzLmdldEVuY29kZWRIZXggPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy50b2hleCgpO1xuICB9LCBlICE9IG51bGwgJiYgdGhpcy5zZXRCeVBhcmFtKGUpO1xufTtcbk4oYS5hc24xLmNtcy5TdWJqZWN0S2V5SWRlbnRpZmllciwgYS5hc24xLkFTTjFPYmplY3QpO1xuYS5hc24xLmNtcy5BdHRyaWJ1dGVMaXN0ID0gZnVuY3Rpb24oZSkge1xuICB2YXIgdCA9IEVycm9yLCByID0gYSwgaSA9IHIuYXNuMSwgcyA9IGkuREVSU2V0LCBuID0gaS5jbXM7XG4gIG4uQXR0cmlidXRlTGlzdC5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyksIHRoaXMucGFyYW1zID0gbnVsbCwgdGhpcy5oVExWID0gbnVsbCwgdGhpcy5zZXRCeVBhcmFtID0gZnVuY3Rpb24oaCkge1xuICAgIHRoaXMucGFyYW1zID0gaDtcbiAgfSwgdGhpcy50b2hleCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBoID0gdGhpcy5wYXJhbXM7XG4gICAgaWYgKHRoaXMuaFRMViAhPSBudWxsKVxuICAgICAgcmV0dXJuIHRoaXMuaFRMVjtcbiAgICB2YXIgdSA9ICEwO1xuICAgIGguc29ydGZsYWcgIT0gbnVsbCAmJiAodSA9IGguc29ydGZsYWcpO1xuICAgIGZvciAodmFyIHAgPSBoLmFycmF5LCBjID0gW10sIHkgPSAwOyB5IDwgcC5sZW5ndGg7IHkrKykge1xuICAgICAgdmFyIHYgPSBwW3ldLCBvID0gdi5hdHRyO1xuICAgICAgaWYgKG8gPT0gXCJjb250ZW50VHlwZVwiKVxuICAgICAgICBjLnB1c2gobmV3IG4uQ29udGVudFR5cGUodikpO1xuICAgICAgZWxzZSBpZiAobyA9PSBcIm1lc3NhZ2VEaWdlc3RcIilcbiAgICAgICAgYy5wdXNoKG5ldyBuLk1lc3NhZ2VEaWdlc3QodikpO1xuICAgICAgZWxzZSBpZiAobyA9PSBcInNpZ25pbmdUaW1lXCIpXG4gICAgICAgIGMucHVzaChuZXcgbi5TaWduaW5nVGltZSh2KSk7XG4gICAgICBlbHNlIGlmIChvID09IFwic2lnbmluZ0NlcnRpZmljYXRlXCIpXG4gICAgICAgIGMucHVzaChuZXcgbi5TaWduaW5nQ2VydGlmaWNhdGUodikpO1xuICAgICAgZWxzZSBpZiAobyA9PSBcInNpZ25pbmdDZXJ0aWZpY2F0ZVYyXCIpXG4gICAgICAgIGMucHVzaChuZXcgbi5TaWduaW5nQ2VydGlmaWNhdGVWMih2KSk7XG4gICAgICBlbHNlIGlmIChvID09IFwic2lnbmF0dXJlUG9saWN5SWRlbnRpZmllclwiKVxuICAgICAgICBjLnB1c2gobmV3IGEuYXNuMS5jYWRlcy5TaWduYXR1cmVQb2xpY3lJZGVudGlmaWVyKHYpKTtcbiAgICAgIGVsc2UgaWYgKG8gPT0gXCJzaWduYXR1cmVUaW1lU3RhbXBcIiB8fCBvID09IFwidGltZVN0YW1wVG9rZW5cIilcbiAgICAgICAgYy5wdXNoKG5ldyBhLmFzbjEuY2FkZXMuU2lnbmF0dXJlVGltZVN0YW1wKHYpKTtcbiAgICAgIGVsc2VcbiAgICAgICAgdGhyb3cgbmV3IHQoXCJ1bmtub3duIGF0dHI6IFwiICsgbyk7XG4gICAgfVxuICAgIHZhciBsID0gbmV3IHMoeyBhcnJheTogYywgc29ydGZsYWc6IHUgfSk7XG4gICAgcmV0dXJuIHRoaXMuaFRMViA9IGwudG9oZXgoKSwgdGhpcy5oVExWO1xuICB9LCB0aGlzLmdldEVuY29kZWRIZXggPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy50b2hleCgpO1xuICB9LCBlICE9IG51bGwgJiYgdGhpcy5zZXRCeVBhcmFtKGUpO1xufTtcbk4oYS5hc24xLmNtcy5BdHRyaWJ1dGVMaXN0LCBhLmFzbjEuQVNOMU9iamVjdCk7XG5hLmFzbjEuY21zLlNpZ25lckluZm8gPSBmdW5jdGlvbihlKSB7XG4gIHZhciB0ID0gRXJyb3IsIHIgPSBhLCBpID0gci5hc24xLCBzID0gaS5ERVJJbnRlZ2VyLCBuID0gaS5ERVJPY3RldFN0cmluZywgaCA9IGkuREVSU2VxdWVuY2UsIHUgPSBpLkRFUlRhZ2dlZE9iamVjdCwgcCA9IGkuY21zLCBjID0gcC5TaWduZXJJZGVudGlmaWVyLCB5ID0gcC5BdHRyaWJ1dGVMaXN0O1xuICBwLkNvbnRlbnRUeXBlLCBwLkVuY2Fwc3VsYXRlZENvbnRlbnRJbmZvLCBwLk1lc3NhZ2VEaWdlc3QsIHAuU2lnbmVkRGF0YTtcbiAgdmFyIHYgPSBpLng1MDksIG8gPSB2LkFsZ29yaXRobUlkZW50aWZpZXIsIGwgPSByLmNyeXB0bywgZiA9IGs7XG4gIHAuU2lnbmVySW5mby5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyksIHRoaXMucGFyYW1zID0gbnVsbCwgdGhpcy5zaWduID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGQgPSB0aGlzLnBhcmFtcywgZyA9IGQuc2lnYWxnLCBTID0gbmV3IHkoZC5zYXR0cnMpLnRvaGV4KCksIGIgPSBmLmdldEtleShkLnNpZ25rZXkpLCBEID0gbmV3IGwuU2lnbmF0dXJlKHsgYWxnOiBnIH0pO1xuICAgIEQuaW5pdChiKSwgRC51cGRhdGVIZXgoUyk7XG4gICAgdmFyIEEgPSBELnNpZ24oKTtcbiAgICBkLnNpZ2hleCA9IEE7XG4gIH0sIHRoaXMudG9oZXggPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgZCA9IHRoaXMucGFyYW1zLCBnID0gW107XG4gICAgaWYgKGcucHVzaChuZXcgcyh7IGludDogZC52ZXJzaW9uIH0pKSwgZy5wdXNoKG5ldyBjKGQuaWQpKSwgZy5wdXNoKG5ldyBvKHsgbmFtZTogZC5oYXNoYWxnIH0pKSwgZC5zYXR0cnMgIT0gbnVsbCkge1xuICAgICAgdmFyIFMgPSBuZXcgeShkLnNhdHRycyk7XG4gICAgICB0cnkge1xuICAgICAgICBnLnB1c2gobmV3IHUoeyB0YWc6IFwiYTBcIiwgZXhwbGljaXQ6ICExLCBvYmo6IFMgfSkpO1xuICAgICAgfSBjYXRjaCAoRCkge1xuICAgICAgICB0aHJvdyBuZXcgdChcInNpIHNhdHRyIGVycm9yOiBcIiArIEQpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoZC5zaWdhbGdmaWVsZCAhPSBudWxsID8gZy5wdXNoKG5ldyBvKHsgbmFtZTogZC5zaWdhbGdmaWVsZCB9KSkgOiBnLnB1c2gobmV3IG8oeyBuYW1lOiBkLnNpZ2FsZyB9KSksIGQuc2lnaGV4ID09IG51bGwgJiYgZC5zaWdua2V5ICE9IG51bGwgJiYgdGhpcy5zaWduKCksIGcucHVzaChuZXcgbih7IGhleDogZC5zaWdoZXggfSkpLCBkLnVhdHRycyAhPSBudWxsKSB7XG4gICAgICB2YXIgUyA9IG5ldyB5KGQudWF0dHJzKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGcucHVzaChuZXcgdSh7IHRhZzogXCJhMVwiLCBleHBsaWNpdDogITEsIG9iajogUyB9KSk7XG4gICAgICB9IGNhdGNoIChBKSB7XG4gICAgICAgIHRocm93IG5ldyB0KFwic2kgdWF0dHIgZXJyb3I6IFwiICsgQSk7XG4gICAgICB9XG4gICAgfVxuICAgIHZhciBiID0gbmV3IGgoeyBhcnJheTogZyB9KTtcbiAgICByZXR1cm4gYi50b2hleCgpO1xuICB9LCB0aGlzLmdldEVuY29kZWRIZXggPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy50b2hleCgpO1xuICB9LCBlICE9IG51bGwgJiYgdGhpcy5zZXRCeVBhcmFtKGUpO1xufTtcbk4oYS5hc24xLmNtcy5TaWduZXJJbmZvLCBhLmFzbjEuQVNOMU9iamVjdCk7XG5hLmFzbjEuY21zLkVuY2Fwc3VsYXRlZENvbnRlbnRJbmZvID0gZnVuY3Rpb24oZSkge1xuICB2YXIgdCA9IGEsIHIgPSB0LmFzbjEsIGkgPSByLkRFUlRhZ2dlZE9iamVjdCwgcyA9IHIuREVSU2VxdWVuY2UsIG4gPSByLkRFUk9iamVjdElkZW50aWZpZXIsIGggPSByLkRFUk9jdGV0U3RyaW5nLCB1ID0gci5jbXM7XG4gIHUuRW5jYXBzdWxhdGVkQ29udGVudEluZm8uc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpLCB0aGlzLnBhcmFtcyA9IG51bGwsIHRoaXMudG9oZXggPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgcCA9IHRoaXMucGFyYW1zLCBjID0gW107XG4gICAgaWYgKGMucHVzaChuZXcgbihwLnR5cGUpKSwgcC5jb250ZW50ICE9IG51bGwgJiYgKHAuY29udGVudC5oZXggIT0gbnVsbCB8fCBwLmNvbnRlbnQuc3RyICE9IG51bGwpICYmIHAuaXNEZXRhY2hlZCAhPSAhMCkge1xuICAgICAgdmFyIHkgPSBuZXcgaChwLmNvbnRlbnQpLCB2ID0gbmV3IGkoeyB0YWc6IFwiYTBcIiwgZXhwbGljaXQ6ICEwLCBvYmo6IHkgfSk7XG4gICAgICBjLnB1c2godik7XG4gICAgfVxuICAgIHZhciBvID0gbmV3IHMoeyBhcnJheTogYyB9KTtcbiAgICByZXR1cm4gby50b2hleCgpO1xuICB9LCB0aGlzLmdldEVuY29kZWRIZXggPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy50b2hleCgpO1xuICB9LCB0aGlzLnNldEJ5UGFyYW0gPSBmdW5jdGlvbihwKSB7XG4gICAgdGhpcy5wYXJhbXMgPSBwO1xuICB9LCBlICE9IG51bGwgJiYgdGhpcy5zZXRCeVBhcmFtKGUpO1xufTtcbk4oYS5hc24xLmNtcy5FbmNhcHN1bGF0ZWRDb250ZW50SW5mbywgYS5hc24xLkFTTjFPYmplY3QpO1xuYS5hc24xLmNtcy5Db250ZW50SW5mbyA9IGZ1bmN0aW9uKGUpIHtcbiAgdmFyIHQgPSBhLCByID0gdC5hc24xLCBpID0gci5ERVJUYWdnZWRPYmplY3QsIHMgPSByLkRFUlNlcXVlbmNlLCBuID0gci5ERVJPYmplY3RJZGVudGlmaWVyLCBoID0gci54NTA5O1xuICBoLk9JRC5uYW1lMm9iaiwgYS5hc24xLmNtcy5Db250ZW50SW5mby5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyksIHRoaXMucGFyYW1zID0gbnVsbCwgdGhpcy50b2hleCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciB1ID0gdGhpcy5wYXJhbXMsIHAgPSBbXTtcbiAgICBwLnB1c2gobmV3IG4odS50eXBlKSk7XG4gICAgdmFyIGMgPSBuZXcgaSh7IHRhZzogXCJhMFwiLCBleHBsaWNpdDogITAsIG9iajogdS5vYmogfSk7XG4gICAgcC5wdXNoKGMpO1xuICAgIHZhciB5ID0gbmV3IHMoeyBhcnJheTogcCB9KTtcbiAgICByZXR1cm4geS50b2hleCgpO1xuICB9LCB0aGlzLmdldEVuY29kZWRIZXggPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy50b2hleCgpO1xuICB9LCB0aGlzLnNldEJ5UGFyYW0gPSBmdW5jdGlvbih1KSB7XG4gICAgdGhpcy5wYXJhbXMgPSB1O1xuICB9LCBlICE9IG51bGwgJiYgdGhpcy5zZXRCeVBhcmFtKGUpO1xufTtcbk4oYS5hc24xLmNtcy5Db250ZW50SW5mbywgYS5hc24xLkFTTjFPYmplY3QpO1xuYS5hc24xLmNtcy5TaWduZWREYXRhID0gZnVuY3Rpb24oZSkge1xuICB2YXIgdCA9IGEsIHIgPSB0LmFzbjE7XG4gIHIuQVNOMU9iamVjdDtcbiAgdmFyIGkgPSByLkRFUkludGVnZXIsIHMgPSByLkRFUlNldCwgbiA9IHIuREVSU2VxdWVuY2U7XG4gIHIuREVSVGFnZ2VkT2JqZWN0O1xuICB2YXIgaCA9IHIuY21zLCB1ID0gaC5FbmNhcHN1bGF0ZWRDb250ZW50SW5mbywgcCA9IGguU2lnbmVySW5mbywgYyA9IGguQ29udGVudEluZm8sIHkgPSBoLkNlcnRpZmljYXRlU2V0LCB2ID0gaC5SZXZvY2F0aW9uSW5mb0Nob2ljZXMsIG8gPSByLng1MDksIGwgPSBvLkFsZ29yaXRobUlkZW50aWZpZXI7XG4gIGEuYXNuMS5jbXMuU2lnbmVkRGF0YS5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyksIHRoaXMucGFyYW1zID0gbnVsbCwgdGhpcy5jaGVja0FuZEZpeFBhcmFtID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGYgPSB0aGlzLnBhcmFtcztcbiAgICB0aGlzLl9zZXREaWdlc3RBbGdzKGYpLCB0aGlzLl9zZXRDb250ZW50VHlwZUJ5RUNvbnRlbnQoZiksIHRoaXMuX3NldE1lc3NhZ2VEaWdlc3RCeUVDb250ZW50KGYpLCB0aGlzLl9zZXRTaWduZXJJbmZvVmVyc2lvbihmKSwgdGhpcy5fc2V0U2lnbmVkRGF0YVZlcnNpb24oZik7XG4gIH0sIHRoaXMuX3NldERpZ2VzdEFsZ3MgPSBmdW5jdGlvbihmKSB7XG4gICAgZm9yICh2YXIgZCA9IHt9LCBnID0gZi5zaW5mb3MsIFMgPSAwOyBTIDwgZy5sZW5ndGg7IFMrKykge1xuICAgICAgdmFyIGIgPSBnW1NdO1xuICAgICAgZFtiLmhhc2hhbGddID0gMTtcbiAgICB9XG4gICAgZi5oYXNoYWxncyA9IE9iamVjdC5rZXlzKGQpLnNvcnQoKTtcbiAgfSwgdGhpcy5fc2V0Q29udGVudFR5cGVCeUVDb250ZW50ID0gZnVuY3Rpb24oZikge1xuICAgIGZvciAodmFyIGQgPSBmLmVjb250ZW50LnR5cGUsIGcgPSBmLnNpbmZvcywgUyA9IDA7IFMgPCBnLmxlbmd0aDsgUysrKSB7XG4gICAgICB2YXIgYiA9IGdbU10sIEQgPSB0aGlzLl9nZXRBdHRyUGFyYW1CeU5hbWUoYiwgXCJjb250ZW50VHlwZVwiKTtcbiAgICAgIEQudHlwZSA9IGQ7XG4gICAgfVxuICB9LCB0aGlzLl9zZXRNZXNzYWdlRGlnZXN0QnlFQ29udGVudCA9IGZ1bmN0aW9uKGYpIHtcbiAgICB2YXIgZCA9IGYuZWNvbnRlbnQ7XG4gICAgZi5lY29udGVudC50eXBlO1xuICAgIHZhciBnID0gZC5jb250ZW50LmhleDtcbiAgICBnID09IG51bGwgJiYgZC50eXBlID09IFwiZGF0YVwiICYmIGQuY29udGVudC5zdHIgIT0gbnVsbCAmJiAoZyA9IFBlKGQuY29udGVudC5zdHIpKTtcbiAgICBmb3IgKHZhciBTID0gZi5zaW5mb3MsIGIgPSAwOyBiIDwgUy5sZW5ndGg7IGIrKykge1xuICAgICAgdmFyIEQgPSBTW2JdLCBBID0gRC5oYXNoYWxnLCBJID0gdGhpcy5fZ2V0QXR0clBhcmFtQnlOYW1lKEQsIFwibWVzc2FnZURpZ2VzdFwiKSwgbSA9IGEuY3J5cHRvLlV0aWwuaGFzaEhleChnLCBBKTtcbiAgICAgIEkuaGV4ID0gbTtcbiAgICB9XG4gIH0sIHRoaXMuX2dldEF0dHJQYXJhbUJ5TmFtZSA9IGZ1bmN0aW9uKGYsIGQpIHtcbiAgICBmb3IgKHZhciBnID0gZi5zYXR0cnMuYXJyYXksIFMgPSAwOyBTIDwgZy5sZW5ndGg7IFMrKylcbiAgICAgIGlmIChnW1NdLmF0dHIgPT0gZClcbiAgICAgICAgcmV0dXJuIGdbU107XG4gIH0sIHRoaXMuX3NldFNpZ25lckluZm9WZXJzaW9uID0gZnVuY3Rpb24oZikge1xuICAgIGZvciAodmFyIGQgPSBmLnNpbmZvcywgZyA9IDA7IGcgPCBkLmxlbmd0aDsgZysrKSB7XG4gICAgICB2YXIgUyA9IGRbZ10sIGIgPSAxO1xuICAgICAgUy5pZC50eXBlID09IFwic2tpZFwiICYmIChiID0gMyksIFMudmVyc2lvbiA9IGI7XG4gICAgfVxuICB9LCB0aGlzLl9zZXRTaWduZWREYXRhVmVyc2lvbiA9IGZ1bmN0aW9uKGYpIHtcbiAgICB2YXIgZCA9IHRoaXMuX2dldFNpZ25lZERhdGFWZXJzaW9uKGYpO1xuICAgIGYudmVyc2lvbiA9IGQ7XG4gIH0sIHRoaXMuX2dldFNpZ25lZERhdGFWZXJzaW9uID0gZnVuY3Rpb24oZikge1xuICAgIGlmIChmLnJldmluZm9zICE9IG51bGwpXG4gICAgICBmb3IgKHZhciBkID0gZi5yZXZpbmZvcywgZyA9IDA7IGcgPCBkLmxlbmd0aDsgZysrKSB7XG4gICAgICAgIHZhciBTID0gZFtnXTtcbiAgICAgICAgaWYgKFMub2NzcCAhPSBudWxsKVxuICAgICAgICAgIHJldHVybiA1O1xuICAgICAgfVxuICAgIGZvciAodmFyIGIgPSBmLnNpbmZvcywgZyA9IDA7IGcgPCBiLmxlbmd0aDsgZysrKSB7XG4gICAgICB2YXIgRCA9IGYuc2luZm9zW2ddO1xuICAgICAgaWYgKEQudmVyc2lvbiA9PSAzKVxuICAgICAgICByZXR1cm4gMztcbiAgICB9XG4gICAgcmV0dXJuIGYuZWNvbnRlbnQudHlwZSAhPSBcImRhdGFcIiA/IDMgOiAxO1xuICB9LCB0aGlzLnRvaGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGYgPSB0aGlzLnBhcmFtcztcbiAgICB0aGlzLmdldEVuY29kZWRIZXhQcmVwYXJlICE9IG51bGwgJiYgdGhpcy5nZXRFbmNvZGVkSGV4UHJlcGFyZSgpLCBmLmZpeGVkICE9ICEwICYmIHRoaXMuY2hlY2tBbmRGaXhQYXJhbSgpO1xuICAgIHZhciBkID0gW107XG4gICAgZC5wdXNoKG5ldyBpKHsgaW50OiBmLnZlcnNpb24gfSkpO1xuICAgIGZvciAodmFyIGcgPSBbXSwgUyA9IDA7IFMgPCBmLmhhc2hhbGdzLmxlbmd0aDsgUysrKSB7XG4gICAgICB2YXIgYiA9IGYuaGFzaGFsZ3NbU107XG4gICAgICBnLnB1c2gobmV3IGwoeyBuYW1lOiBiIH0pKTtcbiAgICB9XG4gICAgZC5wdXNoKG5ldyBzKHsgYXJyYXk6IGcgfSkpLCBkLnB1c2gobmV3IHUoZi5lY29udGVudCkpLCBmLmNlcnRzICE9IG51bGwgJiYgZC5wdXNoKG5ldyB5KGYuY2VydHMpKSwgZi5yZXZpbmZvcyAhPSBudWxsICYmIGQucHVzaChuZXcgdihmLnJldmluZm9zKSk7XG4gICAgZm9yICh2YXIgRCA9IFtdLCBTID0gMDsgUyA8IGYuc2luZm9zLmxlbmd0aDsgUysrKSB7XG4gICAgICB2YXIgQSA9IGYuc2luZm9zW1NdO1xuICAgICAgRC5wdXNoKG5ldyBwKEEpKTtcbiAgICB9XG4gICAgZC5wdXNoKG5ldyBzKHsgYXJyYXk6IEQgfSkpO1xuICAgIHZhciBJID0gbmV3IG4oeyBhcnJheTogZCB9KTtcbiAgICByZXR1cm4gSS50b2hleCgpO1xuICB9LCB0aGlzLmdldEVuY29kZWRIZXggPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy50b2hleCgpO1xuICB9LCB0aGlzLmdldENvbnRlbnRJbmZvID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGYgPSBuZXcgYyh7IHR5cGU6IFwic2lnbmVkLWRhdGFcIiwgb2JqOiB0aGlzIH0pO1xuICAgIHJldHVybiBmO1xuICB9LCB0aGlzLmdldENvbnRlbnRJbmZvRW5jb2RlZEhleCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLmdldENvbnRlbnRJbmZvKCkudG9oZXgoKTtcbiAgfSwgZSAhPSBudWxsICYmIHRoaXMuc2V0QnlQYXJhbShlKTtcbn07XG5OKGEuYXNuMS5jbXMuU2lnbmVkRGF0YSwgYS5hc24xLkFTTjFPYmplY3QpO1xuYS5hc24xLmNtcy5DZXJ0aWZpY2F0ZVNldCA9IGZ1bmN0aW9uKGUpIHtcbiAgYS5hc24xLmNtcy5DZXJ0aWZpY2F0ZVNldC5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyk7XG4gIHZhciB0ID0gRXJyb3IsIHIgPSBhLmFzbjEsIGkgPSByLkRFUlRhZ2dlZE9iamVjdCwgcyA9IHIuREVSU2V0LCBuID0gci5BU04xT2JqZWN0O1xuICB0aGlzLnBhcmFtcyA9IG51bGwsIHRoaXMudG9oZXggPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgaCA9IHRoaXMucGFyYW1zLCB1ID0gW10sIHA7XG4gICAgaWYgKGggaW5zdGFuY2VvZiBBcnJheSlcbiAgICAgIHAgPSBoO1xuICAgIGVsc2UgaWYgKGguYXJyYXkgIT0gbnVsbClcbiAgICAgIHAgPSBoLmFycmF5O1xuICAgIGVsc2VcbiAgICAgIHRocm93IG5ldyB0KFwiY2VydCBhcnJheSBub3Qgc3BlY2lmaWVkXCIpO1xuICAgIGZvciAodmFyIGMgPSAwOyBjIDwgcC5sZW5ndGg7IGMrKykge1xuICAgICAgdmFyIHkgPSBwW2NdLCB2ID0gaWUoeSksIG8gPSBuZXcgbigpO1xuICAgICAgby5oVExWID0gdiwgdS5wdXNoKG8pO1xuICAgIH1cbiAgICB2YXIgbCA9IHsgYXJyYXk6IHUgfTtcbiAgICBoLnNvcnRmbGFnID09ICExICYmIChsLnNvcnRmbGFnID0gITEpO1xuICAgIHZhciBmID0gbmV3IHMobCksIGQgPSBuZXcgaSh7IHRhZzogXCJhMFwiLCBleHBsaWNpdDogITEsIG9iajogZiB9KTtcbiAgICByZXR1cm4gZC50b2hleCgpO1xuICB9LCB0aGlzLmdldEVuY29kZWRIZXggPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy50b2hleCgpO1xuICB9LCBlICE9IG51bGwgJiYgdGhpcy5zZXRCeVBhcmFtKGUpO1xufTtcbk4oYS5hc24xLmNtcy5DZXJ0aWZpY2F0ZVNldCwgYS5hc24xLkFTTjFPYmplY3QpO1xuYS5hc24xLmNtcy5SZXZvY2F0aW9uSW5mb0Nob2ljZXMgPSBmdW5jdGlvbihlKSB7XG4gIGEuYXNuMS5jbXMuUmV2b2NhdGlvbkluZm9DaG9pY2VzLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzKSwgdGhpcy5wYXJhbXMgPSBudWxsLCB0aGlzLnRvaGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHQgPSB0aGlzLnBhcmFtcztcbiAgICBpZiAoIXQgaW5zdGFuY2VvZiBBcnJheSlcbiAgICAgIHRocm93IG5ldyBFcnJvcihcInBhcmFtcyBpcyBub3QgYXJyYXlcIik7XG4gICAgZm9yICh2YXIgciA9IFtdLCBpID0gMDsgaSA8IHQubGVuZ3RoOyBpKyspXG4gICAgICByLnB1c2gobmV3IGEuYXNuMS5jbXMuUmV2b2NhdGlvbkluZm9DaG9pY2UodFtpXSkpO1xuICAgIHZhciBzID0gYS5hc24xLkFTTjFVdGlsLm5ld09iamVjdCh7IHRhZzogeyB0YWdpOiBcImExXCIsIG9iajogeyBzZXQ6IHIgfSB9IH0pO1xuICAgIHJldHVybiBzLnRvaGV4KCk7XG4gIH0sIHRoaXMuZ2V0RW5jb2RlZEhleCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLnRvaGV4KCk7XG4gIH0sIGUgIT0gbnVsbCAmJiB0aGlzLnNldEJ5UGFyYW0oZSk7XG59O1xuTihhLmFzbjEuY21zLlJldm9jYXRpb25JbmZvQ2hvaWNlcywgYS5hc24xLkFTTjFPYmplY3QpO1xuYS5hc24xLmNtcy5SZXZvY2F0aW9uSW5mb0Nob2ljZSA9IGZ1bmN0aW9uKGUpIHtcbiAgYS5hc24xLmNtcy5SZXZvY2F0aW9uSW5mb0Nob2ljZS5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyksIHRoaXMucGFyYW1zID0gbnVsbCwgdGhpcy50b2hleCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciB0ID0gdGhpcy5wYXJhbXM7XG4gICAgaWYgKHQuY3JsICE9IG51bGwgJiYgdHlwZW9mIHQuY3JsID09IFwic3RyaW5nXCIpIHtcbiAgICAgIHZhciByID0gdC5jcmw7XG4gICAgICByZXR1cm4gdC5jcmwuaW5kZXhPZihcIi0tLS0tQkVHSU5cIikgIT0gLTEgJiYgKHIgPSBpZSh0LmNybCkpLCByO1xuICAgIH0gZWxzZSBpZiAodC5vY3NwICE9IG51bGwpIHtcbiAgICAgIHZhciBpID0gYS5hc24xLkFTTjFVdGlsLm5ld09iamVjdCh7IHRhZzogeyB0YWdpOiBcImExXCIsIG9iajogbmV3IGEuYXNuMS5jbXMuT3RoZXJSZXZvY2F0aW9uRm9ybWF0KHQpIH0gfSk7XG4gICAgICByZXR1cm4gaS50b2hleCgpO1xuICAgIH0gZWxzZVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwicHJvcGVydHkgY3JsIG9yIG9jc3AgdW5kZWZpbmVkXCIpO1xuICB9LCB0aGlzLmdldEVuY29kZWRIZXggPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy50b2hleCgpO1xuICB9LCBlICE9IG51bGwgJiYgdGhpcy5zZXRCeVBhcmFtKGUpO1xufTtcbk4oYS5hc24xLmNtcy5SZXZvY2F0aW9uSW5mb0Nob2ljZSwgYS5hc24xLkFTTjFPYmplY3QpO1xuYS5hc24xLmNtcy5PdGhlclJldm9jYXRpb25Gb3JtYXQgPSBmdW5jdGlvbihlKSB7XG4gIGEuYXNuMS5jbXMuT3RoZXJSZXZvY2F0aW9uRm9ybWF0LnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzKTtcbiAgdmFyIHQgPSBFcnJvciwgciA9IGEsIGkgPSByLmFzbjEsIHMgPSBpLkFTTjFVdGlsLm5ld09iamVjdCwgbiA9IHIubGFuZy5TdHJpbmcuaXNIZXg7XG4gIHRoaXMucGFyYW1zID0gbnVsbCwgdGhpcy50b2hleCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBoID0gdGhpcy5wYXJhbXM7XG4gICAgaWYgKGgub2NzcCA9PSBudWxsKVxuICAgICAgdGhyb3cgbmV3IHQoXCJwcm9wZXJ0eSBvY3NwIG5vdCBzcGVjaWZpZWRcIik7XG4gICAgaWYgKCFuKGgub2NzcCkgfHwgIVYuaXNBU04xSEVYKGgub2NzcCkpXG4gICAgICB0aHJvdyBuZXcgdChcIm9jc3AgdmFsdWUgbm90IEFTTi4xIGhleCBzdHJpbmdcIik7XG4gICAgdmFyIHUgPSBzKHsgc2VxOiBbeyBvaWQ6IFwiMS4zLjYuMS41LjUuNy4xNi4yXCIgfSwgeyBhc24xOiB7IHRsdjogaC5vY3NwIH0gfV0gfSk7XG4gICAgcmV0dXJuIHUudG9oZXgoKTtcbiAgfSwgdGhpcy5nZXRFbmNvZGVkSGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMudG9oZXgoKTtcbiAgfSwgZSAhPSBudWxsICYmIHRoaXMuc2V0QnlQYXJhbShlKTtcbn07XG5OKGEuYXNuMS5jbXMuT3RoZXJSZXZvY2F0aW9uRm9ybWF0LCBhLmFzbjEuQVNOMU9iamVjdCk7XG5hLmFzbjEuY21zLkNNU1V0aWwgPSBuZXcgZnVuY3Rpb24oKSB7XG59KCk7XG5hLmFzbjEuY21zLkNNU1V0aWwubmV3U2lnbmVkRGF0YSA9IGZ1bmN0aW9uKGUpIHtcbiAgcmV0dXJuIG5ldyBhLmFzbjEuY21zLlNpZ25lZERhdGEoZSk7XG59O1xuYS5hc24xLmNtcy5DTVNVdGlsLnZlcmlmeVNpZ25lZERhdGEgPSBmdW5jdGlvbihlKSB7XG4gIHZhciB0ID0gYSwgciA9IHQuYXNuMSwgaSA9IHIuY21zO1xuICBpLlNpZ25lckluZm8sIGkuU2lnbmVkRGF0YSwgaS5TaWduaW5nVGltZSwgaS5TaWduaW5nQ2VydGlmaWNhdGUsIGkuU2lnbmluZ0NlcnRpZmljYXRlVjI7XG4gIHZhciBzID0gci5jYWRlcztcbiAgcy5TaWduYXR1cmVQb2xpY3lJZGVudGlmaWVyO1xuICB2YXIgbiA9IHQubGFuZy5TdHJpbmcuaXNIZXgsIGggPSBWLCB1ID0gaC5nZXRWYnlMaXN0LCBwID0gaC5nZXRUTFZieUxpc3QsIGMgPSBoLmdldElkeGJ5TGlzdCwgeSA9IGguZ2V0Q2hpbGRJZHgsIHYgPSBoLmdldFRMViwgbyA9IGgub2lkbmFtZSwgbCA9IHQuY3J5cHRvLlV0aWwuaGFzaEhleDtcbiAgZS5jbXMgPT09IHZvaWQgMCAmJiBuKGUuY21zKTtcbiAgdmFyIGYgPSBlLmNtcywgZCA9IGZ1bmN0aW9uKHcsIHgpIHtcbiAgICBmb3IgKHZhciBGLCBQID0gMzsgUCA8IDY7IFArKylcbiAgICAgIGlmIChGID0gYyh3LCAwLCBbMSwgMCwgUF0pLCBGICE9PSB2b2lkIDApIHtcbiAgICAgICAgdmFyIFQgPSB3LnN1YnN0cihGLCAyKTtcbiAgICAgICAgVCA9PT0gXCJhMFwiICYmICh4LmNlcnRzSWR4ID0gRiksIFQgPT09IFwiYTFcIiAmJiAoeC5yZXZpbmZvc0lkeCA9IEYpLCBUID09PSBcIjMxXCIgJiYgKHguc2lnbmVyaW5mb3NJZHggPSBGKTtcbiAgICAgIH1cbiAgfSwgZyA9IGZ1bmN0aW9uKHcsIHgpIHtcbiAgICB2YXIgRiA9IHguc2lnbmVyaW5mb3NJZHg7XG4gICAgaWYgKEYgIT09IHZvaWQgMCkge1xuICAgICAgdmFyIFAgPSB5KHcsIEYpO1xuICAgICAgeC5zaWduZXJJbmZvSWR4TGlzdCA9IFA7XG4gICAgICBmb3IgKHZhciBUID0gMDsgVCA8IFAubGVuZ3RoOyBUKyspIHtcbiAgICAgICAgdmFyIEggPSBQW1RdLCBDID0geyBpZHg6IEggfTtcbiAgICAgICAgUyh3LCBDKSwgeC5zaWduZXJJbmZvcy5wdXNoKEMpO1xuICAgICAgfVxuICAgIH1cbiAgfSwgUyA9IGZ1bmN0aW9uKHcsIHgpIHtcbiAgICB2YXIgRiA9IHguaWR4O1xuICAgIHguc2lnbmVyaWRfaXNzdWVyMSA9IHAodywgRiwgWzEsIDBdLCBcIjMwXCIpLCB4LnNpZ25lcmlkX3NlcmlhbDEgPSB1KHcsIEYsIFsxLCAxXSwgXCIwMlwiKSwgeC5oYXNoYWxnID0gbyh1KHcsIEYsIFsyLCAwXSwgXCIwNlwiKSk7XG4gICAgdmFyIFAgPSBjKHcsIEYsIFszXSwgXCJhMFwiKTtcbiAgICB4LmlkeFNpZ25lZEF0dHJzID0gUCwgYih3LCB4LCBQKTtcbiAgICB2YXIgVCA9IHkodywgRiksIEggPSBULmxlbmd0aDtcbiAgICBpZiAoSCA8IDYpXG4gICAgICB0aHJvdyBcIm1hbGZvcm1lZCBTaWduZXJJbmZvXCI7XG4gICAgeC5zaWdhbGcgPSBvKHUodywgRiwgW0ggLSAyLCAwXSwgXCIwNlwiKSksIHguc2lndmFsID0gdSh3LCBGLCBbSCAtIDFdLCBcIjA0XCIpO1xuICB9LCBiID0gZnVuY3Rpb24odywgeCwgRikge1xuICAgIHZhciBQID0geSh3LCBGKTtcbiAgICB4LnNpZ25lZEF0dHJJZHhMaXN0ID0gUDtcbiAgICBmb3IgKHZhciBUID0gMDsgVCA8IFAubGVuZ3RoOyBUKyspIHtcbiAgICAgIHZhciBIID0gUFtUXSwgQyA9IHUodywgSCwgWzBdLCBcIjA2XCIpLCBCO1xuICAgICAgQyA9PT0gXCIyYTg2NDg4NmY3MGQwMTA5MDVcIiA/IChCID0gVyh1KHcsIEgsIFsxLCAwXSkpLCB4LnNhU2lnbmluZ1RpbWUgPSBCKSA6IEMgPT09IFwiMmE4NjQ4ODZmNzBkMDEwOTA0XCIgJiYgKEIgPSB1KHcsIEgsIFsxLCAwXSwgXCIwNFwiKSwgeC5zYU1lc3NhZ2VEaWdlc3QgPSBCKTtcbiAgICB9XG4gIH0sIEQgPSBmdW5jdGlvbih3LCB4KSB7XG4gICAgaWYgKHUodywgMCwgWzBdLCBcIjA2XCIpICE9PSBcIjJhODY0ODg2ZjcwZDAxMDcwMlwiKVxuICAgICAgcmV0dXJuIHg7XG4gICAgeC5jbXNUeXBlID0gXCJzaWduZWREYXRhXCIsIHguZWNvbnRlbnQgPSB1KHcsIDAsIFsxLCAwLCAyLCAxLCAwXSksIGQodywgeCksIHguc2lnbmVySW5mb3MgPSBbXSwgZyh3LCB4KTtcbiAgfSwgQSA9IGZ1bmN0aW9uKHcsIHgpIHtcbiAgICBmb3IgKHZhciBGID0geC5wYXJzZS5zaWduZXJJbmZvcywgUCA9IEYubGVuZ3RoLCBUID0gITAsIEggPSAwOyBIIDwgUDsgSCsrKSB7XG4gICAgICB2YXIgQyA9IEZbSF07XG4gICAgICBtKHcsIHgsIEMpLCBDLmlzVmFsaWQgfHwgKFQgPSAhMSk7XG4gICAgfVxuICAgIHguaXNWYWxpZCA9IFQ7XG4gIH0sIEkgPSBmdW5jdGlvbih3LCB4LCBGLCBQKSB7XG4gICAgdmFyIFQgPSB4LnBhcnNlLmNlcnRzSWR4LCBIO1xuICAgIGlmICh4LmNlcnRzID09PSB2b2lkIDApIHtcbiAgICAgIEggPSBbXSwgeC5jZXJ0a2V5cyA9IFtdO1xuICAgICAgZm9yICh2YXIgQyA9IHkodywgVCksIEIgPSAwOyBCIDwgQy5sZW5ndGg7IEIrKykge1xuICAgICAgICB2YXIgTyA9IHYodywgQ1tCXSksIGogPSBuZXcgTCgpO1xuICAgICAgICBqLnJlYWRDZXJ0SGV4KE8pLCBIW0JdID0gaiwgeC5jZXJ0a2V5c1tCXSA9IGouZ2V0UHVibGljS2V5KCk7XG4gICAgICB9XG4gICAgICB4LmNlcnRzID0gSDtcbiAgICB9IGVsc2VcbiAgICAgIEggPSB4LmNlcnRzO1xuICAgIHguY2NjYyA9IEgubGVuZ3RoLCB4LmNjY2NpID0gQy5sZW5ndGg7XG4gICAgZm9yICh2YXIgQiA9IDA7IEIgPCBILmxlbmd0aDsgQisrKSB7XG4gICAgICB2YXIgZmUgPSBqLmdldElzc3VlckhleCgpLCBaID0gai5nZXRTZXJpYWxOdW1iZXJIZXgoKTtcbiAgICAgIEYuc2lnbmVyaWRfaXNzdWVyMSA9PT0gZmUgJiYgRi5zaWduZXJpZF9zZXJpYWwxID09PSBaICYmIChGLmNlcnRrZXlfaWR4ID0gQik7XG4gICAgfVxuICB9LCBtID0gZnVuY3Rpb24odywgeCwgRiwgUCkge1xuICAgIEYudmVyaWZ5RGV0YWlsID0ge307XG4gICAgdmFyIFQgPSBGLnZlcmlmeURldGFpbCwgSCA9IHgucGFyc2UuZWNvbnRlbnQsIEMgPSBGLmhhc2hhbGcsIEIgPSBGLnNhTWVzc2FnZURpZ2VzdDtcbiAgICBULnZhbGlkTWVzc2FnZURpZ2VzdCA9ICExLCBsKEgsIEMpID09PSBCICYmIChULnZhbGlkTWVzc2FnZURpZ2VzdCA9ICEwKSwgSSh3LCB4LCBGKSwgVC52YWxpZFNpZ25hdHVyZVZhbHVlID0gITE7XG4gICAgdmFyIE8gPSBGLnNpZ2FsZywgaiA9IFwiMzFcIiArIHYodywgRi5pZHhTaWduZWRBdHRycykuc3Vic3RyKDIpO1xuICAgIEYuc2lnbmVkYXR0cnNoZXggPSBqO1xuICAgIHZhciBmZSA9IHguY2VydHNbRi5jZXJ0a2V5X2lkeF0uZ2V0UHVibGljS2V5KCksIFogPSBuZXcgYS5jcnlwdG8uU2lnbmF0dXJlKHsgYWxnOiBPIH0pO1xuICAgIFouaW5pdChmZSksIFoudXBkYXRlSGV4KGopO1xuICAgIHZhciBYID0gWi52ZXJpZnkoRi5zaWd2YWwpO1xuICAgIFQudmFsaWRTaWduYXR1cmVWYWx1ZV9pc1ZhbGlkID0gWCwgWCA9PT0gITAgJiYgKFQudmFsaWRTaWduYXR1cmVWYWx1ZSA9ICEwKSwgRi5pc1ZhbGlkID0gITEsIFQudmFsaWRNZXNzYWdlRGlnZXN0ICYmIFQudmFsaWRTaWduYXR1cmVWYWx1ZSAmJiAoRi5pc1ZhbGlkID0gITApO1xuICB9LCBFID0geyBpc1ZhbGlkOiAhMSwgcGFyc2U6IHt9IH07XG4gIHJldHVybiBEKGYsIEUucGFyc2UpLCBBKGYsIEUpLCBFO1xufTtcbmEuYXNuMS5jbXMuQ01TUGFyc2VyID0gZnVuY3Rpb24oKSB7XG4gIHZhciBlID0gRXJyb3IsIHQgPSBMLCByID0gbmV3IHQoKSwgaSA9IFYsIHMgPSBpLmdldFYsIG4gPSBpLmdldFRMVjtcbiAgaS5nZXRJZHhieUxpc3Q7XG4gIHZhciBoID0gaS5nZXRUTFZieUxpc3QsIHUgPSBpLmdldFRMVmJ5TGlzdEV4LCBwID0gaS5nZXRWYnlMaXN0LCBjID0gaS5nZXRWYnlMaXN0RXgsIHkgPSBpLmdldENoaWxkSWR4O1xuICB0aGlzLmdldENNU1NpZ25lZERhdGEgPSBmdW5jdGlvbih2KSB7XG4gICAgdmFyIG8gPSBoKHYsIDAsIFsxLCAwXSksIGwgPSB0aGlzLmdldFNpZ25lZERhdGEobyk7XG4gICAgcmV0dXJuIGw7XG4gIH0sIHRoaXMuZ2V0U2lnbmVkRGF0YSA9IGZ1bmN0aW9uKHYpIHtcbiAgICB2YXIgbyA9IHkodiwgMCksIGwgPSB7fSwgZiA9IHModiwgb1swXSksIGQgPSBwYXJzZUludChmLCAxNik7XG4gICAgbC52ZXJzaW9uID0gZDtcbiAgICB2YXIgZyA9IG4odiwgb1sxXSk7XG4gICAgbC5oYXNoYWxncyA9IHRoaXMuZ2V0SGFzaEFsZ0FycmF5KGcpO1xuICAgIHZhciBTID0gbih2LCBvWzJdKTtcbiAgICBsLmVjb250ZW50ID0gdGhpcy5nZXRFQ29udGVudChTKTtcbiAgICB2YXIgYiA9IHUodiwgMCwgW1wiWzBdXCJdKTtcbiAgICBiICE9IG51bGwgJiYgKGwuY2VydHMgPSB0aGlzLmdldENlcnRpZmljYXRlU2V0KGIpKSwgdSh2LCAwLCBbXCJbMV1cIl0pO1xuICAgIHZhciBEID0gdSh2LCAwLCBbM10pO1xuICAgIHJldHVybiBsLnNpbmZvcyA9IHRoaXMuZ2V0U2lnbmVySW5mb3MoRCksIGw7XG4gIH0sIHRoaXMuZ2V0SGFzaEFsZ0FycmF5ID0gZnVuY3Rpb24odikge1xuICAgIGZvciAodmFyIG8gPSB5KHYsIDApLCBsID0gbmV3IHQoKSwgZiA9IFtdLCBkID0gMDsgZCA8IG8ubGVuZ3RoOyBkKyspIHtcbiAgICAgIHZhciBnID0gbih2LCBvW2RdKSwgUyA9IGwuZ2V0QWxnb3JpdGhtSWRlbnRpZmllck5hbWUoZyk7XG4gICAgICBmLnB1c2goUyk7XG4gICAgfVxuICAgIHJldHVybiBmO1xuICB9LCB0aGlzLmdldEVDb250ZW50ID0gZnVuY3Rpb24odikge1xuICAgIHZhciBvID0ge30sIGwgPSBwKHYsIDAsIFswXSksIGYgPSBwKHYsIDAsIFsxLCAwXSk7XG4gICAgcmV0dXJuIG8udHlwZSA9IGEuYXNuMS54NTA5Lk9JRC5vaWQybmFtZShWLmhleHRvb2lkc3RyKGwpKSwgby5jb250ZW50ID0geyBoZXg6IGYgfSwgbztcbiAgfSwgdGhpcy5nZXRTaWduZXJJbmZvcyA9IGZ1bmN0aW9uKHYpIHtcbiAgICBmb3IgKHZhciBvID0gW10sIGwgPSB5KHYsIDApLCBmID0gMDsgZiA8IGwubGVuZ3RoOyBmKyspIHtcbiAgICAgIHZhciBkID0gbih2LCBsW2ZdKSwgZyA9IHRoaXMuZ2V0U2lnbmVySW5mbyhkKTtcbiAgICAgIG8ucHVzaChnKTtcbiAgICB9XG4gICAgcmV0dXJuIG87XG4gIH0sIHRoaXMuZ2V0U2lnbmVySW5mbyA9IGZ1bmN0aW9uKHYpIHtcbiAgICB2YXIgbyA9IHt9LCBsID0geSh2LCAwKSwgZiA9IGkuZ2V0SW50KHYsIGxbMF0sIC0xKTtcbiAgICBmICE9IC0xICYmIChvLnZlcnNpb24gPSBmKTtcbiAgICB2YXIgZCA9IG4odiwgbFsxXSksIGcgPSB0aGlzLmdldElzc3VlckFuZFNlcmlhbE51bWJlcihkKTtcbiAgICBvLmlkID0gZztcbiAgICB2YXIgUyA9IG4odiwgbFsyXSksIGIgPSByLmdldEFsZ29yaXRobUlkZW50aWZpZXJOYW1lKFMpO1xuICAgIG8uaGFzaGFsZyA9IGI7XG4gICAgdmFyIEQgPSB1KHYsIDAsIFtcIlswXVwiXSk7XG4gICAgaWYgKEQgIT0gbnVsbCkge1xuICAgICAgdmFyIEEgPSB0aGlzLmdldEF0dHJpYnV0ZUxpc3QoRCk7XG4gICAgICBvLnNhdHRycyA9IEE7XG4gICAgfVxuICAgIHZhciBJID0gdSh2LCAwLCBbM10pLCBtID0gci5nZXRBbGdvcml0aG1JZGVudGlmaWVyTmFtZShJKTtcbiAgICBvLnNpZ2FsZyA9IG07XG4gICAgdmFyIEUgPSBjKHYsIDAsIFs0XSk7XG4gICAgby5zaWdoZXggPSBFO1xuICAgIHZhciB3ID0gdSh2LCAwLCBbXCJbMV1cIl0pO1xuICAgIGlmICh3ICE9IG51bGwpIHtcbiAgICAgIHZhciB4ID0gdGhpcy5nZXRBdHRyaWJ1dGVMaXN0KHcpO1xuICAgICAgby51YXR0cnMgPSB4O1xuICAgIH1cbiAgICByZXR1cm4gbztcbiAgfSwgdGhpcy5nZXRTaWduZXJJZGVudGlmaWVyID0gZnVuY3Rpb24odikge1xuICAgIGlmICh2LnN1YnN0cigwLCAyKSA9PSBcIjMwXCIpXG4gICAgICByZXR1cm4gdGhpcy5nZXRJc3N1ZXJBbmRTZXJpYWxOdW1iZXIodik7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiU0tJRCBvZiBzaWduZXJJZGVudGlmaWVyIG5vdCBzdXBwb3J0ZWRcIik7XG4gIH0sIHRoaXMuZ2V0SXNzdWVyQW5kU2VyaWFsTnVtYmVyID0gZnVuY3Rpb24odikge1xuICAgIHZhciBvID0geyB0eXBlOiBcImlzc3NuXCIgfSwgbCA9IHkodiwgMCksIGYgPSBuKHYsIGxbMF0pO1xuICAgIG8uaXNzdWVyID0gci5nZXRYNTAwTmFtZShmKTtcbiAgICB2YXIgZCA9IHModiwgbFsxXSk7XG4gICAgcmV0dXJuIG8uc2VyaWFsID0geyBoZXg6IGQgfSwgbztcbiAgfSwgdGhpcy5nZXRBdHRyaWJ1dGVMaXN0ID0gZnVuY3Rpb24odikge1xuICAgIGZvciAodmFyIG8gPSBbXSwgbCA9IHkodiwgMCksIGYgPSAwOyBmIDwgbC5sZW5ndGg7IGYrKykge1xuICAgICAgdmFyIGQgPSBuKHYsIGxbZl0pLCBnID0gdGhpcy5nZXRBdHRyaWJ1dGUoZCk7XG4gICAgICBvLnB1c2goZyk7XG4gICAgfVxuICAgIHJldHVybiB7IGFycmF5OiBvIH07XG4gIH0sIHRoaXMuZ2V0QXR0cmlidXRlID0gZnVuY3Rpb24odikge1xuICAgIHZhciBvID0ge30sIGwgPSB5KHYsIDApLCBmID0gaS5nZXRPSUQodiwgbFswXSksIGQgPSBhLmFzbjEueDUwOS5PSUQub2lkMm5hbWUoZik7XG4gICAgby5hdHRyID0gZDtcbiAgICB2YXIgZyA9IG4odiwgbFsxXSksIFMgPSB5KGcsIDApO1xuICAgIGlmIChTLmxlbmd0aCA9PSAxKVxuICAgICAgby52YWxoZXggPSBuKGcsIFNbMF0pO1xuICAgIGVsc2Uge1xuICAgICAgZm9yICh2YXIgYiA9IFtdLCBEID0gMDsgRCA8IFMubGVuZ3RoOyBEKyspXG4gICAgICAgIGIucHVzaChuKGcsIFNbRF0pKTtcbiAgICAgIG8udmFsaGV4ID0gYjtcbiAgICB9XG4gICAgcmV0dXJuIGQgPT0gXCJjb250ZW50VHlwZVwiID8gdGhpcy5zZXRDb250ZW50VHlwZShvKSA6IGQgPT0gXCJtZXNzYWdlRGlnZXN0XCIgPyB0aGlzLnNldE1lc3NhZ2VEaWdlc3QobykgOiBkID09IFwic2lnbmluZ1RpbWVcIiA/IHRoaXMuc2V0U2lnbmluZ1RpbWUobykgOiBkID09IFwic2lnbmluZ0NlcnRpZmljYXRlXCIgPyB0aGlzLnNldFNpZ25pbmdDZXJ0aWZpY2F0ZShvKSA6IGQgPT0gXCJzaWduaW5nQ2VydGlmaWNhdGVWMlwiID8gdGhpcy5zZXRTaWduaW5nQ2VydGlmaWNhdGVWMihvKSA6IGQgPT0gXCJzaWduYXR1cmVQb2xpY3lJZGVudGlmaWVyXCIgJiYgdGhpcy5zZXRTaWduYXR1cmVQb2xpY3lJZGVudGlmaWVyKG8pLCBvO1xuICB9LCB0aGlzLnNldENvbnRlbnRUeXBlID0gZnVuY3Rpb24odikge1xuICAgIHZhciBvID0gaS5nZXRPSUROYW1lKHYudmFsaGV4LCAwLCBudWxsKTtcbiAgICBvICE9IG51bGwgJiYgKHYudHlwZSA9IG8sIGRlbGV0ZSB2LnZhbGhleCk7XG4gIH0sIHRoaXMuc2V0U2lnbmluZ1RpbWUgPSBmdW5jdGlvbih2KSB7XG4gICAgdmFyIG8gPSBzKHYudmFsaGV4LCAwKSwgbCA9IFcobyk7XG4gICAgdi5zdHIgPSBsLCBkZWxldGUgdi52YWxoZXg7XG4gIH0sIHRoaXMuc2V0TWVzc2FnZURpZ2VzdCA9IGZ1bmN0aW9uKHYpIHtcbiAgICB2YXIgbyA9IHModi52YWxoZXgsIDApO1xuICAgIHYuaGV4ID0gbywgZGVsZXRlIHYudmFsaGV4O1xuICB9LCB0aGlzLnNldFNpZ25pbmdDZXJ0aWZpY2F0ZSA9IGZ1bmN0aW9uKHYpIHtcbiAgICB2YXIgbyA9IHkodi52YWxoZXgsIDApO1xuICAgIGlmIChvLmxlbmd0aCA+IDApIHtcbiAgICAgIGZvciAodmFyIGwgPSBuKHYudmFsaGV4LCBvWzBdKSwgZiA9IHkobCwgMCksIGQgPSBbXSwgZyA9IDA7IGcgPCBmLmxlbmd0aDsgZysrKSB7XG4gICAgICAgIHZhciBTID0gbihsLCBmW2ddKSwgYiA9IHRoaXMuZ2V0RVNTQ2VydElEKFMpO1xuICAgICAgICBkLnB1c2goYik7XG4gICAgICB9XG4gICAgICB2LmFycmF5ID0gZDtcbiAgICB9XG4gICAgaWYgKG8ubGVuZ3RoID4gMSkge1xuICAgICAgdmFyIEQgPSBuKHYudmFsaGV4LCBvWzFdKTtcbiAgICAgIHYucG9saGV4ID0gRDtcbiAgICB9XG4gICAgZGVsZXRlIHYudmFsaGV4O1xuICB9LCB0aGlzLnNldFNpZ25hdHVyZVBvbGljeUlkZW50aWZpZXIgPSBmdW5jdGlvbih2KSB7XG4gICAgdmFyIG8gPSB5KHYudmFsaGV4LCAwKTtcbiAgICBpZiAoby5sZW5ndGggPiAwKSB7XG4gICAgICB2YXIgbCA9IGkuZ2V0T0lEKHYudmFsaGV4LCBvWzBdKTtcbiAgICAgIHYub2lkID0gbDtcbiAgICB9XG4gICAgaWYgKG8ubGVuZ3RoID4gMSkge1xuICAgICAgdmFyIGYgPSBuZXcgdCgpLCBkID0geSh2LnZhbGhleCwgb1sxXSksIGcgPSBuKHYudmFsaGV4LCBkWzBdKSwgUyA9IGYuZ2V0QWxnb3JpdGhtSWRlbnRpZmllck5hbWUoZyk7XG4gICAgICB2LmFsZyA9IFM7XG4gICAgICB2YXIgYiA9IHModi52YWxoZXgsIGRbMV0pO1xuICAgICAgdi5oYXNoID0gYjtcbiAgICB9XG4gICAgZGVsZXRlIHYudmFsaGV4O1xuICB9LCB0aGlzLnNldFNpZ25pbmdDZXJ0aWZpY2F0ZVYyID0gZnVuY3Rpb24odikge1xuICAgIHZhciBvID0geSh2LnZhbGhleCwgMCk7XG4gICAgaWYgKG8ubGVuZ3RoID4gMCkge1xuICAgICAgZm9yICh2YXIgbCA9IG4odi52YWxoZXgsIG9bMF0pLCBmID0geShsLCAwKSwgZCA9IFtdLCBnID0gMDsgZyA8IGYubGVuZ3RoOyBnKyspIHtcbiAgICAgICAgdmFyIFMgPSBuKGwsIGZbZ10pLCBiID0gdGhpcy5nZXRFU1NDZXJ0SUR2MihTKTtcbiAgICAgICAgZC5wdXNoKGIpO1xuICAgICAgfVxuICAgICAgdi5hcnJheSA9IGQ7XG4gICAgfVxuICAgIGlmIChvLmxlbmd0aCA+IDEpIHtcbiAgICAgIHZhciBEID0gbih2LnZhbGhleCwgb1sxXSk7XG4gICAgICB2LnBvbGhleCA9IEQ7XG4gICAgfVxuICAgIGRlbGV0ZSB2LnZhbGhleDtcbiAgfSwgdGhpcy5nZXRFU1NDZXJ0SUQgPSBmdW5jdGlvbih2KSB7XG4gICAgdmFyIG8gPSB7fSwgbCA9IHkodiwgMCk7XG4gICAgaWYgKGwubGVuZ3RoID4gMCkge1xuICAgICAgdmFyIGYgPSBzKHYsIGxbMF0pO1xuICAgICAgby5oYXNoID0gZjtcbiAgICB9XG4gICAgaWYgKGwubGVuZ3RoID4gMSkge1xuICAgICAgdmFyIGQgPSBuKHYsIGxbMV0pLCBnID0gdGhpcy5nZXRJc3N1ZXJTZXJpYWwoZCk7XG4gICAgICBnLnNlcmlhbCAhPSBudWxsICYmIChvLnNlcmlhbCA9IGcuc2VyaWFsKSwgZy5pc3N1ZXIgIT0gbnVsbCAmJiAoby5pc3N1ZXIgPSBnLmlzc3Vlcik7XG4gICAgfVxuICAgIHJldHVybiBvO1xuICB9LCB0aGlzLmdldEVTU0NlcnRJRHYyID0gZnVuY3Rpb24odikge1xuICAgIHZhciBvID0ge30sIGwgPSB5KHYsIDApO1xuICAgIGlmIChsLmxlbmd0aCA8IDEgfHwgMyA8IGwubGVuZ3RoKVxuICAgICAgdGhyb3cgbmV3IGUoXCJ3cm9uZyBudW1iZXIgb2YgZWxlbWVudHNcIik7XG4gICAgdmFyIGYgPSAwO1xuICAgIGlmICh2LnN1YnN0cihsWzBdLCAyKSA9PSBcIjMwXCIpIHtcbiAgICAgIHZhciBkID0gbih2LCBsWzBdKTtcbiAgICAgIG8uYWxnID0gci5nZXRBbGdvcml0aG1JZGVudGlmaWVyTmFtZShkKSwgZisrO1xuICAgIH0gZWxzZVxuICAgICAgby5hbGcgPSBcInNoYTI1NlwiO1xuICAgIHZhciBnID0gcyh2LCBsW2ZdKTtcbiAgICBpZiAoby5oYXNoID0gZywgbC5sZW5ndGggPiBmICsgMSkge1xuICAgICAgdmFyIFMgPSBuKHYsIGxbZiArIDFdKSwgYiA9IHRoaXMuZ2V0SXNzdWVyU2VyaWFsKFMpO1xuICAgICAgby5pc3N1ZXIgPSBiLmlzc3Vlciwgby5zZXJpYWwgPSBiLnNlcmlhbDtcbiAgICB9XG4gICAgcmV0dXJuIG87XG4gIH0sIHRoaXMuZ2V0SXNzdWVyU2VyaWFsID0gZnVuY3Rpb24odikge1xuICAgIHZhciBvID0ge30sIGwgPSB5KHYsIDApLCBmID0gbih2LCBsWzBdKSwgZCA9IHIuZ2V0R2VuZXJhbE5hbWVzKGYpLCBnID0gZFswXS5kbjtcbiAgICBvLmlzc3VlciA9IGc7XG4gICAgdmFyIFMgPSBzKHYsIGxbMV0pO1xuICAgIHJldHVybiBvLnNlcmlhbCA9IHsgaGV4OiBTIH0sIG87XG4gIH0sIHRoaXMuZ2V0Q2VydGlmaWNhdGVTZXQgPSBmdW5jdGlvbih2KSB7XG4gICAgZm9yICh2YXIgbyA9IHkodiwgMCksIGwgPSBbXSwgZiA9IDA7IGYgPCBvLmxlbmd0aDsgZisrKSB7XG4gICAgICB2YXIgZCA9IG4odiwgb1tmXSk7XG4gICAgICBpZiAoZC5zdWJzdHIoMCwgMikgPT0gXCIzMFwiKSB7XG4gICAgICAgIHZhciBnID0gZGUoZCwgXCJDRVJUSUZJQ0FURVwiKTtcbiAgICAgICAgbC5wdXNoKGcpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4geyBhcnJheTogbCwgc29ydGZsYWc6ICExIH07XG4gIH07XG59O1xuKHR5cGVvZiBhID4gXCJ1XCIgfHwgIWEpICYmIChhID0ge30pO1xuKHR5cGVvZiBhLmFzbjEgPiBcInVcIiB8fCAhYS5hc24xKSAmJiAoYS5hc24xID0ge30pO1xuKHR5cGVvZiBhLmFzbjEudHNwID4gXCJ1XCIgfHwgIWEuYXNuMS50c3ApICYmIChhLmFzbjEudHNwID0ge30pO1xuYS5hc24xLnRzcC5UaW1lU3RhbXBUb2tlbiA9IGZ1bmN0aW9uKGUpIHtcbiAgdmFyIHQgPSBhLCByID0gdC5hc24xLCBpID0gci50c3A7XG4gIGkuVGltZVN0YW1wVG9rZW4uc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpLCB0aGlzLnBhcmFtcyA9IG51bGwsIHRoaXMuZ2V0RW5jb2RlZEhleFByZXBhcmUgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgcyA9IG5ldyBpLlRTVEluZm8odGhpcy5wYXJhbXMuZWNvbnRlbnQuY29udGVudCk7XG4gICAgdGhpcy5wYXJhbXMuZWNvbnRlbnQuY29udGVudC5oZXggPSBzLnRvaGV4KCk7XG4gIH0sIGUgIT0gbnVsbCAmJiB0aGlzLnNldEJ5UGFyYW0oZSk7XG59O1xuTihhLmFzbjEudHNwLlRpbWVTdGFtcFRva2VuLCBhLmFzbjEuY21zLlNpZ25lZERhdGEpO1xuYS5hc24xLnRzcC5UU1RJbmZvID0gZnVuY3Rpb24oZSkge1xuICB2YXIgdCA9IGEsIHIgPSB0LmFzbjEsIGkgPSByLkRFUlNlcXVlbmNlLCBzID0gci5ERVJJbnRlZ2VyLCBuID0gci5ERVJCb29sZWFuLCBoID0gci5ERVJHZW5lcmFsaXplZFRpbWUsIHUgPSByLkRFUk9iamVjdElkZW50aWZpZXIsIHAgPSByLkRFUlRhZ2dlZE9iamVjdCwgYyA9IHIudHNwLCB5ID0gYy5NZXNzYWdlSW1wcmludCwgdiA9IGMuQWNjdXJhY3k7XG4gIHIueDUwOS5YNTAwTmFtZTtcbiAgdmFyIG8gPSByLng1MDkuR2VuZXJhbE5hbWU7XG4gIGlmIChjLlRTVEluZm8uc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpLCB0aGlzLmRWZXJzaW9uID0gbmV3IHMoeyBpbnQ6IDEgfSksIHRoaXMuZFBvbGljeSA9IG51bGwsIHRoaXMuZE1lc3NhZ2VJbXByaW50ID0gbnVsbCwgdGhpcy5kU2VyaWFsID0gbnVsbCwgdGhpcy5kR2VuVGltZSA9IG51bGwsIHRoaXMuZEFjY3VyYWN5ID0gbnVsbCwgdGhpcy5kT3JkZXJpbmcgPSBudWxsLCB0aGlzLmROb25jZSA9IG51bGwsIHRoaXMuZFRzYSA9IG51bGwsIHRoaXMudG9oZXggPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgbCA9IFt0aGlzLmRWZXJzaW9uXTtcbiAgICBpZiAodGhpcy5kUG9saWN5ID09IG51bGwpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJwb2xpY3kgc2hhbGwgYmUgc3BlY2lmaWVkLlwiKTtcbiAgICBpZiAobC5wdXNoKHRoaXMuZFBvbGljeSksIHRoaXMuZE1lc3NhZ2VJbXByaW50ID09IG51bGwpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJtZXNzYWdlSW1wcmludCBzaGFsbCBiZSBzcGVjaWZpZWQuXCIpO1xuICAgIGlmIChsLnB1c2godGhpcy5kTWVzc2FnZUltcHJpbnQpLCB0aGlzLmRTZXJpYWwgPT0gbnVsbClcbiAgICAgIHRocm93IG5ldyBFcnJvcihcInNlcmlhbE51bWJlciBzaGFsbCBiZSBzcGVjaWZpZWQuXCIpO1xuICAgIGlmIChsLnB1c2godGhpcy5kU2VyaWFsKSwgdGhpcy5kR2VuVGltZSA9PSBudWxsKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiZ2VuVGltZSBzaGFsbCBiZSBzcGVjaWZpZWQuXCIpO1xuICAgIGwucHVzaCh0aGlzLmRHZW5UaW1lKSwgdGhpcy5kQWNjdXJhY3kgIT0gbnVsbCAmJiBsLnB1c2godGhpcy5kQWNjdXJhY3kpLCB0aGlzLmRPcmRlcmluZyAhPSBudWxsICYmIGwucHVzaCh0aGlzLmRPcmRlcmluZyksIHRoaXMuZE5vbmNlICE9IG51bGwgJiYgbC5wdXNoKHRoaXMuZE5vbmNlKSwgdGhpcy5kVHNhICE9IG51bGwgJiYgbC5wdXNoKHRoaXMuZFRzYSk7XG4gICAgdmFyIGYgPSBuZXcgaSh7IGFycmF5OiBsIH0pO1xuICAgIHJldHVybiB0aGlzLmhUTFYgPSBmLnRvaGV4KCksIHRoaXMuaFRMVjtcbiAgfSwgdGhpcy5nZXRFbmNvZGVkSGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMudG9oZXgoKTtcbiAgfSwgZSAhPT0gdm9pZCAwKSB7XG4gICAgaWYgKHR5cGVvZiBlLnBvbGljeSA9PSBcInN0cmluZ1wiKSB7XG4gICAgICBpZiAoIWUucG9saWN5Lm1hdGNoKC9eWzAtOS5dKyQvKSlcbiAgICAgICAgdGhyb3cgXCJwb2xpY3kgc2hhbGwgYmUgb2lkIGxpa2UgMC4xLjQuMTM0XCI7XG4gICAgICB0aGlzLmRQb2xpY3kgPSBuZXcgdSh7IG9pZDogZS5wb2xpY3kgfSk7XG4gICAgfVxuICAgIGUubWVzc2FnZUltcHJpbnQgIT09IHZvaWQgMCAmJiAodGhpcy5kTWVzc2FnZUltcHJpbnQgPSBuZXcgeShlLm1lc3NhZ2VJbXByaW50KSksIGUuc2VyaWFsICE9PSB2b2lkIDAgJiYgKHRoaXMuZFNlcmlhbCA9IG5ldyBzKGUuc2VyaWFsKSksIGUuZ2VuVGltZSAhPT0gdm9pZCAwICYmICh0aGlzLmRHZW5UaW1lID0gbmV3IGgoZS5nZW5UaW1lKSksIGUuYWNjdXJhY3kgIT09IHZvaWQgMCAmJiAodGhpcy5kQWNjdXJhY3kgPSBuZXcgdihlLmFjY3VyYWN5KSksIGUub3JkZXJpbmcgIT09IHZvaWQgMCAmJiBlLm9yZGVyaW5nID09ICEwICYmICh0aGlzLmRPcmRlcmluZyA9IG5ldyBuKCkpLCBlLm5vbmNlICE9PSB2b2lkIDAgJiYgKHRoaXMuZE5vbmNlID0gbmV3IHMoZS5ub25jZSkpLCBlLnRzYSAhPT0gdm9pZCAwICYmICh0aGlzLmRUc2EgPSBuZXcgcCh7IHRhZzogXCJhMFwiLCBleHBsaWNpdDogITAsIG9iajogbmV3IG8oeyBkbjogZS50c2EgfSkgfSkpO1xuICB9XG59O1xuTihhLmFzbjEudHNwLlRTVEluZm8sIGEuYXNuMS5BU04xT2JqZWN0KTtcbmEuYXNuMS50c3AuQWNjdXJhY3kgPSBmdW5jdGlvbihlKSB7XG4gIHZhciB0ID0gYSwgciA9IHQuYXNuMSwgaSA9IHIuQVNOMVV0aWwubmV3T2JqZWN0O1xuICByLnRzcC5BY2N1cmFjeS5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyksIHRoaXMucGFyYW1zID0gbnVsbCwgdGhpcy50b2hleCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBzID0gdGhpcy5wYXJhbXMsIG4gPSBbXTtcbiAgICByZXR1cm4gcy5zZWNvbmRzICE9IG51bGwgJiYgdHlwZW9mIHMuc2Vjb25kcyA9PSBcIm51bWJlclwiICYmIG4ucHVzaCh7IGludDogcy5zZWNvbmRzIH0pLCBzLm1pbGxpcyAhPSBudWxsICYmIHR5cGVvZiBzLm1pbGxpcyA9PSBcIm51bWJlclwiICYmIG4ucHVzaCh7IHRhZzogeyB0YWdpOiBcIjgwXCIsIG9iajogeyBpbnQ6IHMubWlsbGlzIH0gfSB9KSwgcy5taWNyb3MgIT0gbnVsbCAmJiB0eXBlb2Ygcy5taWNyb3MgPT0gXCJudW1iZXJcIiAmJiBuLnB1c2goeyB0YWc6IHsgdGFnaTogXCI4MVwiLCBvYmo6IHsgaW50OiBzLm1pY3JvcyB9IH0gfSksIGkoeyBzZXE6IG4gfSkudG9oZXgoKTtcbiAgfSwgdGhpcy5nZXRFbmNvZGVkSGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMudG9oZXgoKTtcbiAgfSwgZSAhPSBudWxsICYmIHRoaXMuc2V0QnlQYXJhbShlKTtcbn07XG5OKGEuYXNuMS50c3AuQWNjdXJhY3ksIGEuYXNuMS5BU04xT2JqZWN0KTtcbmEuYXNuMS50c3AuTWVzc2FnZUltcHJpbnQgPSBmdW5jdGlvbihlKSB7XG4gIHZhciB0ID0gYSwgciA9IHQuYXNuMSwgaSA9IHIuREVSU2VxdWVuY2UsIHMgPSByLkRFUk9jdGV0U3RyaW5nLCBuID0gci54NTA5LCBoID0gbi5BbGdvcml0aG1JZGVudGlmaWVyO1xuICByLnRzcC5NZXNzYWdlSW1wcmludC5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyksIHRoaXMucGFyYW1zID0gbnVsbCwgdGhpcy50b2hleCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciB1ID0gdGhpcy5wYXJhbXMsIHAgPSBuZXcgaCh7IG5hbWU6IHUuYWxnIH0pLCBjID0gbmV3IHMoeyBoZXg6IHUuaGFzaCB9KSwgeSA9IG5ldyBpKHsgYXJyYXk6IFtwLCBjXSB9KTtcbiAgICByZXR1cm4geS50b2hleCgpO1xuICB9LCB0aGlzLmdldEVuY29kZWRIZXggPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy50b2hleCgpO1xuICB9LCBlICE9PSB2b2lkIDAgJiYgdGhpcy5zZXRCeVBhcmFtKGUpO1xufTtcbk4oYS5hc24xLnRzcC5NZXNzYWdlSW1wcmludCwgYS5hc24xLkFTTjFPYmplY3QpO1xuYS5hc24xLnRzcC5UaW1lU3RhbXBSZXEgPSBmdW5jdGlvbihlKSB7XG4gIHZhciB0ID0gYSwgciA9IHQuYXNuMSwgaSA9IHIuREVSU2VxdWVuY2UsIHMgPSByLkRFUkludGVnZXIsIG4gPSByLkRFUkJvb2xlYW47XG4gIHIuQVNOMU9iamVjdDtcbiAgdmFyIGggPSByLkRFUk9iamVjdElkZW50aWZpZXIsIHUgPSByLnRzcCwgcCA9IHUuTWVzc2FnZUltcHJpbnQ7XG4gIHUuVGltZVN0YW1wUmVxLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzKSwgdGhpcy5wYXJhbXMgPSBudWxsLCB0aGlzLnRvaGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGMgPSB0aGlzLnBhcmFtcywgeSA9IFtdO1xuICAgIHkucHVzaChuZXcgcyh7IGludDogMSB9KSksIGMubWVzc2FnZUltcHJpbnQgaW5zdGFuY2VvZiBhLmFzbjEuQVNOMU9iamVjdCA/IHkucHVzaChjLm1lc3NhZ2VJbXByaW50KSA6IHkucHVzaChuZXcgcChjLm1lc3NhZ2VJbXByaW50KSksIGMucG9saWN5ICE9IG51bGwgJiYgeS5wdXNoKG5ldyBoKGMucG9saWN5KSksIGMubm9uY2UgIT0gbnVsbCAmJiB5LnB1c2gobmV3IHMoYy5ub25jZSkpLCBjLmNlcnRyZXEgPT0gITAgJiYgeS5wdXNoKG5ldyBuKCkpO1xuICAgIHZhciB2ID0gbmV3IGkoeyBhcnJheTogeSB9KTtcbiAgICByZXR1cm4gdi50b2hleCgpO1xuICB9LCB0aGlzLmdldEVuY29kZWRIZXggPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy50b2hleCgpO1xuICB9LCBlICE9IG51bGwgJiYgdGhpcy5zZXRCeVBhcmFtKGUpO1xufTtcbk4oYS5hc24xLnRzcC5UaW1lU3RhbXBSZXEsIGEuYXNuMS5BU04xT2JqZWN0KTtcbmEuYXNuMS50c3AuVGltZVN0YW1wUmVzcCA9IGZ1bmN0aW9uKGUpIHtcbiAgdmFyIHQgPSBhLCByID0gdC5hc24xLCBpID0gci5ERVJTZXF1ZW5jZTtcbiAgci5BU04xT2JqZWN0O1xuICB2YXIgcyA9IHIudHNwLCBuID0gcy5QS0lTdGF0dXNJbmZvO1xuICBzLlRpbWVTdGFtcFJlc3Auc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpLCB0aGlzLnBhcmFtcyA9IG51bGwsIHRoaXMudG9oZXggPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgaCA9IHRoaXMucGFyYW1zLCB1ID0gW107XG4gICAgaWYgKGguZWNvbnRlbnQgIT0gbnVsbCB8fCBoLnRzdCAhPSBudWxsKVxuICAgICAgaWYgKGguc3RhdHVzaW5mbyAhPSBudWxsID8gdS5wdXNoKG5ldyBuKGguc3RhdHVzaW5mbykpIDogdS5wdXNoKG5ldyBuKFwiZ3JhbnRlZFwiKSksIGguZWNvbnRlbnQgIT0gbnVsbClcbiAgICAgICAgdS5wdXNoKG5ldyBzLlRpbWVTdGFtcFRva2VuKGgpLmdldENvbnRlbnRJbmZvKCkpO1xuICAgICAgZWxzZSBpZiAoaC50c3QgaW5zdGFuY2VvZiByLkFTTjFPYmplY3QpXG4gICAgICAgIHUucHVzaChoLnRzdCk7XG4gICAgICBlbHNlXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcImltcHJvcGVyIG1lbWJlciB0c3QgdmFsdWVcIik7XG4gICAgZWxzZSBpZiAoaC5zdGF0dXNpbmZvICE9IG51bGwpXG4gICAgICB1LnB1c2gobmV3IG4oaC5zdGF0dXNpbmZvKSk7XG4gICAgZWxzZVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwicGFyYW1ldGVyIGZvciB0b2tlbiBub3Igc3RhdHVzaW5mbyBub3Qgc3BlY2lmaWVkXCIpO1xuICAgIHZhciBwID0gbmV3IGkoeyBhcnJheTogdSB9KTtcbiAgICByZXR1cm4gcC50b2hleCgpO1xuICB9LCB0aGlzLmdldEVuY29kZWRIZXggPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy50b2hleCgpO1xuICB9LCBlICE9IG51bGwgJiYgdGhpcy5zZXRCeVBhcmFtKGUpO1xufTtcbk4oYS5hc24xLnRzcC5UaW1lU3RhbXBSZXNwLCBhLmFzbjEuQVNOMU9iamVjdCk7XG5hLmFzbjEudHNwLlBLSVN0YXR1c0luZm8gPSBmdW5jdGlvbihlKSB7XG4gIHZhciB0ID0gRXJyb3IsIHIgPSBhLCBpID0gci5hc24xLCBzID0gaS5ERVJTZXF1ZW5jZSwgbiA9IGkudHNwLCBoID0gbi5QS0lTdGF0dXMsIHUgPSBuLlBLSUZyZWVUZXh0LCBwID0gbi5QS0lGYWlsdXJlSW5mbztcbiAgbi5QS0lTdGF0dXNJbmZvLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzKSwgdGhpcy5wYXJhbXMgPSBudWxsLCB0aGlzLnRvaGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGMgPSB0aGlzLnBhcmFtcywgeSA9IFtdO1xuICAgIGlmICh0eXBlb2YgYyA9PSBcInN0cmluZ1wiKVxuICAgICAgeS5wdXNoKG5ldyBoKGMpKTtcbiAgICBlbHNlIHtcbiAgICAgIGlmIChjLnN0YXR1cyA9PSBudWxsKVxuICAgICAgICB0aHJvdyBuZXcgdChcInByb3BlcnR5ICdzdGF0dXMnIHVuc3BlY2lmaWVkXCIpO1xuICAgICAgeS5wdXNoKG5ldyBoKGMuc3RhdHVzKSksIGMuc3RhdHVzc3RyICE9IG51bGwgJiYgeS5wdXNoKG5ldyB1KGMuc3RhdHVzc3RyKSksIGMuZmFpbGluZm8gIT0gbnVsbCAmJiB5LnB1c2gobmV3IHAoYy5mYWlsaW5mbykpO1xuICAgIH1cbiAgICB2YXIgdiA9IG5ldyBzKHsgYXJyYXk6IHkgfSk7XG4gICAgcmV0dXJuIHYudG9oZXgoKTtcbiAgfSwgdGhpcy5nZXRFbmNvZGVkSGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMudG9oZXgoKTtcbiAgfSwgZSAhPSBudWxsICYmIHRoaXMuc2V0QnlQYXJhbShlKTtcbn07XG5OKGEuYXNuMS50c3AuUEtJU3RhdHVzSW5mbywgYS5hc24xLkFTTjFPYmplY3QpO1xuYS5hc24xLnRzcC5QS0lTdGF0dXMgPSBmdW5jdGlvbihlKSB7XG4gIHZhciB0ID0gRXJyb3IsIHIgPSBhLCBpID0gci5hc24xLCBzID0gaS5ERVJJbnRlZ2VyLCBuID0gaS50c3A7XG4gIG4uUEtJU3RhdHVzLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzKTtcbiAgdmFyIGggPSB7IGdyYW50ZWQ6IDAsIGdyYW50ZWRXaXRoTW9kczogMSwgcmVqZWN0aW9uOiAyLCB3YWl0aW5nOiAzLCByZXZvY2F0aW9uV2FybmluZzogNCwgcmV2b2NhdGlvbk5vdGlmaWNhdGlvbjogNSB9O1xuICB0aGlzLnBhcmFtcyA9IG51bGwsIHRoaXMudG9oZXggPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgdSA9IHRoaXMucGFyYW1zLCBwO1xuICAgIGlmICh0eXBlb2YgdSA9PSBcInN0cmluZ1wiKVxuICAgICAgdHJ5IHtcbiAgICAgICAgcCA9IGhbdV07XG4gICAgICB9IGNhdGNoIHtcbiAgICAgICAgdGhyb3cgbmV3IHQoXCJ1bmRlZmluZWQgbmFtZTogXCIgKyB1KTtcbiAgICAgIH1cbiAgICBlbHNlIGlmICh0eXBlb2YgdSA9PSBcIm51bWJlclwiKVxuICAgICAgcCA9IHU7XG4gICAgZWxzZVxuICAgICAgdGhyb3cgbmV3IHQoXCJ1bnN1cHBvcnRlZCBwYXJhbXNcIik7XG4gICAgcmV0dXJuIG5ldyBzKHsgaW50OiBwIH0pLnRvaGV4KCk7XG4gIH0sIHRoaXMuZ2V0RW5jb2RlZEhleCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLnRvaGV4KCk7XG4gIH0sIGUgIT0gbnVsbCAmJiB0aGlzLnNldEJ5UGFyYW0oZSk7XG59O1xuTihhLmFzbjEudHNwLlBLSVN0YXR1cywgYS5hc24xLkFTTjFPYmplY3QpO1xuYS5hc24xLnRzcC5QS0lGcmVlVGV4dCA9IGZ1bmN0aW9uKGUpIHtcbiAgdmFyIHQgPSBFcnJvciwgciA9IGEsIGkgPSByLmFzbjEsIHMgPSBpLkRFUlNlcXVlbmNlLCBuID0gaS5ERVJVVEY4U3RyaW5nLCBoID0gaS50c3A7XG4gIGguUEtJRnJlZVRleHQuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpLCB0aGlzLnBhcmFtcyA9IG51bGwsIHRoaXMudG9oZXggPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgdSA9IHRoaXMucGFyYW1zO1xuICAgIGlmICghdSBpbnN0YW5jZW9mIEFycmF5KVxuICAgICAgdGhyb3cgbmV3IHQoXCJ3cm9uZyBwYXJhbXM6IG5vdCBhcnJheVwiKTtcbiAgICBmb3IgKHZhciBwID0gW10sIGMgPSAwOyBjIDwgdS5sZW5ndGg7IGMrKylcbiAgICAgIHAucHVzaChuZXcgbih7IHN0cjogdVtjXSB9KSk7XG4gICAgdmFyIHkgPSBuZXcgcyh7IGFycmF5OiBwIH0pO1xuICAgIHJldHVybiB5LnRvaGV4KCk7XG4gIH0sIHRoaXMuZ2V0RW5jb2RlZEhleCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLnRvaGV4KCk7XG4gIH0sIGUgIT0gbnVsbCAmJiB0aGlzLnNldEJ5UGFyYW0oZSk7XG59O1xuTihhLmFzbjEudHNwLlBLSUZyZWVUZXh0LCBhLmFzbjEuQVNOMU9iamVjdCk7XG5hLmFzbjEudHNwLlBLSUZhaWx1cmVJbmZvID0gZnVuY3Rpb24oZSkge1xuICB2YXIgdCA9IEVycm9yLCByID0gYSwgaSA9IHIuYXNuMSwgcyA9IGkuREVSQml0U3RyaW5nLCBuID0gaS50c3AsIGggPSBuLlBLSUZhaWx1cmVJbmZvLCB1ID0geyBiYWRBbGc6IDAsIGJhZFJlcXVlc3Q6IDIsIGJhZERhdGFGb3JtYXQ6IDUsIHRpbWVOb3RBdmFpbGFibGU6IDE0LCB1bmFjY2VwdGVkUG9saWN5OiAxNSwgdW5hY2NlcHRlZEV4dGVuc2lvbjogMTYsIGFkZEluZm9Ob3RBdmFpbGFibGU6IDE3LCBzeXN0ZW1GYWlsdXJlOiAyNSB9O1xuICBoLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzKSwgdGhpcy5wYXJhbXMgPSBudWxsLCB0aGlzLmdldEJpblZhbHVlID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHAgPSB0aGlzLnBhcmFtcywgYyA9IDA7XG4gICAgaWYgKHR5cGVvZiBwID09IFwibnVtYmVyXCIgJiYgMCA8PSBwICYmIHAgPD0gMjUpIHtcbiAgICAgIGMgfD0gMSA8PCBwO1xuICAgICAgZm9yICh2YXIgeSA9IGMudG9TdHJpbmcoMiksIHYgPSBcIlwiLCBvID0geS5sZW5ndGggLSAxOyBvID49IDA7IG8tLSlcbiAgICAgICAgdiArPSB5W29dO1xuICAgICAgcmV0dXJuIHY7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICh0eXBlb2YgcCA9PSBcInN0cmluZ1wiICYmIHVbcF0gIT0gbnVsbClcbiAgICAgICAgcmV0dXJuIHJ0KFtwXSwgdSk7XG4gICAgICBpZiAodHlwZW9mIHAgPT0gXCJvYmplY3RcIiAmJiBwLmxlbmd0aCAhPSBudWxsKVxuICAgICAgICByZXR1cm4gcnQocCwgdSk7XG4gICAgICB0aHJvdyBuZXcgdChcIndyb25nIHBhcmFtc1wiKTtcbiAgICB9XG4gIH0sIHRoaXMudG9oZXggPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLnBhcmFtcztcbiAgICB2YXIgcCA9IHRoaXMuZ2V0QmluVmFsdWUoKTtcbiAgICByZXR1cm4gbmV3IHMoeyBiaW46IHAgfSkudG9oZXgoKTtcbiAgfSwgdGhpcy5nZXRFbmNvZGVkSGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMudG9oZXgoKTtcbiAgfSwgZSAhPSBudWxsICYmIHRoaXMuc2V0QnlQYXJhbShlKTtcbn07XG5OKGEuYXNuMS50c3AuUEtJRmFpbHVyZUluZm8sIGEuYXNuMS5BU04xT2JqZWN0KTtcbmEuYXNuMS50c3AuQWJzdHJhY3RUU0FBZGFwdGVyID0gZnVuY3Rpb24oZSkge1xuICB0aGlzLmdldFRTVEhleCA9IGZ1bmN0aW9uKHQsIHIpIHtcbiAgICB0aHJvdyBcIm5vdCBpbXBsZW1lbnRlZCB5ZXRcIjtcbiAgfTtcbn07XG5hLmFzbjEudHNwLlNpbXBsZVRTQUFkYXB0ZXIgPSBmdW5jdGlvbihlKSB7XG4gIHZhciB0ID0gYSwgciA9IHQuYXNuMSwgaSA9IHIudHNwLCBzID0gdC5jcnlwdG8uVXRpbC5oYXNoSGV4O1xuICBpLlNpbXBsZVRTQUFkYXB0ZXIuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpLCB0aGlzLnBhcmFtcyA9IG51bGwsIHRoaXMuc2VyaWFsID0gMCwgdGhpcy5nZXRUU1RIZXggPSBmdW5jdGlvbihuLCBoKSB7XG4gICAgdmFyIHUgPSBzKG4sIGgpO1xuICAgIHRoaXMucGFyYW1zLmVjb250ZW50LmNvbnRlbnQubWVzc2FnZUltcHJpbnQgPSB7IGFsZzogaCwgaGFzaDogdSB9LCB0aGlzLnBhcmFtcy5lY29udGVudC5jb250ZW50LnNlcmlhbCA9IHsgaW50OiB0aGlzLnNlcmlhbCsrIH07XG4gICAgdmFyIHAgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxZTkpO1xuICAgIHRoaXMucGFyYW1zLmVjb250ZW50LmNvbnRlbnQubm9uY2UgPSB7IGludDogcCB9O1xuICAgIHZhciBjID0gbmV3IGkuVGltZVN0YW1wVG9rZW4odGhpcy5wYXJhbXMpO1xuICAgIHJldHVybiBjLmdldENvbnRlbnRJbmZvRW5jb2RlZEhleCgpO1xuICB9LCBlICE9PSB2b2lkIDAgJiYgKHRoaXMucGFyYW1zID0gZSk7XG59O1xuTihhLmFzbjEudHNwLlNpbXBsZVRTQUFkYXB0ZXIsIGEuYXNuMS50c3AuQWJzdHJhY3RUU0FBZGFwdGVyKTtcbmEuYXNuMS50c3AuRml4ZWRUU0FBZGFwdGVyID0gZnVuY3Rpb24oZSkge1xuICB2YXIgdCA9IGEsIHIgPSB0LmFzbjEsIGkgPSByLnRzcCwgcyA9IHQuY3J5cHRvLlV0aWwuaGFzaEhleDtcbiAgaS5GaXhlZFRTQUFkYXB0ZXIuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpLCB0aGlzLnBhcmFtcyA9IG51bGwsIHRoaXMuZ2V0VFNUSGV4ID0gZnVuY3Rpb24obiwgaCkge1xuICAgIHZhciB1ID0gcyhuLCBoKTtcbiAgICB0aGlzLnBhcmFtcy5lY29udGVudC5jb250ZW50Lm1lc3NhZ2VJbXByaW50ID0geyBhbGc6IGgsIGhhc2g6IHUgfTtcbiAgICB2YXIgcCA9IG5ldyBpLlRpbWVTdGFtcFRva2VuKHRoaXMucGFyYW1zKTtcbiAgICByZXR1cm4gcC5nZXRDb250ZW50SW5mb0VuY29kZWRIZXgoKTtcbiAgfSwgZSAhPT0gdm9pZCAwICYmICh0aGlzLnBhcmFtcyA9IGUpO1xufTtcbk4oYS5hc24xLnRzcC5GaXhlZFRTQUFkYXB0ZXIsIGEuYXNuMS50c3AuQWJzdHJhY3RUU0FBZGFwdGVyKTtcbmEuYXNuMS50c3AuVFNQVXRpbCA9IG5ldyBmdW5jdGlvbigpIHtcbn0oKTtcbmEuYXNuMS50c3AuVFNQVXRpbC5uZXdUaW1lU3RhbXBUb2tlbiA9IGZ1bmN0aW9uKGUpIHtcbiAgcmV0dXJuIG5ldyBhLmFzbjEudHNwLlRpbWVTdGFtcFRva2VuKGUpO1xufTtcbmEuYXNuMS50c3AuVFNQVXRpbC5wYXJzZVRpbWVTdGFtcFJlcSA9IGZ1bmN0aW9uKGUpIHtcbiAgdmFyIHQgPSBuZXcgYS5hc24xLnRzcC5UU1BQYXJzZXIoKTtcbiAgcmV0dXJuIHQuZ2V0VGltZVN0YW1wUmVxKGUpO1xufTtcbmEuYXNuMS50c3AuVFNQVXRpbC5wYXJzZU1lc3NhZ2VJbXByaW50ID0gZnVuY3Rpb24oZSkge1xuICB2YXIgdCA9IG5ldyBhLmFzbjEudHNwLlRTUFBhcnNlcigpO1xuICByZXR1cm4gdC5nZXRNZXNzYWdlSW1wcmludChlKTtcbn07XG5hLmFzbjEudHNwLlRTUFBhcnNlciA9IGZ1bmN0aW9uKCkge1xuICB2YXIgZSA9IEwsIHQgPSBuZXcgZSgpLCByID0gViwgaSA9IHIuZ2V0ViwgcyA9IHIuZ2V0VExWLCBuID0gci5nZXRJZHhieUxpc3Q7XG4gIHIuZ2V0VExWYnlMaXN0RXg7XG4gIHZhciBoID0gci5nZXRDaGlsZElkeCwgdSA9IFtcImdyYW50ZWRcIiwgXCJncmFudGVkV2l0aE1vZHNcIiwgXCJyZWplY3Rpb25cIiwgXCJ3YWl0aW5nXCIsIFwicmV2b2NhdGlvbldhcm5pbmdcIiwgXCJyZXZvY2F0aW9uTm90aWZpY2F0aW9uXCJdLCBwID0geyAwOiBcImJhZEFsZ1wiLCAyOiBcImJhZFJlcXVlc3RcIiwgNTogXCJiYWREYXRhRm9ybWF0XCIsIDE0OiBcInRpbWVOb3RBdmFpbGFibGVcIiwgMTU6IFwidW5hY2NlcHRlZFBvbGljeVwiLCAxNjogXCJ1bmFjY2VwdGVkRXh0ZW5zaW9uXCIsIDE3OiBcImFkZEluZm9Ob3RBdmFpbGFibGVcIiwgMjU6IFwic3lzdGVtRmFpbHVyZVwiIH07XG4gIHRoaXMuZ2V0UmVzcG9uc2UgPSBmdW5jdGlvbihjKSB7XG4gICAgdmFyIHkgPSBoKGMsIDApO1xuICAgIGlmICh5Lmxlbmd0aCA9PSAxKVxuICAgICAgcmV0dXJuIHRoaXMuZ2V0UEtJU3RhdHVzSW5mbyhzKGMsIHlbMF0pKTtcbiAgICBpZiAoeS5sZW5ndGggPiAxKSB7XG4gICAgICB2YXIgdiA9IHRoaXMuZ2V0UEtJU3RhdHVzSW5mbyhzKGMsIHlbMF0pKSwgbyA9IHMoYywgeVsxXSksIGwgPSB0aGlzLmdldFRva2VuKG8pO1xuICAgICAgcmV0dXJuIGwuc3RhdHVzaW5mbyA9IHYsIGw7XG4gICAgfVxuICB9LCB0aGlzLmdldFRva2VuID0gZnVuY3Rpb24oYykge1xuICAgIHZhciB5ID0gbmV3IGEuYXNuMS5jbXMuQ01TUGFyc2VyKCksIHYgPSB5LmdldENNU1NpZ25lZERhdGEoYyk7XG4gICAgcmV0dXJuIHRoaXMuc2V0VFNUSW5mbyh2KSwgdjtcbiAgfSwgdGhpcy5zZXRUU1RJbmZvID0gZnVuY3Rpb24oYykge1xuICAgIHZhciB5ID0gYy5lY29udGVudDtcbiAgICBpZiAoeS50eXBlID09IFwidHN0aW5mb1wiKSB7XG4gICAgICB2YXIgdiA9IHkuY29udGVudC5oZXgsIG8gPSB0aGlzLmdldFRTVEluZm8odik7XG4gICAgICB5LmNvbnRlbnQgPSBvO1xuICAgIH1cbiAgfSwgdGhpcy5nZXRUU1RJbmZvID0gZnVuY3Rpb24oYykge1xuICAgIHZhciB5ID0ge30sIHYgPSBoKGMsIDApLCBvID0gaShjLCB2WzFdKTtcbiAgICB5LnBvbGljeSA9IGZ0KG8pO1xuICAgIHZhciBsID0gcyhjLCB2WzJdKTtcbiAgICB5Lm1lc3NhZ2VJbXByaW50ID0gdGhpcy5nZXRNZXNzYWdlSW1wcmludChsKTtcbiAgICB2YXIgZiA9IGkoYywgdlszXSk7XG4gICAgeS5zZXJpYWwgPSB7IGhleDogZiB9O1xuICAgIHZhciBkID0gaShjLCB2WzRdKTtcbiAgICB5LmdlblRpbWUgPSB7IHN0cjogVyhkKSB9O1xuICAgIHZhciBnID0gMDtcbiAgICBpZiAodi5sZW5ndGggPiA1ICYmIGMuc3Vic3RyKHZbNV0sIDIpID09IFwiMzBcIikge1xuICAgICAgdmFyIFMgPSBzKGMsIHZbNV0pO1xuICAgICAgeS5hY2N1cmFjeSA9IHRoaXMuZ2V0QWNjdXJhY3koUyksIGcrKztcbiAgICB9XG4gICAgaWYgKHYubGVuZ3RoID4gNSArIGcgJiYgYy5zdWJzdHIodls1ICsgZ10sIDIpID09IFwiMDFcIikge1xuICAgICAgdmFyIGIgPSBpKGMsIHZbNSArIGddKTtcbiAgICAgIGIgPT0gXCJmZlwiICYmICh5Lm9yZGVyaW5nID0gITApLCBnKys7XG4gICAgfVxuICAgIGlmICh2Lmxlbmd0aCA+IDUgKyBnICYmIGMuc3Vic3RyKHZbNSArIGddLCAyKSA9PSBcIjAyXCIpIHtcbiAgICAgIHZhciBEID0gaShjLCB2WzUgKyBnXSk7XG4gICAgICB5Lm5vbmNlID0geyBoZXg6IEQgfSwgZysrO1xuICAgIH1cbiAgICBpZiAodi5sZW5ndGggPiA1ICsgZyAmJiBjLnN1YnN0cih2WzUgKyBnXSwgMikgPT0gXCJhMFwiKSB7XG4gICAgICB2YXIgQSA9IHMoYywgdls1ICsgZ10pO1xuICAgICAgQSA9IFwiMzBcIiArIEEuc3Vic3RyKDIpLCBwR2VuZXJhbE5hbWVzID0gdC5nZXRHZW5lcmFsTmFtZXMoQSk7XG4gICAgICB2YXIgSSA9IHBHZW5lcmFsTmFtZXNbMF0uZG47XG4gICAgICB5LnRzYSA9IEksIGcrKztcbiAgICB9XG4gICAgaWYgKHYubGVuZ3RoID4gNSArIGcgJiYgYy5zdWJzdHIodls1ICsgZ10sIDIpID09IFwiYTFcIikge1xuICAgICAgdmFyIG0gPSBzKGMsIHZbNSArIGddKTtcbiAgICAgIG0gPSBcIjMwXCIgKyBtLnN1YnN0cigyKTtcbiAgICAgIHZhciBFID0gdC5nZXRFeHRQYXJhbUFycmF5KG0pO1xuICAgICAgeS5leHQgPSBFLCBnKys7XG4gICAgfVxuICAgIHJldHVybiB5O1xuICB9LCB0aGlzLmdldEFjY3VyYWN5ID0gZnVuY3Rpb24oYykge1xuICAgIGZvciAodmFyIHkgPSB7fSwgdiA9IGgoYywgMCksIG8gPSAwOyBvIDwgdi5sZW5ndGg7IG8rKykge1xuICAgICAgdmFyIGwgPSBjLnN1YnN0cih2W29dLCAyKSwgZiA9IGkoYywgdltvXSksIGQgPSBwYXJzZUludChmLCAxNik7XG4gICAgICBsID09IFwiMDJcIiA/IHkuc2Vjb25kcyA9IGQgOiBsID09IFwiODBcIiA/IHkubWlsbGlzID0gZCA6IGwgPT0gXCI4MVwiICYmICh5Lm1pY3JvcyA9IGQpO1xuICAgIH1cbiAgICByZXR1cm4geTtcbiAgfSwgdGhpcy5nZXRNZXNzYWdlSW1wcmludCA9IGZ1bmN0aW9uKGMpIHtcbiAgICBpZiAoYy5zdWJzdHIoMCwgMikgIT0gXCIzMFwiKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiaGVhZCBvZiBtZXNzYWdlSW1wcmludCBoZXggc2hhbGwgYmUgeDMwXCIpO1xuICAgIHZhciB5ID0ge307XG4gICAgaChjLCAwKTtcbiAgICB2YXIgdiA9IG4oYywgMCwgWzAsIDBdKSwgbyA9IGkoYywgdiksIGwgPSByLmhleHRvb2lkc3RyKG8pLCBmID0gYS5hc24xLng1MDkuT0lELm9pZDJuYW1lKGwpO1xuICAgIGlmIChmID09IFwiXCIpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJoYXNoQWxnIG5hbWUgdW5kZWZpbmVkOiBcIiArIGwpO1xuICAgIHZhciBkID0gZiwgZyA9IG4oYywgMCwgWzFdKTtcbiAgICByZXR1cm4geS5hbGcgPSBkLCB5Lmhhc2ggPSBpKGMsIGcpLCB5O1xuICB9LCB0aGlzLmdldFBLSVN0YXR1c0luZm8gPSBmdW5jdGlvbihjKSB7XG4gICAgdmFyIHkgPSB7fSwgdiA9IGgoYywgMCksIG8gPSAwO1xuICAgIHRyeSB7XG4gICAgICB2YXIgbCA9IGkoYywgdlswXSksIGYgPSBwYXJzZUludChsLCAxNik7XG4gICAgICB5LnN0YXR1cyA9IHVbZl07XG4gICAgfSBjYXRjaCB7XG4gICAgfVxuICAgIGlmICh2Lmxlbmd0aCA+IDEgJiYgYy5zdWJzdHIodlsxXSwgMikgPT0gXCIzMFwiKSB7XG4gICAgICB2YXIgZCA9IHMoYywgdlsxXSk7XG4gICAgICB5LnN0YXR1c3N0ciA9IHRoaXMuZ2V0UEtJRnJlZVRleHQoZCksIG8rKztcbiAgICB9XG4gICAgaWYgKHYubGVuZ3RoID4gbyAmJiBjLnN1YnN0cih2WzEgKyBvXSwgMikgPT0gXCIwM1wiKSB7XG4gICAgICB2YXIgZyA9IHMoYywgdlsxICsgb10pO1xuICAgICAgeS5mYWlsaW5mbyA9IHRoaXMuZ2V0UEtJRmFpbHVyZUluZm8oZyk7XG4gICAgfVxuICAgIHJldHVybiB5O1xuICB9LCB0aGlzLmdldFBLSUZyZWVUZXh0ID0gZnVuY3Rpb24oYykge1xuICAgIGZvciAodmFyIHkgPSBbXSwgdiA9IGgoYywgMCksIG8gPSAwOyBvIDwgdi5sZW5ndGg7IG8rKylcbiAgICAgIHkucHVzaChyLmdldFN0cmluZyhjLCB2W29dKSk7XG4gICAgcmV0dXJuIHk7XG4gIH0sIHRoaXMuZ2V0UEtJRmFpbHVyZUluZm8gPSBmdW5jdGlvbihjKSB7XG4gICAgdmFyIHkgPSByLmdldEludChjLCAwKTtcbiAgICByZXR1cm4gcFt5XSAhPSBudWxsID8gcFt5XSA6IHk7XG4gIH0sIHRoaXMuZ2V0VGltZVN0YW1wUmVxID0gZnVuY3Rpb24oYykge1xuICAgIHZhciB5ID0ge307XG4gICAgeS5jZXJ0cmVxID0gITE7XG4gICAgdmFyIHYgPSBoKGMsIDApO1xuICAgIGlmICh2Lmxlbmd0aCA8IDIpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaW1lU3RhbXBSZXEgbXVzdCBoYXZlIGF0IGxlYXN0IDIgaXRlbXNcIik7XG4gICAgdmFyIG8gPSBzKGMsIHZbMV0pO1xuICAgIHkubWVzc2FnZUltcHJpbnQgPSBhLmFzbjEudHNwLlRTUFV0aWwucGFyc2VNZXNzYWdlSW1wcmludChvKTtcbiAgICBmb3IgKHZhciBsID0gMjsgbCA8IHYubGVuZ3RoOyBsKyspIHtcbiAgICAgIHZhciBmID0gdltsXSwgZCA9IGMuc3Vic3RyKGYsIDIpO1xuICAgICAgaWYgKGQgPT0gXCIwNlwiKSB7XG4gICAgICAgIHZhciBnID0gaShjLCBmKTtcbiAgICAgICAgeS5wb2xpY3kgPSByLmhleHRvb2lkc3RyKGcpO1xuICAgICAgfVxuICAgICAgZCA9PSBcIjAyXCIgJiYgKHkubm9uY2UgPSBpKGMsIGYpKSwgZCA9PSBcIjAxXCIgJiYgKHkuY2VydHJlcSA9ICEwKTtcbiAgICB9XG4gICAgcmV0dXJuIHk7XG4gIH07XG59O1xuKHR5cGVvZiBhID4gXCJ1XCIgfHwgIWEpICYmIChhID0ge30pO1xuKHR5cGVvZiBhLmFzbjEgPiBcInVcIiB8fCAhYS5hc24xKSAmJiAoYS5hc24xID0ge30pO1xuKHR5cGVvZiBhLmFzbjEuY2FkZXMgPiBcInVcIiB8fCAhYS5hc24xLmNhZGVzKSAmJiAoYS5hc24xLmNhZGVzID0ge30pO1xuYS5hc24xLmNhZGVzLlNpZ25hdHVyZVBvbGljeUlkZW50aWZpZXIgPSBmdW5jdGlvbihlKSB7XG4gIHZhciB0ID0gYSwgciA9IHQuYXNuMSwgaSA9IHIuY2FkZXMsIHMgPSBpLlNpZ25hdHVyZVBvbGljeUlkO1xuICBpLlNpZ25hdHVyZVBvbGljeUlkZW50aWZpZXIuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpLCB0aGlzLnR5cGVPaWQgPSBcIjEuMi44NDAuMTEzNTQ5LjEuOS4xNi4yLjE1XCIsIHRoaXMucGFyYW1zID0gbnVsbCwgdGhpcy5nZXRWYWx1ZUFycmF5ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIFtuZXcgcyh0aGlzLnBhcmFtcyldO1xuICB9LCB0aGlzLnNldEJ5UGFyYW0gPSBmdW5jdGlvbihuKSB7XG4gICAgdGhpcy5wYXJhbXMgPSBuO1xuICB9LCBlICE9IG51bGwgJiYgdGhpcy5zZXRCeVBhcmFtKGUpO1xufTtcbk4oYS5hc24xLmNhZGVzLlNpZ25hdHVyZVBvbGljeUlkZW50aWZpZXIsIGEuYXNuMS5jbXMuQXR0cmlidXRlKTtcbmEuYXNuMS5jYWRlcy5TaWduYXR1cmVQb2xpY3lJZCA9IGZ1bmN0aW9uKGUpIHtcbiAgdmFyIHQgPSBhLCByID0gdC5hc24xLCBpID0gci5ERVJTZXF1ZW5jZSwgcyA9IHIuREVST2JqZWN0SWRlbnRpZmllciwgbiA9IHIueDUwOTtcbiAgbi5BbGdvcml0aG1JZGVudGlmaWVyO1xuICB2YXIgaCA9IHIuY2FkZXMsIHUgPSBoLlNpZ25hdHVyZVBvbGljeUlkLCBwID0gaC5PdGhlckhhc2hBbGdBbmRWYWx1ZTtcbiAgdS5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyksIHRoaXMucGFyYW1zID0gbnVsbCwgdGhpcy50b2hleCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBjID0gdGhpcy5wYXJhbXMsIHkgPSBbXTtcbiAgICB5LnB1c2gobmV3IHMoYy5vaWQpKSwgeS5wdXNoKG5ldyBwKGMpKTtcbiAgICB2YXIgdiA9IG5ldyBpKHsgYXJyYXk6IHkgfSk7XG4gICAgcmV0dXJuIHYudG9oZXgoKTtcbiAgfSwgdGhpcy5nZXRFbmNvZGVkSGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMudG9oZXgoKTtcbiAgfSwgdGhpcy5zZXRCeVBhcmFtID0gZnVuY3Rpb24oYykge1xuICAgIHRoaXMucGFyYW1zID0gYztcbiAgfSwgZSAhPSBudWxsICYmIHRoaXMuc2V0QnlQYXJhbShlKTtcbn07XG5OKGEuYXNuMS5jYWRlcy5TaWduYXR1cmVQb2xpY3lJZCwgYS5hc24xLkFTTjFPYmplY3QpO1xuYS5hc24xLmNhZGVzLk90aGVySGFzaEFsZ0FuZFZhbHVlID0gZnVuY3Rpb24oZSkge1xuICB2YXIgdCA9IEVycm9yLCByID0gYSwgaSA9IHIuYXNuMSwgcyA9IGkuREVSU2VxdWVuY2UsIG4gPSBpLkRFUk9jdGV0U3RyaW5nLCBoID0gaS54NTA5LCB1ID0gaC5BbGdvcml0aG1JZGVudGlmaWVyLCBwID0gaS5jYWRlcywgYyA9IHAuT3RoZXJIYXNoQWxnQW5kVmFsdWU7XG4gIGMuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpLCB0aGlzLnBhcmFtcyA9IG51bGwsIHRoaXMudG9oZXggPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgeSA9IHRoaXMucGFyYW1zO1xuICAgIGlmICh5LmFsZyA9PSBudWxsKVxuICAgICAgdGhyb3cgbmV3IHQoXCJwcm9wZXJ0eSAnYWxnJyBub3Qgc3BlY2lmaWVkXCIpO1xuICAgIGlmICh5Lmhhc2ggPT0gbnVsbCAmJiB5LmNlcnQgPT0gbnVsbClcbiAgICAgIHRocm93IG5ldyB0KFwicHJvcGVydHkgJ2hhc2gnIG5vciAnY2VydCcgbm90IHNwZWNpZmllZFwiKTtcbiAgICB2YXIgdiA9IG51bGw7XG4gICAgaWYgKHkuaGFzaCAhPSBudWxsKVxuICAgICAgdiA9IHkuaGFzaDtcbiAgICBlbHNlIGlmICh5LmNlcnQgIT0gbnVsbCkge1xuICAgICAgaWYgKHR5cGVvZiB5LmNlcnQgIT0gXCJzdHJpbmdcIilcbiAgICAgICAgdGhyb3cgbmV3IHQoXCJjZXJ0IG5vdCBzdHJpbmdcIik7XG4gICAgICB2YXIgbyA9IHkuY2VydDtcbiAgICAgIHkuY2VydC5pbmRleE9mKFwiLS0tLS1CRUdJTlwiKSAhPSAtMSAmJiAobyA9IGllKHkuY2VydCkpLCB2ID0gYS5jcnlwdG8uVXRpbC5oYXNoSGV4KG8sIHkuYWxnKTtcbiAgICB9XG4gICAgdmFyIGwgPSBbXTtcbiAgICBsLnB1c2gobmV3IHUoeyBuYW1lOiB5LmFsZyB9KSksIGwucHVzaChuZXcgbih7IGhleDogdiB9KSk7XG4gICAgdmFyIGYgPSBuZXcgcyh7IGFycmF5OiBsIH0pO1xuICAgIHJldHVybiBmLnRvaGV4KCk7XG4gIH0sIHRoaXMuZ2V0RW5jb2RlZEhleCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLnRvaGV4KCk7XG4gIH0sIGUgIT0gbnVsbCAmJiB0aGlzLnNldEJ5UGFyYW0oZSk7XG59O1xuTihhLmFzbjEuY2FkZXMuT3RoZXJIYXNoQWxnQW5kVmFsdWUsIGEuYXNuMS5BU04xT2JqZWN0KTtcbmEuYXNuMS5jYWRlcy5PdGhlckhhc2hWYWx1ZSA9IGZ1bmN0aW9uKGUpIHtcbiAgYS5hc24xLmNhZGVzLk90aGVySGFzaFZhbHVlLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzKTtcbiAgdmFyIHQgPSBFcnJvciwgciA9IGE7XG4gIHIubGFuZy5TdHJpbmcuaXNIZXg7XG4gIHZhciBpID0gci5hc24xLCBzID0gaS5ERVJPY3RldFN0cmluZztcbiAgci5jcnlwdG8uVXRpbC5oYXNoSGV4LCB0aGlzLnBhcmFtcyA9IG51bGwsIHRoaXMudG9oZXggPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgbiA9IHRoaXMucGFyYW1zO1xuICAgIGlmIChuLmhhc2ggPT0gbnVsbCAmJiBuLmNlcnQgPT0gbnVsbClcbiAgICAgIHRocm93IG5ldyB0KFwiaGFzaCBvciBjZXJ0IG5vdCBzcGVjaWZpZWRcIik7XG4gICAgdmFyIGggPSBudWxsO1xuICAgIGlmIChuLmhhc2ggIT0gbnVsbClcbiAgICAgIGggPSBuLmhhc2g7XG4gICAgZWxzZSBpZiAobi5jZXJ0ICE9IG51bGwpIHtcbiAgICAgIGlmICh0eXBlb2Ygbi5jZXJ0ICE9IFwic3RyaW5nXCIpXG4gICAgICAgIHRocm93IG5ldyB0KFwiY2VydCBub3Qgc3RyaW5nXCIpO1xuICAgICAgdmFyIHUgPSBuLmNlcnQ7XG4gICAgICBuLmNlcnQuaW5kZXhPZihcIi0tLS0tQkVHSU5cIikgIT0gLTEgJiYgKHUgPSBpZShuLmNlcnQpKSwgaCA9IGEuY3J5cHRvLlV0aWwuaGFzaEhleCh1LCBcInNoYTFcIik7XG4gICAgfVxuICAgIHJldHVybiBuZXcgcyh7IGhleDogaCB9KS50b2hleCgpO1xuICB9LCB0aGlzLmdldEVuY29kZWRIZXggPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy50b2hleCgpO1xuICB9LCBlICE9IG51bGwgJiYgdGhpcy5zZXRCeVBhcmFtKGUpO1xufTtcbk4oYS5hc24xLmNhZGVzLk90aGVySGFzaFZhbHVlLCBhLmFzbjEuQVNOMU9iamVjdCk7XG5hLmFzbjEuY2FkZXMuU2lnbmF0dXJlVGltZVN0YW1wID0gZnVuY3Rpb24oZSkge1xuICB2YXIgdCA9IEVycm9yLCByID0gYSwgaSA9IHIubGFuZy5TdHJpbmcuaXNIZXgsIHMgPSByLmFzbjEsIG4gPSBzLkFTTjFPYmplY3Q7XG4gIHMueDUwOTtcbiAgdmFyIGggPSBzLmNhZGVzO1xuICBoLlNpZ25hdHVyZVRpbWVTdGFtcC5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyksIHRoaXMudHlwZU9pZCA9IFwiMS4yLjg0MC4xMTM1NDkuMS45LjE2LjIuMTRcIiwgdGhpcy5wYXJhbXMgPSBudWxsLCB0aGlzLmdldFZhbHVlQXJyYXkgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgdSA9IHRoaXMucGFyYW1zO1xuICAgIGlmICh1LnRzdCAhPSBudWxsKVxuICAgICAgaWYgKGkodS50c3QpKSB7XG4gICAgICAgIHZhciBwID0gbmV3IG4oKTtcbiAgICAgICAgcmV0dXJuIHAuaFRMViA9IHUudHN0LCBbcF07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAodS50c3QgaW5zdGFuY2VvZiBuKVxuICAgICAgICAgIHJldHVybiBbdS50c3RdO1xuICAgICAgICB0aHJvdyBuZXcgdChcInBhcmFtcy50c3QgaGFzIHdyb25nIHZhbHVlXCIpO1xuICAgICAgfVxuICAgIGVsc2UgaWYgKHUucmVzICE9IG51bGwpIHtcbiAgICAgIHZhciBjID0gdS5yZXM7XG4gICAgICBpZiAoYyBpbnN0YW5jZW9mIG4gJiYgKGMgPSBjLnRvaGV4KCkpLCB0eXBlb2YgYyAhPSBcInN0cmluZ1wiIHx8ICFpKGMpKVxuICAgICAgICB0aHJvdyBuZXcgdChcInBhcmFtcy5yZXMgaGFzIHdyb25nIHZhbHVlXCIpO1xuICAgICAgVi5nZXRUTFZieUxpc3QoYywgMCwgWzFdKTtcbiAgICAgIHZhciBwID0gbmV3IG4oKTtcbiAgICAgIHJldHVybiBwLmhUTFYgPSB1LnRzdCwgW3BdO1xuICAgIH1cbiAgfSwgZSAhPSBudWxsICYmIHRoaXMuc2V0QnlQYXJhbShlKTtcbn07XG5OKGEuYXNuMS5jYWRlcy5TaWduYXR1cmVUaW1lU3RhbXAsIGEuYXNuMS5jbXMuQXR0cmlidXRlKTtcbmEuYXNuMS5jYWRlcy5Db21wbGV0ZUNlcnRpZmljYXRlUmVmcyA9IGZ1bmN0aW9uKGUpIHtcbiAgdmFyIHQgPSBFcnJvciwgciA9IGEsIGkgPSByLmFzbjEsIHMgPSBpLkRFUlNlcXVlbmNlLCBuID0gaS5jYWRlcywgaCA9IG4uT3RoZXJDZXJ0SUQsIHUgPSByLmxhbmcuU3RyaW5nLmlzSGV4O1xuICBuLkNvbXBsZXRlQ2VydGlmaWNhdGVSZWZzLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzKSwgdGhpcy50eXBlT2lkID0gXCIxLjIuODQwLjExMzU0OS4xLjkuMTYuMi4yMVwiLCB0aGlzLnBhcmFtcyA9IG51bGwsIHRoaXMuZ2V0VmFsdWVBcnJheSA9IGZ1bmN0aW9uKCkge1xuICAgIGZvciAodmFyIHAgPSB0aGlzLnBhcmFtcywgYyA9IFtdLCB5ID0gMDsgeSA8IHAuYXJyYXkubGVuZ3RoOyB5KyspIHtcbiAgICAgIHZhciB2ID0gcC5hcnJheVt5XTtcbiAgICAgIGlmICh0eXBlb2YgdiA9PSBcInN0cmluZ1wiKVxuICAgICAgICBpZiAodi5pbmRleE9mKFwiLS0tLS1CRUdJTlwiKSAhPSAtMSlcbiAgICAgICAgICB2ID0geyBjZXJ0OiB2IH07XG4gICAgICAgIGVsc2UgaWYgKHUodikpXG4gICAgICAgICAgdiA9IHsgaGFzaDogdiB9O1xuICAgICAgICBlbHNlXG4gICAgICAgICAgdGhyb3cgbmV3IHQoXCJ1bnN1cHBvcnRlZCB2YWx1ZTogXCIgKyB2KTtcbiAgICAgIHAuYWxnICE9IG51bGwgJiYgdi5hbGcgPT0gbnVsbCAmJiAodi5hbGcgPSBwLmFsZyksIHAuaGFzaXMgIT0gbnVsbCAmJiB2Lmhhc2lzID09IG51bGwgJiYgKHYuaGFzaXMgPSBwLmhhc2lzKTtcbiAgICAgIHZhciBvID0gbmV3IGgodik7XG4gICAgICBjLnB1c2gobyk7XG4gICAgfVxuICAgIHZhciBsID0gbmV3IHMoeyBhcnJheTogYyB9KTtcbiAgICByZXR1cm4gW2xdO1xuICB9LCBlICE9IG51bGwgJiYgdGhpcy5zZXRCeVBhcmFtKGUpO1xufTtcbk4oYS5hc24xLmNhZGVzLkNvbXBsZXRlQ2VydGlmaWNhdGVSZWZzLCBhLmFzbjEuY21zLkF0dHJpYnV0ZSk7XG5hLmFzbjEuY2FkZXMuT3RoZXJDZXJ0SUQgPSBmdW5jdGlvbihlKSB7XG4gIHZhciB0ID0gYSwgciA9IHQuYXNuMSwgaSA9IHIuREVSU2VxdWVuY2UsIHMgPSByLmNtcywgbiA9IHMuSXNzdWVyU2VyaWFsLCBoID0gci5jYWRlcywgdSA9IGguT3RoZXJIYXNoVmFsdWUsIHAgPSBoLk90aGVySGFzaEFsZ0FuZFZhbHVlO1xuICBoLk90aGVyQ2VydElELnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzKSwgdGhpcy5wYXJhbXMgPSBlLCB0aGlzLnRvaGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGMgPSB0aGlzLnBhcmFtcztcbiAgICB0eXBlb2YgYyA9PSBcInN0cmluZ1wiICYmIChjLmluZGV4T2YoXCItLS0tLUJFR0lOXCIpICE9IC0xID8gYyA9IHsgY2VydDogYyB9IDogX2lzSGV4KGMpICYmIChjID0geyBoYXNoOiBjIH0pKTtcbiAgICB2YXIgeSA9IFtdLCB2ID0gbnVsbDtcbiAgICBpZiAoYy5hbGcgIT0gbnVsbCA/IHYgPSBuZXcgcChjKSA6IHYgPSBuZXcgdShjKSwgeS5wdXNoKHYpLCBjLmNlcnQgIT0gbnVsbCAmJiBjLmhhc2lzID09ICEwIHx8IGMuaXNzdWVyICE9IG51bGwgJiYgYy5zZXJpYWwgIT0gbnVsbCkge1xuICAgICAgdmFyIG8gPSBuZXcgbihjKTtcbiAgICAgIHkucHVzaChvKTtcbiAgICB9XG4gICAgdmFyIGwgPSBuZXcgaSh7IGFycmF5OiB5IH0pO1xuICAgIHJldHVybiBsLnRvaGV4KCk7XG4gIH0sIHRoaXMuZ2V0RW5jb2RlZEhleCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLnRvaGV4KCk7XG4gIH0sIGUgIT0gbnVsbCAmJiB0aGlzLnNldEJ5UGFyYW0oZSk7XG59O1xuTihhLmFzbjEuY2FkZXMuT3RoZXJDZXJ0SUQsIGEuYXNuMS5BU04xT2JqZWN0KTtcbmEuYXNuMS5jYWRlcy5PdGhlckhhc2ggPSBmdW5jdGlvbihlKSB7XG4gIHZhciB0ID0gYSwgciA9IHQuYXNuMTtcbiAgci5jbXM7XG4gIHZhciBpID0gci5jYWRlcywgcyA9IGkuT3RoZXJIYXNoQWxnQW5kVmFsdWUsIG4gPSBpLk90aGVySGFzaFZhbHVlO1xuICB0LmNyeXB0by5VdGlsLmhhc2hIZXg7XG4gIHZhciBoID0gdC5sYW5nLlN0cmluZy5pc0hleDtcbiAgaS5PdGhlckhhc2guc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpLCB0aGlzLnBhcmFtcyA9IG51bGwsIHRoaXMudG9oZXggPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgdSA9IHRoaXMucGFyYW1zO1xuICAgIHR5cGVvZiB1ID09IFwic3RyaW5nXCIgJiYgKHUuaW5kZXhPZihcIi0tLS0tQkVHSU5cIikgIT0gLTEgPyB1ID0geyBjZXJ0OiB1IH0gOiBoKHUpICYmICh1ID0geyBoYXNoOiB1IH0pKTtcbiAgICB2YXIgcCA9IG51bGw7XG4gICAgcmV0dXJuIHUuYWxnICE9IG51bGwgPyBwID0gbmV3IHModSkgOiBwID0gbmV3IG4odSksIHAudG9oZXgoKTtcbiAgfSwgdGhpcy5nZXRFbmNvZGVkSGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMudG9oZXgoKTtcbiAgfSwgZSAhPSBudWxsICYmIHRoaXMuc2V0QnlQYXJhbShlKTtcbn07XG5OKGEuYXNuMS5jYWRlcy5PdGhlckhhc2gsIGEuYXNuMS5BU04xT2JqZWN0KTtcbmEuYXNuMS5jYWRlcy5DQWRFU1V0aWwgPSBuZXcgZnVuY3Rpb24oKSB7XG59KCk7XG5hLmFzbjEuY2FkZXMuQ0FkRVNVdGlsLnBhcnNlU2lnbmVkRGF0YUZvckFkZGluZ1Vuc2lnbmVkID0gZnVuY3Rpb24oZSkge1xuICB2YXIgdCA9IG5ldyBhLmFzbjEuY21zLkNNU1BhcnNlcigpLCByID0gdC5nZXRDTVNTaWduZWREYXRhKGUpO1xuICByZXR1cm4gcjtcbn07XG5hLmFzbjEuY2FkZXMuQ0FkRVNVdGlsLnBhcnNlU2lnbmVySW5mb0ZvckFkZGluZ1Vuc2lnbmVkID0gZnVuY3Rpb24oZSwgdCwgcikge1xuICB2YXIgaSA9IFYsIHMgPSBpLmdldENoaWxkSWR4LCBuID0gaS5nZXRUTFYsIGggPSBpLmdldFYsIHUgPSBhLCBwID0gdS5hc24xLCBjID0gcC5BU04xT2JqZWN0LCB5ID0gcC5jbXMsIHYgPSB5LkF0dHJpYnV0ZUxpc3QsIG8gPSB5LlNpZ25lckluZm8sIGwgPSB7fSwgZiA9IHMoZSwgdCk7XG4gIGlmIChmLmxlbmd0aCAhPSA2KVxuICAgIHRocm93IFwibm90IHN1cHBvcnRlZCBpdGVtcyBmb3IgU2lnbmVySW5mbyAoIT02KVwiO1xuICB2YXIgZCA9IGYuc2hpZnQoKTtcbiAgbC52ZXJzaW9uID0gbihlLCBkKTtcbiAgdmFyIGcgPSBmLnNoaWZ0KCk7XG4gIGwuc2kgPSBuKGUsIGcpO1xuICB2YXIgUyA9IGYuc2hpZnQoKTtcbiAgbC5kaWdhbGcgPSBuKGUsIFMpO1xuICB2YXIgYiA9IGYuc2hpZnQoKTtcbiAgbC5zYXR0cnMgPSBuKGUsIGIpO1xuICB2YXIgRCA9IGYuc2hpZnQoKTtcbiAgbC5zaWdhbGcgPSBuKGUsIEQpO1xuICB2YXIgQSA9IGYuc2hpZnQoKTtcbiAgbC5zaWcgPSBuKGUsIEEpLCBsLnNpZ3ZhbCA9IGgoZSwgQSk7XG4gIHZhciBJID0gbnVsbDtcbiAgcmV0dXJuIGwub2JqID0gbmV3IG8oKSwgSSA9IG5ldyBjKCksIEkuaFRMViA9IGwudmVyc2lvbiwgbC5vYmouZENNU1ZlcnNpb24gPSBJLCBJID0gbmV3IGMoKSwgSS5oVExWID0gbC5zaSwgbC5vYmouZFNpZ25lcklkZW50aWZpZXIgPSBJLCBJID0gbmV3IGMoKSwgSS5oVExWID0gbC5kaWdhbGcsIGwub2JqLmREaWdlc3RBbGdvcml0aG0gPSBJLCBJID0gbmV3IGMoKSwgSS5oVExWID0gbC5zYXR0cnMsIGwub2JqLmRTaWduZWRBdHRycyA9IEksIEkgPSBuZXcgYygpLCBJLmhUTFYgPSBsLnNpZ2FsZywgbC5vYmouZFNpZ0FsZyA9IEksIEkgPSBuZXcgYygpLCBJLmhUTFYgPSBsLnNpZywgbC5vYmouZFNpZyA9IEksIGwub2JqLmRVbnNpZ25lZEF0dHJzID0gbmV3IHYoKSwgbDtcbn07XG4odHlwZW9mIGEuYXNuMS5jc3IgPiBcInVcIiB8fCAhYS5hc24xLmNzcikgJiYgKGEuYXNuMS5jc3IgPSB7fSk7XG5hLmFzbjEuY3NyLkNlcnRpZmljYXRpb25SZXF1ZXN0ID0gZnVuY3Rpb24oZSkge1xuICB2YXIgdCA9IGEsIHIgPSB0LmFzbjEsIGkgPSByLkRFUkJpdFN0cmluZywgcyA9IHIuREVSU2VxdWVuY2UsIG4gPSByLmNzcjtcbiAgci54NTA5O1xuICB2YXIgaCA9IG4uQ2VydGlmaWNhdGlvblJlcXVlc3RJbmZvO1xuICBuLkNlcnRpZmljYXRpb25SZXF1ZXN0LnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzKSwgdGhpcy5zZXRCeVBhcmFtID0gZnVuY3Rpb24odSkge1xuICAgIHRoaXMucGFyYW1zID0gdTtcbiAgfSwgdGhpcy5zaWduID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHUgPSBuZXcgaCh0aGlzLnBhcmFtcykudG9oZXgoKSwgcCA9IG5ldyBhLmNyeXB0by5TaWduYXR1cmUoeyBhbGc6IHRoaXMucGFyYW1zLnNpZ2FsZyB9KTtcbiAgICBwLmluaXQodGhpcy5wYXJhbXMuc2JqcHJ2a2V5KSwgcC51cGRhdGVIZXgodSk7XG4gICAgdmFyIGMgPSBwLnNpZ24oKTtcbiAgICB0aGlzLnBhcmFtcy5zaWdoZXggPSBjO1xuICB9LCB0aGlzLmdldFBFTSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBkZSh0aGlzLnRvaGV4KCksIFwiQ0VSVElGSUNBVEUgUkVRVUVTVFwiKTtcbiAgfSwgdGhpcy50b2hleCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciB1ID0gdGhpcy5wYXJhbXMsIHAgPSBuZXcgYS5hc24xLmNzci5DZXJ0aWZpY2F0aW9uUmVxdWVzdEluZm8odGhpcy5wYXJhbXMpLCBjID0gbmV3IGEuYXNuMS54NTA5LkFsZ29yaXRobUlkZW50aWZpZXIoeyBuYW1lOiB1LnNpZ2FsZyB9KTtcbiAgICBpZiAodS5zaWdoZXggPT0gbnVsbCAmJiB1LnNianBydmtleSAhPSBudWxsICYmIHRoaXMuc2lnbigpLCB1LnNpZ2hleCA9PSBudWxsKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwic2lnaGV4IG9yIHNianBydmtleSBwYXJhbWV0ZXIgbm90IGRlZmluZWRcIik7XG4gICAgdmFyIHkgPSBuZXcgaSh7IGhleDogXCIwMFwiICsgdS5zaWdoZXggfSksIHYgPSBuZXcgcyh7IGFycmF5OiBbcCwgYywgeV0gfSk7XG4gICAgcmV0dXJuIHYudG9oZXgoKTtcbiAgfSwgdGhpcy5nZXRFbmNvZGVkSGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMudG9oZXgoKTtcbiAgfSwgZSAhPT0gdm9pZCAwICYmIHRoaXMuc2V0QnlQYXJhbShlKTtcbn07XG5OKGEuYXNuMS5jc3IuQ2VydGlmaWNhdGlvblJlcXVlc3QsIGEuYXNuMS5BU04xT2JqZWN0KTtcbmEuYXNuMS5jc3IuQ2VydGlmaWNhdGlvblJlcXVlc3RJbmZvID0gZnVuY3Rpb24oZSkge1xuICB2YXIgdCA9IGEsIHIgPSB0LmFzbjE7XG4gIHIuREVSQml0U3RyaW5nO1xuICB2YXIgaSA9IHIuREVSU2VxdWVuY2UsIHMgPSByLkRFUkludGVnZXIsIG4gPSByLkRFUlVURjhTdHJpbmcsIGggPSByLkRFUlRhZ2dlZE9iamVjdCwgdSA9IHIuQVNOMVV0aWwubmV3T2JqZWN0LCBwID0gci5jc3IsIGMgPSByLng1MDksIHkgPSBjLlg1MDBOYW1lLCB2ID0gYy5FeHRlbnNpb25zLCBvID0gYy5TdWJqZWN0UHVibGljS2V5SW5mbztcbiAgcC5BdHRyaWJ1dGVMaXN0LCBwLkNlcnRpZmljYXRpb25SZXF1ZXN0SW5mby5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyksIHRoaXMucGFyYW1zID0gbnVsbCwgdGhpcy5zZXRCeVBhcmFtID0gZnVuY3Rpb24oZikge1xuICAgIGYgIT0gbnVsbCAmJiAodGhpcy5wYXJhbXMgPSBmKTtcbiAgfSwgdGhpcy50b2hleCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBmID0gdGhpcy5wYXJhbXMsIGQgPSBbXTtcbiAgICBpZiAoZC5wdXNoKG5ldyBzKHsgaW50OiAwIH0pKSwgZC5wdXNoKG5ldyB5KGYuc3ViamVjdCkpLCBkLnB1c2gobmV3IG8oay5nZXRLZXkoZi5zYmpwdWJrZXkpKSksIGYuYXR0cnMgIT0gbnVsbCkge1xuICAgICAgdmFyIGcgPSBsKGYuYXR0cnMpLCBTID0gdSh7IHRhZzogeyB0YWdlOiBcImEwXCIsIG9iajogZyB9IH0pO1xuICAgICAgZC5wdXNoKFMpO1xuICAgIH0gZWxzZSBpZiAoZi5leHRyZXEgIT0gbnVsbCkge1xuICAgICAgdmFyIGIgPSBuZXcgdihmLmV4dHJlcSksIFMgPSB1KHsgdGFnOiB7IHRhZ2U6IFwiYTBcIiwgb2JqOiB7IHNlcTogW3sgb2lkOiBcIjEuMi44NDAuMTEzNTQ5LjEuOS4xNFwiIH0sIHsgc2V0OiBbYl0gfV0gfSB9IH0pO1xuICAgICAgZC5wdXNoKFMpO1xuICAgIH0gZWxzZVxuICAgICAgZC5wdXNoKG5ldyBoKHsgdGFnOiBcImEwXCIsIGV4cGxpY2l0OiAhMSwgb2JqOiBuZXcgbih7IHN0cjogXCJcIiB9KSB9KSk7XG4gICAgdmFyIEQgPSBuZXcgaSh7IGFycmF5OiBkIH0pO1xuICAgIHJldHVybiBELnRvaGV4KCk7XG4gIH0sIHRoaXMuZ2V0RW5jb2RlZEhleCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLnRvaGV4KCk7XG4gIH07XG4gIGZ1bmN0aW9uIGwoZikge1xuICAgIGZvciAodmFyIGQgPSBFcnJvciwgZyA9IGEuYXNuMS54NTA5LkV4dGVuc2lvbnMsIFMgPSBbXSwgYiA9IDA7IGIgPCBmLmxlbmd0aDsgYisrKSB7XG4gICAgICB2YXIgRCA9IGZbYl0sIEEgPSBELmF0dHI7XG4gICAgICBpZiAoQSA9PSBcImV4dGVuc2lvblJlcXVlc3RcIikge1xuICAgICAgICB2YXIgSSA9IG5ldyBnKEQuZXh0KSwgbSA9IHsgc2VxOiBbeyBvaWQ6IFwiMS4yLjg0MC4xMTM1NDkuMS45LjE0XCIgfSwgeyBzZXQ6IFtJXSB9XSB9O1xuICAgICAgICBTLnB1c2gobSk7XG4gICAgICB9IGVsc2UgaWYgKEEgPT0gXCJ1bnN0cnVjdHVyZWROYW1lXCIpIHtcbiAgICAgICAgdmFyIG0gPSB7IHNlcTogW3sgb2lkOiBcIjEuMi44NDAuMTEzNTQ5LjEuOS4yXCIgfSwgeyBzZXQ6IEQubmFtZXMgfV0gfTtcbiAgICAgICAgUy5wdXNoKG0pO1xuICAgICAgfSBlbHNlIGlmIChBID09IFwiY2hhbGxlbmdlUGFzc3dvcmRcIikge1xuICAgICAgICB2YXIgbSA9IHsgc2VxOiBbeyBvaWQ6IFwiMS4yLjg0MC4xMTM1NDkuMS45LjdcIiB9LCB7IHNldDogW3sgdXRmOHN0cjogRC5wYXNzd29yZCB9XSB9XSB9O1xuICAgICAgICBTLnB1c2gobSk7XG4gICAgICB9IGVsc2VcbiAgICAgICAgdGhyb3cgbmV3IGQoXCJ1bmtub3duIENTUiBhdHRyaWJ1dGVcIik7XG4gICAgfVxuICAgIHJldHVybiB7IHNldDogUyB9O1xuICB9XG4gIGUgIT0gbnVsbCAmJiB0aGlzLnNldEJ5UGFyYW0oZSk7XG59O1xuTihhLmFzbjEuY3NyLkNlcnRpZmljYXRpb25SZXF1ZXN0SW5mbywgYS5hc24xLkFTTjFPYmplY3QpO1xuYS5hc24xLmNzci5BdHRyaWJ1dGVMaXN0ID0gZnVuY3Rpb24oZSkge1xufTtcbk4oYS5hc24xLmNzci5BdHRyaWJ1dGVMaXN0LCBhLmFzbjEuQVNOMU9iamVjdCk7XG5hLmFzbjEuY3NyLkNTUlV0aWwgPSBuZXcgZnVuY3Rpb24oKSB7XG59KCk7XG5hLmFzbjEuY3NyLkNTUlV0aWwubmV3Q1NSUEVNID0gZnVuY3Rpb24oZSkge1xuICB2YXIgdCA9IGEuYXNuMS5jc3IsIHIgPSBuZXcgdC5DZXJ0aWZpY2F0aW9uUmVxdWVzdChlKSwgaSA9IHIuZ2V0UEVNKCk7XG4gIHJldHVybiBpO1xufTtcbmEuYXNuMS5jc3IuQ1NSVXRpbC5nZXRQYXJhbSA9IGZ1bmN0aW9uKGUsIHQpIHtcbiAgdmFyIHIgPSBWLCBpID0gci5nZXRWLCBzID0gci5nZXRJZHhieUxpc3QsIG4gPSByLmdldFRMVmJ5TGlzdCwgaCA9IHIuZ2V0VExWYnlMaXN0RXgsIHUgPSByLmdldFZieUxpc3RFeCwgcCA9IGZ1bmN0aW9uKGIpIHtcbiAgICB2YXIgRCA9IHMoYiwgMCwgWzAsIDMsIDAsIDBdLCBcIjA2XCIpO1xuICAgIHJldHVybiBpKGIsIEQpICE9IFwiMmE4NjQ4ODZmNzBkMDEwOTBlXCIgPyBudWxsIDogbihiLCAwLCBbMCwgMywgMCwgMSwgMF0sIFwiMzBcIik7XG4gIH0sIGMgPSB7fTtcbiAgaWYgKGUuaW5kZXhPZihcIi0tLS0tQkVHSU4gQ0VSVElGSUNBVEUgUkVRVUVTVFwiKSA9PSAtMSlcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJhcmd1bWVudCBpcyBub3QgUEVNIGZpbGVcIik7XG4gIHZhciB5ID0gaWUoZSwgXCJDRVJUSUZJQ0FURSBSRVFVRVNUXCIpO1xuICB0ICYmIChjLnRicyA9IG4oeSwgMCwgWzBdKSk7XG4gIHRyeSB7XG4gICAgdmFyIHYgPSBoKHksIDAsIFswLCAxXSk7XG4gICAgaWYgKHYgPT0gXCIzMDAwXCIpXG4gICAgICBjLnN1YmplY3QgPSB7fTtcbiAgICBlbHNlIHtcbiAgICAgIHZhciBkID0gbmV3IEwoKTtcbiAgICAgIGMuc3ViamVjdCA9IGQuZ2V0WDUwME5hbWUodik7XG4gICAgfVxuICB9IGNhdGNoIHtcbiAgfVxuICB2YXIgbyA9IGgoeSwgMCwgWzAsIDJdKSwgbCA9IGsuZ2V0S2V5KG8sIG51bGwsIFwicGtjczhwdWJcIik7XG4gIGMuc2JqcHVia2V5ID0gay5nZXRQRU0obCwgXCJQS0NTOFBVQlwiKTtcbiAgdmFyIGYgPSBwKHkpLCBkID0gbmV3IEwoKTtcbiAgZiAhPSBudWxsICYmIChjLmV4dHJlcSA9IGQuZ2V0RXh0UGFyYW1BcnJheShmKSk7XG4gIHRyeSB7XG4gICAgdmFyIGcgPSBoKHksIDAsIFsxXSwgXCIzMFwiKSwgZCA9IG5ldyBMKCk7XG4gICAgYy5zaWdhbGcgPSBkLmdldEFsZ29yaXRobUlkZW50aWZpZXJOYW1lKGcpO1xuICB9IGNhdGNoIHtcbiAgfVxuICB0cnkge1xuICAgIHZhciBTID0gdSh5LCAwLCBbMl0pO1xuICAgIGMuc2lnaGV4ID0gUztcbiAgfSBjYXRjaCB7XG4gIH1cbiAgcmV0dXJuIGM7XG59O1xuYS5hc24xLmNzci5DU1JVdGlsLnZlcmlmeVNpZ25hdHVyZSA9IGZ1bmN0aW9uKGUpIHtcbiAgdHJ5IHtcbiAgICB2YXIgdCA9IG51bGw7XG4gICAgaWYgKHR5cGVvZiBlID09IFwic3RyaW5nXCIgJiYgZS5pbmRleE9mKFwiLS0tLS1CRUdJTiBDRVJUSUZJQ0FURSBSRVFVRVNUXCIpICE9IC0xID8gdCA9IGEuYXNuMS5jc3IuQ1NSVXRpbC5nZXRQYXJhbShlLCAhMCkgOiB0eXBlb2YgZSA9PSBcIm9iamVjdFwiICYmIGUuc2JqcHVia2V5ICE9IG51bGwgJiYgZS5zaWdhbGcgIT0gbnVsbCAmJiBlLnNpZ2hleCAhPSBudWxsICYmIGUudGJzICE9IG51bGwgJiYgKHQgPSBlKSwgdCA9PSBudWxsKVxuICAgICAgcmV0dXJuICExO1xuICAgIHZhciByID0gbmV3IGEuY3J5cHRvLlNpZ25hdHVyZSh7IGFsZzogdC5zaWdhbGcgfSk7XG4gICAgcmV0dXJuIHIuaW5pdCh0LnNianB1YmtleSksIHIudXBkYXRlSGV4KHQudGJzKSwgci52ZXJpZnkodC5zaWdoZXgpO1xuICB9IGNhdGNoIChpKSB7XG4gICAgcmV0dXJuIGFsZXJ0KGkpLCAhMTtcbiAgfVxufTtcbih0eXBlb2YgYSA+IFwidVwiIHx8ICFhKSAmJiAoYSA9IHt9KTtcbih0eXBlb2YgYS5hc24xID4gXCJ1XCIgfHwgIWEuYXNuMSkgJiYgKGEuYXNuMSA9IHt9KTtcbih0eXBlb2YgYS5hc24xLm9jc3AgPiBcInVcIiB8fCAhYS5hc24xLm9jc3ApICYmIChhLmFzbjEub2NzcCA9IHt9KTtcbmEuYXNuMS5vY3NwLkRFRkFVTFRfSEFTSCA9IFwic2hhMVwiO1xuYS5hc24xLm9jc3AuT0NTUFJlc3BvbnNlID0gZnVuY3Rpb24oZSkge1xuICBhLmFzbjEub2NzcC5PQ1NQUmVzcG9uc2Uuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpLCBhLmFzbjEuREVSRW51bWVyYXRlZDtcbiAgdmFyIHQgPSBhLmFzbjEuQVNOMVV0aWwubmV3T2JqZWN0LCByID0gYS5hc24xLm9jc3AuUmVzcG9uc2VCeXRlcywgaSA9IFtcInN1Y2Nlc3NmdWxcIiwgXCJtYWxmb3JtZWRSZXF1ZXN0XCIsIFwiaW50ZXJuYWxFcnJvclwiLCBcInRyeUxhdGVyXCIsIFwiX25vdF91c2VkX1wiLCBcInNpZ1JlcXVpcmVkXCIsIFwidW5hdXRob3JpemVkXCJdO1xuICB0aGlzLnBhcmFtcyA9IG51bGwsIHRoaXMuX2dldFN0YXR1c0NvZGUgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgcyA9IHRoaXMucGFyYW1zLnJlc3N0YXR1cztcbiAgICByZXR1cm4gdHlwZW9mIHMgPT0gXCJudW1iZXJcIiA/IHMgOiB0eXBlb2YgcyAhPSBcInN0cmluZ1wiID8gLTEgOiBpLmluZGV4T2Yocyk7XG4gIH0sIHRoaXMuc2V0QnlQYXJhbSA9IGZ1bmN0aW9uKHMpIHtcbiAgICB0aGlzLnBhcmFtcyA9IHM7XG4gIH0sIHRoaXMudG9oZXggPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgcyA9IHRoaXMucGFyYW1zLCBuID0gdGhpcy5fZ2V0U3RhdHVzQ29kZSgpO1xuICAgIGlmIChuID09IC0xKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwicmVzcG9uc2VTdGF0dXMgbm90IHN1cHBvcnRlZDogXCIgKyBzLnJlc3N0YXR1cyk7XG4gICAgaWYgKG4gIT0gMClcbiAgICAgIHJldHVybiB0KHsgc2VxOiBbeyBlbnVtOiB7IGludDogbiB9IH1dIH0pLnRvaGV4KCk7XG4gICAgdmFyIGggPSBuZXcgcihzKTtcbiAgICByZXR1cm4gdCh7IHNlcTogW3sgZW51bTogeyBpbnQ6IDAgfSB9LCB7IHRhZzogeyB0YWc6IFwiYTBcIiwgZXhwbGljaXQ6ICEwLCBvYmo6IGggfSB9XSB9KS50b2hleCgpO1xuICB9LCB0aGlzLmdldEVuY29kZWRIZXggPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy50b2hleCgpO1xuICB9LCBlICE9PSB2b2lkIDAgJiYgdGhpcy5zZXRCeVBhcmFtKGUpO1xufTtcbk4oYS5hc24xLm9jc3AuT0NTUFJlc3BvbnNlLCBhLmFzbjEuQVNOMU9iamVjdCk7XG5hLmFzbjEub2NzcC5SZXNwb25zZUJ5dGVzID0gZnVuY3Rpb24oZSkge1xuICBhLmFzbjEub2NzcC5SZXNwb25zZUJ5dGVzLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzKTtcbiAgdmFyIHQgPSBhLmFzbjEsIHIgPSB0LkRFUlNlcXVlbmNlLCBpID0gdC5ERVJPYmplY3RJZGVudGlmaWVyLCBzID0gdC5ERVJPY3RldFN0cmluZywgbiA9IHQub2NzcC5CYXNpY09DU1BSZXNwb25zZTtcbiAgdGhpcy5wYXJhbXMgPSBudWxsLCB0aGlzLnNldEJ5UGFyYW0gPSBmdW5jdGlvbihoKSB7XG4gICAgdGhpcy5wYXJhbXMgPSBoO1xuICB9LCB0aGlzLnRvaGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGggPSB0aGlzLnBhcmFtcztcbiAgICBpZiAoaC5yZXN0eXBlICE9IFwib2NzcEJhc2ljXCIpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJub3Qgc3VwcG9ydGVkIHJlc3BvbnNlVHlwZTogXCIgKyBoLnJlc3R5cGUpO1xuICAgIHZhciB1ID0gbmV3IG4oaCksIHAgPSBbXTtcbiAgICBwLnB1c2gobmV3IGkoeyBuYW1lOiBcIm9jc3BCYXNpY1wiIH0pKSwgcC5wdXNoKG5ldyBzKHsgaGV4OiB1LnRvaGV4KCkgfSkpO1xuICAgIHZhciBjID0gbmV3IHIoeyBhcnJheTogcCB9KTtcbiAgICByZXR1cm4gYy50b2hleCgpO1xuICB9LCB0aGlzLmdldEVuY29kZWRIZXggPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy50b2hleCgpO1xuICB9LCBlICE9PSB2b2lkIDAgJiYgdGhpcy5zZXRCeVBhcmFtKGUpO1xufTtcbk4oYS5hc24xLm9jc3AuUmVzcG9uc2VCeXRlcywgYS5hc24xLkFTTjFPYmplY3QpO1xuYS5hc24xLm9jc3AuQmFzaWNPQ1NQUmVzcG9uc2UgPSBmdW5jdGlvbihlKSB7XG4gIGEuYXNuMS5vY3NwLkJhc2ljT0NTUFJlc3BvbnNlLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzKTtcbiAgdmFyIHQgPSBFcnJvciwgciA9IGEuYXNuMSwgaSA9IHIuQVNOMU9iamVjdCwgcyA9IHIuREVSU2VxdWVuY2U7XG4gIHIuREVSR2VuZXJhbGl6ZWRUaW1lO1xuICB2YXIgbiA9IHIuREVSVGFnZ2VkT2JqZWN0LCBoID0gci5ERVJCaXRTdHJpbmc7XG4gIHIueDUwOS5FeHRlbnNpb25zO1xuICB2YXIgdSA9IHIueDUwOS5BbGdvcml0aG1JZGVudGlmaWVyLCBwID0gci5vY3NwO1xuICBwLlJlc3BvbmRlcklELCBfU2luZ2xlUmVzcG9uc2VMaXN0ID0gcC5TaW5nbGVSZXNwb25zZUxpc3QsIF9SZXNwb25zZURhdGEgPSBwLlJlc3BvbnNlRGF0YSwgdGhpcy5wYXJhbXMgPSBudWxsLCB0aGlzLnNldEJ5UGFyYW0gPSBmdW5jdGlvbihjKSB7XG4gICAgdGhpcy5wYXJhbXMgPSBjO1xuICB9LCB0aGlzLnNpZ24gPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgYyA9IHRoaXMucGFyYW1zLCB5ID0gYy50YnNyZXNwLnRvaGV4KCksIHYgPSBuZXcgYS5jcnlwdG8uU2lnbmF0dXJlKHsgYWxnOiBjLnNpZ2FsZyB9KTtcbiAgICB2LmluaXQoYy5yZXNrZXkpLCB2LnVwZGF0ZUhleCh5KSwgYy5zaWdoZXggPSB2LnNpZ24oKTtcbiAgfSwgdGhpcy50b2hleCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBjID0gdGhpcy5wYXJhbXM7XG4gICAgYy50YnNyZXNwID09IG51bGwgJiYgKGMudGJzcmVzcCA9IG5ldyBfUmVzcG9uc2VEYXRhKGMpKSwgYy5zaWdoZXggPT0gbnVsbCAmJiBjLnJlc2tleSAhPSBudWxsICYmIHRoaXMuc2lnbigpO1xuICAgIHZhciB5ID0gW107XG4gICAgaWYgKHkucHVzaChjLnRic3Jlc3ApLCB5LnB1c2gobmV3IHUoeyBuYW1lOiBjLnNpZ2FsZyB9KSksIHkucHVzaChuZXcgaCh7IGhleDogXCIwMFwiICsgYy5zaWdoZXggfSkpLCBjLmNlcnRzICE9IG51bGwgJiYgYy5jZXJ0cy5sZW5ndGggIT0gbnVsbCkge1xuICAgICAgZm9yICh2YXIgdiA9IFtdLCBvID0gMDsgbyA8IGMuY2VydHMubGVuZ3RoOyBvKyspIHtcbiAgICAgICAgdmFyIGwgPSBjLmNlcnRzW29dLCBmID0gbnVsbDtcbiAgICAgICAgaWYgKFYuaXNBU04xSEVYKGwpKVxuICAgICAgICAgIGYgPSBsO1xuICAgICAgICBlbHNlIGlmIChsLm1hdGNoKC8tLS0tLUJFR0lOLykpXG4gICAgICAgICAgZiA9IGllKGwpO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgdGhyb3cgbmV3IHQoXCJjZXJ0c1tcIiArIG8gKyBcIl0gbm90IGhleCBvciBQRU1cIik7XG4gICAgICAgIHYucHVzaChuZXcgaSh7IHRsdjogZiB9KSk7XG4gICAgICB9XG4gICAgICB2YXIgZCA9IG5ldyBzKHsgYXJyYXk6IHYgfSk7XG4gICAgICB5LnB1c2gobmV3IG4oeyB0YWc6IFwiYTBcIiwgZXhwbGljaXQ6ICEwLCBvYmo6IGQgfSkpO1xuICAgIH1cbiAgICB2YXIgZyA9IG5ldyBzKHsgYXJyYXk6IHkgfSk7XG4gICAgcmV0dXJuIGcudG9oZXgoKTtcbiAgfSwgdGhpcy5nZXRFbmNvZGVkSGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMudG9oZXgoKTtcbiAgfSwgZSAhPT0gdm9pZCAwICYmIHRoaXMuc2V0QnlQYXJhbShlKTtcbn07XG5OKGEuYXNuMS5vY3NwLkJhc2ljT0NTUFJlc3BvbnNlLCBhLmFzbjEuQVNOMU9iamVjdCk7XG5hLmFzbjEub2NzcC5SZXNwb25zZURhdGEgPSBmdW5jdGlvbihlKSB7XG4gIGEuYXNuMS5vY3NwLlJlc3BvbnNlRGF0YS5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyk7XG4gIHZhciB0ID0gYS5hc24xLCByID0gdC5ERVJTZXF1ZW5jZSwgaSA9IHQuREVSR2VuZXJhbGl6ZWRUaW1lLCBzID0gdC5ERVJUYWdnZWRPYmplY3QsIG4gPSB0Lng1MDkuRXh0ZW5zaW9ucywgaCA9IHQub2NzcCwgdSA9IGguUmVzcG9uZGVySUQ7XG4gIF9TaW5nbGVSZXNwb25zZUxpc3QgPSBoLlNpbmdsZVJlc3BvbnNlTGlzdCwgdGhpcy5wYXJhbXMgPSBudWxsLCB0aGlzLnRvaGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHAgPSB0aGlzLnBhcmFtcztcbiAgICBwLnJlc3BpZCAhPSBudWxsLCBwLnByb2RhdCAhPSBudWxsLCBwLmFycmF5ICE9IG51bGw7XG4gICAgdmFyIGMgPSBbXTtcbiAgICBpZiAoYy5wdXNoKG5ldyB1KHAucmVzcGlkKSksIGMucHVzaChuZXcgaShwLnByb2RhdCkpLCBjLnB1c2gobmV3IF9TaW5nbGVSZXNwb25zZUxpc3QocC5hcnJheSkpLCBwLmV4dCAhPSBudWxsKSB7XG4gICAgICB2YXIgeSA9IG5ldyBuKHAuZXh0KTtcbiAgICAgIGMucHVzaChuZXcgcyh7IHRhZzogXCJhMVwiLCBleHBsaWNpdDogITAsIG9iajogeSB9KSk7XG4gICAgfVxuICAgIHZhciB2ID0gbmV3IHIoeyBhcnJheTogYyB9KTtcbiAgICByZXR1cm4gdi50b2hleCgpO1xuICB9LCB0aGlzLmdldEVuY29kZWRIZXggPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy50b2hleCgpO1xuICB9LCB0aGlzLnNldEJ5UGFyYW0gPSBmdW5jdGlvbihwKSB7XG4gICAgdGhpcy5wYXJhbXMgPSBwO1xuICB9LCBlICE9PSB2b2lkIDAgJiYgdGhpcy5zZXRCeVBhcmFtKGUpO1xufTtcbk4oYS5hc24xLm9jc3AuUmVzcG9uc2VEYXRhLCBhLmFzbjEuQVNOMU9iamVjdCk7XG5hLmFzbjEub2NzcC5SZXNwb25kZXJJRCA9IGZ1bmN0aW9uKGUpIHtcbiAgYS5hc24xLm9jc3AuUmVzcG9uZGVySUQuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpO1xuICB2YXIgdCA9IGEsIHIgPSB0LmFzbjEsIGkgPSByLkFTTjFVdGlsLm5ld09iamVjdCwgcyA9IHIueDUwOS5YNTAwTmFtZSwgbiA9IHQubGFuZy5TdHJpbmcuaXNIZXgsIGggPSBFcnJvcjtcbiAgdGhpcy5wYXJhbXMgPSBudWxsLCB0aGlzLnRvaGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHUgPSB0aGlzLnBhcmFtcztcbiAgICBpZiAodS5rZXkgIT0gbnVsbCkge1xuICAgICAgdmFyIHAgPSBudWxsO1xuICAgICAgaWYgKHR5cGVvZiB1LmtleSA9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIGlmIChuKHUua2V5KSAmJiAocCA9IHUua2V5KSwgdS5rZXkubWF0Y2goLy0tLS0tQkVHSU4gQ0VSVElGSUNBVEUvKSkge1xuICAgICAgICAgIHZhciBjID0gbmV3IEwodS5rZXkpLCB5ID0gYy5nZXRFeHRTdWJqZWN0S2V5SWRlbnRpZmllcigpO1xuICAgICAgICAgIHkgIT0gbnVsbCAmJiAocCA9IHkua2lkLmhleCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAodS5rZXkgaW5zdGFuY2VvZiBMKSB7XG4gICAgICAgIHZhciB5ID0gdS5rZXkuZ2V0RXh0U3ViamVjdEtleUlkZW50aWZpZXIoKTtcbiAgICAgICAgeSAhPSBudWxsICYmIChwID0geS5raWQuaGV4KTtcbiAgICAgIH1cbiAgICAgIGlmIChwID09IG51bGwpXG4gICAgICAgIHRocm93IG5ldyBoKFwid3Jvbmcga2V5IG1lbWJlciB2YWx1ZVwiKTtcbiAgICAgIHZhciB2ID0gaSh7IHRhZzogeyB0YWc6IFwiYTJcIiwgZXhwbGljaXQ6ICEwLCBvYmo6IHsgb2N0c3RyOiB7IGhleDogcCB9IH0gfSB9KTtcbiAgICAgIHJldHVybiB2LnRvaGV4KCk7XG4gICAgfSBlbHNlIGlmICh1Lm5hbWUgIT0gbnVsbCkge1xuICAgICAgdmFyIG8gPSBudWxsO1xuICAgICAgaWYgKHR5cGVvZiB1Lm5hbWUgPT0gXCJzdHJpbmdcIiAmJiB1Lm5hbWUubWF0Y2goLy0tLS0tQkVHSU4gQ0VSVElGSUNBVEUvKSkge1xuICAgICAgICB2YXIgYyA9IG5ldyBMKHUubmFtZSk7XG4gICAgICAgIG8gPSBjLmdldFN1YmplY3QoKTtcbiAgICAgIH0gZWxzZVxuICAgICAgICB1Lm5hbWUgaW5zdGFuY2VvZiBMID8gbyA9IHUubmFtZS5nZXRTdWJqZWN0KCkgOiB0eXBlb2YgdS5uYW1lID09IFwib2JqZWN0XCIgJiYgKHUubmFtZS5hcnJheSAhPSBudWxsIHx8IHUubmFtZS5zdHIgIT0gbnVsbCkgJiYgKG8gPSB1Lm5hbWUpO1xuICAgICAgaWYgKG8gPT0gbnVsbClcbiAgICAgICAgdGhyb3cgbmV3IGgoXCJ3cm9uZyBuYW1lIG1lbWJlciB2YWx1ZVwiKTtcbiAgICAgIHZhciB2ID0gaSh7IHRhZzogeyB0YWc6IFwiYTFcIiwgZXhwbGljaXQ6ICEwLCBvYmo6IG5ldyBzKG8pIH0gfSk7XG4gICAgICByZXR1cm4gdi50b2hleCgpO1xuICAgIH1cbiAgICB0aHJvdyBuZXcgaChcImtleSBvciBuYW1lIG5vdCBzcGVjaWZpZWRcIik7XG4gIH0sIHRoaXMuZ2V0RW5jb2RlZEhleCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLnRvaGV4KCk7XG4gIH0sIHRoaXMuc2V0QnlQYXJhbSA9IGZ1bmN0aW9uKHUpIHtcbiAgICB0aGlzLnBhcmFtcyA9IHU7XG4gIH0sIGUgIT09IHZvaWQgMCAmJiB0aGlzLnNldEJ5UGFyYW0oZSk7XG59O1xuTihhLmFzbjEub2NzcC5SZXNwb25kZXJJRCwgYS5hc24xLkFTTjFPYmplY3QpO1xuYS5hc24xLm9jc3AuU2luZ2xlUmVzcG9uc2VMaXN0ID0gZnVuY3Rpb24oZSkge1xuICBhLmFzbjEub2NzcC5TaW5nbGVSZXNwb25zZUxpc3Quc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpO1xuICB2YXIgdCA9IGEuYXNuMSwgciA9IHQuREVSU2VxdWVuY2UsIGkgPSB0Lm9jc3AuU2luZ2xlUmVzcG9uc2U7XG4gIHRoaXMucGFyYW1zID0gbnVsbCwgdGhpcy50b2hleCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBzID0gdGhpcy5wYXJhbXM7XG4gICAgaWYgKHR5cGVvZiBzICE9IFwib2JqZWN0XCIgfHwgcy5sZW5ndGggPT0gbnVsbClcbiAgICAgIHRocm93IG5ldyBFcnJvcihcInBhcmFtcyBub3Qgc3BlY2lmaWVkIHByb3Blcmx5XCIpO1xuICAgIGZvciAodmFyIG4gPSBbXSwgaCA9IDA7IGggPCBzLmxlbmd0aDsgaCsrKVxuICAgICAgbi5wdXNoKG5ldyBpKHNbaF0pKTtcbiAgICB2YXIgdSA9IG5ldyByKHsgYXJyYXk6IG4gfSk7XG4gICAgcmV0dXJuIHUudG9oZXgoKTtcbiAgfSwgdGhpcy5nZXRFbmNvZGVkSGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMudG9oZXgoKTtcbiAgfSwgdGhpcy5zZXRCeVBhcmFtID0gZnVuY3Rpb24ocykge1xuICAgIHRoaXMucGFyYW1zID0gcztcbiAgfSwgZSAhPT0gdm9pZCAwICYmIHRoaXMuc2V0QnlQYXJhbShlKTtcbn07XG5OKGEuYXNuMS5vY3NwLlNpbmdsZVJlc3BvbnNlTGlzdCwgYS5hc24xLkFTTjFPYmplY3QpO1xuYS5hc24xLm9jc3AuU2luZ2xlUmVzcG9uc2UgPSBmdW5jdGlvbihlKSB7XG4gIHZhciB0ID0gRXJyb3IsIHIgPSBhLCBpID0gci5hc24xLCBzID0gaS5ERVJTZXF1ZW5jZSwgbiA9IGkuREVSR2VuZXJhbGl6ZWRUaW1lLCBoID0gaS5ERVJUYWdnZWRPYmplY3QsIHUgPSBpLm9jc3AsIHAgPSB1LkNlcnRJRCwgYyA9IHUuQ2VydFN0YXR1cywgeSA9IGkueDUwOSwgdiA9IHkuRXh0ZW5zaW9ucztcbiAgdS5TaW5nbGVSZXNwb25zZS5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyksIHRoaXMucGFyYW1zID0gbnVsbCwgdGhpcy50b2hleCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBvID0gdGhpcy5wYXJhbXMsIGwgPSBbXTtcbiAgICBpZiAoby5jZXJ0aWQgPT0gbnVsbClcbiAgICAgIHRocm93IG5ldyB0KFwiY2VydGlkIHVuc3BlY2lmaWVkXCIpO1xuICAgIGlmIChvLnN0YXR1cyA9PSBudWxsKVxuICAgICAgdGhyb3cgbmV3IHQoXCJzdGF0dXMgdW5zcGVjaWZpZWRcIik7XG4gICAgaWYgKG8udGhpc3VwZGF0ZSA9PSBudWxsKVxuICAgICAgdGhyb3cgbmV3IHQoXCJ0aGlzdXBkYXRlIHVuc3BlY2lmaWVkXCIpO1xuICAgIGlmIChsLnB1c2gobmV3IHAoby5jZXJ0aWQpKSwgbC5wdXNoKG5ldyBjKG8uc3RhdHVzKSksIGwucHVzaChuZXcgbihvLnRoaXN1cGRhdGUpKSwgby5uZXh0dXBkYXRlICE9IG51bGwpIHtcbiAgICAgIHZhciBmID0gbmV3IG4oby5uZXh0dXBkYXRlKTtcbiAgICAgIGwucHVzaChuZXcgaCh7IHRhZzogXCJhMFwiLCBleHBsaWNpdDogITAsIG9iajogZiB9KSk7XG4gICAgfVxuICAgIGlmIChvLmV4dCAhPSBudWxsKSB7XG4gICAgICB2YXIgZCA9IG5ldyB2KG8uZXh0KTtcbiAgICAgIGwucHVzaChuZXcgaCh7IHRhZzogXCJhMVwiLCBleHBsaWNpdDogITAsIG9iajogZCB9KSk7XG4gICAgfVxuICAgIHZhciBnID0gbmV3IHMoeyBhcnJheTogbCB9KTtcbiAgICByZXR1cm4gZy50b2hleCgpO1xuICB9LCB0aGlzLmdldEVuY29kZWRIZXggPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy50b2hleCgpO1xuICB9LCB0aGlzLnNldEJ5UGFyYW0gPSBmdW5jdGlvbihvKSB7XG4gICAgdGhpcy5wYXJhbXMgPSBvO1xuICB9LCBlICE9PSB2b2lkIDAgJiYgdGhpcy5zZXRCeVBhcmFtKGUpO1xufTtcbk4oYS5hc24xLm9jc3AuU2luZ2xlUmVzcG9uc2UsIGEuYXNuMS5BU04xT2JqZWN0KTtcbmEuYXNuMS5vY3NwLkNlcnRJRCA9IGZ1bmN0aW9uKGUpIHtcbiAgdmFyIHQgPSBhLCByID0gdC5hc24xLCBpID0gci5ERVJPY3RldFN0cmluZywgcyA9IHIuREVSSW50ZWdlciwgbiA9IHIuREVSU2VxdWVuY2UsIGggPSByLng1MDksIHUgPSBoLkFsZ29yaXRobUlkZW50aWZpZXIsIHAgPSByLm9jc3A7XG4gIHAuREVGQVVMVF9IQVNIO1xuICB2YXIgYyA9IHQuY3J5cHRvLCB5ID0gYy5VdGlsLmhhc2hIZXgsIHYgPSBMLCBvID0gViwgbCA9IG8uZ2V0VmJ5TGlzdDtcbiAgcC5DZXJ0SUQuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpLCB0aGlzLkRFRkFVTFRfSEFTSCA9IFwic2hhMVwiLCB0aGlzLnBhcmFtcyA9IG51bGwsIHRoaXMuc2V0QnlWYWx1ZSA9IGZ1bmN0aW9uKGYsIGQsIGcsIFMpIHtcbiAgICBTID09IG51bGwgJiYgKFMgPSB0aGlzLkRFRkFVTFRfSEFTSCksIHRoaXMucGFyYW1zID0geyBhbGc6IFMsIGlzc25hbWU6IGYsIGlzc2tleTogZCwgc2Jqc246IGcgfTtcbiAgfSwgdGhpcy5zZXRCeUNlcnQgPSBmdW5jdGlvbihmLCBkLCBnKSB7XG4gICAgZyA9PSBudWxsICYmIChnID0gdGhpcy5ERUZBVUxUX0hBU0gpLCB0aGlzLnBhcmFtcyA9IHsgYWxnOiBnLCBpc3N1ZXJDZXJ0OiBmLCBzdWJqZWN0Q2VydDogZCB9O1xuICB9LCB0aGlzLmdldFBhcmFtQnlDZXJ0cyA9IGZ1bmN0aW9uKGYsIGQsIGcpIHtcbiAgICBnID09IG51bGwgJiYgKGcgPSB0aGlzLkRFRkFVTFRfSEFTSCk7XG4gICAgdmFyIFMgPSBuZXcgdihmKSwgYiA9IG5ldyB2KGQpLCBEID0geShTLmdldFN1YmplY3RIZXgoKSwgZyksIEEgPSBTLmdldFB1YmxpY0tleUhleCgpLCBJID0geShsKEEsIDAsIFsxXSwgXCIwM1wiLCAhMCksIGcpLCBtID0gYi5nZXRTZXJpYWxOdW1iZXJIZXgoKSwgRSA9IHsgYWxnOiBnLCBpc3NuYW1lOiBELCBpc3NrZXk6IEksIHNianNuOiBtIH07XG4gICAgcmV0dXJuIEU7XG4gIH0sIHRoaXMudG9oZXggPSBmdW5jdGlvbigpIHtcbiAgICBpZiAodHlwZW9mIHRoaXMucGFyYW1zICE9IFwib2JqZWN0XCIpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJwYXJhbXMgbm90IHNldFwiKTtcbiAgICB2YXIgZiA9IHRoaXMucGFyYW1zLCBkLCBnLCBTLCBiO1xuICAgIGlmIChmLmFsZyA9PSBudWxsID8gYiA9IHRoaXMuREVGQVVMVF9IQVNIIDogYiA9IGYuYWxnLCBmLmlzc3VlckNlcnQgIT0gbnVsbCAmJiBmLnN1YmplY3RDZXJ0ICE9IG51bGwpIHtcbiAgICAgIHZhciBEID0gdGhpcy5nZXRQYXJhbUJ5Q2VydHMoZi5pc3N1ZXJDZXJ0LCBmLnN1YmplY3RDZXJ0LCBiKTtcbiAgICAgIGQgPSBELmlzc25hbWUsIGcgPSBELmlzc2tleSwgUyA9IEQuc2Jqc247XG4gICAgfSBlbHNlIGlmIChmLmlzc25hbWUgIT0gbnVsbCAmJiBmLmlzc2tleSAhPSBudWxsICYmIGYuc2Jqc24gIT0gbnVsbClcbiAgICAgIGQgPSBmLmlzc25hbWUsIGcgPSBmLmlzc2tleSwgUyA9IGYuc2Jqc247XG4gICAgZWxzZVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwicmVxdWlyZWQgcGFyYW0gbWVtYmVycyBub3QgZGVmaW5lZFwiKTtcbiAgICB2YXIgQSA9IG5ldyB1KHsgbmFtZTogYiB9KSwgSSA9IG5ldyBpKHsgaGV4OiBkIH0pLCBtID0gbmV3IGkoeyBoZXg6IGcgfSksIEUgPSBuZXcgcyh7IGhleDogUyB9KSwgdyA9IG5ldyBuKHsgYXJyYXk6IFtBLCBJLCBtLCBFXSB9KTtcbiAgICByZXR1cm4gdGhpcy5oVExWID0gdy50b2hleCgpLCB0aGlzLmhUTFY7XG4gIH0sIHRoaXMuZ2V0RW5jb2RlZEhleCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLnRvaGV4KCk7XG4gIH0sIGUgIT09IHZvaWQgMCAmJiB0aGlzLnNldEJ5UGFyYW0oZSk7XG59O1xuTihhLmFzbjEub2NzcC5DZXJ0SUQsIGEuYXNuMS5BU04xT2JqZWN0KTtcbmEuYXNuMS5vY3NwLkNlcnRTdGF0dXMgPSBmdW5jdGlvbihlKSB7XG4gIGEuYXNuMS5vY3NwLkNlcnRTdGF0dXMuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpLCB0aGlzLnBhcmFtcyA9IG51bGwsIHRoaXMudG9oZXggPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgdCA9IHRoaXMucGFyYW1zO1xuICAgIGlmICh0LnN0YXR1cyA9PSBcImdvb2RcIilcbiAgICAgIHJldHVybiBcIjgwMDBcIjtcbiAgICBpZiAodC5zdGF0dXMgPT0gXCJ1bmtub3duXCIpXG4gICAgICByZXR1cm4gXCI4MjAwXCI7XG4gICAgaWYgKHQuc3RhdHVzID09IFwicmV2b2tlZFwiKSB7XG4gICAgICB2YXIgciA9IFt7IGdlbnRpbWU6IHsgc3RyOiB0LnRpbWUgfSB9XTtcbiAgICAgIHQucmVhc29uICE9IG51bGwgJiYgci5wdXNoKHsgdGFnOiB7IHRhZzogXCJhMFwiLCBleHBsaWNpdDogITAsIG9iajogeyBlbnVtOiB7IGludDogdC5yZWFzb24gfSB9IH0gfSk7XG4gICAgICB2YXIgaSA9IHsgdGFnOiBcImExXCIsIGV4cGxpY2l0OiAhMSwgb2JqOiB7IHNlcTogciB9IH07XG4gICAgICByZXR1cm4gYS5hc24xLkFTTjFVdGlsLm5ld09iamVjdCh7IHRhZzogaSB9KS50b2hleCgpO1xuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJiYWQgc3RhdHVzXCIpO1xuICB9LCB0aGlzLmdldEVuY29kZWRIZXggPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy50b2hleCgpO1xuICB9LCB0aGlzLnNldEJ5UGFyYW0gPSBmdW5jdGlvbih0KSB7XG4gICAgdGhpcy5wYXJhbXMgPSB0O1xuICB9LCBlICE9PSB2b2lkIDAgJiYgdGhpcy5zZXRCeVBhcmFtKGUpO1xufTtcbk4oYS5hc24xLm9jc3AuQ2VydFN0YXR1cywgYS5hc24xLkFTTjFPYmplY3QpO1xuYS5hc24xLm9jc3AuUmVxdWVzdCA9IGZ1bmN0aW9uKGUpIHtcbiAgdmFyIHQgPSBhLCByID0gdC5hc24xLCBpID0gci5ERVJTZXF1ZW5jZSwgcyA9IHIub2NzcDtcbiAgaWYgKHMuUmVxdWVzdC5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyksIHRoaXMuZFJlcUNlcnQgPSBudWxsLCB0aGlzLmRFeHQgPSBudWxsLCB0aGlzLnRvaGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGggPSBbXTtcbiAgICBpZiAodGhpcy5kUmVxQ2VydCA9PT0gbnVsbClcbiAgICAgIHRocm93IFwicmVxQ2VydCBub3Qgc2V0XCI7XG4gICAgaC5wdXNoKHRoaXMuZFJlcUNlcnQpO1xuICAgIHZhciB1ID0gbmV3IGkoeyBhcnJheTogaCB9KTtcbiAgICByZXR1cm4gdGhpcy5oVExWID0gdS50b2hleCgpLCB0aGlzLmhUTFY7XG4gIH0sIHRoaXMuZ2V0RW5jb2RlZEhleCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLnRvaGV4KCk7XG4gIH0sIHR5cGVvZiBlIDwgXCJ1XCIpIHtcbiAgICB2YXIgbiA9IG5ldyBzLkNlcnRJRChlKTtcbiAgICB0aGlzLmRSZXFDZXJ0ID0gbjtcbiAgfVxufTtcbk4oYS5hc24xLm9jc3AuUmVxdWVzdCwgYS5hc24xLkFTTjFPYmplY3QpO1xuYS5hc24xLm9jc3AuVEJTUmVxdWVzdCA9IGZ1bmN0aW9uKGUpIHtcbiAgdmFyIHQgPSBhLCByID0gdC5hc24xLCBpID0gci5ERVJTZXF1ZW5jZSwgcyA9IHIub2NzcDtcbiAgcy5UQlNSZXF1ZXN0LnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzKSwgdGhpcy52ZXJzaW9uID0gMCwgdGhpcy5kUmVxdWVzdG9yTmFtZSA9IG51bGwsIHRoaXMuZFJlcXVlc3RMaXN0ID0gW10sIHRoaXMuZFJlcXVlc3RFeHQgPSBudWxsLCB0aGlzLnNldFJlcXVlc3RMaXN0QnlQYXJhbSA9IGZ1bmN0aW9uKG4pIHtcbiAgICBmb3IgKHZhciBoID0gW10sIHUgPSAwOyB1IDwgbi5sZW5ndGg7IHUrKykge1xuICAgICAgdmFyIHAgPSBuZXcgcy5SZXF1ZXN0KG5bMF0pO1xuICAgICAgaC5wdXNoKHApO1xuICAgIH1cbiAgICB0aGlzLmRSZXF1ZXN0TGlzdCA9IGg7XG4gIH0sIHRoaXMudG9oZXggPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgbiA9IFtdO1xuICAgIGlmICh0aGlzLnZlcnNpb24gIT09IDApXG4gICAgICB0aHJvdyBcIm5vdCBzdXBwb3J0ZWQgdmVyc2lvbjogXCIgKyB0aGlzLnZlcnNpb247XG4gICAgaWYgKHRoaXMuZFJlcXVlc3Rvck5hbWUgIT09IG51bGwpXG4gICAgICB0aHJvdyBcInJlcXVlc3Rvck5hbWUgbm90IHN1cHBvcnRlZFwiO1xuICAgIHZhciBoID0gbmV3IGkoeyBhcnJheTogdGhpcy5kUmVxdWVzdExpc3QgfSk7XG4gICAgaWYgKG4ucHVzaChoKSwgdGhpcy5kUmVxdWVzdEV4dCAhPT0gbnVsbClcbiAgICAgIHRocm93IFwicmVxdWVzdEV4dGVuc2lvbnMgbm90IHN1cHBvcnRlZFwiO1xuICAgIHZhciB1ID0gbmV3IGkoeyBhcnJheTogbiB9KTtcbiAgICByZXR1cm4gdGhpcy5oVExWID0gdS50b2hleCgpLCB0aGlzLmhUTFY7XG4gIH0sIHRoaXMuZ2V0RW5jb2RlZEhleCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLnRvaGV4KCk7XG4gIH0sIGUgIT09IHZvaWQgMCAmJiBlLnJlcUxpc3QgIT09IHZvaWQgMCAmJiB0aGlzLnNldFJlcXVlc3RMaXN0QnlQYXJhbShlLnJlcUxpc3QpO1xufTtcbk4oYS5hc24xLm9jc3AuVEJTUmVxdWVzdCwgYS5hc24xLkFTTjFPYmplY3QpO1xuYS5hc24xLm9jc3AuT0NTUFJlcXVlc3QgPSBmdW5jdGlvbihlKSB7XG4gIHZhciB0ID0gYSwgciA9IHQuYXNuMSwgaSA9IHIuREVSU2VxdWVuY2UsIHMgPSByLm9jc3A7XG4gIGlmIChzLk9DU1BSZXF1ZXN0LnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzKSwgdGhpcy5kVGJzUmVxdWVzdCA9IG51bGwsIHRoaXMuZE9wdGlvbmFsU2lnbmF0dXJlID0gbnVsbCwgdGhpcy50b2hleCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBoID0gW107XG4gICAgaWYgKHRoaXMuZFRic1JlcXVlc3QgIT09IG51bGwpXG4gICAgICBoLnB1c2godGhpcy5kVGJzUmVxdWVzdCk7XG4gICAgZWxzZVxuICAgICAgdGhyb3cgXCJ0YnNSZXF1ZXN0IG5vdCBzZXRcIjtcbiAgICBpZiAodGhpcy5kT3B0aW9uYWxTaWduYXR1cmUgIT09IG51bGwpXG4gICAgICB0aHJvdyBcIm9wdGlvbmFsU2lnbmF0dXJlIG5vdCBzdXBwb3J0ZWRcIjtcbiAgICB2YXIgdSA9IG5ldyBpKHsgYXJyYXk6IGggfSk7XG4gICAgcmV0dXJuIHRoaXMuaFRMViA9IHUudG9oZXgoKSwgdGhpcy5oVExWO1xuICB9LCB0aGlzLmdldEVuY29kZWRIZXggPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy50b2hleCgpO1xuICB9LCBlICE9PSB2b2lkIDAgJiYgZS5yZXFMaXN0ICE9PSB2b2lkIDApIHtcbiAgICB2YXIgbiA9IG5ldyBzLlRCU1JlcXVlc3QoZSk7XG4gICAgdGhpcy5kVGJzUmVxdWVzdCA9IG47XG4gIH1cbn07XG5OKGEuYXNuMS5vY3NwLk9DU1BSZXF1ZXN0LCBhLmFzbjEuQVNOMU9iamVjdCk7XG5hLmFzbjEub2NzcC5PQ1NQVXRpbCA9IHt9O1xuYS5hc24xLm9jc3AuT0NTUFV0aWwuZ2V0UmVxdWVzdEhleCA9IGZ1bmN0aW9uKGUsIHQsIHIpIHtcbiAgdmFyIGkgPSBhLCBzID0gaS5hc24xLCBuID0gcy5vY3NwO1xuICByID09PSB2b2lkIDAgJiYgKHIgPSBuLkRFRkFVTFRfSEFTSCk7XG4gIHZhciBoID0geyBhbGc6IHIsIGlzc3VlckNlcnQ6IGUsIHN1YmplY3RDZXJ0OiB0IH0sIHUgPSBuZXcgbi5PQ1NQUmVxdWVzdCh7IHJlcUxpc3Q6IFtoXSB9KTtcbiAgcmV0dXJuIHUudG9oZXgoKTtcbn07XG5hLmFzbjEub2NzcC5PQ1NQVXRpbC5nZXRPQ1NQUmVzcG9uc2VJbmZvID0gZnVuY3Rpb24oZSkge1xuICB2YXIgdCA9IFYsIHIgPSB0LmdldFZieUxpc3QsIGkgPSB0LmdldFZieUxpc3RFeCwgcyA9IHQuZ2V0SWR4YnlMaXN0O1xuICB0LmdldElkeGJ5TGlzdEV4O1xuICB2YXIgbiA9IHQuZ2V0ViwgaCA9IHt9O1xuICB0cnkge1xuICAgIHZhciB1ID0gaShlLCAwLCBbMF0sIFwiMGFcIik7XG4gICAgaC5yZXNwb25zZVN0YXR1cyA9IHBhcnNlSW50KHUsIDE2KTtcbiAgfSBjYXRjaCB7XG4gIH1cbiAgaWYgKGgucmVzcG9uc2VTdGF0dXMgIT09IDApXG4gICAgcmV0dXJuIGg7XG4gIHRyeSB7XG4gICAgdmFyIHAgPSBzKGUsIDAsIFsxLCAwLCAxLCAwLCAwLCAyLCAwLCAxXSk7XG4gICAgZS5zdWJzdHIocCwgMikgPT09IFwiODBcIiA/IGguY2VydFN0YXR1cyA9IFwiZ29vZFwiIDogZS5zdWJzdHIocCwgMikgPT09IFwiYTFcIiA/IChoLmNlcnRTdGF0dXMgPSBcInJldm9rZWRcIiwgaC5yZXZvY2F0aW9uVGltZSA9IFcocihlLCBwLCBbMF0pKSkgOiBlLnN1YnN0cihwLCAyKSA9PT0gXCI4MlwiICYmIChoLmNlcnRTdGF0dXMgPSBcInVua25vd25cIik7XG4gIH0gY2F0Y2gge1xuICB9XG4gIHRyeSB7XG4gICAgdmFyIGMgPSBzKGUsIDAsIFsxLCAwLCAxLCAwLCAwLCAyLCAwLCAyXSk7XG4gICAgaC50aGlzVXBkYXRlID0gVyhuKGUsIGMpKTtcbiAgfSBjYXRjaCB7XG4gIH1cbiAgdHJ5IHtcbiAgICB2YXIgeSA9IHMoZSwgMCwgWzEsIDAsIDEsIDAsIDAsIDIsIDAsIDNdKTtcbiAgICBlLnN1YnN0cih5LCAyKSA9PT0gXCJhMFwiICYmIChoLm5leHRVcGRhdGUgPSBXKHIoZSwgeSwgWzBdKSkpO1xuICB9IGNhdGNoIHtcbiAgfVxuICByZXR1cm4gaDtcbn07XG5hLmFzbjEub2NzcC5PQ1NQUGFyc2VyID0gZnVuY3Rpb24oKSB7XG4gIHZhciBlID0gRXJyb3IsIHQgPSBMLCByID0gbmV3IHQoKSwgaSA9IFYsIHMgPSBpLmdldFYsIG4gPSBpLmdldFRMViwgaCA9IGkuZ2V0SWR4YnlMaXN0LCB1ID0gaS5nZXRWYnlMaXN0LCBwID0gaS5nZXRUTFZieUxpc3QsIGMgPSBpLmdldFZieUxpc3RFeCwgeSA9IGkuZ2V0VExWYnlMaXN0RXgsIHYgPSBpLmdldENoaWxkSWR4O1xuICB0aGlzLmdldE9DU1BSZXF1ZXN0ID0gZnVuY3Rpb24obykge1xuICAgIHZhciBsID0gdihvLCAwKTtcbiAgICBpZiAobC5sZW5ndGggIT0gMSAmJiBsLmxlbmd0aCAhPSAyKVxuICAgICAgdGhyb3cgbmV3IGUoXCJ3cm9uZyBudW1iZXIgZWxlbWVudHM6IFwiICsgbC5sZW5ndGgpO1xuICAgIHZhciBmID0gdGhpcy5nZXRUQlNSZXF1ZXN0KG4obywgbFswXSkpO1xuICAgIHJldHVybiBmO1xuICB9LCB0aGlzLmdldFRCU1JlcXVlc3QgPSBmdW5jdGlvbihvKSB7XG4gICAgdmFyIGwgPSB7fSwgZiA9IHkobywgMCwgWzBdLCBcIjMwXCIpO1xuICAgIGwuYXJyYXkgPSB0aGlzLmdldFJlcXVlc3RMaXN0KGYpO1xuICAgIHZhciBkID0geShvLCAwLCBbXCJbMl1cIiwgMF0sIFwiMzBcIik7XG4gICAgcmV0dXJuIGQgIT0gbnVsbCAmJiAobC5leHQgPSByLmdldEV4dFBhcmFtQXJyYXkoZCkpLCBsO1xuICB9LCB0aGlzLmdldFJlcXVlc3RMaXN0ID0gZnVuY3Rpb24obykge1xuICAgIGZvciAodmFyIGwgPSBbXSwgZiA9IHYobywgMCksIGQgPSAwOyBkIDwgZi5sZW5ndGg7IGQrKykge1xuICAgICAgdmFyIG8gPSBuKG8sIGZbZF0pO1xuICAgICAgbC5wdXNoKHRoaXMuZ2V0UmVxdWVzdChvKSk7XG4gICAgfVxuICAgIHJldHVybiBsO1xuICB9LCB0aGlzLmdldFJlcXVlc3QgPSBmdW5jdGlvbihvKSB7XG4gICAgdmFyIGwgPSB2KG8sIDApO1xuICAgIGlmIChsLmxlbmd0aCAhPSAxICYmIGwubGVuZ3RoICE9IDIpXG4gICAgICB0aHJvdyBuZXcgZShcIndyb25nIG51bWJlciBlbGVtZW50czogXCIgKyBsLmxlbmd0aCk7XG4gICAgdmFyIGYgPSB0aGlzLmdldENlcnRJRChuKG8sIGxbMF0pKTtcbiAgICBpZiAobC5sZW5ndGggPT0gMikge1xuICAgICAgdmFyIGQgPSBoKG8sIDAsIFsxLCAwXSk7XG4gICAgICBmLmV4dCA9IHIuZ2V0RXh0UGFyYW1BcnJheShuKG8sIGQpKTtcbiAgICB9XG4gICAgcmV0dXJuIGY7XG4gIH0sIHRoaXMuZ2V0Q2VydElEID0gZnVuY3Rpb24obykge1xuICAgIHZhciBsID0gdihvLCAwKTtcbiAgICBpZiAobC5sZW5ndGggIT0gNClcbiAgICAgIHRocm93IG5ldyBlKFwid3JvbmcgbnVtYmVyIGVsZW1lbnRzOiBcIiArIGwubGVuZ3RoKTtcbiAgICB2YXIgZiA9IG5ldyB0KCksIGQgPSB7fTtcbiAgICByZXR1cm4gZC5hbGcgPSBmLmdldEFsZ29yaXRobUlkZW50aWZpZXJOYW1lKG4obywgbFswXSkpLCBkLmlzc25hbWUgPSBzKG8sIGxbMV0pLCBkLmlzc2tleSA9IHMobywgbFsyXSksIGQuc2Jqc24gPSBzKG8sIGxbM10pLCBkO1xuICB9LCB0aGlzLmdldE9DU1BSZXNwb25zZSA9IGZ1bmN0aW9uKG8pIHtcbiAgICB2YXIgbCA9IHYobywgMCksIGYsIGQgPSBzKG8sIGxbMF0pLCBnID0gcGFyc2VJbnQoZCk7XG4gICAgaWYgKGwubGVuZ3RoID09IDEpXG4gICAgICByZXR1cm4geyByZXNzdGF0dXM6IGcgfTtcbiAgICB2YXIgUyA9IHAobywgMCwgWzEsIDBdKTtcbiAgICByZXR1cm4gZiA9IHRoaXMuZ2V0UmVzcG9uc2VCeXRlcyhTKSwgZi5yZXNzdGF0dXMgPSBnLCBmO1xuICB9LCB0aGlzLmdldFJlc3BvbnNlQnl0ZXMgPSBmdW5jdGlvbihvKSB7XG4gICAgdmFyIGwgPSB2KG8sIDApLCBmLCBkID0gcChvLCAwLCBbMSwgMF0pO1xuICAgIGYgPSB0aGlzLmdldEJhc2ljT0NTUFJlc3BvbnNlKGQpO1xuICAgIHZhciBnID0gcyhvLCBsWzBdKTtcbiAgICByZXR1cm4gZi5yZXN0eXBlID0gYS5hc24xLng1MDkuT0lELm9pZDJuYW1lKGZ0KGcpKSwgZjtcbiAgfSwgdGhpcy5nZXRCYXNpY09DU1BSZXNwb25zZSA9IGZ1bmN0aW9uKG8pIHtcbiAgICB2YXIgbCA9IHYobywgMCksIGY7XG4gICAgZiA9IHRoaXMuZ2V0UmVzcG9uc2VEYXRhKG4obywgbFswXSkpO1xuICAgIHZhciBkID0gbmV3IEwoKTtcbiAgICBmLmFsZyA9IGQuZ2V0QWxnb3JpdGhtSWRlbnRpZmllck5hbWUobihvLCBsWzFdKSk7XG4gICAgdmFyIGcgPSBzKG8sIGxbMl0pO1xuICAgIGYuc2lnaGV4ID0gZy5zdWJzdHIoMik7XG4gICAgdmFyIFMgPSBjKG8sIDAsIFtcIlswXVwiXSk7XG4gICAgaWYgKFMgIT0gbnVsbCkge1xuICAgICAgZm9yICh2YXIgYiA9IHYoUywgMCksIEQgPSBbXSwgQSA9IDA7IEEgPCBiLmxlbmd0aDsgQSsrKSB7XG4gICAgICAgIHZhciBJID0gbihTLCBiW0FdKTtcbiAgICAgICAgRC5wdXNoKEkpO1xuICAgICAgfVxuICAgICAgZi5jZXJ0cyA9IEQ7XG4gICAgfVxuICAgIHJldHVybiBmO1xuICB9LCB0aGlzLmdldFJlc3BvbnNlRGF0YSA9IGZ1bmN0aW9uKG8pIHtcbiAgICB2YXIgbCA9IHYobywgMCksIGYgPSBsLmxlbmd0aCwgZCA9IHt9LCBnID0gMDtcbiAgICBvLnN1YnN0cihsWzBdLCAyKSA9PSBcImEwXCIgJiYgZysrLCBkLnJlc3BpZCA9IHRoaXMuZ2V0UmVzcG9uZGVySUQobihvLCBsW2crK10pKTtcbiAgICB2YXIgUyA9IHMobywgbFtnKytdKTtcbiAgICBpZiAoZC5wcm9kYXQgPSBXKFMpLCBkLmFycmF5ID0gdGhpcy5nZXRTaW5nbGVSZXNwb25zZUxpc3QobihvLCBsW2crK10pKSwgby5zdWJzdHIobFtmIC0gMV0sIDIpID09IFwiYTFcIikge1xuICAgICAgdmFyIGIgPSBwKG8sIGxbZiAtIDFdLCBbMF0pLCBEID0gbmV3IEwoKTtcbiAgICAgIGQuZXh0ID0gRC5nZXRFeHRQYXJhbUFycmF5KGIpO1xuICAgIH1cbiAgICByZXR1cm4gZDtcbiAgfSwgdGhpcy5nZXRSZXNwb25kZXJJRCA9IGZ1bmN0aW9uKG8pIHtcbiAgICB2YXIgbCA9IHt9O1xuICAgIGlmIChvLnN1YnN0cigwLCAyKSA9PSBcImEyXCIpIHtcbiAgICAgIHZhciBmID0gdShvLCAwLCBbMF0pO1xuICAgICAgbC5rZXkgPSBmO1xuICAgIH1cbiAgICBpZiAoby5zdWJzdHIoMCwgMikgPT0gXCJhMVwiKSB7XG4gICAgICB2YXIgZCA9IHAobywgMCwgWzBdKSwgZyA9IG5ldyBMKCk7XG4gICAgICBsLm5hbWUgPSBnLmdldFg1MDBOYW1lKGQpO1xuICAgIH1cbiAgICByZXR1cm4gbDtcbiAgfSwgdGhpcy5nZXRTaW5nbGVSZXNwb25zZUxpc3QgPSBmdW5jdGlvbihvKSB7XG4gICAgZm9yICh2YXIgbCA9IHYobywgMCksIGYgPSBbXSwgZCA9IDA7IGQgPCBsLmxlbmd0aDsgZCsrKSB7XG4gICAgICB2YXIgZyA9IHRoaXMuZ2V0U2luZ2xlUmVzcG9uc2UobihvLCBsW2RdKSk7XG4gICAgICBmLnB1c2goZyk7XG4gICAgfVxuICAgIHJldHVybiBmO1xuICB9LCB0aGlzLmdldFNpbmdsZVJlc3BvbnNlID0gZnVuY3Rpb24obykge1xuICAgIHZhciBsID0gdihvLCAwKSwgZiA9IHt9LCBkID0gdGhpcy5nZXRDZXJ0SUQobihvLCBsWzBdKSk7XG4gICAgZi5jZXJ0aWQgPSBkO1xuICAgIHZhciBnID0gdGhpcy5nZXRDZXJ0U3RhdHVzKG4obywgbFsxXSkpO1xuICAgIGlmIChmLnN0YXR1cyA9IGcsIG8uc3Vic3RyKGxbMl0sIDIpID09IFwiMThcIikge1xuICAgICAgdmFyIFMgPSBzKG8sIGxbMl0pO1xuICAgICAgZi50aGlzdXBkYXRlID0gVyhTKTtcbiAgICB9XG4gICAgZm9yICh2YXIgYiA9IDM7IGIgPCBsLmxlbmd0aDsgYisrKSB7XG4gICAgICBpZiAoby5zdWJzdHIobFtiXSwgMikgPT0gXCJhMFwiKSB7XG4gICAgICAgIHZhciBEID0gdShvLCBsW2JdLCBbMF0sIFwiMThcIik7XG4gICAgICAgIGYubmV4dHVwZGF0ZSA9IFcoRCk7XG4gICAgICB9XG4gICAgICBpZiAoby5zdWJzdHIobFtiXSwgMikgPT0gXCJhMVwiKSB7XG4gICAgICAgIHZhciBBID0gbmV3IEwoKSwgSSA9IHAobywgMCwgW2IsIDBdKTtcbiAgICAgICAgZi5leHQgPSBBLmdldEV4dFBhcmFtQXJyYXkoSSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmO1xuICB9LCB0aGlzLmdldENlcnRTdGF0dXMgPSBmdW5jdGlvbihvKSB7XG4gICAgdmFyIGwgPSB7fTtcbiAgICBpZiAobyA9PSBcIjgwMDBcIilcbiAgICAgIHJldHVybiB7IHN0YXR1czogXCJnb29kXCIgfTtcbiAgICBpZiAobyA9PSBcIjgyMDBcIilcbiAgICAgIHJldHVybiB7IHN0YXR1czogXCJ1bmtub3duXCIgfTtcbiAgICBpZiAoby5zdWJzdHIoMCwgMikgPT0gXCJhMVwiKSB7XG4gICAgICBsLnN0YXR1cyA9IFwicmV2b2tlZFwiO1xuICAgICAgdmFyIGYgPSB1KG8sIDAsIFswXSksIGQgPSBXKGYpO1xuICAgICAgbC50aW1lID0gZDtcbiAgICB9XG4gICAgcmV0dXJuIGw7XG4gIH07XG59O1xudmFyIGE7XG4odHlwZW9mIGEgPiBcInVcIiB8fCAhYSkgJiYgKGEgPSB7fSk7XG4odHlwZW9mIGEubGFuZyA+IFwidVwiIHx8ICFhLmxhbmcpICYmIChhLmxhbmcgPSB7fSk7XG5hLmxhbmcuU3RyaW5nID0gZnVuY3Rpb24oKSB7XG59O1xuZnVuY3Rpb24gaG4oZSkge1xuICBmb3IgKHZhciB0ID0gbmV3IEFycmF5KCksIHIgPSAwOyByIDwgZS5sZW5ndGg7IHIrKylcbiAgICB0W3JdID0gZS5jaGFyQ29kZUF0KHIpO1xuICByZXR1cm4gdDtcbn1cbmZ1bmN0aW9uIG90KGUpIHtcbiAgZm9yICh2YXIgdCA9IFwiXCIsIHIgPSAwOyByIDwgZS5sZW5ndGg7IHIrKykge1xuICAgIHZhciBpID0gZVtyXS50b1N0cmluZygxNik7XG4gICAgaS5sZW5ndGggPT0gMSAmJiAoaSA9IFwiMFwiICsgaSksIHQgPSB0ICsgaTtcbiAgfVxuICByZXR1cm4gdDtcbn1cbmZ1bmN0aW9uIEVlKGUpIHtcbiAgcmV0dXJuIG90KGhuKGUpKTtcbn1cbmZ1bmN0aW9uIFhlKGUpIHtcbiAgcmV0dXJuIGUgPSBlLnJlcGxhY2UoL1xcPS9nLCBcIlwiKSwgZSA9IGUucmVwbGFjZSgvXFwrL2csIFwiLVwiKSwgZSA9IGUucmVwbGFjZSgvXFwvL2csIFwiX1wiKSwgZTtcbn1cbmZ1bmN0aW9uIHV0KGUpIHtcbiAgcmV0dXJuIGUubGVuZ3RoICUgNCA9PSAyID8gZSA9IGUgKyBcIj09XCIgOiBlLmxlbmd0aCAlIDQgPT0gMyAmJiAoZSA9IGUgKyBcIj1cIiksIGUgPSBlLnJlcGxhY2UoLy0vZywgXCIrXCIpLCBlID0gZS5yZXBsYWNlKC9fL2csIFwiL1wiKSwgZTtcbn1cbmZ1bmN0aW9uIGFlKGUpIHtcbiAgcmV0dXJuIGUubGVuZ3RoICUgMiA9PSAxICYmIChlID0gXCIwXCIgKyBlKSwgWGUoX2UoZSkpO1xufVxuZnVuY3Rpb24gWShlKSB7XG4gIHJldHVybiBpdCh1dChlKSk7XG59XG52YXIgSmUsIHdlO1xudHlwZW9mIEJ1ZmZlciA9PSBcImZ1bmN0aW9uXCIgPyAoSmUgPSBmdW5jdGlvbihlKSB7XG4gIHJldHVybiBYZShCdWZmZXIuZnJvbShlLCBcInV0ZjhcIikudG9TdHJpbmcoXCJiYXNlNjRcIikpO1xufSwgd2UgPSBmdW5jdGlvbihlKSB7XG4gIHJldHVybiBCdWZmZXIuZnJvbSh1dChlKSwgXCJiYXNlNjRcIikudG9TdHJpbmcoXCJ1dGY4XCIpO1xufSkgOiAoSmUgPSBmdW5jdGlvbihlKSB7XG4gIHJldHVybiBhZShJdChCdChlKSkpO1xufSwgd2UgPSBmdW5jdGlvbihlKSB7XG4gIHJldHVybiBkZWNvZGVVUklDb21wb25lbnQoQ3QoWShlKSkpO1xufSk7XG5mdW5jdGlvbiBodChlKSB7XG4gIHJldHVybiBJdChCdChlKSkudG9Mb3dlckNhc2UoKTtcbn1cbmZ1bmN0aW9uIFcoZSkge1xuICB0cnkge1xuICAgIHJldHVybiBkZWNvZGVVUklDb21wb25lbnQoQ3QoZSkpO1xuICB9IGNhdGNoIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuZnVuY3Rpb24gZm4oZSkge1xuICByZXR1cm4gVyhjbihlKSk7XG59XG5mdW5jdGlvbiBjbihlKSB7XG4gIGZvciAodmFyIHQgPSBlLm1hdGNoKC8uezEsMn0vZyksIHIgPSBbXSwgaSA9IDA7IGkgPCB0Lmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIHMgPSBwYXJzZUludCh0W2ldLCAxNik7XG4gICAgMTYxIDw9IHMgJiYgcyA8PSAxOTEgPyAoci5wdXNoKFwiYzJcIiksIHIucHVzaCh0W2ldKSkgOiAxOTIgPD0gcyAmJiBzIDw9IDI1NSA/IChyLnB1c2goXCJjM1wiKSwgci5wdXNoKChzIC0gNjQpLnRvU3RyaW5nKDE2KSkpIDogci5wdXNoKHRbaV0pO1xuICB9XG4gIHJldHVybiByLmpvaW4oXCJcIik7XG59XG5mdW5jdGlvbiBBZShlKSB7XG4gIGZvciAodmFyIHQgPSBcIlwiLCByID0gMDsgciA8IGUubGVuZ3RoIC0gMTsgciArPSAyKVxuICAgIHQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShwYXJzZUludChlLnN1YnN0cihyLCAyKSwgMTYpKTtcbiAgcmV0dXJuIHQ7XG59XG5mdW5jdGlvbiBQZShlKSB7XG4gIGZvciAodmFyIHQgPSBcIlwiLCByID0gMDsgciA8IGUubGVuZ3RoOyByKyspXG4gICAgdCArPSAoXCIwXCIgKyBlLmNoYXJDb2RlQXQocikudG9TdHJpbmcoMTYpKS5zbGljZSgtMik7XG4gIHJldHVybiB0O1xufVxuZnVuY3Rpb24gbG4oZSkge1xuICByZXR1cm4gX2UoZSk7XG59XG5mdW5jdGlvbiBkbihlLCB0KSB7XG4gIHJldHVybiBlID0gZS5yZXBsYWNlKG5ldyBSZWdFeHAoXCIoLntcIiArIHQgKyBcIn0pXCIsIFwiZ1wiKSwgYCQxXFxyXG5gKSwgZSA9IGUucmVwbGFjZSgvXFxzKyQvLCBcIlwiKSwgZTtcbn1cbmZ1bmN0aW9uIHBuKGUpIHtcbiAgdmFyIHQgPSBlLnJlcGxhY2UoL1teMC05QS1aYS16XFwvKz1dKi9nLCBcIlwiKSwgciA9IGl0KHQpO1xuICByZXR1cm4gcjtcbn1cbmZ1bmN0aW9uIGRlKGUsIHQpIHtcbiAgcmV0dXJuIFwiLS0tLS1CRUdJTiBcIiArIHQgKyBgLS0tLS1cXHJcbmAgKyBkbihsbihlKSwgNjQpICsgYFxcclxuLS0tLS1FTkQgYCArIHQgKyBgLS0tLS1cXHJcbmA7XG59XG5mdW5jdGlvbiBpZShlLCB0KSB7XG4gIGlmIChlLmluZGV4T2YoXCItLS0tLUJFR0lOIFwiKSA9PSAtMSlcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJjYW4ndCBmaW5kIFBFTSBoZWFkZXJcIik7XG4gIHJldHVybiB0ICE9PSB2b2lkIDAgPyAoZSA9IGUucmVwbGFjZShuZXcgUmVnRXhwKFwiXlteXSotLS0tLUJFR0lOIFwiICsgdCArIFwiLS0tLS1cIiksIFwiXCIpLCBlID0gZS5yZXBsYWNlKG5ldyBSZWdFeHAoXCItLS0tLUVORCBcIiArIHQgKyBcIi0tLS0tW15dKiRcIiksIFwiXCIpKSA6IChlID0gZS5yZXBsYWNlKC9eW15dKi0tLS0tQkVHSU4gW14tXSstLS0tLS8sIFwiXCIpLCBlID0gZS5yZXBsYWNlKC8tLS0tLUVORCBbXi1dKy0tLS0tW15dKiQvLCBcIlwiKSksIHBuKGUpO1xufVxuZnVuY3Rpb24gdm4oZSkge1xuICB2YXIgdCwgciwgaSwgcywgbiwgaCwgdSwgcCwgYywgeTtcbiAgaWYgKGUgPSB5bihlKSwgeSA9IGUubWF0Y2goL14oXFxkezR9KShcXGRcXGQpKFxcZFxcZCkoXFxkXFxkKShcXGRcXGQpKFxcZFxcZCkofFxcLlxcZCspWiQvKSwgeSlcbiAgICByZXR1cm4gdCA9IHBhcnNlSW50KHlbMV0pLCByID0gcGFyc2VJbnQoeVsyXSkgLSAxLCBpID0gcGFyc2VJbnQoeVszXSksIHMgPSBwYXJzZUludCh5WzRdKSwgbiA9IHBhcnNlSW50KHlbNV0pLCBoID0gcGFyc2VJbnQoeVs2XSksIHUgPSAwLCBwID0geVs3XSwgcCAhPT0gXCJcIiAmJiAoYyA9IChwLnN1YnN0cigxKSArIFwiMDBcIikuc3Vic3RyKDAsIDMpLCB1ID0gcGFyc2VJbnQoYykpLCBEYXRlLlVUQyh0LCByLCBpLCBzLCBuLCBoLCB1KTtcbiAgdGhyb3cgbmV3IEVycm9yKFwidW5zdXBwb3J0ZWQgenVsdSBmb3JtYXQ6IFwiICsgZSk7XG59XG5mdW5jdGlvbiBnbihlKSB7XG4gIHJldHVybiBNYXRoLnJvdW5kKHZuKGUpIC8gMWUzKTtcbn1cbmZ1bmN0aW9uIHluKGUpIHtcbiAgcmV0dXJuIGUubWF0Y2goL15bMC05XXsxMn1aJC8pIHx8IGUubWF0Y2goL15bMC05XXsxMn1bLl1bMC05XSpaJC8pID8gZS5tYXRjaCgvXlswLTRdLykgPyBcIjIwXCIgKyBlIDogXCIxOVwiICsgZSA6IGU7XG59XG5mdW5jdGlvbiBJdChlKSB7XG4gIHJldHVybiBlLnJlcGxhY2UoLyUvZywgXCJcIik7XG59XG5mdW5jdGlvbiBDdChlKSB7XG4gIHJldHVybiBlLnJlcGxhY2UoLyguLikvZywgXCIlJDFcIik7XG59XG5mdW5jdGlvbiB2dChlKSB7XG4gIHZhciB0ID0gXCJtYWxmb3JtZWQgSVB2NiBhZGRyZXNzXCI7XG4gIGlmICghZS5tYXRjaCgvXlswLTlBLUZhLWY6XSskLykpXG4gICAgdGhyb3cgdDtcbiAgZSA9IGUudG9Mb3dlckNhc2UoKTtcbiAgdmFyIHIgPSBlLnNwbGl0KFwiOlwiKS5sZW5ndGggLSAxO1xuICBpZiAociA8IDIpXG4gICAgdGhyb3cgdDtcbiAgdmFyIGkgPSBcIjpcIi5yZXBlYXQoNyAtIHIgKyAyKTtcbiAgZSA9IGUucmVwbGFjZShcIjo6XCIsIGkpO1xuICB2YXIgcyA9IGUuc3BsaXQoXCI6XCIpO1xuICBpZiAocy5sZW5ndGggIT0gOClcbiAgICB0aHJvdyB0O1xuICBmb3IgKHZhciBuID0gMDsgbiA8IDg7IG4rKylcbiAgICBzW25dID0gKFwiMDAwMFwiICsgc1tuXSkuc2xpY2UoLTQpO1xuICByZXR1cm4gcy5qb2luKFwiXCIpO1xufVxuZnVuY3Rpb24gZ3QoZSkge1xuICBpZiAoIWUubWF0Y2goL15bMC05QS1GYS1mXXszMn0kLykpXG4gICAgdGhyb3cgbmV3IEVycm9yKFwibWFsZm9ybWVkIElQdjYgYWRkcmVzczogXCIgKyBlKTtcbiAgZSA9IGUudG9Mb3dlckNhc2UoKTtcbiAgdmFyIHQgPSBlLm1hdGNoKC8uezEsNH0vZyk7XG4gIHQgPSB0Lm1hcChmdW5jdGlvbihzKSB7XG4gICAgcmV0dXJuIHMucmVwbGFjZSgvXjArLywgXCJcIik7XG4gIH0pLCB0ID0gdC5tYXAoZnVuY3Rpb24ocykge1xuICAgIHJldHVybiBzID09IFwiXCIgPyBcIjBcIiA6IHM7XG4gIH0pLCBlID0gXCI6XCIgKyB0LmpvaW4oXCI6XCIpICsgXCI6XCI7XG4gIHZhciByID0gZS5tYXRjaCgvOigwOil7Mix9L2cpO1xuICBpZiAociA9PSBudWxsKVxuICAgIHJldHVybiBlLnNsaWNlKDEsIC0xKTtcbiAgdmFyIGkgPSByLnNvcnQoKS5zbGljZSgtMSlbMF07XG4gIHJldHVybiBlID0gZS5yZXBsYWNlKGkuc3Vic3RyKDAsIGkubGVuZ3RoIC0gMSksIFwiOlwiKSwgZS5zdWJzdHIoMCwgMikgIT0gXCI6OlwiICYmIChlID0gZS5zdWJzdHIoMSkpLCBlLnN1YnN0cigtMiwgMikgIT0gXCI6OlwiICYmIChlID0gZS5zdWJzdHIoMCwgZS5sZW5ndGggLSAxKSksIGU7XG59XG5mdW5jdGlvbiB0dChlKSB7XG4gIHZhciB0ID0gbmV3IEVycm9yKFwibWFsZm9ybWVkIGhleCB2YWx1ZVwiKTtcbiAgaWYgKCFlLm1hdGNoKC9eKFswLTlBLUZhLWZdWzAtOUEtRmEtZl0pezEsfSQvKSlcbiAgICB0aHJvdyB0O1xuICBpZiAoZS5sZW5ndGggPT0gOCkge1xuICAgIHZhciByO1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gciA9IHBhcnNlSW50KGUuc3Vic3RyKDAsIDIpLCAxNikgKyBcIi5cIiArIHBhcnNlSW50KGUuc3Vic3RyKDIsIDIpLCAxNikgKyBcIi5cIiArIHBhcnNlSW50KGUuc3Vic3RyKDQsIDIpLCAxNikgKyBcIi5cIiArIHBhcnNlSW50KGUuc3Vic3RyKDYsIDIpLCAxNiksIHI7XG4gICAgfSBjYXRjaCB7XG4gICAgICB0aHJvdyB0O1xuICAgIH1cbiAgfSBlbHNlIGlmIChlLmxlbmd0aCA9PSAxNilcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIHR0KGUuc3Vic3RyKDAsIDgpKSArIFwiL1wiICsgeXQoZS5zdWJzdHIoOCkpO1xuICAgIH0gY2F0Y2gge1xuICAgICAgdGhyb3cgdDtcbiAgICB9XG4gIGVsc2Uge1xuICAgIGlmIChlLmxlbmd0aCA9PSAzMilcbiAgICAgIHJldHVybiBndChlKTtcbiAgICBpZiAoZS5sZW5ndGggPT0gNjQpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBndChlLnN1YnN0cigwLCAzMikpICsgXCIvXCIgKyB5dChlLnN1YnN0cigzMikpO1xuICAgICAgfSBjYXRjaCB7XG4gICAgICAgIHRocm93IHQ7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfSBlbHNlXG4gICAgICByZXR1cm4gZTtcbiAgfVxufVxuZnVuY3Rpb24geXQoZSkge1xuICB2YXIgdCA9IG5ldyBFcnJvcihcIm1hbGZvcm1lZCBtYXNrXCIpLCByO1xuICB0cnkge1xuICAgIHIgPSBuZXcgUihlLCAxNikudG9TdHJpbmcoMik7XG4gIH0gY2F0Y2gge1xuICAgIHRocm93IHQ7XG4gIH1cbiAgaWYgKCFyLm1hdGNoKC9eMSowKiQvKSlcbiAgICB0aHJvdyB0O1xuICByZXR1cm4gci5yZXBsYWNlKC8wKyQvLCBcIlwiKS5sZW5ndGg7XG59XG5mdW5jdGlvbiBSdChlKSB7XG4gIHZhciB0ID0gbmV3IEVycm9yKFwibWFsZm9ybWVkIElQIGFkZHJlc3NcIik7XG4gIGlmIChlID0gZS50b0xvd2VyQ2FzZShlKSwgIWUubWF0Y2goL15bMC05YS1mLjovXSskLykpXG4gICAgdGhyb3cgdDtcbiAgaWYgKGUubWF0Y2goL15bMC05Ll0rJC8pKSB7XG4gICAgdmFyIHIgPSBlLnNwbGl0KFwiLlwiKTtcbiAgICBpZiAoci5sZW5ndGggIT09IDQpXG4gICAgICB0aHJvdyB0O1xuICAgIHZhciBpID0gXCJcIjtcbiAgICB0cnkge1xuICAgICAgZm9yICh2YXIgcyA9IDA7IHMgPCA0OyBzKyspIHtcbiAgICAgICAgdmFyIG4gPSBwYXJzZUludChyW3NdKTtcbiAgICAgICAgaSArPSAoXCIwXCIgKyBuLnRvU3RyaW5nKDE2KSkuc2xpY2UoLTIpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGk7XG4gICAgfSBjYXRjaCB7XG4gICAgICB0aHJvdyB0O1xuICAgIH1cbiAgfSBlbHNlIGlmIChlLm1hdGNoKC9eWzAtOS5dK1xcL1swLTldKyQvKSkge1xuICAgIHZhciBoID0gZS5zcGxpdChcIi9cIik7XG4gICAgcmV0dXJuIFJ0KGhbMF0pICsgbXQocGFyc2VJbnQoaFsxXSksIDMyKTtcbiAgfSBlbHNlIHtcbiAgICBpZiAoZS5tYXRjaCgvXlswLTlhLWY6XSskLykgJiYgZS5pbmRleE9mKFwiOlwiKSAhPT0gLTEpXG4gICAgICByZXR1cm4gdnQoZSk7XG4gICAgaWYgKGUubWF0Y2goL15bMC05YS1mOl0rXFwvWzAtOV0rJC8pICYmIGUuaW5kZXhPZihcIjpcIikgIT09IC0xKSB7XG4gICAgICB2YXIgaCA9IGUuc3BsaXQoXCIvXCIpO1xuICAgICAgcmV0dXJuIHZ0KGhbMF0pICsgbXQocGFyc2VJbnQoaFsxXSksIDEyOCk7XG4gICAgfSBlbHNlXG4gICAgICB0aHJvdyB0O1xuICB9XG59XG5mdW5jdGlvbiBtdChlLCB0KSB7XG4gIGlmICh0ID09IDMyICYmIGUgPT0gMClcbiAgICByZXR1cm4gXCIwMDAwMDAwMFwiO1xuICBpZiAodCA9PSAxMjggJiYgZSA9PSAwKVxuICAgIHJldHVybiBcIjAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwXCI7XG4gIHZhciByID0gQXJyYXkoZSArIDEpLmpvaW4oXCIxXCIpICsgQXJyYXkodCAtIGUgKyAxKS5qb2luKFwiMFwiKTtcbiAgcmV0dXJuIG5ldyBSKHIsIDIpLnRvU3RyaW5nKDE2KTtcbn1cbmZ1bmN0aW9uIFR0KGUpIHtcbiAgZnVuY3Rpb24gdChzKSB7XG4gICAgdmFyIG4gPSBwYXJzZUludChzLnN1YnN0cigwLCAyKSwgMTYpLCBoID0gcGFyc2VJbnQocy5zdWJzdHIoMiksIDE2KTtcbiAgICBpZiAobiA9PSAwICYgaCA8IDEyOClcbiAgICAgIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKGgpO1xuICAgIGlmIChuIDwgOCkge1xuICAgICAgdmFyIHUgPSAxOTIgfCAobiAmIDcpIDw8IDMgfCAoaCAmIDE5MikgPj4gNiwgcCA9IDEyOCB8IGggJiA2MztcbiAgICAgIHJldHVybiBXKHUudG9TdHJpbmcoMTYpICsgcC50b1N0cmluZygxNikpO1xuICAgIH1cbiAgICB2YXIgdSA9IDIyNCB8IChuICYgMjQwKSA+PiA0LCBwID0gMTI4IHwgKG4gJiAxNSkgPDwgMiB8IChoICYgMTkyKSA+PiA2LCBjID0gMTI4IHwgaCAmIDYzO1xuICAgIHJldHVybiBXKHUudG9TdHJpbmcoMTYpICsgcC50b1N0cmluZygxNikgKyBjLnRvU3RyaW5nKDE2KSk7XG4gIH1cbiAgdmFyIHIgPSBlLm1hdGNoKC8uezR9L2cpLCBpID0gci5tYXAodCk7XG4gIHJldHVybiBpLmpvaW4oXCJcIik7XG59XG5mdW5jdGlvbiBCdChlKSB7XG4gIGZvciAodmFyIHQgPSBlbmNvZGVVUklDb21wb25lbnQoZSksIHIgPSBcIlwiLCBpID0gMDsgaSA8IHQubGVuZ3RoOyBpKyspXG4gICAgdFtpXSA9PSBcIiVcIiA/IChyID0gciArIHQuc3Vic3RyKGksIDMpLCBpID0gaSArIDIpIDogciA9IHIgKyBcIiVcIiArIEVlKHRbaV0pO1xuICByZXR1cm4gcjtcbn1cbmEubGFuZy5TdHJpbmcuaXNJbnRlZ2VyID0gZnVuY3Rpb24oZSkge1xuICByZXR1cm4gZS5tYXRjaCgvXlswLTldKyQvKSA/ICEwIDogISFlLm1hdGNoKC9eLVswLTldKyQvKTtcbn07XG5hLmxhbmcuU3RyaW5nLmlzSGV4ID0gZnVuY3Rpb24oZSkge1xuICByZXR1cm4gTnQoZSk7XG59O1xuZnVuY3Rpb24gTnQoZSkge1xuICByZXR1cm4gISEoZS5sZW5ndGggJSAyID09IDAgJiYgKGUubWF0Y2goL15bMC05YS1mXSskLykgfHwgZS5tYXRjaCgvXlswLTlBLUZdKyQvKSkpO1xufVxuYS5sYW5nLlN0cmluZy5pc0Jhc2U2NCA9IGZ1bmN0aW9uKGUpIHtcbiAgcmV0dXJuIGUgPSBlLnJlcGxhY2UoL1xccysvZywgXCJcIiksICEhKGUubWF0Y2goL15bMC05QS1aYS16K1xcL10rPXswLDN9JC8pICYmIGUubGVuZ3RoICUgNCA9PSAwKTtcbn07XG5hLmxhbmcuU3RyaW5nLmlzQmFzZTY0VVJMID0gZnVuY3Rpb24oZSkge1xuICByZXR1cm4gZS5tYXRjaCgvWysvPV0vKSA/ICExIDogKGUgPSB1dChlKSwgYS5sYW5nLlN0cmluZy5pc0Jhc2U2NChlKSk7XG59O1xuZnVuY3Rpb24gSHQoZSkge1xuICByZXR1cm4gISFlLm1hdGNoKC9eWzAtOUEtWmEtei1fLl0rJC8pO1xufVxuYS5sYW5nLlN0cmluZy5pc0ludGVnZXJBcnJheSA9IGZ1bmN0aW9uKGUpIHtcbiAgcmV0dXJuIGUgPSBlLnJlcGxhY2UoL1xccysvZywgXCJcIiksICEhZS5tYXRjaCgvXlxcW1swLTksXStcXF0kLyk7XG59O1xuYS5sYW5nLlN0cmluZy5pc1ByaW50YWJsZSA9IGZ1bmN0aW9uKGUpIHtcbiAgcmV0dXJuIGUubWF0Y2goL15bMC05QS1aYS16ICcoKSssLS4vOj0/XSokLykgIT09IG51bGw7XG59O1xuYS5sYW5nLlN0cmluZy5pc0lBNSA9IGZ1bmN0aW9uKGUpIHtcbiAgcmV0dXJuIGUubWF0Y2goL15bXFx4MjAtXFx4MjFcXHgyMy1cXHg3Zl0qJC8pICE9PSBudWxsO1xufTtcbmEubGFuZy5TdHJpbmcuaXNNYWlsID0gZnVuY3Rpb24oZSkge1xuICByZXR1cm4gZS5tYXRjaCgvXltBLVphLXowLTldezF9W0EtWmEtejAtOV8uLV0qQHsxfVtBLVphLXowLTlfLi1dezEsfVxcLltBLVphLXowLTldezEsfSQvKSAhPT0gbnVsbDtcbn07XG5mdW5jdGlvbiB4dChlKSB7XG4gIHJldHVybiBlLmxlbmd0aCAlIDIgPT0gMSA/IFwiMFwiICsgZSA6IGUuc3Vic3RyKDAsIDEpID4gXCI3XCIgPyBcIjAwXCIgKyBlIDogZTtcbn1cbmZ1bmN0aW9uIG1uKGUpIHtcbiAgdmFyIHQgPSBmdW5jdGlvbih1KSB7XG4gICAgdmFyIHAgPSB1LnRvU3RyaW5nKDE2KTtcbiAgICByZXR1cm4gcC5sZW5ndGggPT0gMSAmJiAocCA9IFwiMFwiICsgcCksIHA7XG4gIH0sIHIgPSBmdW5jdGlvbih1KSB7XG4gICAgdmFyIHAgPSBcIlwiLCBjID0gcGFyc2VJbnQodSwgMTApLCB5ID0gYy50b1N0cmluZygyKSwgdiA9IDcgLSB5Lmxlbmd0aCAlIDc7XG4gICAgdiA9PSA3ICYmICh2ID0gMCk7XG4gICAgZm9yICh2YXIgbyA9IFwiXCIsIGwgPSAwOyBsIDwgdjsgbCsrKVxuICAgICAgbyArPSBcIjBcIjtcbiAgICB5ID0gbyArIHk7XG4gICAgZm9yICh2YXIgbCA9IDA7IGwgPCB5Lmxlbmd0aCAtIDE7IGwgKz0gNykge1xuICAgICAgdmFyIGYgPSB5LnN1YnN0cihsLCA3KTtcbiAgICAgIGwgIT0geS5sZW5ndGggLSA3ICYmIChmID0gXCIxXCIgKyBmKSwgcCArPSB0KHBhcnNlSW50KGYsIDIpKTtcbiAgICB9XG4gICAgcmV0dXJuIHA7XG4gIH07XG4gIHRyeSB7XG4gICAgaWYgKCFlLm1hdGNoKC9eWzAtOS5dKyQvKSlcbiAgICAgIHJldHVybiBudWxsO1xuICAgIHZhciBpID0gXCJcIiwgcyA9IGUuc3BsaXQoXCIuXCIpLCBuID0gcGFyc2VJbnQoc1swXSwgMTApICogNDAgKyBwYXJzZUludChzWzFdLCAxMCk7XG4gICAgaSArPSB0KG4pLCBzLnNwbGljZSgwLCAyKTtcbiAgICBmb3IgKHZhciBoID0gMDsgaCA8IHMubGVuZ3RoOyBoKyspXG4gICAgICBpICs9IHIoc1toXSk7XG4gICAgcmV0dXJuIGk7XG4gIH0gY2F0Y2gge1xuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5mdW5jdGlvbiBmdChlKSB7XG4gIGlmICghTnQoZSkpXG4gICAgcmV0dXJuIG51bGw7XG4gIHRyeSB7XG4gICAgdmFyIHQgPSBbXSwgciA9IGUuc3Vic3RyKDAsIDIpLCBpID0gcGFyc2VJbnQociwgMTYpO1xuICAgIHRbMF0gPSBuZXcgU3RyaW5nKE1hdGguZmxvb3IoaSAvIDQwKSksIHRbMV0gPSBuZXcgU3RyaW5nKGkgJSA0MCk7XG4gICAgZm9yICh2YXIgcyA9IGUuc3Vic3RyKDIpLCBuID0gW10sIGggPSAwOyBoIDwgcy5sZW5ndGggLyAyOyBoKyspXG4gICAgICBuLnB1c2gocGFyc2VJbnQocy5zdWJzdHIoaCAqIDIsIDIpLCAxNikpO1xuICAgIGZvciAodmFyIHUgPSBbXSwgcCA9IFwiXCIsIGggPSAwOyBoIDwgbi5sZW5ndGg7IGgrKylcbiAgICAgIG5baF0gJiAxMjggPyBwID0gcCArIFN0KChuW2hdICYgMTI3KS50b1N0cmluZygyKSwgNykgOiAocCA9IHAgKyBTdCgobltoXSAmIDEyNykudG9TdHJpbmcoMiksIDcpLCB1LnB1c2gobmV3IFN0cmluZyhwYXJzZUludChwLCAyKSkpLCBwID0gXCJcIik7XG4gICAgdmFyIGMgPSB0LmpvaW4oXCIuXCIpO1xuICAgIHJldHVybiB1Lmxlbmd0aCA+IDAgJiYgKGMgPSBjICsgXCIuXCIgKyB1LmpvaW4oXCIuXCIpKSwgYztcbiAgfSBjYXRjaCB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cbmZ1bmN0aW9uIHhuKGUpIHtcbiAgdmFyIHQgPSBuZXcgUihTdHJpbmcoZSksIDEwKTtcbiAgcmV0dXJuIFplKHQpO1xufVxuZnVuY3Rpb24gWmUoZSkge1xuICB2YXIgdCA9IGUudG9TdHJpbmcoMTYpO1xuICBpZiAodC5zdWJzdHIoMCwgMSkgIT0gXCItXCIpXG4gICAgcmV0dXJuIHQubGVuZ3RoICUgMiA9PSAxID8gdCA9IFwiMFwiICsgdCA6IHQubWF0Y2goL15bMC03XS8pIHx8ICh0ID0gXCIwMFwiICsgdCksIHQ7XG4gIHZhciByID0gdC5zdWJzdHIoMSksIGkgPSByLmxlbmd0aDtcbiAgaSAlIDIgPT0gMSA/IGkgKz0gMSA6IHQubWF0Y2goL15bMC03XS8pIHx8IChpICs9IDIpO1xuICBmb3IgKHZhciBzID0gXCJcIiwgbiA9IDA7IG4gPCBpOyBuKyspXG4gICAgcyArPSBcImZcIjtcbiAgdmFyIGggPSBuZXcgUihzLCAxNiksIHUgPSBoLnhvcihlKS5hZGQoUi5PTkUpO1xuICByZXR1cm4gdCA9IHUudG9TdHJpbmcoMTYpLnJlcGxhY2UoL14tLywgXCJcIiksIHQ7XG59XG52YXIgU3QgPSBmdW5jdGlvbihlLCB0LCByKSB7XG4gIHJldHVybiByID09IG51bGwgJiYgKHIgPSBcIjBcIiksIGUubGVuZ3RoID49IHQgPyBlIDogbmV3IEFycmF5KHQgLSBlLmxlbmd0aCArIDEpLmpvaW4ocikgKyBlO1xufTtcbmZ1bmN0aW9uIFNuKGUpIHtcbiAgaWYgKGUubGVuZ3RoICUgMiAhPSAwIHx8IChlID0gZS50b0xvd2VyQ2FzZSgpLCBlLm1hdGNoKC9eWzAtOWEtZl0rJC8pID09IG51bGwpKVxuICAgIHJldHVybiAtMTtcbiAgdHJ5IHtcbiAgICB2YXIgdCA9IGUuc3Vic3RyKDAsIDIpO1xuICAgIGlmICh0ID09IFwiMDBcIilcbiAgICAgIHJldHVybiBwYXJzZUludChlLnN1YnN0cigyKSwgMTYpO1xuICAgIHZhciByID0gcGFyc2VJbnQodCwgMTYpO1xuICAgIGlmIChyID4gNylcbiAgICAgIHJldHVybiAtMTtcbiAgICB2YXIgaSA9IGUuc3Vic3RyKDIpLCBzID0gcGFyc2VJbnQoaSwgMTYpLnRvU3RyaW5nKDIpO1xuICAgIHMgPT0gXCIwXCIgJiYgKHMgPSBcIjAwMDAwMDAwXCIpLCBzID0gcy5zbGljZSgwLCAwIC0gcik7XG4gICAgdmFyIG4gPSBwYXJzZUludChzLCAyKTtcbiAgICByZXR1cm4gbiA9PSBOYU4gPyAtMSA6IG47XG4gIH0gY2F0Y2gge1xuICAgIHJldHVybiAtMTtcbiAgfVxufVxuZnVuY3Rpb24gRW4oZSkge1xuICBpZiAodHlwZW9mIGUgIT0gXCJzdHJpbmdcIiB8fCBlLmxlbmd0aCAlIDIgIT0gMCB8fCAhZS5tYXRjaCgvXlswLTlhLWZdKyQvKSlcbiAgICByZXR1cm4gbnVsbDtcbiAgdHJ5IHtcbiAgICB2YXIgdCA9IHBhcnNlSW50KGUuc3Vic3RyKDAsIDIpLCAxNik7XG4gICAgaWYgKHQgPCAwIHx8IDcgPCB0KVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgZm9yICh2YXIgciA9IGUuc3Vic3RyKDIpLCBpID0gXCJcIiwgcyA9IDA7IHMgPCByLmxlbmd0aDsgcyArPSAyKSB7XG4gICAgICB2YXIgbiA9IHIuc3Vic3RyKHMsIDIpLCBoID0gcGFyc2VJbnQobiwgMTYpLnRvU3RyaW5nKDIpO1xuICAgICAgaCA9IChcIjAwMDAwMDBcIiArIGgpLnNsaWNlKC04KSwgaSArPSBoO1xuICAgIH1cbiAgICByZXR1cm4gaS5zdWJzdHIoMCwgaS5sZW5ndGggLSB0KTtcbiAgfSBjYXRjaCB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cbmZ1bmN0aW9uIHJ0KGUsIHQpIHtcbiAgZm9yICh2YXIgciA9IDAsIGkgPSAwOyBpIDwgZS5sZW5ndGg7IGkrKylcbiAgICByIHw9IDEgPDwgdFtlW2ldXTtcbiAgZm9yICh2YXIgcyA9IHIudG9TdHJpbmcoMiksIG4gPSBcIlwiLCBpID0gcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSlcbiAgICBuICs9IHNbaV07XG4gIHJldHVybiBuO1xufVxuZnVuY3Rpb24gSihlLCBpLCByKSB7XG4gIGlmICh0eXBlb2YgZSA9PSBcIm9iamVjdFwiKSB7XG4gICAgZm9yICh2YXIgaSA9IFN0cmluZyhpKS5zcGxpdChcIi5cIiksIHMgPSAwOyBzIDwgaS5sZW5ndGggJiYgZTsgcysrKSB7XG4gICAgICB2YXIgbiA9IGlbc107XG4gICAgICBuLm1hdGNoKC9eWzAtOV0rJC8pICYmIChuID0gcGFyc2VJbnQobikpLCBlID0gZVtuXTtcbiAgICB9XG4gICAgcmV0dXJuIGUgfHwgZSA9PT0gITEgPyBlIDogcjtcbiAgfVxufVxuZnVuY3Rpb24gTihlLCB0KSB7XG4gIHZhciByID0gZnVuY3Rpb24oKSB7XG4gIH07XG4gIHIucHJvdG90eXBlID0gdC5wcm90b3R5cGUsIGUucHJvdG90eXBlID0gbmV3IHIoKSwgZS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBlLCBlLnN1cGVyY2xhc3MgPSB0LnByb3RvdHlwZSwgdC5wcm90b3R5cGUuY29uc3RydWN0b3IgPT0gT2JqZWN0LnByb3RvdHlwZS5jb25zdHJ1Y3RvciAmJiAodC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSB0KTtcbn1cbih0eXBlb2YgYSA+IFwidVwiIHx8ICFhKSAmJiAoYSA9IHt9KTtcbih0eXBlb2YgYS5jcnlwdG8gPiBcInVcIiB8fCAhYS5jcnlwdG8pICYmIChhLmNyeXB0byA9IHt9KTtcbmEuY3J5cHRvLlV0aWwgPSBuZXcgZnVuY3Rpb24oKSB7XG4gIHRoaXMuRElHRVNUSU5GT0hFQUQgPSB7IHNoYTE6IFwiMzAyMTMwMDkwNjA1MmIwZTAzMDIxYTA1MDAwNDE0XCIsIHNoYTIyNDogXCIzMDJkMzAwZDA2MDk2MDg2NDgwMTY1MDMwNDAyMDQwNTAwMDQxY1wiLCBzaGEyNTY6IFwiMzAzMTMwMGQwNjA5NjA4NjQ4MDE2NTAzMDQwMjAxMDUwMDA0MjBcIiwgc2hhMzg0OiBcIjMwNDEzMDBkMDYwOTYwODY0ODAxNjUwMzA0MDIwMjA1MDAwNDMwXCIsIHNoYTUxMjogXCIzMDUxMzAwZDA2MDk2MDg2NDgwMTY1MDMwNDAyMDMwNTAwMDQ0MFwiLCBtZDI6IFwiMzAyMDMwMGMwNjA4MmE4NjQ4ODZmNzBkMDIwMjA1MDAwNDEwXCIsIG1kNTogXCIzMDIwMzAwYzA2MDgyYTg2NDg4NmY3MGQwMjA1MDUwMDA0MTBcIiwgcmlwZW1kMTYwOiBcIjMwMjEzMDA5MDYwNTJiMjQwMzAyMDEwNTAwMDQxNFwiIH0sIHRoaXMuREVGQVVMVFBST1ZJREVSID0geyBtZDU6IFwiY3J5cHRvanNcIiwgc2hhMTogXCJjcnlwdG9qc1wiLCBzaGEyMjQ6IFwiY3J5cHRvanNcIiwgc2hhMjU2OiBcImNyeXB0b2pzXCIsIHNoYTM4NDogXCJjcnlwdG9qc1wiLCBzaGE1MTI6IFwiY3J5cHRvanNcIiwgcmlwZW1kMTYwOiBcImNyeXB0b2pzXCIsIGhtYWNtZDU6IFwiY3J5cHRvanNcIiwgaG1hY3NoYTE6IFwiY3J5cHRvanNcIiwgaG1hY3NoYTIyNDogXCJjcnlwdG9qc1wiLCBobWFjc2hhMjU2OiBcImNyeXB0b2pzXCIsIGhtYWNzaGEzODQ6IFwiY3J5cHRvanNcIiwgaG1hY3NoYTUxMjogXCJjcnlwdG9qc1wiLCBobWFjcmlwZW1kMTYwOiBcImNyeXB0b2pzXCIsIE1ENXdpdGhSU0E6IFwiY3J5cHRvanMvanNyc2FcIiwgU0hBMXdpdGhSU0E6IFwiY3J5cHRvanMvanNyc2FcIiwgU0hBMjI0d2l0aFJTQTogXCJjcnlwdG9qcy9qc3JzYVwiLCBTSEEyNTZ3aXRoUlNBOiBcImNyeXB0b2pzL2pzcnNhXCIsIFNIQTM4NHdpdGhSU0E6IFwiY3J5cHRvanMvanNyc2FcIiwgU0hBNTEyd2l0aFJTQTogXCJjcnlwdG9qcy9qc3JzYVwiLCBSSVBFTUQxNjB3aXRoUlNBOiBcImNyeXB0b2pzL2pzcnNhXCIsIE1ENXdpdGhFQ0RTQTogXCJjcnlwdG9qcy9qc3JzYVwiLCBTSEExd2l0aEVDRFNBOiBcImNyeXB0b2pzL2pzcnNhXCIsIFNIQTIyNHdpdGhFQ0RTQTogXCJjcnlwdG9qcy9qc3JzYVwiLCBTSEEyNTZ3aXRoRUNEU0E6IFwiY3J5cHRvanMvanNyc2FcIiwgU0hBMzg0d2l0aEVDRFNBOiBcImNyeXB0b2pzL2pzcnNhXCIsIFNIQTUxMndpdGhFQ0RTQTogXCJjcnlwdG9qcy9qc3JzYVwiLCBSSVBFTUQxNjB3aXRoRUNEU0E6IFwiY3J5cHRvanMvanNyc2FcIiwgU0hBMXdpdGhEU0E6IFwiY3J5cHRvanMvanNyc2FcIiwgU0hBMjI0d2l0aERTQTogXCJjcnlwdG9qcy9qc3JzYVwiLCBTSEEyNTZ3aXRoRFNBOiBcImNyeXB0b2pzL2pzcnNhXCIsIE1ENXdpdGhSU0FhbmRNR0YxOiBcImNyeXB0b2pzL2pzcnNhXCIsIFNIQXdpdGhSU0FhbmRNR0YxOiBcImNyeXB0b2pzL2pzcnNhXCIsIFNIQTF3aXRoUlNBYW5kTUdGMTogXCJjcnlwdG9qcy9qc3JzYVwiLCBTSEEyMjR3aXRoUlNBYW5kTUdGMTogXCJjcnlwdG9qcy9qc3JzYVwiLCBTSEEyNTZ3aXRoUlNBYW5kTUdGMTogXCJjcnlwdG9qcy9qc3JzYVwiLCBTSEEzODR3aXRoUlNBYW5kTUdGMTogXCJjcnlwdG9qcy9qc3JzYVwiLCBTSEE1MTJ3aXRoUlNBYW5kTUdGMTogXCJjcnlwdG9qcy9qc3JzYVwiLCBSSVBFTUQxNjB3aXRoUlNBYW5kTUdGMTogXCJjcnlwdG9qcy9qc3JzYVwiIH0sIHRoaXMuQ1JZUFRPSlNNRVNTQUdFRElHRVNUTkFNRSA9IHsgbWQ1OiBLLmFsZ28uTUQ1LCBzaGExOiBLLmFsZ28uU0hBMSwgc2hhMjI0OiBLLmFsZ28uU0hBMjI0LCBzaGEyNTY6IEsuYWxnby5TSEEyNTYsIHNoYTM4NDogSy5hbGdvLlNIQTM4NCwgc2hhNTEyOiBLLmFsZ28uU0hBNTEyLCByaXBlbWQxNjA6IEsuYWxnby5SSVBFTUQxNjAgfSwgdGhpcy5nZXREaWdlc3RJbmZvSGV4ID0gZnVuY3Rpb24oZSwgdCkge1xuICAgIGlmICh0eXBlb2YgdGhpcy5ESUdFU1RJTkZPSEVBRFt0XSA+IFwidVwiKVxuICAgICAgdGhyb3cgXCJhbGcgbm90IHN1cHBvcnRlZCBpbiBVdGlsLkRJR0VTVElORk9IRUFEOiBcIiArIHQ7XG4gICAgcmV0dXJuIHRoaXMuRElHRVNUSU5GT0hFQURbdF0gKyBlO1xuICB9LCB0aGlzLmdldFBhZGRlZERpZ2VzdEluZm9IZXggPSBmdW5jdGlvbihlLCB0LCByKSB7XG4gICAgdmFyIGkgPSB0aGlzLmdldERpZ2VzdEluZm9IZXgoZSwgdCksIHMgPSByIC8gNDtcbiAgICBpZiAoaS5sZW5ndGggKyAyMiA+IHMpXG4gICAgICB0aHJvdyBcImtleSBpcyB0b28gc2hvcnQgZm9yIFNpZ0FsZzoga2V5bGVuPVwiICsgciArIFwiLFwiICsgdDtcbiAgICBmb3IgKHZhciBuID0gXCIwMDAxXCIsIGggPSBcIjAwXCIgKyBpLCB1ID0gXCJcIiwgcCA9IHMgLSBuLmxlbmd0aCAtIGgubGVuZ3RoLCBjID0gMDsgYyA8IHA7IGMgKz0gMilcbiAgICAgIHUgKz0gXCJmZlwiO1xuICAgIHZhciB5ID0gbiArIHUgKyBoO1xuICAgIHJldHVybiB5O1xuICB9LCB0aGlzLmhhc2hTdHJpbmcgPSBmdW5jdGlvbihlLCB0KSB7XG4gICAgdmFyIHIgPSBuZXcgYS5jcnlwdG8uTWVzc2FnZURpZ2VzdCh7IGFsZzogdCB9KTtcbiAgICByZXR1cm4gci5kaWdlc3RTdHJpbmcoZSk7XG4gIH0sIHRoaXMuaGFzaEhleCA9IGZ1bmN0aW9uKGUsIHQpIHtcbiAgICB2YXIgciA9IG5ldyBhLmNyeXB0by5NZXNzYWdlRGlnZXN0KHsgYWxnOiB0IH0pO1xuICAgIHJldHVybiByLmRpZ2VzdEhleChlKTtcbiAgfSwgdGhpcy5zaGExID0gZnVuY3Rpb24oZSkge1xuICAgIHJldHVybiB0aGlzLmhhc2hTdHJpbmcoZSwgXCJzaGExXCIpO1xuICB9LCB0aGlzLnNoYTI1NiA9IGZ1bmN0aW9uKGUpIHtcbiAgICByZXR1cm4gdGhpcy5oYXNoU3RyaW5nKGUsIFwic2hhMjU2XCIpO1xuICB9LCB0aGlzLnNoYTI1NkhleCA9IGZ1bmN0aW9uKGUpIHtcbiAgICByZXR1cm4gdGhpcy5oYXNoSGV4KGUsIFwic2hhMjU2XCIpO1xuICB9LCB0aGlzLnNoYTUxMiA9IGZ1bmN0aW9uKGUpIHtcbiAgICByZXR1cm4gdGhpcy5oYXNoU3RyaW5nKGUsIFwic2hhNTEyXCIpO1xuICB9LCB0aGlzLnNoYTUxMkhleCA9IGZ1bmN0aW9uKGUpIHtcbiAgICByZXR1cm4gdGhpcy5oYXNoSGV4KGUsIFwic2hhNTEyXCIpO1xuICB9LCB0aGlzLmlzS2V5ID0gZnVuY3Rpb24oZSkge1xuICAgIHJldHVybiBlIGluc3RhbmNlb2YgcSB8fCBlIGluc3RhbmNlb2YgYS5jcnlwdG8uRFNBIHx8IGUgaW5zdGFuY2VvZiBhLmNyeXB0by5FQ0RTQTtcbiAgfTtcbn0oKTtcbmEuY3J5cHRvLlV0aWwubWQ1ID0gZnVuY3Rpb24oZSkge1xuICB2YXIgdCA9IG5ldyBhLmNyeXB0by5NZXNzYWdlRGlnZXN0KHsgYWxnOiBcIm1kNVwiLCBwcm92OiBcImNyeXB0b2pzXCIgfSk7XG4gIHJldHVybiB0LmRpZ2VzdFN0cmluZyhlKTtcbn07XG5hLmNyeXB0by5VdGlsLnJpcGVtZDE2MCA9IGZ1bmN0aW9uKGUpIHtcbiAgdmFyIHQgPSBuZXcgYS5jcnlwdG8uTWVzc2FnZURpZ2VzdCh7IGFsZzogXCJyaXBlbWQxNjBcIiwgcHJvdjogXCJjcnlwdG9qc1wiIH0pO1xuICByZXR1cm4gdC5kaWdlc3RTdHJpbmcoZSk7XG59O1xuYS5jcnlwdG8uVXRpbC5TRUNVUkVSQU5ET01HRU4gPSBuZXcgR2UoKTtcbmEuY3J5cHRvLlV0aWwuZ2V0UmFuZG9tSGV4T2ZOYnl0ZXMgPSBmdW5jdGlvbihlKSB7XG4gIHZhciB0ID0gbmV3IEFycmF5KGUpO1xuICByZXR1cm4gYS5jcnlwdG8uVXRpbC5TRUNVUkVSQU5ET01HRU4ubmV4dEJ5dGVzKHQpLCBvdCh0KTtcbn07XG5hLmNyeXB0by5VdGlsLmdldFJhbmRvbUJpZ0ludGVnZXJPZk5ieXRlcyA9IGZ1bmN0aW9uKGUpIHtcbiAgcmV0dXJuIG5ldyBSKGEuY3J5cHRvLlV0aWwuZ2V0UmFuZG9tSGV4T2ZOYnl0ZXMoZSksIDE2KTtcbn07XG5hLmNyeXB0by5VdGlsLmdldFJhbmRvbUhleE9mTmJpdHMgPSBmdW5jdGlvbihlKSB7XG4gIHZhciB0ID0gZSAlIDgsIHIgPSAoZSAtIHQpIC8gOCwgaSA9IG5ldyBBcnJheShyICsgMSk7XG4gIHJldHVybiBhLmNyeXB0by5VdGlsLlNFQ1VSRVJBTkRPTUdFTi5uZXh0Qnl0ZXMoaSksIGlbMF0gPSAoMjU1IDw8IHQgJiAyNTUgXiAyNTUpICYgaVswXSwgb3QoaSk7XG59O1xuYS5jcnlwdG8uVXRpbC5nZXRSYW5kb21CaWdJbnRlZ2VyT2ZOYml0cyA9IGZ1bmN0aW9uKGUpIHtcbiAgcmV0dXJuIG5ldyBSKGEuY3J5cHRvLlV0aWwuZ2V0UmFuZG9tSGV4T2ZOYml0cyhlKSwgMTYpO1xufTtcbmEuY3J5cHRvLlV0aWwuZ2V0UmFuZG9tQmlnSW50ZWdlclplcm9Ub01heCA9IGZ1bmN0aW9uKGUpIHtcbiAgZm9yICh2YXIgdCA9IGUuYml0TGVuZ3RoKCk7IDsgKSB7XG4gICAgdmFyIHIgPSBhLmNyeXB0by5VdGlsLmdldFJhbmRvbUJpZ0ludGVnZXJPZk5iaXRzKHQpO1xuICAgIGlmIChlLmNvbXBhcmVUbyhyKSAhPSAtMSlcbiAgICAgIHJldHVybiByO1xuICB9XG59O1xuYS5jcnlwdG8uVXRpbC5nZXRSYW5kb21CaWdJbnRlZ2VyTWluVG9NYXggPSBmdW5jdGlvbihlLCB0KSB7XG4gIHZhciByID0gZS5jb21wYXJlVG8odCk7XG4gIGlmIChyID09IDEpXG4gICAgdGhyb3cgXCJiaU1pbiBpcyBncmVhdGVyIHRoYW4gYmlNYXhcIjtcbiAgaWYgKHIgPT0gMClcbiAgICByZXR1cm4gZTtcbiAgdmFyIGkgPSB0LnN1YnRyYWN0KGUpLCBzID0gYS5jcnlwdG8uVXRpbC5nZXRSYW5kb21CaWdJbnRlZ2VyWmVyb1RvTWF4KGkpO1xuICByZXR1cm4gcy5hZGQoZSk7XG59O1xuYS5jcnlwdG8uTWVzc2FnZURpZ2VzdCA9IGZ1bmN0aW9uKGUpIHtcbiAgdGhpcy5zZXRBbGdBbmRQcm92aWRlciA9IGZ1bmN0aW9uKHQsIHIpIHtcbiAgICBpZiAodCA9IGEuY3J5cHRvLk1lc3NhZ2VEaWdlc3QuZ2V0Q2Fub25pY2FsQWxnTmFtZSh0KSwgdCAhPT0gbnVsbCAmJiByID09PSB2b2lkIDAgJiYgKHIgPSBhLmNyeXB0by5VdGlsLkRFRkFVTFRQUk9WSURFUlt0XSksIFwiOm1kNTpzaGExOnNoYTIyNDpzaGEyNTY6c2hhMzg0OnNoYTUxMjpyaXBlbWQxNjA6XCIuaW5kZXhPZih0KSAhPSAtMSAmJiByID09IFwiY3J5cHRvanNcIikge1xuICAgICAgdHJ5IHtcbiAgICAgICAgdGhpcy5tZCA9IGEuY3J5cHRvLlV0aWwuQ1JZUFRPSlNNRVNTQUdFRElHRVNUTkFNRVt0XS5jcmVhdGUoKTtcbiAgICAgIH0gY2F0Y2ggKGkpIHtcbiAgICAgICAgdGhyb3cgXCJzZXRBbGdBbmRQcm92aWRlciBoYXNoIGFsZyBzZXQgZmFpbCBhbGc9XCIgKyB0ICsgXCIvXCIgKyBpO1xuICAgICAgfVxuICAgICAgdGhpcy51cGRhdGVTdHJpbmcgPSBmdW5jdGlvbihpKSB7XG4gICAgICAgIHRoaXMubWQudXBkYXRlKGkpO1xuICAgICAgfSwgdGhpcy51cGRhdGVIZXggPSBmdW5jdGlvbihpKSB7XG4gICAgICAgIHZhciBzID0gSy5lbmMuSGV4LnBhcnNlKGkpO1xuICAgICAgICB0aGlzLm1kLnVwZGF0ZShzKTtcbiAgICAgIH0sIHRoaXMuZGlnZXN0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBpID0gdGhpcy5tZC5maW5hbGl6ZSgpO1xuICAgICAgICByZXR1cm4gaS50b1N0cmluZyhLLmVuYy5IZXgpO1xuICAgICAgfSwgdGhpcy5kaWdlc3RTdHJpbmcgPSBmdW5jdGlvbihpKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVwZGF0ZVN0cmluZyhpKSwgdGhpcy5kaWdlc3QoKTtcbiAgICAgIH0sIHRoaXMuZGlnZXN0SGV4ID0gZnVuY3Rpb24oaSkge1xuICAgICAgICByZXR1cm4gdGhpcy51cGRhdGVIZXgoaSksIHRoaXMuZGlnZXN0KCk7XG4gICAgICB9O1xuICAgIH1cbiAgICBpZiAoXCI6c2hhMjU2OlwiLmluZGV4T2YodCkgIT0gLTEgJiYgciA9PSBcInNqY2xcIikge1xuICAgICAgdHJ5IHtcbiAgICAgICAgdGhpcy5tZCA9IG5ldyBzamNsLmhhc2guc2hhMjU2KCk7XG4gICAgICB9IGNhdGNoIChpKSB7XG4gICAgICAgIHRocm93IFwic2V0QWxnQW5kUHJvdmlkZXIgaGFzaCBhbGcgc2V0IGZhaWwgYWxnPVwiICsgdCArIFwiL1wiICsgaTtcbiAgICAgIH1cbiAgICAgIHRoaXMudXBkYXRlU3RyaW5nID0gZnVuY3Rpb24oaSkge1xuICAgICAgICB0aGlzLm1kLnVwZGF0ZShpKTtcbiAgICAgIH0sIHRoaXMudXBkYXRlSGV4ID0gZnVuY3Rpb24oaSkge1xuICAgICAgICB2YXIgcyA9IHNqY2wuY29kZWMuaGV4LnRvQml0cyhpKTtcbiAgICAgICAgdGhpcy5tZC51cGRhdGUocyk7XG4gICAgICB9LCB0aGlzLmRpZ2VzdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgaSA9IHRoaXMubWQuZmluYWxpemUoKTtcbiAgICAgICAgcmV0dXJuIHNqY2wuY29kZWMuaGV4LmZyb21CaXRzKGkpO1xuICAgICAgfSwgdGhpcy5kaWdlc3RTdHJpbmcgPSBmdW5jdGlvbihpKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVwZGF0ZVN0cmluZyhpKSwgdGhpcy5kaWdlc3QoKTtcbiAgICAgIH0sIHRoaXMuZGlnZXN0SGV4ID0gZnVuY3Rpb24oaSkge1xuICAgICAgICByZXR1cm4gdGhpcy51cGRhdGVIZXgoaSksIHRoaXMuZGlnZXN0KCk7XG4gICAgICB9O1xuICAgIH1cbiAgfSwgdGhpcy51cGRhdGVTdHJpbmcgPSBmdW5jdGlvbih0KSB7XG4gICAgdGhyb3cgXCJ1cGRhdGVTdHJpbmcoc3RyKSBub3Qgc3VwcG9ydGVkIGZvciB0aGlzIGFsZy9wcm92OiBcIiArIHRoaXMuYWxnTmFtZSArIFwiL1wiICsgdGhpcy5wcm92TmFtZTtcbiAgfSwgdGhpcy51cGRhdGVIZXggPSBmdW5jdGlvbih0KSB7XG4gICAgdGhyb3cgXCJ1cGRhdGVIZXgoaGV4KSBub3Qgc3VwcG9ydGVkIGZvciB0aGlzIGFsZy9wcm92OiBcIiArIHRoaXMuYWxnTmFtZSArIFwiL1wiICsgdGhpcy5wcm92TmFtZTtcbiAgfSwgdGhpcy5kaWdlc3QgPSBmdW5jdGlvbigpIHtcbiAgICB0aHJvdyBcImRpZ2VzdCgpIG5vdCBzdXBwb3J0ZWQgZm9yIHRoaXMgYWxnL3Byb3Y6IFwiICsgdGhpcy5hbGdOYW1lICsgXCIvXCIgKyB0aGlzLnByb3ZOYW1lO1xuICB9LCB0aGlzLmRpZ2VzdFN0cmluZyA9IGZ1bmN0aW9uKHQpIHtcbiAgICB0aHJvdyBcImRpZ2VzdFN0cmluZyhzdHIpIG5vdCBzdXBwb3J0ZWQgZm9yIHRoaXMgYWxnL3Byb3Y6IFwiICsgdGhpcy5hbGdOYW1lICsgXCIvXCIgKyB0aGlzLnByb3ZOYW1lO1xuICB9LCB0aGlzLmRpZ2VzdEhleCA9IGZ1bmN0aW9uKHQpIHtcbiAgICB0aHJvdyBcImRpZ2VzdEhleChoZXgpIG5vdCBzdXBwb3J0ZWQgZm9yIHRoaXMgYWxnL3Byb3Y6IFwiICsgdGhpcy5hbGdOYW1lICsgXCIvXCIgKyB0aGlzLnByb3ZOYW1lO1xuICB9LCBlICE9PSB2b2lkIDAgJiYgZS5hbGcgIT09IHZvaWQgMCAmJiAodGhpcy5hbGdOYW1lID0gZS5hbGcsIGUucHJvdiA9PT0gdm9pZCAwICYmICh0aGlzLnByb3ZOYW1lID0gYS5jcnlwdG8uVXRpbC5ERUZBVUxUUFJPVklERVJbdGhpcy5hbGdOYW1lXSksIHRoaXMuc2V0QWxnQW5kUHJvdmlkZXIodGhpcy5hbGdOYW1lLCB0aGlzLnByb3ZOYW1lKSk7XG59O1xuYS5jcnlwdG8uTWVzc2FnZURpZ2VzdC5nZXRDYW5vbmljYWxBbGdOYW1lID0gZnVuY3Rpb24oZSkge1xuICByZXR1cm4gdHlwZW9mIGUgPT0gXCJzdHJpbmdcIiAmJiAoZSA9IGUudG9Mb3dlckNhc2UoKSwgZSA9IGUucmVwbGFjZSgvLS8sIFwiXCIpKSwgZTtcbn07XG5hLmNyeXB0by5NZXNzYWdlRGlnZXN0LmdldEhhc2hMZW5ndGggPSBmdW5jdGlvbihlKSB7XG4gIHZhciB0ID0gYS5jcnlwdG8uTWVzc2FnZURpZ2VzdCwgciA9IHQuZ2V0Q2Fub25pY2FsQWxnTmFtZShlKTtcbiAgaWYgKHQuSEFTSExFTkdUSFtyXSA9PT0gdm9pZCAwKVxuICAgIHRocm93IFwibm90IHN1cHBvcnRlZCBhbGdvcml0aG06IFwiICsgZTtcbiAgcmV0dXJuIHQuSEFTSExFTkdUSFtyXTtcbn07XG5hLmNyeXB0by5NZXNzYWdlRGlnZXN0LkhBU0hMRU5HVEggPSB7IG1kNTogMTYsIHNoYTE6IDIwLCBzaGEyMjQ6IDI4LCBzaGEyNTY6IDMyLCBzaGEzODQ6IDQ4LCBzaGE1MTI6IDY0LCByaXBlbWQxNjA6IDIwIH07XG5hLmNyeXB0by5NYWMgPSBmdW5jdGlvbihlKSB7XG4gIHRoaXMuc2V0QWxnQW5kUHJvdmlkZXIgPSBmdW5jdGlvbih0LCByKSB7XG4gICAgaWYgKHQgPSB0LnRvTG93ZXJDYXNlKCksIHQgPT0gbnVsbCAmJiAodCA9IFwiaG1hY3NoYTFcIiksIHQgPSB0LnRvTG93ZXJDYXNlKCksIHQuc3Vic3RyKDAsIDQpICE9IFwiaG1hY1wiKVxuICAgICAgdGhyb3cgXCJzZXRBbGdBbmRQcm92aWRlciB1bnN1cHBvcnRlZCBITUFDIGFsZzogXCIgKyB0O1xuICAgIHIgPT09IHZvaWQgMCAmJiAociA9IGEuY3J5cHRvLlV0aWwuREVGQVVMVFBST1ZJREVSW3RdKSwgdGhpcy5hbGdQcm92ID0gdCArIFwiL1wiICsgcjtcbiAgICB2YXIgaSA9IHQuc3Vic3RyKDQpO1xuICAgIGlmIChcIjptZDU6c2hhMTpzaGEyMjQ6c2hhMjU2OnNoYTM4NDpzaGE1MTI6cmlwZW1kMTYwOlwiLmluZGV4T2YoaSkgIT0gLTEgJiYgciA9PSBcImNyeXB0b2pzXCIpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHZhciBzID0gYS5jcnlwdG8uVXRpbC5DUllQVE9KU01FU1NBR0VESUdFU1ROQU1FW2ldO1xuICAgICAgICB0aGlzLm1hYyA9IEsuYWxnby5ITUFDLmNyZWF0ZShzLCB0aGlzLnBhc3MpO1xuICAgICAgfSBjYXRjaCAobikge1xuICAgICAgICB0aHJvdyBcInNldEFsZ0FuZFByb3ZpZGVyIGhhc2ggYWxnIHNldCBmYWlsIGhhc2hBbGc9XCIgKyBpICsgXCIvXCIgKyBuO1xuICAgICAgfVxuICAgICAgdGhpcy51cGRhdGVTdHJpbmcgPSBmdW5jdGlvbihuKSB7XG4gICAgICAgIHRoaXMubWFjLnVwZGF0ZShuKTtcbiAgICAgIH0sIHRoaXMudXBkYXRlSGV4ID0gZnVuY3Rpb24obikge1xuICAgICAgICB2YXIgaCA9IEsuZW5jLkhleC5wYXJzZShuKTtcbiAgICAgICAgdGhpcy5tYWMudXBkYXRlKGgpO1xuICAgICAgfSwgdGhpcy5kb0ZpbmFsID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBuID0gdGhpcy5tYWMuZmluYWxpemUoKTtcbiAgICAgICAgcmV0dXJuIG4udG9TdHJpbmcoSy5lbmMuSGV4KTtcbiAgICAgIH0sIHRoaXMuZG9GaW5hbFN0cmluZyA9IGZ1bmN0aW9uKG4pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXBkYXRlU3RyaW5nKG4pLCB0aGlzLmRvRmluYWwoKTtcbiAgICAgIH0sIHRoaXMuZG9GaW5hbEhleCA9IGZ1bmN0aW9uKG4pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXBkYXRlSGV4KG4pLCB0aGlzLmRvRmluYWwoKTtcbiAgICAgIH07XG4gICAgfVxuICB9LCB0aGlzLnVwZGF0ZVN0cmluZyA9IGZ1bmN0aW9uKHQpIHtcbiAgICB0aHJvdyBcInVwZGF0ZVN0cmluZyhzdHIpIG5vdCBzdXBwb3J0ZWQgZm9yIHRoaXMgYWxnL3Byb3Y6IFwiICsgdGhpcy5hbGdQcm92O1xuICB9LCB0aGlzLnVwZGF0ZUhleCA9IGZ1bmN0aW9uKHQpIHtcbiAgICB0aHJvdyBcInVwZGF0ZUhleChoZXgpIG5vdCBzdXBwb3J0ZWQgZm9yIHRoaXMgYWxnL3Byb3Y6IFwiICsgdGhpcy5hbGdQcm92O1xuICB9LCB0aGlzLmRvRmluYWwgPSBmdW5jdGlvbigpIHtcbiAgICB0aHJvdyBcImRpZ2VzdCgpIG5vdCBzdXBwb3J0ZWQgZm9yIHRoaXMgYWxnL3Byb3Y6IFwiICsgdGhpcy5hbGdQcm92O1xuICB9LCB0aGlzLmRvRmluYWxTdHJpbmcgPSBmdW5jdGlvbih0KSB7XG4gICAgdGhyb3cgXCJkaWdlc3RTdHJpbmcoc3RyKSBub3Qgc3VwcG9ydGVkIGZvciB0aGlzIGFsZy9wcm92OiBcIiArIHRoaXMuYWxnUHJvdjtcbiAgfSwgdGhpcy5kb0ZpbmFsSGV4ID0gZnVuY3Rpb24odCkge1xuICAgIHRocm93IFwiZGlnZXN0SGV4KGhleCkgbm90IHN1cHBvcnRlZCBmb3IgdGhpcyBhbGcvcHJvdjogXCIgKyB0aGlzLmFsZ1Byb3Y7XG4gIH0sIHRoaXMuc2V0UGFzc3dvcmQgPSBmdW5jdGlvbih0KSB7XG4gICAgaWYgKHR5cGVvZiB0ID09IFwic3RyaW5nXCIpIHtcbiAgICAgIHZhciByID0gdDtcbiAgICAgICh0Lmxlbmd0aCAlIDIgPT0gMSB8fCAhdC5tYXRjaCgvXlswLTlBLUZhLWZdKyQvKSkgJiYgKHIgPSBQZSh0KSksIHRoaXMucGFzcyA9IEsuZW5jLkhleC5wYXJzZShyKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiB0ICE9IFwib2JqZWN0XCIpXG4gICAgICB0aHJvdyBcIktKVVIuY3J5cHRvLk1hYyB1bnN1cHBvcnRlZCBwYXNzd29yZCB0eXBlOiBcIiArIHQ7XG4gICAgdmFyIHIgPSBudWxsO1xuICAgIGlmICh0LmhleCAhPT0gdm9pZCAwKSB7XG4gICAgICBpZiAodC5oZXgubGVuZ3RoICUgMiAhPSAwIHx8ICF0LmhleC5tYXRjaCgvXlswLTlBLUZhLWZdKyQvKSlcbiAgICAgICAgdGhyb3cgXCJNYWM6IHdyb25nIGhleCBwYXNzd29yZDogXCIgKyB0LmhleDtcbiAgICAgIHIgPSB0LmhleDtcbiAgICB9XG4gICAgaWYgKHQudXRmOCAhPT0gdm9pZCAwICYmIChyID0gaHQodC51dGY4KSksIHQucnN0ciAhPT0gdm9pZCAwICYmIChyID0gUGUodC5yc3RyKSksIHQuYjY0ICE9PSB2b2lkIDAgJiYgKHIgPSBpdCh0LmI2NCkpLCB0LmI2NHUgIT09IHZvaWQgMCAmJiAociA9IFkodC5iNjR1KSksIHIgPT0gbnVsbClcbiAgICAgIHRocm93IFwiS0pVUi5jcnlwdG8uTWFjIHVuc3VwcG9ydGVkIHBhc3N3b3JkIHR5cGU6IFwiICsgdDtcbiAgICB0aGlzLnBhc3MgPSBLLmVuYy5IZXgucGFyc2Uocik7XG4gIH0sIGUgIT09IHZvaWQgMCAmJiAoZS5wYXNzICE9PSB2b2lkIDAgJiYgdGhpcy5zZXRQYXNzd29yZChlLnBhc3MpLCBlLmFsZyAhPT0gdm9pZCAwICYmICh0aGlzLmFsZ05hbWUgPSBlLmFsZywgZS5wcm92ID09PSB2b2lkIDAgJiYgKHRoaXMucHJvdk5hbWUgPSBhLmNyeXB0by5VdGlsLkRFRkFVTFRQUk9WSURFUlt0aGlzLmFsZ05hbWVdKSwgdGhpcy5zZXRBbGdBbmRQcm92aWRlcih0aGlzLmFsZ05hbWUsIHRoaXMucHJvdk5hbWUpKSk7XG59O1xuYS5jcnlwdG8uU2lnbmF0dXJlID0gZnVuY3Rpb24oZSkge1xuICB2YXIgdCA9IG51bGw7XG4gIGlmICh0aGlzLl9zZXRBbGdOYW1lcyA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciByID0gdGhpcy5hbGdOYW1lLm1hdGNoKC9eKC4rKXdpdGgoLispJC8pO1xuICAgIHIgJiYgKHRoaXMubWRBbGdOYW1lID0gclsxXS50b0xvd2VyQ2FzZSgpLCB0aGlzLnB1YmtleUFsZ05hbWUgPSByWzJdLnRvTG93ZXJDYXNlKCksIHRoaXMucHVia2V5QWxnTmFtZSA9PSBcInJzYWFuZG1nZjFcIiAmJiB0aGlzLm1kQWxnTmFtZSA9PSBcInNoYVwiICYmICh0aGlzLm1kQWxnTmFtZSA9IFwic2hhMVwiKSk7XG4gIH0sIHRoaXMuX3plcm9QYWRkaW5nT2ZTaWduYXR1cmUgPSBmdW5jdGlvbihyLCBpKSB7XG4gICAgZm9yICh2YXIgcyA9IFwiXCIsIG4gPSBpIC8gNCAtIHIubGVuZ3RoLCBoID0gMDsgaCA8IG47IGgrKylcbiAgICAgIHMgPSBzICsgXCIwXCI7XG4gICAgcmV0dXJuIHMgKyByO1xuICB9LCB0aGlzLnNldEFsZ0FuZFByb3ZpZGVyID0gZnVuY3Rpb24ociwgaSkge1xuICAgIGlmICh0aGlzLl9zZXRBbGdOYW1lcygpLCBpICE9IFwiY3J5cHRvanMvanNyc2FcIilcbiAgICAgIHRocm93IG5ldyBFcnJvcihcInByb3ZpZGVyIG5vdCBzdXBwb3J0ZWQ6IFwiICsgaSk7XG4gICAgaWYgKFwiOm1kNTpzaGExOnNoYTIyNDpzaGEyNTY6c2hhMzg0OnNoYTUxMjpyaXBlbWQxNjA6XCIuaW5kZXhPZih0aGlzLm1kQWxnTmFtZSkgIT0gLTEpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHRoaXMubWQgPSBuZXcgYS5jcnlwdG8uTWVzc2FnZURpZ2VzdCh7IGFsZzogdGhpcy5tZEFsZ05hbWUgfSk7XG4gICAgICB9IGNhdGNoIChzKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcInNldEFsZ0FuZFByb3ZpZGVyIGhhc2ggYWxnIHNldCBmYWlsIGFsZz1cIiArIHRoaXMubWRBbGdOYW1lICsgXCIvXCIgKyBzKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuaW5pdCA9IGZ1bmN0aW9uKHMsIG4pIHtcbiAgICAgICAgdmFyIGggPSBudWxsO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIG4gPT09IHZvaWQgMCA/IGggPSBrLmdldEtleShzKSA6IGggPSBrLmdldEtleShzLCBuKTtcbiAgICAgICAgfSBjYXRjaCAodSkge1xuICAgICAgICAgIHRocm93IFwiaW5pdCBmYWlsZWQ6XCIgKyB1O1xuICAgICAgICB9XG4gICAgICAgIGlmIChoLmlzUHJpdmF0ZSA9PT0gITApXG4gICAgICAgICAgdGhpcy5wcnZLZXkgPSBoLCB0aGlzLnN0YXRlID0gXCJTSUdOXCI7XG4gICAgICAgIGVsc2UgaWYgKGguaXNQdWJsaWMgPT09ICEwKVxuICAgICAgICAgIHRoaXMucHViS2V5ID0gaCwgdGhpcy5zdGF0ZSA9IFwiVkVSSUZZXCI7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICB0aHJvdyBcImluaXQgZmFpbGVkLjpcIiArIGg7XG4gICAgICB9LCB0aGlzLnVwZGF0ZVN0cmluZyA9IGZ1bmN0aW9uKHMpIHtcbiAgICAgICAgdGhpcy5tZC51cGRhdGVTdHJpbmcocyk7XG4gICAgICB9LCB0aGlzLnVwZGF0ZUhleCA9IGZ1bmN0aW9uKHMpIHtcbiAgICAgICAgdGhpcy5tZC51cGRhdGVIZXgocyk7XG4gICAgICB9LCB0aGlzLnNpZ24gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHRoaXMuc0hhc2hIZXggPSB0aGlzLm1kLmRpZ2VzdCgpLCB0aGlzLnBydktleSA9PT0gdm9pZCAwICYmIHRoaXMuZWNwcnZoZXggIT09IHZvaWQgMCAmJiB0aGlzLmVjY3VydmVuYW1lICE9PSB2b2lkIDAgJiYgYS5jcnlwdG8uRUNEU0EgIT09IHZvaWQgMCAmJiAodGhpcy5wcnZLZXkgPSBuZXcgYS5jcnlwdG8uRUNEU0EoeyBjdXJ2ZTogdGhpcy5lY2N1cnZlbmFtZSwgcHJ2OiB0aGlzLmVjcHJ2aGV4IH0pKSwgdGhpcy5wcnZLZXkgaW5zdGFuY2VvZiBxICYmIHRoaXMucHVia2V5QWxnTmFtZSA9PT0gXCJyc2FhbmRtZ2YxXCIpXG4gICAgICAgICAgdGhpcy5oU2lnbiA9IHRoaXMucHJ2S2V5LnNpZ25XaXRoTWVzc2FnZUhhc2hQU1ModGhpcy5zSGFzaEhleCwgdGhpcy5tZEFsZ05hbWUsIHRoaXMucHNzU2FsdExlbik7XG4gICAgICAgIGVsc2UgaWYgKHRoaXMucHJ2S2V5IGluc3RhbmNlb2YgcSAmJiB0aGlzLnB1YmtleUFsZ05hbWUgPT09IFwicnNhXCIpXG4gICAgICAgICAgdGhpcy5oU2lnbiA9IHRoaXMucHJ2S2V5LnNpZ25XaXRoTWVzc2FnZUhhc2godGhpcy5zSGFzaEhleCwgdGhpcy5tZEFsZ05hbWUpO1xuICAgICAgICBlbHNlIGlmICh0aGlzLnBydktleSBpbnN0YW5jZW9mIGEuY3J5cHRvLkVDRFNBKVxuICAgICAgICAgIHRoaXMuaFNpZ24gPSB0aGlzLnBydktleS5zaWduV2l0aE1lc3NhZ2VIYXNoKHRoaXMuc0hhc2hIZXgpO1xuICAgICAgICBlbHNlIGlmICh0aGlzLnBydktleSBpbnN0YW5jZW9mIGEuY3J5cHRvLkRTQSlcbiAgICAgICAgICB0aGlzLmhTaWduID0gdGhpcy5wcnZLZXkuc2lnbldpdGhNZXNzYWdlSGFzaCh0aGlzLnNIYXNoSGV4KTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgIHRocm93IFwiU2lnbmF0dXJlOiB1bnN1cHBvcnRlZCBwcml2YXRlIGtleSBhbGc6IFwiICsgdGhpcy5wdWJrZXlBbGdOYW1lO1xuICAgICAgICByZXR1cm4gdGhpcy5oU2lnbjtcbiAgICAgIH0sIHRoaXMuc2lnblN0cmluZyA9IGZ1bmN0aW9uKHMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXBkYXRlU3RyaW5nKHMpLCB0aGlzLnNpZ24oKTtcbiAgICAgIH0sIHRoaXMuc2lnbkhleCA9IGZ1bmN0aW9uKHMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXBkYXRlSGV4KHMpLCB0aGlzLnNpZ24oKTtcbiAgICAgIH0sIHRoaXMudmVyaWZ5ID0gZnVuY3Rpb24ocykge1xuICAgICAgICBpZiAodGhpcy5zSGFzaEhleCA9IHRoaXMubWQuZGlnZXN0KCksIHRoaXMucHViS2V5ID09PSB2b2lkIDAgJiYgdGhpcy5lY3B1YmhleCAhPT0gdm9pZCAwICYmIHRoaXMuZWNjdXJ2ZW5hbWUgIT09IHZvaWQgMCAmJiBhLmNyeXB0by5FQ0RTQSAhPT0gdm9pZCAwICYmICh0aGlzLnB1YktleSA9IG5ldyBhLmNyeXB0by5FQ0RTQSh7IGN1cnZlOiB0aGlzLmVjY3VydmVuYW1lLCBwdWI6IHRoaXMuZWNwdWJoZXggfSkpLCB0aGlzLnB1YktleSBpbnN0YW5jZW9mIHEgJiYgdGhpcy5wdWJrZXlBbGdOYW1lID09PSBcInJzYWFuZG1nZjFcIilcbiAgICAgICAgICByZXR1cm4gdGhpcy5wdWJLZXkudmVyaWZ5V2l0aE1lc3NhZ2VIYXNoUFNTKHRoaXMuc0hhc2hIZXgsIHMsIHRoaXMubWRBbGdOYW1lLCB0aGlzLnBzc1NhbHRMZW4pO1xuICAgICAgICBpZiAodGhpcy5wdWJLZXkgaW5zdGFuY2VvZiBxICYmIHRoaXMucHVia2V5QWxnTmFtZSA9PT0gXCJyc2FcIilcbiAgICAgICAgICByZXR1cm4gdGhpcy5wdWJLZXkudmVyaWZ5V2l0aE1lc3NhZ2VIYXNoKHRoaXMuc0hhc2hIZXgsIHMpO1xuICAgICAgICBpZiAoYS5jcnlwdG8uRUNEU0EgIT09IHZvaWQgMCAmJiB0aGlzLnB1YktleSBpbnN0YW5jZW9mIGEuY3J5cHRvLkVDRFNBKVxuICAgICAgICAgIHJldHVybiB0aGlzLnB1YktleS52ZXJpZnlXaXRoTWVzc2FnZUhhc2godGhpcy5zSGFzaEhleCwgcyk7XG4gICAgICAgIGlmIChhLmNyeXB0by5EU0EgIT09IHZvaWQgMCAmJiB0aGlzLnB1YktleSBpbnN0YW5jZW9mIGEuY3J5cHRvLkRTQSlcbiAgICAgICAgICByZXR1cm4gdGhpcy5wdWJLZXkudmVyaWZ5V2l0aE1lc3NhZ2VIYXNoKHRoaXMuc0hhc2hIZXgsIHMpO1xuICAgICAgICB0aHJvdyBcIlNpZ25hdHVyZTogdW5zdXBwb3J0ZWQgcHVibGljIGtleSBhbGc6IFwiICsgdGhpcy5wdWJrZXlBbGdOYW1lO1xuICAgICAgfTtcbiAgICB9XG4gIH0sIHRoaXMuaW5pdCA9IGZ1bmN0aW9uKHIsIGkpIHtcbiAgICB0aHJvdyBcImluaXQoa2V5LCBwYXNzKSBub3Qgc3VwcG9ydGVkIGZvciB0aGlzIGFsZzpwcm92PVwiICsgdGhpcy5hbGdQcm92TmFtZTtcbiAgfSwgdGhpcy51cGRhdGVTdHJpbmcgPSBmdW5jdGlvbihyKSB7XG4gICAgdGhyb3cgXCJ1cGRhdGVTdHJpbmcoc3RyKSBub3Qgc3VwcG9ydGVkIGZvciB0aGlzIGFsZzpwcm92PVwiICsgdGhpcy5hbGdQcm92TmFtZTtcbiAgfSwgdGhpcy51cGRhdGVIZXggPSBmdW5jdGlvbihyKSB7XG4gICAgdGhyb3cgXCJ1cGRhdGVIZXgoaGV4KSBub3Qgc3VwcG9ydGVkIGZvciB0aGlzIGFsZzpwcm92PVwiICsgdGhpcy5hbGdQcm92TmFtZTtcbiAgfSwgdGhpcy5zaWduID0gZnVuY3Rpb24oKSB7XG4gICAgdGhyb3cgXCJzaWduKCkgbm90IHN1cHBvcnRlZCBmb3IgdGhpcyBhbGc6cHJvdj1cIiArIHRoaXMuYWxnUHJvdk5hbWU7XG4gIH0sIHRoaXMuc2lnblN0cmluZyA9IGZ1bmN0aW9uKHIpIHtcbiAgICB0aHJvdyBcImRpZ2VzdFN0cmluZyhzdHIpIG5vdCBzdXBwb3J0ZWQgZm9yIHRoaXMgYWxnOnByb3Y9XCIgKyB0aGlzLmFsZ1Byb3ZOYW1lO1xuICB9LCB0aGlzLnNpZ25IZXggPSBmdW5jdGlvbihyKSB7XG4gICAgdGhyb3cgXCJkaWdlc3RIZXgoaGV4KSBub3Qgc3VwcG9ydGVkIGZvciB0aGlzIGFsZzpwcm92PVwiICsgdGhpcy5hbGdQcm92TmFtZTtcbiAgfSwgdGhpcy52ZXJpZnkgPSBmdW5jdGlvbihyKSB7XG4gICAgdGhyb3cgXCJ2ZXJpZnkoaFNpZ1ZhbCkgbm90IHN1cHBvcnRlZCBmb3IgdGhpcyBhbGc6cHJvdj1cIiArIHRoaXMuYWxnUHJvdk5hbWU7XG4gIH0sIHRoaXMuaW5pdFBhcmFtcyA9IGUsIGUgIT09IHZvaWQgMCAmJiAoZS5hbGcgIT09IHZvaWQgMCAmJiAodGhpcy5hbGdOYW1lID0gZS5hbGcsIGUucHJvdiA9PT0gdm9pZCAwID8gdGhpcy5wcm92TmFtZSA9IGEuY3J5cHRvLlV0aWwuREVGQVVMVFBST1ZJREVSW3RoaXMuYWxnTmFtZV0gOiB0aGlzLnByb3ZOYW1lID0gZS5wcm92LCB0aGlzLmFsZ1Byb3ZOYW1lID0gdGhpcy5hbGdOYW1lICsgXCI6XCIgKyB0aGlzLnByb3ZOYW1lLCB0aGlzLnNldEFsZ0FuZFByb3ZpZGVyKHRoaXMuYWxnTmFtZSwgdGhpcy5wcm92TmFtZSksIHRoaXMuX3NldEFsZ05hbWVzKCkpLCBlLnBzc3NhbHRsZW4gIT09IHZvaWQgMCAmJiAodGhpcy5wc3NTYWx0TGVuID0gZS5wc3NzYWx0bGVuKSwgZS5wcnZrZXlwZW0gIT09IHZvaWQgMCkpIHtcbiAgICBpZiAoZS5wcnZrZXlwYXMgIT09IHZvaWQgMClcbiAgICAgIHRocm93IFwiYm90aCBwcnZrZXlwZW0gYW5kIHBydmtleXBhcyBwYXJhbWV0ZXJzIG5vdCBzdXBwb3J0ZWRcIjtcbiAgICB0cnkge1xuICAgICAgdmFyIHQgPSBrLmdldEtleShlLnBydmtleXBlbSk7XG4gICAgICB0aGlzLmluaXQodCk7XG4gICAgfSBjYXRjaCAocikge1xuICAgICAgdGhyb3cgXCJmYXRhbCBlcnJvciB0byBsb2FkIHBlbSBwcml2YXRlIGtleTogXCIgKyByO1xuICAgIH1cbiAgfVxufTtcbmEuY3J5cHRvLkNpcGhlciA9IGZ1bmN0aW9uKGUpIHtcbn07XG5hLmNyeXB0by5DaXBoZXIuZW5jcnlwdCA9IGZ1bmN0aW9uKGUsIHQsIHIsIGkpIHtcbiAgaWYgKEooaSwgXCJlbmNsYWdcIikgIT0gbnVsbCAmJiAociA9IGkuZW5jYWxnKSwgdHlwZW9mIHIgPT0gXCJzdHJpbmdcIiAmJiByLnN1YnN0cigtNCkgPT0gXCItQ0JDXCIpIHtcbiAgICB2YXIgcyA9IHQsIG4gPSBlO1xuICAgIEooaSwgXCJrZXlcIikgIT0gbnVsbCAmJiAocyA9IGkua2V5KSwgSihpLCBcImVuY1wiKSAhPSBudWxsICYmIChoRW5jID0gaS5lbmMpO1xuICAgIHZhciBoID0gSy5lbmMuSGV4LnBhcnNlKHMpLCB1ID0gSy5lbmMuSGV4LnBhcnNlKG4pLCBwID0gSy5lbmMuSGV4LnBhcnNlKGkuaXYpLCBjO1xuICAgIGlmIChyID09IFwiZGVzLUVERTMtQ0JDXCIpXG4gICAgICBjID0gSy5UcmlwbGVERVMuZW5jcnlwdCh1LCBoLCB7IGl2OiBwIH0pO1xuICAgIGVsc2UgaWYgKHIgPT0gXCJhZXMxMjgtQ0JDXCIgfHwgciA9PSBcImFlczI1Ni1DQkNcIilcbiAgICAgIGMgPSBLLkFFUy5lbmNyeXB0KHUsIGgsIHsgaXY6IHAgfSk7XG4gICAgZWxzZVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwidW5zdXBwb3J0ZWQgYWxnb3JpdGhtOiBcIiArIHIpO1xuICAgIHJldHVybiBjICsgXCJcIjtcbiAgfSBlbHNlXG4gICAgdGhyb3cgbmV3IEVycm9yKFwiQ2lwaGVyLmVuY3J5cHQ6IHVuc3VwcG9ydGVkIGtleSBvciBhbGdvcml0aG1cIik7XG59O1xuYS5jcnlwdG8uQ2lwaGVyLmRlY3J5cHQgPSBmdW5jdGlvbihlLCB0LCByLCBpKSB7XG4gIGlmIChKKGksIFwiZW5jbGFnXCIpICE9IG51bGwgJiYgKHIgPSBpLmVuY2FsZyksIHR5cGVvZiByID09IFwic3RyaW5nXCIgJiYgci5zdWJzdHIoLTQpID09IFwiLUNCQ1wiKSB7XG4gICAgdmFyIHMgPSB0LCBuID0gZTtcbiAgICBKKGksIFwia2V5XCIpICE9IG51bGwgJiYgKHMgPSBpLmtleSksIEooaSwgXCJlbmNcIikgIT0gbnVsbCAmJiAobiA9IGkuZW5jKTtcbiAgICB2YXIgaCA9IEsuZW5jLkhleC5wYXJzZShzKSwgdSA9IEsuZW5jLkhleC5wYXJzZShuKSwgcCA9IEsuZW5jLkhleC5wYXJzZShpLml2KSwgYztcbiAgICBpZiAociA9PSBcImRlcy1FREUzLUNCQ1wiKVxuICAgICAgYyA9IEsuVHJpcGxlREVTLmRlY3J5cHQoeyBjaXBoZXJ0ZXh0OiB1IH0sIGgsIHsgaXY6IHAgfSk7XG4gICAgZWxzZSBpZiAociA9PSBcImFlczEyOC1DQkNcIiB8fCByID09IFwiYWVzMjU2LUNCQ1wiKVxuICAgICAgYyA9IEsuQUVTLmRlY3J5cHQoeyBjaXBoZXJ0ZXh0OiB1IH0sIGgsIHsgaXY6IHAgfSk7XG4gICAgZWxzZVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwidW5zdXBwb3J0ZWQgYWxnb3JpdGhtOiBcIiArIHIpO1xuICAgIHJldHVybiBLLmVuYy5IZXguc3RyaW5naWZ5KGMpO1xuICB9IGVsc2VcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJDaXBoZXIuZGVjcnlwdDogdW5zdXBwb3J0ZWQga2V5IG9yIGFsZ29yaXRobVwiKTtcbn07XG5hLmNyeXB0by5PSUQgPSBuZXcgZnVuY3Rpb24oKSB7XG4gIHRoaXMub2lkaGV4Mm5hbWUgPSB7IFwiMmE4NjQ4ODZmNzBkMDEwMTAxXCI6IFwicnNhRW5jcnlwdGlvblwiLCBcIjJhODY0OGNlM2QwMjAxXCI6IFwiZWNQdWJsaWNLZXlcIiwgXCIyYTg2NDhjZTM4MDQwMVwiOiBcImRzYVwiLCBcIjJhODY0OGNlM2QwMzAxMDdcIjogXCJzZWNwMjU2cjFcIiwgXCIyYjgxMDQwMDFmXCI6IFwic2VjcDE5MmsxXCIsIFwiMmI4MTA0MDAyMVwiOiBcInNlY3AyMjRyMVwiLCBcIjJiODEwNDAwMGFcIjogXCJzZWNwMjU2azFcIiwgXCIyYjgxMDQwMDIyXCI6IFwic2VjcDM4NHIxXCIsIFwiMmI4MTA0MDAyM1wiOiBcInNlY3A1MjFyMVwiLCBcIjJhODY0OGNlMzgwNDAzXCI6IFwiU0hBMXdpdGhEU0FcIiwgXCI2MDg2NDgwMTY1MDMwNDAzMDFcIjogXCJTSEEyMjR3aXRoRFNBXCIsIFwiNjA4NjQ4MDE2NTAzMDQwMzAyXCI6IFwiU0hBMjU2d2l0aERTQVwiIH07XG59KCk7XG4odHlwZW9mIGEgPiBcInVcIiB8fCAhYSkgJiYgKGEgPSB7fSk7XG4odHlwZW9mIGEuY3J5cHRvID4gXCJ1XCIgfHwgIWEuY3J5cHRvKSAmJiAoYS5jcnlwdG8gPSB7fSk7XG5hLmNyeXB0by5FQ0RTQSA9IGZ1bmN0aW9uKGUpIHtcbiAgdmFyIHQgPSBcInNlY3AyNTZyMVwiLCByID0gRXJyb3IsIGkgPSBSLCBzID0geiwgbiA9IGEuY3J5cHRvLkVDRFNBLCBoID0gYS5jcnlwdG8uRUNQYXJhbWV0ZXJEQiwgdSA9IG4uZ2V0TmFtZSwgcCA9IFYsIGMgPSBwLmdldFZieUxpc3RFeCwgeSA9IHAuaXNBU04xSEVYLCB2ID0gbmV3IEdlKCk7XG4gIHRoaXMudHlwZSA9IFwiRUNcIiwgdGhpcy5pc1ByaXZhdGUgPSAhMSwgdGhpcy5pc1B1YmxpYyA9ICExLCB0aGlzLmdldEJpZ1JhbmRvbSA9IGZ1bmN0aW9uKG8pIHtcbiAgICByZXR1cm4gbmV3IGkoby5iaXRMZW5ndGgoKSwgdikubW9kKG8uc3VidHJhY3QoaS5PTkUpKS5hZGQoaS5PTkUpO1xuICB9LCB0aGlzLnNldE5hbWVkQ3VydmUgPSBmdW5jdGlvbihvKSB7XG4gICAgdGhpcy5lY3BhcmFtcyA9IGguZ2V0QnlOYW1lKG8pLCB0aGlzLnBydktleUhleCA9IG51bGwsIHRoaXMucHViS2V5SGV4ID0gbnVsbCwgdGhpcy5jdXJ2ZU5hbWUgPSBvO1xuICB9LCB0aGlzLnNldFByaXZhdGVLZXlIZXggPSBmdW5jdGlvbihvKSB7XG4gICAgdGhpcy5pc1ByaXZhdGUgPSAhMCwgdGhpcy5wcnZLZXlIZXggPSBvO1xuICB9LCB0aGlzLnNldFB1YmxpY0tleUhleCA9IGZ1bmN0aW9uKG8pIHtcbiAgICB0aGlzLmlzUHVibGljID0gITAsIHRoaXMucHViS2V5SGV4ID0gbztcbiAgfSwgdGhpcy5nZXRQdWJsaWNLZXlYWUhleCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBvID0gdGhpcy5wdWJLZXlIZXg7XG4gICAgaWYgKG8uc3Vic3RyKDAsIDIpICE9PSBcIjA0XCIpXG4gICAgICB0aHJvdyBcInRoaXMgbWV0aG9kIHN1cHBvcnRzIHVuY29tcHJlc3NlZCBmb3JtYXQoMDQpIG9ubHlcIjtcbiAgICB2YXIgbCA9IHRoaXMuZWNwYXJhbXMua2V5Y2hhcmxlbjtcbiAgICBpZiAoby5sZW5ndGggIT09IDIgKyBsICogMilcbiAgICAgIHRocm93IFwibWFsZm9ybWVkIHB1YmxpYyBrZXkgaGV4IGxlbmd0aFwiO1xuICAgIHZhciBmID0ge307XG4gICAgcmV0dXJuIGYueCA9IG8uc3Vic3RyKDIsIGwpLCBmLnkgPSBvLnN1YnN0cigyICsgbCksIGY7XG4gIH0sIHRoaXMuZ2V0U2hvcnROSVNUUEN1cnZlTmFtZSA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBvID0gdGhpcy5jdXJ2ZU5hbWU7XG4gICAgcmV0dXJuIG8gPT09IFwic2VjcDI1NnIxXCIgfHwgbyA9PT0gXCJOSVNUIFAtMjU2XCIgfHwgbyA9PT0gXCJQLTI1NlwiIHx8IG8gPT09IFwicHJpbWUyNTZ2MVwiID8gXCJQLTI1NlwiIDogbyA9PT0gXCJzZWNwMzg0cjFcIiB8fCBvID09PSBcIk5JU1QgUC0zODRcIiB8fCBvID09PSBcIlAtMzg0XCIgPyBcIlAtMzg0XCIgOiBvID09PSBcInNlY3A1MjFyMVwiIHx8IG8gPT09IFwiTklTVCBQLTUyMVwiIHx8IG8gPT09IFwiUC01MjFcIiA/IFwiUC01MjFcIiA6IG51bGw7XG4gIH0sIHRoaXMuZ2VuZXJhdGVLZXlQYWlySGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIG8gPSB0aGlzLmVjcGFyYW1zLm4sIGwgPSB0aGlzLmdldEJpZ1JhbmRvbShvKSwgZiA9IHRoaXMuZWNwYXJhbXMua2V5Y2hhcmxlbiwgZCA9IChcIjAwMDAwMDAwMDBcIiArIGwudG9TdHJpbmcoMTYpKS5zbGljZSgtZik7XG4gICAgdGhpcy5zZXRQcml2YXRlS2V5SGV4KGQpO1xuICAgIHZhciBnID0gdGhpcy5nZW5lcmF0ZVB1YmxpY0tleUhleCgpO1xuICAgIHJldHVybiB7IGVjcHJ2aGV4OiBkLCBlY3B1YmhleDogZyB9O1xuICB9LCB0aGlzLmdlbmVyYXRlUHVibGljS2V5SGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIG8gPSBuZXcgaSh0aGlzLnBydktleUhleCwgMTYpLCBsID0gdGhpcy5lY3BhcmFtcy5HLm11bHRpcGx5KG8pLCBmID0gbC5nZXRYKCkudG9CaWdJbnRlZ2VyKCksIGQgPSBsLmdldFkoKS50b0JpZ0ludGVnZXIoKSwgZyA9IHRoaXMuZWNwYXJhbXMua2V5Y2hhcmxlbiwgUyA9IChcIjAwMDAwMDAwMDBcIiArIGYudG9TdHJpbmcoMTYpKS5zbGljZSgtZyksIGIgPSAoXCIwMDAwMDAwMDAwXCIgKyBkLnRvU3RyaW5nKDE2KSkuc2xpY2UoLWcpLCBEID0gXCIwNFwiICsgUyArIGI7XG4gICAgcmV0dXJuIHRoaXMuc2V0UHVibGljS2V5SGV4KEQpLCBEO1xuICB9LCB0aGlzLnNpZ25XaXRoTWVzc2FnZUhhc2ggPSBmdW5jdGlvbihvKSB7XG4gICAgcmV0dXJuIHRoaXMuc2lnbkhleChvLCB0aGlzLnBydktleUhleCk7XG4gIH0sIHRoaXMuc2lnbkhleCA9IGZ1bmN0aW9uKG8sIGwpIHtcbiAgICB2YXIgZiA9IG5ldyBpKGwsIDE2KSwgZCA9IHRoaXMuZWNwYXJhbXMubiwgZyA9IG5ldyBpKG8uc3Vic3RyaW5nKDAsIHRoaXMuZWNwYXJhbXMua2V5Y2hhcmxlbiksIDE2KTtcbiAgICBkb1xuICAgICAgdmFyIFMgPSB0aGlzLmdldEJpZ1JhbmRvbShkKSwgYiA9IHRoaXMuZWNwYXJhbXMuRywgRCA9IGIubXVsdGlwbHkoUyksIEEgPSBELmdldFgoKS50b0JpZ0ludGVnZXIoKS5tb2QoZCk7XG4gICAgd2hpbGUgKEEuY29tcGFyZVRvKGkuWkVSTykgPD0gMCk7XG4gICAgdmFyIEkgPSBTLm1vZEludmVyc2UoZCkubXVsdGlwbHkoZy5hZGQoZi5tdWx0aXBseShBKSkpLm1vZChkKTtcbiAgICByZXR1cm4gbi5iaVJTU2lnVG9BU04xU2lnKEEsIEkpO1xuICB9LCB0aGlzLnNpZ24gPSBmdW5jdGlvbihvLCBsKSB7XG4gICAgdmFyIGYgPSBsLCBkID0gdGhpcy5lY3BhcmFtcy5uLCBnID0gaS5mcm9tQnl0ZUFycmF5VW5zaWduZWQobyk7XG4gICAgZG9cbiAgICAgIHZhciBTID0gdGhpcy5nZXRCaWdSYW5kb20oZCksIGIgPSB0aGlzLmVjcGFyYW1zLkcsIEQgPSBiLm11bHRpcGx5KFMpLCBBID0gRC5nZXRYKCkudG9CaWdJbnRlZ2VyKCkubW9kKGQpO1xuICAgIHdoaWxlIChBLmNvbXBhcmVUbyhSLlpFUk8pIDw9IDApO1xuICAgIHZhciBJID0gUy5tb2RJbnZlcnNlKGQpLm11bHRpcGx5KGcuYWRkKGYubXVsdGlwbHkoQSkpKS5tb2QoZCk7XG4gICAgcmV0dXJuIHRoaXMuc2VyaWFsaXplU2lnKEEsIEkpO1xuICB9LCB0aGlzLnZlcmlmeVdpdGhNZXNzYWdlSGFzaCA9IGZ1bmN0aW9uKG8sIGwpIHtcbiAgICByZXR1cm4gdGhpcy52ZXJpZnlIZXgobywgbCwgdGhpcy5wdWJLZXlIZXgpO1xuICB9LCB0aGlzLnZlcmlmeUhleCA9IGZ1bmN0aW9uKG8sIGwsIGYpIHtcbiAgICB0cnkge1xuICAgICAgdmFyIGQsIGcsIFMgPSBuLnBhcnNlU2lnSGV4KGwpO1xuICAgICAgZCA9IFMuciwgZyA9IFMucztcbiAgICAgIHZhciBiID0gcy5kZWNvZGVGcm9tSGV4KHRoaXMuZWNwYXJhbXMuY3VydmUsIGYpLCBEID0gbmV3IGkoby5zdWJzdHJpbmcoMCwgdGhpcy5lY3BhcmFtcy5rZXljaGFybGVuKSwgMTYpO1xuICAgICAgcmV0dXJuIHRoaXMudmVyaWZ5UmF3KEQsIGQsIGcsIGIpO1xuICAgIH0gY2F0Y2gge1xuICAgICAgcmV0dXJuICExO1xuICAgIH1cbiAgfSwgdGhpcy52ZXJpZnkgPSBmdW5jdGlvbihvLCBsLCBmKSB7XG4gICAgdmFyIGQsIGc7XG4gICAgaWYgKEJpdGNvaW4uVXRpbC5pc0FycmF5KGwpKSB7XG4gICAgICB2YXIgUyA9IHRoaXMucGFyc2VTaWcobCk7XG4gICAgICBkID0gUy5yLCBnID0gUy5zO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGwgPT0gXCJvYmplY3RcIiAmJiBsLnIgJiYgbC5zKVxuICAgICAgZCA9IGwuciwgZyA9IGwucztcbiAgICBlbHNlXG4gICAgICB0aHJvdyBcIkludmFsaWQgdmFsdWUgZm9yIHNpZ25hdHVyZVwiO1xuICAgIHZhciBiO1xuICAgIGlmIChmIGluc3RhbmNlb2YgeilcbiAgICAgIGIgPSBmO1xuICAgIGVsc2UgaWYgKEJpdGNvaW4uVXRpbC5pc0FycmF5KGYpKVxuICAgICAgYiA9IHMuZGVjb2RlRnJvbSh0aGlzLmVjcGFyYW1zLmN1cnZlLCBmKTtcbiAgICBlbHNlXG4gICAgICB0aHJvdyBcIkludmFsaWQgZm9ybWF0IGZvciBwdWJrZXkgdmFsdWUsIG11c3QgYmUgYnl0ZSBhcnJheSBvciBFQ1BvaW50RnBcIjtcbiAgICB2YXIgRCA9IGkuZnJvbUJ5dGVBcnJheVVuc2lnbmVkKG8pO1xuICAgIHJldHVybiB0aGlzLnZlcmlmeVJhdyhELCBkLCBnLCBiKTtcbiAgfSwgdGhpcy52ZXJpZnlSYXcgPSBmdW5jdGlvbihvLCBsLCBmLCBkKSB7XG4gICAgdmFyIGcgPSB0aGlzLmVjcGFyYW1zLm4sIFMgPSB0aGlzLmVjcGFyYW1zLkc7XG4gICAgaWYgKGwuY29tcGFyZVRvKGkuT05FKSA8IDAgfHwgbC5jb21wYXJlVG8oZykgPj0gMCB8fCBmLmNvbXBhcmVUbyhpLk9ORSkgPCAwIHx8IGYuY29tcGFyZVRvKGcpID49IDApXG4gICAgICByZXR1cm4gITE7XG4gICAgdmFyIGIgPSBmLm1vZEludmVyc2UoZyksIEQgPSBvLm11bHRpcGx5KGIpLm1vZChnKSwgQSA9IGwubXVsdGlwbHkoYikubW9kKGcpLCBJID0gUy5tdWx0aXBseShEKS5hZGQoZC5tdWx0aXBseShBKSksIG0gPSBJLmdldFgoKS50b0JpZ0ludGVnZXIoKS5tb2QoZyk7XG4gICAgcmV0dXJuIG0uZXF1YWxzKGwpO1xuICB9LCB0aGlzLnNlcmlhbGl6ZVNpZyA9IGZ1bmN0aW9uKG8sIGwpIHtcbiAgICB2YXIgZiA9IG8udG9CeXRlQXJyYXlTaWduZWQoKSwgZCA9IGwudG9CeXRlQXJyYXlTaWduZWQoKSwgZyA9IFtdO1xuICAgIHJldHVybiBnLnB1c2goMiksIGcucHVzaChmLmxlbmd0aCksIGcgPSBnLmNvbmNhdChmKSwgZy5wdXNoKDIpLCBnLnB1c2goZC5sZW5ndGgpLCBnID0gZy5jb25jYXQoZCksIGcudW5zaGlmdChnLmxlbmd0aCksIGcudW5zaGlmdCg0OCksIGc7XG4gIH0sIHRoaXMucGFyc2VTaWcgPSBmdW5jdGlvbihvKSB7XG4gICAgdmFyIGw7XG4gICAgaWYgKG9bMF0gIT0gNDgpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJTaWduYXR1cmUgbm90IGEgdmFsaWQgREVSU2VxdWVuY2VcIik7XG4gICAgaWYgKGwgPSAyLCBvW2xdICE9IDIpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJGaXJzdCBlbGVtZW50IGluIHNpZ25hdHVyZSBtdXN0IGJlIGEgREVSSW50ZWdlclwiKTtcbiAgICB2YXIgZiA9IG8uc2xpY2UobCArIDIsIGwgKyAyICsgb1tsICsgMV0pO1xuICAgIGlmIChsICs9IDIgKyBvW2wgKyAxXSwgb1tsXSAhPSAyKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiU2Vjb25kIGVsZW1lbnQgaW4gc2lnbmF0dXJlIG11c3QgYmUgYSBERVJJbnRlZ2VyXCIpO1xuICAgIHZhciBkID0gby5zbGljZShsICsgMiwgbCArIDIgKyBvW2wgKyAxXSk7XG4gICAgbCArPSAyICsgb1tsICsgMV07XG4gICAgdmFyIGcgPSBpLmZyb21CeXRlQXJyYXlVbnNpZ25lZChmKSwgUyA9IGkuZnJvbUJ5dGVBcnJheVVuc2lnbmVkKGQpO1xuICAgIHJldHVybiB7IHI6IGcsIHM6IFMgfTtcbiAgfSwgdGhpcy5wYXJzZVNpZ0NvbXBhY3QgPSBmdW5jdGlvbihvKSB7XG4gICAgaWYgKG8ubGVuZ3RoICE9PSA2NSlcbiAgICAgIHRocm93IFwiU2lnbmF0dXJlIGhhcyB0aGUgd3JvbmcgbGVuZ3RoXCI7XG4gICAgdmFyIGwgPSBvWzBdIC0gMjc7XG4gICAgaWYgKGwgPCAwIHx8IGwgPiA3KVxuICAgICAgdGhyb3cgXCJJbnZhbGlkIHNpZ25hdHVyZSB0eXBlXCI7XG4gICAgdmFyIGYgPSB0aGlzLmVjcGFyYW1zLm4sIGQgPSBpLmZyb21CeXRlQXJyYXlVbnNpZ25lZChvLnNsaWNlKDEsIDMzKSkubW9kKGYpLCBnID0gaS5mcm9tQnl0ZUFycmF5VW5zaWduZWQoby5zbGljZSgzMywgNjUpKS5tb2QoZik7XG4gICAgcmV0dXJuIHsgcjogZCwgczogZywgaTogbCB9O1xuICB9LCB0aGlzLnJlYWRQS0NTNVBydktleUhleCA9IGZ1bmN0aW9uKG8pIHtcbiAgICBpZiAoeShvKSA9PT0gITEpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJub3QgQVNOLjEgaGV4IHN0cmluZ1wiKTtcbiAgICB2YXIgbCwgZiwgZDtcbiAgICB0cnkge1xuICAgICAgbCA9IGMobywgMCwgW1wiWzBdXCIsIDBdLCBcIjA2XCIpLCBmID0gYyhvLCAwLCBbMV0sIFwiMDRcIik7XG4gICAgICB0cnkge1xuICAgICAgICBkID0gYyhvLCAwLCBbXCJbMV1cIiwgMF0sIFwiMDNcIik7XG4gICAgICB9IGNhdGNoIHtcbiAgICAgIH1cbiAgICB9IGNhdGNoIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIm1hbGZvcm1lZCBQS0NTIzEvNSBwbGFpbiBFQ0MgcHJpdmF0ZSBrZXlcIik7XG4gICAgfVxuICAgIGlmICh0aGlzLmN1cnZlTmFtZSA9IHUobCksIHRoaXMuY3VydmVOYW1lID09PSB2b2lkIDApXG4gICAgICB0aHJvdyBcInVuc3VwcG9ydGVkIGN1cnZlIG5hbWVcIjtcbiAgICB0aGlzLnNldE5hbWVkQ3VydmUodGhpcy5jdXJ2ZU5hbWUpLCB0aGlzLnNldFB1YmxpY0tleUhleChkKSwgdGhpcy5zZXRQcml2YXRlS2V5SGV4KGYpLCB0aGlzLmlzUHVibGljID0gITE7XG4gIH0sIHRoaXMucmVhZFBLQ1M4UHJ2S2V5SGV4ID0gZnVuY3Rpb24obykge1xuICAgIGlmICh5KG8pID09PSAhMSlcbiAgICAgIHRocm93IG5ldyByKFwibm90IEFTTi4xIGhleCBzdHJpbmdcIik7XG4gICAgdmFyIGwsIGYsIGQsIGc7XG4gICAgdHJ5IHtcbiAgICAgIGwgPSBjKG8sIDAsIFsxLCAwXSwgXCIwNlwiKSwgZiA9IGMobywgMCwgWzEsIDFdLCBcIjA2XCIpLCBkID0gYyhvLCAwLCBbMiwgMCwgMV0sIFwiMDRcIik7XG4gICAgICB0cnkge1xuICAgICAgICBnID0gYyhvLCAwLCBbMiwgMCwgXCJbMV1cIiwgMF0sIFwiMDNcIik7XG4gICAgICB9IGNhdGNoIHtcbiAgICAgIH1cbiAgICB9IGNhdGNoIHtcbiAgICAgIHRocm93IG5ldyByKFwibWFsZm9ybWVkIFBLQ1MjOCBwbGFpbiBFQ0MgcHJpdmF0ZSBrZXlcIik7XG4gICAgfVxuICAgIGlmICh0aGlzLmN1cnZlTmFtZSA9IHUoZiksIHRoaXMuY3VydmVOYW1lID09PSB2b2lkIDApXG4gICAgICB0aHJvdyBuZXcgcihcInVuc3VwcG9ydGVkIGN1cnZlIG5hbWVcIik7XG4gICAgdGhpcy5zZXROYW1lZEN1cnZlKHRoaXMuY3VydmVOYW1lKSwgdGhpcy5zZXRQdWJsaWNLZXlIZXgoZyksIHRoaXMuc2V0UHJpdmF0ZUtleUhleChkKSwgdGhpcy5pc1B1YmxpYyA9ICExO1xuICB9LCB0aGlzLnJlYWRQS0NTOFB1YktleUhleCA9IGZ1bmN0aW9uKG8pIHtcbiAgICBpZiAoeShvKSA9PT0gITEpXG4gICAgICB0aHJvdyBuZXcgcihcIm5vdCBBU04uMSBoZXggc3RyaW5nXCIpO1xuICAgIHZhciBsLCBmLCBkO1xuICAgIHRyeSB7XG4gICAgICBsID0gYyhvLCAwLCBbMCwgMF0sIFwiMDZcIiksIGYgPSBjKG8sIDAsIFswLCAxXSwgXCIwNlwiKSwgZCA9IGMobywgMCwgWzFdLCBcIjAzXCIpO1xuICAgIH0gY2F0Y2gge1xuICAgICAgdGhyb3cgbmV3IHIoXCJtYWxmb3JtZWQgUEtDUyM4IEVDQyBwdWJsaWMga2V5XCIpO1xuICAgIH1cbiAgICBpZiAodGhpcy5jdXJ2ZU5hbWUgPSB1KGYpLCB0aGlzLmN1cnZlTmFtZSA9PT0gbnVsbClcbiAgICAgIHRocm93IG5ldyByKFwidW5zdXBwb3J0ZWQgY3VydmUgbmFtZVwiKTtcbiAgICB0aGlzLnNldE5hbWVkQ3VydmUodGhpcy5jdXJ2ZU5hbWUpLCB0aGlzLnNldFB1YmxpY0tleUhleChkKTtcbiAgfSwgdGhpcy5yZWFkQ2VydFB1YktleUhleCA9IGZ1bmN0aW9uKG8sIGwpIHtcbiAgICBpZiAoeShvKSA9PT0gITEpXG4gICAgICB0aHJvdyBuZXcgcihcIm5vdCBBU04uMSBoZXggc3RyaW5nXCIpO1xuICAgIHZhciBmLCBkO1xuICAgIHRyeSB7XG4gICAgICBmID0gYyhvLCAwLCBbMCwgNSwgMCwgMV0sIFwiMDZcIiksIGQgPSBjKG8sIDAsIFswLCA1LCAxXSwgXCIwM1wiKTtcbiAgICB9IGNhdGNoIHtcbiAgICAgIHRocm93IG5ldyByKFwibWFsZm9ybWVkIFguNTA5IGNlcnRpZmljYXRlIEVDQyBwdWJsaWMga2V5XCIpO1xuICAgIH1cbiAgICBpZiAodGhpcy5jdXJ2ZU5hbWUgPSB1KGYpLCB0aGlzLmN1cnZlTmFtZSA9PT0gbnVsbClcbiAgICAgIHRocm93IG5ldyByKFwidW5zdXBwb3J0ZWQgY3VydmUgbmFtZVwiKTtcbiAgICB0aGlzLnNldE5hbWVkQ3VydmUodGhpcy5jdXJ2ZU5hbWUpLCB0aGlzLnNldFB1YmxpY0tleUhleChkKTtcbiAgfSwgZSAhPT0gdm9pZCAwICYmIGUuY3VydmUgIT09IHZvaWQgMCAmJiAodGhpcy5jdXJ2ZU5hbWUgPSBlLmN1cnZlKSwgdGhpcy5jdXJ2ZU5hbWUgPT09IHZvaWQgMCAmJiAodGhpcy5jdXJ2ZU5hbWUgPSB0KSwgdGhpcy5zZXROYW1lZEN1cnZlKHRoaXMuY3VydmVOYW1lKSwgZSAhPT0gdm9pZCAwICYmIChlLnBydiAhPT0gdm9pZCAwICYmIHRoaXMuc2V0UHJpdmF0ZUtleUhleChlLnBydiksIGUucHViICE9PSB2b2lkIDAgJiYgdGhpcy5zZXRQdWJsaWNLZXlIZXgoZS5wdWIpKTtcbn07XG5hLmNyeXB0by5FQ0RTQS5wYXJzZVNpZ0hleCA9IGZ1bmN0aW9uKGUpIHtcbiAgdmFyIHQgPSBhLmNyeXB0by5FQ0RTQS5wYXJzZVNpZ0hleEluSGV4UlMoZSksIHIgPSBuZXcgUih0LnIsIDE2KSwgaSA9IG5ldyBSKHQucywgMTYpO1xuICByZXR1cm4geyByLCBzOiBpIH07XG59O1xuYS5jcnlwdG8uRUNEU0EucGFyc2VTaWdIZXhJbkhleFJTID0gZnVuY3Rpb24oZSkge1xuICB2YXIgdCA9IFYsIHIgPSB0LmdldENoaWxkSWR4LCBpID0gdC5nZXRWO1xuICBpZiAodC5jaGVja1N0cmljdERFUihlLCAwKSwgZS5zdWJzdHIoMCwgMikgIT0gXCIzMFwiKVxuICAgIHRocm93IG5ldyBFcnJvcihcInNpZ25hdHVyZSBpcyBub3QgYSBBU04uMSBzZXF1ZW5jZVwiKTtcbiAgdmFyIHMgPSByKGUsIDApO1xuICBpZiAocy5sZW5ndGggIT0gMilcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJzaWduYXR1cmUgc2hhbGwgaGF2ZSB0d28gZWxlbWVudHNcIik7XG4gIHZhciBuID0gc1swXSwgaCA9IHNbMV07XG4gIGlmIChlLnN1YnN0cihuLCAyKSAhPSBcIjAyXCIpXG4gICAgdGhyb3cgbmV3IEVycm9yKFwiMXN0IGl0ZW0gbm90IEFTTi4xIGludGVnZXJcIik7XG4gIGlmIChlLnN1YnN0cihoLCAyKSAhPSBcIjAyXCIpXG4gICAgdGhyb3cgbmV3IEVycm9yKFwiMm5kIGl0ZW0gbm90IEFTTi4xIGludGVnZXJcIik7XG4gIHZhciB1ID0gaShlLCBuKSwgcCA9IGkoZSwgaCk7XG4gIHJldHVybiB7IHI6IHUsIHM6IHAgfTtcbn07XG5hLmNyeXB0by5FQ0RTQS5hc24xU2lnVG9Db25jYXRTaWcgPSBmdW5jdGlvbihlKSB7XG4gIHZhciB0ID0gYS5jcnlwdG8uRUNEU0EucGFyc2VTaWdIZXhJbkhleFJTKGUpLCByID0gdC5yLCBpID0gdC5zO1xuICBpZiAoci5sZW5ndGggPj0gMTMwICYmIHIubGVuZ3RoIDw9IDEzNCkge1xuICAgIGlmIChyLmxlbmd0aCAlIDIgIT0gMClcbiAgICAgIHRocm93IEVycm9yKFwidW5rbm93biBFQ0RTQSBzaWcgciBsZW5ndGggZXJyb3JcIik7XG4gICAgaWYgKGkubGVuZ3RoICUgMiAhPSAwKVxuICAgICAgdGhyb3cgRXJyb3IoXCJ1bmtub3duIEVDRFNBIHNpZyBzIGxlbmd0aCBlcnJvclwiKTtcbiAgICByLnN1YnN0cigwLCAyKSA9PSBcIjAwXCIgJiYgKHIgPSByLnN1YnN0cigyKSksIGkuc3Vic3RyKDAsIDIpID09IFwiMDBcIiAmJiAoaSA9IGkuc3Vic3RyKDIpKTtcbiAgICB2YXIgcyA9IE1hdGgubWF4KHIubGVuZ3RoLCBpLmxlbmd0aCk7XG4gICAgcmV0dXJuIHIgPSAoXCIwMDAwMDBcIiArIHIpLnNsaWNlKC1zKSwgaSA9IChcIjAwMDAwMFwiICsgaSkuc2xpY2UoLXMpLCByICsgaTtcbiAgfVxuICBpZiAoci5zdWJzdHIoMCwgMikgPT0gXCIwMFwiICYmIHIubGVuZ3RoICUgMzIgPT0gMiAmJiAociA9IHIuc3Vic3RyKDIpKSwgaS5zdWJzdHIoMCwgMikgPT0gXCIwMFwiICYmIGkubGVuZ3RoICUgMzIgPT0gMiAmJiAoaSA9IGkuc3Vic3RyKDIpKSwgci5sZW5ndGggJSAzMiA9PSAzMCAmJiAociA9IFwiMDBcIiArIHIpLCBpLmxlbmd0aCAlIDMyID09IDMwICYmIChpID0gXCIwMFwiICsgaSksIHIubGVuZ3RoICUgMzIgIT0gMClcbiAgICB0aHJvdyBFcnJvcihcInVua25vd24gRUNEU0Egc2lnIHIgbGVuZ3RoIGVycm9yXCIpO1xuICBpZiAoaS5sZW5ndGggJSAzMiAhPSAwKVxuICAgIHRocm93IEVycm9yKFwidW5rbm93biBFQ0RTQSBzaWcgcyBsZW5ndGggZXJyb3JcIik7XG4gIHJldHVybiByICsgaTtcbn07XG5hLmNyeXB0by5FQ0RTQS5jb25jYXRTaWdUb0FTTjFTaWcgPSBmdW5jdGlvbihlKSB7XG4gIGlmIChlLmxlbmd0aCAlIDQgIT0gMClcbiAgICB0aHJvdyBFcnJvcihcInVua25vd24gRUNEU0EgY29uY2F0aW5hdGVkIHItcyBzaWcgbGVuZ3RoIGVycm9yXCIpO1xuICB2YXIgdCA9IGUuc3Vic3RyKDAsIGUubGVuZ3RoIC8gMiksIHIgPSBlLnN1YnN0cihlLmxlbmd0aCAvIDIpO1xuICByZXR1cm4gYS5jcnlwdG8uRUNEU0EuaGV4UlNTaWdUb0FTTjFTaWcodCwgcik7XG59O1xuYS5jcnlwdG8uRUNEU0EuaGV4UlNTaWdUb0FTTjFTaWcgPSBmdW5jdGlvbihlLCB0KSB7XG4gIHZhciByID0gbmV3IFIoZSwgMTYpLCBpID0gbmV3IFIodCwgMTYpO1xuICByZXR1cm4gYS5jcnlwdG8uRUNEU0EuYmlSU1NpZ1RvQVNOMVNpZyhyLCBpKTtcbn07XG5hLmNyeXB0by5FQ0RTQS5iaVJTU2lnVG9BU04xU2lnID0gZnVuY3Rpb24oZSwgdCkge1xuICB2YXIgciA9IGEuYXNuMSwgaSA9IG5ldyByLkRFUkludGVnZXIoeyBiaWdpbnQ6IGUgfSksIHMgPSBuZXcgci5ERVJJbnRlZ2VyKHsgYmlnaW50OiB0IH0pLCBuID0gbmV3IHIuREVSU2VxdWVuY2UoeyBhcnJheTogW2ksIHNdIH0pO1xuICByZXR1cm4gbi50b2hleCgpO1xufTtcbmEuY3J5cHRvLkVDRFNBLmdldE5hbWUgPSBmdW5jdGlvbihlKSB7XG4gIHJldHVybiBlID09PSBcIjJiODEwNDAwMWZcIiA/IFwic2VjcDE5MmsxXCIgOiBlID09PSBcIjJhODY0OGNlM2QwMzAxMDdcIiA/IFwic2VjcDI1NnIxXCIgOiBlID09PSBcIjJiODEwNDAwMGFcIiA/IFwic2VjcDI1NmsxXCIgOiBlID09PSBcIjJiODEwNDAwMjFcIiA/IFwic2VjcDIyNHIxXCIgOiBlID09PSBcIjJiODEwNDAwMjJcIiA/IFwic2VjcDM4NHIxXCIgOiBlID09PSBcIjJiODEwNDAwMjNcIiA/IFwic2VjcDUyMXIxXCIgOiBcInxzZWNwMjU2cjF8TklTVCBQLTI1NnxQLTI1NnxwcmltZTI1NnYxfFwiLmluZGV4T2YoZSkgIT09IC0xID8gXCJzZWNwMjU2cjFcIiA6IFwifHNlY3AyNTZrMXxcIi5pbmRleE9mKGUpICE9PSAtMSA/IFwic2VjcDI1NmsxXCIgOiBcInxzZWNwMjI0cjF8TklTVCBQLTIyNHxQLTIyNHxcIi5pbmRleE9mKGUpICE9PSAtMSA/IFwic2VjcDIyNHIxXCIgOiBcInxzZWNwMzg0cjF8TklTVCBQLTM4NHxQLTM4NHxcIi5pbmRleE9mKGUpICE9PSAtMSA/IFwic2VjcDM4NHIxXCIgOiBcInxzZWNwNTIxcjF8TklTVCBQLTUyMXxQLTUyMXxcIi5pbmRleE9mKGUpICE9PSAtMSA/IFwic2VjcDUyMXIxXCIgOiBudWxsO1xufTtcbih0eXBlb2YgYSA+IFwidVwiIHx8ICFhKSAmJiAoYSA9IHt9KTtcbih0eXBlb2YgYS5jcnlwdG8gPiBcInVcIiB8fCAhYS5jcnlwdG8pICYmIChhLmNyeXB0byA9IHt9KTtcbmEuY3J5cHRvLkVDUGFyYW1ldGVyREIgPSBuZXcgZnVuY3Rpb24oKSB7XG4gIHZhciBlID0ge30sIHQgPSB7fTtcbiAgZnVuY3Rpb24gcihpKSB7XG4gICAgcmV0dXJuIG5ldyBSKGksIDE2KTtcbiAgfVxuICB0aGlzLmdldEJ5TmFtZSA9IGZ1bmN0aW9uKGkpIHtcbiAgICB2YXIgcyA9IGk7XG4gICAgaWYgKHR5cGVvZiB0W3NdIDwgXCJ1XCIgJiYgKHMgPSB0W2ldKSwgdHlwZW9mIGVbc10gPCBcInVcIilcbiAgICAgIHJldHVybiBlW3NdO1xuICAgIHRocm93IFwidW5yZWdpc3RlcmVkIEVDIGN1cnZlIG5hbWU6IFwiICsgcztcbiAgfSwgdGhpcy5yZWdpc3QgPSBmdW5jdGlvbihpLCBzLCBuLCBoLCB1LCBwLCBjLCB5LCB2LCBvLCBsLCBmKSB7XG4gICAgZVtpXSA9IHt9O1xuICAgIHZhciBkID0gcihuKSwgZyA9IHIoaCksIFMgPSByKHUpLCBiID0gcihwKSwgRCA9IHIoYyksIEEgPSBuZXcgQmUoZCwgZywgUyksIEkgPSBBLmRlY29kZVBvaW50SGV4KFwiMDRcIiArIHkgKyB2KTtcbiAgICBlW2ldLm5hbWUgPSBpLCBlW2ldLmtleWxlbiA9IHMsIGVbaV0ua2V5Y2hhcmxlbiA9IE1hdGguY2VpbChzIC8gOCkgKiAyLCBlW2ldLmN1cnZlID0gQSwgZVtpXS5HID0gSSwgZVtpXS5uID0gYiwgZVtpXS5oID0gRCwgZVtpXS5vaWQgPSBsLCBlW2ldLmluZm8gPSBmO1xuICAgIGZvciAodmFyIG0gPSAwOyBtIDwgby5sZW5ndGg7IG0rKylcbiAgICAgIHRbb1ttXV0gPSBpO1xuICB9O1xufSgpO1xuYS5jcnlwdG8uRUNQYXJhbWV0ZXJEQi5yZWdpc3QoXCJzZWNwMTI4cjFcIiwgMTI4LCBcIkZGRkZGRkZERkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGXCIsIFwiRkZGRkZGRkRGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkNcIiwgXCJFODc1NzlDMTEwNzlGNDNERDgyNDk5M0MyQ0VFNUVEM1wiLCBcIkZGRkZGRkZFMDAwMDAwMDA3NUEzMEQxQjkwMzhBMTE1XCIsIFwiMVwiLCBcIjE2MUZGNzUyOEI4OTlCMkQwQzI4NjA3Q0E1MkM1Qjg2XCIsIFwiQ0Y1QUM4Mzk1QkFGRUIxM0MwMkRBMjkyRERFRDdBODNcIiwgW10sIFwiXCIsIFwic2VjcDEyOHIxIDogU0VDRyBjdXJ2ZSBvdmVyIGEgMTI4IGJpdCBwcmltZSBmaWVsZFwiKTtcbmEuY3J5cHRvLkVDUGFyYW1ldGVyREIucmVnaXN0KFwic2VjcDE2MGsxXCIsIDE2MCwgXCJGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRUZGRkZBQzczXCIsIFwiMFwiLCBcIjdcIiwgXCIwMTAwMDAwMDAwMDAwMDAwMDAwMDAxQjhGQTE2REZBQjlBQ0ExNkI2QjNcIiwgXCIxXCIsIFwiM0I0QzM4MkNFMzdBQTE5MkE0MDE5RTc2MzAzNkY0RjVERDREN0VCQlwiLCBcIjkzOENGOTM1MzE4RkRDRUQ2QkMyODI4NjUzMTczM0MzRjAzQzRGRUVcIiwgW10sIFwiXCIsIFwic2VjcDE2MGsxIDogU0VDRyBjdXJ2ZSBvdmVyIGEgMTYwIGJpdCBwcmltZSBmaWVsZFwiKTtcbmEuY3J5cHRvLkVDUGFyYW1ldGVyREIucmVnaXN0KFwic2VjcDE2MHIxXCIsIDE2MCwgXCJGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRjdGRkZGRkZGXCIsIFwiRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkY3RkZGRkZGQ1wiLCBcIjFDOTdCRUZDNTRCRDdBOEI2NUFDRjg5RjgxRDRENEFEQzU2NUZBNDVcIiwgXCIwMTAwMDAwMDAwMDAwMDAwMDAwMDAxRjRDOEY5MjdBRUQzQ0E3NTIyNTdcIiwgXCIxXCIsIFwiNEE5NkI1Njg4RUY1NzMyODQ2NjQ2OTg5NjhDMzhCQjkxM0NCRkM4MlwiLCBcIjIzQTYyODU1MzE2ODk0N0Q1OURDQzkxMjA0MjM1MTM3N0FDNUZCMzJcIiwgW10sIFwiXCIsIFwic2VjcDE2MHIxIDogU0VDRyBjdXJ2ZSBvdmVyIGEgMTYwIGJpdCBwcmltZSBmaWVsZFwiKTtcbmEuY3J5cHRvLkVDUGFyYW1ldGVyREIucmVnaXN0KFwic2VjcDE5MmsxXCIsIDE5MiwgXCJGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZFRkZGRkVFMzdcIiwgXCIwXCIsIFwiM1wiLCBcIkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRTI2RjJGQzE3MEY2OTQ2NkE3NERFRkQ4RFwiLCBcIjFcIiwgXCJEQjRGRjEwRUMwNTdFOUFFMjZCMDdEMDI4MEI3RjQzNDFEQTVEMUIxRUFFMDZDN0RcIiwgXCI5QjJGMkY2RDlDNTYyOEE3ODQ0MTYzRDAxNUJFODYzNDQwODJBQTg4RDk1RTJGOURcIiwgW10pO1xuYS5jcnlwdG8uRUNQYXJhbWV0ZXJEQi5yZWdpc3QoXCJzZWNwMTkycjFcIiwgMTkyLCBcIkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZFRkZGRkZGRkZGRkZGRkZGRlwiLCBcIkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZFRkZGRkZGRkZGRkZGRkZGQ1wiLCBcIjY0MjEwNTE5RTU5QzgwRTcwRkE3RTlBQjcyMjQzMDQ5RkVCOERFRUNDMTQ2QjlCMVwiLCBcIkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRjk5REVGODM2MTQ2QkM5QjFCNEQyMjgzMVwiLCBcIjFcIiwgXCIxODhEQTgwRUIwMzA5MEY2N0NCRjIwRUI0M0ExODgwMEY0RkYwQUZEODJGRjEwMTJcIiwgXCIwNzE5MkI5NUZGQzhEQTc4NjMxMDExRUQ2QjI0Q0RENTczRjk3N0ExMUU3OTQ4MTFcIiwgW10pO1xuYS5jcnlwdG8uRUNQYXJhbWV0ZXJEQi5yZWdpc3QoXCJzZWNwMjI0cjFcIiwgMjI0LCBcIkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAxXCIsIFwiRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkVGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkVcIiwgXCJCNDA1MEE4NTBDMDRCM0FCRjU0MTMyNTY1MDQ0QjBCN0Q3QkZEOEJBMjcwQjM5NDMyMzU1RkZCNFwiLCBcIkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkYxNkEyRTBCOEYwM0UxM0REMjk0NTVDNUMyQTNEXCIsIFwiMVwiLCBcIkI3MEUwQ0JENkJCNEJGN0YzMjEzOTBCOTRBMDNDMUQzNTZDMjExMjIzNDMyODBENjExNUMxRDIxXCIsIFwiQkQzNzYzODhCNUY3MjNGQjRDMjJERkU2Q0Q0Mzc1QTA1QTA3NDc2NDQ0RDU4MTk5ODUwMDdFMzRcIiwgW10pO1xuYS5jcnlwdG8uRUNQYXJhbWV0ZXJEQi5yZWdpc3QoXCJzZWNwMjU2azFcIiwgMjU2LCBcIkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZFRkZGRkZDMkZcIiwgXCIwXCIsIFwiN1wiLCBcIkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZFQkFBRURDRTZBRjQ4QTAzQkJGRDI1RThDRDAzNjQxNDFcIiwgXCIxXCIsIFwiNzlCRTY2N0VGOURDQkJBQzU1QTA2Mjk1Q0U4NzBCMDcwMjlCRkNEQjJEQ0UyOEQ5NTlGMjgxNUIxNkY4MTc5OFwiLCBcIjQ4M0FEQTc3MjZBM0M0NjU1REE0RkJGQzBFMTEwOEE4RkQxN0I0NDhBNjg1NTQxOTlDNDdEMDhGRkIxMEQ0QjhcIiwgW10pO1xuYS5jcnlwdG8uRUNQYXJhbWV0ZXJEQi5yZWdpc3QoXCJzZWNwMjU2cjFcIiwgMjU2LCBcIkZGRkZGRkZGMDAwMDAwMDEwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDBGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZcIiwgXCJGRkZGRkZGRjAwMDAwMDAxMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZDXCIsIFwiNUFDNjM1RDhBQTNBOTNFN0IzRUJCRDU1NzY5ODg2QkM2NTFEMDZCMENDNTNCMEY2M0JDRTNDM0UyN0QyNjA0QlwiLCBcIkZGRkZGRkZGMDAwMDAwMDBGRkZGRkZGRkZGRkZGRkZGQkNFNkZBQURBNzE3OUU4NEYzQjlDQUMyRkM2MzI1NTFcIiwgXCIxXCIsIFwiNkIxN0QxRjJFMTJDNDI0N0Y4QkNFNkU1NjNBNDQwRjI3NzAzN0Q4MTJERUIzM0EwRjRBMTM5NDVEODk4QzI5NlwiLCBcIjRGRTM0MkUyRkUxQTdGOUI4RUU3RUI0QTdDMEY5RTE2MkJDRTMzNTc2QjMxNUVDRUNCQjY0MDY4MzdCRjUxRjVcIiwgW1wiTklTVCBQLTI1NlwiLCBcIlAtMjU2XCIsIFwicHJpbWUyNTZ2MVwiXSk7XG5hLmNyeXB0by5FQ1BhcmFtZXRlckRCLnJlZ2lzdChcInNlY3AzODRyMVwiLCAzODQsIFwiRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRUZGRkZGRkZGMDAwMDAwMDAwMDAwMDAwMEZGRkZGRkZGXCIsIFwiRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRUZGRkZGRkZGMDAwMDAwMDAwMDAwMDAwMEZGRkZGRkZDXCIsIFwiQjMzMTJGQTdFMjNFRTdFNDk4OEUwNTZCRTNGODJEMTkxODFEOUM2RUZFODE0MTEyMDMxNDA4OEY1MDEzODc1QUM2NTYzOThEOEEyRUQxOUQyQTg1QzhFREQzRUMyQUVGXCIsIFwiRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGQzc2MzREODFGNDM3MkRERjU4MUEwREIyNDhCMEE3N0FFQ0VDMTk2QUNDQzUyOTczXCIsIFwiMVwiLCBcIkFBODdDQTIyQkU4QjA1Mzc4RUIxQzcxRUYzMjBBRDc0NkUxRDNCNjI4QkE3OUI5ODU5Rjc0MUUwODI1NDJBMzg1NTAyRjI1REJGNTUyOTZDM0E1NDVFMzg3Mjc2MEFCN1wiLCBcIjM2MTdkZTRhOTYyNjJjNmY1ZDllOThiZjkyOTJkYzI5ZjhmNDFkYmQyODlhMTQ3Y2U5ZGEzMTEzYjVmMGI4YzAwYTYwYjFjZTFkN2U4MTlkN2E0MzFkN2M5MGVhMGU1ZlwiLCBbXCJOSVNUIFAtMzg0XCIsIFwiUC0zODRcIl0pO1xuYS5jcnlwdG8uRUNQYXJhbWV0ZXJEQi5yZWdpc3QoXCJzZWNwNTIxcjFcIiwgNTIxLCBcIjFGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGXCIsIFwiMUZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkNcIiwgXCIwNTE5NTNFQjk2MThFMUM5QTFGOTI5QTIxQTBCNjg1NDBFRUEyREE3MjVCOTlCMzE1RjNCOEI0ODk5MThFRjEwOUUxNTYxOTM5NTFFQzdFOTM3QjE2NTJDMEJEM0JCMUJGMDczNTczREY4ODNEMkMzNEYxRUY0NTFGRDQ2QjUwM0YwMFwiLCBcIjFGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkE1MTg2ODc4M0JGMkY5NjZCN0ZDQzAxNDhGNzA5QTVEMDNCQjVDOUI4ODk5QzQ3QUVCQjZGQjcxRTkxMzg2NDA5XCIsIFwiMVwiLCBcIjAwQzY4NThFMDZCNzA0MDRFOUNEOUUzRUNCNjYyMzk1QjQ0MjlDNjQ4MTM5MDUzRkI1MjFGODI4QUY2MDZCNEQzREJBQTE0QjVFNzdFRkU3NTkyOEZFMURDMTI3QTJGRkE4REUzMzQ4QjNDMTg1NkE0MjlCRjk3RTdFMzFDMkU1QkQ2NlwiLCBcIjAxMTgzOTI5NmE3ODlhM2JjMDA0NWM4YTVmYjQyYzdkMWJkOTk4ZjU0NDQ5NTc5YjQ0NjgxN2FmYmQxNzI3M2U2NjJjOTdlZTcyOTk1ZWY0MjY0MGM1NTBiOTAxM2ZhZDA3NjEzNTNjNzA4NmEyNzJjMjQwODhiZTk0NzY5ZmQxNjY1MFwiLCBbXCJOSVNUIFAtNTIxXCIsIFwiUC01MjFcIl0pO1xuKHR5cGVvZiBhID4gXCJ1XCIgfHwgIWEpICYmIChhID0ge30pO1xuKHR5cGVvZiBhLmNyeXB0byA+IFwidVwiIHx8ICFhLmNyeXB0bykgJiYgKGEuY3J5cHRvID0ge30pO1xuYS5jcnlwdG8uRFNBID0gZnVuY3Rpb24oKSB7XG4gIHZhciBlID0gVjtcbiAgZS5nZXRWYnlMaXN0O1xuICB2YXIgdCA9IGUuZ2V0VmJ5TGlzdEV4LCByID0gZS5pc0FTTjFIRVgsIGkgPSBSO1xuICB0aGlzLnAgPSBudWxsLCB0aGlzLnEgPSBudWxsLCB0aGlzLmcgPSBudWxsLCB0aGlzLnkgPSBudWxsLCB0aGlzLnggPSBudWxsLCB0aGlzLnR5cGUgPSBcIkRTQVwiLCB0aGlzLmlzUHJpdmF0ZSA9ICExLCB0aGlzLmlzUHVibGljID0gITEsIHRoaXMuc2V0UHJpdmF0ZSA9IGZ1bmN0aW9uKHMsIG4sIGgsIHUsIHApIHtcbiAgICB0aGlzLmlzUHJpdmF0ZSA9ICEwLCB0aGlzLnAgPSBzLCB0aGlzLnEgPSBuLCB0aGlzLmcgPSBoLCB0aGlzLnkgPSB1LCB0aGlzLnggPSBwO1xuICB9LCB0aGlzLnNldFByaXZhdGVIZXggPSBmdW5jdGlvbihzLCBuLCBoLCB1LCBwKSB7XG4gICAgdmFyIGMsIHksIHYsIG8sIGw7XG4gICAgYyA9IG5ldyBSKHMsIDE2KSwgeSA9IG5ldyBSKG4sIDE2KSwgdiA9IG5ldyBSKGgsIDE2KSwgdHlwZW9mIHUgPT0gXCJzdHJpbmdcIiAmJiB1Lmxlbmd0aCA+IDEgPyBvID0gbmV3IFIodSwgMTYpIDogbyA9IG51bGwsIGwgPSBuZXcgUihwLCAxNiksIHRoaXMuc2V0UHJpdmF0ZShjLCB5LCB2LCBvLCBsKTtcbiAgfSwgdGhpcy5zZXRQdWJsaWMgPSBmdW5jdGlvbihzLCBuLCBoLCB1KSB7XG4gICAgdGhpcy5pc1B1YmxpYyA9ICEwLCB0aGlzLnAgPSBzLCB0aGlzLnEgPSBuLCB0aGlzLmcgPSBoLCB0aGlzLnkgPSB1LCB0aGlzLnggPSBudWxsO1xuICB9LCB0aGlzLnNldFB1YmxpY0hleCA9IGZ1bmN0aW9uKHMsIG4sIGgsIHUpIHtcbiAgICB2YXIgcCwgYywgeSwgdjtcbiAgICBwID0gbmV3IFIocywgMTYpLCBjID0gbmV3IFIobiwgMTYpLCB5ID0gbmV3IFIoaCwgMTYpLCB2ID0gbmV3IFIodSwgMTYpLCB0aGlzLnNldFB1YmxpYyhwLCBjLCB5LCB2KTtcbiAgfSwgdGhpcy5zaWduV2l0aE1lc3NhZ2VIYXNoID0gZnVuY3Rpb24ocykge1xuICAgIHZhciBuID0gdGhpcy5wLCBoID0gdGhpcy5xLCB1ID0gdGhpcy5nO1xuICAgIHRoaXMueTtcbiAgICB2YXIgcCA9IHRoaXMueCwgYyA9IGEuY3J5cHRvLlV0aWwuZ2V0UmFuZG9tQmlnSW50ZWdlck1pblRvTWF4KFIuT05FLmFkZChSLk9ORSksIGguc3VidHJhY3QoUi5PTkUpKSwgeSA9IHMuc3Vic3RyKDAsIGguYml0TGVuZ3RoKCkgLyA0KSwgdiA9IG5ldyBSKHksIDE2KSwgbyA9IHUubW9kUG93KGMsIG4pLm1vZChoKSwgbCA9IGMubW9kSW52ZXJzZShoKS5tdWx0aXBseSh2LmFkZChwLm11bHRpcGx5KG8pKSkubW9kKGgpLCBmID0gYS5hc24xLkFTTjFVdGlsLmpzb25Ub0FTTjFIRVgoeyBzZXE6IFt7IGludDogeyBiaWdpbnQ6IG8gfSB9LCB7IGludDogeyBiaWdpbnQ6IGwgfSB9XSB9KTtcbiAgICByZXR1cm4gZjtcbiAgfSwgdGhpcy52ZXJpZnlXaXRoTWVzc2FnZUhhc2ggPSBmdW5jdGlvbihzLCBuKSB7XG4gICAgdmFyIGggPSB0aGlzLnAsIHUgPSB0aGlzLnEsIHAgPSB0aGlzLmcsIGMgPSB0aGlzLnksIHkgPSB0aGlzLnBhcnNlQVNOMVNpZ25hdHVyZShuKSwgdiA9IHlbMF0sIG8gPSB5WzFdLCBsID0gcy5zdWJzdHIoMCwgdS5iaXRMZW5ndGgoKSAvIDQpLCBmID0gbmV3IFIobCwgMTYpO1xuICAgIGlmIChSLlpFUk8uY29tcGFyZVRvKHYpID4gMCB8fCB2LmNvbXBhcmVUbyh1KSA+IDAgfHwgUi5aRVJPLmNvbXBhcmVUbyhvKSA+PSAwIHx8IG8uY29tcGFyZVRvKHUpID4gMClcbiAgICAgIHRocm93IFwiaW52YWxpZCBEU0Egc2lnbmF0dXJlXCI7XG4gICAgdmFyIGQgPSBvLm1vZEludmVyc2UodSksIGcgPSBmLm11bHRpcGx5KGQpLm1vZCh1KSwgUyA9IHYubXVsdGlwbHkoZCkubW9kKHUpLCBiID0gcC5tb2RQb3coZywgaCkubXVsdGlwbHkoYy5tb2RQb3coUywgaCkpLm1vZChoKS5tb2QodSk7XG4gICAgcmV0dXJuIGIuY29tcGFyZVRvKHYpID09IDA7XG4gIH0sIHRoaXMucGFyc2VBU04xU2lnbmF0dXJlID0gZnVuY3Rpb24ocykge1xuICAgIHRyeSB7XG4gICAgICB2YXIgbiA9IG5ldyBpKHQocywgMCwgWzBdLCBcIjAyXCIpLCAxNiksIGggPSBuZXcgaSh0KHMsIDAsIFsxXSwgXCIwMlwiKSwgMTYpO1xuICAgICAgcmV0dXJuIFtuLCBoXTtcbiAgICB9IGNhdGNoIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIm1hbGZvcm1lZCBBU04uMSBEU0Egc2lnbmF0dXJlXCIpO1xuICAgIH1cbiAgfSwgdGhpcy5yZWFkUEtDUzVQcnZLZXlIZXggPSBmdW5jdGlvbihzKSB7XG4gICAgdmFyIG4sIGgsIHUsIHAsIGM7XG4gICAgaWYgKHIocykgPT09ICExKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwibm90IEFTTi4xIGhleCBzdHJpbmdcIik7XG4gICAgdHJ5IHtcbiAgICAgIG4gPSB0KHMsIDAsIFsxXSwgXCIwMlwiKSwgaCA9IHQocywgMCwgWzJdLCBcIjAyXCIpLCB1ID0gdChzLCAwLCBbM10sIFwiMDJcIiksIHAgPSB0KHMsIDAsIFs0XSwgXCIwMlwiKSwgYyA9IHQocywgMCwgWzVdLCBcIjAyXCIpO1xuICAgIH0gY2F0Y2gge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwibWFsZm9ybWVkIFBLQ1MjMS81IHBsYWluIERTQSBwcml2YXRlIGtleVwiKTtcbiAgICB9XG4gICAgdGhpcy5zZXRQcml2YXRlSGV4KG4sIGgsIHUsIHAsIGMpO1xuICB9LCB0aGlzLnJlYWRQS0NTOFBydktleUhleCA9IGZ1bmN0aW9uKHMpIHtcbiAgICB2YXIgbiwgaCwgdSwgcDtcbiAgICBpZiAocihzKSA9PT0gITEpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJub3QgQVNOLjEgaGV4IHN0cmluZ1wiKTtcbiAgICB0cnkge1xuICAgICAgbiA9IHQocywgMCwgWzEsIDEsIDBdLCBcIjAyXCIpLCBoID0gdChzLCAwLCBbMSwgMSwgMV0sIFwiMDJcIiksIHUgPSB0KHMsIDAsIFsxLCAxLCAyXSwgXCIwMlwiKSwgcCA9IHQocywgMCwgWzIsIDBdLCBcIjAyXCIpO1xuICAgIH0gY2F0Y2gge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwibWFsZm9ybWVkIFBLQ1MjOCBwbGFpbiBEU0EgcHJpdmF0ZSBrZXlcIik7XG4gICAgfVxuICAgIHRoaXMuc2V0UHJpdmF0ZUhleChuLCBoLCB1LCBudWxsLCBwKTtcbiAgfSwgdGhpcy5yZWFkUEtDUzhQdWJLZXlIZXggPSBmdW5jdGlvbihzKSB7XG4gICAgdmFyIG4sIGgsIHUsIHA7XG4gICAgaWYgKHIocykgPT09ICExKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwibm90IEFTTi4xIGhleCBzdHJpbmdcIik7XG4gICAgdHJ5IHtcbiAgICAgIG4gPSB0KHMsIDAsIFswLCAxLCAwXSwgXCIwMlwiKSwgaCA9IHQocywgMCwgWzAsIDEsIDFdLCBcIjAyXCIpLCB1ID0gdChzLCAwLCBbMCwgMSwgMl0sIFwiMDJcIiksIHAgPSB0KHMsIDAsIFsxLCAwXSwgXCIwMlwiKTtcbiAgICB9IGNhdGNoIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIm1hbGZvcm1lZCBQS0NTIzggRFNBIHB1YmxpYyBrZXlcIik7XG4gICAgfVxuICAgIHRoaXMuc2V0UHVibGljSGV4KG4sIGgsIHUsIHApO1xuICB9LCB0aGlzLnJlYWRDZXJ0UHViS2V5SGV4ID0gZnVuY3Rpb24ocywgbikge1xuICAgIHZhciBoLCB1LCBwLCBjO1xuICAgIGlmIChyKHMpID09PSAhMSlcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIm5vdCBBU04uMSBoZXggc3RyaW5nXCIpO1xuICAgIHRyeSB7XG4gICAgICBoID0gdChzLCAwLCBbMCwgNSwgMCwgMSwgMF0sIFwiMDJcIiksIHUgPSB0KHMsIDAsIFswLCA1LCAwLCAxLCAxXSwgXCIwMlwiKSwgcCA9IHQocywgMCwgWzAsIDUsIDAsIDEsIDJdLCBcIjAyXCIpLCBjID0gdChzLCAwLCBbMCwgNSwgMSwgMF0sIFwiMDJcIik7XG4gICAgfSBjYXRjaCB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJtYWxmb3JtZWQgWC41MDkgY2VydGlmaWNhdGUgRFNBIHB1YmxpYyBrZXlcIik7XG4gICAgfVxuICAgIHRoaXMuc2V0UHVibGljSGV4KGgsIHUsIHAsIGMpO1xuICB9O1xufTtcbnZhciBrID0gLyogQF9fUFVSRV9fICovIGZ1bmN0aW9uKCkge1xuICB2YXIgZSA9IGZ1bmN0aW9uKGYsIGQsIGcpIHtcbiAgICByZXR1cm4gaShLLkFFUywgZiwgZCwgZyk7XG4gIH0sIHQgPSBmdW5jdGlvbihmLCBkLCBnKSB7XG4gICAgcmV0dXJuIGkoSy5UcmlwbGVERVMsIGYsIGQsIGcpO1xuICB9LCByID0gZnVuY3Rpb24oZiwgZCwgZykge1xuICAgIHJldHVybiBpKEsuREVTLCBmLCBkLCBnKTtcbiAgfSwgaSA9IGZ1bmN0aW9uKGYsIGQsIGcsIFMpIHtcbiAgICB2YXIgYiA9IEsuZW5jLkhleC5wYXJzZShkKSwgRCA9IEsuZW5jLkhleC5wYXJzZShnKSwgQSA9IEsuZW5jLkhleC5wYXJzZShTKSwgSSA9IHt9O1xuICAgIEkua2V5ID0gRCwgSS5pdiA9IEEsIEkuY2lwaGVydGV4dCA9IGI7XG4gICAgdmFyIG0gPSBmLmRlY3J5cHQoSSwgRCwgeyBpdjogQSB9KTtcbiAgICByZXR1cm4gSy5lbmMuSGV4LnN0cmluZ2lmeShtKTtcbiAgfSwgcyA9IGZ1bmN0aW9uKGYsIGQsIGcpIHtcbiAgICByZXR1cm4gdShLLkFFUywgZiwgZCwgZyk7XG4gIH0sIG4gPSBmdW5jdGlvbihmLCBkLCBnKSB7XG4gICAgcmV0dXJuIHUoSy5UcmlwbGVERVMsIGYsIGQsIGcpO1xuICB9LCBoID0gZnVuY3Rpb24oZiwgZCwgZykge1xuICAgIHJldHVybiB1KEsuREVTLCBmLCBkLCBnKTtcbiAgfSwgdSA9IGZ1bmN0aW9uKGYsIGQsIGcsIFMpIHtcbiAgICB2YXIgYiA9IEsuZW5jLkhleC5wYXJzZShkKSwgRCA9IEsuZW5jLkhleC5wYXJzZShnKSwgQSA9IEsuZW5jLkhleC5wYXJzZShTKSwgSSA9IGYuZW5jcnlwdChiLCBELCB7IGl2OiBBIH0pLCBtID0gSy5lbmMuSGV4LnBhcnNlKEkudG9TdHJpbmcoKSksIEUgPSBLLmVuYy5CYXNlNjQuc3RyaW5naWZ5KG0pO1xuICAgIHJldHVybiBFO1xuICB9LCBwID0geyBcIkFFUy0yNTYtQ0JDXCI6IHsgcHJvYzogZSwgZXByb2M6IHMsIGtleWxlbjogMzIsIGl2bGVuOiAxNiB9LCBcIkFFUy0xOTItQ0JDXCI6IHsgcHJvYzogZSwgZXByb2M6IHMsIGtleWxlbjogMjQsIGl2bGVuOiAxNiB9LCBcIkFFUy0xMjgtQ0JDXCI6IHsgcHJvYzogZSwgZXByb2M6IHMsIGtleWxlbjogMTYsIGl2bGVuOiAxNiB9LCBcIkRFUy1FREUzLUNCQ1wiOiB7IHByb2M6IHQsIGVwcm9jOiBuLCBrZXlsZW46IDI0LCBpdmxlbjogOCB9LCBcIkRFUy1DQkNcIjogeyBwcm9jOiByLCBlcHJvYzogaCwga2V5bGVuOiA4LCBpdmxlbjogOCB9IH0sIGMgPSBmdW5jdGlvbihmKSB7XG4gICAgdmFyIGQgPSBLLmxpYi5Xb3JkQXJyYXkucmFuZG9tKGYpLCBnID0gSy5lbmMuSGV4LnN0cmluZ2lmeShkKTtcbiAgICByZXR1cm4gZztcbiAgfSwgeSA9IGZ1bmN0aW9uKGYpIHtcbiAgICB2YXIgZCA9IHt9LCBnID0gZi5tYXRjaChuZXcgUmVnRXhwKFwiREVLLUluZm86IChbXixdKyksKFswLTlBLUZhLWZdKylcIiwgXCJtXCIpKTtcbiAgICBnICYmIChkLmNpcGhlciA9IGdbMV0sIGQuaXZzYWx0ID0gZ1syXSk7XG4gICAgdmFyIFMgPSBmLm1hdGNoKG5ldyBSZWdFeHAoXCItLS0tLUJFR0lOIChbQS1aXSspIFBSSVZBVEUgS0VZLS0tLS1cIikpO1xuICAgIFMgJiYgKGQudHlwZSA9IFNbMV0pO1xuICAgIHZhciBiID0gLTEsIEQgPSAwO1xuICAgIGYuaW5kZXhPZihgXFxyXG5cXHJcbmApICE9IC0xICYmIChiID0gZi5pbmRleE9mKGBcXHJcblxcclxuYCksIEQgPSAyKSwgZi5pbmRleE9mKGBcblxuYCkgIT0gLTEgJiYgKGIgPSBmLmluZGV4T2YoYFxuXG5gKSwgRCA9IDEpO1xuICAgIHZhciBBID0gZi5pbmRleE9mKFwiLS0tLS1FTkRcIik7XG4gICAgaWYgKGIgIT0gLTEgJiYgQSAhPSAtMSkge1xuICAgICAgdmFyIEkgPSBmLnN1YnN0cmluZyhiICsgRCAqIDIsIEEgLSBEKTtcbiAgICAgIEkgPSBJLnJlcGxhY2UoL1xccysvZywgXCJcIiksIGQuZGF0YSA9IEk7XG4gICAgfVxuICAgIHJldHVybiBkO1xuICB9LCB2ID0gZnVuY3Rpb24oZiwgZCwgZykge1xuICAgIGZvciAodmFyIFMgPSBnLnN1YnN0cmluZygwLCAxNiksIGIgPSBLLmVuYy5IZXgucGFyc2UoUyksIEQgPSBLLmVuYy5VdGY4LnBhcnNlKGQpLCBBID0gcFtmXS5rZXlsZW4gKyBwW2ZdLml2bGVuLCBJID0gXCJcIiwgbSA9IG51bGw7IDsgKSB7XG4gICAgICB2YXIgRSA9IEsuYWxnby5NRDUuY3JlYXRlKCk7XG4gICAgICBpZiAobSAhPSBudWxsICYmIEUudXBkYXRlKG0pLCBFLnVwZGF0ZShEKSwgRS51cGRhdGUoYiksIG0gPSBFLmZpbmFsaXplKCksIEkgPSBJICsgSy5lbmMuSGV4LnN0cmluZ2lmeShtKSwgSS5sZW5ndGggPj0gQSAqIDIpXG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICB2YXIgdyA9IHt9O1xuICAgIHJldHVybiB3LmtleWhleCA9IEkuc3Vic3RyKDAsIHBbZl0ua2V5bGVuICogMiksIHcuaXZoZXggPSBJLnN1YnN0cihwW2ZdLmtleWxlbiAqIDIsIHBbZl0uaXZsZW4gKiAyKSwgdztcbiAgfSwgbyA9IGZ1bmN0aW9uKGYsIGQsIGcsIFMpIHtcbiAgICB2YXIgYiA9IEsuZW5jLkJhc2U2NC5wYXJzZShmKSwgRCA9IEsuZW5jLkhleC5zdHJpbmdpZnkoYiksIEEgPSBwW2RdLnByb2MsIEkgPSBBKEQsIGcsIFMpO1xuICAgIHJldHVybiBJO1xuICB9LCBsID0gZnVuY3Rpb24oZiwgZCwgZywgUykge1xuICAgIHZhciBiID0gcFtkXS5lcHJvYywgRCA9IGIoZiwgZywgUyk7XG4gICAgcmV0dXJuIEQ7XG4gIH07XG4gIHJldHVybiB7IHZlcnNpb246IFwiMS4wLjBcIiwgcGFyc2VQS0NTNVBFTTogZnVuY3Rpb24oZikge1xuICAgIHJldHVybiB5KGYpO1xuICB9LCBnZXRLZXlBbmRVbnVzZWRJdkJ5UGFzc2NvZGVBbmRJdnNhbHQ6IGZ1bmN0aW9uKGYsIGQsIGcpIHtcbiAgICByZXR1cm4gdihmLCBkLCBnKTtcbiAgfSwgZGVjcnlwdEtleUI2NDogZnVuY3Rpb24oZiwgZCwgZywgUykge1xuICAgIHJldHVybiBvKGYsIGQsIGcsIFMpO1xuICB9LCBnZXREZWNyeXB0ZWRLZXlIZXg6IGZ1bmN0aW9uKGYsIGQpIHtcbiAgICB2YXIgZyA9IHkoZiksIFMgPSBnLmNpcGhlciwgYiA9IGcuaXZzYWx0LCBEID0gZy5kYXRhLCBBID0gdihTLCBkLCBiKSwgSSA9IEEua2V5aGV4LCBtID0gbyhELCBTLCBJLCBiKTtcbiAgICByZXR1cm4gbTtcbiAgfSwgZ2V0RW5jcnlwdGVkUEtDUzVQRU1Gcm9tUHJ2S2V5SGV4OiBmdW5jdGlvbihmLCBkLCBnLCBTLCBiKSB7XG4gICAgdmFyIHggPSBcIlwiO1xuICAgIGlmICgodHlwZW9mIFMgPiBcInVcIiB8fCBTID09IG51bGwpICYmIChTID0gXCJBRVMtMjU2LUNCQ1wiKSwgdHlwZW9mIHBbU10gPiBcInVcIilcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIktFWVVUSUwgdW5zdXBwb3J0ZWQgYWxnb3JpdGhtOiBcIiArIFMpO1xuICAgIGlmICh0eXBlb2YgYiA+IFwidVwiIHx8IGIgPT0gbnVsbCkge1xuICAgICAgdmFyIEQgPSBwW1NdLml2bGVuLCBBID0gYyhEKTtcbiAgICAgIGIgPSBBLnRvVXBwZXJDYXNlKCk7XG4gICAgfVxuICAgIHZhciBJID0gdihTLCBnLCBiKSwgbSA9IEkua2V5aGV4LCBFID0gbChkLCBTLCBtLCBiKSwgdyA9IEUucmVwbGFjZSgvKC57NjR9KS9nLCBgJDFcXHJcbmApLCB4ID0gXCItLS0tLUJFR0lOIFwiICsgZiArIGAgUFJJVkFURSBLRVktLS0tLVxcclxuYDtcbiAgICByZXR1cm4geCArPSBgUHJvYy1UeXBlOiA0LEVOQ1JZUFRFRFxcclxuYCwgeCArPSBcIkRFSy1JbmZvOiBcIiArIFMgKyBcIixcIiArIGIgKyBgXFxyXG5gLCB4ICs9IGBcXHJcbmAsIHggKz0gdywgeCArPSBgXFxyXG4tLS0tLUVORCBgICsgZiArIGAgUFJJVkFURSBLRVktLS0tLVxcclxuYCwgeDtcbiAgfSwgZ2V0RW5jcnlwdGVkUEtDUzhQRU06IGZ1bmN0aW9uKGYsIGQsIGcpIHtcbiAgICB2YXIgUyA9IHRoaXMuZ2V0RW5jcnlwdGVkUEtDUzhIZXgoZiwgZCwgZyk7XG4gICAgcmV0dXJuIGRlKFMsIFwiRU5DUllQVEVEIFBSSVZBVEUgS0VZXCIpO1xuICB9LCBnZXRFbmNyeXB0ZWRQS0NTOEhleDogZnVuY3Rpb24oZiwgZCwgZykge1xuICAgIHZhciBTO1xuICAgIGcgPT0gbnVsbCB8fCBnID09IG51bGwgPyBTID0ge30gOiBTID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShnKSksIFMucGxhaW4gPSBmLCB0aGlzLmluaXRQQkVTMlBhcmFtKFMpLCB0aGlzLmVuY3J5cHRQQkVTMlBhcmFtKFMsIGQpO1xuICAgIHZhciBiID0gdGhpcy5nZW5lcmF0ZVBCRVMyQVNOMVBhcmFtKFMpO1xuICAgIHJldHVybiBhLmFzbjEuQVNOMVV0aWwubmV3T2JqZWN0KGIpLnRvaGV4KCk7XG4gIH0sIGluaXRQQkVTMlBhcmFtOiBmdW5jdGlvbihmKSB7XG4gICAgaWYgKEooZiwgXCJlbmNhbGdcIikgPT0gbnVsbCAmJiAoZi5lbmNhbGcgPSBcImFlczI1Ni1DQkNcIiksIEooZiwgXCJpdGVyXCIpID09IG51bGwgJiYgKGYuaXRlciA9IDIwNDgpLCBKKGYsIFwicHJmXCIpID09IG51bGwgJiYgKGYucHJmID0gXCJobWFjV2l0aFNIQTI1NlwiKSwgSihmLCBcInNhbHRcIikgPT0gbnVsbCAmJiAoZi5zYWx0ID0gSy5lbmMuSGV4LnN0cmluZ2lmeShLLmxpYi5Xb3JkQXJyYXkucmFuZG9tKDgpKSksIEooZiwgXCJlbmNpdlwiKSA9PSBudWxsKSB7XG4gICAgICB2YXIgZDtcbiAgICAgIGYuZW5jYWxnID09IFwiZGVzLUVERTMtQ0JDXCIgJiYgKGQgPSA4KSwgZi5lbmNhbGcgPT0gXCJhZXMxMjgtQ0JDXCIgJiYgKGQgPSAxNiksIGYuZW5jYWxnID09IFwiYWVzMjU2LUNCQ1wiICYmIChkID0gMTYpLCBmLmVuY2l2ID0gSy5lbmMuSGV4LnN0cmluZ2lmeShLLmxpYi5Xb3JkQXJyYXkucmFuZG9tKGQpKTtcbiAgICB9XG4gIH0sIGVuY3J5cHRQQkVTMlBhcmFtOiBmdW5jdGlvbihmLCBkKSB7XG4gICAgdmFyIGcgPSBrLmdldERLRnJvbVBCRVMyUGFyYW0oZiwgZCk7XG4gICAgdHJ5IHtcbiAgICAgIHZhciBTID0gYS5jcnlwdG8uQ2lwaGVyLmVuY3J5cHQoZi5wbGFpbiwgZywgZi5lbmNhbGcsIHsgaXY6IGYuZW5jaXYgfSk7XG4gICAgfSBjYXRjaCB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJlbmNyeXB0IGVycm9yOiBcIiArIGYucGxhaW4gKyBcIiBcIiArIGcgKyBcIiBcIiArIGYuZW5jYWxnICsgXCIgXCIgKyBmLmVuY2l2KTtcbiAgICB9XG4gICAgZi5lbmMgPSBTO1xuICB9LCBnZW5lcmF0ZVBCRVMyQVNOMVBhcmFtOiBmdW5jdGlvbihmKSB7XG4gICAgdmFyIGQgPSB7IHNlcTogW3sgc2VxOiBbeyBvaWQ6IFwicGtjczVQQkVTMlwiIH0sIHsgc2VxOiBbeyBzZXE6IFt7IG9pZDogXCJwa2NzNVBCS0RGMlwiIH0sIHsgc2VxOiBbeyBvY3RzdHI6IHsgaGV4OiBmLnNhbHQgfSB9LCB7IGludDogeyBoZXg6IHhuKGYuaXRlcikgfSB9XSB9XSB9LCB7IHNlcTogW3sgb2lkOiBmLmVuY2FsZyB9LCB7IG9jdHN0cjogeyBoZXg6IGYuZW5jaXYgfSB9XSB9XSB9XSB9LCB7IG9jdHN0cjogeyBoZXg6IGYuZW5jIH0gfV0gfTtcbiAgICByZXR1cm4gZi5wcmYgIT0gXCJobWFjV2l0aFNIQTFcIiAmJiBkLnNlcVswXS5zZXFbMV0uc2VxWzBdLnNlcVsxXS5zZXEucHVzaCh7IHNlcTogW3sgb2lkOiBmLnByZiB9LCB7IG51bGw6IFwiXCIgfV0gfSksIGQ7XG4gIH0sIHBhcnNlSGV4T2ZFbmNyeXB0ZWRQS0NTODogZnVuY3Rpb24oZikge1xuICAgIHZhciBkID0gViwgZyA9IGQuZ2V0Q2hpbGRJZHgsIFMgPSBkLmdldFYsIGIgPSB7fSwgRCA9IGcoZiwgMCk7XG4gICAgaWYgKEQubGVuZ3RoICE9IDIpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJtYWxmb3JtZWQgZm9ybWF0OiBTRVFVRU5DRSgwKS5pdGVtcyAhPSAyOiBcIiArIEQubGVuZ3RoKTtcbiAgICBiLmNpcGhlcnRleHQgPSBTKGYsIERbMV0pO1xuICAgIHZhciBBID0gZyhmLCBEWzBdKTtcbiAgICBpZiAoQS5sZW5ndGggIT0gMilcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIm1hbGZvcm1lZCBmb3JtYXQ6IFNFUVVFTkNFKDAuMCkuaXRlbXMgIT0gMjogXCIgKyBBLmxlbmd0aCk7XG4gICAgaWYgKFMoZiwgQVswXSkgIT0gXCIyYTg2NDg4NmY3MGQwMTA1MGRcIilcbiAgICAgIHRocm93IG5ldyBFcnJvcihcInRoaXMgb25seSBzdXBwb3J0cyBwa2NzNVBCRVMyXCIpO1xuICAgIHZhciBJID0gZyhmLCBBWzFdKTtcbiAgICBpZiAoQS5sZW5ndGggIT0gMilcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIm1hbGZvcm1lZCBmb3JtYXQ6IFNFUVVFTkNFKDAuMC4xKS5pdGVtcyAhPSAyOiBcIiArIEkubGVuZ3RoKTtcbiAgICB2YXIgbSA9IGcoZiwgSVsxXSk7XG4gICAgaWYgKG0ubGVuZ3RoICE9IDIpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJtYWxmb3JtZWQgZm9ybWF0OiBTRVFVRU5DRSgwLjAuMS4xKS5pdGVtcyAhPSAyOiBcIiArIG0ubGVuZ3RoKTtcbiAgICBpZiAoUyhmLCBtWzBdKSAhPSBcIjJhODY0ODg2ZjcwZDAzMDdcIilcbiAgICAgIHRocm93IFwidGhpcyBvbmx5IHN1cHBvcnRzIFRyaXBsZURFU1wiO1xuICAgIGIuZW5jcnlwdGlvblNjaGVtZUFsZyA9IFwiVHJpcGxlREVTXCIsIGIuZW5jcnlwdGlvblNjaGVtZUlWID0gUyhmLCBtWzFdKTtcbiAgICB2YXIgRSA9IGcoZiwgSVswXSk7XG4gICAgaWYgKEUubGVuZ3RoICE9IDIpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJtYWxmb3JtZWQgZm9ybWF0OiBTRVFVRU5DRSgwLjAuMS4wKS5pdGVtcyAhPSAyOiBcIiArIEUubGVuZ3RoKTtcbiAgICBpZiAoUyhmLCBFWzBdKSAhPSBcIjJhODY0ODg2ZjcwZDAxMDUwY1wiKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwidGhpcyBvbmx5IHN1cHBvcnRzIHBrY3M1UEJLREYyXCIpO1xuICAgIHZhciB3ID0gZyhmLCBFWzFdKTtcbiAgICBpZiAody5sZW5ndGggPCAyKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwibWFsZm9ybWVkIGZvcm1hdDogU0VRVUVOQ0UoMC4wLjEuMC4xKS5pdGVtcyA8IDI6IFwiICsgdy5sZW5ndGgpO1xuICAgIGIucGJrZGYyU2FsdCA9IFMoZiwgd1swXSk7XG4gICAgdmFyIHggPSBTKGYsIHdbMV0pO1xuICAgIHRyeSB7XG4gICAgICBiLnBia2RmMkl0ZXIgPSBwYXJzZUludCh4LCAxNik7XG4gICAgfSBjYXRjaCB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJtYWxmb3JtZWQgZm9ybWF0IHBia2RmMkl0ZXI6IFwiICsgeCk7XG4gICAgfVxuICAgIHJldHVybiBiO1xuICB9LCBnZXRQQktERjJLZXlIZXhGcm9tUGFyYW06IGZ1bmN0aW9uKGYsIGQpIHtcbiAgICB2YXIgZyA9IEsuZW5jLkhleC5wYXJzZShmLnBia2RmMlNhbHQpLCBTID0gZi5wYmtkZjJJdGVyLCBiID0gSy5QQktERjIoZCwgZywgeyBrZXlTaXplOiAxOTIgLyAzMiwgaXRlcmF0aW9uczogUyB9KSwgRCA9IEsuZW5jLkhleC5zdHJpbmdpZnkoYik7XG4gICAgcmV0dXJuIEQ7XG4gIH0sIF9nZXRQbGFpblBLQ1M4SGV4RnJvbUVuY3J5cHRlZFBLQ1M4UEVNOiBmdW5jdGlvbihmLCBkKSB7XG4gICAgdmFyIGcgPSBpZShmLCBcIkVOQ1JZUFRFRCBQUklWQVRFIEtFWVwiKSwgUyA9IHRoaXMucGFyc2VIZXhPZkVuY3J5cHRlZFBLQ1M4KGcpLCBiID0gay5nZXRQQktERjJLZXlIZXhGcm9tUGFyYW0oUywgZCksIEQgPSB7fTtcbiAgICBELmNpcGhlcnRleHQgPSBLLmVuYy5IZXgucGFyc2UoUy5jaXBoZXJ0ZXh0KTtcbiAgICB2YXIgQSA9IEsuZW5jLkhleC5wYXJzZShiKSwgSSA9IEsuZW5jLkhleC5wYXJzZShTLmVuY3J5cHRpb25TY2hlbWVJViksIG0gPSBLLlRyaXBsZURFUy5kZWNyeXB0KEQsIEEsIHsgaXY6IEkgfSksIEUgPSBLLmVuYy5IZXguc3RyaW5naWZ5KG0pO1xuICAgIHJldHVybiBFO1xuICB9LCBwYXJzZVBCRVMyOiBmdW5jdGlvbihmKSB7XG4gICAgdmFyIGQgPSBWLnBhcnNlKGYpO1xuICAgIGlmIChKKGQsIFwic2VxLjAuc2VxLjAub2lkXCIpICE9IFwicGtjczVQQkVTMlwiIHx8IEooZCwgXCJzZXEuMC5zZXEuMS5zZXEuMC5zZXEuMC5vaWRcIikgIT0gXCJwa2NzNVBCS0RGMlwiKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwibm90IHBrY3M1UEJFUzIgYW5kIHBrY3M1UEJLREYyIHVzZWRcIik7XG4gICAgdmFyIGcgPSBKKGQsIFwic2VxLjAuc2VxLjEuc2VxLjAuc2VxLjEuc2VxXCIpO1xuICAgIGlmIChnID09IG51bGwpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJQQktERjIgcGFyYW1ldGVyIG5vdCBmb3VuZFwiKTtcbiAgICB2YXIgUyA9IEooZywgXCIwLm9jdHN0ci5oZXhcIiksIGIgPSBKKGcsIFwiMS5pbnQuaGV4XCIpLCBEID0gSihnLCBcIjIuc2VxLjAub2lkXCIsIFwiaG1hY1dpdGhTSEExXCIpLCBBID0gLTE7XG4gICAgdHJ5IHtcbiAgICAgIEEgPSBwYXJzZUludChiLCAxNik7XG4gICAgfSBjYXRjaCB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJpdGVyIG5vdCBwcm9wZXIgdmFsdWVcIik7XG4gICAgfVxuICAgIHZhciBJID0gSihkLCBcInNlcS4wLnNlcS4xLnNlcS4xLnNlcS4wLm9pZFwiKSwgbSA9IEooZCwgXCJzZXEuMC5zZXEuMS5zZXEuMS5zZXEuMS5vY3RzdHIuaGV4XCIpLCBFID0gSihkLCBcInNlcS4xLm9jdHN0ci5oZXhcIik7XG4gICAgaWYgKEkgPT0gbnVsbCB8fCBtID09IG51bGwgfHwgRSA9PSBudWxsKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiZW5jYWxnLCBlbmNpdiBvciBlbmMgaXMgdW5kZWZpbmVkXCIpO1xuICAgIHZhciB3ID0geyBzYWx0OiBTLCBpdGVyOiBBLCBwcmY6IEQsIGVuY2FsZzogSSwgZW5jaXY6IG0sIGVuYzogRSB9O1xuICAgIHJldHVybiB3O1xuICB9LCBnZXRES0Zyb21QQkVTMlBhcmFtOiBmdW5jdGlvbihmLCBkKSB7XG4gICAgdmFyIGcgPSB7IGhtYWNXaXRoU0hBMTogSy5hbGdvLlNIQTEsIGhtYWNXaXRoU0hBMjI0OiBLLmFsZ28uU0hBMjI0LCBobWFjV2l0aFNIQTI1NjogSy5hbGdvLlNIQTI1NiwgaG1hY1dpdGhTSEEzODQ6IEsuYWxnby5TSEEzODQsIGhtYWNXaXRoU0hBNTEyOiBLLmFsZ28uU0hBNTEyIH0sIFMgPSB7IFwiZGVzLUVERTMtQ0JDXCI6IDE5MiAvIDMyLCBcImFlczEyOC1DQkNcIjogMTI4IC8gMzIsIFwiYWVzMjU2LUNCQ1wiOiAyNTYgLyAzMiB9LCBiID0gZ1tmLnByZl07XG4gICAgaWYgKGIgPT0gbnVsbClcbiAgICAgIHRocm93IG5ldyBFcnJvcihcInVuc3VwcG9ydGVkIHByZlwiKTtcbiAgICB2YXIgRCA9IFNbZi5lbmNhbGddO1xuICAgIGlmIChEID09IG51bGwpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJ1bnN1cHBvcnRlZCBlbmNhbGdcIik7XG4gICAgdmFyIEEgPSBLLmVuYy5IZXgucGFyc2UoZi5zYWx0KSwgSSA9IGYuaXRlcjtcbiAgICB0cnkge1xuICAgICAgdmFyIG0gPSBLLlBCS0RGMihkLCBBLCB7IGtleVNpemU6IEQsIGl0ZXJhdGlvbnM6IEksIGhhc2hlcjogYiB9KTtcbiAgICAgIHJldHVybiBLLmVuYy5IZXguc3RyaW5naWZ5KG0pO1xuICAgIH0gY2F0Y2ggKEUpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlBCS0RGMiBlcnJvcjogXCIgKyBFICsgXCIgXCIgKyBKU09OLnN0cmluZ2lmeShmKSArIFwiIFwiICsgZCk7XG4gICAgfVxuICB9LCBnZXRQbGFpbkhleEZyb21FbmNyeXB0ZWRQS0NTOFBFTTogZnVuY3Rpb24oZiwgZCkge1xuICAgIGlmIChmLmluZGV4T2YoXCJCRUdJTiBFTkNSWVBURUQgUFJJVkFURSBLRVlcIikgPT0gLTEpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJub3QgRW5jcnlwdGVkIFBLQ1MjOCBQRU0gc3RyaW5nXCIpO1xuICAgIHZhciBnID0gaWUoZiksIFM7XG4gICAgdHJ5IHtcbiAgICAgIFMgPSBrLnBhcnNlUEJFUzIoZyk7XG4gICAgfSBjYXRjaCAoRCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwibWFsZm9ybWVkIFBCRVMyIGZvcm1hdDogXCIgKyBELm1lc3NhZ2UpO1xuICAgIH1cbiAgICB2YXIgYiA9IGsuZ2V0REtGcm9tUEJFUzJQYXJhbShTLCBkKTtcbiAgICByZXR1cm4gYS5jcnlwdG8uQ2lwaGVyLmRlY3J5cHQoUy5lbmMsIGIsIFMuZW5jYWxnLCB7IGl2OiBTLmVuY2l2IH0pO1xuICB9LCBnZXRLZXlGcm9tRW5jcnlwdGVkUEtDUzhQRU06IGZ1bmN0aW9uKGYsIGQpIHtcbiAgICB2YXIgZyA9IHRoaXMuZ2V0UGxhaW5IZXhGcm9tRW5jcnlwdGVkUEtDUzhQRU0oZiwgZCksIFMgPSB0aGlzLmdldEtleUZyb21QbGFpblByaXZhdGVQS0NTOEhleChnKTtcbiAgICByZXR1cm4gUztcbiAgfSwgcGFyc2VQbGFpblByaXZhdGVQS0NTOEhleDogZnVuY3Rpb24oZikge1xuICAgIHZhciBkID0gViwgZyA9IGQuZ2V0Q2hpbGRJZHgsIFMgPSBkLmdldFYsIGIgPSB7fTtcbiAgICBpZiAoYi5hbGdwYXJhbSA9IG51bGwsIGYuc3Vic3RyKDAsIDIpICE9IFwiMzBcIilcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIm1hbGZvcm1lZCBwbGFpbiBQS0NTOCBwcml2YXRlIGtleShjb2RlOjAwMSlcIik7XG4gICAgdmFyIEQgPSBnKGYsIDApO1xuICAgIGlmIChELmxlbmd0aCA8IDMpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJtYWxmb3JtZWQgcGxhaW4gUEtDUzggcHJpdmF0ZSBrZXkoY29kZTowMDIpXCIpO1xuICAgIGlmIChmLnN1YnN0cihEWzFdLCAyKSAhPSBcIjMwXCIpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJtYWxmb3JtZWQgUEtDUzggcHJpdmF0ZSBrZXkoY29kZTowMDMpXCIpO1xuICAgIHZhciBBID0gZyhmLCBEWzFdKTtcbiAgICBpZiAoQS5sZW5ndGggIT0gMilcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIm1hbGZvcm1lZCBQS0NTOCBwcml2YXRlIGtleShjb2RlOjAwNClcIik7XG4gICAgaWYgKGYuc3Vic3RyKEFbMF0sIDIpICE9IFwiMDZcIilcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIm1hbGZvcm1lZCBQS0NTOCBwcml2YXRlIGtleShjb2RlOjAwNSlcIik7XG4gICAgaWYgKGIuYWxnb2lkID0gUyhmLCBBWzBdKSwgZi5zdWJzdHIoQVsxXSwgMikgPT0gXCIwNlwiICYmIChiLmFsZ3BhcmFtID0gUyhmLCBBWzFdKSksIGYuc3Vic3RyKERbMl0sIDIpICE9IFwiMDRcIilcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIm1hbGZvcm1lZCBQS0NTOCBwcml2YXRlIGtleShjb2RlOjAwNilcIik7XG4gICAgcmV0dXJuIGIua2V5aWR4ID0gZC5nZXRWaWR4KGYsIERbMl0pLCBiO1xuICB9LCBnZXRLZXlGcm9tUGxhaW5Qcml2YXRlUEtDUzhQRU06IGZ1bmN0aW9uKGYpIHtcbiAgICB2YXIgZCA9IGllKGYsIFwiUFJJVkFURSBLRVlcIiksIGcgPSB0aGlzLmdldEtleUZyb21QbGFpblByaXZhdGVQS0NTOEhleChkKTtcbiAgICByZXR1cm4gZztcbiAgfSwgZ2V0S2V5RnJvbVBsYWluUHJpdmF0ZVBLQ1M4SGV4OiBmdW5jdGlvbihmKSB7XG4gICAgdmFyIGQgPSB0aGlzLnBhcnNlUGxhaW5Qcml2YXRlUEtDUzhIZXgoZiksIGc7XG4gICAgaWYgKGQuYWxnb2lkID09IFwiMmE4NjQ4ODZmNzBkMDEwMTAxXCIpXG4gICAgICBnID0gbmV3IHEoKTtcbiAgICBlbHNlIGlmIChkLmFsZ29pZCA9PSBcIjJhODY0OGNlMzgwNDAxXCIpXG4gICAgICBnID0gbmV3IGEuY3J5cHRvLkRTQSgpO1xuICAgIGVsc2UgaWYgKGQuYWxnb2lkID09IFwiMmE4NjQ4Y2UzZDAyMDFcIilcbiAgICAgIGcgPSBuZXcgYS5jcnlwdG8uRUNEU0EoKTtcbiAgICBlbHNlXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJ1bnN1cHBvcnRlZCBwcml2YXRlIGtleSBhbGdvcml0aG1cIik7XG4gICAgcmV0dXJuIGcucmVhZFBLQ1M4UHJ2S2V5SGV4KGYpLCBnO1xuICB9LCBfZ2V0S2V5RnJvbVB1YmxpY1BLQ1M4SGV4OiBmdW5jdGlvbihmKSB7XG4gICAgdmFyIGQsIGcgPSBWLmdldFZieUxpc3QoZiwgMCwgWzAsIDBdLCBcIjA2XCIpO1xuICAgIGlmIChnID09PSBcIjJhODY0ODg2ZjcwZDAxMDEwMVwiKVxuICAgICAgZCA9IG5ldyBxKCk7XG4gICAgZWxzZSBpZiAoZyA9PT0gXCIyYTg2NDhjZTM4MDQwMVwiKVxuICAgICAgZCA9IG5ldyBhLmNyeXB0by5EU0EoKTtcbiAgICBlbHNlIGlmIChnID09PSBcIjJhODY0OGNlM2QwMjAxXCIpXG4gICAgICBkID0gbmV3IGEuY3J5cHRvLkVDRFNBKCk7XG4gICAgZWxzZVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwidW5zdXBwb3J0ZWQgUEtDUyM4IHB1YmxpYyBrZXkgaGV4XCIpO1xuICAgIHJldHVybiBkLnJlYWRQS0NTOFB1YktleUhleChmKSwgZDtcbiAgfSwgcGFyc2VQdWJsaWNSYXdSU0FLZXlIZXg6IGZ1bmN0aW9uKGYpIHtcbiAgICB2YXIgZCA9IFYsIGcgPSBkLmdldENoaWxkSWR4LCBTID0gZC5nZXRWLCBiID0ge307XG4gICAgaWYgKGYuc3Vic3RyKDAsIDIpICE9IFwiMzBcIilcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIm1hbGZvcm1lZCBSU0Ega2V5KGNvZGU6MDAxKVwiKTtcbiAgICB2YXIgRCA9IGcoZiwgMCk7XG4gICAgaWYgKEQubGVuZ3RoICE9IDIpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJtYWxmb3JtZWQgUlNBIGtleShjb2RlOjAwMilcIik7XG4gICAgaWYgKGYuc3Vic3RyKERbMF0sIDIpICE9IFwiMDJcIilcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIm1hbGZvcm1lZCBSU0Ega2V5KGNvZGU6MDAzKVwiKTtcbiAgICBpZiAoYi5uID0gUyhmLCBEWzBdKSwgZi5zdWJzdHIoRFsxXSwgMikgIT0gXCIwMlwiKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwibWFsZm9ybWVkIFJTQSBrZXkoY29kZTowMDQpXCIpO1xuICAgIHJldHVybiBiLmUgPSBTKGYsIERbMV0pLCBiO1xuICB9LCBwYXJzZVB1YmxpY1BLQ1M4SGV4OiBmdW5jdGlvbihmKSB7XG4gICAgdmFyIGQgPSBWLCBnID0gZC5nZXRDaGlsZElkeCwgUyA9IGQuZ2V0ViwgYiA9IHt9O1xuICAgIGIuYWxncGFyYW0gPSBudWxsO1xuICAgIHZhciBEID0gZyhmLCAwKTtcbiAgICBpZiAoRC5sZW5ndGggIT0gMilcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIm91dGVyIERFUlNlcXVlbmNlIHNoYWxsIGhhdmUgMiBlbGVtZW50czogXCIgKyBELmxlbmd0aCk7XG4gICAgdmFyIEEgPSBEWzBdO1xuICAgIGlmIChmLnN1YnN0cihBLCAyKSAhPSBcIjMwXCIpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJtYWxmb3JtZWQgUEtDUzggcHVibGljIGtleShjb2RlOjAwMSlcIik7XG4gICAgdmFyIEkgPSBnKGYsIEEpO1xuICAgIGlmIChJLmxlbmd0aCAhPSAyKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwibWFsZm9ybWVkIFBLQ1M4IHB1YmxpYyBrZXkoY29kZTowMDIpXCIpO1xuICAgIGlmIChmLnN1YnN0cihJWzBdLCAyKSAhPSBcIjA2XCIpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJtYWxmb3JtZWQgUEtDUzggcHVibGljIGtleShjb2RlOjAwMylcIik7XG4gICAgaWYgKGIuYWxnb2lkID0gUyhmLCBJWzBdKSwgZi5zdWJzdHIoSVsxXSwgMikgPT0gXCIwNlwiID8gYi5hbGdwYXJhbSA9IFMoZiwgSVsxXSkgOiBmLnN1YnN0cihJWzFdLCAyKSA9PSBcIjMwXCIgJiYgKGIuYWxncGFyYW0gPSB7fSwgYi5hbGdwYXJhbS5wID0gZC5nZXRWYnlMaXN0KGYsIElbMV0sIFswXSwgXCIwMlwiKSwgYi5hbGdwYXJhbS5xID0gZC5nZXRWYnlMaXN0KGYsIElbMV0sIFsxXSwgXCIwMlwiKSwgYi5hbGdwYXJhbS5nID0gZC5nZXRWYnlMaXN0KGYsIElbMV0sIFsyXSwgXCIwMlwiKSksIGYuc3Vic3RyKERbMV0sIDIpICE9IFwiMDNcIilcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIm1hbGZvcm1lZCBQS0NTOCBwdWJsaWMga2V5KGNvZGU6MDA0KVwiKTtcbiAgICByZXR1cm4gYi5rZXkgPSBTKGYsIERbMV0pLnN1YnN0cigyKSwgYjtcbiAgfSB9O1xufSgpO1xuay5nZXRLZXkgPSBmdW5jdGlvbihlLCB0LCByKSB7XG4gIHZhciBpID0gViwgcyA9IGkuZ2V0Q2hpbGRJZHg7XG4gIGkuZ2V0VjtcbiAgdmFyIG4gPSBpLmdldFZieUxpc3QsIGggPSBhLmNyeXB0bywgdSA9IGguRUNEU0EsIHAgPSBoLkRTQSwgYyA9IHEsIHkgPSBpZSwgdiA9IGs7XG4gIGlmICh0eXBlb2YgYyA8IFwidVwiICYmIGUgaW5zdGFuY2VvZiBjIHx8IHR5cGVvZiB1IDwgXCJ1XCIgJiYgZSBpbnN0YW5jZW9mIHUgfHwgdHlwZW9mIHAgPCBcInVcIiAmJiBlIGluc3RhbmNlb2YgcClcbiAgICByZXR1cm4gZTtcbiAgaWYgKGUuY3VydmUgIT09IHZvaWQgMCAmJiBlLnh5ICE9PSB2b2lkIDAgJiYgZS5kID09PSB2b2lkIDApXG4gICAgcmV0dXJuIG5ldyB1KHsgcHViOiBlLnh5LCBjdXJ2ZTogZS5jdXJ2ZSB9KTtcbiAgaWYgKGUuY3VydmUgIT09IHZvaWQgMCAmJiBlLmQgIT09IHZvaWQgMClcbiAgICByZXR1cm4gbmV3IHUoeyBwcnY6IGUuZCwgY3VydmU6IGUuY3VydmUgfSk7XG4gIGlmIChlLmt0eSA9PT0gdm9pZCAwICYmIGUubiAhPT0gdm9pZCAwICYmIGUuZSAhPT0gdm9pZCAwICYmIGUuZCA9PT0gdm9pZCAwKSB7XG4gICAgdmFyIG8gPSBuZXcgYygpO1xuICAgIHJldHVybiBvLnNldFB1YmxpYyhlLm4sIGUuZSksIG87XG4gIH1cbiAgaWYgKGUua3R5ID09PSB2b2lkIDAgJiYgZS5uICE9PSB2b2lkIDAgJiYgZS5lICE9PSB2b2lkIDAgJiYgZS5kICE9PSB2b2lkIDAgJiYgZS5wICE9PSB2b2lkIDAgJiYgZS5xICE9PSB2b2lkIDAgJiYgZS5kcCAhPT0gdm9pZCAwICYmIGUuZHEgIT09IHZvaWQgMCAmJiBlLmNvICE9PSB2b2lkIDAgJiYgZS5xaSA9PT0gdm9pZCAwKSB7XG4gICAgdmFyIG8gPSBuZXcgYygpO1xuICAgIHJldHVybiBvLnNldFByaXZhdGVFeChlLm4sIGUuZSwgZS5kLCBlLnAsIGUucSwgZS5kcCwgZS5kcSwgZS5jbyksIG87XG4gIH1cbiAgaWYgKGUua3R5ID09PSB2b2lkIDAgJiYgZS5uICE9PSB2b2lkIDAgJiYgZS5lICE9PSB2b2lkIDAgJiYgZS5kICE9PSB2b2lkIDAgJiYgZS5wID09PSB2b2lkIDApIHtcbiAgICB2YXIgbyA9IG5ldyBjKCk7XG4gICAgcmV0dXJuIG8uc2V0UHJpdmF0ZShlLm4sIGUuZSwgZS5kKSwgbztcbiAgfVxuICBpZiAoZS5wICE9PSB2b2lkIDAgJiYgZS5xICE9PSB2b2lkIDAgJiYgZS5nICE9PSB2b2lkIDAgJiYgZS55ICE9PSB2b2lkIDAgJiYgZS54ID09PSB2b2lkIDApIHtcbiAgICB2YXIgbyA9IG5ldyBwKCk7XG4gICAgcmV0dXJuIG8uc2V0UHVibGljKGUucCwgZS5xLCBlLmcsIGUueSksIG87XG4gIH1cbiAgaWYgKGUucCAhPT0gdm9pZCAwICYmIGUucSAhPT0gdm9pZCAwICYmIGUuZyAhPT0gdm9pZCAwICYmIGUueSAhPT0gdm9pZCAwICYmIGUueCAhPT0gdm9pZCAwKSB7XG4gICAgdmFyIG8gPSBuZXcgcCgpO1xuICAgIHJldHVybiBvLnNldFByaXZhdGUoZS5wLCBlLnEsIGUuZywgZS55LCBlLngpLCBvO1xuICB9XG4gIGlmIChlLmt0eSA9PT0gXCJSU0FcIiAmJiBlLm4gIT09IHZvaWQgMCAmJiBlLmUgIT09IHZvaWQgMCAmJiBlLmQgPT09IHZvaWQgMCkge1xuICAgIHZhciBvID0gbmV3IGMoKTtcbiAgICByZXR1cm4gby5zZXRQdWJsaWMoWShlLm4pLCBZKGUuZSkpLCBvO1xuICB9XG4gIGlmIChlLmt0eSA9PT0gXCJSU0FcIiAmJiBlLm4gIT09IHZvaWQgMCAmJiBlLmUgIT09IHZvaWQgMCAmJiBlLmQgIT09IHZvaWQgMCAmJiBlLnAgIT09IHZvaWQgMCAmJiBlLnEgIT09IHZvaWQgMCAmJiBlLmRwICE9PSB2b2lkIDAgJiYgZS5kcSAhPT0gdm9pZCAwICYmIGUucWkgIT09IHZvaWQgMCkge1xuICAgIHZhciBvID0gbmV3IGMoKTtcbiAgICByZXR1cm4gby5zZXRQcml2YXRlRXgoWShlLm4pLCBZKGUuZSksIFkoZS5kKSwgWShlLnApLCBZKGUucSksIFkoZS5kcCksIFkoZS5kcSksIFkoZS5xaSkpLCBvO1xuICB9XG4gIGlmIChlLmt0eSA9PT0gXCJSU0FcIiAmJiBlLm4gIT09IHZvaWQgMCAmJiBlLmUgIT09IHZvaWQgMCAmJiBlLmQgIT09IHZvaWQgMCkge1xuICAgIHZhciBvID0gbmV3IGMoKTtcbiAgICByZXR1cm4gby5zZXRQcml2YXRlKFkoZS5uKSwgWShlLmUpLCBZKGUuZCkpLCBvO1xuICB9XG4gIGlmIChlLmt0eSA9PT0gXCJFQ1wiICYmIGUuY3J2ICE9PSB2b2lkIDAgJiYgZS54ICE9PSB2b2lkIDAgJiYgZS55ICE9PSB2b2lkIDAgJiYgZS5kID09PSB2b2lkIDApIHtcbiAgICB2YXIgbCA9IG5ldyB1KHsgY3VydmU6IGUuY3J2IH0pLCBmID0gbC5lY3BhcmFtcy5rZXljaGFybGVuLCBkID0gKFwiMDAwMDAwMDAwMFwiICsgWShlLngpKS5zbGljZSgtZiksIGcgPSAoXCIwMDAwMDAwMDAwXCIgKyBZKGUueSkpLnNsaWNlKC1mKSwgUyA9IFwiMDRcIiArIGQgKyBnO1xuICAgIHJldHVybiBsLnNldFB1YmxpY0tleUhleChTKSwgbDtcbiAgfVxuICBpZiAoZS5rdHkgPT09IFwiRUNcIiAmJiBlLmNydiAhPT0gdm9pZCAwICYmIGUueCAhPT0gdm9pZCAwICYmIGUueSAhPT0gdm9pZCAwICYmIGUuZCAhPT0gdm9pZCAwKSB7XG4gICAgdmFyIGwgPSBuZXcgdSh7IGN1cnZlOiBlLmNydiB9KSwgZiA9IGwuZWNwYXJhbXMua2V5Y2hhcmxlbiwgZCA9IChcIjAwMDAwMDAwMDBcIiArIFkoZS54KSkuc2xpY2UoLWYpLCBnID0gKFwiMDAwMDAwMDAwMFwiICsgWShlLnkpKS5zbGljZSgtZiksIFMgPSBcIjA0XCIgKyBkICsgZywgYiA9IChcIjAwMDAwMDAwMDBcIiArIFkoZS5kKSkuc2xpY2UoLWYpO1xuICAgIHJldHVybiBsLnNldFB1YmxpY0tleUhleChTKSwgbC5zZXRQcml2YXRlS2V5SGV4KGIpLCBsO1xuICB9XG4gIGlmIChyID09PSBcInBrY3M1cHJ2XCIpIHtcbiAgICB2YXIgRCA9IGUsIGkgPSBWLCBBLCBvO1xuICAgIGlmIChBID0gcyhELCAwKSwgQS5sZW5ndGggPT09IDkpXG4gICAgICBvID0gbmV3IGMoKSwgby5yZWFkUEtDUzVQcnZLZXlIZXgoRCk7XG4gICAgZWxzZSBpZiAoQS5sZW5ndGggPT09IDYpXG4gICAgICBvID0gbmV3IHAoKSwgby5yZWFkUEtDUzVQcnZLZXlIZXgoRCk7XG4gICAgZWxzZSBpZiAoQS5sZW5ndGggPiAyICYmIEQuc3Vic3RyKEFbMV0sIDIpID09PSBcIjA0XCIpXG4gICAgICBvID0gbmV3IHUoKSwgby5yZWFkUEtDUzVQcnZLZXlIZXgoRCk7XG4gICAgZWxzZVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwidW5zdXBwb3J0ZWQgUEtDUyMxLzUgaGV4YWRlY2ltYWwga2V5XCIpO1xuICAgIHJldHVybiBvO1xuICB9XG4gIGlmIChyID09PSBcInBrY3M4cHJ2XCIpIHtcbiAgICB2YXIgbyA9IHYuZ2V0S2V5RnJvbVBsYWluUHJpdmF0ZVBLQ1M4SGV4KGUpO1xuICAgIHJldHVybiBvO1xuICB9XG4gIGlmIChyID09PSBcInBrY3M4cHViXCIpXG4gICAgcmV0dXJuIHYuX2dldEtleUZyb21QdWJsaWNQS0NTOEhleChlKTtcbiAgaWYgKHIgPT09IFwieDUwOXB1YlwiKVxuICAgIHJldHVybiBMLmdldFB1YmxpY0tleUZyb21DZXJ0SGV4KGUpO1xuICBpZiAoZS5pbmRleE9mKFwiLUVORCBDRVJUSUZJQ0FURS1cIiwgMCkgIT0gLTEgfHwgZS5pbmRleE9mKFwiLUVORCBYNTA5IENFUlRJRklDQVRFLVwiLCAwKSAhPSAtMSB8fCBlLmluZGV4T2YoXCItRU5EIFRSVVNURUQgQ0VSVElGSUNBVEUtXCIsIDApICE9IC0xKVxuICAgIHJldHVybiBMLmdldFB1YmxpY0tleUZyb21DZXJ0UEVNKGUpO1xuICBpZiAoZS5pbmRleE9mKFwiLUVORCBQVUJMSUMgS0VZLVwiKSAhPSAtMSkge1xuICAgIHZhciBJID0gaWUoZSwgXCJQVUJMSUMgS0VZXCIpO1xuICAgIHJldHVybiB2Ll9nZXRLZXlGcm9tUHVibGljUEtDUzhIZXgoSSk7XG4gIH1cbiAgaWYgKGUuaW5kZXhPZihcIi1FTkQgUlNBIFBSSVZBVEUgS0VZLVwiKSAhPSAtMSAmJiBlLmluZGV4T2YoXCI0LEVOQ1JZUFRFRFwiKSA9PSAtMSkge1xuICAgIHZhciBtID0geShlLCBcIlJTQSBQUklWQVRFIEtFWVwiKTtcbiAgICByZXR1cm4gdi5nZXRLZXkobSwgbnVsbCwgXCJwa2NzNXBydlwiKTtcbiAgfVxuICBpZiAoZS5pbmRleE9mKFwiLUVORCBEU0EgUFJJVkFURSBLRVktXCIpICE9IC0xICYmIGUuaW5kZXhPZihcIjQsRU5DUllQVEVEXCIpID09IC0xKSB7XG4gICAgdmFyIEUgPSB5KGUsIFwiRFNBIFBSSVZBVEUgS0VZXCIpLCB3ID0gbihFLCAwLCBbMV0sIFwiMDJcIiksIHggPSBuKEUsIDAsIFsyXSwgXCIwMlwiKSwgRiA9IG4oRSwgMCwgWzNdLCBcIjAyXCIpLCBQID0gbihFLCAwLCBbNF0sIFwiMDJcIiksIFQgPSBuKEUsIDAsIFs1XSwgXCIwMlwiKSwgbyA9IG5ldyBwKCk7XG4gICAgcmV0dXJuIG8uc2V0UHJpdmF0ZShuZXcgUih3LCAxNiksIG5ldyBSKHgsIDE2KSwgbmV3IFIoRiwgMTYpLCBuZXcgUihQLCAxNiksIG5ldyBSKFQsIDE2KSksIG87XG4gIH1cbiAgaWYgKGUuaW5kZXhPZihcIi1FTkQgRUMgUFJJVkFURSBLRVktXCIpICE9IC0xICYmIGUuaW5kZXhPZihcIjQsRU5DUllQVEVEXCIpID09IC0xKSB7XG4gICAgdmFyIG0gPSB5KGUsIFwiRUMgUFJJVkFURSBLRVlcIik7XG4gICAgcmV0dXJuIHYuZ2V0S2V5KG0sIG51bGwsIFwicGtjczVwcnZcIik7XG4gIH1cbiAgaWYgKGUuaW5kZXhPZihcIi1FTkQgUFJJVkFURSBLRVktXCIpICE9IC0xKVxuICAgIHJldHVybiB2LmdldEtleUZyb21QbGFpblByaXZhdGVQS0NTOFBFTShlKTtcbiAgaWYgKGUuaW5kZXhPZihcIi1FTkQgUlNBIFBSSVZBVEUgS0VZLVwiKSAhPSAtMSAmJiBlLmluZGV4T2YoXCI0LEVOQ1JZUFRFRFwiKSAhPSAtMSkge1xuICAgIHZhciBIID0gdi5nZXREZWNyeXB0ZWRLZXlIZXgoZSwgdCksIEMgPSBuZXcgcSgpO1xuICAgIHJldHVybiBDLnJlYWRQS0NTNVBydktleUhleChIKSwgQztcbiAgfVxuICBpZiAoZS5pbmRleE9mKFwiLUVORCBFQyBQUklWQVRFIEtFWS1cIikgIT0gLTEgJiYgZS5pbmRleE9mKFwiNCxFTkNSWVBURURcIikgIT0gLTEpIHtcbiAgICB2YXIgRSA9IHYuZ2V0RGVjcnlwdGVkS2V5SGV4KGUsIHQpLCBvID0gbihFLCAwLCBbMV0sIFwiMDRcIiksIEIgPSBuKEUsIDAsIFsyLCAwXSwgXCIwNlwiKSwgTyA9IG4oRSwgMCwgWzMsIDBdLCBcIjAzXCIpLnN1YnN0cigyKSwgaiA9IFwiXCI7XG4gICAgaWYgKGEuY3J5cHRvLk9JRC5vaWRoZXgybmFtZVtCXSAhPT0gdm9pZCAwKVxuICAgICAgaiA9IGEuY3J5cHRvLk9JRC5vaWRoZXgybmFtZVtCXTtcbiAgICBlbHNlXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJ1bmRlZmluZWQgT0lEKGhleCkgaW4gS0pVUi5jcnlwdG8uT0lEOiBcIiArIEIpO1xuICAgIHZhciBsID0gbmV3IHUoeyBjdXJ2ZTogaiB9KTtcbiAgICByZXR1cm4gbC5zZXRQdWJsaWNLZXlIZXgoTyksIGwuc2V0UHJpdmF0ZUtleUhleChvKSwgbC5pc1B1YmxpYyA9ICExLCBsO1xuICB9XG4gIGlmIChlLmluZGV4T2YoXCItRU5EIERTQSBQUklWQVRFIEtFWS1cIikgIT0gLTEgJiYgZS5pbmRleE9mKFwiNCxFTkNSWVBURURcIikgIT0gLTEpIHtcbiAgICB2YXIgRSA9IHYuZ2V0RGVjcnlwdGVkS2V5SGV4KGUsIHQpLCB3ID0gbihFLCAwLCBbMV0sIFwiMDJcIiksIHggPSBuKEUsIDAsIFsyXSwgXCIwMlwiKSwgRiA9IG4oRSwgMCwgWzNdLCBcIjAyXCIpLCBQID0gbihFLCAwLCBbNF0sIFwiMDJcIiksIFQgPSBuKEUsIDAsIFs1XSwgXCIwMlwiKSwgbyA9IG5ldyBwKCk7XG4gICAgcmV0dXJuIG8uc2V0UHJpdmF0ZShuZXcgUih3LCAxNiksIG5ldyBSKHgsIDE2KSwgbmV3IFIoRiwgMTYpLCBuZXcgUihQLCAxNiksIG5ldyBSKFQsIDE2KSksIG87XG4gIH1cbiAgaWYgKGUuaW5kZXhPZihcIi1FTkQgRU5DUllQVEVEIFBSSVZBVEUgS0VZLVwiKSAhPSAtMSlcbiAgICByZXR1cm4gdi5nZXRLZXlGcm9tRW5jcnlwdGVkUEtDUzhQRU0oZSwgdCk7XG4gIHRocm93IG5ldyBFcnJvcihcIm5vdCBzdXBwb3J0ZWQgYXJndW1lbnRcIik7XG59O1xuay5nZW5lcmF0ZUtleXBhaXIgPSBmdW5jdGlvbihlLCB0KSB7XG4gIGlmIChlID09IFwiUlNBXCIpIHtcbiAgICB2YXIgciA9IHQsIGkgPSBuZXcgcSgpO1xuICAgIGkuZ2VuZXJhdGUociwgXCIxMDAwMVwiKSwgaS5pc1ByaXZhdGUgPSAhMCwgaS5pc1B1YmxpYyA9ICEwO1xuICAgIHZhciBzID0gbmV3IHEoKSwgbiA9IGkubi50b1N0cmluZygxNiksIGggPSBpLmUudG9TdHJpbmcoMTYpO1xuICAgIHMuc2V0UHVibGljKG4sIGgpLCBzLmlzUHJpdmF0ZSA9ICExLCBzLmlzUHVibGljID0gITA7XG4gICAgdmFyIHUgPSB7fTtcbiAgICByZXR1cm4gdS5wcnZLZXlPYmogPSBpLCB1LnB1YktleU9iaiA9IHMsIHU7XG4gIH0gZWxzZSBpZiAoZSA9PSBcIkVDXCIpIHtcbiAgICB2YXIgcCA9IHQsIGMgPSBuZXcgYS5jcnlwdG8uRUNEU0EoeyBjdXJ2ZTogcCB9KSwgeSA9IGMuZ2VuZXJhdGVLZXlQYWlySGV4KCksIGkgPSBuZXcgYS5jcnlwdG8uRUNEU0EoeyBjdXJ2ZTogcCB9KTtcbiAgICBpLnNldFB1YmxpY0tleUhleCh5LmVjcHViaGV4KSwgaS5zZXRQcml2YXRlS2V5SGV4KHkuZWNwcnZoZXgpLCBpLmlzUHJpdmF0ZSA9ICEwLCBpLmlzUHVibGljID0gITE7XG4gICAgdmFyIHMgPSBuZXcgYS5jcnlwdG8uRUNEU0EoeyBjdXJ2ZTogcCB9KTtcbiAgICBzLnNldFB1YmxpY0tleUhleCh5LmVjcHViaGV4KSwgcy5pc1ByaXZhdGUgPSAhMSwgcy5pc1B1YmxpYyA9ICEwO1xuICAgIHZhciB1ID0ge307XG4gICAgcmV0dXJuIHUucHJ2S2V5T2JqID0gaSwgdS5wdWJLZXlPYmogPSBzLCB1O1xuICB9IGVsc2VcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJ1bmtub3duIGFsZ29yaXRobTogXCIgKyBlKTtcbn07XG5rLmdldFBFTSA9IGZ1bmN0aW9uKGUsIHQsIHIsIGksIHMsIG4pIHtcbiAgdmFyIGggPSBhLCB1ID0gaC5hc24xLCBwID0gdS5ERVJPYmplY3RJZGVudGlmaWVyLCBjID0gdS5ERVJJbnRlZ2VyLCB5ID0gdS5BU04xVXRpbC5uZXdPYmplY3QsIHYgPSB1Lng1MDksIG8gPSB2LlN1YmplY3RQdWJsaWNLZXlJbmZvLCBsID0gaC5jcnlwdG8sIGYgPSBsLkRTQSwgZCA9IGwuRUNEU0EsIGcgPSBxO1xuICBmdW5jdGlvbiBTKEIpIHtcbiAgICB2YXIgTyA9IHkoeyBzZXE6IFt7IGludDogMCB9LCB7IGludDogeyBiaWdpbnQ6IEIubiB9IH0sIHsgaW50OiBCLmUgfSwgeyBpbnQ6IHsgYmlnaW50OiBCLmQgfSB9LCB7IGludDogeyBiaWdpbnQ6IEIucCB9IH0sIHsgaW50OiB7IGJpZ2ludDogQi5xIH0gfSwgeyBpbnQ6IHsgYmlnaW50OiBCLmRtcDEgfSB9LCB7IGludDogeyBiaWdpbnQ6IEIuZG1xMSB9IH0sIHsgaW50OiB7IGJpZ2ludDogQi5jb2VmZiB9IH1dIH0pO1xuICAgIHJldHVybiBPO1xuICB9XG4gIGZ1bmN0aW9uIGIoQikge1xuICAgIHZhciBPID0geSh7IHNlcTogW3sgaW50OiAxIH0sIHsgb2N0c3RyOiB7IGhleDogQi5wcnZLZXlIZXggfSB9LCB7IHRhZzogW1wiYTBcIiwgITAsIHsgb2lkOiB7IG5hbWU6IEIuY3VydmVOYW1lIH0gfV0gfSwgeyB0YWc6IFtcImExXCIsICEwLCB7IGJpdHN0cjogeyBoZXg6IFwiMDBcIiArIEIucHViS2V5SGV4IH0gfV0gfV0gfSk7XG4gICAgcmV0dXJuIE87XG4gIH1cbiAgZnVuY3Rpb24gRChCKSB7XG4gICAgdmFyIE8gPSB5KHsgc2VxOiBbeyBpbnQ6IDAgfSwgeyBpbnQ6IHsgYmlnaW50OiBCLnAgfSB9LCB7IGludDogeyBiaWdpbnQ6IEIucSB9IH0sIHsgaW50OiB7IGJpZ2ludDogQi5nIH0gfSwgeyBpbnQ6IHsgYmlnaW50OiBCLnkgfSB9LCB7IGludDogeyBiaWdpbnQ6IEIueCB9IH1dIH0pO1xuICAgIHJldHVybiBPO1xuICB9XG4gIGlmICgoZyAhPT0gdm9pZCAwICYmIGUgaW5zdGFuY2VvZiBnIHx8IGYgIT09IHZvaWQgMCAmJiBlIGluc3RhbmNlb2YgZiB8fCBkICE9PSB2b2lkIDAgJiYgZSBpbnN0YW5jZW9mIGQpICYmIGUuaXNQdWJsaWMgPT0gITAgJiYgKHQgPT09IHZvaWQgMCB8fCB0ID09IFwiUEtDUzhQVUJcIikpIHtcbiAgICB2YXIgQSA9IG5ldyBvKGUpLCBJID0gQS50b2hleCgpO1xuICAgIHJldHVybiBkZShJLCBcIlBVQkxJQyBLRVlcIik7XG4gIH1cbiAgaWYgKHQgPT0gXCJQS0NTMVBSVlwiICYmIGcgIT09IHZvaWQgMCAmJiBlIGluc3RhbmNlb2YgZyAmJiAociA9PT0gdm9pZCAwIHx8IHIgPT0gbnVsbCkgJiYgZS5pc1ByaXZhdGUgPT0gITApIHtcbiAgICB2YXIgQSA9IFMoZSksIEkgPSBBLnRvaGV4KCk7XG4gICAgcmV0dXJuIGRlKEksIFwiUlNBIFBSSVZBVEUgS0VZXCIpO1xuICB9XG4gIGlmICh0ID09IFwiUEtDUzFQUlZcIiAmJiBkICE9PSB2b2lkIDAgJiYgZSBpbnN0YW5jZW9mIGQgJiYgKHIgPT09IHZvaWQgMCB8fCByID09IG51bGwpICYmIGUuaXNQcml2YXRlID09ICEwKSB7XG4gICAgdmFyIG0gPSBuZXcgcCh7IG5hbWU6IGUuY3VydmVOYW1lIH0pLCBFID0gbS50b2hleCgpLCB3ID0gYihlKSwgeCA9IHcudG9oZXgoKSwgRiA9IFwiXCI7XG4gICAgcmV0dXJuIEYgKz0gZGUoRSwgXCJFQyBQQVJBTUVURVJTXCIpLCBGICs9IGRlKHgsIFwiRUMgUFJJVkFURSBLRVlcIiksIEY7XG4gIH1cbiAgaWYgKHQgPT0gXCJQS0NTMVBSVlwiICYmIGYgIT09IHZvaWQgMCAmJiBlIGluc3RhbmNlb2YgZiAmJiAociA9PT0gdm9pZCAwIHx8IHIgPT0gbnVsbCkgJiYgZS5pc1ByaXZhdGUgPT0gITApIHtcbiAgICB2YXIgQSA9IEQoZSksIEkgPSBBLnRvaGV4KCk7XG4gICAgcmV0dXJuIGRlKEksIFwiRFNBIFBSSVZBVEUgS0VZXCIpO1xuICB9XG4gIGlmICh0ID09IFwiUEtDUzVQUlZcIiAmJiBnICE9PSB2b2lkIDAgJiYgZSBpbnN0YW5jZW9mIGcgJiYgciAhPT0gdm9pZCAwICYmIHIgIT0gbnVsbCAmJiBlLmlzUHJpdmF0ZSA9PSAhMCkge1xuICAgIHZhciBBID0gUyhlKSwgSSA9IEEudG9oZXgoKTtcbiAgICByZXR1cm4gaSA9PT0gdm9pZCAwICYmIChpID0gXCJERVMtRURFMy1DQkNcIiksIHRoaXMuZ2V0RW5jcnlwdGVkUEtDUzVQRU1Gcm9tUHJ2S2V5SGV4KFwiUlNBXCIsIEksIHIsIGksIG4pO1xuICB9XG4gIGlmICh0ID09IFwiUEtDUzVQUlZcIiAmJiBkICE9PSB2b2lkIDAgJiYgZSBpbnN0YW5jZW9mIGQgJiYgciAhPT0gdm9pZCAwICYmIHIgIT0gbnVsbCAmJiBlLmlzUHJpdmF0ZSA9PSAhMCkge1xuICAgIHZhciBBID0gYihlKSwgSSA9IEEudG9oZXgoKTtcbiAgICByZXR1cm4gaSA9PT0gdm9pZCAwICYmIChpID0gXCJERVMtRURFMy1DQkNcIiksIHRoaXMuZ2V0RW5jcnlwdGVkUEtDUzVQRU1Gcm9tUHJ2S2V5SGV4KFwiRUNcIiwgSSwgciwgaSwgbik7XG4gIH1cbiAgaWYgKHQgPT0gXCJQS0NTNVBSVlwiICYmIGYgIT09IHZvaWQgMCAmJiBlIGluc3RhbmNlb2YgZiAmJiByICE9PSB2b2lkIDAgJiYgciAhPSBudWxsICYmIGUuaXNQcml2YXRlID09ICEwKSB7XG4gICAgdmFyIEEgPSBEKGUpLCBJID0gQS50b2hleCgpO1xuICAgIHJldHVybiBpID09PSB2b2lkIDAgJiYgKGkgPSBcIkRFUy1FREUzLUNCQ1wiKSwgdGhpcy5nZXRFbmNyeXB0ZWRQS0NTNVBFTUZyb21QcnZLZXlIZXgoXCJEU0FcIiwgSSwgciwgaSwgbik7XG4gIH1cbiAgdmFyIFAgPSBmdW5jdGlvbihCLCBPKSB7XG4gICAgaWYgKHR5cGVvZiBPID09IFwic3RyaW5nXCIpXG4gICAgICByZXR1cm4gay5nZXRFbmNyeXB0ZWRQS0NTOFBFTShCLCBPKTtcbiAgICBpZiAodHlwZW9mIE8gPT0gXCJvYmplY3RcIiAmJiBKKE8sIFwicGFzc2NvZGVcIikgIT0gbnVsbCkge1xuICAgICAgdmFyIGogPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KE8pKSwgZmUgPSBqLnBhc3Njb2RlO1xuICAgICAgcmV0dXJuIGRlbGV0ZSBqLnBhc3Njb2RlLCBrLmdldEVuY3J5cHRlZFBLQ1M4UEVNKEIsIGZlLCBqKTtcbiAgICB9XG4gIH07XG4gIGlmICh0ID09IFwiUEtDUzhQUlZcIiAmJiBnICE9IG51bGwgJiYgZSBpbnN0YW5jZW9mIGcgJiYgZS5pc1ByaXZhdGUgPT0gITApIHtcbiAgICB2YXIgVCA9IFMoZSksIEggPSBULnRvaGV4KCksIEEgPSB5KHsgc2VxOiBbeyBpbnQ6IDAgfSwgeyBzZXE6IFt7IG9pZDogeyBuYW1lOiBcInJzYUVuY3J5cHRpb25cIiB9IH0sIHsgbnVsbDogITAgfV0gfSwgeyBvY3RzdHI6IHsgaGV4OiBIIH0gfV0gfSksIEkgPSBBLnRvaGV4KCk7XG4gICAgcmV0dXJuIHIgPT09IHZvaWQgMCB8fCByID09IG51bGwgPyBkZShJLCBcIlBSSVZBVEUgS0VZXCIpIDogUChJLCByKTtcbiAgfVxuICBpZiAodCA9PSBcIlBLQ1M4UFJWXCIgJiYgZCAhPT0gdm9pZCAwICYmIGUgaW5zdGFuY2VvZiBkICYmIGUuaXNQcml2YXRlID09ICEwKSB7XG4gICAgdmFyIEMgPSB7IHNlcTogW3sgaW50OiAxIH0sIHsgb2N0c3RyOiB7IGhleDogZS5wcnZLZXlIZXggfSB9XSB9O1xuICAgIHR5cGVvZiBlLnB1YktleUhleCA9PSBcInN0cmluZ1wiICYmIEMuc2VxLnB1c2goeyB0YWc6IFtcImExXCIsICEwLCB7IGJpdHN0cjogeyBoZXg6IFwiMDBcIiArIGUucHViS2V5SGV4IH0gfV0gfSk7XG4gICAgdmFyIFQgPSBuZXcgeShDKSwgSCA9IFQudG9oZXgoKSwgQSA9IHkoeyBzZXE6IFt7IGludDogMCB9LCB7IHNlcTogW3sgb2lkOiB7IG5hbWU6IFwiZWNQdWJsaWNLZXlcIiB9IH0sIHsgb2lkOiB7IG5hbWU6IGUuY3VydmVOYW1lIH0gfV0gfSwgeyBvY3RzdHI6IHsgaGV4OiBIIH0gfV0gfSksIEkgPSBBLnRvaGV4KCk7XG4gICAgcmV0dXJuIHIgPT09IHZvaWQgMCB8fCByID09IG51bGwgPyBkZShJLCBcIlBSSVZBVEUgS0VZXCIpIDogUChJLCByKTtcbiAgfVxuICBpZiAodCA9PSBcIlBLQ1M4UFJWXCIgJiYgZiAhPT0gdm9pZCAwICYmIGUgaW5zdGFuY2VvZiBmICYmIGUuaXNQcml2YXRlID09ICEwKSB7XG4gICAgdmFyIFQgPSBuZXcgYyh7IGJpZ2ludDogZS54IH0pLCBIID0gVC50b2hleCgpLCBBID0geSh7IHNlcTogW3sgaW50OiAwIH0sIHsgc2VxOiBbeyBvaWQ6IHsgbmFtZTogXCJkc2FcIiB9IH0sIHsgc2VxOiBbeyBpbnQ6IHsgYmlnaW50OiBlLnAgfSB9LCB7IGludDogeyBiaWdpbnQ6IGUucSB9IH0sIHsgaW50OiB7IGJpZ2ludDogZS5nIH0gfV0gfV0gfSwgeyBvY3RzdHI6IHsgaGV4OiBIIH0gfV0gfSksIEkgPSBBLnRvaGV4KCk7XG4gICAgcmV0dXJuIHIgPT09IHZvaWQgMCB8fCByID09IG51bGwgPyBkZShJLCBcIlBSSVZBVEUgS0VZXCIpIDogUChJLCByKTtcbiAgfVxuICB0aHJvdyBuZXcgRXJyb3IoXCJ1bnN1cHBvcnRlZCBvYmplY3Qgbm9yIGZvcm1hdFwiKTtcbn07XG5rLmdldEtleUZyb21DU1JQRU0gPSBmdW5jdGlvbihlKSB7XG4gIHZhciB0ID0gaWUoZSwgXCJDRVJUSUZJQ0FURSBSRVFVRVNUXCIpLCByID0gay5nZXRLZXlGcm9tQ1NSSGV4KHQpO1xuICByZXR1cm4gcjtcbn07XG5rLmdldEtleUZyb21DU1JIZXggPSBmdW5jdGlvbihlKSB7XG4gIHZhciB0ID0gay5wYXJzZUNTUkhleChlKSwgciA9IGsuZ2V0S2V5KHQucDhwdWJrZXloZXgsIG51bGwsIFwicGtjczhwdWJcIik7XG4gIHJldHVybiByO1xufTtcbmsucGFyc2VDU1JIZXggPSBmdW5jdGlvbihlKSB7XG4gIHZhciB0ID0gViwgciA9IHQuZ2V0Q2hpbGRJZHgsIGkgPSB0LmdldFRMViwgcyA9IHt9LCBuID0gZTtcbiAgaWYgKG4uc3Vic3RyKDAsIDIpICE9IFwiMzBcIilcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJtYWxmb3JtZWQgQ1NSKGNvZGU6MDAxKVwiKTtcbiAgdmFyIGggPSByKG4sIDApO1xuICBpZiAoaC5sZW5ndGggPCAxKVxuICAgIHRocm93IG5ldyBFcnJvcihcIm1hbGZvcm1lZCBDU1IoY29kZTowMDIpXCIpO1xuICBpZiAobi5zdWJzdHIoaFswXSwgMikgIT0gXCIzMFwiKVxuICAgIHRocm93IG5ldyBFcnJvcihcIm1hbGZvcm1lZCBDU1IoY29kZTowMDMpXCIpO1xuICB2YXIgdSA9IHIobiwgaFswXSk7XG4gIGlmICh1Lmxlbmd0aCA8IDMpXG4gICAgdGhyb3cgbmV3IEVycm9yKFwibWFsZm9ybWVkIENTUihjb2RlOjAwNClcIik7XG4gIHJldHVybiBzLnA4cHVia2V5aGV4ID0gaShuLCB1WzJdKSwgcztcbn07XG5rLmdldEtleUlEID0gZnVuY3Rpb24oZSkge1xuICB2YXIgdCA9IGssIHIgPSBWO1xuICB0eXBlb2YgZSA9PSBcInN0cmluZ1wiICYmIGUuaW5kZXhPZihcIkJFR0lOIFwiKSAhPSAtMSAmJiAoZSA9IHQuZ2V0S2V5KGUpKTtcbiAgdmFyIGkgPSBpZSh0LmdldFBFTShlKSksIHMgPSByLmdldElkeGJ5TGlzdChpLCAwLCBbMV0pLCBuID0gci5nZXRWKGksIHMpLnN1YnN0cmluZygyKTtcbiAgcmV0dXJuIGEuY3J5cHRvLlV0aWwuaGFzaEhleChuLCBcInNoYTFcIik7XG59O1xuay5nZXRKV0sgPSBmdW5jdGlvbihlLCB0LCByLCBpLCBzKSB7XG4gIHZhciBuLCBoID0ge30sIHUsIHAgPSBhLmNyeXB0by5VdGlsLmhhc2hIZXg7XG4gIGlmICh0eXBlb2YgZSA9PSBcInN0cmluZ1wiKVxuICAgIG4gPSBrLmdldEtleShlKSwgZS5pbmRleE9mKFwiQ0VSVElGSUNBVEVcIikgIT0gLTEgJiYgKHUgPSBpZShlKSk7XG4gIGVsc2UgaWYgKHR5cGVvZiBlID09IFwib2JqZWN0XCIpXG4gICAgZSBpbnN0YW5jZW9mIEwgPyAobiA9IGUuZ2V0UHVibGljS2V5KCksIHUgPSBlLmhleCkgOiBuID0gZTtcbiAgZWxzZVxuICAgIHRocm93IG5ldyBFcnJvcihcInVuc3VwcG9ydGVkIGtleWluZm8gdHlwZVwiKTtcbiAgaWYgKG4gaW5zdGFuY2VvZiBxICYmIG4uaXNQcml2YXRlKVxuICAgIGgua3R5ID0gXCJSU0FcIiwgaC5uID0gYWUobi5uLnRvU3RyaW5nKDE2KSksIGguZSA9IGFlKG4uZS50b1N0cmluZygxNikpLCBoLmQgPSBhZShuLmQudG9TdHJpbmcoMTYpKSwgaC5wID0gYWUobi5wLnRvU3RyaW5nKDE2KSksIGgucSA9IGFlKG4ucS50b1N0cmluZygxNikpLCBoLmRwID0gYWUobi5kbXAxLnRvU3RyaW5nKDE2KSksIGguZHEgPSBhZShuLmRtcTEudG9TdHJpbmcoMTYpKSwgaC5xaSA9IGFlKG4uY29lZmYudG9TdHJpbmcoMTYpKTtcbiAgZWxzZSBpZiAobiBpbnN0YW5jZW9mIHEgJiYgbi5pc1B1YmxpYylcbiAgICBoLmt0eSA9IFwiUlNBXCIsIGgubiA9IGFlKG4ubi50b1N0cmluZygxNikpLCBoLmUgPSBhZShuLmUudG9TdHJpbmcoMTYpKTtcbiAgZWxzZSBpZiAobiBpbnN0YW5jZW9mIGEuY3J5cHRvLkVDRFNBICYmIG4uaXNQcml2YXRlKSB7XG4gICAgdmFyIGMgPSBuLmdldFNob3J0TklTVFBDdXJ2ZU5hbWUoKTtcbiAgICBpZiAoYyAhPT0gXCJQLTI1NlwiICYmIGMgIT09IFwiUC0zODRcIiAmJiBjICE9PSBcIlAtNTIxXCIpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJ1bnN1cHBvcnRlZCBjdXJ2ZSBuYW1lIGZvciBKV1Q6IFwiICsgYyk7XG4gICAgdmFyIHkgPSBuLmdldFB1YmxpY0tleVhZSGV4KCk7XG4gICAgaC5rdHkgPSBcIkVDXCIsIGguY3J2ID0gYywgaC54ID0gYWUoeS54KSwgaC55ID0gYWUoeS55KSwgaC5kID0gYWUobi5wcnZLZXlIZXgpO1xuICB9IGVsc2UgaWYgKG4gaW5zdGFuY2VvZiBhLmNyeXB0by5FQ0RTQSAmJiBuLmlzUHVibGljKSB7XG4gICAgdmFyIGMgPSBuLmdldFNob3J0TklTVFBDdXJ2ZU5hbWUoKTtcbiAgICBpZiAoYyAhPT0gXCJQLTI1NlwiICYmIGMgIT09IFwiUC0zODRcIiAmJiBjICE9PSBcIlAtNTIxXCIpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJ1bnN1cHBvcnRlZCBjdXJ2ZSBuYW1lIGZvciBKV1Q6IFwiICsgYyk7XG4gICAgdmFyIHkgPSBuLmdldFB1YmxpY0tleVhZSGV4KCk7XG4gICAgaC5rdHkgPSBcIkVDXCIsIGguY3J2ID0gYywgaC54ID0gYWUoeS54KSwgaC55ID0gYWUoeS55KTtcbiAgfVxuICBpZiAoaC5rdHkgPT0gbnVsbClcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJ1bnN1cHBvcnRlZCBrZXlpbmZvXCIpO1xuICByZXR1cm4gIW4uaXNQcml2YXRlICYmIHQgIT0gITAgJiYgKGgua2lkID0gYS5qd3MuSldTLmdldEpXS3RodW1icHJpbnQoaCkpLCB1ICE9IG51bGwgJiYgciAhPSAhMCAmJiAoaC54NWMgPSBbX2UodSldKSwgdSAhPSBudWxsICYmIGkgIT0gITAgJiYgKGgueDV0ID0gWGUoX2UocCh1LCBcInNoYTFcIikpKSksIHUgIT0gbnVsbCAmJiBzICE9ICEwICYmIChoW1wieDV0I1MyNTZcIl0gPSBYZShfZShwKHUsIFwic2hhMjU2XCIpKSkpLCBoO1xufTtcbmsuZ2V0SldLRnJvbUtleSA9IGZ1bmN0aW9uKGUpIHtcbiAgcmV0dXJuIGsuZ2V0SldLKGUsICEwLCAhMCwgITAsICEwKTtcbn07XG5xLmdldFBvc0FycmF5T2ZDaGlsZHJlbkZyb21IZXggPSBmdW5jdGlvbihlKSB7XG4gIHJldHVybiBWLmdldENoaWxkSWR4KGUsIDApO1xufTtcbnEuZ2V0SGV4VmFsdWVBcnJheU9mQ2hpbGRyZW5Gcm9tSGV4ID0gZnVuY3Rpb24oZSkge1xuICB2YXIgdCA9IFYsIHIgPSB0LmdldFYsIG8gPSBxLmdldFBvc0FycmF5T2ZDaGlsZHJlbkZyb21IZXgoZSksIGkgPSByKGUsIG9bMF0pLCBzID0gcihlLCBvWzFdKSwgbiA9IHIoZSwgb1syXSksIGggPSByKGUsIG9bM10pLCB1ID0gcihlLCBvWzRdKSwgcCA9IHIoZSwgb1s1XSksIGMgPSByKGUsIG9bNl0pLCB5ID0gcihlLCBvWzddKSwgdiA9IHIoZSwgb1s4XSksIG8gPSBuZXcgQXJyYXkoKTtcbiAgcmV0dXJuIG8ucHVzaChpLCBzLCBuLCBoLCB1LCBwLCBjLCB5LCB2KSwgbztcbn07XG5xLnByb3RvdHlwZS5yZWFkUHJpdmF0ZUtleUZyb21QRU1TdHJpbmcgPSBmdW5jdGlvbihlKSB7XG4gIHZhciB0ID0gaWUoZSksIHIgPSBxLmdldEhleFZhbHVlQXJyYXlPZkNoaWxkcmVuRnJvbUhleCh0KTtcbiAgdGhpcy5zZXRQcml2YXRlRXgoclsxXSwgclsyXSwgclszXSwgcls0XSwgcls1XSwgcls2XSwgcls3XSwgcls4XSk7XG59O1xucS5wcm90b3R5cGUucmVhZFBLQ1M1UHJ2S2V5SGV4ID0gZnVuY3Rpb24oZSkge1xuICB2YXIgdCA9IHEuZ2V0SGV4VmFsdWVBcnJheU9mQ2hpbGRyZW5Gcm9tSGV4KGUpO1xuICB0aGlzLnNldFByaXZhdGVFeCh0WzFdLCB0WzJdLCB0WzNdLCB0WzRdLCB0WzVdLCB0WzZdLCB0WzddLCB0WzhdKTtcbn07XG5xLnByb3RvdHlwZS5yZWFkUEtDUzhQcnZLZXlIZXggPSBmdW5jdGlvbihlKSB7XG4gIHZhciB0LCByLCBpLCBzLCBuLCBoLCB1LCBwLCBjID0gViwgeSA9IGMuZ2V0VmJ5TGlzdEV4O1xuICBpZiAoYy5pc0FTTjFIRVgoZSkgPT09ICExKVxuICAgIHRocm93IG5ldyBFcnJvcihcIm5vdCBBU04uMSBoZXggc3RyaW5nXCIpO1xuICB0cnkge1xuICAgIHQgPSB5KGUsIDAsIFsyLCAwLCAxXSwgXCIwMlwiKSwgciA9IHkoZSwgMCwgWzIsIDAsIDJdLCBcIjAyXCIpLCBpID0geShlLCAwLCBbMiwgMCwgM10sIFwiMDJcIiksIHMgPSB5KGUsIDAsIFsyLCAwLCA0XSwgXCIwMlwiKSwgbiA9IHkoZSwgMCwgWzIsIDAsIDVdLCBcIjAyXCIpLCBoID0geShlLCAwLCBbMiwgMCwgNl0sIFwiMDJcIiksIHUgPSB5KGUsIDAsIFsyLCAwLCA3XSwgXCIwMlwiKSwgcCA9IHkoZSwgMCwgWzIsIDAsIDhdLCBcIjAyXCIpO1xuICB9IGNhdGNoIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJtYWxmb3JtZWQgUEtDUyM4IHBsYWluIFJTQSBwcml2YXRlIGtleVwiKTtcbiAgfVxuICB0aGlzLnNldFByaXZhdGVFeCh0LCByLCBpLCBzLCBuLCBoLCB1LCBwKTtcbn07XG5xLnByb3RvdHlwZS5yZWFkUEtDUzVQdWJLZXlIZXggPSBmdW5jdGlvbihlKSB7XG4gIHZhciB0ID0gViwgciA9IHQuZ2V0VjtcbiAgaWYgKHQuaXNBU04xSEVYKGUpID09PSAhMSlcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJrZXlIZXggaXMgbm90IEFTTi4xIGhleCBzdHJpbmdcIik7XG4gIHZhciBpID0gdC5nZXRDaGlsZElkeChlLCAwKTtcbiAgaWYgKGkubGVuZ3RoICE9PSAyIHx8IGUuc3Vic3RyKGlbMF0sIDIpICE9PSBcIjAyXCIgfHwgZS5zdWJzdHIoaVsxXSwgMikgIT09IFwiMDJcIilcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJ3cm9uZyBoZXggZm9yIFBLQ1MjNSBwdWJsaWMga2V5XCIpO1xuICB2YXIgcyA9IHIoZSwgaVswXSksIG4gPSByKGUsIGlbMV0pO1xuICB0aGlzLnNldFB1YmxpYyhzLCBuKTtcbn07XG5xLnByb3RvdHlwZS5yZWFkUEtDUzhQdWJLZXlIZXggPSBmdW5jdGlvbihlKSB7XG4gIHZhciB0ID0gVjtcbiAgaWYgKHQuaXNBU04xSEVYKGUpID09PSAhMSlcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJub3QgQVNOLjEgaGV4IHN0cmluZ1wiKTtcbiAgaWYgKHQuZ2V0VExWYnlMaXN0RXgoZSwgMCwgWzAsIDBdKSAhPT0gXCIwNjA5MmE4NjQ4ODZmNzBkMDEwMTAxXCIpXG4gICAgdGhyb3cgbmV3IEVycm9yKFwibm90IFBLQ1M4IFJTQSBwdWJsaWMga2V5XCIpO1xuICB2YXIgciA9IHQuZ2V0VExWYnlMaXN0RXgoZSwgMCwgWzEsIDBdKTtcbiAgdGhpcy5yZWFkUEtDUzVQdWJLZXlIZXgocik7XG59O1xucS5wcm90b3R5cGUucmVhZENlcnRQdWJLZXlIZXggPSBmdW5jdGlvbihlLCB0KSB7XG4gIHZhciByLCBpO1xuICByID0gbmV3IEwoKSwgci5yZWFkQ2VydEhleChlKSwgaSA9IHIuZ2V0UHVibGljS2V5SGV4KCksIHRoaXMucmVhZFBLQ1M4UHViS2V5SGV4KGkpO1xufTtcbmZ1bmN0aW9uIE90KGUsIHQpIHtcbiAgZm9yICh2YXIgciA9IFwiXCIsIGkgPSB0IC8gNCAtIGUubGVuZ3RoLCBzID0gMDsgcyA8IGk7IHMrKylcbiAgICByID0gciArIFwiMFwiO1xuICByZXR1cm4gciArIGU7XG59XG5xLnByb3RvdHlwZS5zaWduID0gZnVuY3Rpb24oZSwgdCkge1xuICB2YXIgciA9IGZ1bmN0aW9uKHMpIHtcbiAgICByZXR1cm4gYS5jcnlwdG8uVXRpbC5oYXNoU3RyaW5nKHMsIHQpO1xuICB9LCBpID0gcihlKTtcbiAgcmV0dXJuIHRoaXMuc2lnbldpdGhNZXNzYWdlSGFzaChpLCB0KTtcbn07XG5xLnByb3RvdHlwZS5zaWduV2l0aE1lc3NhZ2VIYXNoID0gZnVuY3Rpb24oZSwgdCkge1xuICB2YXIgciA9IGEuY3J5cHRvLlV0aWwuZ2V0UGFkZGVkRGlnZXN0SW5mb0hleChlLCB0LCB0aGlzLm4uYml0TGVuZ3RoKCkpLCBpID0gdmUociwgMTYpLCBzID0gdGhpcy5kb1ByaXZhdGUoaSksIG4gPSBzLnRvU3RyaW5nKDE2KTtcbiAgcmV0dXJuIE90KG4sIHRoaXMubi5iaXRMZW5ndGgoKSk7XG59O1xuZnVuY3Rpb24ganQoZSwgdCwgcikge1xuICBmb3IgKHZhciBpID0gXCJcIiwgcyA9IDA7IGkubGVuZ3RoIDwgdDsgKVxuICAgIGkgKz0gQWUocihQZShlICsgU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsIFsocyAmIDQyNzgxOTAwODApID4+IDI0LCAocyAmIDE2NzExNjgwKSA+PiAxNiwgKHMgJiA2NTI4MCkgPj4gOCwgcyAmIDI1NV0pKSkpLCBzICs9IDE7XG4gIHJldHVybiBpO1xufVxucS5wcm90b3R5cGUuc2lnblBTUyA9IGZ1bmN0aW9uKGUsIHQsIHIpIHtcbiAgdmFyIGkgPSBmdW5jdGlvbihuKSB7XG4gICAgcmV0dXJuIGEuY3J5cHRvLlV0aWwuaGFzaEhleChuLCB0KTtcbiAgfSwgcyA9IGkoUGUoZSkpO1xuICByZXR1cm4gciA9PT0gdm9pZCAwICYmIChyID0gLTEpLCB0aGlzLnNpZ25XaXRoTWVzc2FnZUhhc2hQU1MocywgdCwgcik7XG59O1xucS5wcm90b3R5cGUuc2lnbldpdGhNZXNzYWdlSGFzaFBTUyA9IGZ1bmN0aW9uKGUsIHQsIHIpIHtcbiAgdmFyIGkgPSBBZShlKSwgcyA9IGkubGVuZ3RoLCBuID0gdGhpcy5uLmJpdExlbmd0aCgpIC0gMSwgaCA9IE1hdGguY2VpbChuIC8gOCksIHUsIHAgPSBmdW5jdGlvbihnKSB7XG4gICAgcmV0dXJuIGEuY3J5cHRvLlV0aWwuaGFzaEhleChnLCB0KTtcbiAgfTtcbiAgaWYgKHIgPT09IC0xIHx8IHIgPT09IHZvaWQgMClcbiAgICByID0gcztcbiAgZWxzZSBpZiAociA9PT0gLTIpXG4gICAgciA9IGggLSBzIC0gMjtcbiAgZWxzZSBpZiAociA8IC0yKVxuICAgIHRocm93IG5ldyBFcnJvcihcImludmFsaWQgc2FsdCBsZW5ndGhcIik7XG4gIGlmIChoIDwgcyArIHIgKyAyKVxuICAgIHRocm93IG5ldyBFcnJvcihcImRhdGEgdG9vIGxvbmdcIik7XG4gIHZhciBjID0gXCJcIjtcbiAgciA+IDAgJiYgKGMgPSBuZXcgQXJyYXkociksIG5ldyBHZSgpLm5leHRCeXRlcyhjKSwgYyA9IFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoU3RyaW5nLCBjKSk7XG4gIHZhciB5ID0gQWUocChQZShcIlxcMFxcMFxcMFxcMFxcMFxcMFxcMFxcMFwiICsgaSArIGMpKSksIHYgPSBbXTtcbiAgZm9yICh1ID0gMDsgdSA8IGggLSByIC0gcyAtIDI7IHUgKz0gMSlcbiAgICB2W3VdID0gMDtcbiAgdmFyIG8gPSBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZywgdikgKyBcIlx1MDAwMVwiICsgYywgbCA9IGp0KHksIG8ubGVuZ3RoLCBwKSwgZiA9IFtdO1xuICBmb3IgKHUgPSAwOyB1IDwgby5sZW5ndGg7IHUgKz0gMSlcbiAgICBmW3VdID0gby5jaGFyQ29kZUF0KHUpIF4gbC5jaGFyQ29kZUF0KHUpO1xuICB2YXIgZCA9IDY1MjgwID4+IDggKiBoIC0gbiAmIDI1NTtcbiAgZm9yIChmWzBdICY9IH5kLCB1ID0gMDsgdSA8IHM7IHUrKylcbiAgICBmLnB1c2goeS5jaGFyQ29kZUF0KHUpKTtcbiAgcmV0dXJuIGYucHVzaCgxODgpLCBPdCh0aGlzLmRvUHJpdmF0ZShuZXcgUihmKSkudG9TdHJpbmcoMTYpLCB0aGlzLm4uYml0TGVuZ3RoKCkpO1xufTtcbmZ1bmN0aW9uIFZ0KGUpIHtcbiAgZm9yICh2YXIgdCBpbiBhLmNyeXB0by5VdGlsLkRJR0VTVElORk9IRUFEKSB7XG4gICAgdmFyIHIgPSBhLmNyeXB0by5VdGlsLkRJR0VTVElORk9IRUFEW3RdLCBpID0gci5sZW5ndGg7XG4gICAgaWYgKGUuc3Vic3RyaW5nKDAsIGkpID09IHIpIHtcbiAgICAgIHZhciBzID0gW3QsIGUuc3Vic3RyaW5nKGkpXTtcbiAgICAgIHJldHVybiBzO1xuICAgIH1cbiAgfVxuICByZXR1cm4gW107XG59XG5xLnByb3RvdHlwZS52ZXJpZnkgPSBmdW5jdGlvbihlLCB0KSB7XG4gIGlmICh0ID0gdC50b0xvd2VyQ2FzZSgpLCB0Lm1hdGNoKC9eWzAtOWEtZl0rJC8pID09IG51bGwpXG4gICAgcmV0dXJuICExO1xuICB2YXIgciA9IHZlKHQsIDE2KSwgaSA9IHRoaXMubi5iaXRMZW5ndGgoKTtcbiAgaWYgKHIuYml0TGVuZ3RoKCkgPiBpKVxuICAgIHJldHVybiAhMTtcbiAgdmFyIHMgPSB0aGlzLmRvUHVibGljKHIpLCBuID0gcy50b1N0cmluZygxNik7XG4gIGlmIChuLmxlbmd0aCArIDMgIT0gaSAvIDQpXG4gICAgcmV0dXJuICExO1xuICB2YXIgaCA9IG4ucmVwbGFjZSgvXjFmKzAwLywgXCJcIiksIHUgPSBWdChoKTtcbiAgaWYgKHUubGVuZ3RoID09IDApXG4gICAgcmV0dXJuICExO1xuICB2YXIgcCA9IHVbMF0sIGMgPSB1WzFdLCB5ID0gZnVuY3Rpb24obykge1xuICAgIHJldHVybiBhLmNyeXB0by5VdGlsLmhhc2hTdHJpbmcobywgcCk7XG4gIH0sIHYgPSB5KGUpO1xuICByZXR1cm4gYyA9PSB2O1xufTtcbnEucHJvdG90eXBlLnZlcmlmeVdpdGhNZXNzYWdlSGFzaCA9IGZ1bmN0aW9uKGUsIHQpIHtcbiAgaWYgKHQubGVuZ3RoICE9IE1hdGguY2VpbCh0aGlzLm4uYml0TGVuZ3RoKCkgLyA0KSlcbiAgICByZXR1cm4gITE7XG4gIHZhciByID0gdmUodCwgMTYpO1xuICBpZiAoci5iaXRMZW5ndGgoKSA+IHRoaXMubi5iaXRMZW5ndGgoKSlcbiAgICByZXR1cm4gMDtcbiAgdmFyIGkgPSB0aGlzLmRvUHVibGljKHIpLCBzID0gaS50b1N0cmluZygxNikucmVwbGFjZSgvXjFmKzAwLywgXCJcIiksIG4gPSBWdChzKTtcbiAgaWYgKG4ubGVuZ3RoID09IDApXG4gICAgcmV0dXJuICExO1xuICBuWzBdO1xuICB2YXIgaCA9IG5bMV07XG4gIHJldHVybiBoID09IGU7XG59O1xucS5wcm90b3R5cGUudmVyaWZ5UFNTID0gZnVuY3Rpb24oZSwgdCwgciwgaSkge1xuICB2YXIgcyA9IGZ1bmN0aW9uKGgpIHtcbiAgICByZXR1cm4gYS5jcnlwdG8uVXRpbC5oYXNoSGV4KGgsIHIpO1xuICB9LCBuID0gcyhQZShlKSk7XG4gIHJldHVybiBpID09PSB2b2lkIDAgJiYgKGkgPSAtMSksIHRoaXMudmVyaWZ5V2l0aE1lc3NhZ2VIYXNoUFNTKG4sIHQsIHIsIGkpO1xufTtcbnEucHJvdG90eXBlLnZlcmlmeVdpdGhNZXNzYWdlSGFzaFBTUyA9IGZ1bmN0aW9uKGUsIHQsIHIsIGkpIHtcbiAgaWYgKHQubGVuZ3RoICE9IE1hdGguY2VpbCh0aGlzLm4uYml0TGVuZ3RoKCkgLyA0KSlcbiAgICByZXR1cm4gITE7XG4gIHZhciBzID0gbmV3IFIodCwgMTYpLCBuID0gZnVuY3Rpb24oYikge1xuICAgIHJldHVybiBhLmNyeXB0by5VdGlsLmhhc2hIZXgoYiwgcik7XG4gIH0sIGggPSBBZShlKSwgdSA9IGgubGVuZ3RoLCBwID0gdGhpcy5uLmJpdExlbmd0aCgpIC0gMSwgYyA9IE1hdGguY2VpbChwIC8gOCksIHk7XG4gIGlmIChpID09PSAtMSB8fCBpID09PSB2b2lkIDApXG4gICAgaSA9IHU7XG4gIGVsc2UgaWYgKGkgPT09IC0yKVxuICAgIGkgPSBjIC0gdSAtIDI7XG4gIGVsc2UgaWYgKGkgPCAtMilcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkIHNhbHQgbGVuZ3RoXCIpO1xuICBpZiAoYyA8IHUgKyBpICsgMilcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJkYXRhIHRvbyBsb25nXCIpO1xuICB2YXIgdiA9IHRoaXMuZG9QdWJsaWMocykudG9CeXRlQXJyYXkoKTtcbiAgZm9yICh5ID0gMDsgeSA8IHYubGVuZ3RoOyB5ICs9IDEpXG4gICAgdlt5XSAmPSAyNTU7XG4gIGZvciAoOyB2Lmxlbmd0aCA8IGM7IClcbiAgICB2LnVuc2hpZnQoMCk7XG4gIGlmICh2W2MgLSAxXSAhPT0gMTg4KVxuICAgIHRocm93IG5ldyBFcnJvcihcImVuY29kZWQgbWVzc2FnZSBkb2VzIG5vdCBlbmQgaW4gMHhiY1wiKTtcbiAgdiA9IFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoU3RyaW5nLCB2KTtcbiAgdmFyIG8gPSB2LnN1YnN0cigwLCBjIC0gdSAtIDEpLCBsID0gdi5zdWJzdHIoby5sZW5ndGgsIHUpLCBmID0gNjUyODAgPj4gOCAqIGMgLSBwICYgMjU1O1xuICBpZiAoby5jaGFyQ29kZUF0KDApICYgZilcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJiaXRzIGJleW9uZCBrZXlzaXplIG5vdCB6ZXJvXCIpO1xuICB2YXIgZCA9IGp0KGwsIG8ubGVuZ3RoLCBuKSwgZyA9IFtdO1xuICBmb3IgKHkgPSAwOyB5IDwgby5sZW5ndGg7IHkgKz0gMSlcbiAgICBnW3ldID0gby5jaGFyQ29kZUF0KHkpIF4gZC5jaGFyQ29kZUF0KHkpO1xuICBnWzBdICY9IH5mO1xuICB2YXIgUyA9IGMgLSB1IC0gaSAtIDI7XG4gIGZvciAoeSA9IDA7IHkgPCBTOyB5ICs9IDEpXG4gICAgaWYgKGdbeV0gIT09IDApXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJsZWZ0bW9zdCBvY3RldHMgbm90IHplcm9cIik7XG4gIGlmIChnW1NdICE9PSAxKVxuICAgIHRocm93IG5ldyBFcnJvcihcIjB4MDEgbWFya2VyIG5vdCBmb3VuZFwiKTtcbiAgcmV0dXJuIGwgPT09IEFlKG4oUGUoXCJcXDBcXDBcXDBcXDBcXDBcXDBcXDBcXDBcIiArIGggKyBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZywgZy5zbGljZSgtaSkpKSkpO1xufTtcbnEuU0FMVF9MRU5fSExFTiA9IC0xO1xucS5TQUxUX0xFTl9NQVggPSAtMjtcbnEuU0FMVF9MRU5fUkVDT1ZFUiA9IC0yO1xuZnVuY3Rpb24gTChlKSB7XG4gIHZhciB0ID0gViwgciA9IHQuZ2V0Q2hpbGRJZHgsIGkgPSB0LmdldFY7XG4gIHQuZHVtcDtcbiAgdmFyIHMgPSB0LnBhcnNlLCBuID0gdC5nZXRUTFYsIGggPSB0LmdldFZieUxpc3QsIHUgPSB0LmdldFZieUxpc3RFeCwgcCA9IHQuZ2V0VExWYnlMaXN0LCBjID0gdC5nZXRUTFZieUxpc3RFeCwgeSA9IHQuZ2V0SWR4YnlMaXN0LCB2ID0gdC5nZXRJZHhieUxpc3RFeCwgbyA9IHQuZ2V0VmlkeCwgbCA9IHQuZ2V0SW50LCBmID0gdC5vaWRuYW1lLCBkID0gdC5oZXh0b29pZHN0ciwgZyA9IGllLCBTLCBiID0gRXJyb3I7XG4gIHRyeSB7XG4gICAgUyA9IGEuYXNuMS54NTA5LkFsZ29yaXRobUlkZW50aWZpZXIuUFNTTkFNRTJBU04xVExWO1xuICB9IGNhdGNoIHtcbiAgfVxuICB0aGlzLkhFWDJTVEFHID0geyBcIjBjXCI6IFwidXRmOFwiLCAxMzogXCJwcm5cIiwgMTY6IFwiaWE1XCIsIFwiMWFcIjogXCJ2aXNcIiwgXCIxZVwiOiBcImJtcFwiIH0sIHRoaXMuaGV4ID0gbnVsbCwgdGhpcy52ZXJzaW9uID0gMCwgdGhpcy5mb2Zmc2V0ID0gMCwgdGhpcy5hRXh0SW5mbyA9IG51bGwsIHRoaXMuZ2V0VmVyc2lvbiA9IGZ1bmN0aW9uKCkge1xuICAgIGlmICh0aGlzLmhleCA9PT0gbnVsbCB8fCB0aGlzLnZlcnNpb24gIT09IDApXG4gICAgICByZXR1cm4gdGhpcy52ZXJzaW9uO1xuICAgIHZhciBtID0gcCh0aGlzLmhleCwgMCwgWzAsIDBdKTtcbiAgICBpZiAobS5zdWJzdHIoMCwgMikgPT0gXCJhMFwiKSB7XG4gICAgICB2YXIgRSA9IHAobSwgMCwgWzBdKSwgdyA9IGwoRSwgMCk7XG4gICAgICBpZiAodyA8IDAgfHwgMiA8IHcpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIm1hbGZvcm1lZCB2ZXJzaW9uIGZpZWxkXCIpO1xuICAgICAgcmV0dXJuIHRoaXMudmVyc2lvbiA9IHcgKyAxLCB0aGlzLnZlcnNpb247XG4gICAgfSBlbHNlXG4gICAgICByZXR1cm4gdGhpcy52ZXJzaW9uID0gMSwgdGhpcy5mb2Zmc2V0ID0gLTEsIDE7XG4gIH0sIHRoaXMuZ2V0U2VyaWFsTnVtYmVySGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHUodGhpcy5oZXgsIDAsIFswLCAwXSwgXCIwMlwiKTtcbiAgfSwgdGhpcy5nZXRTaWduYXR1cmVBbGdvcml0aG1GaWVsZCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBtID0gYyh0aGlzLmhleCwgMCwgWzAsIDFdKTtcbiAgICByZXR1cm4gdGhpcy5nZXRBbGdvcml0aG1JZGVudGlmaWVyTmFtZShtKTtcbiAgfSwgdGhpcy5nZXRBbGdvcml0aG1JZGVudGlmaWVyTmFtZSA9IGZ1bmN0aW9uKG0pIHtcbiAgICBmb3IgKHZhciBFIGluIFMpXG4gICAgICBpZiAobSA9PT0gU1tFXSlcbiAgICAgICAgcmV0dXJuIEU7XG4gICAgcmV0dXJuIGYodShtLCAwLCBbMF0sIFwiMDZcIikpO1xuICB9LCB0aGlzLmdldElzc3VlciA9IGZ1bmN0aW9uKG0sIEUpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRYNTAwTmFtZSh0aGlzLmdldElzc3VlckhleCgpLCBtLCBFKTtcbiAgfSwgdGhpcy5nZXRJc3N1ZXJIZXggPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gcCh0aGlzLmhleCwgMCwgWzAsIDMgKyB0aGlzLmZvZmZzZXRdLCBcIjMwXCIpO1xuICB9LCB0aGlzLmdldElzc3VlclN0cmluZyA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBtID0gdGhpcy5nZXRJc3N1ZXIoKTtcbiAgICByZXR1cm4gbS5zdHI7XG4gIH0sIHRoaXMuZ2V0U3ViamVjdCA9IGZ1bmN0aW9uKG0sIEUpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRYNTAwTmFtZSh0aGlzLmdldFN1YmplY3RIZXgoKSwgbSwgRSk7XG4gIH0sIHRoaXMuZ2V0U3ViamVjdEhleCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBwKHRoaXMuaGV4LCAwLCBbMCwgNSArIHRoaXMuZm9mZnNldF0sIFwiMzBcIik7XG4gIH0sIHRoaXMuZ2V0U3ViamVjdFN0cmluZyA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBtID0gdGhpcy5nZXRTdWJqZWN0KCk7XG4gICAgcmV0dXJuIG0uc3RyO1xuICB9LCB0aGlzLmdldE5vdEJlZm9yZSA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBtID0gaCh0aGlzLmhleCwgMCwgWzAsIDQgKyB0aGlzLmZvZmZzZXQsIDBdKTtcbiAgICByZXR1cm4gbSA9IG0ucmVwbGFjZSgvKC4uKS9nLCBcIiUkMVwiKSwgbSA9IGRlY29kZVVSSUNvbXBvbmVudChtKSwgbTtcbiAgfSwgdGhpcy5nZXROb3RBZnRlciA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBtID0gaCh0aGlzLmhleCwgMCwgWzAsIDQgKyB0aGlzLmZvZmZzZXQsIDFdKTtcbiAgICByZXR1cm4gbSA9IG0ucmVwbGFjZSgvKC4uKS9nLCBcIiUkMVwiKSwgbSA9IGRlY29kZVVSSUNvbXBvbmVudChtKSwgbTtcbiAgfSwgdGhpcy5nZXRQdWJsaWNLZXlIZXggPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRTUEtJKCk7XG4gIH0sIHRoaXMuZ2V0U1BLSSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBwKHRoaXMuaGV4LCAwLCBbMCwgNiArIHRoaXMuZm9mZnNldF0sIFwiMzBcIik7XG4gIH0sIHRoaXMuZ2V0U1BLSVZhbHVlID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIG0gPSB0aGlzLmdldFNQS0koKTtcbiAgICByZXR1cm4gbSA9PSBudWxsID8gbnVsbCA6IGgobSwgMCwgWzFdLCBcIjAzXCIsICEwKTtcbiAgfSwgdGhpcy5nZXRQdWJsaWNLZXlJZHggPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4geSh0aGlzLmhleCwgMCwgWzAsIDYgKyB0aGlzLmZvZmZzZXRdLCBcIjMwXCIpO1xuICB9LCB0aGlzLmdldFB1YmxpY0tleUNvbnRlbnRJZHggPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgbSA9IHRoaXMuZ2V0UHVibGljS2V5SWR4KCk7XG4gICAgcmV0dXJuIHkodGhpcy5oZXgsIG0sIFsxLCAwXSwgXCIzMFwiKTtcbiAgfSwgdGhpcy5nZXRQdWJsaWNLZXkgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gay5nZXRLZXkodGhpcy5nZXRQdWJsaWNLZXlIZXgoKSwgbnVsbCwgXCJwa2NzOHB1YlwiKTtcbiAgfSwgdGhpcy5nZXRTaWduYXR1cmVBbGdvcml0aG1OYW1lID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIG0gPSBwKHRoaXMuaGV4LCAwLCBbMV0sIFwiMzBcIik7XG4gICAgcmV0dXJuIHRoaXMuZ2V0QWxnb3JpdGhtSWRlbnRpZmllck5hbWUobSk7XG4gIH0sIHRoaXMuZ2V0U2lnbmF0dXJlVmFsdWVIZXggPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gaCh0aGlzLmhleCwgMCwgWzJdLCBcIjAzXCIsICEwKTtcbiAgfSwgdGhpcy52ZXJpZnlTaWduYXR1cmUgPSBmdW5jdGlvbihtKSB7XG4gICAgdmFyIEUgPSB0aGlzLmdldFNpZ25hdHVyZUFsZ29yaXRobUZpZWxkKCksIHcgPSB0aGlzLmdldFNpZ25hdHVyZVZhbHVlSGV4KCksIHggPSBwKHRoaXMuaGV4LCAwLCBbMF0sIFwiMzBcIiksIEYgPSBuZXcgYS5jcnlwdG8uU2lnbmF0dXJlKHsgYWxnOiBFIH0pO1xuICAgIHJldHVybiBGLmluaXQobSksIEYudXBkYXRlSGV4KHgpLCBGLnZlcmlmeSh3KTtcbiAgfSwgdGhpcy5wYXJzZUV4dCA9IGZ1bmN0aW9uKG0pIHtcbiAgICB2YXIgRSwgdywgeDtcbiAgICBpZiAobSA9PT0gdm9pZCAwKSB7XG4gICAgICBpZiAoeCA9IHRoaXMuaGV4LCB0aGlzLnZlcnNpb24gIT09IDMpXG4gICAgICAgIHJldHVybiAtMTtcbiAgICAgIEUgPSB5KHgsIDAsIFswLCA3LCAwXSwgXCIzMFwiKSwgdyA9IHIoeCwgRSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHggPSBpZShtKTtcbiAgICAgIHZhciBGID0geSh4LCAwLCBbMCwgMywgMCwgMF0sIFwiMDZcIik7XG4gICAgICBpZiAoaSh4LCBGKSAhPSBcIjJhODY0ODg2ZjcwZDAxMDkwZVwiKSB7XG4gICAgICAgIHRoaXMuYUV4dEluZm8gPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgRSA9IHkoeCwgMCwgWzAsIDMsIDAsIDEsIDBdLCBcIjMwXCIpLCB3ID0gcih4LCBFKSwgdGhpcy5oZXggPSB4O1xuICAgIH1cbiAgICB0aGlzLmFFeHRJbmZvID0gbmV3IEFycmF5KCk7XG4gICAgZm9yICh2YXIgUCA9IDA7IFAgPCB3Lmxlbmd0aDsgUCsrKSB7XG4gICAgICB2YXIgVCA9IHt9O1xuICAgICAgVC5jcml0aWNhbCA9ICExO1xuICAgICAgdmFyIEggPSByKHgsIHdbUF0pLCBDID0gMDtcbiAgICAgIEgubGVuZ3RoID09PSAzICYmIChULmNyaXRpY2FsID0gITAsIEMgPSAxKSwgVC5vaWQgPSB0LmhleHRvb2lkc3RyKGgoeCwgd1tQXSwgWzBdLCBcIjA2XCIpKTtcbiAgICAgIHZhciBCID0geSh4LCB3W1BdLCBbMSArIENdKTtcbiAgICAgIFQudmlkeCA9IG8oeCwgQiksIHRoaXMuYUV4dEluZm8ucHVzaChUKTtcbiAgICB9XG4gIH0sIHRoaXMuZ2V0RXh0SW5mbyA9IGZ1bmN0aW9uKG0pIHtcbiAgICB2YXIgRSA9IHRoaXMuYUV4dEluZm8sIHcgPSBtO1xuICAgIGlmIChtLm1hdGNoKC9eWzAtOS5dKyQvKSB8fCAodyA9IGEuYXNuMS54NTA5Lk9JRC5uYW1lMm9pZChtKSksIHcgIT09IFwiXCIpIHtcbiAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgRS5sZW5ndGg7IHgrKylcbiAgICAgICAgaWYgKEVbeF0ub2lkID09PSB3KVxuICAgICAgICAgIHJldHVybiBFW3hdO1xuICAgIH1cbiAgfSwgdGhpcy5nZXRDcml0aWNhbEV4dFYgPSBmdW5jdGlvbihtLCBFLCB3KSB7XG4gICAgaWYgKEUgIT0gbnVsbClcbiAgICAgIHJldHVybiBbRSwgd107XG4gICAgdmFyIHggPSB0aGlzLmdldEV4dEluZm8obSk7XG4gICAgcmV0dXJuIHggPT0gbnVsbCA/IFtudWxsLCBudWxsXSA6IFtuKHRoaXMuaGV4LCB4LnZpZHgpLCB4LmNyaXRpY2FsXTtcbiAgfSwgdGhpcy5nZXRFeHRCYXNpY0NvbnN0cmFpbnRzID0gZnVuY3Rpb24obSwgRSkge1xuICAgIGlmIChtID09PSB2b2lkIDAgJiYgRSA9PT0gdm9pZCAwKSB7XG4gICAgICB2YXIgdyA9IHRoaXMuZ2V0RXh0SW5mbyhcImJhc2ljQ29uc3RyYWludHNcIik7XG4gICAgICBpZiAodyA9PT0gdm9pZCAwKVxuICAgICAgICByZXR1cm47XG4gICAgICBtID0gbih0aGlzLmhleCwgdy52aWR4KSwgRSA9IHcuY3JpdGljYWw7XG4gICAgfVxuICAgIHZhciB4ID0geyBleHRuYW1lOiBcImJhc2ljQ29uc3RyYWludHNcIiB9O1xuICAgIGlmIChFICYmICh4LmNyaXRpY2FsID0gITApLCBtID09PSBcIjMwMDBcIilcbiAgICAgIHJldHVybiB4O1xuICAgIGlmIChtID09PSBcIjMwMDMwMTAxZmZcIilcbiAgICAgIHJldHVybiB4LmNBID0gITAsIHg7XG4gICAgaWYgKG0uc3Vic3RyKDAsIDEyKSA9PT0gXCIzMDA2MDEwMWZmMDJcIikge1xuICAgICAgdmFyIEYgPSBpKG0sIDEwKSwgUCA9IHBhcnNlSW50KEYsIDE2KTtcbiAgICAgIHJldHVybiB4LmNBID0gITAsIHgucGF0aExlbiA9IFAsIHg7XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcihcImhFeHRWIHBhcnNlIGVycm9yOiBcIiArIG0pO1xuICB9LCB0aGlzLmdldEV4dE5hbWVDb25zdHJhaW50cyA9IGZ1bmN0aW9uKG0sIEUpIHtcbiAgICB2YXIgdyA9IHRoaXMuZ2V0Q3JpdGljYWxFeHRWKFwibmFtZUNvbnN0cmFpbnRzXCIsIG0sIEUpO1xuICAgIGlmIChtID0gd1swXSwgRSA9IHdbMV0sIG0gIT0gbnVsbCkge1xuICAgICAgdmFyIHggPSB7IGV4dG5hbWU6IFwibmFtZUNvbnN0cmFpbnRzXCIgfTtcbiAgICAgIEUgJiYgKHguY3JpdGljYWwgPSAhMCk7XG4gICAgICBmb3IgKHZhciBGID0gcihtLCAwKSwgUCA9IDA7IFAgPCBGLmxlbmd0aDsgUCsrKSB7XG4gICAgICAgIGZvciAodmFyIFQgPSBbXSwgSCA9IHIobSwgRltQXSksIEMgPSAwOyBDIDwgSC5sZW5ndGg7IEMrKykge1xuICAgICAgICAgIHZhciBCID0gbihtLCBIW0NdKSwgTyA9IHRoaXMuZ2V0R2VuZXJhbFN1YnRyZWUoQik7XG4gICAgICAgICAgVC5wdXNoKE8pO1xuICAgICAgICB9XG4gICAgICAgIHZhciBqID0gbS5zdWJzdHIoRltQXSwgMik7XG4gICAgICAgIGogPT0gXCJhMFwiID8geC5wZXJtaXQgPSBUIDogaiA9PSBcImExXCIgJiYgKHguZXhjbHVkZSA9IFQpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHg7XG4gICAgfVxuICB9LCB0aGlzLmdldEdlbmVyYWxTdWJ0cmVlID0gZnVuY3Rpb24obSkge1xuICAgIHZhciBFID0gcihtLCAwKSwgdyA9IEUubGVuZ3RoO1xuICAgIGlmICh3IDwgMSB8fCAyIDwgdylcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIndyb25nIG51bSBlbGVtZW50c1wiKTtcbiAgICBmb3IgKHZhciB4ID0gdGhpcy5nZXRHZW5lcmFsTmFtZShuKG0sIEVbMF0pKSwgRiA9IDE7IEYgPCB3OyBGKyspIHtcbiAgICAgIHZhciBQID0gbS5zdWJzdHIoRVtGXSwgMiksIFQgPSBpKG0sIEVbRl0pLCBIID0gcGFyc2VJbnQoVCwgMTYpO1xuICAgICAgUCA9PSBcIjgwXCIgJiYgKHgubWluID0gSCksIFAgPT0gXCI4MVwiICYmICh4Lm1heCA9IEgpO1xuICAgIH1cbiAgICByZXR1cm4geDtcbiAgfSwgdGhpcy5nZXRFeHRLZXlVc2FnZSA9IGZ1bmN0aW9uKG0sIEUpIHtcbiAgICB2YXIgdyA9IHRoaXMuZ2V0Q3JpdGljYWxFeHRWKFwia2V5VXNhZ2VcIiwgbSwgRSk7XG4gICAgaWYgKG0gPSB3WzBdLCBFID0gd1sxXSwgbSAhPSBudWxsKSB7XG4gICAgICB2YXIgeCA9IHsgZXh0bmFtZTogXCJrZXlVc2FnZVwiIH07XG4gICAgICByZXR1cm4gRSAmJiAoeC5jcml0aWNhbCA9ICEwKSwgeC5uYW1lcyA9IHRoaXMuZ2V0RXh0S2V5VXNhZ2VTdHJpbmcobSkuc3BsaXQoXCIsXCIpLCB4O1xuICAgIH1cbiAgfSwgdGhpcy5nZXRFeHRLZXlVc2FnZUJpbiA9IGZ1bmN0aW9uKG0pIHtcbiAgICBpZiAobSA9PT0gdm9pZCAwKSB7XG4gICAgICB2YXIgRSA9IHRoaXMuZ2V0RXh0SW5mbyhcImtleVVzYWdlXCIpO1xuICAgICAgaWYgKEUgPT09IHZvaWQgMClcbiAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgICBtID0gbih0aGlzLmhleCwgRS52aWR4KTtcbiAgICB9XG4gICAgaWYgKG0ubGVuZ3RoICE9IDggJiYgbS5sZW5ndGggIT0gMTApXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJtYWxmb3JtZWQga2V5IHVzYWdlIHZhbHVlOiBcIiArIG0pO1xuICAgIHZhciB3ID0gXCIwMDAwMDAwMDAwMDAwMDBcIiArIHBhcnNlSW50KG0uc3Vic3RyKDYpLCAxNikudG9TdHJpbmcoMik7XG4gICAgcmV0dXJuIG0ubGVuZ3RoID09IDggJiYgKHcgPSB3LnNsaWNlKC04KSksIG0ubGVuZ3RoID09IDEwICYmICh3ID0gdy5zbGljZSgtMTYpKSwgdyA9IHcucmVwbGFjZSgvMCskLywgXCJcIiksIHcgPT0gXCJcIiAmJiAodyA9IFwiMFwiKSwgdztcbiAgfSwgdGhpcy5nZXRFeHRLZXlVc2FnZVN0cmluZyA9IGZ1bmN0aW9uKG0pIHtcbiAgICBmb3IgKHZhciBFID0gdGhpcy5nZXRFeHRLZXlVc2FnZUJpbihtKSwgdyA9IG5ldyBBcnJheSgpLCB4ID0gMDsgeCA8IEUubGVuZ3RoOyB4KyspXG4gICAgICBFLnN1YnN0cih4LCAxKSA9PSBcIjFcIiAmJiB3LnB1c2goTC5LRVlVU0FHRV9OQU1FW3hdKTtcbiAgICByZXR1cm4gdy5qb2luKFwiLFwiKTtcbiAgfSwgdGhpcy5nZXRFeHRTdWJqZWN0S2V5SWRlbnRpZmllciA9IGZ1bmN0aW9uKG0sIEUpIHtcbiAgICBpZiAobSA9PT0gdm9pZCAwICYmIEUgPT09IHZvaWQgMCkge1xuICAgICAgdmFyIHcgPSB0aGlzLmdldEV4dEluZm8oXCJzdWJqZWN0S2V5SWRlbnRpZmllclwiKTtcbiAgICAgIGlmICh3ID09PSB2b2lkIDApXG4gICAgICAgIHJldHVybjtcbiAgICAgIG0gPSBuKHRoaXMuaGV4LCB3LnZpZHgpLCBFID0gdy5jcml0aWNhbDtcbiAgICB9XG4gICAgdmFyIHggPSB7IGV4dG5hbWU6IFwic3ViamVjdEtleUlkZW50aWZpZXJcIiB9O1xuICAgIEUgJiYgKHguY3JpdGljYWwgPSAhMCk7XG4gICAgdmFyIEYgPSBpKG0sIDApO1xuICAgIHJldHVybiB4LmtpZCA9IHsgaGV4OiBGIH0sIHg7XG4gIH0sIHRoaXMuZ2V0RXh0QXV0aG9yaXR5S2V5SWRlbnRpZmllciA9IGZ1bmN0aW9uKG0sIEUpIHtcbiAgICBpZiAobSA9PT0gdm9pZCAwICYmIEUgPT09IHZvaWQgMCkge1xuICAgICAgdmFyIHcgPSB0aGlzLmdldEV4dEluZm8oXCJhdXRob3JpdHlLZXlJZGVudGlmaWVyXCIpO1xuICAgICAgaWYgKHcgPT09IHZvaWQgMClcbiAgICAgICAgcmV0dXJuO1xuICAgICAgbSA9IG4odGhpcy5oZXgsIHcudmlkeCksIEUgPSB3LmNyaXRpY2FsO1xuICAgIH1cbiAgICB2YXIgeCA9IHsgZXh0bmFtZTogXCJhdXRob3JpdHlLZXlJZGVudGlmaWVyXCIgfTtcbiAgICBFICYmICh4LmNyaXRpY2FsID0gITApO1xuICAgIGZvciAodmFyIEYgPSByKG0sIDApLCBQID0gMDsgUCA8IEYubGVuZ3RoOyBQKyspIHtcbiAgICAgIHZhciBUID0gbS5zdWJzdHIoRltQXSwgMik7XG4gICAgICBpZiAoVCA9PT0gXCI4MFwiICYmICh4LmtpZCA9IHsgaGV4OiBpKG0sIEZbUF0pIH0pLCBUID09PSBcImExXCIpIHtcbiAgICAgICAgdmFyIEggPSBuKG0sIEZbUF0pLCBDID0gdGhpcy5nZXRHZW5lcmFsTmFtZXMoSCk7XG4gICAgICAgIHguaXNzdWVyID0gQ1swXS5kbjtcbiAgICAgIH1cbiAgICAgIFQgPT09IFwiODJcIiAmJiAoeC5zbiA9IHsgaGV4OiBpKG0sIEZbUF0pIH0pO1xuICAgIH1cbiAgICByZXR1cm4geDtcbiAgfSwgdGhpcy5nZXRFeHRFeHRLZXlVc2FnZSA9IGZ1bmN0aW9uKG0sIEUpIHtcbiAgICBpZiAobSA9PT0gdm9pZCAwICYmIEUgPT09IHZvaWQgMCkge1xuICAgICAgdmFyIHcgPSB0aGlzLmdldEV4dEluZm8oXCJleHRLZXlVc2FnZVwiKTtcbiAgICAgIGlmICh3ID09PSB2b2lkIDApXG4gICAgICAgIHJldHVybjtcbiAgICAgIG0gPSBuKHRoaXMuaGV4LCB3LnZpZHgpLCBFID0gdy5jcml0aWNhbDtcbiAgICB9XG4gICAgdmFyIHggPSB7IGV4dG5hbWU6IFwiZXh0S2V5VXNhZ2VcIiwgYXJyYXk6IFtdIH07XG4gICAgRSAmJiAoeC5jcml0aWNhbCA9ICEwKTtcbiAgICBmb3IgKHZhciBGID0gcihtLCAwKSwgUCA9IDA7IFAgPCBGLmxlbmd0aDsgUCsrKVxuICAgICAgeC5hcnJheS5wdXNoKGYoaShtLCBGW1BdKSkpO1xuICAgIHJldHVybiB4O1xuICB9LCB0aGlzLmdldEV4dEV4dEtleVVzYWdlTmFtZSA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBtID0gdGhpcy5nZXRFeHRJbmZvKFwiZXh0S2V5VXNhZ2VcIik7XG4gICAgaWYgKG0gPT09IHZvaWQgMClcbiAgICAgIHJldHVybiBtO1xuICAgIHZhciBFID0gbmV3IEFycmF5KCksIHcgPSBuKHRoaXMuaGV4LCBtLnZpZHgpO1xuICAgIGlmICh3ID09PSBcIlwiKVxuICAgICAgcmV0dXJuIEU7XG4gICAgZm9yICh2YXIgeCA9IHIodywgMCksIEYgPSAwOyBGIDwgeC5sZW5ndGg7IEYrKylcbiAgICAgIEUucHVzaChmKGkodywgeFtGXSkpKTtcbiAgICByZXR1cm4gRTtcbiAgfSwgdGhpcy5nZXRFeHRTdWJqZWN0QWx0TmFtZSA9IGZ1bmN0aW9uKG0sIEUpIHtcbiAgICBpZiAobSA9PT0gdm9pZCAwICYmIEUgPT09IHZvaWQgMCkge1xuICAgICAgdmFyIHcgPSB0aGlzLmdldEV4dEluZm8oXCJzdWJqZWN0QWx0TmFtZVwiKTtcbiAgICAgIGlmICh3ID09PSB2b2lkIDApXG4gICAgICAgIHJldHVybjtcbiAgICAgIG0gPSBuKHRoaXMuaGV4LCB3LnZpZHgpLCBFID0gdy5jcml0aWNhbDtcbiAgICB9XG4gICAgdmFyIHggPSB7IGV4dG5hbWU6IFwic3ViamVjdEFsdE5hbWVcIiwgYXJyYXk6IFtdIH07XG4gICAgcmV0dXJuIEUgJiYgKHguY3JpdGljYWwgPSAhMCksIHguYXJyYXkgPSB0aGlzLmdldEdlbmVyYWxOYW1lcyhtKSwgeDtcbiAgfSwgdGhpcy5nZXRFeHRJc3N1ZXJBbHROYW1lID0gZnVuY3Rpb24obSwgRSkge1xuICAgIGlmIChtID09PSB2b2lkIDAgJiYgRSA9PT0gdm9pZCAwKSB7XG4gICAgICB2YXIgdyA9IHRoaXMuZ2V0RXh0SW5mbyhcImlzc3VlckFsdE5hbWVcIik7XG4gICAgICBpZiAodyA9PT0gdm9pZCAwKVxuICAgICAgICByZXR1cm47XG4gICAgICBtID0gbih0aGlzLmhleCwgdy52aWR4KSwgRSA9IHcuY3JpdGljYWw7XG4gICAgfVxuICAgIHZhciB4ID0geyBleHRuYW1lOiBcImlzc3VlckFsdE5hbWVcIiwgYXJyYXk6IFtdIH07XG4gICAgcmV0dXJuIEUgJiYgKHguY3JpdGljYWwgPSAhMCksIHguYXJyYXkgPSB0aGlzLmdldEdlbmVyYWxOYW1lcyhtKSwgeDtcbiAgfSwgdGhpcy5nZXRHZW5lcmFsTmFtZXMgPSBmdW5jdGlvbihtKSB7XG4gICAgZm9yICh2YXIgRSA9IHIobSwgMCksIHcgPSBbXSwgeCA9IDA7IHggPCBFLmxlbmd0aDsgeCsrKSB7XG4gICAgICB2YXIgRiA9IHRoaXMuZ2V0R2VuZXJhbE5hbWUobihtLCBFW3hdKSk7XG4gICAgICBGICE9PSB2b2lkIDAgJiYgdy5wdXNoKEYpO1xuICAgIH1cbiAgICByZXR1cm4gdztcbiAgfSwgdGhpcy5nZXRHZW5lcmFsTmFtZSA9IGZ1bmN0aW9uKG0pIHtcbiAgICB2YXIgRSA9IG0uc3Vic3RyKDAsIDIpLCB3ID0gaShtLCAwKSwgeCA9IEFlKHcpO1xuICAgIGlmIChFID09IFwiODFcIilcbiAgICAgIHJldHVybiB7IHJmYzgyMjogeCB9O1xuICAgIGlmIChFID09IFwiODJcIilcbiAgICAgIHJldHVybiB7IGRuczogeCB9O1xuICAgIGlmIChFID09IFwiODZcIilcbiAgICAgIHJldHVybiB7IHVyaTogeCB9O1xuICAgIGlmIChFID09IFwiODdcIilcbiAgICAgIHJldHVybiB7IGlwOiB0dCh3KSB9O1xuICAgIGlmIChFID09IFwiYTRcIilcbiAgICAgIHJldHVybiB7IGRuOiB0aGlzLmdldFg1MDBOYW1lKHcpIH07XG4gICAgaWYgKEUgPT0gXCJhMFwiKVxuICAgICAgcmV0dXJuIHsgb3RoZXI6IHRoaXMuZ2V0T3RoZXJOYW1lKG0pIH07XG4gIH0sIHRoaXMuZ2V0RXh0U3ViamVjdEFsdE5hbWUyID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIG0sIEUsIHcsIHggPSB0aGlzLmdldEV4dEluZm8oXCJzdWJqZWN0QWx0TmFtZVwiKTtcbiAgICBpZiAoeCA9PT0gdm9pZCAwKVxuICAgICAgcmV0dXJuIHg7XG4gICAgZm9yICh2YXIgRiA9IG5ldyBBcnJheSgpLCBQID0gbih0aGlzLmhleCwgeC52aWR4KSwgVCA9IHIoUCwgMCksIEggPSAwOyBIIDwgVC5sZW5ndGg7IEgrKylcbiAgICAgIHcgPSBQLnN1YnN0cihUW0hdLCAyKSwgbSA9IGkoUCwgVFtIXSksIHcgPT09IFwiODFcIiAmJiAoRSA9IFcobSksIEYucHVzaChbXCJNQUlMXCIsIEVdKSksIHcgPT09IFwiODJcIiAmJiAoRSA9IFcobSksIEYucHVzaChbXCJETlNcIiwgRV0pKSwgdyA9PT0gXCI4NFwiICYmIChFID0gTC5oZXgyZG4obSwgMCksIEYucHVzaChbXCJETlwiLCBFXSkpLCB3ID09PSBcIjg2XCIgJiYgKEUgPSBXKG0pLCBGLnB1c2goW1wiVVJJXCIsIEVdKSksIHcgPT09IFwiODdcIiAmJiAoRSA9IHR0KG0pLCBGLnB1c2goW1wiSVBcIiwgRV0pKTtcbiAgICByZXR1cm4gRjtcbiAgfSwgdGhpcy5nZXRFeHRDUkxEaXN0cmlidXRpb25Qb2ludHMgPSBmdW5jdGlvbihtLCBFKSB7XG4gICAgaWYgKG0gPT09IHZvaWQgMCAmJiBFID09PSB2b2lkIDApIHtcbiAgICAgIHZhciB3ID0gdGhpcy5nZXRFeHRJbmZvKFwiY1JMRGlzdHJpYnV0aW9uUG9pbnRzXCIpO1xuICAgICAgaWYgKHcgPT09IHZvaWQgMClcbiAgICAgICAgcmV0dXJuO1xuICAgICAgbSA9IG4odGhpcy5oZXgsIHcudmlkeCksIEUgPSB3LmNyaXRpY2FsO1xuICAgIH1cbiAgICB2YXIgeCA9IHsgZXh0bmFtZTogXCJjUkxEaXN0cmlidXRpb25Qb2ludHNcIiwgYXJyYXk6IFtdIH07XG4gICAgRSAmJiAoeC5jcml0aWNhbCA9ICEwKTtcbiAgICBmb3IgKHZhciBGID0gcihtLCAwKSwgUCA9IDA7IFAgPCBGLmxlbmd0aDsgUCsrKSB7XG4gICAgICB2YXIgVCA9IG4obSwgRltQXSk7XG4gICAgICB4LmFycmF5LnB1c2godGhpcy5nZXREaXN0cmlidXRpb25Qb2ludChUKSk7XG4gICAgfVxuICAgIHJldHVybiB4O1xuICB9LCB0aGlzLmdldERpc3RyaWJ1dGlvblBvaW50ID0gZnVuY3Rpb24obSkge1xuICAgIGZvciAodmFyIEUgPSB7fSwgdyA9IHIobSwgMCksIHggPSAwOyB4IDwgdy5sZW5ndGg7IHgrKykge1xuICAgICAgdmFyIEYgPSBtLnN1YnN0cih3W3hdLCAyKSwgUCA9IG4obSwgd1t4XSk7XG4gICAgICBGID09IFwiYTBcIiAmJiAoRS5kcG5hbWUgPSB0aGlzLmdldERpc3RyaWJ1dGlvblBvaW50TmFtZShQKSk7XG4gICAgfVxuICAgIHJldHVybiBFO1xuICB9LCB0aGlzLmdldERpc3RyaWJ1dGlvblBvaW50TmFtZSA9IGZ1bmN0aW9uKG0pIHtcbiAgICBmb3IgKHZhciBFID0ge30sIHcgPSByKG0sIDApLCB4ID0gMDsgeCA8IHcubGVuZ3RoOyB4KyspIHtcbiAgICAgIHZhciBGID0gbS5zdWJzdHIod1t4XSwgMiksIFAgPSBuKG0sIHdbeF0pO1xuICAgICAgRiA9PSBcImEwXCIgJiYgKEUuZnVsbCA9IHRoaXMuZ2V0R2VuZXJhbE5hbWVzKFApKTtcbiAgICB9XG4gICAgcmV0dXJuIEU7XG4gIH0sIHRoaXMuZ2V0RXh0Q1JMRGlzdHJpYnV0aW9uUG9pbnRzVVJJID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIG0gPSB0aGlzLmdldEV4dENSTERpc3RyaWJ1dGlvblBvaW50cygpO1xuICAgIGlmIChtID09IG51bGwpXG4gICAgICByZXR1cm4gbTtcbiAgICBmb3IgKHZhciBFID0gbS5hcnJheSwgdyA9IFtdLCB4ID0gMDsgeCA8IEUubGVuZ3RoOyB4KyspXG4gICAgICB0cnkge1xuICAgICAgICBFW3hdLmRwbmFtZS5mdWxsWzBdLnVyaSAhPSBudWxsICYmIHcucHVzaChFW3hdLmRwbmFtZS5mdWxsWzBdLnVyaSk7XG4gICAgICB9IGNhdGNoIHtcbiAgICAgIH1cbiAgICByZXR1cm4gdztcbiAgfSwgdGhpcy5nZXRFeHRBSUFJbmZvID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIG0gPSB0aGlzLmdldEV4dEluZm8oXCJhdXRob3JpdHlJbmZvQWNjZXNzXCIpO1xuICAgIGlmIChtID09PSB2b2lkIDApXG4gICAgICByZXR1cm4gbTtcbiAgICBmb3IgKHZhciBFID0geyBvY3NwOiBbXSwgY2Fpc3N1ZXI6IFtdIH0sIHcgPSByKHRoaXMuaGV4LCBtLnZpZHgpLCB4ID0gMDsgeCA8IHcubGVuZ3RoOyB4KyspIHtcbiAgICAgIHZhciBGID0gaCh0aGlzLmhleCwgd1t4XSwgWzBdLCBcIjA2XCIpLCBQID0gaCh0aGlzLmhleCwgd1t4XSwgWzFdLCBcIjg2XCIpO1xuICAgICAgRiA9PT0gXCIyYjA2MDEwNTA1MDczMDAxXCIgJiYgRS5vY3NwLnB1c2goVyhQKSksIEYgPT09IFwiMmIwNjAxMDUwNTA3MzAwMlwiICYmIEUuY2Fpc3N1ZXIucHVzaChXKFApKTtcbiAgICB9XG4gICAgcmV0dXJuIEU7XG4gIH0sIHRoaXMuZ2V0RXh0QXV0aG9yaXR5SW5mb0FjY2VzcyA9IGZ1bmN0aW9uKG0sIEUpIHtcbiAgICBpZiAobSA9PT0gdm9pZCAwICYmIEUgPT09IHZvaWQgMCkge1xuICAgICAgdmFyIHcgPSB0aGlzLmdldEV4dEluZm8oXCJhdXRob3JpdHlJbmZvQWNjZXNzXCIpO1xuICAgICAgaWYgKHcgPT09IHZvaWQgMClcbiAgICAgICAgcmV0dXJuO1xuICAgICAgbSA9IG4odGhpcy5oZXgsIHcudmlkeCksIEUgPSB3LmNyaXRpY2FsO1xuICAgIH1cbiAgICB2YXIgeCA9IHsgZXh0bmFtZTogXCJhdXRob3JpdHlJbmZvQWNjZXNzXCIsIGFycmF5OiBbXSB9O1xuICAgIEUgJiYgKHguY3JpdGljYWwgPSAhMCk7XG4gICAgZm9yICh2YXIgRiA9IHIobSwgMCksIFAgPSAwOyBQIDwgRi5sZW5ndGg7IFArKykge1xuICAgICAgdmFyIFQgPSB1KG0sIEZbUF0sIFswXSwgXCIwNlwiKSwgSCA9IGgobSwgRltQXSwgWzFdLCBcIjg2XCIpLCBDID0gVyhIKTtcbiAgICAgIGlmIChUID09IFwiMmIwNjAxMDUwNTA3MzAwMVwiKVxuICAgICAgICB4LmFycmF5LnB1c2goeyBvY3NwOiBDIH0pO1xuICAgICAgZWxzZSBpZiAoVCA9PSBcIjJiMDYwMTA1MDUwNzMwMDJcIilcbiAgICAgICAgeC5hcnJheS5wdXNoKHsgY2Fpc3N1ZXI6IEMgfSk7XG4gICAgICBlbHNlXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcInVua25vd24gbWV0aG9kOiBcIiArIFQpO1xuICAgIH1cbiAgICByZXR1cm4geDtcbiAgfSwgdGhpcy5nZXRFeHRDZXJ0aWZpY2F0ZVBvbGljaWVzID0gZnVuY3Rpb24obSwgRSkge1xuICAgIGlmIChtID09PSB2b2lkIDAgJiYgRSA9PT0gdm9pZCAwKSB7XG4gICAgICB2YXIgdyA9IHRoaXMuZ2V0RXh0SW5mbyhcImNlcnRpZmljYXRlUG9saWNpZXNcIik7XG4gICAgICBpZiAodyA9PT0gdm9pZCAwKVxuICAgICAgICByZXR1cm47XG4gICAgICBtID0gbih0aGlzLmhleCwgdy52aWR4KSwgRSA9IHcuY3JpdGljYWw7XG4gICAgfVxuICAgIHZhciB4ID0geyBleHRuYW1lOiBcImNlcnRpZmljYXRlUG9saWNpZXNcIiwgYXJyYXk6IFtdIH07XG4gICAgRSAmJiAoeC5jcml0aWNhbCA9ICEwKTtcbiAgICBmb3IgKHZhciBGID0gcihtLCAwKSwgUCA9IDA7IFAgPCBGLmxlbmd0aDsgUCsrKSB7XG4gICAgICB2YXIgVCA9IG4obSwgRltQXSksIEggPSB0aGlzLmdldFBvbGljeUluZm9ybWF0aW9uKFQpO1xuICAgICAgeC5hcnJheS5wdXNoKEgpO1xuICAgIH1cbiAgICByZXR1cm4geDtcbiAgfSwgdGhpcy5nZXRQb2xpY3lJbmZvcm1hdGlvbiA9IGZ1bmN0aW9uKG0pIHtcbiAgICB2YXIgRSA9IHt9LCB3ID0gaChtLCAwLCBbMF0sIFwiMDZcIik7XG4gICAgRS5wb2xpY3lvaWQgPSBmKHcpO1xuICAgIHZhciB4ID0gdihtLCAwLCBbMV0sIFwiMzBcIik7XG4gICAgaWYgKHggIT0gLTEpIHtcbiAgICAgIEUuYXJyYXkgPSBbXTtcbiAgICAgIGZvciAodmFyIEYgPSByKG0sIHgpLCBQID0gMDsgUCA8IEYubGVuZ3RoOyBQKyspIHtcbiAgICAgICAgdmFyIFQgPSBuKG0sIEZbUF0pLCBIID0gdGhpcy5nZXRQb2xpY3lRdWFsaWZpZXJJbmZvKFQpO1xuICAgICAgICBFLmFycmF5LnB1c2goSCk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBFO1xuICB9LCB0aGlzLmdldE90aGVyTmFtZSA9IGZ1bmN0aW9uKG0pIHtcbiAgICB2YXIgRSA9IHt9LCB3ID0gcihtLCAwKSwgeCA9IGgobSwgd1swXSwgW10sIFwiMDZcIiksIEYgPSBoKG0sIHdbMV0sIFtdKTtcbiAgICByZXR1cm4gRS5vaWQgPSBmKHgpLCBFLnZhbHVlID0gcyhGKSwgRTtcbiAgfSwgdGhpcy5nZXRQb2xpY3lRdWFsaWZpZXJJbmZvID0gZnVuY3Rpb24obSkge1xuICAgIHZhciBFID0ge30sIHcgPSBoKG0sIDAsIFswXSwgXCIwNlwiKTtcbiAgICBpZiAodyA9PT0gXCIyYjA2MDEwNTA1MDcwMjAxXCIpIHtcbiAgICAgIHZhciB4ID0gdShtLCAwLCBbMV0sIFwiMTZcIik7XG4gICAgICBFLmNwcyA9IEFlKHgpO1xuICAgIH0gZWxzZSBpZiAodyA9PT0gXCIyYjA2MDEwNTA1MDcwMjAyXCIpIHtcbiAgICAgIHZhciBGID0gcChtLCAwLCBbMV0sIFwiMzBcIik7XG4gICAgICBFLnVub3RpY2UgPSB0aGlzLmdldFVzZXJOb3RpY2UoRik7XG4gICAgfVxuICAgIHJldHVybiBFO1xuICB9LCB0aGlzLmdldFVzZXJOb3RpY2UgPSBmdW5jdGlvbihtKSB7XG4gICAgdmFyIEUgPSBudWxsO1xuICAgIHRyeSB7XG4gICAgICBFID0gdC5wYXJzZShtKTtcbiAgICAgIHZhciB3ID0gdGhpcy5fYXNuMVRvVW5vdGljZShFKTtcbiAgICAgIHJldHVybiB3O1xuICAgIH0gY2F0Y2gge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfSwgdGhpcy5fYXNuMVRvVW5vdGljZSA9IGZ1bmN0aW9uKG0pIHtcbiAgICB0cnkge1xuICAgICAgZm9yICh2YXIgRSA9IHt9LCB3ID0gSihtLCBcInNlcVwiKSwgeCA9IDA7IHggPCB3Lmxlbmd0aDsgeCsrKSB7XG4gICAgICAgIHZhciBGID0gdGhpcy5fYXNuMVRvTm90aWNlUmVmKHdbeF0pO1xuICAgICAgICBGICE9IG51bGwgJiYgKEUubm90aWNlcmVmID0gRik7XG4gICAgICAgIHZhciBQID0gdGhpcy5hc24xVG9EaXNwbGF5VGV4dCh3W3hdKTtcbiAgICAgICAgUCAhPSBudWxsICYmIChFLmV4cHRleHQgPSBQKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBPYmplY3Qua2V5cyhFKS5sZW5ndGggPiAwID8gRSA6IHZvaWQgMDtcbiAgICB9IGNhdGNoIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH0sIHRoaXMuX2FzbjFUb05vdGljZVJlZiA9IGZ1bmN0aW9uKG0pIHtcbiAgICB0cnkge1xuICAgICAgZm9yICh2YXIgRSA9IHt9LCB3ID0gSihtLCBcInNlcVwiKSwgeCA9IDA7IHggPCB3Lmxlbmd0aDsgeCsrKSB7XG4gICAgICAgIHZhciBGID0gdGhpcy5fYXNuMVRvTm90aWNlTnVtKHdbeF0pO1xuICAgICAgICBGICE9IG51bGwgJiYgKEUubm90aWNlbnVtID0gRik7XG4gICAgICAgIHZhciBQID0gdGhpcy5hc24xVG9EaXNwbGF5VGV4dCh3W3hdKTtcbiAgICAgICAgUCAhPSBudWxsICYmIChFLm9yZyA9IFApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKEUpLmxlbmd0aCA+IDAgPyBFIDogdm9pZCAwO1xuICAgIH0gY2F0Y2gge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfSwgdGhpcy5fYXNuMVRvTm90aWNlTnVtID0gZnVuY3Rpb24obSkge1xuICAgIHRyeSB7XG4gICAgICBmb3IgKHZhciBFID0gSihtLCBcInNlcVwiKSwgdyA9IFtdLCB4ID0gMDsgeCA8IEUubGVuZ3RoOyB4KyspIHtcbiAgICAgICAgdmFyIEYgPSBFW3hdO1xuICAgICAgICB3LnB1c2gocGFyc2VJbnQoSihGLCBcImludC5oZXhcIiksIDE2KSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdztcbiAgICB9IGNhdGNoIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH0sIHRoaXMuZ2V0RGlzcGxheVRleHQgPSBmdW5jdGlvbihtKSB7XG4gICAgdmFyIEUgPSB7IFwiMGNcIjogXCJ1dGY4XCIsIDE2OiBcImlhNVwiLCBcIjFhXCI6IFwidmlzXCIsIFwiMWVcIjogXCJibXBcIiB9LCB3ID0ge307XG4gICAgcmV0dXJuIHcudHlwZSA9IEVbbS5zdWJzdHIoMCwgMildLCB3LnN0ciA9IEFlKGkobSwgMCkpLCB3O1xuICB9LCB0aGlzLmFzbjFUb0Rpc3BsYXlUZXh0ID0gZnVuY3Rpb24obSkge1xuICAgIGlmIChtLnV0ZjhzdHIgIT0gbnVsbClcbiAgICAgIHJldHVybiB7IHR5cGU6IFwidXRmOFwiLCBzdHI6IG0udXRmOHN0ci5zdHIgfTtcbiAgICBpZiAobS5pYTVzdHIgIT0gbnVsbClcbiAgICAgIHJldHVybiB7IHR5cGU6IFwiaWE1XCIsIHN0cjogbS5pYTVzdHIuc3RyIH07XG4gICAgaWYgKG0udmlzc3RyICE9IG51bGwpXG4gICAgICByZXR1cm4geyB0eXBlOiBcInZpc1wiLCBzdHI6IG0udmlzc3RyLnN0ciB9O1xuICAgIGlmIChtLmJtcHN0ciAhPSBudWxsKVxuICAgICAgcmV0dXJuIHsgdHlwZTogXCJibXBcIiwgc3RyOiBtLmJtcHN0ci5zdHIgfTtcbiAgICBpZiAobS5wcm5zdHIgIT0gbnVsbClcbiAgICAgIHJldHVybiB7IHR5cGU6IFwicHJuXCIsIHN0cjogbS5wcm5zdHIuc3RyIH07XG4gIH0sIHRoaXMuZ2V0RXh0UG9saWN5TWFwcGluZ3MgPSBmdW5jdGlvbihtLCBFKSB7XG4gICAgdmFyIHcgPSB0aGlzLmdldENyaXRpY2FsRXh0VihcInBvbGljeU1hcHBpbmdzXCIsIG0sIEUpO1xuICAgIGlmIChtID0gd1swXSwgRSA9IHdbMV0sIG0gIT0gbnVsbCkge1xuICAgICAgdmFyIHggPSB7IGV4dG5hbWU6IFwicG9saWN5TWFwcGluZ3NcIiB9O1xuICAgICAgRSAmJiAoeC5jcml0aWNhbCA9ICEwKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGZvciAodmFyIEYgPSBzKG0pLCBQID0gRi5zZXEsIFQgPSBbXSwgSCA9IDA7IEggPCBQLmxlbmd0aDsgSCsrKSB7XG4gICAgICAgICAgdmFyIEMgPSBQW0hdLnNlcTtcbiAgICAgICAgICBULnB1c2goW0NbMF0ub2lkLCBDWzFdLm9pZF0pO1xuICAgICAgICB9XG4gICAgICAgIHguYXJyYXkgPSBUO1xuICAgICAgfSBjYXRjaCB7XG4gICAgICAgIHRocm93IG5ldyBiKFwibWFsZm9ybWVkIHBvbGljeU1hcHBpbmdzXCIpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHg7XG4gICAgfVxuICB9LCB0aGlzLmdldEV4dFBvbGljeUNvbnN0cmFpbnRzID0gZnVuY3Rpb24obSwgRSkge1xuICAgIHZhciB3ID0gdGhpcy5nZXRDcml0aWNhbEV4dFYoXCJwb2xpY3lDb25zdHJhaW50c1wiLCBtLCBFKTtcbiAgICBpZiAobSA9IHdbMF0sIEUgPSB3WzFdLCBtICE9IG51bGwpIHtcbiAgICAgIHZhciB4ID0geyBleHRuYW1lOiBcInBvbGljeUNvbnN0cmFpbnRzXCIgfTtcbiAgICAgIEUgJiYgKHguY3JpdGljYWwgPSAhMCk7XG4gICAgICB2YXIgRiA9IHMobSk7XG4gICAgICB0cnkge1xuICAgICAgICBmb3IgKHZhciBQID0gRi5zZXEsIFQgPSAwOyBUIDwgUC5sZW5ndGg7IFQrKykge1xuICAgICAgICAgIHZhciBIID0gUFtUXS50YWc7XG4gICAgICAgICAgSC5leHBsaWNpdCA9PSAhMSAmJiAoSC50YWcgPT0gXCI4MFwiICYmICh4LnJlcWV4cCA9IHBhcnNlSW50KEguaGV4LCAxNikpLCBILnRhZyA9PSBcIjgxXCIgJiYgKHguaW5oaWJpdCA9IHBhcnNlSW50KEguaGV4LCAxNikpKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCB7XG4gICAgICAgIHJldHVybiBuZXcgYihcIm1hbGZvcm1lZCBwb2xpY3lDb25zdHJhaW50cyB2YWx1ZVwiKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB4O1xuICAgIH1cbiAgfSwgdGhpcy5nZXRFeHRJbmhpYml0QW55UG9saWN5ID0gZnVuY3Rpb24obSwgRSkge1xuICAgIHZhciB3ID0gdGhpcy5nZXRDcml0aWNhbEV4dFYoXCJpbmhpYml0QW55UG9saWN5XCIsIG0sIEUpO1xuICAgIGlmIChtID0gd1swXSwgRSA9IHdbMV0sIG0gIT0gbnVsbCkge1xuICAgICAgdmFyIHggPSB7IGV4dG5hbWU6IFwiaW5oaWJpdEFueVBvbGljeVwiIH07XG4gICAgICBFICYmICh4LmNyaXRpY2FsID0gITApO1xuICAgICAgdmFyIEYgPSBsKG0sIDApO1xuICAgICAgcmV0dXJuIEYgPT0gLTEgPyBuZXcgYihcIndyb25nIHZhbHVlXCIpIDogKHguc2tpcCA9IEYsIHgpO1xuICAgIH1cbiAgfSwgdGhpcy5nZXRFeHRDUkxOdW1iZXIgPSBmdW5jdGlvbihtLCBFKSB7XG4gICAgdmFyIHcgPSB7IGV4dG5hbWU6IFwiY1JMTnVtYmVyXCIgfTtcbiAgICBpZiAoRSAmJiAody5jcml0aWNhbCA9ICEwKSwgbS5zdWJzdHIoMCwgMikgPT0gXCIwMlwiKVxuICAgICAgcmV0dXJuIHcubnVtID0geyBoZXg6IGkobSwgMCkgfSwgdztcbiAgICB0aHJvdyBuZXcgYihcImhFeHRWIHBhcnNlIGVycm9yOiBcIiArIG0pO1xuICB9LCB0aGlzLmdldEV4dENSTFJlYXNvbiA9IGZ1bmN0aW9uKG0sIEUpIHtcbiAgICB2YXIgdyA9IHsgZXh0bmFtZTogXCJjUkxSZWFzb25cIiB9O1xuICAgIGlmIChFICYmICh3LmNyaXRpY2FsID0gITApLCBtLnN1YnN0cigwLCAyKSA9PSBcIjBhXCIpXG4gICAgICByZXR1cm4gdy5jb2RlID0gcGFyc2VJbnQoaShtLCAwKSwgMTYpLCB3O1xuICAgIHRocm93IG5ldyBFcnJvcihcImhFeHRWIHBhcnNlIGVycm9yOiBcIiArIG0pO1xuICB9LCB0aGlzLmdldEV4dE9jc3BOb25jZSA9IGZ1bmN0aW9uKG0sIEUpIHtcbiAgICB2YXIgdyA9IHsgZXh0bmFtZTogXCJvY3NwTm9uY2VcIiB9O1xuICAgIEUgJiYgKHcuY3JpdGljYWwgPSAhMCk7XG4gICAgdmFyIHggPSBpKG0sIDApO1xuICAgIHJldHVybiB3LmhleCA9IHgsIHc7XG4gIH0sIHRoaXMuZ2V0RXh0T2NzcE5vQ2hlY2sgPSBmdW5jdGlvbihtLCBFKSB7XG4gICAgdmFyIHcgPSB7IGV4dG5hbWU6IFwib2NzcE5vQ2hlY2tcIiB9O1xuICAgIHJldHVybiBFICYmICh3LmNyaXRpY2FsID0gITApLCB3O1xuICB9LCB0aGlzLmdldEV4dEFkb2JlVGltZVN0YW1wID0gZnVuY3Rpb24obSwgRSkge1xuICAgIGlmIChtID09PSB2b2lkIDAgJiYgRSA9PT0gdm9pZCAwKSB7XG4gICAgICB2YXIgdyA9IHRoaXMuZ2V0RXh0SW5mbyhcImFkb2JlVGltZVN0YW1wXCIpO1xuICAgICAgaWYgKHcgPT09IHZvaWQgMClcbiAgICAgICAgcmV0dXJuO1xuICAgICAgbSA9IG4odGhpcy5oZXgsIHcudmlkeCksIEUgPSB3LmNyaXRpY2FsO1xuICAgIH1cbiAgICB2YXIgeCA9IHsgZXh0bmFtZTogXCJhZG9iZVRpbWVTdGFtcFwiIH07XG4gICAgRSAmJiAoeC5jcml0aWNhbCA9ICEwKTtcbiAgICB2YXIgRiA9IHIobSwgMCk7XG4gICAgaWYgKEYubGVuZ3RoID4gMSkge1xuICAgICAgdmFyIFAgPSBuKG0sIEZbMV0pLCBUID0gdGhpcy5nZXRHZW5lcmFsTmFtZShQKTtcbiAgICAgIFQudXJpICE9IG51bGwgJiYgKHgudXJpID0gVC51cmkpO1xuICAgIH1cbiAgICBpZiAoRi5sZW5ndGggPiAyKSB7XG4gICAgICB2YXIgSCA9IG4obSwgRlsyXSk7XG4gICAgICBIID09IFwiMDEwMWZmXCIgJiYgKHgucmVxYXV0aCA9ICEwKSwgSCA9PSBcIjAxMDEwMFwiICYmICh4LnJlcWF1dGggPSAhMSk7XG4gICAgfVxuICAgIHJldHVybiB4O1xuICB9LCB0aGlzLmdldEV4dFN1YmplY3REaXJlY3RvcnlBdHRyaWJ1dGVzID0gZnVuY3Rpb24obSwgRSkge1xuICAgIGlmIChtID09PSB2b2lkIDAgJiYgRSA9PT0gdm9pZCAwKSB7XG4gICAgICB2YXIgdyA9IHRoaXMuZ2V0RXh0SW5mbyhcInN1YmplY3REaXJlY3RvcnlBdHRyaWJ1dGVzXCIpO1xuICAgICAgaWYgKHcgPT09IHZvaWQgMClcbiAgICAgICAgcmV0dXJuO1xuICAgICAgbSA9IG4odGhpcy5oZXgsIHcudmlkeCksIEUgPSB3LmNyaXRpY2FsO1xuICAgIH1cbiAgICB2YXIgeCA9IHsgZXh0bmFtZTogXCJzdWJqZWN0RGlyZWN0b3J5QXR0cmlidXRlc1wiIH07XG4gICAgRSAmJiAoeC5jcml0aWNhbCA9ICEwKTtcbiAgICB0cnkge1xuICAgICAgZm9yICh2YXIgRiA9IHMobSksIFAgPSBbXSwgVCA9IDA7IFQgPCBGLnNlcS5sZW5ndGg7IFQrKykge1xuICAgICAgICB2YXIgSCA9IEYuc2VxW1RdLCBDID0gSihILCBcInNlcS4wLm9pZFwiKSwgQiA9IEooSCwgXCJzZXEuMS5zZXRcIik7XG4gICAgICAgIGlmIChDID09IG51bGwgfHwgQiA9PSBudWxsKVxuICAgICAgICAgIHRocm93IFwiZXJyb3JcIjtcbiAgICAgICAgUC5wdXNoKHsgYXR0cjogQywgYXJyYXk6IEIgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm4geC5hcnJheSA9IFAsIHg7XG4gICAgfSBjYXRjaCB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJtYWxmb3JtZWQgc3ViamVjdERpcmVjdG9yeUF0dHJpYnV0ZXMgZXh0ZW5zaW9uIHZhbHVlXCIpO1xuICAgIH1cbiAgfTtcbiAgdmFyIEQgPSBmdW5jdGlvbihtKSB7XG4gICAgdmFyIEUgPSB7fTtcbiAgICB0cnkge1xuICAgICAgdmFyIHcgPSBtLnNlcVswXS5vaWQsIHggPSBhLmFzbjEueDUwOS5PSUQubmFtZTJvaWQodyk7XG4gICAgICBFLnR5cGUgPSBhLmFzbjEueDUwOS5PSUQub2lkMmF0eXBlKHgpO1xuICAgICAgdmFyIEYgPSBtLnNlcVsxXTtcbiAgICAgIGlmIChGLnV0ZjhzdHIgIT0gbnVsbClcbiAgICAgICAgRS5kcyA9IFwidXRmOFwiLCBFLnZhbHVlID0gRi51dGY4c3RyLnN0cjtcbiAgICAgIGVsc2UgaWYgKEYubnVtc3RyICE9IG51bGwpXG4gICAgICAgIEUuZHMgPSBcIm51bVwiLCBFLnZhbHVlID0gRi5udW1zdHIuc3RyO1xuICAgICAgZWxzZSBpZiAoRi50ZWxzdHIgIT0gbnVsbClcbiAgICAgICAgRS5kcyA9IFwidGVsXCIsIEUudmFsdWUgPSBGLnRlbHN0ci5zdHI7XG4gICAgICBlbHNlIGlmIChGLnBybnN0ciAhPSBudWxsKVxuICAgICAgICBFLmRzID0gXCJwcm5cIiwgRS52YWx1ZSA9IEYucHJuc3RyLnN0cjtcbiAgICAgIGVsc2UgaWYgKEYuaWE1c3RyICE9IG51bGwpXG4gICAgICAgIEUuZHMgPSBcImlhNVwiLCBFLnZhbHVlID0gRi5pYTVzdHIuc3RyO1xuICAgICAgZWxzZSBpZiAoRi52aXNzdHIgIT0gbnVsbClcbiAgICAgICAgRS5kcyA9IFwidmlzXCIsIEUudmFsdWUgPSBGLnZpc3N0ci5zdHI7XG4gICAgICBlbHNlIGlmIChGLmJtcHN0ciAhPSBudWxsKVxuICAgICAgICBFLmRzID0gXCJibXBcIiwgRS52YWx1ZSA9IEYuYm1wc3RyLnN0cjtcbiAgICAgIGVsc2VcbiAgICAgICAgdGhyb3cgXCJlcnJvclwiO1xuICAgICAgcmV0dXJuIEU7XG4gICAgfSBjYXRjaCB7XG4gICAgICB0aHJvdyBuZXcgRXJvcnIoXCJpbXByb3BlciBBU04uMSBwYXJzZWQgQXR0clR5cGVBbmRWYWx1ZVwiKTtcbiAgICB9XG4gIH0sIEEgPSBmdW5jdGlvbihtKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBtLnNldC5tYXAoZnVuY3Rpb24oRSkge1xuICAgICAgICByZXR1cm4gRChFKTtcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKEUpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcImltcHJvcGVyIEFTTi4xIHBhcnNlZCBSRE46IFwiICsgRSk7XG4gICAgfVxuICB9LCBJID0gZnVuY3Rpb24obSkge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gbS5zZXEubWFwKGZ1bmN0aW9uKEUpIHtcbiAgICAgICAgcmV0dXJuIEEoRSk7XG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChFKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJpbXByb3BlciBBU04uMSBwYXJzZWQgWDUwME5hbWU6IFwiICsgRSk7XG4gICAgfVxuICB9O1xuICB0aGlzLmdldFg1MDBOYW1lUnVsZSA9IGZ1bmN0aW9uKG0pIHtcbiAgICBmb3IgKHZhciBFID0gbnVsbCwgdyA9IFtdLCB4ID0gMDsgeCA8IG0ubGVuZ3RoOyB4KyspXG4gICAgICBmb3IgKHZhciBGID0gbVt4XSwgUCA9IDA7IFAgPCBGLmxlbmd0aDsgUCsrKVxuICAgICAgICB3LnB1c2goRltQXSk7XG4gICAgZm9yICh2YXIgeCA9IDA7IHggPCB3Lmxlbmd0aDsgeCsrKSB7XG4gICAgICB2YXIgVCA9IHdbeF0sIEggPSBULmRzLCBDID0gVC52YWx1ZSwgQiA9IFQudHlwZTtcbiAgICAgIGlmIChIICE9IFwicHJuXCIgJiYgSCAhPSBcInV0ZjhcIiAmJiBIICE9IFwiaWE1XCIpXG4gICAgICAgIHJldHVybiBcIm1peGVkXCI7XG4gICAgICBpZiAoSCA9PSBcImlhNVwiKSB7XG4gICAgICAgIGlmIChCICE9IFwiQ05cIilcbiAgICAgICAgICByZXR1cm4gXCJtaXhlZFwiO1xuICAgICAgICBpZiAoYS5sYW5nLlN0cmluZy5pc01haWwoQykpXG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIHJldHVybiBcIm1peGVkXCI7XG4gICAgICB9XG4gICAgICBpZiAoQiA9PSBcIkNcIikge1xuICAgICAgICBpZiAoSCA9PSBcInByblwiKVxuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICByZXR1cm4gXCJtaXhlZFwiO1xuICAgICAgfVxuICAgICAgaWYgKEUgPT0gbnVsbClcbiAgICAgICAgRSA9IEg7XG4gICAgICBlbHNlIGlmIChFICE9PSBIKVxuICAgICAgICByZXR1cm4gXCJtaXhlZFwiO1xuICAgIH1cbiAgICByZXR1cm4gRSA/PyBcInByblwiO1xuICB9LCB0aGlzLmdldEF0dHJUeXBlQW5kVmFsdWUgPSBmdW5jdGlvbihtKSB7XG4gICAgdmFyIEUgPSBzKG0pO1xuICAgIHJldHVybiBEKEUpO1xuICB9LCB0aGlzLmdldFJETiA9IGZ1bmN0aW9uKG0pIHtcbiAgICB2YXIgRSA9IHMobSk7XG4gICAgcmV0dXJuIEEoRSk7XG4gIH0sIHRoaXMuZ2V0WDUwME5hbWVBcnJheSA9IGZ1bmN0aW9uKG0pIHtcbiAgICB2YXIgRSA9IHMobSk7XG4gICAgcmV0dXJuIEkoRSk7XG4gIH0sIHRoaXMuZ2V0WDUwME5hbWUgPSBmdW5jdGlvbihtLCBFLCB3KSB7XG4gICAgdmFyIHggPSB0aGlzLmdldFg1MDBOYW1lQXJyYXkobSksIEYgPSB0aGlzLmRuYXJyYXl0b3N0cih4KSwgUCA9IHsgc3RyOiBGIH07XG4gICAgcmV0dXJuIFAuYXJyYXkgPSB4LCB3ID09ICEwICYmIChQLmhleCA9IG0pLCBFID09ICEwICYmIChQLmNhbm9uID0gdGhpcy5jMTRuUkROQXJyYXkoeCkpLCBQO1xuICB9LCB0aGlzLnJlYWRDZXJ0UEVNID0gZnVuY3Rpb24obSkge1xuICAgIHRoaXMucmVhZENlcnRIZXgoZyhtKSk7XG4gIH0sIHRoaXMucmVhZENlcnRIZXggPSBmdW5jdGlvbihtKSB7XG4gICAgdGhpcy5oZXggPSBtLCB0aGlzLmdldFZlcnNpb24oKTtcbiAgICB0cnkge1xuICAgICAgeSh0aGlzLmhleCwgMCwgWzAsIDddLCBcImEzXCIpLCB0aGlzLnBhcnNlRXh0KCk7XG4gICAgfSBjYXRjaCB7XG4gICAgfVxuICB9LCB0aGlzLmdldFBhcmFtID0gZnVuY3Rpb24obSkge1xuICAgIHZhciBFID0ge307XG4gICAgcmV0dXJuIG0gPT0gbnVsbCAmJiAobSA9IHt9KSwgRS52ZXJzaW9uID0gdGhpcy5nZXRWZXJzaW9uKCksIEUuc2VyaWFsID0geyBoZXg6IHRoaXMuZ2V0U2VyaWFsTnVtYmVySGV4KCkgfSwgRS5zaWdhbGcgPSB0aGlzLmdldFNpZ25hdHVyZUFsZ29yaXRobUZpZWxkKCksIEUuaXNzdWVyID0gdGhpcy5nZXRJc3N1ZXIobS5kbmNhbm9uLCBtLmRuaGV4KSwgRS5ub3RiZWZvcmUgPSB0aGlzLmdldE5vdEJlZm9yZSgpLCBFLm5vdGFmdGVyID0gdGhpcy5nZXROb3RBZnRlcigpLCBFLnN1YmplY3QgPSB0aGlzLmdldFN1YmplY3QobS5kbmNhbm9uLCBtLmRuaGV4KSwgRS5zYmpwdWJrZXkgPSBkZSh0aGlzLmdldFB1YmxpY0tleUhleCgpLCBcIlBVQkxJQyBLRVlcIiksIHRoaXMuYUV4dEluZm8gIT0gbnVsbCAmJiB0aGlzLmFFeHRJbmZvLmxlbmd0aCA+IDAgJiYgKEUuZXh0ID0gdGhpcy5nZXRFeHRQYXJhbUFycmF5KCkpLCBFLnNpZ2hleCA9IHRoaXMuZ2V0U2lnbmF0dXJlVmFsdWVIZXgoKSwgbS50YnNoZXggPT0gITAgJiYgKEUudGJzaGV4ID0gcCh0aGlzLmhleCwgMCwgWzBdKSksIG0ubm9kbmFycmF5ID09ICEwICYmIChkZWxldGUgRS5pc3N1ZXIuYXJyYXksIGRlbGV0ZSBFLnN1YmplY3QuYXJyYXkpLCBFO1xuICB9LCB0aGlzLmdldEV4dFBhcmFtQXJyYXkgPSBmdW5jdGlvbihtKSB7XG4gICAgaWYgKG0gPT0gbnVsbCkge1xuICAgICAgdmFyIEUgPSB2KHRoaXMuaGV4LCAwLCBbMCwgXCJbM11cIl0pO1xuICAgICAgRSAhPSAtMSAmJiAobSA9IGModGhpcy5oZXgsIDAsIFswLCBcIlszXVwiLCAwXSwgXCIzMFwiKSk7XG4gICAgfVxuICAgIGZvciAodmFyIHcgPSBbXSwgeCA9IHIobSwgMCksIEYgPSAwOyBGIDwgeC5sZW5ndGg7IEYrKykge1xuICAgICAgdmFyIFAgPSBuKG0sIHhbRl0pLCBUID0gdGhpcy5nZXRFeHRQYXJhbShQKTtcbiAgICAgIFQgIT0gbnVsbCAmJiB3LnB1c2goVCk7XG4gICAgfVxuICAgIHJldHVybiB3O1xuICB9LCB0aGlzLmdldEV4dFBhcmFtID0gZnVuY3Rpb24obSkge1xuICAgIHZhciBFID0gcihtLCAwKSwgdyA9IEUubGVuZ3RoO1xuICAgIGlmICh3ICE9IDIgJiYgdyAhPSAzKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwid3JvbmcgbnVtYmVyIGVsZW1lbnRzIGluIEV4dGVuc2lvbjogXCIgKyB3ICsgXCIgXCIgKyBtKTtcbiAgICB2YXIgeCA9IGQoaChtLCAwLCBbMF0sIFwiMDZcIikpLCBGID0gITE7XG4gICAgdyA9PSAzICYmIHAobSwgMCwgWzFdKSA9PSBcIjAxMDFmZlwiICYmIChGID0gITApO1xuICAgIHZhciBQID0gcChtLCAwLCBbdyAtIDEsIDBdKSwgVCA9IHZvaWQgMDtcbiAgICBpZiAoeCA9PSBcIjIuNS4yOS4xNFwiID8gVCA9IHRoaXMuZ2V0RXh0U3ViamVjdEtleUlkZW50aWZpZXIoUCwgRikgOiB4ID09IFwiMi41LjI5LjE1XCIgPyBUID0gdGhpcy5nZXRFeHRLZXlVc2FnZShQLCBGKSA6IHggPT0gXCIyLjUuMjkuMTdcIiA/IFQgPSB0aGlzLmdldEV4dFN1YmplY3RBbHROYW1lKFAsIEYpIDogeCA9PSBcIjIuNS4yOS4xOFwiID8gVCA9IHRoaXMuZ2V0RXh0SXNzdWVyQWx0TmFtZShQLCBGKSA6IHggPT0gXCIyLjUuMjkuMTlcIiA/IFQgPSB0aGlzLmdldEV4dEJhc2ljQ29uc3RyYWludHMoUCwgRikgOiB4ID09IFwiMi41LjI5LjMwXCIgPyBUID0gdGhpcy5nZXRFeHROYW1lQ29uc3RyYWludHMoUCwgRikgOiB4ID09IFwiMi41LjI5LjMxXCIgPyBUID0gdGhpcy5nZXRFeHRDUkxEaXN0cmlidXRpb25Qb2ludHMoUCwgRikgOiB4ID09IFwiMi41LjI5LjMyXCIgPyBUID0gdGhpcy5nZXRFeHRDZXJ0aWZpY2F0ZVBvbGljaWVzKFAsIEYpIDogeCA9PSBcIjIuNS4yOS4zM1wiID8gVCA9IHRoaXMuZ2V0RXh0UG9saWN5TWFwcGluZ3MoUCwgRikgOiB4ID09IFwiMi41LjI5LjM1XCIgPyBUID0gdGhpcy5nZXRFeHRBdXRob3JpdHlLZXlJZGVudGlmaWVyKFAsIEYpIDogeCA9PSBcIjIuNS4yOS4zNlwiID8gVCA9IHRoaXMuZ2V0RXh0UG9saWN5Q29uc3RyYWludHMoUCwgRikgOiB4ID09IFwiMi41LjI5LjM3XCIgPyBUID0gdGhpcy5nZXRFeHRFeHRLZXlVc2FnZShQLCBGKSA6IHggPT0gXCIyLjUuMjkuNTRcIiA/IFQgPSB0aGlzLmdldEV4dEluaGliaXRBbnlQb2xpY3koUCwgRikgOiB4ID09IFwiMS4zLjYuMS41LjUuNy4xLjFcIiA/IFQgPSB0aGlzLmdldEV4dEF1dGhvcml0eUluZm9BY2Nlc3MoUCwgRikgOiB4ID09IFwiMi41LjI5LjIwXCIgPyBUID0gdGhpcy5nZXRFeHRDUkxOdW1iZXIoUCwgRikgOiB4ID09IFwiMi41LjI5LjIxXCIgPyBUID0gdGhpcy5nZXRFeHRDUkxSZWFzb24oUCwgRikgOiB4ID09IFwiMi41LjI5LjlcIiA/IFQgPSB0aGlzLmdldEV4dFN1YmplY3REaXJlY3RvcnlBdHRyaWJ1dGVzKFAsIEYpIDogeCA9PSBcIjEuMy42LjEuNS41LjcuNDguMS4yXCIgPyBUID0gdGhpcy5nZXRFeHRPY3NwTm9uY2UoUCwgRikgOiB4ID09IFwiMS4zLjYuMS41LjUuNy40OC4xLjVcIiA/IFQgPSB0aGlzLmdldEV4dE9jc3BOb0NoZWNrKFAsIEYpIDogeCA9PSBcIjEuMi44NDAuMTEzNTgzLjEuMS45LjFcIiA/IFQgPSB0aGlzLmdldEV4dEFkb2JlVGltZVN0YW1wKFAsIEYpIDogTC5FWFRfUEFSU0VSW3hdICE9IG51bGwgJiYgKFQgPSBMLkVYVF9QQVJTRVJbeF0oeCwgRiwgUCkpLCBUICE9IG51bGwpXG4gICAgICByZXR1cm4gVDtcbiAgICB2YXIgSCA9IHsgZXh0bmFtZTogeCwgZXh0bjogUCB9O1xuICAgIHRyeSB7XG4gICAgICBILmV4dG4gPSBzKFApO1xuICAgIH0gY2F0Y2gge1xuICAgIH1cbiAgICByZXR1cm4gRiAmJiAoSC5jcml0aWNhbCA9ICEwKSwgSDtcbiAgfSwgdGhpcy5maW5kRXh0ID0gZnVuY3Rpb24obSwgRSkge1xuICAgIGZvciAodmFyIHcgPSAwOyB3IDwgbS5sZW5ndGg7IHcrKylcbiAgICAgIGlmIChtW3ddLmV4dG5hbWUgPT0gRSlcbiAgICAgICAgcmV0dXJuIG1bd107XG4gICAgcmV0dXJuIG51bGw7XG4gIH0sIHRoaXMudXBkYXRlRXh0Q0RQRnVsbFVSSSA9IGZ1bmN0aW9uKG0sIEUpIHtcbiAgICB2YXIgdyA9IHRoaXMuZmluZEV4dChtLCBcImNSTERpc3RyaWJ1dGlvblBvaW50c1wiKTtcbiAgICBpZiAodyAhPSBudWxsICYmIHcuYXJyYXkgIT0gbnVsbCkge1xuICAgICAgZm9yICh2YXIgeCA9IHcuYXJyYXksIEYgPSAwOyBGIDwgeC5sZW5ndGg7IEYrKylcbiAgICAgICAgaWYgKHhbRl0uZHBuYW1lICE9IG51bGwgJiYgeFtGXS5kcG5hbWUuZnVsbCAhPSBudWxsKVxuICAgICAgICAgIGZvciAodmFyIFAgPSB4W0ZdLmRwbmFtZS5mdWxsLCBUID0gMDsgVCA8IFAubGVuZ3RoOyBUKyspIHtcbiAgICAgICAgICAgIHZhciBIID0gUFtGXTtcbiAgICAgICAgICAgIEgudXJpICE9IG51bGwgJiYgKEgudXJpID0gRSk7XG4gICAgICAgICAgfVxuICAgIH1cbiAgfSwgdGhpcy51cGRhdGVFeHRBSUFPQ1NQID0gZnVuY3Rpb24obSwgRSkge1xuICAgIHZhciB3ID0gdGhpcy5maW5kRXh0KG0sIFwiYXV0aG9yaXR5SW5mb0FjY2Vzc1wiKTtcbiAgICBpZiAodyAhPSBudWxsICYmIHcuYXJyYXkgIT0gbnVsbClcbiAgICAgIGZvciAodmFyIHggPSB3LmFycmF5LCBGID0gMDsgRiA8IHgubGVuZ3RoOyBGKyspXG4gICAgICAgIHhbRl0ub2NzcCAhPSBudWxsICYmICh4W0ZdLm9jc3AgPSBFKTtcbiAgfSwgdGhpcy51cGRhdGVFeHRBSUFDQUlzc3VlciA9IGZ1bmN0aW9uKG0sIEUpIHtcbiAgICB2YXIgdyA9IHRoaXMuZmluZEV4dChtLCBcImF1dGhvcml0eUluZm9BY2Nlc3NcIik7XG4gICAgaWYgKHcgIT0gbnVsbCAmJiB3LmFycmF5ICE9IG51bGwpXG4gICAgICBmb3IgKHZhciB4ID0gdy5hcnJheSwgRiA9IDA7IEYgPCB4Lmxlbmd0aDsgRisrKVxuICAgICAgICB4W0ZdLmNhaXNzdWVyICE9IG51bGwgJiYgKHhbRl0uY2Fpc3N1ZXIgPSBFKTtcbiAgfSwgdGhpcy5kbmFycmF5dG9zdHIgPSBmdW5jdGlvbihtKSB7XG4gICAgZnVuY3Rpb24gRSh4KSB7XG4gICAgICByZXR1cm4geC5tYXAoZnVuY3Rpb24oRikge1xuICAgICAgICByZXR1cm4gdyhGKS5yZXBsYWNlKC9cXCsvLCBcIlxcXFwrXCIpO1xuICAgICAgfSkuam9pbihcIitcIik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHcoeCkge1xuICAgICAgcmV0dXJuIHgudHlwZSArIFwiPVwiICsgeC52YWx1ZTtcbiAgICB9XG4gICAgcmV0dXJuIFwiL1wiICsgbS5tYXAoZnVuY3Rpb24oeCkge1xuICAgICAgcmV0dXJuIEUoeCkucmVwbGFjZSgvXFwvLywgXCJcXFxcL1wiKTtcbiAgICB9KS5qb2luKFwiL1wiKTtcbiAgfSwgdGhpcy5zZXRDYW5vbmljYWxpemVkRE4gPSBmdW5jdGlvbihtKSB7XG4gICAgdmFyIEU7XG4gICAgaWYgKG0uc3RyICE9IG51bGwgJiYgbS5hcnJheSA9PSBudWxsKSB7XG4gICAgICB2YXIgdyA9IG5ldyBhLmFzbjEueDUwOS5YNTAwTmFtZSh7IHN0cjogbS5zdHIgfSksIHggPSB3LnRvaGV4KCk7XG4gICAgICBFID0gdGhpcy5nZXRYNTAwTmFtZUFycmF5KHgpO1xuICAgIH0gZWxzZVxuICAgICAgRSA9IG0uYXJyYXk7XG4gICAgbS5jYW5vbiA9PSBudWxsICYmIChtLmNhbm9uID0gdGhpcy5jMTRuUkROQXJyYXkoRSkpO1xuICB9LCB0aGlzLmMxNG5SRE5BcnJheSA9IGZ1bmN0aW9uKG0pIHtcbiAgICBmb3IgKHZhciBFID0gW10sIHcgPSAwOyB3IDwgbS5sZW5ndGg7IHcrKykge1xuICAgICAgZm9yICh2YXIgeCA9IG1bd10sIEYgPSBbXSwgUCA9IDA7IFAgPCB4Lmxlbmd0aDsgUCsrKSB7XG4gICAgICAgIHZhciBUID0geFtQXSwgSCA9IFQudmFsdWU7XG4gICAgICAgIEggPSBILnJlcGxhY2UoL15cXHMqLywgXCJcIiksIEggPSBILnJlcGxhY2UoL1xccyokLywgXCJcIiksIEggPSBILnJlcGxhY2UoL1xccysvZywgXCIgXCIpLCBIID0gSC50b0xvd2VyQ2FzZSgpLCBGLnB1c2goVC50eXBlLnRvTG93ZXJDYXNlKCkgKyBcIj1cIiArIEgpO1xuICAgICAgfVxuICAgICAgRS5wdXNoKEYuam9pbihcIitcIikpO1xuICAgIH1cbiAgICByZXR1cm4gXCIvXCIgKyBFLmpvaW4oXCIvXCIpO1xuICB9LCB0aGlzLmdldEluZm8gPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgbSA9IGZ1bmN0aW9uKGNlKSB7XG4gICAgICBmb3IgKHZhciBNID0gXCJcIiwgRyA9IFwiICAgIFwiLCBRID0gYFxuYCwgZWUgPSBjZS5hcnJheSwgcGUgPSAwOyBwZSA8IGVlLmxlbmd0aDsgcGUrKykge1xuICAgICAgICB2YXIgdGUgPSBlZVtwZV07XG4gICAgICAgIGlmICh0ZS5kbiAhPSBudWxsICYmIChNICs9IEcgKyBcImRuOiBcIiArIHRlLmRuLnN0ciArIFEpLCB0ZS5pcCAhPSBudWxsICYmIChNICs9IEcgKyBcImlwOiBcIiArIHRlLmlwICsgUSksIHRlLnJmYzgyMiAhPSBudWxsICYmIChNICs9IEcgKyBcInJmYzgyMjogXCIgKyB0ZS5yZmM4MjIgKyBRKSwgdGUuZG5zICE9IG51bGwgJiYgKE0gKz0gRyArIFwiZG5zOiBcIiArIHRlLmRucyArIFEpLCB0ZS51cmkgIT0gbnVsbCAmJiAoTSArPSBHICsgXCJ1cmk6IFwiICsgdGUudXJpICsgUSksIHRlLm90aGVyICE9IG51bGwpIHtcbiAgICAgICAgICB2YXIgTWUgPSB0ZS5vdGhlci5vaWQsIE5lID0gSlNPTi5zdHJpbmdpZnkodGUub3RoZXIudmFsdWUpLnJlcGxhY2UoL1xcXCIvZywgXCJcIik7XG4gICAgICAgICAgTSArPSBHICsgXCJvdGhlcjogXCIgKyBNZSArIFwiPVwiICsgTmUgKyBRO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gTSA9IE0ucmVwbGFjZSgvXFxuJC8sIFwiXCIpLCBNO1xuICAgIH0sIEUgPSBmdW5jdGlvbihjZSkge1xuICAgICAgZm9yICh2YXIgTSA9IFwiXCIsIEcgPSBjZS5hcnJheSwgUSA9IDA7IFEgPCBHLmxlbmd0aDsgUSsrKSB7XG4gICAgICAgIHZhciBlZSA9IEdbUV07XG4gICAgICAgIGlmIChNICs9IFwiICAgIHBvbGljeSBvaWQ6IFwiICsgZWUucG9saWN5b2lkICsgYFxuYCwgZWUuYXJyYXkgIT09IHZvaWQgMClcbiAgICAgICAgICBmb3IgKHZhciBwZSA9IDA7IHBlIDwgZWUuYXJyYXkubGVuZ3RoOyBwZSsrKSB7XG4gICAgICAgICAgICB2YXIgdGUgPSBlZS5hcnJheVtwZV07XG4gICAgICAgICAgICB0ZS5jcHMgIT09IHZvaWQgMCAmJiAoTSArPSBcIiAgICBjcHM6IFwiICsgdGUuY3BzICsgYFxuYCk7XG4gICAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIE07XG4gICAgfSwgdyA9IGZ1bmN0aW9uKGNlKSB7XG4gICAgICBmb3IgKHZhciBNID0gXCJcIiwgRyA9IGNlLmFycmF5LCBRID0gMDsgUSA8IEcubGVuZ3RoOyBRKyspIHtcbiAgICAgICAgdmFyIGVlID0gR1tRXTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBlZS5kcG5hbWUuZnVsbFswXS51cmkgIT09IHZvaWQgMCAmJiAoTSArPSBcIiAgICBcIiArIGVlLmRwbmFtZS5mdWxsWzBdLnVyaSArIGBcbmApO1xuICAgICAgICB9IGNhdGNoIHtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgIGVlLmRuYW1lLmZ1bGxbMF0uZG4uaGV4ICE9PSB2b2lkIDAgJiYgKE0gKz0gXCIgICAgXCIgKyBMLmhleDJkbihlZS5kcG5hbWUuZnVsbFswXS5kbi5oZXgpICsgYFxuYCk7XG4gICAgICAgIH0gY2F0Y2gge1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gTTtcbiAgICB9LCB4ID0gZnVuY3Rpb24oY2UpIHtcbiAgICAgIGZvciAodmFyIE0gPSBcIlwiLCBHID0gY2UuYXJyYXksIFEgPSAwOyBRIDwgRy5sZW5ndGg7IFErKykge1xuICAgICAgICB2YXIgZWUgPSBHW1FdO1xuICAgICAgICBlZS5jYWlzc3VlciAhPT0gdm9pZCAwICYmIChNICs9IFwiICAgIGNhaXNzdWVyOiBcIiArIGVlLmNhaXNzdWVyICsgYFxuYCksIGVlLm9jc3AgIT09IHZvaWQgMCAmJiAoTSArPSBcIiAgICBvY3NwOiBcIiArIGVlLm9jc3AgKyBgXG5gKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBNO1xuICAgIH0sIEYsIFAsIFQ7XG4gICAgaWYgKEYgPSBgQmFzaWMgRmllbGRzXG5gLCBGICs9IFwiICBzZXJpYWwgbnVtYmVyOiBcIiArIHRoaXMuZ2V0U2VyaWFsTnVtYmVySGV4KCkgKyBgXG5gLCBGICs9IFwiICBzaWduYXR1cmUgYWxnb3JpdGhtOiBcIiArIHRoaXMuZ2V0U2lnbmF0dXJlQWxnb3JpdGhtRmllbGQoKSArIGBcbmAsIEYgKz0gXCIgIGlzc3VlcjogXCIgKyB0aGlzLmdldElzc3VlclN0cmluZygpICsgYFxuYCwgRiArPSBcIiAgbm90QmVmb3JlOiBcIiArIHRoaXMuZ2V0Tm90QmVmb3JlKCkgKyBgXG5gLCBGICs9IFwiICBub3RBZnRlcjogXCIgKyB0aGlzLmdldE5vdEFmdGVyKCkgKyBgXG5gLCBGICs9IFwiICBzdWJqZWN0OiBcIiArIHRoaXMuZ2V0U3ViamVjdFN0cmluZygpICsgYFxuYCwgRiArPSBgICBzdWJqZWN0IHB1YmxpYyBrZXkgaW5mbzogXG5gLCBQID0gdGhpcy5nZXRQdWJsaWNLZXkoKSwgRiArPSBcIiAgICBrZXkgYWxnb3JpdGhtOiBcIiArIFAudHlwZSArIGBcbmAsIFAudHlwZSA9PT0gXCJSU0FcIiAmJiAoRiArPSBcIiAgICBuPVwiICsgeHQoUC5uLnRvU3RyaW5nKDE2KSkuc3Vic3RyKDAsIDE2KSArIGAuLi5cbmAsIEYgKz0gXCIgICAgZT1cIiArIHh0KFAuZS50b1N0cmluZygxNikpICsgYFxuYCksIFQgPSB0aGlzLmFFeHRJbmZvLCBUICE9IG51bGwpIHtcbiAgICAgIEYgKz0gYFg1MDl2MyBFeHRlbnNpb25zOlxuYDtcbiAgICAgIGZvciAodmFyIEggPSAwOyBIIDwgVC5sZW5ndGg7IEgrKykge1xuICAgICAgICB2YXIgQyA9IFRbSF0sIEIgPSBhLmFzbjEueDUwOS5PSUQub2lkMm5hbWUoQy5vaWQpO1xuICAgICAgICBCID09PSBcIlwiICYmIChCID0gQy5vaWQpO1xuICAgICAgICB2YXIgTyA9IFwiXCI7XG4gICAgICAgIGlmIChDLmNyaXRpY2FsID09PSAhMCAmJiAoTyA9IFwiQ1JJVElDQUxcIiksIEYgKz0gXCIgIFwiICsgQiArIFwiIFwiICsgTyArIGA6XG5gLCBCID09PSBcImJhc2ljQ29uc3RyYWludHNcIikge1xuICAgICAgICAgIHZhciBqID0gdGhpcy5nZXRFeHRCYXNpY0NvbnN0cmFpbnRzKCk7XG4gICAgICAgICAgai5jQSA9PT0gdm9pZCAwID8gRiArPSBgICAgIHt9XG5gIDogKEYgKz0gXCIgICAgY0E9dHJ1ZVwiLCBqLnBhdGhMZW4gIT09IHZvaWQgMCAmJiAoRiArPSBcIiwgcGF0aExlbj1cIiArIGoucGF0aExlbiksIEYgKz0gYFxuYCk7XG4gICAgICAgIH0gZWxzZSBpZiAoQiA9PSBcInBvbGljeU1hcHBpbmdzXCIpIHtcbiAgICAgICAgICB2YXIgZmUgPSB0aGlzLmdldEV4dFBvbGljeU1hcHBpbmdzKCkuYXJyYXksIFogPSBmZS5tYXAoZnVuY3Rpb24oY2UpIHtcbiAgICAgICAgICAgIHZhciBNID0gY2U7XG4gICAgICAgICAgICByZXR1cm4gTVswXSArIFwiOlwiICsgTVsxXTtcbiAgICAgICAgICB9KS5qb2luKFwiLCBcIik7XG4gICAgICAgICAgRiArPSBcIiAgICBcIiArIFogKyBgXG5gO1xuICAgICAgICB9IGVsc2UgaWYgKEIgPT0gXCJwb2xpY3lDb25zdHJhaW50c1wiKSB7XG4gICAgICAgICAgdmFyIFggPSB0aGlzLmdldEV4dFBvbGljeUNvbnN0cmFpbnRzKCk7XG4gICAgICAgICAgRiArPSBcIiAgICBcIiwgWC5yZXFleHAgIT0gbnVsbCAmJiAoRiArPSBcIiByZXFleHA9XCIgKyBYLnJlcWV4cCksIFguaW5oaWJpdCAhPSBudWxsICYmIChGICs9IFwiIGluaGliaXQ9XCIgKyBYLmluaGliaXQpLCBGICs9IGBcbmA7XG4gICAgICAgIH0gZWxzZSBpZiAoQiA9PSBcImluaGliaXRBbnlQb2xpY3lcIikge1xuICAgICAgICAgIHZhciBYID0gdGhpcy5nZXRFeHRJbmhpYml0QW55UG9saWN5KCk7XG4gICAgICAgICAgRiArPSBcIiAgICBza2lwPVwiICsgWC5za2lwICsgYFxuYDtcbiAgICAgICAgfSBlbHNlIGlmIChCID09IFwia2V5VXNhZ2VcIilcbiAgICAgICAgICBGICs9IFwiICAgIFwiICsgdGhpcy5nZXRFeHRLZXlVc2FnZVN0cmluZygpICsgYFxuYDtcbiAgICAgICAgZWxzZSBpZiAoQiA9PSBcInN1YmplY3RLZXlJZGVudGlmaWVyXCIpXG4gICAgICAgICAgRiArPSBcIiAgICBcIiArIHRoaXMuZ2V0RXh0U3ViamVjdEtleUlkZW50aWZpZXIoKS5raWQuaGV4ICsgYFxuYDtcbiAgICAgICAgZWxzZSBpZiAoQiA9PSBcImF1dGhvcml0eUtleUlkZW50aWZpZXJcIikge1xuICAgICAgICAgIHZhciByZSA9IHRoaXMuZ2V0RXh0QXV0aG9yaXR5S2V5SWRlbnRpZmllcigpO1xuICAgICAgICAgIHJlLmtpZCAhPT0gdm9pZCAwICYmIChGICs9IFwiICAgIGtpZD1cIiArIHJlLmtpZC5oZXggKyBgXG5gKTtcbiAgICAgICAgfSBlbHNlIGlmIChCID09IFwiZXh0S2V5VXNhZ2VcIikge1xuICAgICAgICAgIHZhciBuZSA9IHRoaXMuZ2V0RXh0RXh0S2V5VXNhZ2UoKS5hcnJheTtcbiAgICAgICAgICBGICs9IFwiICAgIFwiICsgbmUuam9pbihcIiwgXCIpICsgYFxuYDtcbiAgICAgICAgfSBlbHNlIGlmIChCID09IFwic3ViamVjdEFsdE5hbWVcIikge1xuICAgICAgICAgIHZhciBoZSA9IG0odGhpcy5nZXRFeHRTdWJqZWN0QWx0TmFtZSgpKTtcbiAgICAgICAgICBGICs9IGhlICsgYFxuYDtcbiAgICAgICAgfSBlbHNlIGlmIChCID09IFwiY1JMRGlzdHJpYnV0aW9uUG9pbnRzXCIpIHtcbiAgICAgICAgICB2YXIgc2UgPSB0aGlzLmdldEV4dENSTERpc3RyaWJ1dGlvblBvaW50cygpO1xuICAgICAgICAgIEYgKz0gdyhzZSk7XG4gICAgICAgIH0gZWxzZSBpZiAoQiA9PSBcImF1dGhvcml0eUluZm9BY2Nlc3NcIikge1xuICAgICAgICAgIHZhciBrZSA9IHRoaXMuZ2V0RXh0QXV0aG9yaXR5SW5mb0FjY2VzcygpO1xuICAgICAgICAgIEYgKz0geChrZSk7XG4gICAgICAgIH0gZWxzZVxuICAgICAgICAgIEIgPT0gXCJjZXJ0aWZpY2F0ZVBvbGljaWVzXCIgJiYgKEYgKz0gRSh0aGlzLmdldEV4dENlcnRpZmljYXRlUG9saWNpZXMoKSkpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gRiArPSBcInNpZ25hdHVyZSBhbGdvcml0aG06IFwiICsgdGhpcy5nZXRTaWduYXR1cmVBbGdvcml0aG1OYW1lKCkgKyBgXG5gLCBGICs9IFwic2lnbmF0dXJlOiBcIiArIHRoaXMuZ2V0U2lnbmF0dXJlVmFsdWVIZXgoKS5zdWJzdHIoMCwgMTYpICsgYC4uLlxuYCwgRjtcbiAgfSwgdHlwZW9mIGUgPT0gXCJzdHJpbmdcIiAmJiAoZS5pbmRleE9mKFwiLS0tLS1CRUdJTlwiKSAhPSAtMSA/IHRoaXMucmVhZENlcnRQRU0oZSkgOiBhLmxhbmcuU3RyaW5nLmlzSGV4KGUpICYmIHRoaXMucmVhZENlcnRIZXgoZSkpO1xufVxuTC5FWFRfUEFSU0VSID0ge307XG5MLnJlZ2lzdEV4dFBhcnNlciA9IGZ1bmN0aW9uKGUsIHQpIHtcbiAgTC5FWFRfUEFSU0VSW2VdID0gdDtcbn07XG5MLmhleDJkbiA9IGZ1bmN0aW9uKGUsIHQpIHtcbiAgdCA9PT0gdm9pZCAwICYmICh0ID0gMCk7XG4gIHZhciByID0gbmV3IEwoKTtcbiAgVi5nZXRUTFYoZSwgdCk7XG4gIHZhciBpID0gci5nZXRYNTAwTmFtZShlKTtcbiAgcmV0dXJuIGkuc3RyO1xufTtcbkwuaGV4MnJkbiA9IGZ1bmN0aW9uKGUsIHQpIHtcbiAgaWYgKHQgPT09IHZvaWQgMCAmJiAodCA9IDApLCBlLnN1YnN0cih0LCAyKSAhPT0gXCIzMVwiKVxuICAgIHRocm93IG5ldyBFcnJvcihcIm1hbGZvcm1lZCBSRE5cIik7XG4gIGZvciAodmFyIHIgPSBuZXcgQXJyYXkoKSwgaSA9IFYuZ2V0Q2hpbGRJZHgoZSwgdCksIHMgPSAwOyBzIDwgaS5sZW5ndGg7IHMrKylcbiAgICByLnB1c2goTC5oZXgyYXR0clR5cGVWYWx1ZShlLCBpW3NdKSk7XG4gIHJldHVybiByID0gci5tYXAoZnVuY3Rpb24obikge1xuICAgIHJldHVybiBuLnJlcGxhY2UoXCIrXCIsIFwiXFxcXCtcIik7XG4gIH0pLCByLmpvaW4oXCIrXCIpO1xufTtcbkwuaGV4MmF0dHJUeXBlVmFsdWUgPSBmdW5jdGlvbihlLCB0KSB7XG4gIHZhciByID0gViwgaSA9IHIuZ2V0VjtcbiAgaWYgKHQgPT09IHZvaWQgMCAmJiAodCA9IDApLCBlLnN1YnN0cih0LCAyKSAhPT0gXCIzMFwiKVxuICAgIHRocm93IG5ldyBFcnJvcihcIm1hbGZvcm1lZCBhdHRyaWJ1dGUgdHlwZSBhbmQgdmFsdWVcIik7XG4gIHZhciBzID0gci5nZXRDaGlsZElkeChlLCB0KTtcbiAgcy5sZW5ndGggIT09IDIgfHwgZS5zdWJzdHIoc1swXSwgMik7XG4gIHZhciBuID0gaShlLCBzWzBdKSwgaCA9IGEuYXNuMS5BU04xVXRpbC5vaWRIZXhUb0ludChuKSwgdSA9IGEuYXNuMS54NTA5Lk9JRC5vaWQyYXR5cGUoaCksIHAgPSBpKGUsIHNbMV0pLCBjID0gQWUocCk7XG4gIHJldHVybiB1ICsgXCI9XCIgKyBjO1xufTtcbkwuZ2V0UHVibGljS2V5RnJvbUNlcnRIZXggPSBmdW5jdGlvbihlKSB7XG4gIHZhciB0ID0gbmV3IEwoKTtcbiAgcmV0dXJuIHQucmVhZENlcnRIZXgoZSksIHQuZ2V0UHVibGljS2V5KCk7XG59O1xuTC5nZXRQdWJsaWNLZXlGcm9tQ2VydFBFTSA9IGZ1bmN0aW9uKGUpIHtcbiAgdmFyIHQgPSBuZXcgTCgpO1xuICByZXR1cm4gdC5yZWFkQ2VydFBFTShlKSwgdC5nZXRQdWJsaWNLZXkoKTtcbn07XG5MLmdldFB1YmxpY0tleUluZm9Qcm9wT2ZDZXJ0UEVNID0gZnVuY3Rpb24oZSkge1xuICB2YXIgdCA9IFYsIHIgPSB0LmdldFZieUxpc3QsIGkgPSB7fSwgcywgbjtcbiAgcmV0dXJuIGkuYWxncGFyYW0gPSBudWxsLCBzID0gbmV3IEwoKSwgcy5yZWFkQ2VydFBFTShlKSwgbiA9IHMuZ2V0UHVibGljS2V5SGV4KCksIGkua2V5aGV4ID0gcihuLCAwLCBbMV0sIFwiMDNcIikuc3Vic3RyKDIpLCBpLmFsZ29pZCA9IHIobiwgMCwgWzAsIDBdLCBcIjA2XCIpLCBpLmFsZ29pZCA9PT0gXCIyYTg2NDhjZTNkMDIwMVwiICYmIChpLmFsZ3BhcmFtID0gcihuLCAwLCBbMCwgMV0sIFwiMDZcIikpLCBpO1xufTtcbkwuS0VZVVNBR0VfTkFNRSA9IFtcImRpZ2l0YWxTaWduYXR1cmVcIiwgXCJub25SZXB1ZGlhdGlvblwiLCBcImtleUVuY2lwaGVybWVudFwiLCBcImRhdGFFbmNpcGhlcm1lbnRcIiwgXCJrZXlBZ3JlZW1lbnRcIiwgXCJrZXlDZXJ0U2lnblwiLCBcImNSTFNpZ25cIiwgXCJlbmNpcGhlck9ubHlcIiwgXCJkZWNpcGhlck9ubHlcIl07XG4odHlwZW9mIGEgPiBcInVcIiB8fCAhYSkgJiYgKGEgPSB7fSk7XG4odHlwZW9mIGEuandzID4gXCJ1XCIgfHwgIWEuandzKSAmJiAoYS5qd3MgPSB7fSk7XG5hLmp3cy5KV1MgPSBmdW5jdGlvbigpIHtcbiAgdmFyIGUgPSBhLCB0ID0gZS5qd3MuSldTLCByID0gdC5pc1NhZmVKU09OU3RyaW5nO1xuICB0aGlzLnBhcnNlSldTID0gZnVuY3Rpb24oaSwgcykge1xuICAgIGlmICghKHRoaXMucGFyc2VkSldTICE9PSB2b2lkIDAgJiYgKHMgfHwgdGhpcy5wYXJzZWRKV1Muc2lndmFsSCAhPT0gdm9pZCAwKSkpIHtcbiAgICAgIHZhciBuID0gaS5tYXRjaCgvXihbXi5dKylcXC4oW14uXSspXFwuKFteLl0rKSQvKTtcbiAgICAgIGlmIChuID09IG51bGwpXG4gICAgICAgIHRocm93IFwiSldTIHNpZ25hdHVyZSBpcyBub3QgYSBmb3JtIG9mICdIZWFkLlBheWxvYWQuU2lnVmFsdWUnLlwiO1xuICAgICAgdmFyIGggPSBuWzFdLCB1ID0gblsyXSwgcCA9IG5bM10sIGMgPSBoICsgXCIuXCIgKyB1O1xuICAgICAgaWYgKHRoaXMucGFyc2VkSldTID0ge30sIHRoaXMucGFyc2VkSldTLmhlYWRCNjRVID0gaCwgdGhpcy5wYXJzZWRKV1MucGF5bG9hZEI2NFUgPSB1LCB0aGlzLnBhcnNlZEpXUy5zaWd2YWxCNjRVID0gcCwgdGhpcy5wYXJzZWRKV1Muc2kgPSBjLCAhcykge1xuICAgICAgICB2YXIgeSA9IFkocCksIHYgPSB2ZSh5LCAxNik7XG4gICAgICAgIHRoaXMucGFyc2VkSldTLnNpZ3ZhbEggPSB5LCB0aGlzLnBhcnNlZEpXUy5zaWd2YWxCSSA9IHY7XG4gICAgICB9XG4gICAgICB2YXIgbyA9IHdlKGgpLCBsID0gd2UodSk7XG4gICAgICBpZiAodGhpcy5wYXJzZWRKV1MuaGVhZFMgPSBvLCB0aGlzLnBhcnNlZEpXUy5wYXlsb2FkUyA9IGwsICFyKG8sIHRoaXMucGFyc2VkSldTLCBcImhlYWRQXCIpKVxuICAgICAgICB0aHJvdyBcIm1hbGZvcm1lZCBKU09OIHN0cmluZyBmb3IgSldTIEhlYWQ6IFwiICsgbztcbiAgICB9XG4gIH07XG59O1xuYS5qd3MuSldTLnNpZ24gPSBmdW5jdGlvbihlLCB0LCByLCBpLCBzKSB7XG4gIHZhciBuID0gYSwgaCA9IG4uandzLCB1ID0gaC5KV1MsIHAgPSB1LnJlYWRTYWZlSlNPTlN0cmluZywgYyA9IHUuaXNTYWZlSlNPTlN0cmluZywgeSA9IG4uY3J5cHRvO1xuICB5LkVDRFNBO1xuICB2YXIgdiA9IHkuTWFjLCBvID0geS5TaWduYXR1cmUsIGwgPSBKU09OLCBmLCBkLCBnO1xuICBpZiAodHlwZW9mIHQgIT0gXCJzdHJpbmdcIiAmJiB0eXBlb2YgdCAhPSBcIm9iamVjdFwiKVxuICAgIHRocm93IFwic3BIZWFkZXIgbXVzdCBiZSBKU09OIHN0cmluZyBvciBvYmplY3Q6IFwiICsgdDtcbiAgaWYgKHR5cGVvZiB0ID09IFwib2JqZWN0XCIgJiYgKGQgPSB0LCBmID0gbC5zdHJpbmdpZnkoZCkpLCB0eXBlb2YgdCA9PSBcInN0cmluZ1wiKSB7XG4gICAgaWYgKGYgPSB0LCAhYyhmKSlcbiAgICAgIHRocm93IFwiSldTIEhlYWQgaXMgbm90IHNhZmUgSlNPTiBzdHJpbmc6IFwiICsgZjtcbiAgICBkID0gcChmKTtcbiAgfVxuICBpZiAoZyA9IHIsIHR5cGVvZiByID09IFwib2JqZWN0XCIgJiYgKGcgPSBsLnN0cmluZ2lmeShyKSksIChlID09IFwiXCIgfHwgZSA9PSBudWxsKSAmJiBkLmFsZyAhPT0gdm9pZCAwICYmIChlID0gZC5hbGcpLCBlICE9IFwiXCIgJiYgZSAhPSBudWxsICYmIGQuYWxnID09PSB2b2lkIDAgJiYgKGQuYWxnID0gZSwgZiA9IGwuc3RyaW5naWZ5KGQpKSwgZSAhPT0gZC5hbGcpXG4gICAgdGhyb3cgXCJhbGcgYW5kIHNIZWFkZXIuYWxnIGRvZXNuJ3QgbWF0Y2g6IFwiICsgZSArIFwiIT1cIiArIGQuYWxnO1xuICB2YXIgUyA9IG51bGw7XG4gIGlmICh1Lmp3c2FsZzJzaWdhbGdbZV0gPT09IHZvaWQgMClcbiAgICB0aHJvdyBcInVuc3VwcG9ydGVkIGFsZyBuYW1lOiBcIiArIGU7XG4gIFMgPSB1Lmp3c2FsZzJzaWdhbGdbZV07XG4gIHZhciBiID0gSmUoZiksIEQgPSBKZShnKSwgQSA9IGIgKyBcIi5cIiArIEQsIEkgPSBcIlwiO1xuICBpZiAoUy5zdWJzdHIoMCwgNCkgPT0gXCJIbWFjXCIpIHtcbiAgICBpZiAoaSA9PT0gdm9pZCAwKVxuICAgICAgdGhyb3cgXCJtYWMga2V5IHNoYWxsIGJlIHNwZWNpZmllZCBmb3IgSFMqIGFsZ1wiO1xuICAgIHZhciBtID0gbmV3IHYoeyBhbGc6IFMsIHByb3Y6IFwiY3J5cHRvanNcIiwgcGFzczogaSB9KTtcbiAgICBtLnVwZGF0ZVN0cmluZyhBKSwgSSA9IG0uZG9GaW5hbCgpO1xuICB9IGVsc2UgaWYgKFMuaW5kZXhPZihcIndpdGhFQ0RTQVwiKSAhPSAtMSkge1xuICAgIHZhciBFID0gbmV3IG8oeyBhbGc6IFMgfSk7XG4gICAgRS5pbml0KGksIHMpLCBFLnVwZGF0ZVN0cmluZyhBKTtcbiAgICB2YXIgdyA9IEUuc2lnbigpO1xuICAgIEkgPSBhLmNyeXB0by5FQ0RTQS5hc24xU2lnVG9Db25jYXRTaWcodyk7XG4gIH0gZWxzZSBpZiAoUyAhPSBcIm5vbmVcIikge1xuICAgIHZhciBFID0gbmV3IG8oeyBhbGc6IFMgfSk7XG4gICAgRS5pbml0KGksIHMpLCBFLnVwZGF0ZVN0cmluZyhBKSwgSSA9IEUuc2lnbigpO1xuICB9XG4gIHZhciB4ID0gYWUoSSk7XG4gIHJldHVybiBBICsgXCIuXCIgKyB4O1xufTtcbmEuandzLkpXUy52ZXJpZnkgPSBmdW5jdGlvbihlLCB0LCByKSB7XG4gIHZhciBpID0gYSwgcyA9IGkuandzLCBuID0gcy5KV1MsIGggPSBuLnJlYWRTYWZlSlNPTlN0cmluZywgdSA9IGkuY3J5cHRvLCBwID0gdS5FQ0RTQSwgYyA9IHUuTWFjLCB5ID0gdS5TaWduYXR1cmUsIHY7XG4gIGlmICh0eXBlb2YgcSAhPT0gdm9pZCAwICYmICh2ID0gcSksICFIdChlKSlcbiAgICByZXR1cm4gITE7XG4gIHZhciBvID0gZS5zcGxpdChcIi5cIik7XG4gIGlmIChvLmxlbmd0aCAhPT0gMylcbiAgICByZXR1cm4gITE7XG4gIHZhciBsID0gb1swXSwgZiA9IG9bMV0sIGQgPSBsICsgXCIuXCIgKyBmLCBnID0gWShvWzJdKSwgUyA9IGgod2Uob1swXSkpLCBiID0gbnVsbCwgRCA9IG51bGw7XG4gIGlmIChTLmFsZyA9PT0gdm9pZCAwKVxuICAgIHRocm93IFwiYWxnb3JpdGhtIG5vdCBzcGVjaWZpZWQgaW4gaGVhZGVyXCI7XG4gIGlmIChiID0gUy5hbGcsIEQgPSBiLnN1YnN0cigwLCAyKSwgciAhPSBudWxsICYmIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChyKSA9PT0gXCJbb2JqZWN0IEFycmF5XVwiICYmIHIubGVuZ3RoID4gMCkge1xuICAgIHZhciBBID0gXCI6XCIgKyByLmpvaW4oXCI6XCIpICsgXCI6XCI7XG4gICAgaWYgKEEuaW5kZXhPZihcIjpcIiArIGIgKyBcIjpcIikgPT0gLTEpXG4gICAgICB0aHJvdyBcImFsZ29yaXRobSAnXCIgKyBiICsgXCInIG5vdCBhY2NlcHRlZCBpbiB0aGUgbGlzdFwiO1xuICB9XG4gIGlmIChiICE9IFwibm9uZVwiICYmIHQgPT09IG51bGwpXG4gICAgdGhyb3cgXCJrZXkgc2hhbGwgYmUgc3BlY2lmaWVkIHRvIHZlcmlmeS5cIjtcbiAgaWYgKHR5cGVvZiB0ID09IFwic3RyaW5nXCIgJiYgdC5pbmRleE9mKFwiLS0tLS1CRUdJTiBcIikgIT0gLTEgJiYgKHQgPSBrLmdldEtleSh0KSksIChEID09IFwiUlNcIiB8fCBEID09IFwiUFNcIikgJiYgISh0IGluc3RhbmNlb2YgdikpXG4gICAgdGhyb3cgXCJrZXkgc2hhbGwgYmUgYSBSU0FLZXkgb2JqIGZvciBSUyogYW5kIFBTKiBhbGdzXCI7XG4gIGlmIChEID09IFwiRVNcIiAmJiAhKHQgaW5zdGFuY2VvZiBwKSlcbiAgICB0aHJvdyBcImtleSBzaGFsbCBiZSBhIEVDRFNBIG9iaiBmb3IgRVMqIGFsZ3NcIjtcbiAgdmFyIEkgPSBudWxsO1xuICBpZiAobi5qd3NhbGcyc2lnYWxnW1MuYWxnXSA9PT0gdm9pZCAwKVxuICAgIHRocm93IFwidW5zdXBwb3J0ZWQgYWxnIG5hbWU6IFwiICsgYjtcbiAgaWYgKEkgPSBuLmp3c2FsZzJzaWdhbGdbYl0sIEkgPT0gXCJub25lXCIpXG4gICAgdGhyb3cgXCJub3Qgc3VwcG9ydGVkXCI7XG4gIGlmIChJLnN1YnN0cigwLCA0KSA9PSBcIkhtYWNcIikge1xuICAgIHZhciBtID0gbnVsbDtcbiAgICBpZiAodCA9PT0gdm9pZCAwKVxuICAgICAgdGhyb3cgXCJoZXhhZGVjaW1hbCBrZXkgc2hhbGwgYmUgc3BlY2lmaWVkIGZvciBITUFDXCI7XG4gICAgdmFyIEUgPSBuZXcgYyh7IGFsZzogSSwgcGFzczogdCB9KTtcbiAgICByZXR1cm4gRS51cGRhdGVTdHJpbmcoZCksIG0gPSBFLmRvRmluYWwoKSwgZyA9PSBtO1xuICB9IGVsc2UgaWYgKEkuaW5kZXhPZihcIndpdGhFQ0RTQVwiKSAhPSAtMSkge1xuICAgIHZhciB3ID0gbnVsbDtcbiAgICB0cnkge1xuICAgICAgdyA9IHAuY29uY2F0U2lnVG9BU04xU2lnKGcpO1xuICAgIH0gY2F0Y2gge1xuICAgICAgcmV0dXJuICExO1xuICAgIH1cbiAgICB2YXIgeCA9IG5ldyB5KHsgYWxnOiBJIH0pO1xuICAgIHJldHVybiB4LmluaXQodCksIHgudXBkYXRlU3RyaW5nKGQpLCB4LnZlcmlmeSh3KTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgeCA9IG5ldyB5KHsgYWxnOiBJIH0pO1xuICAgIHJldHVybiB4LmluaXQodCksIHgudXBkYXRlU3RyaW5nKGQpLCB4LnZlcmlmeShnKTtcbiAgfVxufTtcbmEuandzLkpXUy5wYXJzZSA9IGZ1bmN0aW9uKGUpIHtcbiAgdmFyIHQgPSBlLnNwbGl0KFwiLlwiKSwgciA9IHt9LCBpLCBzLCBuO1xuICBpZiAodC5sZW5ndGggIT0gMiAmJiB0Lmxlbmd0aCAhPSAzKVxuICAgIHRocm93IFwibWFsZm9ybWVkIHNKV1M6IHdyb25nIG51bWJlciBvZiAnLicgc3BsaXR0ZWQgZWxlbWVudHNcIjtcbiAgcmV0dXJuIGkgPSB0WzBdLCBzID0gdFsxXSwgdC5sZW5ndGggPT0gMyAmJiAobiA9IHRbMl0pLCByLmhlYWRlck9iaiA9IGEuandzLkpXUy5yZWFkU2FmZUpTT05TdHJpbmcod2UoaSkpLCByLnBheWxvYWRPYmogPSBhLmp3cy5KV1MucmVhZFNhZmVKU09OU3RyaW5nKHdlKHMpKSwgci5oZWFkZXJQUCA9IEpTT04uc3RyaW5naWZ5KHIuaGVhZGVyT2JqLCBudWxsLCBcIiAgXCIpLCByLnBheWxvYWRPYmogPT0gbnVsbCA/IHIucGF5bG9hZFBQID0gd2UocykgOiByLnBheWxvYWRQUCA9IEpTT04uc3RyaW5naWZ5KHIucGF5bG9hZE9iaiwgbnVsbCwgXCIgIFwiKSwgbiAhPT0gdm9pZCAwICYmIChyLnNpZ0hleCA9IFkobikpLCByO1xufTtcbmEuandzLkpXUy52ZXJpZnlKV1QgPSBmdW5jdGlvbihlLCB0LCByKSB7XG4gIHZhciBpID0gYSwgcyA9IGkuandzLCBuID0gcy5KV1MsIGggPSBuLnJlYWRTYWZlSlNPTlN0cmluZywgdSA9IG4uaW5BcnJheSwgcCA9IG4uaW5jbHVkZWRBcnJheTtcbiAgaWYgKCFIdChlKSlcbiAgICByZXR1cm4gITE7XG4gIHZhciBjID0gZS5zcGxpdChcIi5cIik7XG4gIGlmIChjLmxlbmd0aCAhPSAzKVxuICAgIHJldHVybiAhMTtcbiAgdmFyIHkgPSBjWzBdLCB2ID0gY1sxXTtcbiAgWShjWzJdKTtcbiAgdmFyIG8gPSBoKHdlKHkpKSwgbCA9IGgod2UodikpO1xuICBpZiAoby5hbGcgPT09IHZvaWQgMClcbiAgICByZXR1cm4gITE7XG4gIGlmIChyLmFsZyA9PT0gdm9pZCAwKVxuICAgIHRocm93IFwiYWNjZXB0RmllbGQuYWxnIHNoYWxsIGJlIHNwZWNpZmllZFwiO1xuICBpZiAoIXUoby5hbGcsIHIuYWxnKSB8fCBsLmlzcyAhPT0gdm9pZCAwICYmIHR5cGVvZiByLmlzcyA9PSBcIm9iamVjdFwiICYmICF1KGwuaXNzLCByLmlzcykgfHwgbC5zdWIgIT09IHZvaWQgMCAmJiB0eXBlb2Ygci5zdWIgPT0gXCJvYmplY3RcIiAmJiAhdShsLnN1Yiwgci5zdWIpKVxuICAgIHJldHVybiAhMTtcbiAgaWYgKGwuYXVkICE9PSB2b2lkIDAgJiYgdHlwZW9mIHIuYXVkID09IFwib2JqZWN0XCIpIHtcbiAgICBpZiAodHlwZW9mIGwuYXVkID09IFwic3RyaW5nXCIpIHtcbiAgICAgIGlmICghdShsLmF1ZCwgci5hdWQpKVxuICAgICAgICByZXR1cm4gITE7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgbC5hdWQgPT0gXCJvYmplY3RcIiAmJiAhcChsLmF1ZCwgci5hdWQpKVxuICAgICAgcmV0dXJuICExO1xuICB9XG4gIHZhciBmID0gcy5JbnREYXRlLmdldE5vdygpO1xuICByZXR1cm4gci52ZXJpZnlBdCAhPT0gdm9pZCAwICYmIHR5cGVvZiByLnZlcmlmeUF0ID09IFwibnVtYmVyXCIgJiYgKGYgPSByLnZlcmlmeUF0KSwgKHIuZ3JhY2VQZXJpb2QgPT09IHZvaWQgMCB8fCB0eXBlb2Ygci5ncmFjZVBlcmlvZCAhPSBcIm51bWJlclwiKSAmJiAoci5ncmFjZVBlcmlvZCA9IDApLCAhKGwuZXhwICE9PSB2b2lkIDAgJiYgdHlwZW9mIGwuZXhwID09IFwibnVtYmVyXCIgJiYgbC5leHAgKyByLmdyYWNlUGVyaW9kIDwgZiB8fCBsLm5iZiAhPT0gdm9pZCAwICYmIHR5cGVvZiBsLm5iZiA9PSBcIm51bWJlclwiICYmIGYgPCBsLm5iZiAtIHIuZ3JhY2VQZXJpb2QgfHwgbC5pYXQgIT09IHZvaWQgMCAmJiB0eXBlb2YgbC5pYXQgPT0gXCJudW1iZXJcIiAmJiBmIDwgbC5pYXQgLSByLmdyYWNlUGVyaW9kIHx8IGwuanRpICE9PSB2b2lkIDAgJiYgci5qdGkgIT09IHZvaWQgMCAmJiBsLmp0aSAhPT0gci5qdGkgfHwgIW4udmVyaWZ5KGUsIHQsIHIuYWxnKSk7XG59O1xuYS5qd3MuSldTLmluY2x1ZGVkQXJyYXkgPSBmdW5jdGlvbihlLCB0KSB7XG4gIHZhciByID0gYS5qd3MuSldTLmluQXJyYXk7XG4gIGlmIChlID09PSBudWxsIHx8IHR5cGVvZiBlICE9IFwib2JqZWN0XCIgfHwgdHlwZW9mIGUubGVuZ3RoICE9IFwibnVtYmVyXCIpXG4gICAgcmV0dXJuICExO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGUubGVuZ3RoOyBpKyspXG4gICAgaWYgKCFyKGVbaV0sIHQpKVxuICAgICAgcmV0dXJuICExO1xuICByZXR1cm4gITA7XG59O1xuYS5qd3MuSldTLmluQXJyYXkgPSBmdW5jdGlvbihlLCB0KSB7XG4gIGlmICh0ID09PSBudWxsIHx8IHR5cGVvZiB0ICE9IFwib2JqZWN0XCIgfHwgdHlwZW9mIHQubGVuZ3RoICE9IFwibnVtYmVyXCIpXG4gICAgcmV0dXJuICExO1xuICBmb3IgKHZhciByID0gMDsgciA8IHQubGVuZ3RoOyByKyspXG4gICAgaWYgKHRbcl0gPT0gZSlcbiAgICAgIHJldHVybiAhMDtcbiAgcmV0dXJuICExO1xufTtcbmEuandzLkpXUy5qd3NhbGcyc2lnYWxnID0geyBIUzI1NjogXCJIbWFjU0hBMjU2XCIsIEhTMzg0OiBcIkhtYWNTSEEzODRcIiwgSFM1MTI6IFwiSG1hY1NIQTUxMlwiLCBSUzI1NjogXCJTSEEyNTZ3aXRoUlNBXCIsIFJTMzg0OiBcIlNIQTM4NHdpdGhSU0FcIiwgUlM1MTI6IFwiU0hBNTEyd2l0aFJTQVwiLCBFUzI1NjogXCJTSEEyNTZ3aXRoRUNEU0FcIiwgRVMzODQ6IFwiU0hBMzg0d2l0aEVDRFNBXCIsIEVTNTEyOiBcIlNIQTUxMndpdGhFQ0RTQVwiLCBQUzI1NjogXCJTSEEyNTZ3aXRoUlNBYW5kTUdGMVwiLCBQUzM4NDogXCJTSEEzODR3aXRoUlNBYW5kTUdGMVwiLCBQUzUxMjogXCJTSEE1MTJ3aXRoUlNBYW5kTUdGMVwiLCBub25lOiBcIm5vbmVcIiB9O1xuYS5qd3MuSldTLmlzU2FmZUpTT05TdHJpbmcgPSBmdW5jdGlvbihlLCB0LCByKSB7XG4gIHZhciBpID0gbnVsbDtcbiAgdHJ5IHtcbiAgICByZXR1cm4gaSA9IFB0KGUpLCB0eXBlb2YgaSAhPSBcIm9iamVjdFwiIHx8IGkuY29uc3RydWN0b3IgPT09IEFycmF5ID8gMCA6ICh0ICYmICh0W3JdID0gaSksIDEpO1xuICB9IGNhdGNoIHtcbiAgICByZXR1cm4gMDtcbiAgfVxufTtcbmEuandzLkpXUy5yZWFkU2FmZUpTT05TdHJpbmcgPSBmdW5jdGlvbihlKSB7XG4gIHZhciB0ID0gbnVsbDtcbiAgdHJ5IHtcbiAgICByZXR1cm4gdCA9IFB0KGUpLCB0eXBlb2YgdCAhPSBcIm9iamVjdFwiIHx8IHQuY29uc3RydWN0b3IgPT09IEFycmF5ID8gbnVsbCA6IHQ7XG4gIH0gY2F0Y2gge1xuICAgIHJldHVybiBudWxsO1xuICB9XG59O1xuYS5qd3MuSldTLmdldEVuY29kZWRTaWduYXR1cmVWYWx1ZUZyb21KV1MgPSBmdW5jdGlvbihlKSB7XG4gIHZhciB0ID0gZS5tYXRjaCgvXlteLl0rXFwuW14uXStcXC4oW14uXSspJC8pO1xuICBpZiAodCA9PSBudWxsKVxuICAgIHRocm93IFwiSldTIHNpZ25hdHVyZSBpcyBub3QgYSBmb3JtIG9mICdIZWFkLlBheWxvYWQuU2lnVmFsdWUnLlwiO1xuICByZXR1cm4gdFsxXTtcbn07XG5hLmp3cy5KV1MuZ2V0SldLdGh1bWJwcmludCA9IGZ1bmN0aW9uKGUpIHtcbiAgaWYgKGUua3R5ICE9PSBcIlJTQVwiICYmIGUua3R5ICE9PSBcIkVDXCIgJiYgZS5rdHkgIT09IFwib2N0XCIpXG4gICAgdGhyb3cgXCJ1bnN1cHBvcnRlZCBhbGdvcml0aG0gZm9yIEpXSyBUaHVtcHJpbnRcIjtcbiAgdmFyIHQgPSBcIntcIjtcbiAgaWYgKGUua3R5ID09PSBcIlJTQVwiKSB7XG4gICAgaWYgKHR5cGVvZiBlLm4gIT0gXCJzdHJpbmdcIiB8fCB0eXBlb2YgZS5lICE9IFwic3RyaW5nXCIpXG4gICAgICB0aHJvdyBcIndyb25nIG4gYW5kIGUgdmFsdWUgZm9yIFJTQSBrZXlcIjtcbiAgICB0ICs9ICdcImVcIjpcIicgKyBlLmUgKyAnXCIsJywgdCArPSAnXCJrdHlcIjpcIicgKyBlLmt0eSArICdcIiwnLCB0ICs9ICdcIm5cIjpcIicgKyBlLm4gKyAnXCJ9JztcbiAgfSBlbHNlIGlmIChlLmt0eSA9PT0gXCJFQ1wiKSB7XG4gICAgaWYgKHR5cGVvZiBlLmNydiAhPSBcInN0cmluZ1wiIHx8IHR5cGVvZiBlLnggIT0gXCJzdHJpbmdcIiB8fCB0eXBlb2YgZS55ICE9IFwic3RyaW5nXCIpXG4gICAgICB0aHJvdyBcIndyb25nIGNydiwgeCBhbmQgeSB2YWx1ZSBmb3IgRUMga2V5XCI7XG4gICAgdCArPSAnXCJjcnZcIjpcIicgKyBlLmNydiArICdcIiwnLCB0ICs9ICdcImt0eVwiOlwiJyArIGUua3R5ICsgJ1wiLCcsIHQgKz0gJ1wieFwiOlwiJyArIGUueCArICdcIiwnLCB0ICs9ICdcInlcIjpcIicgKyBlLnkgKyAnXCJ9JztcbiAgfSBlbHNlIGlmIChlLmt0eSA9PT0gXCJvY3RcIikge1xuICAgIGlmICh0eXBlb2YgZS5rICE9IFwic3RyaW5nXCIpXG4gICAgICB0aHJvdyBcIndyb25nIGsgdmFsdWUgZm9yIG9jdChzeW1tZXRyaWMpIGtleVwiO1xuICAgIHQgKz0gJ1wia3R5XCI6XCInICsgZS5rdHkgKyAnXCIsJywgdCArPSAnXCJrXCI6XCInICsgZS5rICsgJ1wifSc7XG4gIH1cbiAgdmFyIHIgPSBQZSh0KSwgaSA9IGEuY3J5cHRvLlV0aWwuaGFzaEhleChyLCBcInNoYTI1NlwiKSwgcyA9IGFlKGkpO1xuICByZXR1cm4gcztcbn07XG5hLmp3cy5JbnREYXRlID0ge307XG5hLmp3cy5JbnREYXRlLmdldCA9IGZ1bmN0aW9uKGUpIHtcbiAgdmFyIHQgPSBhLmp3cy5JbnREYXRlLCByID0gdC5nZXROb3csIGkgPSB0LmdldFp1bHU7XG4gIGlmIChlID09IFwibm93XCIpXG4gICAgcmV0dXJuIHIoKTtcbiAgaWYgKGUgPT0gXCJub3cgKyAxaG91clwiKVxuICAgIHJldHVybiByKCkgKyA2MCAqIDYwO1xuICBpZiAoZSA9PSBcIm5vdyArIDFkYXlcIilcbiAgICByZXR1cm4gcigpICsgNjAgKiA2MCAqIDI0O1xuICBpZiAoZSA9PSBcIm5vdyArIDFtb250aFwiKVxuICAgIHJldHVybiByKCkgKyA2MCAqIDYwICogMjQgKiAzMDtcbiAgaWYgKGUgPT0gXCJub3cgKyAxeWVhclwiKVxuICAgIHJldHVybiByKCkgKyA2MCAqIDYwICogMjQgKiAzNjU7XG4gIGlmIChlLm1hdGNoKC9aJC8pKVxuICAgIHJldHVybiBpKGUpO1xuICBpZiAoZS5tYXRjaCgvXlswLTldKyQvKSlcbiAgICByZXR1cm4gcGFyc2VJbnQoZSk7XG4gIHRocm93IFwidW5zdXBwb3J0ZWQgZm9ybWF0OiBcIiArIGU7XG59O1xuYS5qd3MuSW50RGF0ZS5nZXRadWx1ID0gZnVuY3Rpb24oZSkge1xuICByZXR1cm4gZ24oZSk7XG59O1xuYS5qd3MuSW50RGF0ZS5nZXROb3cgPSBmdW5jdGlvbigpIHtcbiAgdmFyIGUgPSB+figvKiBAX19QVVJFX18gKi8gbmV3IERhdGUoKSAvIDFlMyk7XG4gIHJldHVybiBlO1xufTtcbmEuandzLkludERhdGUuaW50RGF0ZTJVVENTdHJpbmcgPSBmdW5jdGlvbihlKSB7XG4gIHZhciB0ID0gbmV3IERhdGUoZSAqIDFlMyk7XG4gIHJldHVybiB0LnRvVVRDU3RyaW5nKCk7XG59O1xuYS5qd3MuSW50RGF0ZS5pbnREYXRlMlp1bHUgPSBmdW5jdGlvbihlKSB7XG4gIHZhciB0ID0gbmV3IERhdGUoZSAqIDFlMyksIHIgPSAoXCIwMDAwXCIgKyB0LmdldFVUQ0Z1bGxZZWFyKCkpLnNsaWNlKC00KSwgaSA9IChcIjAwXCIgKyAodC5nZXRVVENNb250aCgpICsgMSkpLnNsaWNlKC0yKSwgcyA9IChcIjAwXCIgKyB0LmdldFVUQ0RhdGUoKSkuc2xpY2UoLTIpLCBuID0gKFwiMDBcIiArIHQuZ2V0VVRDSG91cnMoKSkuc2xpY2UoLTIpLCBoID0gKFwiMDBcIiArIHQuZ2V0VVRDTWludXRlcygpKS5zbGljZSgtMiksIHUgPSAoXCIwMFwiICsgdC5nZXRVVENTZWNvbmRzKCkpLnNsaWNlKC0yKTtcbiAgcmV0dXJuIHIgKyBpICsgcyArIG4gKyBoICsgdSArIFwiWlwiO1xufTtcbih0eXBlb2YgYSA+IFwidVwiIHx8ICFhKSAmJiAoYSA9IHt9KTtcbih0eXBlb2YgYS5qd3MgPiBcInVcIiB8fCAhYS5qd3MpICYmIChhLmp3cyA9IHt9KTtcbmEuandzLkpXU0pTID0gZnVuY3Rpb24oKSB7XG4gIHZhciBlID0gYSwgdCA9IGUuandzLCByID0gdC5KV1MsIGkgPSByLnJlYWRTYWZlSlNPTlN0cmluZztcbiAgdGhpcy5hSGVhZGVyID0gW10sIHRoaXMuc1BheWxvYWQgPSBcIlwiLCB0aGlzLmFTaWduYXR1cmUgPSBbXSwgdGhpcy5pbml0ID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5hSGVhZGVyID0gW10sIHRoaXMuc1BheWxvYWQgPSB2b2lkIDAsIHRoaXMuYVNpZ25hdHVyZSA9IFtdO1xuICB9LCB0aGlzLmluaXRXaXRoSldTID0gZnVuY3Rpb24ocykge1xuICAgIHRoaXMuaW5pdCgpO1xuICAgIHZhciBuID0gcy5zcGxpdChcIi5cIik7XG4gICAgaWYgKG4ubGVuZ3RoICE9IDMpXG4gICAgICB0aHJvdyBcIm1hbGZvcm1lZCBpbnB1dCBKV1NcIjtcbiAgICB0aGlzLmFIZWFkZXIucHVzaChuWzBdKSwgdGhpcy5zUGF5bG9hZCA9IG5bMV0sIHRoaXMuYVNpZ25hdHVyZS5wdXNoKG5bMl0pO1xuICB9LCB0aGlzLmFkZFNpZ25hdHVyZSA9IGZ1bmN0aW9uKHMsIG4sIGgsIHUpIHtcbiAgICBpZiAodGhpcy5zUGF5bG9hZCA9PT0gdm9pZCAwIHx8IHRoaXMuc1BheWxvYWQgPT09IG51bGwpXG4gICAgICB0aHJvdyBcInRoZXJlJ3Mgbm8gSlNPTi1KUyBzaWduYXR1cmUgdG8gYWRkLlwiO1xuICAgIHZhciBwID0gdGhpcy5hSGVhZGVyLmxlbmd0aDtcbiAgICBpZiAodGhpcy5hSGVhZGVyLmxlbmd0aCAhPSB0aGlzLmFTaWduYXR1cmUubGVuZ3RoKVxuICAgICAgdGhyb3cgXCJhSGVhZGVyLmxlbmd0aCAhPSBhU2lnbmF0dXJlLmxlbmd0aFwiO1xuICAgIHRyeSB7XG4gICAgICB2YXIgYyA9IGEuandzLkpXUy5zaWduKHMsIG4sIHRoaXMuc1BheWxvYWQsIGgsIHUpLCB5ID0gYy5zcGxpdChcIi5cIiksIHYgPSB5WzBdLCBvID0geVsyXTtcbiAgICAgIHRoaXMuYUhlYWRlci5wdXNoKHlbMF0pLCB0aGlzLmFTaWduYXR1cmUucHVzaCh5WzJdKTtcbiAgICB9IGNhdGNoIChsKSB7XG4gICAgICB0aHJvdyB0aGlzLmFIZWFkZXIubGVuZ3RoID4gcCAmJiB0aGlzLmFIZWFkZXIucG9wKCksIHRoaXMuYVNpZ25hdHVyZS5sZW5ndGggPiBwICYmIHRoaXMuYVNpZ25hdHVyZS5wb3AoKSwgXCJhZGRTaWduYXR1cmUgZmFpbGVkOiBcIiArIGw7XG4gICAgfVxuICB9LCB0aGlzLnZlcmlmeUFsbCA9IGZ1bmN0aW9uKHMpIHtcbiAgICBpZiAodGhpcy5hSGVhZGVyLmxlbmd0aCAhPT0gcy5sZW5ndGggfHwgdGhpcy5hU2lnbmF0dXJlLmxlbmd0aCAhPT0gcy5sZW5ndGgpXG4gICAgICByZXR1cm4gITE7XG4gICAgZm9yICh2YXIgbiA9IDA7IG4gPCBzLmxlbmd0aDsgbisrKSB7XG4gICAgICB2YXIgaCA9IHNbbl07XG4gICAgICBpZiAoaC5sZW5ndGggIT09IDIpXG4gICAgICAgIHJldHVybiAhMTtcbiAgICAgIHZhciB1ID0gdGhpcy52ZXJpZnlOdGgobiwgaFswXSwgaFsxXSk7XG4gICAgICBpZiAodSA9PT0gITEpXG4gICAgICAgIHJldHVybiAhMTtcbiAgICB9XG4gICAgcmV0dXJuICEwO1xuICB9LCB0aGlzLnZlcmlmeU50aCA9IGZ1bmN0aW9uKHMsIG4sIGgpIHtcbiAgICBpZiAodGhpcy5hSGVhZGVyLmxlbmd0aCA8PSBzIHx8IHRoaXMuYVNpZ25hdHVyZS5sZW5ndGggPD0gcylcbiAgICAgIHJldHVybiAhMTtcbiAgICB2YXIgdSA9IHRoaXMuYUhlYWRlcltzXSwgcCA9IHRoaXMuYVNpZ25hdHVyZVtzXSwgYyA9IHUgKyBcIi5cIiArIHRoaXMuc1BheWxvYWQgKyBcIi5cIiArIHAsIHkgPSAhMTtcbiAgICB0cnkge1xuICAgICAgeSA9IHIudmVyaWZ5KGMsIG4sIGgpO1xuICAgIH0gY2F0Y2gge1xuICAgICAgcmV0dXJuICExO1xuICAgIH1cbiAgICByZXR1cm4geTtcbiAgfSwgdGhpcy5yZWFkSldTSlMgPSBmdW5jdGlvbihzKSB7XG4gICAgaWYgKHR5cGVvZiBzID09IFwic3RyaW5nXCIpIHtcbiAgICAgIHZhciBuID0gaShzKTtcbiAgICAgIGlmIChuID09IG51bGwpXG4gICAgICAgIHRocm93IFwiYXJndW1lbnQgaXMgbm90IHNhZmUgSlNPTiBvYmplY3Qgc3RyaW5nXCI7XG4gICAgICB0aGlzLmFIZWFkZXIgPSBuLmhlYWRlcnMsIHRoaXMuc1BheWxvYWQgPSBuLnBheWxvYWQsIHRoaXMuYVNpZ25hdHVyZSA9IG4uc2lnbmF0dXJlcztcbiAgICB9IGVsc2VcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmIChzLmhlYWRlcnMubGVuZ3RoID4gMClcbiAgICAgICAgICB0aGlzLmFIZWFkZXIgPSBzLmhlYWRlcnM7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICB0aHJvdyBcIm1hbGZvcm1lZCBoZWFkZXJcIjtcbiAgICAgICAgaWYgKHR5cGVvZiBzLnBheWxvYWQgPT0gXCJzdHJpbmdcIilcbiAgICAgICAgICB0aGlzLnNQYXlsb2FkID0gcy5wYXlsb2FkO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgdGhyb3cgXCJtYWxmb3JtZWQgc2lnbmF0dXJlc1wiO1xuICAgICAgICBpZiAocy5zaWduYXR1cmVzLmxlbmd0aCA+IDApXG4gICAgICAgICAgdGhpcy5hU2lnbmF0dXJlID0gcy5zaWduYXR1cmVzO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgdGhyb3cgXCJtYWxmb3JtZWQgc2lnbmF0dXJlc1wiO1xuICAgICAgfSBjYXRjaCAoaCkge1xuICAgICAgICB0aHJvdyBcIm1hbGZvcm1lZCBKV1MtSlMgSlNPTiBvYmplY3Q6IFwiICsgaDtcbiAgICAgIH1cbiAgfSwgdGhpcy5nZXRKU09OID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHsgaGVhZGVyczogdGhpcy5hSGVhZGVyLCBwYXlsb2FkOiB0aGlzLnNQYXlsb2FkLCBzaWduYXR1cmVzOiB0aGlzLmFTaWduYXR1cmUgfTtcbiAgfSwgdGhpcy5pc0VtcHR5ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuYUhlYWRlci5sZW5ndGggPT0gMCA/IDEgOiAwO1xuICB9O1xufTtcbmEuY3J5cHRvLkVDRFNBO1xuYS5jcnlwdG8uRFNBO1xuYS5jcnlwdG8uU2lnbmF0dXJlO1xuYS5jcnlwdG8uTWVzc2FnZURpZ2VzdDtcbmEuY3J5cHRvLk1hYztcbnZhciB3biA9IGssIEZuID0gd2UsIGJuID0gYTtcbmEuY3J5cHRvO1xuYS5hc24xO1xuYS5qd3M7XG5hLmxhbmc7XG5jb25zdCBBbiA9IC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuZnJlZXplKC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuZGVmaW5lUHJvcGVydHkoe1xuICBfX3Byb3RvX186IG51bGwsXG4gIEtFWVVUSUw6IHduLFxuICBLSlVSOiBibixcbiAgYjY0dXRvdXRmODogRm5cbn0sIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogXCJNb2R1bGVcIiB9KSk7XG5leHBvcnQge1xuICBBbiBhcyBqXG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@kinde/jwt-validator/dist/jsrsasign-B2gZIJhY.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@kinde/jwt-validator/dist/jwt-validator.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@kinde/jwt-validator/dist/jwt-validator.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   validateToken: () => (/* binding */ v)\n/* harmony export */ });\nconst d = /* @__PURE__ */ new Map();\nfunction b() {\n  return typeof window < \"u\" ? window.crypto : globalThis.crypto;\n}\nasync function A(e) {\n  let t = 0;\n  for (; t < 3; ) {\n    const n = new AbortController(), a = setTimeout(() => n.abort(), 5e3);\n    try {\n      const o = await fetch(`${e}/.well-known/jwks.json`, {\n        signal: n.signal\n      });\n      if (clearTimeout(a), !o.ok)\n        throw new Error(\n          `Failed to fetch JWKS: ${o.status} ${o.statusText}`\n        );\n      return await o.json();\n    } catch (o) {\n      t++, console.error(`Attempt ${t} - Error fetching JWKS:`, o);\n    }\n  }\n  throw new Error(\"Failed to fetch JWKS after multiple retries\");\n}\nasync function S(e, r, t) {\n  t && d.delete(r);\n  let n = d.get(r);\n  n || (n = await A(r), d.set(r, n));\n  try {\n    return await E(e, JSON.stringify(n)), { valid: !0, message: \"Token is valid\" };\n  } catch (a) {\n    return t ? {\n      valid: !1,\n      message: a instanceof Error ? a.message : \"Unknown Error\"\n    } : S(e, r, !0);\n  }\n}\nasync function E(e, r) {\n  const [t, n, a] = e.split(\".\"), k = JSON.parse(atob(t)).kid, i = J(r, k);\n  if (!i || i.kty !== \"RSA\" || !i.n || !i.e || i.use !== \"sig\")\n    throw new Error(\"Invalid JWK RSA key\");\n  const c = b();\n  if (c != null && c.subtle) {\n    const l = m(i.n), u = m(i.e), f = {\n      name: \"RSASSA-PKCS1-v1_5\",\n      hash: { name: \"SHA-256\" }\n    };\n    try {\n      const s = {\n        kty: \"RSA\",\n        n: p(l),\n        e: p(u),\n        alg: \"RS256\"\n      }, w = await c.subtle.importKey(\n        \"jwk\",\n        s,\n        f,\n        !0,\n        [\"verify\"]\n      ), h = t + \".\" + n, g = j(a), y = await c.subtle.verify(\n        f,\n        w,\n        g,\n        new TextEncoder().encode(h)\n      );\n      if (!y)\n        throw new Error(\"Signature verification failed\");\n      return y;\n    } catch (s) {\n      throw s;\n    }\n  } else {\n    const { KJUR: l, KEYUTIL: u, b64utoutf8: f } = await __webpack_require__.e(/*! import() */ \"vendor-chunks/@kinde\").then(__webpack_require__.bind(__webpack_require__, /*! ./jsrsasign-B2gZIJhY.js */ \"(rsc)/./node_modules/@kinde/jwt-validator/dist/jsrsasign-B2gZIJhY.js\")).then((g) => g.j), s = JSON.parse(f(t));\n    if (s.alg !== \"RS256\")\n      throw new Error(\"Unsupported signature algorithm: \" + s);\n    const w = u.getKey(i);\n    if (!l.jws.JWS.verifyJWT(\n      e,\n      w,\n      { alg: [\"RS256\"] }\n      // Adjust if using a different algorithm\n    ))\n      throw new Error(\"Signature verification failed\");\n    return !0;\n  }\n}\nfunction p(e) {\n  let r = e.toString(16);\n  r.length % 2 !== 0 && (r = \"0\" + r);\n  const t = new Uint8Array(\n    r.match(/.{1,2}/g).map((a) => parseInt(a, 16))\n  );\n  return btoa(String.fromCharCode.apply(null, Array.from(t))).replace(/\\+/g, \"-\").replace(/\\//g, \"_\").replace(/=+$/, \"\");\n}\nfunction J(e, r) {\n  const t = JSON.parse(e);\n  for (const n of t.keys)\n    if (n.kid === r)\n      return n;\n  throw new Error(`JWK not found${r ? ` for kid ${r}` : \"\"}`);\n}\nfunction m(e) {\n  e = e.replace(/[^A-Za-z0-9\\-_]/g, \"\"), e += Array.from(\n    { length: (4 - e.length % 4) % 4 },\n    () => \"=\"\n  ).join(\"\");\n  const r = e.replace(/-/g, \"+\").replace(/_/g, \"/\");\n  let t;\n  try {\n    t = atob(r);\n  } catch (o) {\n    throw new Error(\"Invalid Base64 string: \" + o.message);\n  }\n  const n = Array.from(\n    t,\n    (o) => o.charCodeAt(0).toString(16).padStart(2, \"0\")\n  ).join(\"\");\n  if (n.toLowerCase() === \"ffffffffffffffff\" || n.toLowerCase() === \"7ff0000000000000\")\n    throw new Error(\"Decoded value represents NaN or Infinity\");\n  const a = n.replace(/^0+/, \"\");\n  return BigInt(\"0x\" + a || 0);\n}\nfunction j(e) {\n  return Uint8Array.from(\n    atob(e.replace(/-/g, \"+\").replace(/_/g, \"/\")),\n    (r) => r.charCodeAt(0)\n  );\n}\nconst v = async (e) => e.token ? e.domain ? e.token.split(\".\").length !== 3 ? { valid: !1, message: \"Invalid JWT format\" } : await S(e.token, e.domain) : { valid: !1, message: \"Domain is required\" } : { valid: !1, message: \"Token is required\" };\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGtpbmRlL2p3dC12YWxpZGF0b3IvZGlzdC9qd3QtdmFsaWRhdG9yLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLE9BQU87QUFDaEI7QUFDQTtBQUNBLCtCQUErQixFQUFFO0FBQ2pDO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxtQ0FBbUMsVUFBVSxFQUFFLGFBQWE7QUFDNUQ7QUFDQTtBQUNBLE1BQU07QUFDTixvQ0FBb0MsR0FBRztBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0Q0FBNEM7QUFDNUMsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxJQUFJO0FBQ0osWUFBWSxxQ0FBcUMsUUFBUSx3TkFBaUM7QUFDMUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxJQUFJO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0MsZ0JBQWdCLEVBQUUsT0FBTztBQUMzRDtBQUNBO0FBQ0E7QUFDQSxNQUFNLGdDQUFnQztBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLENBQUc7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnRkFBZ0YsMkNBQTJDLGlDQUFpQywyQ0FBMkMsSUFBSTtBQUd6TSIsInNvdXJjZXMiOlsid2VicGFjazovL2Nhc2Vjb2JyYS1kZXYvLi9ub2RlX21vZHVsZXMvQGtpbmRlL2p3dC12YWxpZGF0b3IvZGlzdC9qd3QtdmFsaWRhdG9yLmpzP2UzZmMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG5mdW5jdGlvbiBiKCkge1xuICByZXR1cm4gdHlwZW9mIHdpbmRvdyA8IFwidVwiID8gd2luZG93LmNyeXB0byA6IGdsb2JhbFRoaXMuY3J5cHRvO1xufVxuYXN5bmMgZnVuY3Rpb24gQShlKSB7XG4gIGxldCB0ID0gMDtcbiAgZm9yICg7IHQgPCAzOyApIHtcbiAgICBjb25zdCBuID0gbmV3IEFib3J0Q29udHJvbGxlcigpLCBhID0gc2V0VGltZW91dCgoKSA9PiBuLmFib3J0KCksIDVlMyk7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IG8gPSBhd2FpdCBmZXRjaChgJHtlfS8ud2VsbC1rbm93bi9qd2tzLmpzb25gLCB7XG4gICAgICAgIHNpZ25hbDogbi5zaWduYWxcbiAgICAgIH0pO1xuICAgICAgaWYgKGNsZWFyVGltZW91dChhKSwgIW8ub2spXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICBgRmFpbGVkIHRvIGZldGNoIEpXS1M6ICR7by5zdGF0dXN9ICR7by5zdGF0dXNUZXh0fWBcbiAgICAgICAgKTtcbiAgICAgIHJldHVybiBhd2FpdCBvLmpzb24oKTtcbiAgICB9IGNhdGNoIChvKSB7XG4gICAgICB0KyssIGNvbnNvbGUuZXJyb3IoYEF0dGVtcHQgJHt0fSAtIEVycm9yIGZldGNoaW5nIEpXS1M6YCwgbyk7XG4gICAgfVxuICB9XG4gIHRocm93IG5ldyBFcnJvcihcIkZhaWxlZCB0byBmZXRjaCBKV0tTIGFmdGVyIG11bHRpcGxlIHJldHJpZXNcIik7XG59XG5hc3luYyBmdW5jdGlvbiBTKGUsIHIsIHQpIHtcbiAgdCAmJiBkLmRlbGV0ZShyKTtcbiAgbGV0IG4gPSBkLmdldChyKTtcbiAgbiB8fCAobiA9IGF3YWl0IEEociksIGQuc2V0KHIsIG4pKTtcbiAgdHJ5IHtcbiAgICByZXR1cm4gYXdhaXQgRShlLCBKU09OLnN0cmluZ2lmeShuKSksIHsgdmFsaWQ6ICEwLCBtZXNzYWdlOiBcIlRva2VuIGlzIHZhbGlkXCIgfTtcbiAgfSBjYXRjaCAoYSkge1xuICAgIHJldHVybiB0ID8ge1xuICAgICAgdmFsaWQ6ICExLFxuICAgICAgbWVzc2FnZTogYSBpbnN0YW5jZW9mIEVycm9yID8gYS5tZXNzYWdlIDogXCJVbmtub3duIEVycm9yXCJcbiAgICB9IDogUyhlLCByLCAhMCk7XG4gIH1cbn1cbmFzeW5jIGZ1bmN0aW9uIEUoZSwgcikge1xuICBjb25zdCBbdCwgbiwgYV0gPSBlLnNwbGl0KFwiLlwiKSwgayA9IEpTT04ucGFyc2UoYXRvYih0KSkua2lkLCBpID0gSihyLCBrKTtcbiAgaWYgKCFpIHx8IGkua3R5ICE9PSBcIlJTQVwiIHx8ICFpLm4gfHwgIWkuZSB8fCBpLnVzZSAhPT0gXCJzaWdcIilcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIEpXSyBSU0Ega2V5XCIpO1xuICBjb25zdCBjID0gYigpO1xuICBpZiAoYyAhPSBudWxsICYmIGMuc3VidGxlKSB7XG4gICAgY29uc3QgbCA9IG0oaS5uKSwgdSA9IG0oaS5lKSwgZiA9IHtcbiAgICAgIG5hbWU6IFwiUlNBU1NBLVBLQ1MxLXYxXzVcIixcbiAgICAgIGhhc2g6IHsgbmFtZTogXCJTSEEtMjU2XCIgfVxuICAgIH07XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHMgPSB7XG4gICAgICAgIGt0eTogXCJSU0FcIixcbiAgICAgICAgbjogcChsKSxcbiAgICAgICAgZTogcCh1KSxcbiAgICAgICAgYWxnOiBcIlJTMjU2XCJcbiAgICAgIH0sIHcgPSBhd2FpdCBjLnN1YnRsZS5pbXBvcnRLZXkoXG4gICAgICAgIFwiandrXCIsXG4gICAgICAgIHMsXG4gICAgICAgIGYsXG4gICAgICAgICEwLFxuICAgICAgICBbXCJ2ZXJpZnlcIl1cbiAgICAgICksIGggPSB0ICsgXCIuXCIgKyBuLCBnID0gaihhKSwgeSA9IGF3YWl0IGMuc3VidGxlLnZlcmlmeShcbiAgICAgICAgZixcbiAgICAgICAgdyxcbiAgICAgICAgZyxcbiAgICAgICAgbmV3IFRleHRFbmNvZGVyKCkuZW5jb2RlKGgpXG4gICAgICApO1xuICAgICAgaWYgKCF5KVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJTaWduYXR1cmUgdmVyaWZpY2F0aW9uIGZhaWxlZFwiKTtcbiAgICAgIHJldHVybiB5O1xuICAgIH0gY2F0Y2ggKHMpIHtcbiAgICAgIHRocm93IHM7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGNvbnN0IHsgS0pVUjogbCwgS0VZVVRJTDogdSwgYjY0dXRvdXRmODogZiB9ID0gYXdhaXQgaW1wb3J0KFwiLi9qc3JzYXNpZ24tQjJnWklKaFkuanNcIikudGhlbigoZykgPT4gZy5qKSwgcyA9IEpTT04ucGFyc2UoZih0KSk7XG4gICAgaWYgKHMuYWxnICE9PSBcIlJTMjU2XCIpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbnN1cHBvcnRlZCBzaWduYXR1cmUgYWxnb3JpdGhtOiBcIiArIHMpO1xuICAgIGNvbnN0IHcgPSB1LmdldEtleShpKTtcbiAgICBpZiAoIWwuandzLkpXUy52ZXJpZnlKV1QoXG4gICAgICBlLFxuICAgICAgdyxcbiAgICAgIHsgYWxnOiBbXCJSUzI1NlwiXSB9XG4gICAgICAvLyBBZGp1c3QgaWYgdXNpbmcgYSBkaWZmZXJlbnQgYWxnb3JpdGhtXG4gICAgKSlcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlNpZ25hdHVyZSB2ZXJpZmljYXRpb24gZmFpbGVkXCIpO1xuICAgIHJldHVybiAhMDtcbiAgfVxufVxuZnVuY3Rpb24gcChlKSB7XG4gIGxldCByID0gZS50b1N0cmluZygxNik7XG4gIHIubGVuZ3RoICUgMiAhPT0gMCAmJiAociA9IFwiMFwiICsgcik7XG4gIGNvbnN0IHQgPSBuZXcgVWludDhBcnJheShcbiAgICByLm1hdGNoKC8uezEsMn0vZykubWFwKChhKSA9PiBwYXJzZUludChhLCAxNikpXG4gICk7XG4gIHJldHVybiBidG9hKFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCwgQXJyYXkuZnJvbSh0KSkpLnJlcGxhY2UoL1xcKy9nLCBcIi1cIikucmVwbGFjZSgvXFwvL2csIFwiX1wiKS5yZXBsYWNlKC89KyQvLCBcIlwiKTtcbn1cbmZ1bmN0aW9uIEooZSwgcikge1xuICBjb25zdCB0ID0gSlNPTi5wYXJzZShlKTtcbiAgZm9yIChjb25zdCBuIG9mIHQua2V5cylcbiAgICBpZiAobi5raWQgPT09IHIpXG4gICAgICByZXR1cm4gbjtcbiAgdGhyb3cgbmV3IEVycm9yKGBKV0sgbm90IGZvdW5kJHtyID8gYCBmb3Iga2lkICR7cn1gIDogXCJcIn1gKTtcbn1cbmZ1bmN0aW9uIG0oZSkge1xuICBlID0gZS5yZXBsYWNlKC9bXkEtWmEtejAtOVxcLV9dL2csIFwiXCIpLCBlICs9IEFycmF5LmZyb20oXG4gICAgeyBsZW5ndGg6ICg0IC0gZS5sZW5ndGggJSA0KSAlIDQgfSxcbiAgICAoKSA9PiBcIj1cIlxuICApLmpvaW4oXCJcIik7XG4gIGNvbnN0IHIgPSBlLnJlcGxhY2UoLy0vZywgXCIrXCIpLnJlcGxhY2UoL18vZywgXCIvXCIpO1xuICBsZXQgdDtcbiAgdHJ5IHtcbiAgICB0ID0gYXRvYihyKTtcbiAgfSBjYXRjaCAobykge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgQmFzZTY0IHN0cmluZzogXCIgKyBvLm1lc3NhZ2UpO1xuICB9XG4gIGNvbnN0IG4gPSBBcnJheS5mcm9tKFxuICAgIHQsXG4gICAgKG8pID0+IG8uY2hhckNvZGVBdCgwKS50b1N0cmluZygxNikucGFkU3RhcnQoMiwgXCIwXCIpXG4gICkuam9pbihcIlwiKTtcbiAgaWYgKG4udG9Mb3dlckNhc2UoKSA9PT0gXCJmZmZmZmZmZmZmZmZmZmZmXCIgfHwgbi50b0xvd2VyQ2FzZSgpID09PSBcIjdmZjAwMDAwMDAwMDAwMDBcIilcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJEZWNvZGVkIHZhbHVlIHJlcHJlc2VudHMgTmFOIG9yIEluZmluaXR5XCIpO1xuICBjb25zdCBhID0gbi5yZXBsYWNlKC9eMCsvLCBcIlwiKTtcbiAgcmV0dXJuIEJpZ0ludChcIjB4XCIgKyBhIHx8IFwiMFwiKTtcbn1cbmZ1bmN0aW9uIGooZSkge1xuICByZXR1cm4gVWludDhBcnJheS5mcm9tKFxuICAgIGF0b2IoZS5yZXBsYWNlKC8tL2csIFwiK1wiKS5yZXBsYWNlKC9fL2csIFwiL1wiKSksXG4gICAgKHIpID0+IHIuY2hhckNvZGVBdCgwKVxuICApO1xufVxuY29uc3QgdiA9IGFzeW5jIChlKSA9PiBlLnRva2VuID8gZS5kb21haW4gPyBlLnRva2VuLnNwbGl0KFwiLlwiKS5sZW5ndGggIT09IDMgPyB7IHZhbGlkOiAhMSwgbWVzc2FnZTogXCJJbnZhbGlkIEpXVCBmb3JtYXRcIiB9IDogYXdhaXQgUyhlLnRva2VuLCBlLmRvbWFpbikgOiB7IHZhbGlkOiAhMSwgbWVzc2FnZTogXCJEb21haW4gaXMgcmVxdWlyZWRcIiB9IDogeyB2YWxpZDogITEsIG1lc3NhZ2U6IFwiVG9rZW4gaXMgcmVxdWlyZWRcIiB9O1xuZXhwb3J0IHtcbiAgdiBhcyB2YWxpZGF0ZVRva2VuXG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@kinde/jwt-validator/dist/jwt-validator.js\n");

/***/ })

};
;